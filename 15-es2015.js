(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{OHUZ:function(n,t,i){"use strict";i.r(t),i.d(t,"SignupModule",(function(){return v}));var o=i("2kYt"),e=i("nIj0"),r=i("Tu4v"),s=i("K8Gv"),b=i("8j5Y"),a=i("EM62"),c=i("sEIs"),p=i("U6NZ"),u=i("5VY1"),l=i("mybp"),g=i("1spV"),m=i("duTG"),d=i("ZTwM"),h=i("JbzU");function f(n,t){1&n&&a.Ob(0,"i",17)}function T(n,t){1&n&&a.Ob(0,"i",18),2&n&&a.jc("nzType","sync")("nzSpin",!0)}let z=(()=>{class n{constructor(n,t,i,o,e,r){this.router=n,this.aRouter=t,this.user=i,this.nzModal=o,this.alert=e,this.fb=r,this.isAsyncLogin=!1}ngOnInit(){this.aRouter.queryParamMap.pipe(Object(b.a)(n=>{n.get("pass")!==this.getPassAdmin()&&this.nzModal.error({nzTitle:"C\u1ea3nh b\xe1o",nzContent:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u truy c\u1eadp.",nzOkText:"Oki",nzOnOk:()=>"oki",nzClosable:!1,nzCancelDisabled:!0}).afterClose.subscribe(n=>{this.router.navigate(["/","login"])})})).subscribe(n=>{this.form=this.fb.group({name:[void 0,e.s.required],email:[void 0,e.s.required],token:[void 0,e.s.required],pwd_ts24:[void 0,e.s.required]})})}getPassAdmin(){return`@${new o.d("en-US").transform(new Date,"yyyyMMdd")}!p@ssW0rd`}onSignUp(){if(this.form.invalid)return void this.alert.warning("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin.");this.isAsyncLogin=!0;let n=this.form.getRawValue(),t=Object.assign(Object.assign({},n),{pwd_sys:n.token});this.user.createUser(t).subscribe(()=>{this.alert.success(`T\u1ea1o t\xe0i kho\u1ea3n th\xe0nh c\xf4ng. <b>M\u1eadt kh\u1ea9u l\xe0: ${n.token}</b>`),this.router.navigate(["/","tickets"],{queryParams:{set_default:1}}),this.isAsyncLogin=!1},n=>{s.e.log("onSignUp()",n),this.isAsyncLogin=!1})}}return n.\u0275fac=function(t){return new(t||n)(a.Nb(c.d),a.Nb(c.a),a.Nb(r.a),a.Nb(p.c),a.Nb(u.b),a.Nb(e.e))},n.\u0275cmp=a.Hb({type:n,selectors:[["app-signup"]],decls:43,vars:5,consts:[[1,"signup-form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","form-group"],["for","name"],[1,"required"],["nz-input","","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean","id","name","formControlName","name",1,"form-control"],["for","email"],["nz-input","","placeholder","Nh\u1eadp e-mail","id","email","formControlName","email",1,"form-control"],["for","token"],["nz-input","","placeholder","Nh\u1eadp m\xe3 -> vd: NQNGOC","id","token","formControlName","token",1,"form-control"],["for","pwd_ts24"],["nz-input","","type","password","placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u TS24","id","pwd_ts24","formControlName","pwd_ts24",1,"form-control"],[1,"col-12"],["nz-button","",1,"btnLogin",3,"nzType","disabled"],["nz-icon","","nzType","login","theme","outline",4,"ngIf"],["nz-icon","",3,"nzType","nzSpin",4,"ngIf"],["nz-checkbox","","formControlName","remember",1,"float-right"],["nz-icon","","nzType","login","theme","outline"],["nz-icon","",3,"nzType","nzSpin"]],template:function(n,t){1&n&&(a.Tb(0,"form",0),a.ac("ngSubmit",(function(){return t.onSignUp()})),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Tb(3,"label",3),a.Dc(4,"H\u1ecd v\xe0 T\xean "),a.Tb(5,"span",4),a.Dc(6,"(*)"),a.Sb(),a.Dc(7,": "),a.Sb(),a.Tb(8,"nz-input-group"),a.Ob(9,"input",5),a.Sb(),a.Sb(),a.Tb(10,"div",2),a.Tb(11,"label",6),a.Dc(12,"E-mail"),a.Tb(13,"span",4),a.Dc(14,"(*)"),a.Sb(),a.Dc(15,": "),a.Sb(),a.Tb(16,"nz-input-group"),a.Ob(17,"input",7),a.Sb(),a.Sb(),a.Tb(18,"div",2),a.Tb(19,"label",8),a.Dc(20,"Token"),a.Tb(21,"span",4),a.Dc(22,"(*)"),a.Sb(),a.Dc(23,": "),a.Sb(),a.Tb(24,"nz-input-group"),a.Ob(25,"input",9),a.Sb(),a.Sb(),a.Tb(26,"div",2),a.Tb(27,"label",10),a.Dc(28,"MK TS24"),a.Tb(29,"span",4),a.Dc(30,"(*)"),a.Sb(),a.Dc(31,": "),a.Sb(),a.Tb(32,"nz-input-group"),a.Ob(33,"input",11),a.Sb(),a.Sb(),a.Sb(),a.Tb(34,"div",1),a.Tb(35,"div",12),a.Tb(36,"button",13),a.Bc(37,f,1,0,"i",14),a.Bc(38,T,1,2,"i",15),a.Tb(39,"span"),a.Dc(40,"\u0110\u0103ng k\xfd"),a.Sb(),a.Sb(),a.Tb(41,"label",16),a.Dc(42,"Ghi nh\u1edb"),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&n&&(a.jc("formGroup",t.form),a.zb(36),a.jc("nzType","primary")("disabled",t.isAsyncLogin),a.zb(1),a.jc("ngIf",!t.isAsyncLogin),a.zb(1),a.jc("ngIf",t.isAsyncLogin))},directives:[e.t,e.m,e.h,l.c,g.a,l.b,e.d,e.l,e.g,m.a,d.a,o.n,h.a],styles:[".signup-form[_ngcontent-%COMP%]{max-width:300px;margin:50px auto auto}.signup-form[_ngcontent-%COMP%]   [nz-button][_ngcontent-%COMP%]{margin-right:0}.signup-form[_ngcontent-%COMP%]   .btnLogin[_ngcontent-%COMP%]{width:49%;float:left}.signup-form[_ngcontent-%COMP%]   .btnLogin.btnGoogle[_ngcontent-%COMP%]{margin-left:6px}"]}),n})();var S=i("vobO");const y=[{path:"",component:z}];let v=(()=>{class n{}return n.\u0275mod=a.Lb({type:n}),n.\u0275inj=a.Kb({factory:function(t){return new(t||n)},imports:[[o.b,c.g.forChild(y),S.d,e.i,e.q,l.e,m.c,h.b,u.a]]}),n})()}}]);