!function(){function t(e,n,r){return(t=h()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function e(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,r||t)}function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=h();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/vgl":function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},0:function(t,e,n){t.exports=n("zUnb")},"01vk":function(t,e,n){"use strict";n.d(e,"d",(function(){return E})),n.d(e,"a",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"i",(function(){return O})),n.d(e,"h",(function(){return b}));var r,o,i=n("WdQX"),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(t){this.groupColumns=[];var e=t.valueService,n=t.gridOptionsWrapper,r=t.processCellCallback,o=t.processHeaderCallback,i=t.processGroupHeaderCallback,s=t.processRowGroupCallback;this.columnController=t.columnController,this.valueService=e,this.gridOptionsWrapper=n,this.processCellCallback=r,this.processHeaderCallback=o,this.processGroupHeaderCallback=i,this.processRowGroupCallback=s}return t.prototype.prepare=function(t){this.groupColumns=i.ib.filter(t,(function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,r){var o,i=this.gridOptionsWrapper.isGroupMultiAutoColumn()?r.rowGroupIndex:0;o=r&&r.group&&(e===i&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(t,r);var s=this.processCell(r,t,o,this.processCellCallback,n);return null!=s?s:""},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},t.prototype.processCell=function(t,e,n,r,o){return r?r({column:e,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},t}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var n=e.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=this.gridOptionsWrapper.getContext(),u=this.columnController.isPivotMode(),c=this.rowModel.getType()===i.v.ROW_MODEL_TYPE_CLIENT_SIDE,p=!c&&e.onlySelected,h=[];if(h=i.ib.existsAndNotEmpty(e.columnKeys)?this.columnController.getGridColumns(e.columnKeys):e.allColumns&&!u?(h=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([i.v.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),e.customHeader&&t.addCustomContent(e.customHeader),t.prepare(h),e.columnGroups){var d=new i.E,f=this.displayedGroupCreator.createDisplayedGroups(h,this.columnController.getGridBalancedTree(),d,null);this.recursivelyAddHeaderGroups(f,t,e.processGroupHeaderCallback)}if(!e.skipHeader){var g=t.onNewHeaderRow();h.forEach((function(t,e){g.onColumn(t,e,void 0)}))}function y(i){if((!i.group||!e.skipGroups&&(1!==i.allChildrenCount||!(s||a&&i.leafGroup)))&&(!e.skipFooters||!i.footer)&&(!e.onlySelected||i.isSelected())&&(!e.skipPinnedTop||"top"!==i.rowPinned)&&(!e.skipPinnedBottom||"bottom"!==i.rowPinned)&&(-1!==i.level||i.leafGroup)&&!n({node:i,api:r,context:l})){var u=t.onNewBodyRow();if(h.forEach((function(t,e){u.onColumn(t,e,i)})),e.getCustomContentBelowRow){var c=e.getCustomContentBelowRow({node:i,api:r,columnApi:o,context:l});c&&t.addCustomContent(c)}}}return this.pinnedRowModel.forEachPinnedTopRow(y),u?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(y):this.rowModel.forEachNode(y):e.onlySelectedAllPages||p?this.selectionController.getSelectedNodes().forEach((function(t){y(t)})):c?this.rowModel.forEachNodeAfterFilterAndSort(y):this.rowModel.forEachNode(y),this.pinnedRowModel.forEachPinnedBottomRow(y),e.customFooter&&t.addCustomContent(e.customFooter),t.parse()},e.prototype.recursivelyAddHeaderGroups=function(t,e,n){var r=[];t.forEach((function(t){t.getChildren&&t.getChildren().forEach((function(t){return r.push(t)}))})),t.length>0&&t[0]instanceof i.s&&this.doAddHeaderHeader(e,t,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,e,n)},e.prototype.doAddHeaderHeader=function(t,e,n){var r=this,o=t.onNewHeaderGroupingRow(),i=0;e.forEach((function(t){var e,s=t;e=n?n({columnGroup:s,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnController.getDisplayNameForColumnGroup(s,"header"),o.onColumn(e||"",i++,s.getLeafColumns().length-1)}))},a([Object(i.k)("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),a([Object(i.k)("columnController")],e.prototype,"columnController",void 0),a([Object(i.k)("rowModel")],e.prototype,"rowModel",void 0),a([Object(i.k)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),a([Object(i.k)("selectionController")],e.prototype,"selectionController",void 0),a([Object(i.k)("columnFactory")],e.prototype,"columnFactory",void 0),a([Object(i.m)("gridSerializer")],e)}(i.n);!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(o||(o={}));var c,p,h,d=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},g=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var r=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=r,n}return d(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,i.v.EXPORT_TYPE_CSV,n))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(l),y=function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParamsAndData(t),n=e.mergedParams,r=e.data,o=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(r)),r},t.prototype.getData=function(t){return this.getMergedParamsAndData(t).data},t.prototype.getMergedParamsAndData=function(t){var e=this.mergeDefaultParams(t);return{mergedParams:e,data:this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}},t.prototype.mergeDefaultParams=function(t){var e=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return i.ib.assign(n,e),i.ib.assign(n,t),n},t.prototype.packageFile=function(t){return new Blob(["\ufeff",t],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},t}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t){return this.getData(t)},e.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){return new g({columnController:this.columnController,valueService:this.valueService,gridOptionsWrapper:this.gridOptionsWrapper,processCellCallback:t.processCellCallback||void 0,processHeaderCallback:t.processHeaderCallback||void 0,processGroupHeaderCallback:t.processGroupHeaderCallback||void 0,processRowGroupCallback:t.processRowGroupCallback||void 0,suppressQuotes:t.suppressQuotes||!1,columnSeparator:t.columnSeparator||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},f([Object(i.k)("columnController")],e.prototype,"columnController",void 0),f([Object(i.k)("valueService")],e.prototype,"valueService",void 0),f([Object(i.k)("downloader")],e.prototype,"downloader",void 0),f([Object(i.k)("gridSerializer")],e.prototype,"gridSerializer",void 0),f([Object(i.k)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),f([i.Q],e.prototype,"postConstruct",null),f([Object(i.m)("csvCreator")],e)}(y),m=function(){function t(){}return t.prototype.download=function(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a"),r=window.URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout((function(){window.URL.revokeObjectURL(r)}),0)}},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Object(i.m)("downloader")],t)}(),C=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.prototype.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},e.prototype.createXml=function(t,e){var n=this,r="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(o){r+=n.returnAttributeIfPopulated(t.prefix+o,t.map[o],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(o){r+=n.returnAttributeIfPopulated(o,t.properties.rawMap[o],e)})));var o="<"+t.name+r;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach((function(t){o+=n.createXml(t,e)})),o+"</"+t.name+">\r\n"):o+"/>\r\n"},e.prototype.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var r=e;return"boolean"==typeof e&&n&&(r=n(e))," "+t+'="'+r+'"'},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Object(i.m)("xmlFactory")],e)}(i.n),w=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.folders=[],e.files=[],e.addFolder=function(t){e.folders.push({path:t,created:new Date})},e}return w(e,t),e.prototype.addFolders=function(t){t.forEach(this.addFolder)},e.prototype.addFile=function(t,e){this.files.push({path:t,created:new Date,content:e})},e.prototype.clearStream=function(){this.folders=[],this.files=[]},e.prototype.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},e.prototype.buildFileStream=function(t){void 0===t&&(t="");for(var e=this.folders.concat(this.files),n=e.length,r="",o=0,i=0,s=0,a=e;s<a.length;s++){var l=this.getHeader(a[s],o),u=l.fileHeader,c=l.folderHeader,p=l.content;o+=u.length+p.length,i+=c.length,t+=u+p,r+=c}return t+r+this.buildFolderEnd(n,i,o)},e.prototype.getHeader=function(t,e){var n=t.content,r=t.path,o=t.created,s=i.ib.decToHex,a=(0,i.ib.utf8_encode)(r),l=a!==r,u=this.convertTime(o),c=this.convertDate(o),p="";if(l){var h=s(1,1)+s(this.getFromCrc32Table(a),4)+a;p="up"+s(h.length,2)+h}var d="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+s(u,2)+s(c,2)+s(n?this.getFromCrc32Table(n):0,4)+s(n?n.length:0,4)+s(n?n.length:0,4)+s(a.length,2)+s(p.length,2);return{fileHeader:"PK\x03\x04"+d+a+p,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+s(e,4)+a+p,content:n||""}},e.prototype.buildFolderEnd=function(t,e,n){var r=i.ib.decToHex;return"PK\x05\x06\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+"\0\0"},e.prototype.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},e.prototype.getFromCrc32Table=function(t,e){if(void 0===e&&(e=0),!t.length)return 0;e^=-1;for(var n=0,r=0;r<t.length;r++)n=t.charCodeAt(r),e=e>>>8^_[255&(e^n)];return-1^e},e.prototype.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},e.prototype.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Object(i.m)("zipContainer")],e)}(i.n),E={moduleName:i.K.CsvExportModule,beans:[v,m,b,u,O]}},"1MAX":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("dUuy"),o=n("i9P/"),i=n("sWLk"),s=n("qEfY"),a=n("eY+9"),l=n("/vgl"),u=n("X0qr"),c=function(t){if(t&&"function"==typeof t[s.a])return c=t,function(t){var e=c[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(l.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,o.a),t};if(t&&"function"==typeof t[i.a])return e=t,function(t){for(var n=e[i.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,c,p=Object(u.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(p," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},"1spV":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("cZZj"),o=n("EM62"),i=function(){var t=function(){function t(e,n){f(this,t),this.elementRef=e,this.renderer=n,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}return y(t,[{key:"setHiddenAttribute",value:function(){!0===this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):!1===this.hidden||null===this.hidden?this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden"):"string"==typeof this.hidden&&this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden)}},{key:"ngOnChanges",value:function(){this.setHiddenAttribute()}},{key:"ngAfterViewInit",value:function(){this.setHiddenAttribute()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Nb(o.l),o.Nb(o.E))},t.\u0275dir=o.Ib({type:t,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[o.xb]}),t}(),s=function(){var t=function t(){f(this,t)};return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[r.b]]}),t}()},"25CY":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2kYt":function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return xt})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return kt})),n.d(e,"e",(function(){return Dt})),n.d(e,"f",(function(){return F})),n.d(e,"g",(function(){return k})),n.d(e,"h",(function(){return At})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return A})),n.d(e,"k",(function(){return S})),n.d(e,"l",(function(){return gt})),n.d(e,"m",(function(){return vt})),n.d(e,"n",(function(){return Ct})),n.d(e,"o",(function(){return Pt})),n.d(e,"p",(function(){return Ot})),n.d(e,"q",(function(){return Et})),n.d(e,"r",(function(){return St})),n.d(e,"s",(function(){return Tt})),n.d(e,"t",(function(){return R})),n.d(e,"u",(function(){return g})),n.d(e,"v",(function(){return M})),n.d(e,"w",(function(){return Ft})),n.d(e,"x",(function(){return tt})),n.d(e,"y",(function(){return G})),n.d(e,"z",(function(){return It})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return Nt})),n.d(e,"C",(function(){return l})),n.d(e,"D",(function(){return ft})),n.d(e,"E",(function(){return p}));var i=n("EM62"),s=null;function l(){return s}function p(t){s||(s=t)}var h=function t(){f(this,t)},d=new i.q("DocumentToken"),g=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:v,token:t,providedIn:"platform"}),t}();function v(){return Object(i.Xb)(C)}var m=new i.q("Location Initialized"),C=function(){var t=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return y(n,[{key:"_init",value:function(){this.location=l().getLocation(),this._history=l().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){b()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){b()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(g);return t.\u0275fac=function(e){return new(e||t)(i.Xb(d))},t.\u0275prov=Object(i.Jb)({factory:w,token:t,providedIn:"platform"}),t}();function b(){return!!window.history.pushState}function w(){return new C(Object(i.Xb)(d))}function _(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function O(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function E(t){return t&&"?"!==t[0]?"?"+t:t}var S=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:P,token:t,providedIn:"root"}),t}();function P(t){var e=Object(i.Xb)(d).location;return new R(Object(i.Xb)(g),e&&e.origin||"")}var T=new i.q("appBaseHref"),R=function(){var t=function(t){a(n,t);var e=u(n);function n(t,r){var o;if(f(this,n),(o=e.call(this))._platformLocation=t,null==r&&(r=o._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=r,c(o)}return y(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return _(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+E(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var o=this.prepareExternalUrl(n+E(r));this._platformLocation.pushState(t,e,o)}},{key:"replaceState",value:function(t,e,n,r){var o=this.prepareExternalUrl(n+E(r));this._platformLocation.replaceState(t,e,o)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(S);return t.\u0275fac=function(e){return new(e||t)(i.Xb(g),i.Xb(T,8))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),k=function(){var t=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this))._platformLocation=t,o._baseHref="",null!=r&&(o._baseHref=r),o}return y(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=_(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var o=this.prepareExternalUrl(n+E(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)}},{key:"replaceState",value:function(t,e,n,r){var o=this.prepareExternalUrl(n+E(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(S);return t.\u0275fac=function(e){return new(e||t)(i.Xb(g),i.Xb(T,8))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),A=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=O(x(o)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return y(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+E(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+E(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+E(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(S),i.Xb(g))},t.normalizeQueryParams=E,t.joinWithSlash=_,t.stripTrailingSlash=O,t.\u0275prov=Object(i.Jb)({factory:D,token:t,providedIn:"root"}),t}();function D(){return new A(Object(i.Xb)(S),Object(i.Xb)(g))}function x(t){return t.replace(/\/index.html$/,"")}var N=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),F=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),M=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),L=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),j=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function G(t,e,n){var r=Object(i.jb)(t),o=K([r[i.ab.DayPeriodsFormat],r[i.ab.DayPeriodsStandalone]],e);return K(o,n)}function V(t,e){return K(Object(i.jb)(t)[i.ab.DateFormat],e)}function W(t,e){return K(Object(i.jb)(t)[i.ab.TimeFormat],e)}function B(t,e){return K(Object(i.jb)(t)[i.ab.DateTimeFormat],e)}function H(t,e){var n=Object(i.jb)(t),r=n[i.ab.NumberSymbols][e];if(void 0===r){if(e===j.CurrencyDecimal)return n[i.ab.NumberSymbols][j.Decimal];if(e===j.CurrencyGroup)return n[i.ab.NumberSymbols][j.Group]}return r}var z=i.mb;function U(t){if(!t[i.ab.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[i.ab.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function K(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Y(t){var e=o(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var q=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,X={},Q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),J=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),$=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function tt(t,e,n,r){var s=function(t){if(ut(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=o(t.split("-").map((function(t){return+t})),3),i=r[0],s=r[1],a=r[2];return new Date(i,s-1,a)}if(e=t.match(q))return function(t){var e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,s,a,l,u),e}(e)}var l=new Date(t);if(!ut(l))throw new Error('Unable to convert "'.concat(t,'" into a date'));return l}(t);e=function t(e,n){var r=function(t){return Object(i.jb)(t)[i.ab.LocaleId]}(e);if(X[r]=X[r]||{},X[r][n])return X[r][n];var o="";switch(n){case"shortDate":o=V(e,L.Short);break;case"mediumDate":o=V(e,L.Medium);break;case"longDate":o=V(e,L.Long);break;case"fullDate":o=V(e,L.Full);break;case"shortTime":o=W(e,L.Short);break;case"mediumTime":o=W(e,L.Medium);break;case"longTime":o=W(e,L.Long);break;case"fullTime":o=W(e,L.Full);break;case"short":var s=t(e,"shortTime"),a=t(e,"shortDate");o=et(B(e,L.Short),[s,a]);break;case"medium":var l=t(e,"mediumTime"),u=t(e,"mediumDate");o=et(B(e,L.Medium),[l,u]);break;case"long":var c=t(e,"longTime"),p=t(e,"longDate");o=et(B(e,L.Long),[c,p]);break;case"full":var h=t(e,"fullTime"),d=t(e,"fullDate");o=et(B(e,L.Full),[h,d])}return o&&(X[r][n]=o),o}(n,e)||e;for(var a,l=[];e;){if(!(a=Q.exec(e))){l.push(e);break}var u=(l=l.concat(a.slice(1))).pop();if(!u)break;e=u}var c=s.getTimezoneOffset();r&&(c=lt(r,c),s=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(lt(e,r)-r))}(s,r));var p="";return l.forEach((function(t){var e=function(t){if(at[t])return at[t];var e;switch(t){case"G":case"GG":case"GGG":e=ot($.Eras,M.Abbreviated);break;case"GGGG":e=ot($.Eras,M.Wide);break;case"GGGGG":e=ot($.Eras,M.Narrow);break;case"y":e=rt(J.FullYear,1,0,!1,!0);break;case"yy":e=rt(J.FullYear,2,0,!0,!0);break;case"yyy":e=rt(J.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(J.FullYear,4,0,!1,!0);break;case"M":case"L":e=rt(J.Month,1,1);break;case"MM":case"LL":e=rt(J.Month,2,1);break;case"MMM":e=ot($.Months,M.Abbreviated);break;case"MMMM":e=ot($.Months,M.Wide);break;case"MMMMM":e=ot($.Months,M.Narrow);break;case"LLL":e=ot($.Months,M.Abbreviated,F.Standalone);break;case"LLLL":e=ot($.Months,M.Wide,F.Standalone);break;case"LLLLL":e=ot($.Months,M.Narrow,F.Standalone);break;case"w":e=st(1);break;case"ww":e=st(2);break;case"W":e=st(1,!0);break;case"d":e=rt(J.Date,1);break;case"dd":e=rt(J.Date,2);break;case"E":case"EE":case"EEE":e=ot($.Days,M.Abbreviated);break;case"EEEE":e=ot($.Days,M.Wide);break;case"EEEEE":e=ot($.Days,M.Narrow);break;case"EEEEEE":e=ot($.Days,M.Short);break;case"a":case"aa":case"aaa":e=ot($.DayPeriods,M.Abbreviated);break;case"aaaa":e=ot($.DayPeriods,M.Wide);break;case"aaaaa":e=ot($.DayPeriods,M.Narrow);break;case"b":case"bb":case"bbb":e=ot($.DayPeriods,M.Abbreviated,F.Standalone,!0);break;case"bbbb":e=ot($.DayPeriods,M.Wide,F.Standalone,!0);break;case"bbbbb":e=ot($.DayPeriods,M.Narrow,F.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot($.DayPeriods,M.Abbreviated,F.Format,!0);break;case"BBBB":e=ot($.DayPeriods,M.Wide,F.Format,!0);break;case"BBBBB":e=ot($.DayPeriods,M.Narrow,F.Format,!0);break;case"h":e=rt(J.Hours,1,-12);break;case"hh":e=rt(J.Hours,2,-12);break;case"H":e=rt(J.Hours,1);break;case"HH":e=rt(J.Hours,2);break;case"m":e=rt(J.Minutes,1);break;case"mm":e=rt(J.Minutes,2);break;case"s":e=rt(J.Seconds,1);break;case"ss":e=rt(J.Seconds,2);break;case"S":e=rt(J.FractionalSeconds,1);break;case"SS":e=rt(J.FractionalSeconds,2);break;case"SSS":e=rt(J.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=it(Z.Short);break;case"ZZZZZ":e=it(Z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=it(Z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=it(Z.Long);break;default:return null}return at[t]=e,e}(t);p+=e?e(s,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),p}function et(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,i=n));for(var s=String(t);s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),i+s}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(i,s){var a,l=function(t,e){switch(t){case J.FullYear:return e.getFullYear();case J.Month:return e.getMonth();case J.Date:return e.getDate();case J.Hours:return e.getHours();case J.Minutes:return e.getMinutes();case J.Seconds:return e.getSeconds();case J.FractionalSeconds:return e.getMilliseconds();case J.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,i);if((n>0||l>-n)&&(l+=n),t===J.Hours)0===l&&-12===n&&(l=12);else if(t===J.FractionalSeconds)return a=e,nt(l,3).substr(0,a);var u=H(s,j.MinusSign);return nt(l,e,u,r,o)}}function ot(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(s,a){return function(t,e,n,r,s,a){switch(n){case $.Months:return function(t,e,n){var r=Object(i.jb)(t),o=K([r[i.ab.MonthsFormat],r[i.ab.MonthsStandalone]],e);return K(o,n)}(e,s,r)[t.getMonth()];case $.Days:return function(t,e,n){var r=Object(i.jb)(t),o=K([r[i.ab.DaysFormat],r[i.ab.DaysStandalone]],e);return K(o,n)}(e,s,r)[t.getDay()];case $.DayPeriods:var l=t.getHours(),u=t.getMinutes();if(a){var c=function(t){var e=Object(i.jb)(t);return U(e),(e[i.ab.ExtraData][2]||[]).map((function(t){return"string"==typeof t?Y(t):[Y(t[0]),Y(t[1])]}))}(e),p=function(t,e,n){var r=Object(i.jb)(t);U(r);var o=K([r[i.ab.ExtraData][0],r[i.ab.ExtraData][1]],e)||[];return K(o,n)||[]}(e,s,r),h=c.findIndex((function(t){if(Array.isArray(t)){var e=o(t,2),n=e[0],r=e[1],i=l>=n.hours&&u>=n.minutes,s=l<r.hours||l===r.hours&&u<r.minutes;if(n.hours<r.hours){if(i&&s)return!0}else if(i||s)return!0}else if(t.hours===l&&t.minutes===u)return!0;return!1}));if(-1!==h)return p[h]}return G(e,s,r)[l<12?0:1];case $.Eras:return function(t,e){return K(Object(i.jb)(t)[i.ab.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,a,t,e,n,r)}}function it(t){return function(e,n,r){var o=-1*r,i=H(n,j.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case Z.Short:return(o>=0?"+":"")+nt(s,2,i)+nt(Math.abs(o%60),2,i);case Z.ShortGMT:return"GMT"+(o>=0?"+":"")+nt(s,1,i);case Z.Long:return"GMT"+(o>=0?"+":"")+nt(s,2,i)+":"+nt(Math.abs(o%60),2,i);case Z.Extended:return 0===r?"Z":(o>=0?"+":"")+nt(s,2,i)+":"+nt(Math.abs(o%60),2,i);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function st(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o,i,s,a;if(e){var l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();o=1+Math.floor((u+l)/7)}else{var c=(i=n.getFullYear(),s=new Date(i,0,1).getDay(),new Date(i,0,1+(s<=4?4:11)-s)),p=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-c.getTime();o=1+Math.round(p/6048e5)}return nt(o,t,H(r,j.MinusSign))}}var at={};function lt(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ut(t){return t instanceof Date&&!isNaN(t.valueOf())}var ct=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pt(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var ht=function t(){f(this,t)},dt=function(){var t=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return y(n,[{key:"getPluralCategory",value:function(t,e){switch(z(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}]),n}(ht);return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.u))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}();function ft(t,e){e=encodeURIComponent(e);var n,i=r(t.split(";"));try{for(i.s();!(n=i.n()).done;){var s=n.value,a=s.indexOf("="),l=o(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),u=l[0],c=l[1];if(u.trim()===e)return decodeURIComponent(c)}}catch(p){i.e(p)}finally{i.f()}return null}var gt=function(){var t=function(){function t(e,n,r,o){f(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return y(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.ub)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.s),i.Nb(i.t),i.Nb(i.l),i.Nb(i.E))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),yt=function(){function t(e,n,r,o){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}return y(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),vt=function(){var t=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return y(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new yt(null,e._ngForOf,-1,-1),null===o?void 0:o),s=new mt(t,i);n.push(s)}else if(null==o)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,o);var l=new mt(t,a);n.push(l)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var o=0,i=this._viewContainer.length;o<i;o++){var s=this._viewContainer.get(o);s.context.index=o,s.context.count=i,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(i.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.P),i.Nb(i.L),i.Nb(i.s))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),mt=function t(e,n){f(this,t),this.record=e,this.view=n},Ct=function(){var t=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return y(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){wt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){wt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.P),i.Nb(i.L))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),bt=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function wt(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(i.ub)(e),"'."))}var _t=function(){function t(e,n){f(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return y(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Ot=function(){var t=function(){function t(){f(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return y(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ib({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t}(),Et=function(){var t=function(){function t(e,n,r){f(this,t),this.ngSwitch=r,r._addCase(),this._view=new _t(e,n)}return y(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.P),i.Nb(i.L),i.Nb(Ot,1))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t}(),St=function(){var t=function t(e,n,r){f(this,t),r._addDefault(new _t(e,n))};return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.P),i.Nb(i.L),i.Nb(Ot,1))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngSwitchDefault",""]]}),t}(),Pt=function(){var t=function(){function t(e,n,r){f(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return y(t,[{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=o(t.split("."),2),r=n[0],i=n[1];null!=(e=null!=e&&i?"".concat(e).concat(i):e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))}},{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.t),i.Nb(i.E))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}(),Tt=function(){var t=function(){function t(e){f(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return y(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var o,i=r(n);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(-1===e.indexOf(s))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.P))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.xb]}),t}();function Rt(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(i.ub)(t),"'"))}var kt=function(){var t=function(){function t(e){f(this,t),this.locale=e}return y(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return tt(e,n,o||this.locale,r)}catch(i){throw Rt(t,i.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.u))},t.\u0275pipe=i.Mb({name:"date",type:t,pure:!0}),t}(),At=function(){var t=function(){function t(){f(this,t)}return y(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"json",type:t,pure:!1}),t}(),Dt=function(){var t=function(){function t(e){f(this,t),this._locale=e}return y(t,[{key:"transform",value:function(e,n,r){if(function(t){return null==t||""===t||t!=t}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,o,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a="",l=!1;if(isFinite(t)){var u=function(t){var e,n,r,o,i,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(i=s.length))e=[0],n=1;else{for(i--;"0"===s.charAt(i);)i--;for(n-=r,e=[],o=0;r<=i;r++,o++)e[o]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(u=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));var c=e.minInt,p=e.minFrac,h=e.maxFrac;if(i){var d=i.match(ct);if(null===d)throw new Error(i+" is not a valid digit info");var f=d[1],g=d[3],y=d[5];null!=f&&(c=pt(f)),null!=g&&(p=pt(g)),null!=y?h=pt(y):null!=g&&p>h&&(h=p)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(var l=s;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(var u=1;u<s;u++)r[u]=0}if(a>=5)if(s-1<0){for(var c=0;c>s;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);var p=0!==i,h=e+t.integerLen,d=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,p&&(0===r[n]&&n>=h?r.pop():p=!1),e>=10?1:0}),0);d&&(r.unshift(d),t.integerLen++)}(u,p,h);var v=u.digits,m=u.integerLen,C=u.exponent,b=[];for(l=v.every((function(t){return!t}));m<c;m++)v.unshift(0);for(;m<0;m++)v.unshift(0);m>0?b=v.splice(m,v.length):(b=v,v=[0]);var w=[];for(v.length>=e.lgSize&&w.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)w.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&w.unshift(v.join("")),a=w.join(H(n,r)),b.length&&(a+=H(n,o)+b.join("")),C&&(a+=H(n,j.Exponential)+"+"+C)}else a=H(n,j.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf}(t,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),o=r[0],i=r[1],s=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(var u=0;u<l.length;u++){var c=l.charAt(u);"0"===c?n.minFrac=n.maxFrac=u+1:"#"===c?n.maxFrac=u+1:n.posSuf+=c}var p=a.split(",");if(n.gSize=p[1]?p[1].length:0,n.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,i){var h=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf("#");n.negPre=i.substr(0,d).replace(/'/g,""),n.negSuf=i.substr(d+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(i.jb)(t)[i.ab.NumberFormats][e]}(e,N.Decimal),H(e,j.MinusSign)),e,j.Group,j.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),r,n)}catch(o){throw Rt(t,o.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.u))},t.\u0275pipe=i.Mb({name:"number",type:t,pure:!0}),t}(),xt=function(){var t=function t(){f(this,t)};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[{provide:ht,useClass:dt}]}),t}(),Nt="browser";function It(t){return t===Nt}var Ft=function(){var t=function t(){f(this,t)};return t.\u0275prov=Object(i.Jb)({token:t,providedIn:"root",factory:function(){return new Mt(Object(i.Xb)(d),window,Object(i.Xb)(i.m))}}),t}(),Mt=function(){function t(e,n,r){f(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return y(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=Lt(this.window.history)||Lt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function Lt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},"2mfu":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("U6NZ"),o=n("5VY1"),i=n("qBiZ"),s=n("8SNO"),a=n("X5xC"),l=n("EM62"),u=function(){var t=function(){function t(e){f(this,t),this.inj=e}return y(t,[{key:"cfig",value:function(){return this.get(i.a)}},{key:"shared",value:function(){return this.get(s.a)}},{key:"client",value:function(){return this.get(a.a)}},{key:"alert",value:function(){return this.get(o.b)}},{key:"modal",value:function(){return this.get(r.c)}},{key:"get",value:function(t){return this.inj.get(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Xb(l.r))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"3lSR":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("cJ9h"),o=n("5E2i");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(o.a,t)}},"47ST":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("IdLP");function o(t,e){return new r.a(e?function(n){return e.schedule(i,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function i(t){var e=t.error;t.subscriber.error(e)}},"4ZgP":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={isTestMode:!1}},"4e/d":function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var o=r("pBDD"),i=r("r9RI"),s=r("mW0F");function l(t){return function(e){var n=new c(t),r=e.lift(n);return n.caught=r}}var c=function(){function t(e){f(this,t),this.selector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.selector,this.caught))}}]),t}(),p=function(t){a(r,t);var e=u(r);function r(t,n,o){var i;return f(this,r),(i=e.call(this,t)).selector=n,i.caught=o,i}return y(r,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(l){return void n(d(r.prototype),"error",this).call(this,l)}this._unsubscribeAndRecycle();var o=new i.a(this,void 0,void 0);this.add(o);var a=Object(s.a)(this,e,void 0,void 0,o);a!==o&&this.add(a)}}}]),r}(o.a)},"5E2i":function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},"5VY1":function(t,n,r){"use strict";r.d(n,"a",(function(){return F})),r.d(n,"b",(function(){return N}));var o=r("Sv/w"),i=r("EM62"),s=r("ZTXN"),l=r("HYj3"),c=r("bCsd"),p=r("7ucf"),h=r("kuMc"),d=r("2kYt"),g=r("kZKz"),v=r("JbzU"),m=r("ZXq0"),C=r("UPS/");function b(t,e){if(1&t){var n=i.Ub();i.Tb(0,"nz-message",2),i.ac("destroyed",(function(t){return i.sc(n),i.dc().remove(t.id,t.userAction)})),i.Sb()}2&t&&i.jc("instance",e.$implicit)}function w(t,e){1&t&&i.Ob(0,"i",10)}function _(t,e){1&t&&i.Ob(0,"i",11)}function O(t,e){1&t&&i.Ob(0,"i",12)}function E(t,e){1&t&&i.Ob(0,"i",13)}function S(t,e){1&t&&i.Ob(0,"i",14)}function P(t,e){if(1&t&&(i.Rb(0),i.Ob(1,"span",15),i.Qb()),2&t){var n=i.dc();i.zb(1),i.jc("innerHTML",n.instance.content,i.tc)}}var T=0,R=function(){var t=function(){function t(e,n){f(this,t),this.cdr=e,this.nzConfigService=n,this.instances=[],this.destroy$=new s.a,this.updateConfig()}return y(t,[{key:"ngOnInit",value:function(){this.subscribeConfigChange()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"create",value:function(t){var n=this.onCreate(t);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[].concat(e(this.instances),[n]),this.readyInstances(),n}},{key:"remove",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.instances.some((function(o,i){return o.messageId===t&&(n.instances.splice(i,1),n.instances=e(n.instances),n.onRemove(o,r),n.readyInstances(),!0)}))}},{key:"removeAll",value:function(){var t=this;this.instances.forEach((function(e){return t.onRemove(e,!1)})),this.instances=[],this.readyInstances()}},{key:"onCreate",value:function(t){return t.options=this.mergeOptions(t.options),t.onClose=new s.a,t}},{key:"onRemove",value:function(t,e){t.onClose.next(e),t.onClose.complete()}},{key:"readyInstances",value:function(){this.cdr.detectChanges()}},{key:"mergeOptions",value:function(t){var e=this.config,n=e.nzDuration,r=e.nzAnimate,o=e.nzPauseOnHover;return Object.assign({nzDuration:n,nzAnimate:r,nzPauseOnHover:o},t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.h),i.Nb(C.a))},t.\u0275dir=i.Ib({type:t}),t}(),k=function(){var t=function(){function t(e){f(this,t),this.cdr=e,this.destroyed=new i.n,this.eraseTimer=null}return y(t,[{key:"ngOnInit",value:function(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter"),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}},{key:"ngOnDestroy",value:function(){this.autoClose&&this.clearEraseTimeout()}},{key:"onEnter",value:function(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}},{key:"onLeave",value:function(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}},{key:"destroy",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),setTimeout((function(){t.destroyed.next({id:t.instance.messageId,userAction:e})}),200)):this.destroyed.next({id:this.instance.messageId,userAction:e})}},{key:"initErase",value:function(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}},{key:"updateTTL",value:function(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}},{key:"startEraseTimeout",value:function(){var t=this;this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout((function(){return t.destroy()}),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}},{key:"clearEraseTimeout",value:function(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.h))},t.\u0275dir=i.Ib({type:t}),t}(),A={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24},D=function(){var t=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t,r)).destroy$=new s.a,o.instances=[],o}return y(n,[{key:"subscribeConfigChange",value:function(){var t=this;this.nzConfigService.getConfigChangeEventForComponent("message").pipe(Object(h.a)(this.destroy$)).subscribe((function(){return t.updateConfig()}))}},{key:"updateConfig",value:function(){this.config=Object.assign(Object.assign(Object.assign({},A),this.config),this.nzConfigService.getConfigForComponent("message")),this.top=Object(p.n)(this.config.nzTop),this.cdr.markForCheck()}}]),n}(R);return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.h),i.Nb(C.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[i.wb],decls:2,vars:3,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Bc(1,b,1,1,"nz-message",1),i.Sb()),2&t&&(i.yc("top",e.top),i.zb(1),i.jc("ngForOf",e.instances))},directives:function(){return[d.m,I]},encapsulation:2,changeDetection:0}),t}(),x=function(){var t=function t(){f(this,t)};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)}}),t}(),N=function(){var t=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t,r,o)).componentPrefix="message-",i}return y(n,[{key:"success",value:function(t,e){return this.createInstance({type:"success",content:t},e)}},{key:"error",value:function(t,e){return this.createInstance({type:"error",content:t},e)}},{key:"info",value:function(t,e){return this.createInstance({type:"info",content:t},e)}},{key:"warning",value:function(t,e){return this.createInstance({type:"warning",content:t},e)}},{key:"loading",value:function(t,e){return this.createInstance({type:"loading",content:t},e)}},{key:"create",value:function(t,e,n){return this.createInstance({type:t,content:e},n)}},{key:"createInstance",value:function(t,e){return this.container=this.withContainer(D),this.container.create(Object.assign(Object.assign({},t),{createdAt:new Date,messageId:this.getInstanceId(),options:e}))}}]),n}(function(){function t(e,n,r){f(this,t),this.nzSingletonService=e,this.overlay=n,this.injector=r}return y(t,[{key:"remove",value:function(t){this.container&&(t?this.container.remove(t):this.container.removeAll())}},{key:"getInstanceId",value:function(){return"".concat(this.componentPrefix,"-").concat(T++)}},{key:"withContainer",value:function(t){var e=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(e)return e;var n=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),r=new o.c(t,null,this.injector),i=n.attach(r);return n.overlayElement.style.zIndex="1010",e||(this.container=e=i.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,e)),e}}]),t}());return t.\u0275fac=function(e){return new(e||t)(i.Xb(c.c),i.Xb(l.d),i.Xb(i.r))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(c.c),Object(i.Xb)(l.d),Object(i.Xb)(i.o))},token:t,providedIn:x}),t}(),I=function(){var t=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destroyed=new i.n,r}return n}(k);return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.h))},t.\u0275cmp=i.Hb({type:t,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[i.wb],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.ac("mouseenter",(function(){return e.onEnter()}))("mouseleave",(function(){return e.onLeave()})),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Rb(3,3),i.Bc(4,w,1,0,"i",4),i.Bc(5,_,1,0,"i",5),i.Bc(6,O,1,0,"i",6),i.Bc(7,E,1,0,"i",7),i.Bc(8,S,1,0,"i",8),i.Qb(),i.Bc(9,P,2,1,"ng-container",9),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.jc("@moveUpMotion",e.instance.state),i.zb(2),i.jc("ngClass","ant-message-"+e.instance.type),i.zb(1),i.jc("ngSwitch",e.instance.type),i.zb(1),i.jc("ngSwitchCase","success"),i.zb(1),i.jc("ngSwitchCase","info"),i.zb(1),i.jc("ngSwitchCase","warning"),i.zb(1),i.jc("ngSwitchCase","error"),i.zb(1),i.jc("ngSwitchCase","loading"),i.zb(1),i.jc("nzStringTemplateOutlet",e.instance.content))},directives:[d.l,d.p,d.q,g.b,v.a],encapsulation:2,data:{animation:[m.c]},changeDetection:0}),t}(),F=function(){var t=function t(){f(this,t)};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[d.b,l.f,v.b,g.a,x]]}),t}()},"5XID":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return i}));var r=n("EM62");function o(t){return null!=t&&""+t!="false"}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(t)?Number(t):e}function s(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function a(t){return Array.isArray(t)?t:[t]}function l(t){return null==t?"":"string"==typeof t?t:t+"px"}function u(t){return t instanceof r.l?t.nativeElement:t}},"5lCh":function(t,i,s){"use strict";s.d(i,"a",(function(){return Ae})),s.d(i,"b",(function(){return xe}));var l=s("EM62"),c=s("e4iD"),p=s("f7+R");function h(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function g(t){switch(t.length){case 0:return new p.d;case 1:return t[0];default:return new p.m(t)}}function v(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],l=-1,u=null;if(r.forEach((function(t){var n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case p.n:a=o[n];break;case p.a:a=i[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a})),r||a.push(c),u=c,l=n})),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return a}function m(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&C(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&C(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&C(n,"destroy",t))}))}}function C(t,e,n){var r=n.totalTime,o=b(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),i=t._data;return null!=i&&(o._data=i),o}function b(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:o,totalTime:i,disabled:!!s}}function w(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function _(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var O=function(t,e){return!1},E=function(t,e){return!1},S=function(t,e,n){return[]},P=h();(P||"undefined"!=typeof Element)&&(O=function(t,e){return t.contains(e)},E=function(){if(P||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:E}(),S=function(t,n,r){var o=[];if(r)o.push.apply(o,e(t.querySelectorAll(n)));else{var i=t.querySelector(n);i&&o.push(i)}return o});var T=null,R=!1;function k(t){T||(T=("undefined"!=typeof document?document.body:null)||{},R=!!T.style&&"WebkitAppearance"in T.style);var e=!0;return T.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in T.style)&&R)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in T.style),e}var A=E,D=O,x=S;function N(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var I,F=((I=function(){function t(){f(this,t)}return y(t,[{key:"validateStyleProperty",value:function(t){return k(t)}},{key:"matchesElement",value:function(t,e){return A(t,e)}},{key:"containsElement",value:function(t,e){return D(t,e)}},{key:"query",value:function(t,e,n){return x(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,o){return new p.d(n,r)}}]),t}()).\u0275fac=function(t){return new(t||I)},I.\u0275prov=l.Jb({token:I,factory:I.\u0275fac}),I),M=function(){var t=function t(){f(this,t)};return t.NOOP=new F,t}();function L(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:j(parseFloat(e[1]),e[2])}function j(t,e){switch(e){case"s":return 1e3*t;default:return t}}function G(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,o=0,i="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=j(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(o=j(parseFloat(a),s[4]));var l=s[5];l&&(i=l)}else r=t;if(!n){var u=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:o,easing:i}}(t,e,n)}function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else V(t,n);return n}function B(t,e,n){return n?e+":"+n+";":""}function H(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=B(0,r,t.style.getPropertyValue(r))}for(var o in t.style)t.style.hasOwnProperty(o)&&!o.startsWith("_")&&(e+=B(0,o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[o]));t.setAttribute("style",e)}function z(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var o=J(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[o]),t.style[o]=e[r]})),h()&&H(t))}function U(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=J(e);t.style[n]=""})),h()&&H(t))}function K(t){return Array.isArray(t)?1==t.length?t[0]:Object(p.g)(t):t}var Y=new RegExp("{{\\s*(.+?)\\s*}}","g");function q(t){var e=[];if("string"==typeof t){for(var n;n=Y.exec(t);)e.push(n[1]);Y.lastIndex=0}return e}function X(t,e,n){var r=t.toString(),o=r.replace(Y,(function(t,r){var o=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),o=""),o.toString()}));return o==r?t:o}function Q(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Z=/-+([a-z0-9])/g;function J(t){return t.replace(Z,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function $(t,e){return 0===t||0===e}function tt(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var o=e[0],i=[];if(r.forEach((function(t){o.hasOwnProperty(t)||i.push(t),o[t]=n[t]})),i.length)for(var s=function(){var n=e[a];i.forEach((function(e){n[e]=nt(t,e)}))},a=1;a<e.length;a++)s()}return e}function et(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function nt(t,e){return window.getComputedStyle(t)[e]}var rt=new Set(["true","1"]),ot=new Set(["false","0"]);function it(t,e){var n=rt.has(t)||ot.has(t),r=rt.has(e)||ot.has(e);return function(o,i){var s="*"==t||t==o,a="*"==e||e==i;return!s&&n&&"boolean"==typeof o&&(s=o?rt.has(t):ot.has(t)),!a&&r&&"boolean"==typeof i&&(a=i?rt.has(e):ot.has(e)),s&&a}}var st=new RegExp("s*:selfs*,?","g");function at(t,e,n){return new lt(t).build(e,n)}var lt=function(){function t(e){f(this,t),this._driver=e}return y(t,[{key:"build",value:function(t,e){var n=new ut(e);return this._resetContextStyleTimingState(n),et(this,K(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,o=e.depCount=0,i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,l=a.name;l.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,i.push(n.visitState(a,e))})),a.name=l}else if(1==t.type){var u=n.visitTransition(t,e);r+=u.queryCount,o+=u.depCount,s.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:i,transitions:s,queryCount:r,depCount:o,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var o=new Set,i=r||{};if(n.styles.forEach((function(t){if(ct(t)){var e=t;Object.keys(e).forEach((function(t){q(e[t]).forEach((function(t){i.hasOwnProperty(t)||o.add(t)}))}))}})),o.size){var s=Q(o.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,o,i=et(this,K(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,o=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var o=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var i=o[1],s=o[2],a=o[3];e.push(it(i,a)),"<"!=s[0]||"*"==i&&"*"==a||e.push(it(a,i))}(t,o,r)})):o.push(n),o),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:pt(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return et(n,t,e)})),options:pt(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,o=0,i=t.steps.map((function(t){e.currentTime=r;var i=et(n,t,e);return o=Math.max(o,e.currentTime),i}));return e.currentTime=o,{type:3,steps:i,options:pt(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ht(G(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var o=ht(0,0,"");return o.dynamic=!0,o.strValue=r,o}return ht((n=n||G(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var o=t.styles?t.styles:Object(p.j)({});if(5==o.type)n=this.visitKeyframes(o,e);else{var i=t.styles,s=!1;if(!i){s=!0;var a={};r.easing&&(a.easing=r.easing),i=Object(p.j)(a)}e.currentTime+=r.duration+r.delay;var l=this.visitStyle(i,e);l.isEmptyStep=s,n=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==p.a?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,o=null;return n.forEach((function(t){if(ct(t)){var e=t,n=e.easing;if(n&&(o=n,delete e.easing),!r)for(var i in e)if(e[i].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,o=e.currentTime,i=e.currentTime;r&&i>0&&(i-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,l,u,c,p=e.collectedStyles[e.currentQuerySelector],h=p[r],d=!0;h&&(i!=o&&i>=h.startTime&&o<=h.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(h.startTime,'ms" and "').concat(h.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(i,'ms" and "').concat(o,'ms"')),d=!1),i=h.startTime),d&&(p[r]={startTime:i,endTime:o}),e.options&&(s=t[r],a=e.options,l=e.errors,u=a.params||{},(c=q(s)).length&&c.forEach((function(t){u.hasOwnProperty(t)||l.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var o=0,i=[],s=!1,a=!1,l=0,u=t.steps.map((function(t){var r=n._makeStyleAst(t,e),u=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(ct(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(ct(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=u&&(o++,c=r.offset=u),a=a||c<0||c>1,s=s||c<l,l=c,i.push(c),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,p=0;o>0&&o<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(p=1/(c-1));var h=c-1,d=e.currentTime,f=e.currentAnimateTimings,g=f.duration;return u.forEach((function(t,o){var s=p>0?o==h?1:p*o:i[o],a=s*g;e.currentTime=d+f.delay+a,f.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:et(this,K(t.animation),e),options:pt(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:pt(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:pt(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=o(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(st,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),s=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+s:s,w(e.collectedStyles,e.currentQuerySelector,{});var l=et(this,K(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:pt(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:G(t.timings,e.errors,!0);return{type:12,animation:et(this,K(t.animation),e),timings:n,options:null}}}]),t}(),ut=function t(e){f(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function ct(t){return!Array.isArray(t)&&"object"==typeof t}function pt(t){var e;return t?(t=V(t)).params&&(t.params=(e=t.params)?V(e):null):t={},t}function ht(t,e,n){return{duration:t,delay:e,easing:n}}function dt(t,e,n,r,o,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:o,delay:i,totalTime:o+i,easing:s,subTimeline:a}}var ft=function(){function t(){f(this,t),this._map=new Map}return y(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,n){var r,o=this._map.get(t);o||this._map.set(t,o=[]),(r=o).push.apply(r,e(n))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),gt=new RegExp(":enter","g"),yt=new RegExp(":leave","g");function vt(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new mt).buildKeyframes(t,e,n,r,o,i,s,a,l,u)}var mt=function(){function t(){f(this,t)}return y(t,[{key:"buildKeyframes",value:function(t,e,n,r,o,i,s,a,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new ft;var c=new bt(t,e,l,r,o,u,[]);c.options=a,c.currentTimeline.setStyles([i],null,c.errors,a),et(this,n,c);var p=c.timelines.filter((function(t){return t.containsAnimation()}));if(p.length&&Object.keys(s).length){var h=p[p.length-1];h.allowOnlyTimelineStyles()||h.setStyles([s],null,c.errors,a)}return p.length?p.map((function(t){return t.buildKeyframes()})):[dt(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,i=this._visitSubInstructions(n,r,r.options);o!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,o=null!=n.duration?L(n.duration):null,i=null!=n.delay?L(n.delay):null;return 0!==o&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,o,i);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),et(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,o=e,i=t.options;if(i&&(i.params||i.delay)&&((o=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ct);var s=L(i.delay);o.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return et(n,t,o)})),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],o=e.currentTimeline.currentTime,i=t.options&&t.options.delay?L(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);i&&a.delayNextStep(i),et(n,s,a),o=Math.max(o,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(o),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return G(e.params?X(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,i=e.createSubContext().currentTimeline;i.easing=n.easing,t.styles.forEach((function(t){i.forwardTime((t.offset||0)*o),i.setStyles(t.styles,t.easing,e.errors,e.options),i.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(i),e.transformIntoNewTimeline(r+o),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,o=t.options||{},i=o.delay?L(o.delay):0;i&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ct);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=a.length;var l=null;a.forEach((function(r,o){e.currentQueryIndex=o;var a=e.createSubContext(t.options,r);i&&a.delayNextStep(i),r===e.element&&(l=a.currentTimeline),et(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,o=t.timings,i=Math.abs(o.duration),s=i*(e.currentQueryTotal-1),a=i*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var l=e.currentTimeline;a&&l.delayNextStep(a);var u=l.currentTime;et(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}]),t}(),Ct={},bt=function(){function t(e,n,r,o,i,s,a,l){f(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=i,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ct,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new wt(this._driver,n,0),a.push(this.currentTimeline)}return y(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,o=this.options;null!=r.duration&&(o.duration=L(r.duration)),null!=r.delay&&(o.delay=L(r.delay));var i=r.params;if(i){var s=o.params;s||(s=this.options.params={}),Object.keys(i).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=X(i[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=n||this.element,i=new t(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Ct,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},o=new _t(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,n,r,o,i,s){var a=[];if(o&&a.push(this.element),t.length>0){t=(t=t.replace(gt,"."+this._enterClassName)).replace(yt,"."+this._leaveClassName);var l=this._driver.query(this.element,t,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push.apply(a,e(l))}return i||0!=a.length||s.push('`query("'.concat(n,'")` returned zero elements. (Use `query("').concat(n,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),wt=function(){function t(e,n,r,o){f(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return y(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||p.a,e._currentKeyframe[t]=p.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var o=this;e&&(this._previousKeyframe.easing=e);var i=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]=p.a})):W(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=X(s[t],i,n);o._pendingStyles[t]=e,o._localTimelineStyles.hasOwnProperty(t)||(o._backFill[t]=o._globalTimelineStyles.hasOwnProperty(t)?o._globalTimelineStyles[t]:p.a),o._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],o=t._styleSummary[n];(!r||o.time>r.time)&&e._updateStyle(n,o.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach((function(i,s){var a=W(i,!0);Object.keys(a).forEach((function(t){var r=a[t];r==p.n?e.add(t):r==p.a&&n.add(t)})),r||(a.offset=s/t.duration),o.push(a)}));var i=e.size?Q(e.values()):[],s=n.size?Q(n.values()):[];if(r){var a=o[0],l=V(a);a.offset=0,l.offset=1,o=[a,l]}return dt(this.element,o,i,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),_t=function(t){a(n,t);var e=u(n);function n(t,r,o,i,s,a){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),(l=e.call(this,t,r,a.delay)).element=r,l.keyframes=o,l.preStyleProps=i,l.postStyleProps=s,l._stretchStartingKeyframe=u,l.timings={duration:a.duration,delay:a.delay,easing:a.easing},l}return y(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,o=e.easing;if(this._stretchStartingKeyframe&&n){var i=[],s=r+n,a=n/s,l=W(t[0],!1);l.offset=0,i.push(l);var u=W(t[0],!1);u.offset=Ot(a),i.push(u);for(var c=t.length-1,p=1;p<=c;p++){var h=W(t[p],!1);h.offset=Ot((n+h.offset*r)/s),i.push(h)}r=s,n=0,o="",t=i}return dt(this.element,t,this.preStyleProps,this.postStyleProps,r,n,o,!0)}}]),n}(wt);function Ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Et,St,Pt=function t(){f(this,t)},Tt=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"normalizePropertyName",value:function(t,e){return J(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var o="",i=n.toString().trim();if(Rt[e]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return i+o}}]),n}(Pt),Rt=(Et="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),St={},Et.forEach((function(t){return St[t]=!0})),St);function kt(t,e,n,r,o,i,s,a,l,u,c,p,h){return{type:0,element:t,triggerName:e,isRemovalTransition:o,fromState:n,fromStyles:i,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:p,errors:h}}var At={},Dt=function(){function t(e,n,r){f(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return y(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,o){return t.some((function(t){return t(e,n,r,o)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],o=this._stateStyles[t],i=r?r.buildStyles(e,n):{};return o?o.buildStyles(e,n):i}},{key:"build",value:function(t,e,n,r,o,i,s,a,l,u){var c=[],p=this.ast.options&&this.ast.options.params||At,h=this.buildStyles(n,s&&s.params||At,c),d=a&&a.params||At,f=this.buildStyles(r,d,c),g=new Set,y=new Map,v=new Map,m="void"===r,C={params:Object.assign(Object.assign({},p),d)},b=u?[]:vt(t,e,this.ast.animation,o,i,h,f,C,l,c),_=0;if(b.forEach((function(t){_=Math.max(t.duration+t.delay,_)})),c.length)return kt(e,this._triggerName,n,r,m,h,f,[],[],y,v,_,c);b.forEach((function(t){var n=t.element,r=w(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var o=w(v,n,{});t.postStyleProps.forEach((function(t){return o[t]=!0})),n!==e&&g.add(n)}));var O=Q(g.values());return kt(e,this._triggerName,n,r,m,h,f,b,O,y,v,_)}}]),t}(),xt=function(){function t(e,n){f(this,t),this.styles=e,this.defaultParams=n}return y(t,[{key:"buildStyles",value:function(t,e){var n={},r=V(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var o=t;Object.keys(o).forEach((function(t){var i=o[t];i.length>1&&(i=X(i,r,e)),n[t]=i}))}})),n}}]),t}(),Nt=function(){function t(e,n){var r=this;f(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new xt(t.style,t.options&&t.options.params||{})})),It(this.states,"true","1"),It(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new Dt(e,t,r.states))})),this.fallbackTransition=new Dt(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return y(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(o){return o.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function It(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Ft=new ft,Mt=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return y(t,[{key:"register",value:function(t,e){var n=[],r=at(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,o=v(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[],s=this._animations[t],a=new Map;if(s?(n=vt(this._driver,e,s,"ng-enter","ng-leave",{},{},o,Ft,i)).forEach((function(t){var e=w(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(i.push("The requested animation doesn't exist or has already been destroyed"),n=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,p.a)}))}));var l=g(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=l,l.onDestroy((function(){return r.destroy(t)})),this.players.push(l),l}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var o=b(e,"","","");return m(this._getPlayer(t),n,o,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Lt=[],jt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(this,t),this.namespaceId=n;var r,o=e&&e.hasOwnProperty("value");if(this.value=null!=(r=o?e.value:e)?r:null,o){var i=V(e);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return y(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Wt=new Vt("void"),Bt=function(){function t(e,n,r){f(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xt(n,this._hostClassName)}return y(t,[{key:"listen",value:function(t,e,n,r){var o,i=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(o=n)&&"done"!=o)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=w(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var l=w(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(Xt(t,"ng-trigger"),Xt(t,"ng-trigger-"+e),l[e]=Wt),function(){i._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),i._triggers[e]||delete l[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this._getTrigger(e),s=new zt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Xt(t,"ng-trigger"),Xt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var l=a[e],u=new Vt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[e]=u,l||(l=Wt),"void"===u.value||l.value!==u.value){var c=w(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var p=i.matchTransition(l.value,u.value,t,u.params),h=!1;if(!p){if(!o)return;p=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:u,player:s,isFallbackTransition:h}),h||(Xt(t,"ng-animate-queued"),s.onStart((function(){Qt(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var o=n.indexOf(s);o>=0&&n.splice(o,1)}})),this.players.push(s),c.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(l.params,u.params)){var d=[],f=i.matchStyles(l.value,l.params,d),g=i.matchStyles(u.value,u.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){U(t,f),z(t,g)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var o=this,i=this._engine.statesByElement.get(t);if(i){var s=[];if(Object.keys(i).forEach((function(e){if(o._triggers[e]){var n=o.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&g(s).onDone((function(){return o._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var o=n.name;if(!r.has(o)){r.add(o);var i=e._triggers[o].fallbackTransition,s=e._engine.statesByElement.get(t)[o]||Wt,a=new Vt("void"),l=new zt(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:i,fromState:s,toState:a,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var o=!1;if(r.totalAnimations){var i=r.players.length?r.playersByQueriedElement.get(t):[];if(i&&i.length)o=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){o=!0;break}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{var a=t.__ng_removed;a&&a!==jt||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Xt(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var o=r.player;if(!o.destroyed){var i=r.element,s=e._elementListeners.get(i);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=b(i,r.triggerName,r.fromState.value,r.toState.value);n._data=t,m(r.player,e.phase,n,e.callback)}})),o.markedForDestroy?e._engine.afterFlush((function(){o.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,o=n.transition.ast.depCount;return 0==r||0==o?r-o:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Ht=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return y(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Bt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),o=0;o<r.length;o++){var i=n[r[o]].namespaceId;if(i){var s=this._fetchNamespace(i);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Ut(e)){var o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Ut(e)){var o=e.__ng_removed;if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var i=this.collectedLeaveElements.indexOf(e);i>=0&&this.collectedLeaveElements.splice(i,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xt(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qt(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Ut(e)){var o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var i=this.namespacesByHostElement.get(e);i&&i.id!==t&&i.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,o){return Ut(e)?this._fetchNamespace(t).listen(e,n,r,o):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return g(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=jt,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Xt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{n=this._flushAnimations(o,e)}finally{for(var i=0;i<o.length;i++)o[i]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?g(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,n){var r=this,o=new ft,i=[],s=new Map,a=[],l=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach((function(t){h.add(t);for(var e=r.driver.query(t,".ng-animate-queued",!0),n=0;n<e.length;n++)h.add(e[n])}));var d=this.bodyNode,f=Array.from(this.statesByElement.keys()),y=qt(f,this.collectedEnterElements),v=new Map,m=0;y.forEach((function(t,e){var n="ng-enter"+m++;v.set(e,n),t.forEach((function(t){return Xt(t,n)}))}));for(var C=[],b=new Set,_=new Set,O=0;O<this.collectedLeaveElements.length;O++){var E=this.collectedLeaveElements[O],S=E.__ng_removed;S&&S.setForRemoval&&(C.push(E),b.add(E),S.hasAnimation?this.driver.query(E,".ng-star-inserted",!0).forEach((function(t){return b.add(t)})):_.add(E))}var P=new Map,T=qt(f,Array.from(b));T.forEach((function(t,e){var n="ng-leave"+m++;P.set(e,n),t.forEach((function(t){return Xt(t,n)}))})),t.push((function(){y.forEach((function(t,e){var n=v.get(e);t.forEach((function(t){return Qt(t,n)}))})),T.forEach((function(t,e){var n=P.get(e);t.forEach((function(t){return Qt(t,n)}))})),C.forEach((function(t){r.processLeaveNode(t)}))}));for(var R=[],k=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(n).forEach((function(t){var e=t.player,n=t.element;if(R.push(e),r.collectedEnterElements.length){var s=n.__ng_removed;if(s&&s.setForMove)return void e.destroy()}var p=!d||!r.driver.containsElement(d,n),h=P.get(n),f=v.get(n),g=r._buildInstruction(t,o,f,h,p);if(g.errors&&g.errors.length)k.push(g);else{if(p)return e.onStart((function(){return U(n,g.fromStyles)})),e.onDestroy((function(){return z(n,g.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return U(n,g.fromStyles)})),e.onDestroy((function(){return z(n,g.toStyles)})),void i.push(e);g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),o.append(n,g.timelines),a.push({instruction:g,player:e,element:n}),g.queriedElements.forEach((function(t){return w(l,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(k.length){var D=[];k.forEach((function(t){D.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return D.push("- ".concat(t,"\n"))}))})),R.forEach((function(t){return t.destroy()})),this.reportError(D)}var x=new Map,N=new Map;a.forEach((function(t){var e=t.element;o.has(e)&&(N.set(e,e),r._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))})),i.forEach((function(t){var e=t.element;r._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){w(x,e,[]).push(t),t.destroy()}))}));var I=C.filter((function(t){return Jt(t,u,c)})),F=new Map;Yt(F,this.driver,_,c,p.a).forEach((function(t){Jt(t,u,c)&&I.push(t)}));var M=new Map;y.forEach((function(t,e){Yt(M,r.driver,new Set(t),u,p.n)})),I.forEach((function(t){var e=F.get(t),n=M.get(t);F.set(t,Object.assign(Object.assign({},e),n))}));var L=[],j=[],G={};a.forEach((function(t){var e=t.element,n=t.player,a=t.instruction;if(o.has(e)){if(h.has(e))return n.onDestroy((function(){return z(e,a.toStyles)})),n.disabled=!0,n.overrideTotalTime(a.totalTime),void i.push(n);var l=G;if(N.size>1){for(var u=e,c=[];u=u.parentNode;){var p=N.get(u);if(p){l=p;break}c.push(u)}c.forEach((function(t){return N.set(t,l)}))}var d=r._buildAnimation(n.namespaceId,a,x,s,M,F);if(n.setRealPlayer(d),l===G)L.push(n);else{var f=r.playersByElement.get(l);f&&f.length&&(n.parentPlayer=g(f)),i.push(n)}}else U(e,a.fromStyles),n.onDestroy((function(){return z(e,a.toStyles)})),j.push(n),h.has(e)&&i.push(n)})),j.forEach((function(t){var e=s.get(t.element);if(e&&e.length){var n=g(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var V=0;V<C.length;V++){var W=C[V],B=W.__ng_removed;if(Qt(W,"ng-leave"),!B||!B.hasAnimation){var H=[];if(l.size){var K=l.get(W);K&&K.length&&H.push.apply(H,e(K));for(var Y=this.driver.query(W,".ng-animating",!0),q=0;q<Y.length;q++){var X=l.get(Y[q]);X&&X.length&&H.push.apply(H,e(X))}}var Q=H.filter((function(t){return!t.destroyed}));Q.length?Zt(this,W,Q):this.processLeaveNode(W)}}return C.length=0,L.forEach((function(t){r.players.push(t),t.onDone((function(){t.destroy();var e=r.players.indexOf(t);r.players.splice(e,1)})),t.play()})),L}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,o){var i=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(i=s)}else{var a=this.playersByElement.get(t);if(a){var l=!o||"void"==o;a.forEach((function(t){t.queued||(l||t.triggerName==r)&&i.push(t)}))}}return(n||r)&&(i=i.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),i}},{key:"_beforeAnimationBuild",value:function(t,e,n){var o,i=this,s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName,u=r(e.timelines);try{var c=function(){var t=o.value.element,r=t!==s,u=w(n,t,[]);i._getPreviousPlayers(t,r,a,l,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)}))};for(u.s();!(o=u.n()).done;)c()}catch(p){u.e(p)}finally{u.f()}U(s,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,o,i){var s=this,a=e.triggerName,l=e.element,u=[],c=new Set,h=new Set,d=e.timelines.map((function(e){var d=e.element;c.add(d);var f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new p.d(e.duration,e.delay);var g,y,m=d!==l,C=(g=(n.get(d)||Lt).map((function(t){return t.getRealPlayer()})),y=[],function t(e,n){for(var r=0;r<e.length;r++){var o=e[r];o instanceof p.m?t(o.players,n):n.push(o)}}(g,y),y).filter((function(t){return!!t.element&&t.element===d})),b=o.get(d),w=i.get(d),_=v(0,s._normalizer,0,e.keyframes,b,w),O=s._buildPlayer(e,_,C);if(e.subTimeline&&r&&h.add(d),m){var E=new zt(t,a,d);E.setRealPlayer(O),u.push(E)}return O}));u.forEach((function(t){w(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return Xt(t,"ng-animating")}));var f=g(d);return f.onDestroy((function(){c.forEach((function(t){return Qt(t,"ng-animating")})),z(l,e.toStyles)})),h.forEach((function(t){w(r,t,[]).push(f)})),f}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new p.d(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),zt=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new p.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return y(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return m(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){w(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Ut(t){return t&&1===t.nodeType}function Kt(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Yt(t,e,n,r,o){var i=[];n.forEach((function(t){return i.push(Kt(t))}));var s=[];r.forEach((function(n,r){var i={};n.forEach((function(t){var n=i[t]=e.computeStyle(r,t,o);n&&0!=n.length||(r.__ng_removed=Gt,s.push(r))})),t.set(r,i)}));var a=0;return n.forEach((function(t){return Kt(t,i[a++])})),s}function qt(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),o=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var i=o.get(e);if(i)return i;var s=e.parentNode;return i=n.has(s)?s:r.has(s)?1:t(s),o.set(e,i),i}(t);1!==e&&n.get(e).push(t)})),n}function Xt(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Qt(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Zt(t,e,n){g(n).onDone((function(){return t.processLeaveNode(e)}))}function Jt(t,e,n){var r=n.get(t);if(!r)return!1;var o=e.get(t);return o?r.forEach((function(t){return o.add(t)})):e.set(t,r),n.delete(t),!0}var $t=function(){function t(e,n,r){var o=this;f(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Ht(e,n,r),this._timelineEngine=new Mt(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return o.onRemovalComplete(t,e)}}return y(t,[{key:"registerTrigger",value:function(t,e,n,r,o){var i=t+"-"+r,s=this._triggerCache[i];if(!s){var a=[],l=at(this._driver,o,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new Nt(t,e)}(r,l),this._triggerCache[i]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=o(_(n),2),s=i[0],a=i[1];this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var s=o(_(n),2),a=s[0],l=s[1];return this._timelineEngine.listen(a,e,l,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function te(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=ne(e[0]),e.length>1&&(r=ne(e[e.length-1]))):e&&(n=ne(e)),n||r?new ee(t,n,r):null}var ee=function(){var t=function(){function t(e,n,r){f(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o={}),this._initialStyles=o}return y(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&z(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(z(this._element,this._initialStyles),this._endStyles&&(z(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(U(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(U(this._element,this._endStyles),this._endStyles=null),z(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function ne(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];re(o)&&((e=e||{})[o]=t[o])}return e}function re(t){return"display"===t||"position"===t}var oe=function(){function t(e,n,r,o,i,s,a){var l=this;f(this,t),this._element=e,this._name=n,this._duration=r,this._delay=o,this._easing=i,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return y(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ce(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),ue(t,"",e),le(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){ie(this._element,this._name,"paused")}},{key:"resume",value:function(){ie(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=se(this._element,this._name);this._position=t*this._duration,ue(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),le(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=ce(t,"").split(","),r=ae(n,e);r>=0&&(n.splice(r,1),ue(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function ie(t,e,n){ue(t,"PlayState",n,se(t,e))}function se(t,e){var n=ce(t,"");return n.indexOf(",")>0?ae(n.split(","),e):ae([n],e)}function ae(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function le(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function ue(t,e,n,r){var o="animation"+e;if(null!=r){var i=t.style[o];if(i.length){var s=i.split(",");s[r]=n,n=s.join(",")}}t.style[o]=n}function ce(t,e){return t.style["animation"+e]}var pe=function(){function t(e,n,r,o,i,s,a,l){f(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=o,this._delay=i,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=o+i,this._buildStyler()}return y(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new oe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:nt(t.element,r))}))}this.currentSnapshot=e}}]),t}(),he=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this)).element=t,o._startingStyles={},o.__initialized=!1,o._styles=N(n),o}return y(r,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),n(d(r.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),n(d(r.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,n(d(r.prototype),"destroy",this).call(this))}}]),r}(p.d),de=function(){function t(){f(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return y(t,[{key:"validateStyleProperty",value:function(t){return k(t)}},{key:"matchesElement",value:function(t,e){return A(t,e)}},{key:"containsElement",value:function(t,e){return D(t,e)}},{key:"query",value:function(t,e,n){return x(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return N(t)}));var r="@keyframes ".concat(e," {\n"),o="";n.forEach((function(t){o=" ";var e=parseFloat(t.offset);r+="".concat(o).concat(100*e,"% {\n"),o+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(o,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(o).concat(e,": ").concat(n,";\n"))}})),r+=o+"}\n"})),r+="}\n";var i=document.createElement("style");return i.innerHTML=r,i}},{key:"animate",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=i.filter((function(t){return t instanceof pe})),l={};$(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=tt(t,e,l));if(0==n)return new he(t,u);var c="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(p);var h=te(t,e),d=new pe(t,e,c,n,r,o,u,h);return d.onDestroy((function(){var t;(t=p).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),fe=function(){function t(e,n,r,o){f(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return y(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:nt(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),ge=function(){function t(){f(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ye().toString()),this._cssKeyframesDriver=new de}return y(t,[{key:"validateStyleProperty",value:function(t){return k(t)}},{key:"matchesElement",value:function(t,e){return A(t,e)}},{key:"containsElement",value:function(t,e){return D(t,e)}},{key:"query",value:function(t,e,n){return x(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,o,i);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(a.easing=o);var l={},u=i.filter((function(t){return t instanceof fe}));$(n,r)&&u.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var c=te(t,e=tt(t,e=e.map((function(t){return W(t,!1)})),l));return new fe(t,e,a,c)}}]),t}();function ye(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ve,me=s("2kYt"),Ce=((ve=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.Q.None,styles:[],data:{animation:[]}}),o}return y(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Object(p.g)(t):t;return _e(this._renderer,null,e,"register",[n]),new be(e,this._renderer)}}]),n}(p.b)).\u0275fac=function(t){return new(t||ve)(l.Xb(l.F),l.Xb(me.c))},ve.\u0275prov=l.Jb({token:ve,factory:ve.\u0275fac}),ve),be=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this))._id=t,o._renderer=r,o}return y(n,[{key:"create",value:function(t,e){return new we(this._id,t,e||{},this._renderer)}}]),n}(p.c),we=function(){function t(e,n,r,o){f(this,t),this.id=e,this.element=n,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return y(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _e(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function _e(t,e,n,r,o){return t.setProperty(e,"@@".concat(n,":").concat(r),o)}var Oe,Ee,Se,Pe=((Oe=function(){function t(e,n,r){f(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return y(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var o=this._rendererCache.get(r);return o||(o=new Te("",r,this.engine),this._rendererCache.set(r,o)),o}var i=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(i,s,t,r.name,r)})),new Re(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=o(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||Oe)(l.Xb(l.F),l.Xb($t),l.Xb(l.z))},Oe.\u0275prov=l.Jb({token:Oe,factory:Oe.\u0275fac}),Oe),Te=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return y(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Re=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,r,o,i)).factory=t,s.namespaceId=r,s}return y(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,s=this;if("@"==e.charAt(0)){var a,l=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=o([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,l,u,c,(function(t){s.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(Te),ke=((Ee=function(t){a(n,t);var e=u(n);function n(t,r,o){return f(this,n),e.call(this,t.body,r,o)}return n}($t)).\u0275fac=function(t){return new(t||Ee)(l.Xb(me.c),l.Xb(M),l.Xb(Pt))},Ee.\u0275prov=l.Jb({token:Ee,factory:Ee.\u0275fac}),Ee),Ae=new l.q("AnimationModuleType"),De=[{provide:M,useFactory:function(){return"function"==typeof ye()?new ge:new de}},{provide:Ae,useValue:"BrowserAnimations"},{provide:p.b,useClass:Ce},{provide:Pt,useFactory:function(){return new Tt}},{provide:$t,useClass:ke},{provide:l.F,useFactory:function(t,e,n){return new Pe(t,e,n)},deps:[c.d,$t,l.z]}],xe=((Se=function t(){f(this,t)}).\u0275mod=l.Lb({type:Se}),Se.\u0275inj=l.Kb({factory:function(t){return new(t||Se)},providers:De,imports:[c.a]}),Se)},"5uDM":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("cJ9h");function o(t,e){return Object(r.a)(t,e,1)}},"5uGe":function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var o=r("IJgj"),i=r("rWo0"),s=r("bwdy"),l=r("25CY"),c=r("HgnN"),h=r("i9P/"),g=function(t){a(r,t);var e=u(r);function r(t,n,o){var s;switch(f(this,r),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!t){s.destination=i.a;break}if("object"==typeof t){t instanceof r?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(p(s))):(s.syncErrorThrowable=!0,s.destination=new v(p(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new v(p(s),t,n,o)}return s}return y(r,[{key:l.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,n(d(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o}}]),r}(s.a),v=function(t){a(n,t);var e=u(n);function n(t,r,s,a){var l,u;f(this,n),(l=e.call(this))._parentSubscriber=t;var c=p(l);return Object(o.a)(r)?u=r:r&&(u=r.next,s=r.error,a=r.complete,r!==i.a&&(c=Object.create(r),Object(o.a)(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(p(l)))),l._context=c,l._next=u,l._error=s,l._complete=a,l}return y(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(h.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(h.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw n;Object(h.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(h.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(g)},"6Oco":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n("IdLP"),o=new r.a((function(t){return t.complete()}));function i(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):o}},"7SLS":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5uGe");function o(t){return function(e){return e.lift(new i(t))}}var i=function(){function t(e){f(this,t),this.value=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.value))}}]),t}(),s=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).value=r,o}return y(n,[{key:"_next",value:function(t){this.destination.next(this.value)}}]),n}(r.a)},"7ntQ":function(t,e,r){"use strict";r.d(e,"a",(function(){return w}));var o=r("ZTXN"),i=r("IdLP"),s=r("5uGe"),l=r("bwdy");function c(){return function(t){return t.lift(new h(t))}}var p,h=function(){function t(e){f(this,t),this.connectable=e}return y(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new g(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o}}]),t}(),g=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).connectable=r,o}return y(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),v=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this)).source=t,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return y(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new l.a).add(this.source.subscribe(new C(this.getSubject(),this))),t.closed&&(this._connection=null,t=l.a.EMPTY)),t}},{key:"refCount",value:function(){return c()(this)}}]),n}(i.a),m={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(p=v.prototype)._subscribe},_isComplete:{value:p._isComplete,writable:!0},getSubject:{value:p.getSubject},connect:{value:p.connect},refCount:{value:p.refCount}},C=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this,t)).connectable=n,o}return y(r,[{key:"_error",value:function(t){this._unsubscribe(),n(d(r.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),n(d(r.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),r}(o.b);function b(){return new o.a}function w(){return function(t){return c()((e=b,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,m);return r.source=t,r.subjectFactory=n,r})(t));var e}}},"7ucf":function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return _})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return S})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return E})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return P}));var r=n("EM62"),o=n("5XID"),i=n("UZJT"),s=(n("ZTXN"),n("9bRT")),a=n("GoAz"),l=n("ROBh");function u(t){return null!=t}function c(t){return null==t}function p(t){return"string"==typeof t&&""!==t}function h(t){return t instanceof r.L}function d(t){return Object(o.c)(t)}function f(t){return Object(o.d)(t)}function g(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,n):t}function y(t,e){return function(n,r,o){var s="$$__"+r;return Object.prototype.hasOwnProperty.call(n,s)&&Object(i.b)('The prop "'.concat(s,'" is already exist, it will be overrided by ').concat(t," decorator.")),Object.defineProperty(n,s,{configurable:!0,writable:!0}),{get:function(){return o&&o.get?o.get.bind(this)():this[s]},set:function(t){o&&o.set&&o.set.bind(this)(e(t)),this[s]=e(t)}}}}function v(){return y("InputBoolean",d)}function m(t){return y("InputNumber",(function(e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(o.a)(t)?Number(t):e}(e,t)}))}function C(t){if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function b(t){return t.type.startsWith("touch")}function w(t){return b(t)?t.touches[0]||t.changedTouches[0]:t}function _(t){return!!t&&"function"==typeof t.then&&"function"==typeof t.catch}function O(t){return"number"==typeof t&&isFinite(t)}function E(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.reduce((function(t,e){return t+e}),e)}function P(t){return Object(s.a)(t)?t:_(t)?Object(a.a)(Promise.resolve(t)):Object(l.a)(t)}n("J+dc"),"undefined"!=typeof window&&window},"8SNO":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r,o,i=n("K8Gv"),s=n("EM62"),a=n("sEIs"),l=((r=function(){function t(e){f(this,t),this.r=e}return y(t,[{key:"allParam",value:function(){return this.r.snapshot.params}},{key:"isDebug",value:function(){return this.allParam.debug}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];!0===this.isDebug()&&e.forEach((function(t){return console.debug(t)}))}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Xb(a.a))},r.\u0275prov=s.Jb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),u=n("iy3P"),c=n("5VY1"),p=n("U6NZ"),h=((o=function(){function t(e,n,r){f(this,t),this.inj=e,this.alert=n,this.modal=r}return y(t,[{key:"showError",value:function(t,e){var n="".concat(t.msg||t.message," (M\xe3 l\u1ed7i: ").concat(t.code,")"),r=Object(i.i)(e)?{}:{nzDuration:1e3*e};this.alert.error(n,r)}},{key:"loading",value:function(t,e){return e=Object.assign({nzAnimate:!0,nzDuration:-1},e),this.alert.create("",t='<i class="fal fa-sync fa-spin"></i>'+t,e)}},{key:"encrypt",value:function(t){return t}},{key:"decrypt",value:function(t){return t}},{key:"getByKey",value:function(e){var n=localStorage.getItem(e||t.APP_CONFIG);if(!Object(i.i)(n)){var r=this.decrypt(n)||"{}";try{return JSON.parse(r)}catch(o){return r}}}},{key:"clearAll",value:function(){var t=this;Object.keys(localStorage).filter((function(e){return-1===t.NO_REMOVE_KEY.indexOf(e)})).forEach((function(t){return localStorage.removeItem(t)}))}},{key:"getBoolean",value:function(e,n){var r=localStorage.getItem(e||t.SHOW_FORM_CREATE);return Object(i.l)(r)?n:"true"===r}},{key:"setByKey",value:function(t,e){Object(i.i)(e)?localStorage.removeItem(t):("object"==typeof e&&(e=JSON.stringify(e)),localStorage.setItem(t,this.encrypt(e).toString()))}},{key:"setRememberLogin",value:function(e,n,r){!0===e?this.rememberUser={remember:e,username:n,password:r}:localStorage.removeItem(t.USER_REMEMBER)}},{key:"getRememberLogin",value:function(){return this.rememberUser}},{key:"getAppConfig",value:function(){return(new u.a).init().assign(this.getByKey("AppConfig")||{})}},{key:"navigateLogin",value:function(t,e){this.clearAll();var n=this.getAppConfig().isDev,r={isDev:!!Object(i.m)(n)||void 0,redirect_url:Object(i.i)(e)?void 0:e};t.navigate(["/","login"],{queryParams:r})}},{key:"NO_REMOVE_KEY",get:function(){return[t.USER_REMEMBER,"AppConfig"]}},{key:"LOGGER",get:function(){return this.inj.get(l)}},{key:"rememberUser",get:function(){return this.getByKey(t.USER_REMEMBER)||{}},set:function(e){this.setByKey(t.USER_REMEMBER,e)}},{key:"showFormCreate",get:function(){return this.getBoolean()},set:function(e){this.setByKey(t.SHOW_FORM_CREATE,e)}},{key:"catalogs",get:function(){return this.getByKey(t.CATALOGS)||{}},set:function(e){this.setByKey(t.CATALOGS,e)}}]),t}()).REPORT_KPI_TOKEN="REPORT_KPI_TOKEN",o.USER_REMEMBER="USER_REMEMBER",o.USER_DETAIL="USER_DETAIL",o.APP_CONFIG="APP_CONFIG",o.COLUMN_KPI="COLUMN_KPI",o.AG_GRID_KEY="AG-GRID-COLUMN-DEF",o.SYSTEM_CONFIG="SYSTEM_CONFIG",o.SHOW_FORM_CREATE="SHOW_FORM_CREATE",o.CATALOGS="CATALOGS",o.PROFILE="T2T-HELPDESK-PROFILE",o.SECRET_KEY="@!#$%^@20aF*%$+=",o.\u0275fac=function(t){return new(t||o)(s.Xb(s.r),s.Xb(c.b),s.Xb(p.c))},o.\u0275prov=s.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o)},"8j5Y":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5uGe");function o(){}var i=n("IJgj");function s(t,e,n){return function(r){return r.lift(new l(t,e,n))}}var l=function(){function t(e,n,r){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),c=function(t){a(n,t);var e=u(n);function n(t,r,s,a){var l;return f(this,n),(l=e.call(this,t))._tapNext=o,l._tapError=o,l._tapComplete=o,l._tapError=s||o,l._tapComplete=a||o,Object(i.a)(r)?(l._context=p(l),l._tapNext=r):r&&(l._context=r,l._tapNext=r.next||o,l._tapError=r.error||o,l._tapComplete=r.complete||o),l}return y(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},"9bRT":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("IdLP");function o(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},C05f:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var o=r("ZTXN"),i=r("MiDb"),s=function(t){a(r,t);var e=u(r);function r(t){var n;return f(this,r),(n=e.call(this))._value=t,n}return y(r,[{key:"_subscribe",value:function(t){var e=n(d(r.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(t){n(d(r.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),r}(o.a)},D57K:function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function o(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function s(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(e){i(e)}}function a(t){try{l(r.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s}))},D69K:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n("2kYt"),o=n("D57K"),i=n("5XID"),s=n("5lCh"),a=n("7ucf"),l=n("EM62"),u=function(){var t=function(){function t(e,n,r){f(this,t),this.element=e,this.renderer=n,this.animationType=r,this.nzNoAnimation=!1}return y(t,[{key:"ngOnChanges",value:function(){this.updateClass()}},{key:"ngAfterViewInit",value:function(){this.updateClass()}},{key:"updateClass",value:function(){var t=Object(i.e)(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,"nz-animate-disabled"):this.renderer.removeClass(t,"nz-animate-disabled"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Nb(l.l),l.Nb(l.E),l.Nb(s.a,8))},t.\u0275dir=l.Ib({type:t,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[l.xb]}),Object(o.b)([Object(a.a)(),Object(o.c)("design:type",Boolean)],t.prototype,"nzNoAnimation",void 0),t}(),c=function(){var t=function t(){f(this,t)};return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(e){return new(e||t)},imports:[[r.b]]}),t}()},"DG/E":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var o=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return y(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){a(r,t);var e=u(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.now;return f(this,r),(n=e.call(this,t,(function(){return r.delegate&&r.delegate!==p(n)?r.delegate.now():i()}))).actions=[],n.active=!1,n.scheduled=void 0,n}return y(r,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,o):n(d(r.prototype),"schedule",this).call(this,t,e,o)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),r}(o)},E5oP:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n("EM62"),o=n("2kYt"),i=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.U)(o.c)}}),s=function(){var t=function(){function t(e){if(f(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,o=(e.body?e.body.dir:null)||n;this.value="ltr"===o||"rtl"===o?o:"ltr"}}return y(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Xb(i,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(i,8))},token:t,providedIn:"root"}),t}(),a=function(){var t=function t(){f(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}()},EM62:function(i,s,l){"use strict";l.d(s,"a",(function(){return Hi})),l.d(s,"b",(function(){return iu})),l.d(s,"c",(function(){return tu})),l.d(s,"d",(function(){return Jl})),l.d(s,"e",(function(){return $l})),l.d(s,"f",(function(){return qu})),l.d(s,"g",(function(){return ju})),l.d(s,"h",(function(){return Si})),l.d(s,"i",(function(){return yu})),l.d(s,"j",(function(){return wa})),l.d(s,"k",(function(){return lu})),l.d(s,"l",(function(){return _a})),l.d(s,"m",(function(){return Gn})),l.d(s,"n",(function(){return Rl})),l.d(s,"o",(function(){return ot})),l.d(s,"p",(function(){return w})),l.d(s,"q",(function(){return rt})),l.d(s,"r",(function(){return Bi})),l.d(s,"s",(function(){return Wa})),l.d(s,"t",(function(){return Ba})),l.d(s,"u",(function(){return au})),l.d(s,"v",(function(){return mt})),l.d(s,"w",(function(){return Vu})),l.d(s,"x",(function(){return vt})),l.d(s,"y",(function(){return Nu})),l.d(s,"z",(function(){return Cu})),l.d(s,"A",(function(){return _})),l.d(s,"B",(function(){return ou})),l.d(s,"C",(function(){return ru})),l.d(s,"D",(function(){return Al})),l.d(s,"E",(function(){return Pa})),l.d(s,"F",(function(){return Ea})),l.d(s,"G",(function(){return Sa})),l.d(s,"H",(function(){return Ra})),l.d(s,"I",(function(){return Tr})),l.d(s,"J",(function(){return E})),l.d(s,"K",(function(){return Hu})),l.d(s,"L",(function(){return Ka})),l.d(s,"M",(function(){return Tu})),l.d(s,"N",(function(){return Ti})),l.d(s,"O",(function(){return ka})),l.d(s,"P",(function(){return qa})),l.d(s,"Q",(function(){return Rt})),l.d(s,"R",(function(){return Iu})),l.d(s,"S",(function(){return rr})),l.d(s,"T",(function(){return W})),l.d(s,"U",(function(){return dt})),l.d(s,"V",(function(){return nr})),l.d(s,"W",(function(){return Ku})),l.d(s,"X",(function(){return ku})),l.d(s,"Y",(function(){return su})),l.d(s,"Z",(function(){return Ri})),l.d(s,"ab",(function(){return cl})),l.d(s,"bb",(function(){return Sr})),l.d(s,"cb",(function(){return lr})),l.d(s,"db",(function(){return Yn})),l.d(s,"eb",(function(){return Xn})),l.d(s,"fb",(function(){return $n})),l.d(s,"gb",(function(){return Zn})),l.d(s,"hb",(function(){return Qn})),l.d(s,"ib",(function(){return Jn})),l.d(s,"jb",(function(){return sl})),l.d(s,"kb",(function(){return Uu})),l.d(s,"lb",(function(){return al})),l.d(s,"mb",(function(){return ll})),l.d(s,"nb",(function(){return qn})),l.d(s,"ob",(function(){return X})),l.d(s,"pb",(function(){return qi})),l.d(s,"qb",(function(){return vs})),l.d(s,"rb",(function(){return ys})),l.d(s,"sb",(function(){return il})),l.d(s,"tb",(function(){return oe})),l.d(s,"ub",(function(){return j})),l.d(s,"vb",(function(){return Kn})),l.d(s,"wb",(function(){return sa})),l.d(s,"xb",(function(){return Jt})),l.d(s,"yb",(function(){return ma})),l.d(s,"zb",(function(){return Qr})),l.d(s,"Ab",(function(){return ts})),l.d(s,"Bb",(function(){return js})),l.d(s,"Cb",(function(){return ta})),l.d(s,"Db",(function(){return ea})),l.d(s,"Eb",(function(){return na})),l.d(s,"Fb",(function(){return Ls})),l.d(s,"Gb",(function(){return Hl})),l.d(s,"Hb",(function(){return xt})),l.d(s,"Ib",(function(){return Gt})),l.d(s,"Jb",(function(){return R})),l.d(s,"Kb",(function(){return k})),l.d(s,"Lb",(function(){return Mt})),l.d(s,"Mb",(function(){return Vt})),l.d(s,"Nb",(function(){return is})),l.d(s,"Ob",(function(){return ps})),l.d(s,"Pb",(function(){return fs})),l.d(s,"Qb",(function(){return ds})),l.d(s,"Rb",(function(){return hs})),l.d(s,"Sb",(function(){return cs})),l.d(s,"Tb",(function(){return us})),l.d(s,"Ub",(function(){return gs})),l.d(s,"Vb",(function(){return Fn})),l.d(s,"Wb",(function(){return ra})),l.d(s,"Xb",(function(){return ht})),l.d(s,"Yb",(function(){return ss})),l.d(s,"Zb",(function(){return Zl})),l.d(s,"ac",(function(){return ms})),l.d(s,"bc",(function(){return Kl})),l.d(s,"cc",(function(){return Qe})),l.d(s,"dc",(function(){return Os})),l.d(s,"ec",(function(){return Ol})),l.d(s,"fc",(function(){return El})),l.d(s,"gc",(function(){return Sl})),l.d(s,"hc",(function(){return Ps})),l.d(s,"ic",(function(){return Ss})),l.d(s,"jc",(function(){return as})),l.d(s,"kc",(function(){return Ts})),l.d(s,"lc",(function(){return gl})),l.d(s,"mc",(function(){return yl})),l.d(s,"nc",(function(){return vl})),l.d(s,"oc",(function(){return ml})),l.d(s,"pc",(function(){return Cl})),l.d(s,"qc",(function(){return Gl})),l.d(s,"rc",(function(){return os})),l.d(s,"sc",(function(){return Ee})),l.d(s,"tc",(function(){return Rr})),l.d(s,"uc",(function(){return kr})),l.d(s,"vc",(function(){return Lt})),l.d(s,"wc",(function(){return zl})),l.d(s,"xc",(function(){return Vl})),l.d(s,"yc",(function(){return Ms})),l.d(s,"zc",(function(){return Cs})),l.d(s,"Ac",(function(){return oa})),l.d(s,"Bc",(function(){return rs})),l.d(s,"Cc",(function(){return Ql})),l.d(s,"Dc",(function(){return Qs})),l.d(s,"Ec",(function(){return Zs})),l.d(s,"Fc",(function(){return Js})),l.d(s,"Gc",(function(){return $s})),l.d(s,"Hc",(function(){return Wl}));var c=l("ZTXN"),h=l("bwdy"),g=l("IdLP"),v=l("g6G6"),m=l("7ntQ");function C(t){return{toString:t}.toString()}function b(e,n,r){return C((function(){var o=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(n);function i(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(this instanceof i)return o.apply(this,n),this;var s=t(i,n);return a.annotation=s,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(s),t}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var w=b("Inject",(function(t){return{token:t}})),_=b("Optional"),O=b("Self"),E=b("SkipSelf"),S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function P(t){for(var e in t)if(t[e]===P)return e;throw Error("Could not find renamed property on target object.")}function T(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function k(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function A(t){return D(t,t[N])||D(t,t[M])}function D(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(L))?t[I]:null}var N=P({"\u0275prov":P}),I=P({"\u0275inj":P}),F=P({"\u0275provFallback":P}),M=P({ngInjectableDef:P}),L=P({ngInjectorDef:P});function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function G(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var V=P({__forward_ref__:P});function W(t){return t.__forward_ref__=W,t.toString=function(){return j(this())},t}function B(t){return H(t)?t():t}function H(t){return"function"==typeof t&&t.hasOwnProperty(V)&&t.__forward_ref__===W}var z,U="undefined"!=typeof globalThis&&globalThis,K="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,X=U||q||K||Y,Q=P({"\u0275cmp":P}),Z=P({"\u0275dir":P}),J=P({"\u0275pipe":P}),$=P({"\u0275mod":P}),tt=P({"\u0275loc":P}),et=P({"\u0275fac":P}),nt=P({__NG_ELEMENT_ID__:P}),rt=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return y(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),ot=new rt("INJECTOR",-1),it={},st=/\n/gm,at=P({provide:String,useValue:P}),lt=void 0;function ut(t){var e=lt;return lt=t,e}function ct(t){var e=z;return z=t,e}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Default;if(void 0===lt)throw new Error("inject() must be called from an injection context");return null===lt?ft(t,void 0,e):lt.get(t,e&S.Optional?null:void 0,e)}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Default;return(z||pt)(B(t),e)}var dt=ht;function ft(t,e,n){var r=A(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&S.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(j(t),"]"))}function gt(t){for(var e=[],n=0;n<t.length;n++){var r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=S.Default,s=0;s<r.length;s++){var a=r[s];a instanceof _||"Optional"===a.ngMetadataName||a===_?i|=S.Optional:a instanceof E||"SkipSelf"===a.ngMetadataName||a===E?i|=S.SkipSelf:a instanceof O||"Self"===a.ngMetadataName||a===O?i|=S.Self:o=a instanceof w||a===w?a.token:a}e.push(ht(o,i))}else e.push(ht(r))}return e}var yt=function(){function t(){f(this,t)}return y(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;if(e===it){var n=new Error("NullInjectorError: No provider for ".concat(j(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),vt=function t(){f(this,t)},mt=function t(){f(this,t)};function Ct(t,e){t.forEach((function(t){return Array.isArray(t)?Ct(t,e):e(t)}))}function bt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _t(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Ot(t,e,n){var r=St(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Et(t,e){var n=St(t,e);if(n>=0)return t[1|n]}function St(t,e){return function(t,e,n){for(var r=0,o=t.length>>1;o!==r;){var i=r+(o-r>>1),s=t[i<<1];if(e===s)return i<<1;s>e?o=i:r=i+1}return~(o<<1)}(t,e)}var Pt,Tt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Rt=((Pt={})[Pt.Emulated=0]="Emulated",Pt[Pt.Native=1]="Native",Pt[Pt.None=2]="None",Pt[Pt.ShadowDom=3]="ShadowDom",Pt),kt={},At=[],Dt=0;function xt(t){return C((function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Rt.Emulated,id:"c",styles:t.styles||At,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,o=t.features,i=t.pipes;return n.id+=Dt++,n.inputs=jt(t.inputs,e),n.outputs=jt(t.outputs),o&&o.forEach((function(t){return t(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(Nt)}:null,n.pipeDefs=i?function(){return("function"==typeof i?i():i).map(It)}:null,n}))}function Nt(t){return Wt(t)||function(t){return t[Z]||null}(t)}function It(t){return function(t){return t[J]||null}(t)}var Ft={};function Mt(t){var e={type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&C((function(){Ft[t.id]=t.type})),e}function Lt(t,e){return C((function(){var n=Ht(t,!0);n.declarations=e.declarations||At,n.imports=e.imports||At,n.exports=e.exports||At}))}function jt(t,e){if(null==t)return kt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}var Gt=xt;function Vt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wt(t){return t[Q]||null}function Bt(t,e){return t.hasOwnProperty(et)?t[et]:null}function Ht(t,e){var n=t[$]||null;if(!n&&!0===e)throw new Error("Type ".concat(j(t)," does not have '\u0275mod' property."));return n}function zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function Kt(t){return 0!=(8&t.flags)}function Yt(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Xt(t){return null!==t.template}function Qt(t){return 0!=(512&t[2])}var Zt=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return y(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Jt(){return $t}function $t(t){return t.type.prototype.ngOnChanges&&(t.setInput=ee),te}function te(){var t=ne(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===kt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ee(t,e,n,r){var o=ne(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:kt,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],l=s[a];i[a]=new Zt(l&&l.currentValue,e,s===kt),t[r]=e}function ne(t){return t.__ngSimpleChanges__||null}Jt.ngInherit=!0;var re=void 0;function oe(t){re=t}function ie(){return void 0!==re?re:"undefined"!=typeof document?document:void 0}function se(t){return!!t.listen}var ae={createRenderer:function(t,e){return ie()}};function le(t){for(;Array.isArray(t);)t=t[0];return t}function ue(t,e){return le(e[t+20])}function ce(t,e){return le(e[t.index])}function pe(t,e){return t.data[e+20]}function he(t,e){return t[e+20]}function de(t,e){var n=e[t];return zt(n)?n:n[0]}function fe(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ge(t){return 4==(4&t[2])}function ye(t){return 128==(128&t[2])}function ve(t,e){return null===t||null==e?null:t[e]}function me(t){t[18]=0}function Ce(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var be={lFrame:He(null),bindingsEnabled:!0,checkNoChangesMode:!1};function we(){return be.bindingsEnabled}function _e(){return be.lFrame.lView}function Oe(){return be.lFrame.tView}function Ee(t){be.lFrame.contextLView=t}function Se(){return be.lFrame.previousOrParentTNode}function Pe(t,e){be.lFrame.previousOrParentTNode=t,be.lFrame.isParent=e}function Te(){return be.lFrame.isParent}function Re(){be.lFrame.isParent=!1}function ke(){return be.checkNoChangesMode}function Ae(t){be.checkNoChangesMode=t}function De(){var t=be.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xe(){return be.lFrame.bindingIndex}function Ne(){return be.lFrame.bindingIndex++}function Ie(t){var e=be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Fe(t,e){var n=be.lFrame;n.bindingIndex=n.bindingRootIndex=t,Me(e)}function Me(t){be.lFrame.currentDirectiveIndex=t}function Le(t){var e=be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function je(){return be.lFrame.currentQueryIndex}function Ge(t){be.lFrame.currentQueryIndex=t}function Ve(t,e){var n=Be();be.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function We(t,e){var n=Be(),r=t[1];be.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Be(){var t=be.lFrame,e=null===t?null:t.child;return null===e?He(t):e}function He(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ze(){var t=be.lFrame;return be.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Ue=ze;function Ke(){var t=ze();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ye(){return be.lFrame.selectedIndex}function qe(t){be.lFrame.selectedIndex=t}function Xe(){var t=be.lFrame;return pe(t.tView,t.selectedIndex)}function Qe(){be.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ze(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var o=t.data[n].type.prototype,i=o.ngAfterContentInit,s=o.ngAfterContentChecked,a=o.ngAfterViewInit,l=o.ngAfterViewChecked,u=o.ngOnDestroy;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),a&&(t.viewHooks||(t.viewHooks=[])).push(-n,a),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function Je(t,e,n){en(t,e,3,n)}function $e(t,e,n,r){(3&t[2])===n&&en(t,e,n,r)}function tn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function en(t,e,n,r){for(var o=null!=r?r:-1,i=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(i=e[s],null!=r&&i>=r)break}else e[s]<0&&(t[18]+=65536),(i<o||-1==o)&&(nn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function nn(t,e,n,r){var o=n[r]<0,i=n[r+1],s=t[o?-n[r]:n[r]];o?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,i.call(s)):i.call(s)}var rn=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function on(t,e,n){for(var r=se(t),o=0;o<n.length;){var i=n[o];if("number"==typeof i){if(0!==i)break;o++;var s=n[o++],a=n[o++],l=n[o++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{var u=i,c=n[++o];an(u)?r&&t.setProperty(e,u,c):r?t.setAttribute(e,u,c):e.setAttribute(u,c),o++}}return o}function sn(t){return 3===t||4===t||6===t}function an(t){return 64===t.charCodeAt(0)}function ln(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var o=e[r];"number"==typeof o?n=o:0===n||un(t,n,o,null,-1===n||2===n?e[++r]:null)}return t}function un(t,e,n,r,o){var i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){var a=t[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<t.length;){var l=t[i];if("number"==typeof l)break;if(l===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function cn(t){return-1!==t}function pn(t){return 32767&t}function hn(t){return t>>16}function dn(t,e){for(var n=hn(t),r=e;n>0;)r=r[15],n--;return r}function fn(t){return"string"==typeof t?t:null==t?"":""+t}function gn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fn(t)}var yn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(X);function vn(t){return t instanceof Function?t():t}var mn=!0;function Cn(t){var e=mn;return mn=t,e}var bn=0;function wn(t,e){var n=On(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,_n(r.data,t),_n(e,null),_n(r.blueprint,null));var o=En(t,e),i=t.injectorIndex;if(cn(o))for(var s=pn(o),a=dn(o,e),l=a[1].data,u=0;u<8;u++)e[i+u]=a[s+u]|l[s+u];return e[i+8]=o,i}function _n(t,e){t.push(0,0,0,0,0,0,0,0,e)}function On(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function En(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Sn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(nt)&&(r=n[nt]),null==r&&(r=n[nt]=bn++);var o=255&r,i=1<<o,s=64&o,a=32&o,l=e.data;128&o?s?a?l[t+7]|=i:l[t+6]|=i:a?l[t+5]|=i:l[t+4]|=i:s?a?l[t+3]|=i:l[t+2]|=i:a?l[t+1]|=i:l[t]|=i}(t,e,n)}function Pn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S.Default,o=arguments.length>4?arguments[4]:void 0;if(null!==t){var i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(nt)?t[nt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ve(e,t);try{var s=i();if(null!=s||r&S.Optional)return s;throw new Error("No provider for ".concat(gn(n),"!"))}finally{Ue()}}else if("number"==typeof i){if(-1===i)return new Nn(t,e);var a=null,l=On(t,e),u=-1,c=r&S.Host?e[16][6]:null;for((-1===l||r&S.SkipSelf)&&(u=-1===l?En(t,e):e[l+8],xn(r,!1)?(a=e[1],l=pn(u),e=dn(u,e)):l=-1);-1!==l;){u=e[l+8];var p=e[1];if(Dn(i,l,p.data)){var h=Rn(l,e,n,a,r,c);if(h!==Tn)return h}xn(r,e[1].data[l+8]===c)&&Dn(i,l,e)?(a=p,l=pn(u),e=dn(u,e)):l=-1}}}if(r&S.Optional&&void 0===o&&(o=null),0==(r&(S.Self|S.Host))){var d=e[9],f=ct(void 0);try{return d?d.get(n,o,r&S.Optional):ft(n,o,r&S.Optional)}finally{ct(f)}}if(r&S.Optional)return o;throw new Error("NodeInjector: NOT_FOUND [".concat(gn(n),"]"))}var Tn={};function Rn(t,e,n,r,o,i){var s=e[1],a=s.data[t+8],l=kn(a,s,n,null==r?Yt(a)&&mn:r!=s&&3===a.type,o&S.Host&&i===a);return null!==l?An(e,s,l,a):Tn}function kn(t,e,n,r,o){for(var i=t.providerIndexes,s=e.data,a=1048575&i,l=t.directiveStart,u=i>>20,c=o?a+u:t.directiveEnd,p=r?a:a+u;p<c;p++){var h=s[p];if(p<l&&n===h||p>=l&&h.type===n)return p}if(o){var d=s[l];if(d&&Xt(d)&&d.type===n)return l}return null}function An(t,e,n,r){var o=t[n],i=e.data;if(o instanceof rn){var s=o;if(s.resolving)throw new Error("Circular dep for "+gn(i[n]));var a,l=Cn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=ct(s.injectImpl)),Ve(t,r);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,o=r.ngOnChanges,i=r.ngOnInit,s=r.ngDoCheck;if(o){var a=$t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,i[n],e)}finally{s.injectImpl&&ct(a),Cn(l),s.resolving=!1,Ue()}}return o}function Dn(t,e,n){var r=64&t,o=32&t;return!!((128&t?r?o?n[e+7]:n[e+6]:o?n[e+5]:n[e+4]:r?o?n[e+3]:n[e+2]:o?n[e+1]:n[e])&1<<t)}function xn(t,e){return!(t&S.Self||t&S.Host&&e)}var Nn=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return y(t,[{key:"get",value:function(t,e){return Pn(this._tNode,this._lView,t,void 0,e)}}]),t}();function In(t){var e=t;if(H(t))return function(){var t=In(B(e));return t?t():null};var n=Bt(e);if(null===n){var r=x(e);n=r&&r.factory}return n||null}function Fn(t){return C((function(){for(var e=t.prototype.constructor,n=e[et]||In(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;o&&o!==r;){var i=o[et]||In(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return function(t){return new t}}))}function Mn(t){return t.ngDebugContext}function Ln(t){return t.ngOriginalError}function jn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Gn=function(){function t(){f(this,t),this._console=console}return y(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||jn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Mn(t)?Mn(t):this._findContext(Ln(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ln(t);e&&Ln(e);)e=Ln(e);return e}}]),t}(),Vn=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return y(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Wn=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Vn),Bn=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Vn),Hn=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Vn),zn=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Vn),Un=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Vn);function Kn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function Yn(t,e){var n=qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function qn(t){return t instanceof Vn&&t.getTypeName()||null}function Xn(t){return new Wn(t)}function Qn(t){return new Bn(t)}function Zn(t){return new Hn(t)}function Jn(t){return new zn(t)}function $n(t){return new Un(t)}var tr=!0,er=!1;function nr(){return er=!0,tr}function rr(){if(er)throw new Error("Cannot enable prod mode after platform setup.");tr=!1}var or=function(){function t(){f(this,t)}return y(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),ir=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return y(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}]),t}(),sr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lr(t){return(t=String(t)).match(sr)||t.match(ar)?t:(nr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function ur(t){var e,n={},o=r(t.split(","));try{for(o.s();!(e=o.n()).done;){n[e.value]=!0}}catch(i){o.e(i)}finally{o.f()}return n}function cr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];for(var a in s)s.hasOwnProperty(a)&&(t[a]=!0)}return t}var pr,hr=ur("area,br,col,hr,img,wbr"),dr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fr=ur("rp,rt"),gr=cr(fr,dr),yr=cr(hr,cr(dr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(fr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gr),vr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=ur("srcset"),Cr=cr(vr,mr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),br=ur("script,style,template"),wr=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return y(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!yr.hasOwnProperty(e))return this.sanitizedSomething=!0,!br.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,o=0;o<r.length;o++){var i=r.item(o),s=i.name,a=s.toLowerCase();if(Cr.hasOwnProperty(a)){var l=i.value;vr[a]&&(l=lr(l)),mr[a]&&(n=l,l=(n=String(n)).split(",").map((function(t){return lr(t.trim())})).join(", ")),this.buf.push(" ",s,'="',Er(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();yr.hasOwnProperty(e)&&!hr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Er(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),_r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Or=/([^\#-~ |!])/g;function Er(t){return t.replace(/&/g,"&amp;").replace(_r,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Or,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Sr(t,e){var n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new or:new ir(t)}(t);var r=e?String(e):"";n=pr.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==i);var s=new wr,a=s.sanitizeChildren(Pr(n)||n);return nr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=Pr(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function Pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Rr(t){var e=Ar();return e?e.sanitize(Tr.HTML,t)||"":Yn(t,"HTML")?Kn(t):Sr(ie(),fn(t))}function kr(t){var e=Ar();return e?e.sanitize(Tr.URL,t)||"":Yn(t,"URL")?Kn(t):lr(fn(t))}function Ar(){var t=_e();return t&&t[12]}function Dr(t,e){t.__ngContext__=e}function xr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Nr(){throw new Error("Cannot mix multi providers and regular providers")}function Ir(t,e,n){for(var r=t.length;;){var o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){var i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function Fr(t,e,n){for(var r=0;r<t.length;){var o=t[r++];if(n&&"class"===o){if(-1!==Ir((o=t[r]).toLowerCase(),e,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function Mr(t){return 0===t.type&&"ng-template"!==t.tagName}function Lr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function jr(t,e,n){for(var r=4,o=t.attrs||[],i=function(t){for(var e=0;e<t.length;e++)if(sn(t[e]))return e;return t.length}(o),s=!1,a=0;a<e.length;a++){var l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Lr(t,l,n)||""===l&&1===e.length){if(Gr(r))return!1;s=!0}}else{var u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Fr(t.attrs,u,n)){if(Gr(r))return!1;s=!0}continue}var c=Vr(8&r?"class":l,o,Mr(t),n);if(-1===c){if(Gr(r))return!1;s=!0;continue}if(""!==u){var p;p=c>i?"":o[c+1].toLowerCase();var h=8&r?p:null;if(h&&-1!==Ir(h,u,0)||2&r&&u!==p){if(Gr(r))return!1;s=!0}}}}else{if(!s&&!Gr(r)&&!Gr(l))return!1;if(s&&Gr(l))continue;s=!1,r=l|1&r}}return Gr(r)||s}function Gr(t){return 0==(1&t)}function Vr(t,e,n,r){if(null===e)return-1;var o=0;if(r||!n){for(var i=!1;o<e.length;){var s=e[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){for(var a=e[++o];"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Wr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(jr(t,e[r],n))return!0;return!1}function Br(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var o=0;o<t.length;o++)if(t[o]!==r[o])continue t;return!0}}return!1}function Hr(t,e){return t?":not("+e.trim()+")":e}function zr(t){for(var e=t[0],n=1,r=2,o="",i=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""===o||Gr(s)||(e+=Hr(i,o),o=""),r=s,i=i||!Gr(r);n++}return""!==o&&(e+=Hr(i,o)),e}var Ur={};function Kr(t){var e=t[3];return Ut(e)?e[3]:e}function Yr(t){return Xr(t[13])}function qr(t){return Xr(t[4])}function Xr(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Qr(t){Zr(Oe(),_e(),Ye()+t,ke())}function Zr(t,e,n,r){if(!r)if(3==(3&e[2])){var o=t.preOrderCheckHooks;null!==o&&Je(e,o,n)}else{var i=t.preOrderHooks;null!==i&&$e(e,i,0,n)}qe(n)}function Jr(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function to(t){return 2|t}function eo(t){return(131068&t)>>2}function no(t,e){return-131069&t|e<<2}function ro(t){return 1|t}function oo(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1];if(-1!==i){var s=t.data[i];Ge(o),s.contentQueries(2,e[i],i)}}}function io(t,e,n){return se(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function so(t,e,n,r,o,i,s,a,l,u){var c=e.blueprint.slice();return c[0]=o,c[2]=140|r,me(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=i,c[16]=2==e.type?t[16]:c,c}function ao(t,e,n,r,o,i){var s=n+20,a=t.data[s]||function(t,e,n,r,o,i){var s=Se(),a=Te(),l=a?s:s&&s.parent,u=t.data[n]=Co(0,l&&l!==e?l:null,r,n,o,i);return null===t.firstChild&&(t.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(t,e,s,r,o,i);return Pe(a,!0),a}function lo(t,e,n){We(e,e[6]);try{var r=t.viewQuery;null!==r&&Wo(1,r,n);var o=t.template;null!==o&&po(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&oo(t,e),t.staticViewQueries&&Wo(2,t.viewQuery,n);var i=t.components;null!==i&&function(t,e){for(var n=0;n<e.length;n++)Mo(t,e[n])}(e,i)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,Ke()}}function uo(t,e,n,r){var o=e[2];if(256!=(256&o)){We(e,e[6]);var i=ke();try{me(e),be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&po(t,e,n,2,r);var s=3==(3&o);if(!i)if(s){var a=t.preOrderCheckHooks;null!==a&&Je(e,a,null)}else{var l=t.preOrderHooks;null!==l&&$e(e,l,0,null),tn(e,0)}if(function(t){for(var e=Yr(t);null!==e;e=qr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var o=n[r],i=o[3];0==(1024&o[2])&&Ce(i,1),o[2]|=1024}}(e),function(t){for(var e=Yr(t);null!==e;e=qr(e))for(var n=10;n<e.length;n++){var r=e[n],o=r[1];ye(r)&&uo(o,r,o.template,r[8])}}(e),null!==t.contentQueries&&oo(t,e),!i)if(s){var u=t.contentCheckHooks;null!==u&&Je(e,u)}else{var c=t.contentHooks;null!==c&&$e(e,c,1),tn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,o=-1,i=0;i<n.length;i++){var s=n[i];"number"==typeof s?s<=0?(qe(0-s),o=r+=9+n[++i]):r+=s:(null!==s&&(Fe(r,o),s(2,e[o])),o++)}}finally{qe(-1)}}(t,e);var p=t.components;null!==p&&function(t,e){for(var n=0;n<e.length;n++)Fo(t,e[n])}(e,p);var h=t.viewQuery;if(null!==h&&Wo(2,h,r),!i)if(s){var d=t.viewCheckHooks;null!==d&&Je(e,d)}else{var f=t.viewHooks;null!==f&&$e(e,f,2),tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ce(e[3],-1))}finally{Ke()}}}function co(t,e,n,r){var o=e[10],i=!ke(),s=ge(e);try{i&&!s&&o.begin&&o.begin(),s&&lo(t,e,r),uo(t,e,n,r)}finally{i&&!s&&o.end&&o.end()}}function po(t,e,n,r,o){var i=Ye();try{qe(-1),2&r&&e.length>20&&Zr(t,e,0,ke()),n(r,o)}finally{qe(i)}}function ho(t,e,n){if(Kt(e))for(var r=e.directiveEnd,o=e.directiveStart;o<r;o++){var i=t.data[o];i.contentQueries&&i.contentQueries(1,n[o],o)}}function fo(t,e,n){we()&&(function(t,e,n,r){var o=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||wn(n,e),Dr(r,e);for(var s=n.initialInputs,a=o;a<i;a++){var l=t.data[a],u=Xt(l);u&&Do(e,n,l);var c=An(e,t,a,n);Dr(c,e),null!==s&&xo(0,a-o,c,l,0,s),u&&(de(n.index,e)[8]=c)}}(t,e,n,ce(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,o=n.directiveEnd,i=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,l=be.lFrame.currentDirectiveIndex;try{qe(a);for(var u=r;u<o;u++){var c=t.data[u],p=e[u];Me(u),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?So(c,p):s&&i.push(null)}}finally{qe(-1),Me(l)}}(t,e,n))}function go(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce,r=e.localNames;if(null!==r)for(var o=e.index+1,i=0;i<r.length;i+=2){var s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}function yo(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vo(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function vo(t,e,n,r,o,i,s,a,l,u){var c=20+r,p=c+o,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ur);return n}(c,p);return h[1]={type:t,id:e,blueprint:h,template:n,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:p,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:u,incompleteFirstPass:!1}}function mo(t,e,n,r){var o=Ho(e);o.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,o.length-1)}function Co(t,e,n,r,o,i){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bo(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,o):n[r]=[e,o]}return n}function wo(t,e,n,r,o,i,s,a){var l,u=ce(e,n),c=e.inputs;!a&&null!=c&&(l=c[r])?(Ko(t,n,l,r,o),Yt(e)&&function(t,e){var n=de(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,e.tagName||"",r):o,se(i)?i.setProperty(u,r,o):an(r)||(u.setProperty?u.setProperty(r,o):u[r]=o))}function _o(t,e,n,r){var o=!1;if(we()){var i=function(t,e,n){var r=t.directiveRegistry,o=null;if(r)for(var i=0;i<r.length;i++){var s=r[i];Wr(n,s.selectors,!1)&&(o||(o=[]),Sn(wn(n,e),t,s.type),Xt(s)?(2&n.flags&&xr(n),To(t,n),o.unshift(s)):o.push(s))}return o}(t,e,n),s=null===r?null:{"":-1};if(null!==i){var a=0;o=!0,ko(n,t.data.length,i.length);for(var l=0;l<i.length;l++){var u=i[l];u.providersResolver&&u.providersResolver(u)}Po(t,n,i.length);for(var c=!1,p=!1,h=0;h<i.length;h++){var d=i[h];n.mergedAttrs=ln(n.mergedAttrs,d.hostAttrs),Ao(t,e,d),Ro(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var f=d.type.prototype;!c&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),c=!0),p||!f.ngOnChanges&&!f.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),p=!0),Oo(t,d),a+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,o=e.attrs,i=[],s=null,a=null,l=e.directiveStart;l<n;l++){var u=r[l],c=u.inputs,p=null===o||Mr(e)?null:No(c,o);i.push(p),s=bo(c,l,s),a=bo(u.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=s,e.outputs=a}(t,n),Eo(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],o=0;o<e.length;o+=2){var i=n[e[o+1]];if(null==i)throw new Error("Export of name '".concat(e[o+1],"' not found!"));r.push(e[o],i)}}(n,r,s)}return n.mergedAttrs=ln(n.mergedAttrs,n.attrs),o}function Oo(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Eo(t,e,n){for(var r=0;r<n;r++)e.push(Ur),t.blueprint.push(Ur),t.data.push(null)}function So(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Po(t,e,n){var r=20-e.index,o=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,o,n)}function To(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ro(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xt(e)&&(n[""]=t)}}function ko(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ao(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Bt(n.type)),o=new rn(r,Xt(n),null);t.blueprint.push(o),e.push(o)}function Do(t,e,n){var r=ce(e,t),o=yo(n),i=t[10],s=Lo(t,so(t,o,null,n.onPush?64:16,r,e,i,i.createRenderer(r,n)));t[e.index]=s}function xo(t,e,n,r,o,i){var s=i[e];if(null!==s)for(var a=r.setInput,l=0;l<s.length;){var u=s[l++],c=s[l++],p=s[l++];null!==a?r.setInput(n,p,u,c):n[c]=p}}function No(t,e){for(var n=null,r=0;r<e.length;){var o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Io(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fo(t,e){var n=de(e,t);if(ye(n)){var r=n[1];80&n[2]?uo(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Yr(e);null!==n;n=qr(n))for(var r=10;r<n.length;r++){var o=n[r];if(1024&o[2]){var i=o[1];uo(i,o,i.template,o[8])}else o[5]>0&&t(o)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var l=de(s[a],e);ye(l)&&l[5]>0&&t(l)}}(n)}}function Mo(t,e){var n=de(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),lo(r,n,n[8])}function Lo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function jo(t){for(;t;){t[2]|=64;var e=Kr(t);if(Qt(t)&&!e)return t;t=e}return null}function Go(t,e,n){var r=e[10];r.begin&&r.begin();try{uo(t,e,t.template,n)}catch(o){throw Uo(e,o),o}finally{r.end&&r.end()}}function Vo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=fe(n),o=r[1];co(o,r,o.template,n)}}(t[8])}function Wo(t,e,n){Ge(0),e(t,n)}var Bo=Promise.resolve(null);function Ho(t){return t[7]||(t[7]=[])}function zo(t,e,n){return(null===t||Xt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Uo(t,e){var n=t[9],r=n?n.get(Gn,null):null;r&&r.handleError(e)}function Ko(t,e,n,r,o){for(var i=0;i<n.length;){var s=n[i++],a=n[i++],l=e[s],u=t.data[s];null!==u.setInput?u.setInput(l,o,r,a):l[a]=o}}function Yo(t,e,n){var r=ue(e,t),o=t[11];se(o)?o.setValue(r,n):r.textContent=n}function qo(t,e){var n=e[3];return-1===t.index?Ut(n)?n:null:n}function Xo(t,e){var n=qo(t,e);return n?ai(e[11],n[7]):null}function Qo(t,e,n,r,o){if(null!=r){var i,s=!1;Ut(r)?i=r:zt(r)&&(s=!0,r=r[0]);var a=le(r);0===t&&null!==n?null==o?ii(e,n,a):oi(e,n,a,o||null):1===t&&null!==n?oi(e,n,a,o||null):2===t?function(t,e,n){var r=ai(t,e);r&&function(t,e,n,r){se(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,r,o){var i=n[7];i!==le(n)&&Qo(e,t,r,i,o);for(var s=10;s<n.length;s++){var a=n[s];hi(a[1],a,t,e,r,i)}}(e,t,i,n,o)}}function Zo(t,e,n,r){var o=Xo(t.node,e);o&&hi(t,e,e[11],n?1:2,o,r)}function Jo(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&Ce(e[3],-1),n.splice(r,1)}function $o(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var o=r[17];null!==o&&o!==t&&Jo(o,r),e>0&&(t[n-1][4]=r[4]);var i=wt(t,10+e);Zo(r[1],r,!1,null);var s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function ti(t,e){if(!(256&e[2])){var n=e[11];se(n)&&n.destroyNode&&hi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ni(t[1],t);for(;e;){var n=null;if(zt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)zt(e)&&ni(e[1],e),e=ei(e,t);null===e&&(e=t),zt(e)&&ni(e[1],e),n=e&&e[4]}e=n}}(e)}}function ei(t,e){var n;return zt(t)&&(n=t[6])&&2===n.type?qo(n,t):t[3]===e?null:t[3]}function ni(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var o=e[n[r]];if(!(o instanceof rn)){var i=n[r+1];if(Array.isArray(i))for(var s=0;s<i.length;s+=2)i[s+1].call(o[i[s]]);else i.call(o)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var i=n[o+1],s="function"==typeof i?i(e):le(e[i]),a=r[n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],a,l):l>=0?r[l]():r[-l].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&se(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&Jo(r,e);var o=e[19];null!==o&&o.detachView(t)}}}function ri(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var o=n[6];return 2===o.type?Xo(o,n):n[0]}if(e&&5===e.type&&4&e.flags)return ce(e,n).parentNode;if(2&r.flags){var i=t.data,s=i[i[r.index].directiveStart].encapsulation;if(s!==Rt.ShadowDom&&s!==Rt.Native)return null}return ce(r,n)}function oi(t,e,n,r){se(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ii(t,e,n){se(t)?t.appendChild(e,n):e.appendChild(n)}function si(t,e,n,r){null!==r?oi(t,e,n,r):ii(t,e,n)}function ai(t,e){return se(t)?t.parentNode(e):e.parentNode}function li(t,e){if(2===t.type){var n=qo(t,e);return null===n?null:ci(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?ce(t,e):null}function ui(t,e,n,r){var o=ri(t,r,e);if(null!=o){var i=e[11],s=li(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)si(i,o,n[a],s);else si(i,o,n,s)}}function ci(t,e){var n=10+t+1;if(n<e.length){var r=e[n],o=r[1].firstChild;if(null!==o)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return ce(n,e);if(0===r)return ci(-1,e[n.index]);if(4===r||5===r){var o=n.child;if(null!==o)return t(e,o);var i=e[n.index];return Ut(i)?ci(-1,i):le(i)}var s=e[16],a=s[6],l=Kr(s),u=a.projection[n.projection];return null!=u?t(l,u):t(e,n.next)}return null}(r,o)}return e[7]}function pi(t,e,n,r,o,i,s){for(;null!=n;){var a=r[n.index],l=n.type;s&&0===e&&(a&&Dr(le(a),r),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(pi(t,e,n.child,r,o,i,!1),Qo(e,t,o,a,i)):1===l?di(t,e,r,n,o,i):Qo(e,t,o,a,i)),n=s?n.projectionNext:n.next}}function hi(t,e,n,r,o,i){pi(n,r,t.node.child,e,o,i,!1)}function di(t,e,n,r,o,i){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var l=0;l<a.length;l++)Qo(e,t,o,a[l],i);else pi(t,e,a,s[3],o,i,!0)}function fi(t,e,n){se(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){se(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var yi,vi,mi,Ci=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return y(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ti(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){mo(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){jo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Go(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){Ae(!0);try{Go(t,e,n)}finally{Ae(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,hi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(n,r,o,i){for(var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==o;){var a=r[o.index];if(null!==a&&i.push(le(a)),Ut(a))for(var l=10;l<a.length;l++){var u=a[l],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var p=o.type;if(4===p||5===p)t(n,r,o.child,i);else if(1===p){var h=r[16],d=h[6].projection[o.projection];if(Array.isArray(d))i.push.apply(i,e(d));else{var f=Kr(h);t(f[1],f,d,i,!0)}}o=s?o.projectionNext:o.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),bi=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return y(n,[{key:"detectChanges",value:function(){Vo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Ae(!0);try{Vo(t)}finally{Ae(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ci);function wi(t,e,n){return yi||(yi=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(t)),new yi(ce(e,n))}function _i(t,e,n,r){return vi||(vi=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this))._declarationView=t,i._declarationTContainer=r,i.elementRef=o,i}return y(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=so(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),lo(e,n,t),new Ci(n)}}]),n}(t)),0===n.type?new vi(r,n,wi(e,n,r)):null}function Oi(t,e,n,r){var o;mi||(mi=function(t){a(r,t);var n=u(r);function r(t,e,o){var i;return f(this,r),(i=n.call(this))._lContainer=t,i._hostTNode=e,i._hostView=o,i}return y(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,o){var i=n||this.parentInjector;if(!o&&null==t.ngModule&&i){var s=i.get(vt,null);s&&(o=s)}var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var i=n[3],s=new mi(i,i[6],i[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e);return function(t,e,n,r){var o=10+r,i=n.length;r>0&&(n[o-1][4]=e),r<i-10?(e[4]=n[o],bt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,a),Zo(r,n,!0,ci(a,this._lContainer)),t.attachToViewContainerRef(this),bt(this._lContainer[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=$o(this._lContainer,e);n&&(wt(this._lContainer[8],e),ti(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=$o(this._lContainer,e);return n&&null!=wt(this._lContainer[8],e)?new Ci(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return wi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Nn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=En(this._hostTNode,this._hostView),e=dn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,o=n.parent;null!=o.parent&&r==o.parent.injectorIndex;)o=o.parent;return o}for(var i=hn(t),s=e,a=e[6];i>1;)a=(s=s[15])[6],i--;return a}(t,this._hostView,this._hostTNode);return cn(t)&&null!=n?new Nn(n,e):new Nn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var i=r[n.index];if(Ut(i))o=i;else{var s;if(4===n.type)s=le(i);else if(s=r[11].createComment(""),Qt(r)){var l=r[11],c=ce(n,r);oi(l,ai(l,c),s,function(t,e){return se(t)?t.nextSibling(e):e.nextSibling}(l,c))}else ui(r[1],r,s,n);r[n.index]=o=Io(i,r,s,n),Lo(r,o)}return new mi(o,n,r)}function Ei(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Yt(t)){var r=de(t.index,e);return new Ci(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ci(e[16],e):null}(Se(),_e(),t)}var Si=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return Pi()},t}(),Pi=Ei,Ti=Function,Ri=new rt("Set Injector scope."),ki={},Ai={},Di=[],xi=void 0;function Ni(){return void 0===xi&&(xi=new yt),xi}function Ii(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Fi(t,n,e||Ni(),r)}var Fi=function(){function t(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&Ct(n,(function(t){return o.processProvider(t,e,n)})),Ct([e],(function(t){return o.processInjectorType(t,[],s)})),this.records.set(ot,ji(void 0,this));var a=this.records.get(Ri);this.scope=null!=a?a.value:null,this.source=i||("object"==typeof e?null:j(e))}return y(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.Default;this.assertNotDestroyed();var r,o=ut(this);try{if(!(n&S.SkipSelf)){var i=this.records.get(t);if(void 0===i){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof rt)&&A(t);i=s&&this.injectableDefInScope(s)?ji(Mi(t),ki):null,this.records.set(t,i)}if(null!=i)return this.hydrate(t,i)}return(n&S.Self?Ni():this.parent).get(t,e=n&S.Optional&&e===it?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(j(t)),o)throw a;return function(t,e,n,r){var o=t.ngTempTokenPath;throw e.__source&&o.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var o=j(e);if(Array.isArray(e))o=e.map(j).join(" -> ");else if("object"==typeof e){var i=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):j(a)))}o="{".concat(i.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(o,"]: ").concat(t.replace(st,"\n  "))}("\n"+t.message,o,"R3InjectorError",r),t.ngTokenPath=o,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{ut(o)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(j(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=B(t)))return!1;var o=x(t),i=null==o&&t.ngModule||void 0,s=void 0===i?t:i,a=-1!==n.indexOf(s);if(void 0!==i&&(o=x(i)),null==o)return!1;if(null!=o.imports&&!a){var l;n.push(s);try{Ct(o.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===l&&(l=[]),l.push(t))}))}finally{}if(void 0!==l)for(var u=function(t){var e=l[t],n=e.ngModule,o=e.providers;Ct(o,(function(t){return r.processProvider(t,n,o||Di)}))},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(s),this.records.set(s,ji(o.factory,ki));var p=o.providers;if(null!=p&&!a){var h=t;Ct(p,(function(t){return r.processProvider(t,h,p)}))}return void 0!==i&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Vi(t=B(t))?t:B(t&&t.provide),o=function(t,e,n){return Gi(t)?ji(void 0,t.useValue):ji(Li(t,e,n),ki)}(t,e,n);if(Vi(t)||!0!==t.multi){var i=this.records.get(r);i&&void 0!==i.multi&&Nr()}else{var s=this.records.get(r);s?void 0===s.multi&&Nr():((s=ji(void 0,ki,!0)).factory=function(){return gt(s.multi)},this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}},{key:"hydrate",value:function(t,e){var n;return e.value===Ai?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(j(t)):e.value===ki&&(e.value=Ai,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Mi(t){var e=A(t),n=null!==e?e.factory:Bt(t);if(null!==n)return n;var r=x(t);if(null!==r)return r.factory;if(t instanceof rt)throw new Error("Token ".concat(j(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=_t(e,"?");throw new Error("Can't resolve all parameters for ".concat(j(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[N]||t[M]||t[F]&&t[F]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Li(n,r,o){var i,s=void 0;if(Vi(n)){var a=B(n);return Bt(a)||Mi(a)}if(Gi(n))s=function(){return B(n.useValue)};else if((i=n)&&i.useFactory)s=function(){return n.useFactory.apply(n,e(gt(n.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(n))s=function(){return ht(B(n.useExisting))};else{var l=B(n&&(n.useClass||n.provide));if(l||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(j(t),"'")+r)}(r,o,n),!function(t){return!!t.deps}(n))return Bt(l)||Mi(l);s=function(){return t(l,e(gt(n.deps)))}}return s}function ji(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Gi(t){return null!==t&&"object"==typeof t&&at in t}function Vi(t){return"function"==typeof t}var Wi=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,o=Ii(t,e,n,r);return o._resolveInjectorDefTypes(),o}({name:n},e,t,n)},Bi=function(){var t=function(){function t(){f(this,t)}return y(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Wi(t,e,""):Wi(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=it,t.NULL=new yt,t.\u0275prov=R({token:t,providedIn:"any",factory:function(){return ht(ot)}}),t.__NG_ELEMENT_ID__=-1,t}(),Hi=new rt("AnalyzeForEntryComponents");function zi(t,e,n){var r=n?t.styles:null,o=n?t.classes:null,i=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?i=a:1==i?o=G(o,a):2==i&&(r=G(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var Ui=null;function Ki(){if(!Ui){var t=X.Symbol;if(t&&t.iterator)Ui=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ui=r)}}return Ui}var Yi=function(){function t(e){f(this,t),this.wrapped=e}return y(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function qi(t){return!!Xi(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ki()in t)}function Xi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qi(t,e,n){return t[e]=n}function Zi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ji(t,e,n,r){var o=Zi(t,e,n);return Zi(t,e+1,r)||o}function $i(t,e,n,r,o,i){var s=Ji(t,e,n,r);return Ji(t,e+2,o,i)||s}function ts(t,e,n,r){var o=_e();return Zi(o,Ne(),e)&&(Oe(),function(t,e,n,r,o,i){var s=ce(t,e),a=e[11];if(null==r)se(a)?a.removeAttribute(s,n,i):s.removeAttribute(n);else{var l=null==o?fn(r):o(r,t.tagName||"",n);se(a)?a.setAttribute(s,n,l,i):i?s.setAttributeNS(i,n,l):s.setAttribute(n,l)}}(Xe(),o,t,e,n,r)),ts}function es(t,e,n,r){return Zi(t,Ne(),n)?e+fn(n)+r:Ur}function ns(t,e,n,r,o,i){var s=Ji(t,xe(),n,o);return Ie(2),s?e+fn(n)+r+fn(o)+i:Ur}function rs(t,e,n,r,o,i,s,a){var l=_e(),u=Oe(),c=t+20,p=u.firstCreatePass?function(t,e,n,r,o,i,s,a,l){var u=e.consts,c=ao(e,n[6],t,0,s||null,ve(u,a));_o(e,n,c,ve(u,l)),Ze(e,c);var p=c.tViews=vo(2,-1,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),h=Co(0,null,2,-1,null,null);return h.injectorIndex=c.injectorIndex,p.node=h,null!==e.queries&&(e.queries.template(e,c),p.queries=e.queries.embeddedTView(c)),c}(t,u,l,e,n,r,o,i,s):u.data[c];Pe(p,!1);var h=l[11].createComment("");ui(u,l,h,p),Dr(h,l),Lo(l,l[c]=Io(h,l,h,p)),qt(p)&&fo(u,l,p),null!=s&&go(l,p,a)}function os(t){return he(be.lFrame.contextLView,t)}function is(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Default,n=_e();return null==n?ht(t,e):Pn(Se(),n,B(t),e)}function ss(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,o=0;o<r;){var i=n[o];if(sn(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===e)return n[o+1];o+=2}}return null}(Se(),t)}function as(t,e,n){var r=_e();return Zi(r,Ne(),e)&&wo(Oe(),Xe(),r,t,e,r[11],n,!1),as}function ls(t,e,n,r,o){var i=o?"class":"style";Ko(t,n,e.inputs[i],i,r)}function us(t,e,n,r){var o=_e(),i=Oe(),s=20+t,a=o[11],l=o[s]=io(e,a,be.lFrame.currentNamespace),u=i.firstCreatePass?function(t,e,n,r,o,i,s){var a=e.consts,l=ve(a,i),u=ao(e,n[6],t,3,o,l);return _o(e,n,u,ve(a,s)),null!==u.attrs&&zi(u,u.attrs,!1),null!==u.mergedAttrs&&zi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,i,o,0,e,n,r):i.data[s];Pe(u,!0);var c=u.mergedAttrs;null!==c&&on(a,l,c);var p=u.classes;null!==p&&gi(a,l,p);var h=u.styles;null!==h&&fi(a,l,h),ui(i,o,l,u),0===be.lFrame.elementDepthCount&&Dr(l,o),be.lFrame.elementDepthCount++,qt(u)&&(fo(i,o,u),ho(i,u,o)),null!==r&&go(o,u)}function cs(){var t=Se();Te()?Re():Pe(t=t.parent,!1);var e=t;be.lFrame.elementDepthCount--;var n=Oe();n.firstCreatePass&&(Ze(n,t),Kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ls(n,e,_e(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ls(n,e,_e(),e.stylesWithoutHost,!1)}function ps(t,e,n,r){us(t,e,n,r),cs()}function hs(t,e,n){var r=_e(),o=Oe(),i=t+20,s=o.firstCreatePass?function(t,e,n,r,o){var i=e.consts,s=ve(i,r),a=ao(e,n[6],t,4,"ng-container",s);return null!==s&&zi(a,s,!0),_o(e,n,a,ve(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,o,r,e,n):o.data[i];Pe(s,!0);var a=r[i]=r[11].createComment("");ui(o,r,a,s),Dr(a,r),qt(s)&&(fo(o,r,s),ho(o,s,r)),null!=n&&go(r,s)}function ds(){var t=Se(),e=Oe();Te()?Re():Pe(t=t.parent,!1),e.firstCreatePass&&(Ze(e,t),Kt(t)&&e.queries.elementEnd(t))}function fs(t,e,n){hs(t,e,n),ds()}function gs(){return _e()}function ys(t){return!!t&&"function"==typeof t.then}function vs(t){return!!t&&"function"==typeof t.subscribe}function ms(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=_e(),i=Oe(),s=Se();return bs(i,o,o[11],s,t,e,n,r),ms}function Cs(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=Se(),i=_e(),s=Oe();return bs(s,i,zo(Le(s.data),o,i),o,t,e,n,r),Cs}function bs(t,e,n,r,o,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,l=qt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),c=Ho(e),p=!0;if(3===r.type){var h=ce(r,e),d=a?a(h):kt,f=d.target||h,g=c.length,y=a?function(t){return a(le(t[r.index])).target}:r.index;if(se(n)){var v=null;if(!a&&l&&(v=function(t,e,n,r){var o=t.cleanup;if(null!=o)for(var i=0;i<o.length-1;i+=2){var s=o[i];if(s===n&&o[i+1]===r){var a=e[7],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,e,o,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=i,v.__ngLastListenerFn__=i,p=!1;else{i=_s(r,e,i,!1);var m=n.listen(d.name||f,o,i);c.push(i,m),u&&u.push(o,y,g,g+1)}}else i=_s(r,e,i,!0),f.addEventListener(o,i,s),c.push(i),u&&u.push(o,y,g,s)}var C,b=r.outputs;if(p&&null!==b&&(C=b[o])){var w=C.length;if(w)for(var _=0;_<w;_+=2){var O=e[C[_]][C[_+1]].subscribe(i),E=c.length;c.push(i,O),u&&u.push(o,r.index,E,-(E+1))}}}function ws(t,e,n){try{return!1!==e(n)}catch(r){return Uo(t,r),!1}}function _s(t,e,n,r){return function o(i){if(i===Function)return n;var s=2&t.flags?de(t.index,e):e;0==(32&e[2])&&jo(s);for(var a=ws(e,n,i),l=o.__ngNextListenerFn__;l;)a=ws(e,l,i)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function Os(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,be.lFrame.contextLView))[8]}(t)}function Es(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),o=0;o<e.length;o++){var i=e[o];if("*"!==i){if(null===r?Wr(t,i,!0):Br(r,i))return o}else n=o}return n}function Ss(t){var e=_e()[16][6];if(!e.projection)for(var n=e.projection=_t(t?t.length:1,null),r=n.slice(),o=e.child;null!==o;){var i=t?Es(o,t):0;null!==i&&(r[i]?r[i].projectionNext=o:n[i]=o,r[i]=o),o=o.next}}function Ps(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=_e(),o=Oe(),i=ao(o,r[6],t,1,null,n||null);null===i.projection&&(i.projection=e),Re(),function(t,e,n){di(e[11],0,e,n,ri(t,n,e),li(n.parent||e[6],e))}(o,r,i)}function Ts(t,e,n){return Rs(t,"",e,"",n),Ts}function Rs(t,e,n,r,o){var i=_e(),s=es(i,e,n,r);return s!==Ur&&wo(Oe(),Xe(),i,t,s,i[11],o,!1),Rs}var ks=[];function As(t,e,n,r,o){for(var i=t[n+1],s=null===e,a=r?$r(i):eo(i),l=!1;0!==a&&(!1===l||s);){var u=t[a+1];Ds(t[a],e)&&(l=!0,t[a+1]=r?ro(u):to(u)),a=r?$r(u):eo(u)}l&&(t[n+1]=r?to(i):ro(i))}function Ds(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&St(t,e)>=0}var xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ns(t){return t.substring(xs.key,xs.keyEnd)}function Is(t,e){var n=xs.textEnd;return n===e?-1:(e=xs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,xs.key=e,n),Fs(t,e,n))}function Fs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ms(t,e,n){return Vs(t,e,n,!1),Ms}function Ls(t,e){return Vs(t,e,null,!0),Ls}function js(t){Ws(Ot,Gs,t,!0)}function Gs(t,e){for(var n=function(t){return function(t){xs.key=0,xs.keyEnd=0,xs.value=0,xs.valueEnd=0,xs.textEnd=t.length}(t),Is(t,Fs(t,0,xs.textEnd))}(e);n>=0;n=Is(e,n))Ot(t,Ns(e),!0)}function Vs(t,e,n,r){var o=_e(),i=Oe(),s=Ie(2);i.firstUpdatePass&&Hs(i,t,s,r),e!==Ur&&Zi(o,s,e)&&Ks(i,i.data[Ye()+20],o,o[11],t,o[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=j(Kn(t)))),t}(e,n),r,s)}function Ws(t,e,n,r){var o=Oe(),i=Ie(2);o.firstUpdatePass&&Hs(o,null,i,r);var s=_e();if(n!==Ur&&Zi(s,i,n)){var a=o.data[Ye()+20];if(Xs(a,r)&&!Bs(o,i)){var l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=G(l,n||"")),ls(o,a,s,n,r)}else!function(t,e,n,r,o,i,s,a){o===Ur&&(o=ks);for(var l=0,u=0,c=0<o.length?o[0]:null,p=0<i.length?i[0]:null;null!==c||null!==p;){var h=l<o.length?o[l+1]:void 0,d=u<i.length?i[u+1]:void 0,f=null,g=void 0;c===p?(l+=2,u+=2,h!==d&&(f=p,g=d)):null===p||null!==c&&c<p?(l+=2,f=c):(u+=2,f=p,g=d),null!==f&&Ks(t,e,n,r,f,g,s,a),c=l<o.length?o[l]:null,p=u<i.length?i[u]:null}}(o,a,s,s[11],s[i+1],s[i+1]=function(t,e,n){if(null==n||""===n)return ks;var r=[],o=Kn(n);if(Array.isArray(o))for(var i=0;i<o.length;i++)t(r,o[i],!0);else if("object"==typeof o)for(var s in o)o.hasOwnProperty(s)&&t(r,s,o[s]);else"string"==typeof o&&e(r,o);return r}(t,e,n),r,i)}}function Bs(t,e){return e>=t.expandoStartIndex}function Hs(t,e,n,r){var o=t.data;if(null===o[n+1]){var i=o[Ye()+20],s=Bs(t,n);Xs(i,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var o=Le(t),i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(n=Us(n=zs(null,t,e,n,r),e.attrs,r),i=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=zs(o,t,e,n,r),null===i){var a=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==eo(r))return t[$r(r)]}(t,e,r);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[$r(n?e.classBindings:e.styleBindings)]=r}(t,e,r,a=Us(a=zs(null,t,e,a[1],r),e.attrs,r))}else i=function(t,e,n){for(var r=void 0,o=e.directiveEnd,i=1+e.directiveStylingLast;i<o;i++)r=Us(r,t[i].hostAttrs,n);return Us(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(o,i,e,r),function(t,e,n,r,o,i){var s=i?e.classBindings:e.styleBindings,a=$r(s),l=eo(s);t[r]=n;var u,c=!1;if(Array.isArray(n)){var p=n;(null===(u=p[1])||St(p,u)>0)&&(c=!0)}else u=n;if(o)if(0!==l){var h=$r(t[a+1]);t[r+1]=Jr(h,a),0!==h&&(t[h+1]=no(t[h+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Jr(a,0),0!==a&&(t[a+1]=no(t[a+1],r)),a=r;else t[r+1]=Jr(l,0),0===a?a=r:t[l+1]=no(t[l+1],r),l=r;c&&(t[r+1]=to(t[r+1])),As(t,u,r,!0),As(t,u,r,!1),function(t,e,n,r,o){var i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&St(i,e)>=0&&(n[r+1]=ro(n[r+1]))}(e,u,t,r,i),s=Jr(a,l),i?e.classBindings=s:e.styleBindings=s}(o,i,e,n,s,r)}}function zs(t,e,n,r,o){var i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=Us(r,(i=e[a]).hostAttrs,o),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Us(t,e,n){var r=n?1:2,o=-1;if(null!==e)for(var i=0;i<e.length;i++){var s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ot(t,s,!!n||e[++i]))}return void 0===t?null:t}function Ks(t,e,n,r,o,i,s,a){if(3===e.type){var l=t.data,u=l[a+1];qs(1==(1&u)?Ys(l,e,n,o,eo(u),s):void 0)||(qs(i)||2==(2&u)&&(i=Ys(l,null,n,o,a,s)),function(t,e,n,r,o){var i=se(t);if(e)o?i?t.addClass(n,r):n.classList.add(r):i?t.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==o?i?t.removeStyle(n,r,s):n.style.removeProperty(r):i?t.setStyle(n,r,o,s):n.style.setProperty(r,o)}}(r,s,ue(Ye(),n),o,i))}}function Ys(t,e,n,r,o,i){for(var s=null===e,a=void 0;o>0;){var l=t[o],u=Array.isArray(l),c=u?l[1]:l,p=null===c,h=n[o+1];h===Ur&&(h=p?ks:void 0);var d=p?Et(h,r):c===r?h:void 0;if(u&&!qs(d)&&(d=Et(l,r)),qs(d)&&(a=d,s))return a;var f=t[o+1];o=s?$r(f):eo(f)}if(null!==e){var g=i?e.residualClasses:e.residualStyles;null!=g&&(a=Et(g,r))}return a}function qs(t){return void 0!==t}function Xs(t,e){return 0!=(t.flags&(e?16:32))}function Qs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=_e(),r=Oe(),o=t+20,i=r.firstCreatePass?ao(r,n[6],t,3,null,null):r.data[o],s=n[o]=function(t,e){return se(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);ui(r,n,s,i),Pe(i,!1)}function Zs(t){return Js("",t,""),Zs}function Js(t,e,n){var r=_e(),o=es(r,t,e,n);return o!==Ur&&Yo(r,Ye(),o),Js}function $s(t,e,n,r,o){var i=_e(),s=ns(i,t,e,n,r,o);return s!==Ur&&Yo(i,Ye(),s),$s}function ta(t,e,n){Ws(Ot,Gs,es(_e(),t,e,n),!0)}function ea(t,e,n,r,o){Ws(Ot,Gs,ns(_e(),t,e,n,r,o),!0)}function na(t,e,n,r,o,i,s,a,l){Ws(Ot,Gs,function(t,e,n,r,o,i,s,a,l,u){var c=$i(t,xe(),n,o,s,l);return Ie(4),c?e+fn(n)+r+fn(o)+i+fn(s)+a+fn(l)+u:Ur}(_e(),t,e,n,r,o,i,s,a,l),!0)}function ra(t,e,n){var r=_e();return Zi(r,Ne(),e)&&wo(Oe(),Xe(),r,t,e,r[11],n,!0),ra}function oa(t,e,n){var r=_e();if(Zi(r,Ne(),e)){var o=Oe(),i=Xe();wo(o,i,r,t,e,zo(Le(o.data),i,r),n,!0)}return oa}function ia(t,e){var n=fe(t)[1],r=n.data.length-1;Ze(n,{directiveStart:r,directiveEnd:r+1})}function sa(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var o=void 0;if(Xt(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");o=e.\u0275dir}if(o){if(n){r.push(o);var i=t;i.inputs=aa(t.inputs),i.declaredInputs=aa(t.declaredInputs),i.outputs=aa(t.outputs);var s=o.hostBindings;s&&ca(t,s);var a=o.viewQuery,l=o.contentQueries;if(a&&la(t,a),l&&ua(t,l),T(t.inputs,o.inputs),T(t.declaredInputs,o.declaredInputs),T(t.outputs,o.outputs),Xt(o)&&o.data.animation){var u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}var c=o.features;if(c)for(var p=0;p<c.length;p++){var h=c[p];h&&h.ngInherit&&h(t),h===sa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ln(o.hostAttrs,n=ln(n,o.hostAttrs))}}(r)}function aa(t){return t===kt?{}:t===At?[]:t}function la(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ua(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,o){e(t,r,o),n(t,r,o)}:e}function ca(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}function pa(t,e,n,r,o){if(t=B(t),Array.isArray(t))for(var i=0;i<t.length;i++)pa(t[i],e,n,r,o);else{var s=Oe(),a=_e(),l=Vi(t)?t:B(t.provide),u=Li(t),c=Se(),p=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Vi(t)||!t.multi){var f=new rn(u,o,is),g=fa(l,e,o?p:p+d,h);-1===g?(Sn(wn(c,a),s,l),ha(s,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(f),a.push(f)):(n[g]=f,a[g]=f)}else{var y=fa(l,e,p+d,h),v=fa(l,e,p,p+d),m=y>=0&&n[y],C=v>=0&&n[v];if(o&&!C||!o&&!m){Sn(wn(c,a),s,l);var b=function(t,e,n,r,o){var i=new rn(t,n,is);return i.multi=[],i.index=e,i.componentProviders=0,da(i,o,r&&!n),i}(o?ya:ga,n.length,o,r,u);!o&&C&&(n[v].providerFactory=b),ha(s,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(b),a.push(b)}else ha(s,t,y>-1?y:v,da(n[o?v:y],u,!o&&r));!o&&r&&C&&n[v].componentProviders++}}}function ha(t,e,n,r){var o=Vi(e);if(o||e.useClass){var i=(e.useClass||e).prototype.ngOnDestroy;if(i){var s=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,i]):s[a+1].push(r,i)}else s.push(n,i)}}}function da(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fa(t,e,n,r){for(var o=n;o<r;o++)if(e[o]===t)return o;return-1}function ga(t,e,n,r){return va(this.multi,[])}function ya(t,e,n,r){var o,i=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=An(n,n[1],this.providerFactory.index,r);va(i,o=a.slice(0,s));for(var l=s;l<a.length;l++)o.push(a[l])}else va(i,o=[]);return o}function va(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ma(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Oe();if(r.firstCreatePass){var o=Xt(t);pa(n,r.data,r.blueprint,o,!0),pa(e,r.data,r.blueprint,o,!1)}}(n,r?r(t):t,e)}}}var Ca=function t(){f(this,t)},ba=function(){function t(){f(this,t)}return y(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(j(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),wa=function(){var t=function t(){f(this,t)};return t.NULL=new ba,t}(),_a=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Oa(t)},t}(),Oa=function(t){return wi(t,Se(),_e())},Ea=function t(){f(this,t)},Sa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Pa=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ta()},t}(),Ta=function(){var t=_e(),e=de(Se().index,t);return function(t){var e=t[11];if(se(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(zt(e)?e:t)},Ra=function(){var t=function t(){f(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),ka=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Aa=new ka("10.0.14"),Da=function(){function t(){f(this,t)}return y(t,[{key:"supports",value:function(t){return qi(t)}},{key:"create",value:function(t){return new Na(t)}}]),t}(),xa=function(t,e){return e},Na=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xa}return y(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<La(n,r,o)?e:n,s=La(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var l=s-r,u=a-r;if(l!=u){for(var c=0;c<l;c++){var p=c<o.length?o[c]:o[c]=0,h=p+c;u<=h&&h<l&&(o[c]=p+1)}o[i.previousIndex]=u-l}}s!==a&&t(i,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!qi(t))throw new Error("Error trying to diff '".concat(j(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,o,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==i&&Object.is(i.trackById,o)?(s&&(i=this._verifyReinsertion(i,r,o,a)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,a),s=!0),i=i._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,o=t[Ki()]();!(r=o.next()).done;)e(r.value)}(t,(function(t){o=e._trackByFn(n,t),null!==i&&Object.is(i.trackById,o)?(s&&(i=e._verifyReinsertion(i,t,o,n)),Object.is(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,o,n),s=!0),i=i._next,n++})),this.length=n;return this._truncate(i),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new Ia(e,n),o,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ma),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Ia=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Fa=function(){function t(){f(this,t),this._head=null,this._tail=null}return y(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ma=function(){function t(){f(this,t),this.map=new Map}return y(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Fa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function La(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var ja=function(){function t(){f(this,t)}return y(t,[{key:"supports",value:function(t){return t instanceof Map||Xi(t)}},{key:"create",value:function(){return new Ga}}]),t}(),Ga=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return y(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Xi(t)))throw new Error("Error trying to diff '".concat(j(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new Va(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Va=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Wa=function(){var t=function(){function t(e){f(this,t),this.factories=e}return y(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new _]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return new t([new Da])}}),t}(),Ba=function(){var t=function(){function t(e){f(this,t),this.factories=e}return y(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new _]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return new t([new ja])}}),t}(),Ha=[new ja],za=new Wa([new Da]),Ua=new Ba(Ha),Ka=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ya(t,_a)},t}(),Ya=function(t,e){return _i(t,e,Se(),_e())},qa=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return Xa(t,_a)},t}(),Xa=function(t,e){return Oi(t,e,Se(),_e())},Qa={},Za=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return y(n,[{key:"resolveComponentFactory",value:function(t){var e=Wt(t);return new tl(e,this.ngModule)}}]),n}(wa);function Ja(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var $a=new rt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return yn}}),tl=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this)).componentDef=t,o.ngModule=r,o.componentType=t.type,o.selector=t.selectors.map(zr).join(","),o.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],o.isBoundToModule=!!r,o}return y(n,[{key:"create",value:function(t,e,n,r){var o,i,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,o){var i=t.get(n,Qa,o);return i!==Qa||r===Qa?i:e.get(n,r,o)}}}(t,r.injector):t,a=s.get(Ea,ae),l=s.get(Ra,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",p=n?function(t,e,n){if(se(t))return t.selectRootElement(e,n===Rt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):io(c,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:yn,clean:Bo,playerHandler:null,flags:0},f=vo(0,-1,null,1,0,null,null,null,null,null),g=so(null,f,d,h,null,null,a,u,l,s);We(g,null);try{var y=function(t,e,n,r,o,i){var s=n[1];n[20]=t;var a=ao(s,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(zi(a,l,!0),null!==t&&(on(o,t,l),null!==a.classes&&gi(o,t,a.classes),null!==a.styles&&fi(o,t,a.styles)));var u=r.createRenderer(t,e),c=so(n,yo(e),null,e.onPush?64:16,n[20],a,r,u,void 0);return s.firstCreatePass&&(Sn(wn(a,n),s,e.type),To(s,a),ko(a,n.length,1)),Lo(n,c),n[20]=c}(p,this.componentDef,g,a,u);if(p)if(n)on(u,p,["ng-version",Aa.full]);else{var v=function(t){for(var e=[],n=[],r=1,o=2;r<t.length;){var i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!Gr(o))break;o=i}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=v.attrs,C=v.classes;m&&on(u,p,m),C&&C.length>0&&gi(u,p,C.join(" "))}if(i=pe(f,0),void 0!==e)for(var b=i.projection=[],w=0;w<this.ngContentSelectors.length;w++){var _=e[w];b.push(null!=_?Array.from(_):null)}o=function(t,e,n,r,o){var i=n[1],s=function(t,e,n){var r=Se();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Po(t,r,1),Ao(t,e,n));var o=An(e,t,e.length-1,r);Dr(o,e);var i=ce(r,e);return i&&Dr(i,e),o}(i,n,e);r.components.push(s),t[8]=s,o&&o.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=Se();if(i.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){qe(a.index-20);var l=n[1];Oo(l,e),Eo(l,n,e.hostVars),So(e,s)}return s}(y,this.componentDef,g,d,[ia]),lo(f,g,null)}finally{Ke()}var O=new el(this.componentType,o,wi(_a,i,g),g,i);return f.node.child=i,O}},{key:"inputs",get:function(){return Ja(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ja(this.componentDef.outputs)}}]),n}(Ca),el=function(t){a(n,t);var e=u(n);function n(t,r,o,i,s){var a,l,u,c;return f(this,n),(a=e.call(this)).location=o,a._rootLView=i,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new bi(i),l=i[1],u=i,null==(c=l.node)&&(l.node=c=Co(0,null,2,-1,null,null)),u[6]=c,a.componentType=t,a}return y(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new Nn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){f(this,t)}}()),nl=void 0,rl=["en",[["a","p"],["AM","PM"],nl],[["AM","PM"],nl,nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nl,"{1} 'at' {0}",nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ol={};function il(t,e,n){"string"!=typeof e&&(n=e,e=t[cl.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ol[e]=t,n&&(ol[e][cl.ExtraData]=n)}function sl(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ul(e);if(n)return n;var r=e.split("-")[0];if(n=ul(r))return n;if("en"===r)return rl;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function al(t){return sl(t)[cl.CurrencyCode]||null}function ll(t){return sl(t)[cl.PluralCase]}function ul(t){return t in ol||(ol[t]=X.ng&&X.ng.common&&X.ng.common.locales&&X.ng.common.locales[t]),ol[t]}var cl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function pl(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var hl=new Map,dl=function(t){a(n,t);var e=u(n);function n(t,r){var o;f(this,n),(o=e.call(this))._parent=r,o._bootstrapComponents=[],o.injector=p(o),o.destroyCbs=[],o.componentFactoryResolver=new Za(p(o));var i=Ht(t),s=t[tt]||null;return s&&pl(s),o._bootstrapComponents=vn(i.bootstrap),o._r3Injector=Ii(t,r,[{provide:vt,useValue:p(o)},{provide:wa,useValue:o.componentFactoryResolver}],j(t)),o._r3Injector._resolveInjectorDefTypes(),o.instance=o.get(t),o}return y(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.Default;return t===Bi||t===vt||t===ot?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(vt),fl=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this)).moduleType=t,null!==Ht(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(j(e)," vs ").concat(j(e.name)))})(n,hl.get(n),e),hl.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return y(n,[{key:"create",value:function(t){return new dl(this.moduleType,t)}}]),n}(mt);function gl(t,e,n){var r=De()+t,o=_e();return o[r]===Ur?Qi(o,r,n?e.call(n):e()):function(t,e){return t[e]}(o,r)}function yl(t,e,n,r){return wl(_e(),De(),t,e,n,r)}function vl(t,e,n,r,o){return _l(_e(),De(),t,e,n,r,o)}function ml(t,e,n,r,o,i){return function(t,e,n,r,o,i,s,a){var l=e+n;return function(t,e,n,r,o){var i=Ji(t,e,n,r);return Zi(t,e+2,o)||i}(t,l,o,i,s)?Qi(t,l+3,a?r.call(a,o,i,s):r(o,i,s)):bl(t,l+3)}(_e(),De(),t,e,n,r,o,i)}function Cl(t,e,n,r,o,i,s){return function(t,e,n,r,o,i,s,a,l){var u=e+n;return $i(t,u,o,i,s,a)?Qi(t,u+4,l?r.call(l,o,i,s,a):r(o,i,s,a)):bl(t,u+4)}(_e(),De(),t,e,n,r,o,i,s)}function bl(t,e){var n=t[e];return n===Ur?void 0:n}function wl(t,e,n,r,o,i){var s=e+n;return Zi(t,s,o)?Qi(t,s+1,i?r.call(i,o):r(o)):bl(t,s+1)}function _l(t,e,n,r,o,i,s){var a=e+n;return Ji(t,a,o,i)?Qi(t,a+2,s?r.call(s,o,i):r(o,i)):bl(t,a+2)}function Ol(t,e){var n,r=Oe(),o=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(o,n.onDestroy)):n=r.data[o];var i=n.factory||(n.factory=Bt(n.type)),s=ct(is),a=Cn(!1),l=i();return Cn(a),ct(s),function(t,e,n,r){var o=n+20;o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),e[o]=r}(r,_e(),t,l),l}function El(t,e,n){var r=_e(),o=he(r,t);return Tl(r,Pl(r,t)?wl(r,De(),e,o.transform,n,o):o.transform(n))}function Sl(t,e,n,r){var o=_e(),i=he(o,t);return Tl(o,Pl(o,t)?_l(o,De(),e,i.transform,n,r,i):i.transform(n,r))}function Pl(t,e){return t[1].data[e+20].pure}function Tl(t,e){return Yi.isWrapped(e)&&(e=Yi.unwrap(e),t[xe()]=Ur),e}var Rl=function(t){a(r,t);var e=u(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,r),(t=e.call(this)).__isAsync=n,t}return y(r,[{key:"emit",value:function(t){n(d(r.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,o){var i,s=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(s=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),o&&(a=this.__isAsync?function(){setTimeout((function(){return o()}))}:function(){o()}));var l=n(d(r.prototype),"subscribe",this).call(this,i,s,a);return t instanceof h.a&&t.add(l),l}}]),r}(c.a);function kl(){return this._results[Ki()]()}var Al=function(){function t(){f(this,t),this.dirty=!0,this._results=[],this.changes=new Rl,this.length=0;var e=Ki(),n=t.prototype;n[e]||(n[e]=kl)}return y(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?(n===e&&(n=e.slice(0,r)),t(o,n)):n!==e&&n.push(o)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Dl=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return y(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),xl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return y(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,o=[],i=0;i<r;i++){var s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new t(o)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Xl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Nl=function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=o},Il=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return y(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Fl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return y(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];this.matchTNodeWithReadOption(t,e,Ml(e,o)),this.matchTNodeWithReadOption(t,e,kn(e,t,o,!1,!1))}else n===Ka?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,kn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===_a||r===qa||r===Ka&&0===e.type)this.addMatch(e.index,-2);else{var o=kn(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Ml(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ll(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?wi(_a,t,e):0===t.type?_i(Ka,_a,t,e):null}(e,t):-2===n?function(t,e,n){return n===_a?wi(_a,e,t):n===Ka?_i(Ka,_a,e,t):n===qa?Oi(qa,_a,e,t):void 0}(t,e,r):An(t,t[1],n,e)}function jl(t,e,n,r){var o=e[19].queries[r];if(null===o.matches){for(var i=t.data,s=n.matches,a=[],l=0;l<s.length;l+=2){var u=s[l];a.push(u<0?null:Ll(e,i[u],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function Gl(t){var e=_e(),n=Oe(),r=je();Ge(r+1);var o=Xl(n,r);if(t.dirty&&ge(e)===o.metadata.isStatic){if(null===o.matches)t.reset([]);else{var i=o.crossesNgTemplate?function t(e,n,r,o){var i=e.queries.getByIndex(r),s=i.matches;if(null!==s)for(var a=jl(e,n,i,r),l=0;l<s.length;l+=2){var u=s[l];if(u>0)o.push(a[l/2]);else{for(var c=s[l+1],p=n[-u],h=10;h<p.length;h++){var d=p[h];d[17]===d[3]&&t(d[1],d,c,o)}if(null!==p[9])for(var f=p[9],g=0;g<f.length;g++){var y=f[g];t(y[1],y,c,o)}}}return o}(n,e,r,[]):jl(n,e,o,r);t.reset(i),t.notifyOnChanges()}return!0}return!1}function Vl(t,e,n){Bl(Oe(),_e(),t,e,n,!0)}function Wl(t,e,n){Bl(Oe(),_e(),t,e,n,!1)}function Bl(t,e,n,r,o,i){t.firstCreatePass&&(ql(t,new Nl(n,r,i,o),-1),i&&(t.staticViewQueries=!0)),Yl(t,e)}function Hl(t,e,n,r){Ul(Oe(),_e(),e,n,r,!1,Se(),t)}function zl(t,e,n,r){Ul(Oe(),_e(),e,n,r,!0,Se(),t)}function Ul(t,e,n,r,o,i,s,a){t.firstCreatePass&&(ql(t,new Nl(n,r,i,o),s.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),i&&(t.staticContentQueries=!0)),Yl(t,e)}function Kl(){return t=_e(),e=je(),t[19].queries[e].queryList;var t,e}function Yl(t,e){var n=new Al;mo(t,e,n,n.destroy),null===e[19]&&(e[19]=new xl),e[19].queries.push(new Dl(n))}function ql(t,e,n){null===t.queries&&(t.queries=new Il),t.queries.track(new Fl(e,n))}function Xl(t,e){return t.queries.getByIndex(e)}function Ql(t,e){return _i(Ka,_a,t,e)}function Zl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.Default,e=Ei(!0);if(null!=e||t&S.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var Jl=new rt("Application Initializer"),$l=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return y(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();ys(o)&&e.push(o)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ht(Jl,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),tu=new rt("AppId"),eu={provide:tu,useFactory:function(){return"".concat(nu()).concat(nu()).concat(nu())},deps:[]};function nu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ru=new rt("Platform Initializer"),ou=new rt("Platform ID"),iu=new rt("appBootstrapListener"),su=function(){var t=function(){function t(){f(this,t)}return y(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),au=new rt("LocaleId"),lu=new rt("DefaultCurrencyCode"),uu=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},cu=function(t){return new fl(t)},pu=cu,hu=function(t){return Promise.resolve(cu(t))},du=function(t){var e=cu(t),n=vn(Ht(t).declarations).reduce((function(t,e){var n=Wt(e);return n&&t.push(new tl(n)),t}),[]);return new uu(e,n)},fu=du,gu=function(t){return Promise.resolve(du(t))},yu=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=pu,this.compileModuleAsync=hu,this.compileModuleAndAllComponentsSync=fu,this.compileModuleAndAllComponentsAsync=gu}return y(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),vu=Promise.resolve(0);function mu(t){"undefined"==typeof Zone?vu.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Cu=function(){function t(e){var n,r,o=e.enableLongStackTrace,i=void 0!==o&&o,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=X.requestAnimationFrame,e=X.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(X,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,Ou(t),_u(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),Ou(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,o,i,s,a){try{return Eu(n),t.invokeTask(o,i,s,a)}finally{r&&"eventTask"===i.type&&r(),Su(n)}},onInvoke:function(t,e,r,o,i,s,a){try{return Eu(n),t.invoke(r,o,i,s,a)}finally{Su(n)}},onHasTask:function(t,e,r,o){t.hasTask(r,o),e===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Ou(n),_u(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,e,r,o){return t.handleError(r,o),n.runOutsideAngular((function(){return n.onError.emit(o)})),!1}})}return y(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,wu,bu,bu);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function bu(){}var wu={};function _u(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Ou(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Eu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Su(t){t._nesting--,_u(t)}var Pu=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}return y(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Tu=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return y(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Cu.assertNotInAngularZone(),mu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())mu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,o=-1;e&&e>0&&(o=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==o})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ht(Cu))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Ru=function(){var t=function(){function t(){f(this,t),this._applications=new Map,Du.addToWindow(this)}return y(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Du.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function ku(t){Du=t}var Au,Du=new(function(){function t(){f(this,t)}return y(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),xu=new rt("AllowMultipleToken"),Nu=function t(e,n){f(this,t),this.name=e,this.token=n};function Iu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,o=new rt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=Fu();if(!i||i.injector.get(xu,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var s=n.concat(e).concat({provide:o,useValue:!0},{provide:Ri,useValue:"platform"});!function(t){if(Au&&!Au.destroyed&&!Au.injector.get(xu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Au=t.get(Mu);var e=t.get(ru,null);e&&e.forEach((function(t){return t()}))}(Bi.create({providers:s,name:r}))}return function(t){var e=Fu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function Fu(){return Au&&!Au.destroyed?Au:null}var Mu=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return y(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,o=this,i=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Pu:("zone.js"===n?void 0:n)||new Cu({enableLongStackTrace:nr(),shouldCoalesceEventChangeDetection:r})),s=[{provide:Cu,useValue:i}];return i.run((function(){var e=Bi.create({providers:s,parent:o.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Gn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Gu(o._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var i=((s=n.injector.get($l)).runInitializers(),s.donePromise.then((function(){return pl(n.injector.get(au,"en-US")||"en-US"),o._moduleDoBootstrap(n),n})));return ys(i)?i.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):i}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,i)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Lu({},n);return function(t,e,n){var r=new fl(n);return Promise.resolve(r)}(0,0,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(ju);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(j(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ht(Bi))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Lu(t,e){return Array.isArray(e)?e.reduce(Lu,t):Object.assign(Object.assign({},t),e)}var ju=function(){var t=function(){function t(e,n,r,o,i,s){var a=this;f(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=nr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var l=new g.a((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),u=new g.a((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){Cu.assertNotInAngularZone(),mu((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Cu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(v.a)(l,u.pipe(Object(m.a)()))}return y(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ca?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n.isBoundToModule?void 0:this._injector.get(vt),i=n.create(Bi.NULL,[],e||n.selector,o);i.onDestroy((function(){r._unloadComponent(i)}));var s=i.injector.get(Tu,null);return s&&i.injector.get(Ru).registerApplication(i.location.nativeElement,s),this._loadComponent(i),nr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=r(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(s){n.e(s)}finally{n.f()}if(this._enforceNoNewChanges){var o,i=r(this._views);try{for(i.s();!(o=i.n()).done;){o.value.checkNoChanges()}}catch(s){i.e(s)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Gu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(iu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Gu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ht(Cu),ht(su),ht(Bi),ht(Gn),ht(wa),ht($l))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Gu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Vu=function t(){f(this,t)},Wu=function t(){f(this,t)},Bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Hu=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||Bu}return y(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,n=o(t.split("#"),2),r=n[0],i=n[1];return void 0===i&&(i="default"),l("zn8P")(r).then((function(t){return t[i]})).then((function(t){return zu(t,r,i)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=o(t.split("#"),2),n=e[0],r=e[1],i="NgFactory";return void 0===r&&(r="default",i=""),l("zn8P")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then((function(t){return t[r+i]})).then((function(t){return zu(t,n,r)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ht(yu),ht(Wu,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function zu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Uu=function(t){return null},Ku=Iu(null,"core",[{provide:ou,useValue:"unknown"},{provide:Mu,deps:[Bi]},{provide:Ru,deps:[]},{provide:su,deps:[]}]),Yu=[{provide:ju,useClass:ju,deps:[Cu,su,Bi,Gn,wa,$l]},{provide:$a,deps:[Cu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:$l,useClass:$l,deps:[[new _,Jl]]},{provide:yu,useClass:yu,deps:[]},eu,{provide:Wa,useFactory:function(){return za},deps:[]},{provide:Ba,useFactory:function(){return Ua},deps:[]},{provide:au,useFactory:function(t){return pl(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new w(au),new _,new E]]},{provide:lu,useValue:"USD"}],qu=function(){var t=function t(e){f(this,t)};return t.\u0275mod=Mt({type:t}),t.\u0275inj=k({factory:function(e){return new(e||t)(ht(ju))},providers:Yu}),t}()},ETyd:function(t,e,n){"use strict";n.d(e,"a",(function(){return V})),n.d(e,"b",(function(){return G})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return L})),n.d(e,"e",(function(){return W}));var r=n("N1LS"),i=n("JuBR"),s=n("mrqE");function a(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),o=Object(r.a)(e);if(isNaN(o))return new Date(NaN);if(!o)return n;var a=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+o+1,0);var u=l.getDate();return a>=u?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}var l=n("njY1");function u(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return e.setHours(0,0,0,0),e}function c(t,e){Object(s.a)(2,arguments);var n=u(t),r=u(e),o=n.getTime()-Object(l.a)(n),i=r.getTime()-Object(l.a)(r);return Math.round((o-i)/864e5)}function p(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),r=Object(i.a)(e),o=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return 12*o+a}function h(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),r=Object(i.a)(e);return n.getFullYear()-r.getFullYear()}function d(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),r=Object(i.a)(e);return n.getTime()-r.getTime()}function g(t,e){Object(s.a)(2,arguments);var n=d(t,e)/36e5;return n>0?Math.floor(n):Math.ceil(n)}function v(t,e){Object(s.a)(2,arguments);var n=d(t,e)/6e4;return n>0?Math.floor(n):Math.ceil(n)}function m(t,e){Object(s.a)(2,arguments);var n=d(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function C(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return e.setHours(23,59,59,999),e}function b(t){Object(s.a)(1,arguments);var e=Object(i.a)(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function w(t,e){Object(s.a)(2,arguments);var n=u(t),r=u(e);return n.getTime()===r.getTime()}function _(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return e.setMinutes(0,0,0),e}function O(t,e){Object(s.a)(2,arguments);var n=_(t),r=_(e);return n.getTime()===r.getTime()}function E(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return e.setSeconds(0,0),e}function S(t,e){Object(s.a)(2,arguments);var n=E(t),r=E(e);return n.getTime()===r.getTime()}function P(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),r=Object(i.a)(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function T(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return e.setMilliseconds(0),e}function R(t,e){Object(s.a)(2,arguments);var n=T(t),r=T(e);return n.getTime()===r.getTime()}function k(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),r=Object(i.a)(e);return n.getFullYear()===r.getFullYear()}var A=n("it/K");function D(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),o=Object(r.a)(e);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}function x(t){Object(s.a)(1,arguments);var e=Object(i.a)(t),n=e.getFullYear(),r=e.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}var N=n("zYp8"),I=n("UZJT"),F=n("2kYt"),M=n("7ucf");function L(t){var e=o(t,2),n=e[0],r=e[1];return!!n&&!!r&&r.isBeforeDay(n)}function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"month",r=o(t,2),i=r[0],s=r[1],a=i||new V,l=s||new V;return i&&!s?(a=i,l=i.add(1,n)):!i&&s&&(a=s.add(-1,n),l=s),l.isSame(a,n)&&!e&&(l=a.add(1,n)),[a,l]}function G(t){return Array.isArray(t)?t.map((function(t){return t instanceof V?t.clone():null})):t instanceof V?t.clone():null}var V=function(){function t(e){if(f(this,t),e)if(e instanceof Date)this.nativeDate=e;else{if("string"!=typeof e&&"number"!=typeof e)throw new Error('The input date type is not supported ("Date" is now recommended)');Object(I.b)('The string type is not recommended for date-picker, use "Date" type'),this.nativeDate=new Date(e)}else this.nativeDate=new Date}return y(t,[{key:"calendarStart",value:function(e){return new t(Object(N.a)(function(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return e.setDate(1),e.setHours(0,0,0,0),e}(this.nativeDate),e))}},{key:"getYear",value:function(){return this.nativeDate.getFullYear()}},{key:"getMonth",value:function(){return this.nativeDate.getMonth()}},{key:"getDay",value:function(){return this.nativeDate.getDay()}},{key:"getTime",value:function(){return this.nativeDate.getTime()}},{key:"getDate",value:function(){return this.nativeDate.getDate()}},{key:"getHours",value:function(){return this.nativeDate.getHours()}},{key:"getMinutes",value:function(){return this.nativeDate.getMinutes()}},{key:"getSeconds",value:function(){return this.nativeDate.getSeconds()}},{key:"getMilliseconds",value:function(){return this.nativeDate.getMilliseconds()}},{key:"clone",value:function(){return new t(new Date(this.nativeDate))}},{key:"setHms",value:function(e,n,r){return new t(this.nativeDate.setHours(e,n,r))}},{key:"setYear",value:function(e){return new t(function(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),o=Object(r.a)(e);return isNaN(n)?new Date(NaN):(n.setFullYear(o),n)}(this.nativeDate,e))}},{key:"addYears",value:function(e){return new t(function(t,e){Object(s.a)(2,arguments);var n=Object(r.a)(e);return a(t,12*n)}(this.nativeDate,e))}},{key:"setMonth",value:function(e){return new t(function(t,e){Object(s.a)(2,arguments);var n=Object(i.a)(t),o=Object(r.a)(e),a=n.getFullYear(),l=n.getDate(),u=new Date(0);u.setFullYear(a,o,15),u.setHours(0,0,0,0);var c=x(u);return n.setMonth(o,Math.min(l,c)),n}(this.nativeDate,e))}},{key:"addMonths",value:function(e){return new t(a(this.nativeDate,e))}},{key:"setDay",value:function(e,n){return new t(function(t,e,n){Object(s.a)(2,arguments);var o=n||{},a=o.locale,l=a&&a.options&&a.options.weekStartsOn,u=null==l?0:Object(r.a)(l),c=null==o.weekStartsOn?u:Object(r.a)(o.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Object(i.a)(t,o),h=Object(r.a)(e),d=p.getDay(),f=h%7,g=(f+7)%7,y=7-c,v=h<0||h>6?h-(d+y)%7:(g+y)%7-(d+y)%7;return D(p,v,o)}(this.nativeDate,e,n))}},{key:"setDate",value:function(e){var n=new Date(this.nativeDate);return n.setDate(e),new t(n)}},{key:"addDays",value:function(t){return this.setDate(this.getDate()+t)}},{key:"add",value:function(t,e){switch(e){case"decade":return this.addYears(10*t);case"year":return this.addYears(t);case"month":default:return this.addMonths(t)}}},{key:"isSame",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";switch(n){case"decade":e=function(t,e){return Math.abs(t.getFullYear()-e.getFullYear())<11};break;case"year":e=k;break;case"month":e=P;break;case"day":e=w;break;case"hour":e=O;break;case"minute":e=S;break;case"second":e=R;break;default:e=w}return e(this.nativeDate,this.toNativeDate(t))}},{key:"isSameYear",value:function(t){return this.isSame(t,"year")}},{key:"isSameMonth",value:function(t){return this.isSame(t,"month")}},{key:"isSameDay",value:function(t){return this.isSame(t,"day")}},{key:"isSameHour",value:function(t){return this.isSame(t,"hour")}},{key:"isSameMinute",value:function(t){return this.isSame(t,"minute")}},{key:"isSameSecond",value:function(t){return this.isSame(t,"second")}},{key:"isBefore",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";if(null===t)return!1;switch(n){case"year":e=h;break;case"month":e=p;break;case"day":e=c;break;case"hour":e=g;break;case"minute":e=v;break;case"second":e=m;break;default:e=c}return e(this.nativeDate,this.toNativeDate(t))<0}},{key:"isBeforeYear",value:function(t){return this.isBefore(t,"year")}},{key:"isBeforeMonth",value:function(t){return this.isBefore(t,"month")}},{key:"isBeforeDay",value:function(t){return this.isBefore(t,"day")}},{key:"isToday",value:function(){return function(t){return Object(s.a)(1,arguments),w(t,Date.now())}(this.nativeDate)}},{key:"isValid",value:function(){return Object(A.a)(this.nativeDate)}},{key:"isFirstDayOfMonth",value:function(){return function(t){return Object(s.a)(1,arguments),1===Object(i.a)(t).getDate()}(this.nativeDate)}},{key:"isLastDayOfMonth",value:function(){return function(t){Object(s.a)(1,arguments);var e=Object(i.a)(t);return C(e).getTime()===b(e).getTime()}(this.nativeDate)}},{key:"toNativeDate",value:function(e){return e instanceof t?e.nativeDate:e}}]),t}(),W=function(){function t(e,n){f(this,t),this.format=e,this.localeId=n,this.regex=null,this.matchMap={hour:null,minute:null,second:null,periodNarrow:null,periodWide:null,periodAbbreviated:null},this.genRegexp()}return y(t,[{key:"toDate",value:function(t){var e=this.getTimeResult(t),n=new Date;return Object(M.g)(null==e?void 0:e.hour)&&n.setHours(e.hour),Object(M.g)(null==e?void 0:e.minute)&&n.setMinutes(e.minute),Object(M.g)(null==e?void 0:e.second)&&n.setSeconds(e.second),1===(null==e?void 0:e.period)&&n.getHours()<12&&n.setHours(n.getHours()+12),n}},{key:"getTimeResult",value:function(t){var e=this.regex.exec(t),n=null;return e?(Object(M.g)(this.matchMap.periodNarrow)&&(n=Object(F.y)(this.localeId,F.f.Format,F.v.Narrow).indexOf(e[this.matchMap.periodNarrow+1])),Object(M.g)(this.matchMap.periodWide)&&(n=Object(F.y)(this.localeId,F.f.Format,F.v.Wide).indexOf(e[this.matchMap.periodWide+1])),Object(M.g)(this.matchMap.periodAbbreviated)&&(n=Object(F.y)(this.localeId,F.f.Format,F.v.Abbreviated).indexOf(e[this.matchMap.periodAbbreviated+1])),{hour:Object(M.g)(this.matchMap.hour)?Number.parseInt(e[this.matchMap.hour+1],10):null,minute:Object(M.g)(this.matchMap.minute)?Number.parseInt(e[this.matchMap.minute+1],10):null,second:Object(M.g)(this.matchMap.second)?Number.parseInt(e[this.matchMap.second+1],10):null,period:n}):null}},{key:"genRegexp",value:function(){var t=this,e=this.format.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),n=/h{1,2}/i,r=/m{1,2}/,o=/s{1,2}/,i=/aaaaa/,s=/aaaa/,a=/a{1,3}/,l=n.exec(this.format),u=r.exec(this.format),c=o.exec(this.format),p=i.exec(this.format),h=null,d=null;p||(h=s.exec(this.format)),h||p||(d=a.exec(this.format)),[l,u,c,p,h,d].filter((function(t){return!!t})).sort((function(t,e){return t.index-e.index})).forEach((function(f,g){switch(f){case l:t.matchMap.hour=g,e=e.replace(n,"(\\d{1,2})");break;case u:t.matchMap.minute=g,e=e.replace(r,"(\\d{1,2})");break;case c:t.matchMap.second=g,e=e.replace(o,"(\\d{1,2})");break;case p:t.matchMap.periodNarrow=g;var y=Object(F.y)(t.localeId,F.f.Format,F.v.Narrow).join("|");e=e.replace(i,"(".concat(y,")"));break;case h:t.matchMap.periodWide=g;var v=Object(F.y)(t.localeId,F.f.Format,F.v.Wide).join("|");e=e.replace(s,"(".concat(v,")"));break;case d:t.matchMap.periodAbbreviated=g;var m=Object(F.y)(t.localeId,F.f.Format,F.v.Abbreviated).join("|");e=e.replace(a,"(".concat(m,")"))}})),this.regex=new RegExp(e)}}]),t}()},EWqr:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t,r)).scheduler=t,o.work=r,o.pending=!1,o}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){a(n,t);var e=u(n);function n(t,r){return f(this,n),e.call(this)}return y(n,[{key:"schedule",value:function(t){return this}}]),n}(n("bwdy").a))},Efrr:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("EWqr"),o=new(n("DG/E").a)(r.a)},FP8e:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n("D57K");var r=n("EM62"),o=(n("ZXq0"),n("UPS/"),n("7ucf"),n("ZTXN"),n("kuMc"),n("2kYt")),i=n("kZKz"),s=n("JbzU"),a=function(){var t=function t(){f(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[o.b,s.b,i.a]]}),t}()},FU6l:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},GoAz:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("IdLP"),o=n("1MAX"),i=n("bwdy"),s=n("qEfY"),a=n("czMQ"),l=n("sWLk"),u=n("/vgl"),c=n("eY+9");function p(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){var o=t[s.a]();r.add(o.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(c.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[l.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[l.a](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(o.a)(t))}},HM3f:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("gBlb"),o=n("FU6l"),i=n("pBDD"),s=n("mW0F"),l=n("ckkg"),c={};function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=null,s=null;return Object(r.a)(e[e.length-1])&&(s=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(l.a)(e,s).lift(new h(i))}var h=function(){function t(e){f(this,t),this.resultSelector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.resultSelector))}}]),t}(),d=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).resultSelector=r,o.active=0,o.values=[],o.observables=[],o}return y(n,[{key:"_next",value:function(t){this.values.push(c),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(s.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,o){var i=this.values,s=this.toRespond?i[n]===c?--this.toRespond:this.toRespond:0;i[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(i.a)},HOZh:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c}));var r=n("EM62");n("5XID"),n("ZTXN"),n("HM3f"),n("qZtG"),n("IdLP"),n("J+dc"),n("5uGe"),n("mWib"),n("YtkY"),n("jIqt"),n("kuMc");var o,i,s,a=n("cZZj"),l=((o=function t(){f(this,t)}).\u0275mod=r.Lb({type:o}),o.\u0275inj=r.Kb({factory:function(t){return new(t||o)}}),o),u=new Set,c=((s=function(){function t(e){f(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):p}return y(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!u.has(t))try{i||((i=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(i)),i.sheet&&(i.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),u.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||s)(r.Xb(a.a))},s.\u0275prov=Object(r.Jb)({factory:function(){return new s(Object(r.Xb)(a.a))},token:s,providedIn:"root"}),s);function p(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}},HYj3:function(t,e,i){"use strict";i.d(e,"a",(function(){return pt})),i.d(e,"b",(function(){return ct})),i.d(e,"c",(function(){return V})),i.d(e,"d",(function(){return at})),i.d(e,"e",(function(){return G})),i.d(e,"f",(function(){return dt})),i.d(e,"g",(function(){return Y}));var s=i("qvOF"),l=i("EM62"),c=i("cZZj"),p=i("E5oP"),h=i("2kYt"),g=i("5XID"),v=i("Sv/w"),m=i("ZTXN"),C=i("bwdy"),b=i("g6G6"),w=i("J+dc"),_=i("kuMc"),O=i("5uGe"),E=function(){function t(e,n){f(this,t),this.predicate=e,this.inclusive=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new S(t,this.predicate,this.inclusive))}}]),t}(),S=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t)).predicate=r,i.inclusive=o,i.index=0,i}return y(n,[{key:"_next",value:function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)}},{key:"nextOrComplete",value:function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}]),n}(O.a),P=i("fAiE"),T=function(){function t(e,n){f(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return y(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(g.d)(-this._previousScrollPosition.left),t.style.top=Object(g.d)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=o}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),R=function(){function t(e,n,r,o){var i=this;f(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=function(){i.disable(),i._overlayRef.hasAttached()&&i._ngZone.run((function(){return i._overlayRef.detach()}))}}return y(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),k=function(){function t(){f(this,t)}return y(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function A(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function D(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var x,N,I,F,M,L=function(){function t(e,n,r,o){f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=o,this._scrollSubscription=null}return y(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,o=n.height;A(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),j=((x=function t(e,n,r,o){var i=this;f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new k},this.close=function(t){return new R(i._scrollDispatcher,i._ngZone,i._viewportRuler,t)},this.block=function(){return new T(i._viewportRuler,i._document)},this.reposition=function(t){return new L(i._scrollDispatcher,i._viewportRuler,i._ngZone,t)},this._document=o}).\u0275fac=function(t){return new(t||x)(l.Xb(s.e),l.Xb(s.g),l.Xb(l.z),l.Xb(h.c))},x.\u0275prov=Object(l.Jb)({factory:function(){return new x(Object(l.Xb)(s.e),Object(l.Xb)(s.g),Object(l.Xb)(l.z),Object(l.Xb)(h.c))},token:x,providedIn:"root"}),x),G=function t(e){if(f(this,t),this.scrollStrategy=new k,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];void 0!==e[o]&&(this[o]=e[o])}},V=function t(e,n,r,o,i){f(this,t),this.offsetX=r,this.offsetY=o,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},W=function t(e,n){f(this,t),this.connectionPair=e,this.scrollableViewProperties=n},B=((F=function(){function t(e){f(this,t),this._attachedOverlays=[],this._document=e}return y(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}()).\u0275fac=function(t){return new(t||F)(l.Xb(h.c))},F.\u0275prov=Object(l.Jb)({factory:function(){return new F(Object(l.Xb)(h.c))},token:F,providedIn:"root"}),F),H=((I=function(t){a(r,t);var e=u(r);function r(t){var n;return f(this,r),(n=e.call(this,t))._keydownListener=function(t){for(var e=n._attachedOverlays,r=e.length-1;r>-1;r--)if(e[r]._keydownEvents.observers.length>0){e[r]._keydownEvents.next(t);break}},n}return y(r,[{key:"add",value:function(t){n(d(r.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),r}(B)).\u0275fac=function(t){return new(t||I)(l.Xb(h.c))},I.\u0275prov=Object(l.Jb)({factory:function(){return new I(Object(l.Xb)(h.c))},token:I,providedIn:"root"}),I),z=((N=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this,t))._platform=n,o._cursorStyleIsSet=!1,o._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=o._attachedOverlays.slice(),r=n.length-1;r>-1;r--){var i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}},o}return y(r,[{key:"add",value:function(t){n(d(r.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}]),r}(B)).\u0275fac=function(t){return new(t||N)(l.Xb(h.c),l.Xb(c.a))},N.\u0275prov=Object(l.Jb)({factory:function(){return new N(Object(l.Xb)(h.c),Object(l.Xb)(c.a))},token:N,providedIn:"root"}),N),U=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),K=((M=function(){function t(e,n){f(this,t),this._platform=n,this._document=e}return y(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||U)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),U?r.setAttribute("platform","test"):t||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),t}()).\u0275fac=function(t){return new(t||M)(l.Xb(h.c),l.Xb(c.a))},M.\u0275prov=Object(l.Jb)({factory:function(){return new M(Object(l.Xb)(h.c),Object(l.Xb)(c.a))},token:M,providedIn:"root"}),M),Y=function(){function t(e,n,r,o,i,s,a,l,u){var c=this;f(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=o,this._ngZone=i,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new m.a,this._attachments=new m.a,this._detachments=new m.a,this._locationChanges=C.a.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new m.a,this._outsidePointerEvents=new m.a,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}return y(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(w.a)(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Object(g.d)(this._config.width),t.height=Object(g.d)(this._config.height),t.minWidth=Object(g.d)(this._config.minWidth),t.minHeight=Object(g.d)(this._config.minHeight),t.maxWidth=Object(g.d)(this._config.maxWidth),t.maxHeight=Object(g.d)(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;Object(g.b)(e).forEach((function(t){t&&(n?r.add(t):r.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.pipe(Object(_.a)(Object(b.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),q=/([A-Za-z%]+)$/,X=function(){function t(e,n,r,o,i){f(this,t),this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new m.a,this._resizeSubscription=C.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return y(t,[{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,o=this._overlayRect,i=this._viewportRect,s=[],a=r(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var l=e.value,u=this._getOriginPoint(n,l),c=this._getOverlayPoint(u,o,l),p=this._getOverlayFit(c,o,i,l);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,u);this._canFitWithFlexibleDimensions(p,c,i)?s.push({position:l,origin:u,overlayRect:o,boundingBoxRect:this._calculateBoundingBoxRect(u,l)}):(!t||t.overlayFit.visibleArea<p.visibleArea)&&(t={overlayFit:p,overlayPoint:c,originPoint:u,position:l,overlayRect:o})}}catch(m){a.e(m)}finally{a.f()}if(s.length){var h,d=null,f=-1,g=r(s);try{for(g.s();!(h=g.n()).done;){var y=h.value,v=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);v>f&&(f=v,d=y)}}catch(m){g.e(m)}finally{g.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Q(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;n="start"==e.originX?r:o}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}},{key:"_getOverlayFit",value:function(t,e,n,r){var o=t.x,i=t.y,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(o+=s),a&&(i+=a);var l=0-i,u=i+e.height-n.height,c=this._subtractOverflows(e.width,0-o,o+e.width-n.width),p=this._subtractOverflows(e.height,l,u),h=c*p;return{visibleArea:h,isCompletelyWithinViewport:e.width*e.height===h,fitsInViewportVertically:p===e.height,fitsInViewportHorizontally:c==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,o=n.right-e.x,i=Z(this._overlayRef.getConfig().minHeight),s=Z(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=o;return(t.fitsInViewportVertically||null!=i&&i<=r)&&a}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,o,i=this._viewportRect,s=Math.max(t.x+e.width-i.width,0),a=Math.max(t.y+e.height-i.height,0),l=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);return r=e.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,o=e.height<=i.height?l||-a:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:r,y:o},{x:t.x+r,y:t.y+o}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new W(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var o=0;o<n.length;o++)n[o].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,o,i,s,a,l=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)r=t.y,n=l.height-r+this._viewportMargin;else if("bottom"===e.overlayY)o=l.height-t.y+2*this._viewportMargin,n=l.height-o+this._viewportMargin;else{var c=Math.min(l.bottom-t.y+l.top,t.y),p=this._lastBoundingBoxSize.height;n=2*c,r=t.y-c,n>p&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-p/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)a=l.width-t.x+this._viewportMargin,i=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)s=t.x,i=l.right-t.x;else{var h=Math.min(l.right-t.x+l.left,t.x),d=this._lastBoundingBoxSize.width;i=2*h,s=t.x-h,i>d&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.x-d/2)}return{top:r,left:s,bottom:o,right:a,width:i,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var o=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Object(g.d)(n.height),r.top=Object(g.d)(n.top),r.bottom=Object(g.d)(n.bottom),r.width=Object(g.d)(n.width),r.left=Object(g.d)(n.left),r.right=Object(g.d)(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Object(g.d)(o)),i&&(r.maxWidth=Object(g.d)(i))}this._lastBoundingBoxSize=n,Q(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){Q(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Q(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,i=this._overlayRef.getConfig();if(r){var s=this._viewportRuler.getViewportScrollPosition();Q(n,this._getExactOverlayY(e,t,s)),Q(n,this._getExactOverlayX(e,t,s))}else n.position="static";var a="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(a+="translateX(".concat(l,"px) ")),u&&(a+="translateY(".concat(u,"px)")),n.transform=a.trim(),i.maxHeight&&(r?n.maxHeight=Object(g.d)(i.maxHeight):o&&(n.maxHeight="")),i.maxWidth&&(r?n.maxWidth=Object(g.d)(i.maxWidth):o&&(n.maxWidth="")),Q(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));var i=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=i,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Object(g.d)(o.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Object(g.d)(o.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:D(t,n),isOriginOutsideView:A(t,n),isOverlayClipped:D(e,n),isOverlayOutsideView:A(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Object(g.b)(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof l.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function Q(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Z(t){if("number"!=typeof t&&null!=t){var e=o(t.split(q),2),n=e[0],r=e[1];return r&&"px"!==r?null:parseFloat(n)}return t||null}var J,$,tt,et,nt,rt=function(){function t(e,n,r,o,i,s,a){f(this,t),this._preferredPositions=[],this._positionStrategy=new X(r,o,i,s,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return y(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var o=new V(t,e,n,r);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),ot=function(){function t(){f(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return y(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,o=n.height,i=n.maxWidth,s=n.maxHeight,a=!("100%"!==r&&"100vw"!==r||i&&"100%"!==i&&"100vw"!==i),l=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),it=(($=function(){function t(e,n,r,o){f(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}return y(t,[{key:"global",value:function(){return new ot}},{key:"connectedTo",value:function(t,e,n){return new rt(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new X(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||$)(l.Xb(s.g),l.Xb(h.c),l.Xb(c.a),l.Xb(K))},$.\u0275prov=Object(l.Jb)({factory:function(){return new $(Object(l.Xb)(s.g),Object(l.Xb)(h.c),Object(l.Xb)(c.a),Object(l.Xb)(K))},token:$,providedIn:"root"}),$),st=0,at=((J=function(){function t(e,n,r,o,i,s,a,l,u,c,p){f(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=i,this._injector=s,this._ngZone=a,this._document=l,this._directionality=u,this._location=c,this._outsideClickDispatcher=p}return y(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),o=new G(t);return o.direction=o.direction||this._directionality.value,new Y(r,e,n,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+st++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(l.g)),new v.d(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||J)(l.Xb(j),l.Xb(K),l.Xb(l.j),l.Xb(it),l.Xb(H),l.Xb(l.r),l.Xb(l.z),l.Xb(h.c),l.Xb(p.b),l.Xb(h.j),l.Xb(z))},J.\u0275prov=l.Jb({token:J,factory:J.\u0275fac}),J),lt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ut=new l.q("cdk-connected-overlay-scroll-strategy"),ct=((et=function t(e){f(this,t),this.elementRef=e}).\u0275fac=function(t){return new(t||et)(l.Nb(l.l))},et.\u0275dir=l.Ib({type:et,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),et),pt=((tt=function(){function t(e,n,r,o,i){f(this,t),this._overlay=e,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.a.EMPTY,this._attachSubscription=C.a.EMPTY,this._detachSubscription=C.a.EMPTY,this._positionSubscription=C.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new l.n,this.positionChange=new l.n,this.attach=new l.n,this.detach=new l.n,this.overlayKeydown=new l.n,this.overlayOutsideClick=new l.n,this._templatePortal=new v.f(n,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}return y(t,[{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;this.positions&&this.positions.length||(this.positions=lt);var e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe((function(){return t.attach.emit()})),this._detachSubscription=e.detachments().subscribe((function(){return t.detach.emit()})),e.keydownEvents().subscribe((function(e){t.overlayKeydown.next(e),e.keyCode!==P.f||Object(P.p)(e)||(e.preventDefault(),t._detachOverlay())})),this._overlayRef.outsidePointerEvents().subscribe((function(e){t.overlayOutsideClick.next(e)}))}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new G({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}},{key:"_updatePositionStrategy",value:function(t){var e=this,n=this.positions.map((function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY,panelClass:t.panelClass||void 0}}));return t.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}},{key:"_attachOverlay",value:function(){var t=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe((function(e){t.backdropClick.emit(e)})):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new E(t,e))}}((function(){return t.positionChange.observers.length>0}))).subscribe((function(e){t.positionChange.emit(e),0===t.positionChange.observers.length&&t._positionSubscription.unsubscribe()})))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}},{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Object(g.c)(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=Object(g.c)(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=Object(g.c)(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=Object(g.c)(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=Object(g.c)(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}}]),t}()).\u0275fac=function(t){return new(t||tt)(l.Nb(at),l.Nb(l.L),l.Nb(l.P),l.Nb(ut),l.Nb(p.b,8))},tt.\u0275dir=l.Ib({type:tt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.xb]}),tt),ht={provide:ut,deps:[at],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},dt=((nt=function t(){f(this,t)}).\u0275mod=l.Lb({type:nt}),nt.\u0275inj=l.Kb({factory:function(t){return new(t||nt)},providers:[at,ht],imports:[[p.a,v.e,s.f],s.f]}),nt)},HgnN:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},ICOb:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2kYt"),o=function(){function t(e){f(this,t),this.type=e}return y(t,[{key:"debug",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.doLog(i.debug,t,n)}},{key:"info",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.doLog(i.info,t,n)}},{key:"warn",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.doLog(i.warn,t,n)}},{key:"error",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.doLog(i.error,t,n)}},{key:"log",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.doLog(i.log,t,n)}},{key:"doLog",value:function(t,e){for(var n="".concat(new r.d("en-US").transform(Date.now(),"yyyy-MM-ddTHH:mm:ss").toString()," -- ").concat(t," -- [").concat(this.type.name,"]: ").concat(e),o=console[i[t]],s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];0==a.length?o(n):o(n,a)}}]),t}(),i=function(t){return t[t.log=0]="log",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t}({})},IJgj:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},IdLP:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,o=n("5uGe"),i=n("25CY"),s=n("rWo0"),a=n("qEfY"),l=n("5E2i"),u=n("HgnN"),c=((r=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return y(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,a=function(t,e,n){if(t){if(t instanceof o.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new o.a(t,e,n):new o.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof o.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=p(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?l.a:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=p(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function p(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"J+dc":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5uGe"),o=n("PNff"),i=n("6Oco");function s(t){return function(e){return 0===t?Object(i.b)():e.lift(new l(t))}}var l=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new o.a}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.total))}}]),t}(),c=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).total=r,o.count=0,o}return y(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},J50X:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return a}));var r=new(n("EM62").q)("appVersion"),o="ticket_list",i="send_report",s="SEND_HELPDESK",a="ag_default"},JbzU:function(t,n,r){"use strict";r.d(n,"a",(function(){return bt})),r.d(n,"b",(function(){return wt}));var i=r("cZZj"),s=r("EM62"),l=r("D57K"),c=r("2kYt");function p(t,e){(function(t){return"string"==typeof t&&t.includes(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&t.includes("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function h(t){return Math.min(1,Math.max(0,t))}function d(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function g(t){return t<=1?100*Number(t)+"%":t}function v(t){return 1===t.length?"0"+t:String(t)}function m(t,e,n){t=p(t,255),e=p(e,255),n=p(n,255);var r=Math.max(t,e,n),o=Math.min(t,e,n),i=0,s=0,a=(r+o)/2;if(r===o)s=0,i=0;else{var l=r-o;switch(s=a>.5?l/(2-r-o):l/(r+o),r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:s,l:a}}function C(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b(t,e,n){t=p(t,255),e=p(e,255),n=p(n,255);var r=Math.max(t,e,n),o=Math.min(t,e,n),i=0,s=r,a=r-o,l=0===r?0:a/r;if(r===o)i=0;else{switch(r){case t:i=(e-n)/a+(e<n?6:0);break;case e:i=(n-t)/a+2;break;case n:i=(t-e)/a+4}i/=6}return{h:i,s:l,v:s}}function w(t,e,n,r){var o=[v(Math.round(t).toString(16)),v(Math.round(e).toString(16)),v(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function _(t){return O(t)/255}function O(t){return parseInt(t,16)}var E={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},S="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",P="[\\s|\\(]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")\\s*\\)?",T="[\\s|\\(]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")\\s*\\)?",R={CSS_UNIT:new RegExp(S),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+T),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+T),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+T),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function k(t){return Boolean(R.CSS_UNIT.exec(String(t)))}var A=function(){function t(e,n){var r;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"==typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var o=function(t){var e,n,r={r:0,g:0,b:0},o=1,i=null,s=null,a=null,l=!1,u=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(E[t])t=E[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=R.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=R.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=R.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=R.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=R.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=R.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=R.hex8.exec(t))?{r:O(n[1]),g:O(n[2]),b:O(n[3]),a:_(n[4]),format:e?"name":"hex8"}:(n=R.hex6.exec(t))?{r:O(n[1]),g:O(n[2]),b:O(n[3]),format:e?"name":"hex"}:(n=R.hex4.exec(t))?{r:O(n[1]+n[1]),g:O(n[2]+n[2]),b:O(n[3]+n[3]),a:_(n[4]+n[4]),format:e?"name":"hex8"}:!!(n=R.hex3.exec(t))&&{r:O(n[1]+n[1]),g:O(n[2]+n[2]),b:O(n[3]+n[3]),format:e?"name":"hex"}}(t)),"object"==typeof t&&(k(t.r)&&k(t.g)&&k(t.b)?(e=t.g,n=t.b,r={r:255*p(t.r,255),g:255*p(e,255),b:255*p(n,255)},l=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):k(t.h)&&k(t.s)&&k(t.v)?(i=g(t.s),s=g(t.v),r=function(t,e,n){t=6*p(t,360),e=p(e,100),n=p(n,100);var r=Math.floor(t),o=t-r,i=n*(1-e),s=n*(1-o*e),a=n*(1-(1-o)*e),l=r%6;return{r:255*[n,s,i,i,a,n][l],g:255*[a,n,n,s,i,i][l],b:255*[i,i,a,n,n,s][l]}}(t.h,i,s),l=!0,u="hsv"):k(t.h)&&k(t.s)&&k(t.l)&&(i=g(t.s),a=g(t.l),r=function(t,e,n){var r,o,i;if(t=p(t,360),e=p(e,100),n=p(n,100),0===e)o=n,i=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=C(a,s,t+1/3),o=C(a,s,t),i=C(a,s,t-1/3)}return{r:255*r,g:255*o,b:255*i}}(t.h,i,a),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(o=t.a)),o=d(o),{ok:l,format:t.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:o}}(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,r=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=d(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=b(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=b(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var t=m(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=m(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHex=function(t){return void 0===t&&(t=!1),w(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,r,o){var i,s=[v(Math.round(t).toString(16)),v(Math.round(e).toString(16)),v(Math.round(n).toString(16)),v((i=r,Math.round(255*parseFloat(i)).toString(16)))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var t=function(t){return Math.round(100*p(t,255))+"%"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*p(t,255))};return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+w(this.r,this.g,this.b,!1),e=0,n=Object.entries(E);e<n.length;e++){var r=n[e];if(t===r[1])return r[0]}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1;return e||!(this.a<1&&this.a>=0)||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=h(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=h(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=h(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=h(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var r=this.toRgb(),o=new t(e).toRgb(),i=n/100;return new t({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,i.push(new t(r));return i},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:o,v:i})),i=(i+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,o=[this],i=360/e,s=1;s<e;s++)o.push(new t({h:(r+s*i)%360,s:n.s,l:n.l}));return o},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),D=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function x(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?r+=360:r>=360&&(r-=360),r}function N(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(r=1),n&&5===e&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function I(t,e,n){var r;return(r=n?t.v+.05*e:t.v-.15*e)>1&&(r=1),Number(r.toFixed(2))}function F(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new A(t),o=5;o>0;o-=1){var i=r.toHsv(),s=new A({h:x(i,o,!0),s:N(i,o,!0),v:I(i,o,!0)}).toHexString();n.push(s)}n.push(r.toHexString());for(var a=1;a<=4;a+=1){var l=r.toHsv(),u=new A({h:x(l,a),s:N(l,a),v:I(l,a)}).toHexString();n.push(u)}return"dark"===e.theme?D.map((function(t){var r=t.index,o=t.opacity;return new A(e.backgroundColor||"#141414").mix(n[r],100*o).toHexString()})):n}var M={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},L={},j={};Object.keys(M).forEach((function(t){L[t]=F(M[t]),L[t].primary=L[t][5],j[t]=F(M[t],{theme:"dark",backgroundColor:"#141414"}),j[t].primary=j[t][5]}));var G=r("vobO"),V=r("ZTXN"),W=r("ROBh"),B=r("IdLP"),H=r("YtkY"),z=r("8j5Y"),U=r("ruxD"),K=r("4e/d"),Y=r("7ntQ"),q=r("xVbo"),X=r("J+dc"),Q=r("e4iD");function Z(t){Object(s.V)()&&console.warn("[@ant-design/icons-angular]: ".concat(t,"."))}function J(t){return F(t)[0]}function $(t,e){switch(e){case"fill":return t+"-fill";case"outline":return t+"-o";case"twotone":return t+"-twotone";case void 0:return t;default:throw new Error('[@ant-design/icons-angular]:Theme "'.concat(e,'" is not a recognized theme!'))}}function tt(t){return"object"==typeof t&&"string"==typeof t.name&&("string"==typeof t.theme||void 0===t.theme)&&"string"==typeof t.icon}function et(t){var e=t.split(":");switch(e.length){case 1:return[t,""];case 2:return[e[1],e[0]];default:throw new Error("[@ant-design/icons-angular]:The icon type ".concat(t," is not valid!"))}}function nt(){return new Error("[@ant-design/icons-angular]:<svg> tag not found.")}var rt,ot,it,st,at,lt,ut=((ot=function(){function t(e,n,r,o){f(this,t),this._rendererFactory=e,this._handler=n,this._document=r,this.sanitizer=o,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new V.a,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new G.c(this._handler))}return y(t,[{key:"useJsonpLoading",value:function(){var t=this;this._enableJsonpLoading?Z("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=function(e){t._jsonpIconLoad$.next(e)})}},{key:"changeAssetsSource",value:function(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}},{key:"addIcon",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){t._svgDefinitions.set($(e.name,e.theme),e)}))}},{key:"addIconLiteral",value:function(t,e){var n=o(et(t),2);if(n[0],!n[1])throw new Error('[@ant-design/icons-angular]:Type should have a namespace. Try "namespace:'.concat(name,'".'));this.addIcon({name:t,icon:e})}},{key:"clear",value:function(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}},{key:"getRenderedContent",value:function(t,e){var n=this,r=tt(t)?t:this._svgDefinitions.get(t)||null;return(r?Object(W.a)(r):this._loadIconDynamically(t)).pipe(Object(H.a)((function(r){if(!r)throw function(t){return new Error("[@ant-design/icons-angular]:the icon ".concat(t," does not exist or is not registered."))}(t);return n._loadSVGFromCacheOrCreateNew(r,e)})))}},{key:"getCachedIcons",value:function(){return this._svgDefinitions}},{key:"_loadIconDynamically",value:function(t){var e=this;if(!this._http&&!this._enableJsonpLoading)return Object(W.a)((console.error('[@ant-design/icons-angular]: you need to import "HttpClientModule" to use dynamic importing..'),null));var n,r,i,a=this._inProgressFetches.get(t);if(!a){var l=o(et(t),2),u=l[0],c=l[1],p=c?{name:t,icon:""}:(r=u.split("-"),i="o"===(n=r.splice(r.length-1,1)[0])?"outline":n,{name:r.join("-"),theme:i,icon:""}),h=(c?"".concat(this._assetsUrlRoot,"assets/").concat(c,"/").concat(u):"".concat(this._assetsUrlRoot,"assets/").concat(p.theme,"/").concat(p.name))+(this._enableJsonpLoading?".js":".svg"),d=this.sanitizer.sanitize(s.I.URL,h);if(!d)throw function(t){return new Error('[@ant-design/icons-angular]:The url "'.concat(t,'" is unsafe.'))}(h);a=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(p,d):this._http.get(d,{responseType:"text"}).pipe(Object(H.a)((function(t){return Object.assign(Object.assign({},p),{icon:t})})))).pipe(Object(z.a)((function(t){return e.addIcon(t)})),Object(U.a)((function(){return e._inProgressFetches.delete(t)})),Object(K.a)((function(){return Object(W.a)(null)})),Object(Y.a)()),this._inProgressFetches.set(t,a)}return a}},{key:"_loadIconDynamicallyWithJsonp",value:function(t,e){var n=this;return new B.a((function(r){var o=n._document.createElement("script"),i=setTimeout((function(){s(),r.error(new Error("[@ant-design/icons-angular]:Importing timeout error."))}),6e3);function s(){o.parentNode.removeChild(o),clearTimeout(i)}o.src=e,n._document.body.appendChild(o),n._jsonpIconLoad$.pipe(Object(q.a)((function(e){return e.name===t.name&&e.theme===t.theme})),Object(X.a)(1)).subscribe((function(t){r.next(t),s()}))}))}},{key:"_loadSVGFromCacheOrCreateNew",value:function(t,e){var n,r=e||this._twoToneColorPalette.primaryColor,o=J(r)||this._twoToneColorPalette.secondaryColor,i="twotone"===t.theme?function(t,e,n,r){return"".concat($(t,e),"-").concat(n,"-").concat(r)}(t.name,t.theme,r,o):void 0===t.theme?t.name:$(t.name,t.theme),s=this._svgRenderedDefinitions.get(i);return s?n=s.icon:(n=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(""!==et(t.name)[1]?t.icon:t.icon.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')),"twotone"===t.theme,r,o)),this._svgRenderedDefinitions.set(i,Object.assign(Object.assign({},t),{icon:n}))),function(t){return t.cloneNode(!0)}(n)}},{key:"_createSVGElementFromString",value:function(t){var e=this._document.createElement("div");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw nt;return n}},{key:"_setSVGAttribute",value:function(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}},{key:"_colorizeSVGIcon",value:function(t,e,n,r){if(e)for(var o=t.childNodes,i=o.length,s=0;s<i;s++){var a=o[s];"secondaryColor"===a.getAttribute("fill")?this._renderer.setAttribute(a,"fill",r):this._renderer.setAttribute(a,"fill",n)}return this._renderer.setAttribute(t,"fill","currentColor"),t}},{key:"twoToneColor",set:function(t){var e=t.primaryColor,n=t.secondaryColor;this._twoToneColorPalette.primaryColor=e,this._twoToneColorPalette.secondaryColor=n||J(e)},get:function(){return Object.assign({},this._twoToneColorPalette)}}]),t}()).\u0275fac=function(t){return new(t||ot)(s.Xb(s.F),s.Xb(G.b,8),s.Xb(c.c,8),s.Xb(Q.b))},ot.\u0275prov=s.Jb({token:ot,factory:ot.\u0275fac}),ot),ct=((rt=function(){function t(e,n,r){f(this,t),this._iconService=e,this._elementRef=n,this._renderer=r}return y(t,[{key:"ngOnChanges",value:function(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}},{key:"_changeIcon",value:function(){var t=this;return new Promise((function(e){if(t.type){var n=t._getSelfRenderMeta();t._iconService.getRenderedContent(t._parseIconType(t.type,t.theme),t.twoToneColor).subscribe((function(r){var o,i;o=n,i=t._getSelfRenderMeta(),o.type===i.type&&o.theme===i.theme&&o.twoToneColor===i.twoToneColor?(t._setSVGElement(r),e(r)):e(null)}))}else t._clearSVGElement(),e(null)}))}},{key:"_getSelfRenderMeta",value:function(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}},{key:"_parseIconType",value:function(t,e){if(tt(t))return t;var n=o(et(t),2),r=n[0];return n[1]?t:function(t){return t.endsWith("-fill")||t.endsWith("-o")||t.endsWith("-twotone")}(r)?(e&&Z("'type' ".concat(r," already gets a theme inside so 'theme' ").concat(e," would be ignored")),r):$(r,e||this._iconService.defaultTheme)}},{key:"_setSVGElement",value:function(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}},{key:"_clearSVGElement",value:function(){for(var t,e=this._elementRef.nativeElement,n=e.childNodes,r=n.length-1;r>=0;r--){var o=n[r];"svg"===(null===(t=o.tagName)||void 0===t?void 0:t.toLowerCase())&&this._renderer.removeChild(e,o)}}}]),t}()).\u0275fac=function(t){return new(t||rt)(s.Nb(ut),s.Nb(s.l),s.Nb(s.E))},rt.\u0275dir=s.Ib({type:rt,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[s.xb]}),rt),pt=r("7ucf"),ht=r("UPS/"),dt=r("UZJT"),ft={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},gt=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},ft,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},ft,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'}],yt=new s.q("nz_icons"),vt=((it=function(t){a(r,t);var n=u(r);function r(t,o,i,s,a,l){var u,c;return f(this,r),(c=n.call(this,t,s,a,o)).nzConfigService=i,c.configUpdated$=new V.a,c.iconfontCache=new Set,c.onConfigChange(),(u=c).addIcon.apply(u,gt.concat(e(l||[]))),c.configDefaultTwotoneColor(),c.configDefaultTheme(),c}return y(r,[{key:"normalizeSvgElement",value:function(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),t.getAttribute("width")&&t.getAttribute("height")||(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}},{key:"fetchFromIconfont",value:function(t){var e=t.scriptUrl;if(this._document&&!this.iconfontCache.has(e)){var n=this._renderer.createElement("script");this._renderer.setAttribute(n,"src",e),this._renderer.setAttribute(n,"data-namespace",e.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,n),this.iconfontCache.add(e)}}},{key:"createIconfontIcon",value:function(t){return this._createSVGElementFromString('<svg><use xlink:href="'.concat(t,'"></svg>'))}},{key:"onConfigChange",value:function(){var t=this;this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe((function(){t.configDefaultTwotoneColor(),t.configDefaultTheme(),t.configUpdated$.next()}))}},{key:"configDefaultTheme",value:function(){var t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}},{key:"configDefaultTwotoneColor",value:function(){var t=this.getConfig().nzTwotoneColor||"#1890ff",e="#1890ff";t&&(t.startsWith("#")?e=t:Object(dt.b)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:e}}},{key:"getConfig",value:function(){return this.nzConfigService.getConfigForComponent("icon")||{}}}]),r}(ut)).\u0275fac=function(t){return new(t||it)(s.Xb(s.F),s.Xb(Q.b),s.Xb(ht.a),s.Xb(G.b,8),s.Xb(c.c,8),s.Xb(yt,8))},it.\u0275prov=Object(s.Jb)({factory:function(){return new it(Object(s.Xb)(s.F),Object(s.Xb)(Q.b),Object(s.Xb)(ht.a),Object(s.Xb)(G.b,8),Object(s.Xb)(c.c,8),Object(s.Xb)(yt,8))},token:it,providedIn:"root"}),it),mt=new s.q("nz_icons_patch"),Ct=((lt=function(){function t(e,n){f(this,t),this.extraIcons=e,this.rootIconService=n,this.patched=!1}return y(t,[{key:"doPatch",value:function(){var t=this;this.patched||(this.extraIcons.forEach((function(e){return t.rootIconService.addIcon(e)})),this.patched=!0)}}]),t}()).\u0275fac=function(t){return new(t||lt)(s.Xb(mt,2),s.Xb(vt))},lt.\u0275prov=s.Jb({token:lt,factory:lt.\u0275fac}),lt),bt=((at=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,r,t,o)).iconService=r,s.renderer=o,s.cacheClassName=null,s.nzRotate=0,s.spin=!1,i&&i.doPatch(),s.el=t.nativeElement,s}return y(n,[{key:"ngOnChanges",value:function(t){var e=t.nzType,n=t.nzTwotoneColor,r=t.nzSpin,o=t.nzTheme,i=t.nzRotate;e||n||r||o?this.changeIcon2():i?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon("#"+this.iconfont))}},{key:"ngOnInit",value:function(){this.renderer.setAttribute(this.el,"class",("anticon "+this.el.className).trim())}},{key:"ngAfterContentChecked",value:function(){if(!this.type){var t=this.el.children,e=t.length;if(!this.type&&t.length)for(;e--;){var n=t[e];"svg"===n.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(n)}}}},{key:"changeIcon2",value:function(){var t=this;this.setClassName(),this._changeIcon().then((function(e){e&&(t.setSVGData(e),t.handleSpin(e),t.handleRotate(e))}))}},{key:"handleSpin",value:function(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}},{key:"handleRotate",value:function(t){this.nzRotate?this.renderer.setAttribute(t,"style","transform: rotate(".concat(this.nzRotate,"deg)")):this.renderer.removeAttribute(t,"style")}},{key:"setClassName",value:function(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName="anticon-"+this.type,this.renderer.addClass(this.el,this.cacheClassName)}},{key:"setSVGData",value:function(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}},{key:"nzSpin",set:function(t){this.spin=t}},{key:"nzType",set:function(t){this.type=t}},{key:"nzTheme",set:function(t){this.theme=t}},{key:"nzTwotoneColor",set:function(t){this.twoToneColor=t}},{key:"nzIconfont",set:function(t){this.iconfont=t}}]),n}(ct)).\u0275fac=function(t){return new(t||at)(s.Nb(s.l),s.Nb(vt),s.Nb(s.E),s.Nb(Ct,8))},at.\u0275dir=s.Ib({type:at,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,e){2&t&&s.Fb("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[s.wb,s.xb]}),Object(l.b)([Object(pt.a)(),Object(l.c)("design:type",Boolean),Object(l.c)("design:paramtypes",[Boolean])],at.prototype,"nzSpin",null),at),wt=((st=function(){function t(){f(this,t)}return y(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[{provide:yt,useValue:e}]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ct,{provide:mt,useValue:e}]}}}]),t}()).\u0275mod=s.Lb({type:st}),st.\u0275inj=s.Kb({factory:function(t){return new(t||st)},imports:[[i.b]]}),st)},JuBR:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("mrqE");function o(t){Object(r.a)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},K8Gv:function(t,e,n){"use strict";n.d(e,"n",(function(){return a})),n.d(e,"m",(function(){return l})),n.d(e,"j",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"k",(function(){return p})),n.d(e,"h",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"g",(function(){return g})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return v})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return C}));var r,o,i,s=n("2kYt");function a(t){return!c(t)&&(t.startsWith("http://")||t.startsWith("https://"))}function l(t){return!c(t)&&(1===t||"1"===t||"true"===t||!0===t)}function u(t,e){return c(t)||t===e}function c(t){return null==t}function p(t,e){return c(t)||t<=e}function h(t){return c(t)||"object"==typeof t&&0===Object.keys(t).length}function d(t){return c(t)||0===(""+t).trim().length}function g(t){return!!c(t)||0===t.length}!function(t){t.parseDate=function(t,e){return d(t)?e:new Date(t)}}(r||(r={})),function(t){t.decode=function(t){return atob(t)},t.encode=function(t){return btoa(t)},t.decodeJson=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},t.getBase64=function(t){return new Promise((function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){return e(r.result)},r.onerror=function(t){return n(t)}}))}}(o||(o={}));var v=function(){function t(){f(this,t)}return y(t,null,[{key:"reduce",value:function(t,e){return t.map((function(t){return e(t)})).reduce((function(t,e){return Object.assign(Object.assign({},t),e)}),{})}}]),t}();!function(t){t.isNotNullFilter=function(t){return!c(t)},t.log=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e="string"==typeof e?[e]:e).forEach((function(t){return console.log(t)}))},t.jsonEmpty=function(t){return c(t)||0===Object.keys(t).length},t.arrToObj=function(t,e){return e.map((function(e,n){return r={},o=e,i=t[n],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r;var r,o,i})).reduce((function(t,e){return Object.assign(Object.assign({},t),e)}),{})},t.replaceAll=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},t.replaceQuery=function(t,e){if(d(t))throw"@text must not empty.";var n=new RegExp("{(.+?)}","g");return t.replace(n,(function(t){return function(t,e){var n=t.substring(1,t.length-1);return void 0===e[n]?t:e[n]}(t,e)}))},t.base64decode=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}}(i||(i={}));var m=function(){function t(){f(this,t)}return y(t,null,[{key:"getMessage",value:function(t,e){switch(e.code){case DOMException.NOT_FOUND_ERR:return"T\u1ec7p tin [".concat(t.name,"] kh\xf4ng t\u1ed3n t\u1ea1i");default:return e.message}}}]),t}(),C=function(){function t(){f(this,t)}return y(t,null,[{key:"dateAdd",value:function(t,e,n){if(t instanceof Date){var r=new Date(t),o=function(){return r.getDate()!=t.getDate()?r.setDate(0):""};switch(e){case"year":r.setFullYear(r.getFullYear()+n),o();break;case"quarter":r.setMonth(r.getMonth()+3*n),o();break;case"month":r.setMonth(r.getMonth()+n),o();break;case"week":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hour":r.setTime(r.getTime()+36e5*n);break;case"minute":r.setTime(r.getTime()+6e4*n);break;case"second":r.setTime(r.getTime()+1e3*n);break;default:r=void 0}return r}}},{key:"dateToString",value:function(t,e){return new s.d("en-US").transform(t,e)}}]),t}()},KLQV:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y}));var r,o,i=n("WdQX"),s=function(){function t(e,n,r,o,i,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=n,this.context=r,this.eventService=o,this.columnController=i,this.gridApi=s,this.columnApi=a,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return i.ib.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!e)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(e,this.rootNode,t.TOP_LEVEL)},t.prototype.updateRowData=function(t,e){var n={remove:[],update:[],add:[]},r=[];return this.executeAdd(t,n),this.executeRemove(t,n,r),this.executeUpdate(t,n,r),this.updateSelection(r),e&&i.ib.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach((function(t){t.setSelected(!1,!1,!0)})),this.selectionController.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:i.A.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.executeAdd=function(t,e){var n=this,r=t.add,o=t.addIndex;i.ib.missingOrEmpty(r)||("number"==typeof o&&o>=0?r.reverse().forEach((function(t){var r=n.addRowNode(t,o);e.add.push(r)})):r.forEach((function(t){var r=n.addRowNode(t);e.add.push(r)})))},t.prototype.executeRemove=function(t,e,n){var r=this,o=t.remove;if(!i.ib.missingOrEmpty(o)){var s={};o.forEach((function(t){var o=r.lookupRowNode(t);o&&(o.isSelected()&&n.push(o),o.clearRowTop(),s[o.id]=!0,delete r.allNodesMap[o.id],e.remove.push(o))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!s[t.id]}))}},t.prototype.executeUpdate=function(e,n,r){var o=this,s=e.update;i.ib.missingOrEmpty(s)||s.forEach((function(e){var i=o.lookupRowNode(e);i&&(i.updateData(e),!i.selectable&&i.isSelected()&&r.push(i),o.setMasterForRow(i,e,t.TOP_LEVEL,!1),n.update.push(i))}))},t.prototype.addRowNode=function(e,n){var r=this.createNode(e,this.rootNode,t.TOP_LEVEL);return i.ib.exists(n)?i.ib.insertIntoArray(this.rootNode.allLeafChildren,r,n):this.rootNode.allLeafChildren.push(r),r},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(i.ib.exists(n)){var r=n(t);if(!(e=this.allNodesMap[r]))return console.error("ag-Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(e=i.ib.find(this.rootNode.allLeafChildren,(function(e){return e.data===t}))))return console.error("ag-Grid: could not find data item as object was not found",t),null;return e},t.prototype.recursiveFunction=function(t,e,n){var r=this;if("string"!=typeof t){var o=[];return t.forEach((function(t){var i=r.createNode(t,e,n);o.push(i)})),o}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.createNode=function(t,e,n){var r=new i.W;return this.context.createBean(r),r.group=!1,this.setMasterForRow(r,t,n,!0),e&&!this.suppressParentsInRowNodes&&(r.parent=e),r.level=n,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("ag-grid: duplicate node id '"+r.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},t.prototype.setMasterForRow=function(t,e,n,r){if(this.doingTreeData)t.setMaster(!1),r&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),r){var o=this.columnController.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(n+(o?o.length:0))}},t.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},t.prototype.setLeafChildren=function(t){t.allLeafChildren=[],t.childrenAfterGroup&&t.childrenAfterGroup.forEach((function(e){e.group?e.allLeafChildren&&e.allLeafChildren.forEach((function(e){return t.allLeafChildren.push(e)})):t.allLeafChildren.push(e)}))},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(o||(o={}));var u,c,p,h,d,f,g,y,v,m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:i.v.STEP_EVERYTHING}),e=this.refreshModel.bind(this,{step:i.v.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,i.A.EVENT_NEW_COLUMNS_LOADED,e),this.addManagedListener(this.eventService,i.A.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,i.A.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:i.v.STEP_PIVOT})),this.addManagedListener(this.eventService,i.A.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var n=this.refreshModel.bind(this,{step:i.v.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,i.D.PROP_GROUP_REMOVE_SINGLE_CHILDREN,n),this.addManagedListener(this.gridOptionsWrapper,i.D.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,n),this.rootNode=new i.W,this.nodeManager=new s(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},e.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,n,r){var o,i=!1;do{o=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(s,n),u=Math.min(a,r),c=l;c<=u;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var h=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(h.height),o=!0,i=!0}}o&&this.setRowTops()}while(o);return i},e.prototype.setRowTops=function(){for(var t=0,e=0;e<this.rowsToDisplay.length;e++){var n=this.gridOptionsWrapper.getDomLayout()===i.v.DOM_LAYOUT_NORMAL,r=this.rowsToDisplay[e];if(i.ib.missing(r.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(r,n);r.setRowHeight(o.height,o.estimated)}r.setRowTop(t),r.setRowIndex(e),t+=r.rowHeight}},e.prototype.resetRowTops=function(t,e){if(t.clearRowTop(),t.hasChildren()){if(t.childrenAfterGroup&&(!e.isActive()||t.expanded))for(var n=0;n<t.childrenAfterGroup.length;n++)this.resetRowTops(t.childrenAfterGroup[n],e);t.sibling&&t.sibling.clearRowTop()}t.detailNode&&t.detailNode.clearRowTop()},e.prototype.ensureRowsAtPixel=function(t,e,n){var r=this;void 0===n&&(n=0);var o=this.getRowIndexAtPixel(e);return this.getRow(o)!==t[0]&&(t.forEach((function(t){i.ib.removeFromArray(r.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){i.ib.insertIntoArray(r.rootNode.allLeafChildren,t,Math.max(o+n,0)+e)})),this.refreshModel({step:i.v.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var n=null!=e?this.getRowIndexAtPixel(e):null,r=null!=n?this.getRow(n):null;if(r&&t&&r!==t&&null!=e){var o=this.getHighlightPosition(e,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(o),this.lastHighlightedRow=r}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var n=this.getRowIndexAtPixel(t);if(!(e=this.getRow(n||0)))return"below"}return t-e.rowTop<e.rowHeight/2?"above":"below"},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(i.ib.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:i.v.STEP_MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:i.v.STEP_FILTER,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:i.v.STEP_SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return i.v.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:i.v.STEP_PIVOT}):this.refreshModel({step:i.v.STEP_AGGREGATE})},e.prototype.createChangePath=function(t){var e=i.ib.missingOrEmpty(t),n=new i.p(!1,this.rootNode);return(e||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},e.prototype.refreshModel=function(t){var e=this,n=this.createChangePath(t.rowNodeTransactions);switch(t.step){case i.v.STEP_EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,n,!!t.afterColumnsChanged);case i.v.STEP_FILTER:this.doFilter(n);case i.v.STEP_PIVOT:this.doPivot(n);case i.v.STEP_AGGREGATE:this.doAggregate(n);case i.v.STEP_SORT:this.doSort(t.rowNodeTransactions,n);case i.v.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,n),this.setRowTops(),this.eventService.dispatchEvent({type:i.A.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1}),this.$scope&&window.setTimeout((function(){e.$scope.$apply()}),0)},e.prototype.isEmpty=function(){var t=i.ib.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return i.ib.missing(this.rootNode)||t||!this.columnController.isReady()},e.prototype.isRowsToRender=function(){return i.ib.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n,r=!e,o=!1,i=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(a){var l=r&&!o;if(r||a!==e&&a!==t||(r=!0),!a.group||!s){var u=r&&!o,c=a.isParentOfNode(n);(u||c)&&i.push(a)}l&&(a!==e&&a!==t||(o=!0,n=a===e?e:t))})),i},e.prototype.setDatasource=function(t){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty())return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(i.ib.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((e+n)/2),o=this.rowsToDisplay[r];if(this.isRowInPixel(o,t))return r;o.rowTop<t?e=r+1:o.rowTop>t&&(n=r-1)}},e.prototype.isRowInPixel=function(t,e){return t.rowTop<=e&&t.rowTop+t.rowHeight>e},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},e.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,o.Normal,0)},e.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,t,o.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,o.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,o.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(t,e,n,r){if(!t)return r;for(var i=0;i<t.length;i++){var s=t[i];if(e(s,r++),s.hasChildren()){var a=null;switch(n){case o.Normal:a=s.childrenAfterGroup;break;case o.AfterFilter:a=s.childrenAfterFilter;break;case o.AfterFilterAndSort:a=s.childrenAfterSort;break;case o.PivotNodes:a=s.leafGroup?null:s.childrenAfterSort}a&&(r=this.recursivelyWalkNodesAndCallback(a,e,n,r))}}return r},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsWrapper.isTreeData();this.rootNode&&function n(r){r&&r.forEach((function(r){(e?i.ib.exists(r.childrenAfterGroup):r.group)&&(r.expanded=t,n(r.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:i.v.STEP_MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:i.A.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,n,r,o){this.groupStage?(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:r}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(r)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},e.prototype.restoreGroupState=function(t){t&&i.ib.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){"boolean"==typeof t[n]&&(e.expanded=t[n])}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return i.ib.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){return t[n]=e.expanded})),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t),this.eventService.dispatchEvent({type:i.A.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:i.v.STEP_EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),r)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[],r=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(o){var i=t.nodeManager.updateRowData(o.rowDataTransaction,void 0);n.push(i),o.callback&&e.push(o.callback.bind(null,i)),"number"==typeof o.rowDataTransaction.addIndex&&(r=!0)})),this.commonUpdateRowData(n,void 0,r),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),n.length>0){var o={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:i.A.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(o)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e);return this.commonUpdateRowData([n],e,"number"==typeof t.addIndex),n},e.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var e=0;e<this.rootNode.allLeafChildren.length;e++)t[this.rootNode.allLeafChildren[e].id]=e;return t}},e.prototype.commonUpdateRowData=function(t,e,n){n&&(e=this.createRowNodeOrder()),this.refreshModel({step:i.v.STEP_EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:i.A.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:i.v.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},e.prototype.resetRowHeights=function(){var t=!1;this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t=!0})),t&&this.onRowHeightChanged()},l([Object(i.k)("columnController")],e.prototype,"columnController",void 0),l([Object(i.k)("filterManager")],e.prototype,"filterManager",void 0),l([Object(i.k)("$scope")],e.prototype,"$scope",void 0),l([Object(i.k)("selectionController")],e.prototype,"selectionController",void 0),l([Object(i.k)("valueService")],e.prototype,"valueService",void 0),l([Object(i.k)("valueCache")],e.prototype,"valueCache",void 0),l([Object(i.k)("columnApi")],e.prototype,"columnApi",void 0),l([Object(i.k)("gridApi")],e.prototype,"gridApi",void 0),l([Object(i.k)("filterStage")],e.prototype,"filterStage",void 0),l([Object(i.k)("sortStage")],e.prototype,"sortStage",void 0),l([Object(i.k)("flattenStage")],e.prototype,"flattenStage",void 0),l([Object(i.N)("groupStage")],e.prototype,"groupStage",void 0),l([Object(i.N)("aggregationStage")],e.prototype,"aggregationStage",void 0),l([Object(i.N)("pivotStage")],e.prototype,"pivotStage",void 0),l([i.Q],e.prototype,"init",null),l([Object(i.m)("rowModel")],e)}(i.n),C=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.prototype.execute=function(t){var e=t.rowNode;this.filterService.filter(t.changedPath),this.selectableService.updateSelectableAfterFiltering(e)},b([Object(i.k)("selectableService")],e.prototype,"selectableService",void 0),b([Object(i.k)("filterService")],e.prototype,"filterService",void 0),b([Object(i.m)("filterStage")],e)}(i.n),_=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.execute=function(t){var e=this.sortController.getSortOptions(),n=i.ib.exists(e)&&e.length>0,r=n&&i.ib.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=r?this.calculateDirtyNodes(t.rowNodeTransactions):null,s=this.columnController.getValueColumns(),a=i.ib.missingOrEmpty(s);this.sortService.sort(e,n,r,o,t.changedPath,a)},e.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t&&t.forEach((function(t){n(t.add),n(t.update),n(t.remove)})),e},O([Object(i.k)("sortService")],e.prototype,"sortService",void 0),O([Object(i.k)("sortController")],e.prototype,"sortController",void 0),O([Object(i.k)("columnController")],e.prototype,"columnController",void 0),O([Object(i.m)("sortStage")],e)}(i.n),S=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=[],r={value:0},o=this.columnController.isPivotMode(),i=o&&e.leafGroup;return this.recursivelyAddToRowsToDisplay(i?[e]:e.childrenAfterSort,n,r,o,0),!i&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(e),this.addRowNodeToRowsToDisplay(e.sibling,n,r,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,r,o){if(!i.ib.missingOrEmpty(t))for(var s=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),l=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),u=0;u<t.length;u++){var c=t[u],p=c.hasChildren(),h=a&&p&&1===c.childrenAfterGroup.length,d=l&&p&&c.leafGroup&&1===c.childrenAfterGroup.length;if(!(r&&!p||s&&c.expanded&&(!r||!c.leafGroup)||h||d)&&this.addRowNodeToRowsToDisplay(c,e,n,o),!r||!c.leafGroup)if(p){var f=h||d;(c.expanded||f)&&(this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,e,n,r,f?o:o+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,e,n,o)))}else if(c.master&&c.expanded){var g=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(g,e,n,o)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,n,r){var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(o?0:r)},e.prototype.ensureFooterNodeExists=function(t){if(!i.ib.exists(t.sibling)){var e=new i.W;this.context.createBean(e),Object.keys(t).forEach((function(n){e[n]=t[n]})),e.footer=!0,e.rowTop=null,e.oldRowTop=null,i.ib.exists(e.id)&&(e.id="rowGroupFooter_"+e.id),e.sibling=t,t.sibling=e}},e.prototype.createDetailNode=function(t){if(i.ib.exists(t.detailNode))return t.detailNode;var e=new i.W;return this.context.createBean(e),e.detail=!0,e.selectable=!1,e.parent=t,i.ib.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},P([Object(i.k)("selectionController")],e.prototype,"selectionController",void 0),P([Object(i.k)("columnController")],e.prototype,"columnController",void 0),P([Object(i.m)("flattenStage")],e)}(i.n),R=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(t,e,n,r,o,i){var s=this;o&&o.forEachChangedNodeDepthFirst((function(a){s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),a.childrenAfterSort=e?n?s.doDeltaSort(a,t,r,o,i):s.rowNodeSorter.doFullSort(a.childrenAfterFilter,t):a.childrenAfterFilter.slice(0),s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(o)},e.prototype.mapNodeToSortedNode=function(t,e){return{currentPos:e,rowNode:t}},e.prototype.doDeltaSort=function(t,e,n,r,o){var i=t.childrenAfterSort.filter((function(t){var e=!n[t.id],i=o||r&&r.canSkip(t);return e&&i})).map(this.mapNodeToSortedNode.bind(this)),s={};i.forEach((function(t){return s[t.rowNode.id]=t.rowNode}));var a=t.childrenAfterFilter.filter((function(t){return!s[t.id]})).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.rowNodeSorter.compareRowNodes.bind(this,e)),(0===a.length?i:0===i.length?a:this.mergeSortedArrays(e,i,a)).map((function(t){return t.rowNode}))},e.prototype.mergeSortedArrays=function(t,e,n){for(var r=[],o=0,i=0;o<e.length&&i<n.length;){var s=this.rowNodeSorter.compareRowNodes(t,e[o],n[i]);r.push(s<0?e[o++]:n[i++])}for(;o<e.length;)r.push(e[o++]);for(;i<n.length;)r.push(n[i++]);return r},e.prototype.updateChildIndexes=function(t){if(!i.ib.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var r=e[n],o=n===t.childrenAfterSort.length-1;r.setFirstChild(0===n),r.setLastChild(o),r.setChildIndex(n)}},e.prototype.updateGroupDataForHiddenOpenParents=function(t){var e=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){t&&t.executeFromRootNode((function(t){return function t(n){e.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach((function(e){e.hasChildren()&&t(e)}))}(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!i.ib.missing(t)&&t.forEach((function(t){n.columnController.getGroupDisplayColumns().forEach((function(r){var o=r.getColDef().showRowGroup;if("string"==typeof o){var i=n.columnController.getPrimaryColumn(o);if(i!==t.rowGroupColumn)if(e)t.setGroupValue(r.getId(),null);else{var s=t.getFirstChildOfFirstChild(i);s&&t.setGroupValue(r.getId(),s.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},k([Object(i.k)("columnController")],e.prototype,"columnController",void 0),k([Object(i.k)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),k([i.Q],e.prototype,"init",null),k([Object(i.m)("sortService")],e)}(i.n),D=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),x=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},e.prototype.filter=function(t){var e=this.filterManager.isAnyFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var n=this,r=function(e,r){e.hasChildren()?(e.childrenAfterFilter=t&&!r?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,r=t.data&&n.filterManager.doesRowPassFilter({rowNode:t});return e||r})):e.childrenAfterGroup,n.setAllChildrenCount(e)):(e.childrenAfterFilter=e.childrenAfterGroup,e.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){e.executeFromRootNode((function(t){return function t(e,o){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var s=e.childrenAfterGroup[i],a=o||n.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?t(e.childrenAfterGroup[i],a):r(s,a)}r(e,o)}(t,!1)}))}else e.forEachChangedNodeDepthFirst((function(t){return r(t,!1)}),!0)},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){this.doingTreeData?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t)},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},x([Object(i.k)("filterManager")],e.prototype,"filterManager",void 0),x([i.Q],e.prototype,"postConstruct",null),x([Object(i.m)("filterService")],e)}(i.n),I=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),F=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.postConstruct=function(){this.rowModel.getType()===i.v.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.createTransactionForRowData=function(t){if(i.ib.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsWrapper.getRowNodeIdFunc();if(e&&!i.ib.missing(e)){var n={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return i.ib.exists(t)&&t.forEach((function(t,i){var s=e(t),a=r[s];o&&(o[s]=i),a?(a.data!==t&&n.update.push(t),r[s]=void 0):n.add.push(t)})),i.ib.iterateObject(r,(function(t,e){e&&n.remove.push(e.data)})),[n,o]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},F([Object(i.k)("rowModel")],e.prototype,"rowModel",void 0),F([i.Q],e.prototype,"postConstruct",null),F([Object(i.m)("immutableService")],e)}(i.n),L={moduleName:i.K.ClientSideRowModelModule,beans:[w,E,T,A,N,M],rowModels:{clientSide:m}},j=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),G=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},V=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parentCache=n,o.params=r,o.startRow=e*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return j(e,t),e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,e,n){i.ib.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,e=this.createLoadParams();i.ib.missing(this.params.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout((function(){t.params.datasource.getRows(e)}),0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},e.prototype.forEachNode=function(t,e,n){var r=this;this.rowNodes.forEach((function(o,i){r.startRow+i<n&&t(o,e.next())}))},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,e){return void 0===e&&(e=!1),e||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var e=this.startRow+t,n=this.getContext().createBean(new i.W);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.rowTop=this.params.rowHeight*e,this.rowNodes.push(n)}},e.prototype.processServerResult=function(t){var e=this,n=[];this.rowNodes.forEach((function(r,o){var i=t.rowData?t.rowData[o]:void 0;r.stub&&n.push(r),e.setDataAndId(r,i,e.startRow+o)})),n.length>0&&this.rowRenderer.redrawRows(n),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(t){t.clearRowTop()}))},G([Object(i.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),G([i.Q],e.prototype,"postConstruct",null),G([i.S],e.prototype,"destroyRowNodes",null),e}(i.X),W=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},H=function(t){function e(e){var n=t.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return W(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.params.blockSize),r=this.blocks[n];if(!r){if(e)return null;r=this.createBlock(n)}return r.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new V(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e},e.prototype.refreshCache=function(){this.getBlocksInOrder().forEach((function(t){return t.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.destroyBlock(e)}))},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,e){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e),this.checkRowCount(t,e),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,r=this.getBlocksInOrder().filter((function(e){return e!=t}));r.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var o=this.params.maxBlocksInCache>0,i=o?this.params.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((function(t,e){if(t.getState()===V.STATE_WAITING_TO_LOAD&&e>=s||o&&e>=i){if(n.isBlockCurrentlyDisplayed(t))return;n.removeBlockFromCache(t)}}))},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,e){if("number"==typeof e&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},e.prototype.setRowCount=function(t,e){this.rowCount=t,i.ib.exists(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var e=this,n=new i.M;this.getBlocksInOrder().forEach((function(r){return r.forEachNode(t,n,e.rowCount)}))},e.prototype.getBlocksInOrder=function(){return i.ib.getAllValuesInObject(this.blocks).sort((function(t,e){return t.getId()-e.getId()}))},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:i.A.EVENT_STORE_UPDATED}))},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach((function(n){n.getId()*t.params.blockSize>=t.rowCount&&e.push(n)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.removeBlockFromCache(e)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,r=[],o=-1,s=!1,a=new i.M;i.ib.missing(t)&&(s=!0);var l=!1;return this.getBlocksInOrder().forEach((function(i){l||(s&&o+1!==i.getId()?l=!0:(o=i.getId(),i.forEachNode((function(n){var o=n===t||n===e;(s||o)&&r.push(n),o&&(s=!s)}),a,n.rowCount)))})),l||s?[]:r},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,B([Object(i.k)("columnApi")],e.prototype,"columnApi",void 0),B([Object(i.k)("gridApi")],e.prototype,"gridApi",void 0),B([Object(i.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),B([(n=Object(i.U)("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),B([i.S],e.prototype,"destroyAllBlocks",null),e;var n}(i.n),z=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),U=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,r){return!1},e.prototype.init=function(){var t=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})))},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,i.A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,i.A.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!i.ib.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return i.v.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){i.ib.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:i.A.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},e.prototype.resetCache=function(){this.destroyCache();var t=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(t,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new i.M},this.infiniteCache=this.createBean(new H(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){return this.infiniteCache?this.infiniteCache.getRow(t):null},e.prototype.getRowNode=function(t){var e=null;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},e.prototype.setRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)},U([Object(i.k)("filterManager")],e.prototype,"filterManager",void 0),U([Object(i.k)("sortController")],e.prototype,"sortController",void 0),U([Object(i.k)("selectionController")],e.prototype,"selectionController",void 0),U([Object(i.k)("gridApi")],e.prototype,"gridApi",void 0),U([Object(i.k)("columnApi")],e.prototype,"columnApi",void 0),U([Object(i.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),U([Object(i.k)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),U([i.Q],e.prototype,"init",null),U([i.S],e.prototype,"destroyDatasource",null),U([Object(i.m)("rowModel")],e)}(i.n),Y=[L,{moduleName:i.K.InfiniteRowModelModule,rowModels:{infinite:K}},n("01vk").d]},KRZI:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("FU6l");function o(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},KTx3:function(t,n,r){"use strict";r.d(n,"a",(function(){return l}));var o=r("IdLP"),i=r("FU6l"),s=r("IJgj"),a=r("YtkY");function l(t,n,r,u){return Object(s.a)(r)&&(u=r,r=void 0),u?l(t,n,r).pipe(Object(a.a)((function(t){return Object(i.a)(t)?u.apply(void 0,e(t)):u(t)}))):new o.a((function(e){!function t(e,n,r,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,i),s=function(){return a.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var l=e;e.on(n,r),s=function(){return l.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,r),s=function(){return u.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,p=e.length;c<p;c++)t(e[c],n,r,o,i)}o.add(s)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,r)}))}},MiDb:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},N1LS:function(t,e,n){"use strict";function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,"a",(function(){return r}))},NQ91:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("2mfu"),o=n("EM62"),i=function(){var t=function(){function t(e){f(this,t),this.srv=e,this.userOf=!0}return y(t,[{key:"prepareData",value:function(t){return Object.assign({},t)}},{key:"fixUrl",value:function(t,e){return this.srv.cfig().read().fixUrl(t,e)}},{key:"getUrl",value:function(t){return this.fixUrl(this.path,t)}},{key:"findAll",value:function(t){return this.srv.client().sendGet(this.getUrl("get-all"),t)}},{key:"findOne",value:function(t){return"number"==typeof t?this.srv.client().sendGet(this.getUrl("get-by-id/"+t)):this.srv.client().sendGet(this.getUrl("one"),t)}},{key:"addOne",value:function(t){return t=this.prepareData(t),this.srv.client().sendPost(this.getUrl("create"),t)}},{key:"updateOne",value:function(t,e){return e=this.prepareData(e),this.srv.client().sendPut(this.getUrl("edit-by-id/"+t),e)}},{key:"deleteOne",value:function(t){return this.srv.client().sendDelete(this.getUrl("del-by-id/"+t))}},{key:"shared",get:function(){return this.srv.shared()}},{key:"client",get:function(){return this.srv.client()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Xb(r.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t}()},Ohay:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5uGe");function o(t,e){return function(n){return n.lift(new i(t,e))}}var i=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}]),t}(),s=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t)).keySelector=o,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return y(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(o){return this.destination.error(o)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(r.a)},PNff:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},QQZH:function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var o=r("ZTXN"),i=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this,t,n)).scheduler=t,o.work=n,o}return y(r,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?n(d(r.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?n(d(r.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0||null===o&&this.delay>0?n(d(r.prototype),"requestAsyncId",this).call(this,t,e,o):t.flush(this)}}]),r}(r("EWqr").a),s=new(function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(r("DG/E").a))(i),l=r("bwdy"),c=r("5uGe"),p=r("ryP2"),h=function(t){a(n,t);var e=u(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(o=e.call(this,t)).scheduler=r,o.delay=i,o}return y(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new g(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(p.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(p.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(p.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(c.a),g=function t(e,n){f(this,t),this.notification=e,this.destination=n},v=r("MiDb"),m=r("yTkW"),C=function(t){a(r,t);var e=u(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,i=arguments.length>2?arguments[2]:void 0;return f(this,r),(t=e.call(this)).scheduler=i,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=n<1?1:n,t._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return y(r,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),n(d(r.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new b(this._getNow(),t)),this._trimBufferThenGetEvents(),n(d(r.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new v.a;if(this.isStopped||this.hasError?e=l.a.EMPTY:(this.observers.push(t),e=new m.a(this,t)),o&&t.add(t=new h(t,o)),n)for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);else for(var a=0;a<i&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||s).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r}}]),r}(o.a),b=function t(e,n){f(this,t),this.time=e,this.value=n}},ROBh:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("gBlb"),o=n("ckkg"),i=n("czMQ");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e[e.length-1];return Object(r.a)(s)?(e.pop(),Object(i.a)(e,s)):Object(o.a)(e)}},"Sv/w":function(t,e,r){"use strict";r.d(e,"a",(function(){return g})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return v})),r.d(e,"e",(function(){return C})),r.d(e,"f",(function(){return c}));var o=r("EM62"),i=r("2kYt"),s=function(){function t(){f(this,t)}return y(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),l=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this)).component=t,s.viewContainerRef=r,s.injector=o,s.componentFactoryResolver=i,s}return n}(s),c=function(t){a(r,t);var e=u(r);function r(t,n,o){var i;return f(this,r),(i=e.call(this)).templateRef=t,i.viewContainerRef=n,i.context=o,i}return y(r,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,n(d(r.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,n(d(r.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),r}(s),h=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this)).element=t instanceof o.l?t.nativeElement:t,r}return n}(s),g=function(){function t(){f(this,t),this._isDisposed=!1,this.attachDomPortal=null}return y(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof l?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof c?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof h?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),v=function(t){a(r,t);var e=u(r);function r(t,o,i,s,a){var l,u;return f(this,r),(u=e.call(this)).outletElement=t,u._componentFactoryResolver=o,u._appRef=i,u._defaultInjector=s,u.attachDomPortal=function(t){var e=t.element,o=u._document.createComment("dom-portal");e.parentNode.insertBefore(o,e),u.outletElement.appendChild(e),n((l=p(u),d(r.prototype)),"setDisposeFn",l).call(l,(function(){o.parentNode&&o.parentNode.replaceChild(e,o)}))},u._document=a,u}return y(r,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),r.detectChanges(),this.setDisposeFn((function(){var t=n.indexOf(r);-1!==t&&n.remove(t)})),r}},{key:"dispose",value:function(){n(d(r.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),r}(g),m=function(){var t=function(t){a(r,t);var e=u(r);function r(t,i,s){var a,l;return f(this,r),(l=e.call(this))._componentFactoryResolver=t,l._viewContainerRef=i,l._isInitialized=!1,l.attached=new o.n,l.attachDomPortal=function(t){var e=t.element,o=l._document.createComment("dom-portal");t.setAttachedHost(p(l)),e.parentNode.insertBefore(o,e),l._getRootNode().appendChild(e),n((a=p(l),d(r.prototype)),"setDisposeFn",a).call(a,(function(){o.parentNode&&o.parentNode.replaceChild(e,o)}))},l._document=s,l}return y(r,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){n(d(r.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(o,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),n(d(r.prototype),"setDisposeFn",this).call(this,(function(){return i.destroy()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return n(d(r.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&n(d(r.prototype),"detach",this).call(this),t&&n(d(r.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),r}(g);return t.\u0275fac=function(e){return new(e||t)(o.Nb(o.j),o.Nb(o.P),o.Nb(i.c))},t.\u0275dir=o.Ib({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.wb]}),t}(),C=function(){var t=function t(){f(this,t)};return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)}}),t}()},TKFd:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u}));var r=n("5XID"),o=n("EM62"),i=n("IdLP"),s=n("ZTXN");n("mWib");var a=function(){var t=function(){function t(){f(this,t)}return y(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(o.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),l=function(){var t=function(){function t(e){f(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return y(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=Object(r.e)(t);return new i.a((function(t){var r=e._observeElement(n).subscribe(t);return function(){r.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new s.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Xb(a))},t.\u0275prov=Object(o.Jb)({factory:function(){return new t(Object(o.Xb)(a))},token:t,providedIn:"root"}),t}(),u=function(){var t=function t(){f(this,t)};return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},providers:[a]}),t}()},TLy2:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var o=r("pBDD"),i=r("r9RI"),s=r("mW0F"),l=r("YtkY"),c=r("GoAz");function p(t,e){return"function"==typeof e?function(n){return n.pipe(p((function(n,r){return Object(c.a)(t(n,r)).pipe(Object(l.a)((function(t,o){return e(n,t,r,o)})))})))}:function(e){return e.lift(new h(t))}}var h=function(){function t(e){f(this,t),this.project=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new g(t,this.project))}}]),t}(),g=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this,t)).project=n,o.index=0,o}return y(r,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new i.a(this,e,n),a=this.destination;a.add(o),this.innerSubscription=Object(s.a)(this,t,void 0,void 0,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||n(d(r.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&n(d(r.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,o){this.destination.next(e)}}]),r}(o.a)},Tu4v:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var o=r("ROBh"),i=r("TLy2"),s=r("4e/d"),l=r("XpVc"),c=r("NQ91"),p=r("K8Gv"),h=r("J50X"),g=r("EM62"),v=function(){var t=function(t){a(r,t);var e=u(r);function r(){var t;return f(this,r),(t=e.apply(this,arguments)).path="users",t}return y(r,[{key:"read",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.a.readBy(this.srv.shared(),t)}},{key:"login",value:function(t,e){var n=this.getUrl("signin"),r={appVersion:this.appVersion,ag_list:[h.b,h.a]},o={email:t,password:p.b.encode(e),options:r};return this.sendLoginUser(n,o)}},{key:"loginTs24",value:function(t){var e=this.getUrl("signin-ts24"),n={access_token:t.token},r={email:t.email,password:p.b.encode(t.password),access_token:t.token};return this.sendLoginUser(e,r,{headers:n})}},{key:"sendLoginUser",value:function(t,e,n){var r=this;return this.client.sendPost(t,e,n).pipe(Object(i.a)((function(t){return Object(o.a)(r.read().assign(t).saveBy(r.shared))})))}},{key:"logout",value:function(){var t=this;return this.srv.cfig().clearAllCache().pipe(Object(s.a)((function(t){return Object(o.a)()})),Object(i.a)((function(e){return t.srv.cfig().read().clear(t.shared),t.shared.clearAll(),Object(o.a)(e)})))}},{key:"updateOne",value:function(t,e){var s=this;return n(d(r.prototype),"updateOne",this).call(this,t,e).pipe(Object(i.a)((function(t){var e=s.read().assign(t).saveBy(s.shared);return Object(o.a)(e)})))}},{key:"createUser",value:function(t){var e=this.getUrl("create-user"),n=Object.assign(Object.assign({},t),{pwd_sys:p.b.encode(t.pwd_sys),pwd_ts24:p.b.encode(t.pwd_ts24)});return this.sendLoginUser(e,n,{})}},{key:"appVersion",get:function(){return this.srv.get(h.c)}}]),r}(c.a);return t.\u0275fac=function(e){return m(e||t)},t.\u0275prov=g.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),m=g.Vb(v)},U6NZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return At})),n.d(e,"b",(function(){return _t})),n.d(e,"c",(function(){return Ot}));var r=n("HYj3"),o=n("Sv/w"),i=n("EM62"),s=n("UZJT"),l=n("7ucf"),c=n("ZTXN"),p=n("i9xl"),h=n("kuMc"),d=n("xVbo"),g=n("J+dc"),v=n("jIqt"),m=n("2kYt"),C=n("5lCh"),b=n("Ux30"),w=n("f7+R"),_=n("D57K"),O=n("fAiE"),E=n("duTG"),S=n("D69K"),P=n("kZKz"),T=n("JbzU");n("e4iD");var R,k,A=((k=function(){function t(){f(this,t)}return y(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px",n="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some((function(t){return t===e}))&&(n=e),"number"==typeof t?"".concat(t).concat(n):""+t}}]),t}()).\u0275fac=function(t){return new(t||k)},k.\u0275pipe=i.Mb({name:"nzToCssUnit",type:k,pure:!0}),k),D=((R=function t(){f(this,t)}).\u0275mod=i.Lb({type:R}),R.\u0275inj=i.Kb({factory:function(t){return new(t||R)},imports:[[m.b]]}),R),x=n("sg/T"),N=n("UPS/"),I=n("1spV"),F=n("ZTwM"),M=["modalElement"];function L(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",16),i.ac("click",(function(){return i.sc(n),i.dc().onCloseClick()})),i.Sb()}}function j(t,e){if(1&t&&(i.Rb(0),i.Ob(1,"span",17),i.Qb()),2&t){var n=i.dc();i.zb(1),i.jc("innerHTML",n.config.nzTitle,i.tc)}}function G(t,e){}function V(t,e){if(1&t&&i.Ob(0,"div",17),2&t){var n=i.dc();i.jc("innerHTML",n.config.nzContent,i.tc)}}function W(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",18),i.ac("click",(function(){return i.sc(n),i.dc().onCancel()})),i.Dc(1),i.Sb()}if(2&t){var r=i.dc();i.jc("nzLoading",!!r.config.nzCancelLoading)("disabled",r.config.nzCancelDisabled),i.Ab("cdkFocusInitial","cancel"===r.config.nzAutofocus||null),i.zb(1),i.Fc(" ",r.config.nzCancelText||r.locale.cancelText," ")}}function B(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",19),i.ac("click",(function(){return i.sc(n),i.dc().onOk()})),i.Dc(1),i.Sb()}if(2&t){var r=i.dc();i.jc("nzType",r.config.nzOkType)("nzLoading",!!r.config.nzOkLoading)("disabled",r.config.nzOkDisabled),i.Ab("cdkFocusInitial","ok"===r.config.nzAutofocus||null),i.zb(1),i.Fc(" ",r.config.nzOkText||r.locale.okText," ")}}function H(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",9),i.ac("click",(function(){return i.sc(n),i.dc().onCloseClick()})),i.Sb()}}function z(t,e){1&t&&i.Ob(0,"div",10)}function U(t,e){}function K(t,e){if(1&t&&i.Ob(0,"div",11),2&t){var n=i.dc();i.jc("innerHTML",n.config.nzContent,i.tc)}}function Y(t,e){if(1&t){var n=i.Ub();i.Tb(0,"div",12),i.ac("cancelTriggered",(function(){return i.sc(n),i.dc().onCloseClick()}))("okTriggered",(function(){return i.sc(n),i.dc().onOkClick()})),i.Sb()}if(2&t){var r=i.dc();i.jc("modalRef",r.modalRef)}}var q=["nz-modal-close",""];function X(t,e){if(1&t&&(i.Rb(0),i.Ob(1,"i",2),i.Qb()),2&t){var n=e.$implicit;i.zb(1),i.jc("nzType",n)}}var Q=["nz-modal-footer",""];function Z(t,e){if(1&t&&i.Ob(0,"div",5),2&t){var n=i.dc(3);i.jc("innerHTML",n.config.nzTitle,i.tc)}}function J(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",7),i.ac("click",(function(){i.sc(n);var t=e.$implicit;return i.dc(4).onButtonClick(t)})),i.Dc(1),i.Sb()}if(2&t){var r=e.$implicit,o=i.dc(4);i.jc("hidden",!o.getButtonCallableProp(r,"show"))("nzLoading",o.getButtonCallableProp(r,"loading"))("disabled",o.getButtonCallableProp(r,"disabled"))("nzType",r.type)("nzDanger",r.danger)("nzShape",r.shape)("nzSize",r.size)("nzGhost",r.ghost),i.zb(1),i.Fc(" ",r.label," ")}}function $(t,e){if(1&t&&(i.Rb(0),i.Bc(1,J,2,9,"button",6),i.Qb()),2&t){var n=i.dc(3);i.zb(1),i.jc("ngForOf",n.buttons)}}function tt(t,e){if(1&t&&(i.Rb(0),i.Bc(1,Z,1,1,"div",3),i.Bc(2,$,2,1,"ng-container",4),i.Qb()),2&t){var n=i.dc(2);i.zb(1),i.jc("ngIf",!n.buttonsFooter),i.zb(1),i.jc("ngIf",n.buttonsFooter)}}var et=function(t,e){return{$implicit:t,modalRef:e}};function nt(t,e){if(1&t&&(i.Rb(0),i.Bc(1,tt,3,2,"ng-container",2),i.Qb()),2&t){var n=i.dc();i.zb(1),i.jc("nzStringTemplateOutlet",n.config.nzFooter)("nzStringTemplateOutletContext",i.nc(2,et,n.config.nzComponentParams,n.modalRef))}}function rt(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",10),i.ac("click",(function(){return i.sc(n),i.dc(2).onCancel()})),i.Dc(1),i.Sb()}if(2&t){var r=i.dc(2);i.jc("nzLoading",!!r.config.nzCancelLoading)("disabled",r.config.nzCancelDisabled),i.Ab("cdkFocusInitial","cancel"===r.config.nzAutofocus||null),i.zb(1),i.Fc(" ",r.config.nzCancelText||r.locale.cancelText," ")}}function ot(t,e){if(1&t){var n=i.Ub();i.Tb(0,"button",11),i.ac("click",(function(){return i.sc(n),i.dc(2).onOk()})),i.Dc(1),i.Sb()}if(2&t){var r=i.dc(2);i.jc("nzType",r.config.nzOkType)("nzDanger",r.config.nzOkDanger)("nzLoading",!!r.config.nzOkLoading)("disabled",r.config.nzOkDisabled),i.Ab("cdkFocusInitial","ok"===r.config.nzAutofocus||null),i.zb(1),i.Fc(" ",r.config.nzOkText||r.locale.okText," ")}}function it(t,e){if(1&t&&(i.Bc(0,rt,2,4,"button",8),i.Bc(1,ot,2,6,"button",9)),2&t){var n=i.dc();i.jc("ngIf",null!==n.config.nzCancelText),i.zb(1),i.jc("ngIf",null!==n.config.nzOkText)}}var st=["nz-modal-title",""];function at(t,e){if(1&t&&(i.Rb(0),i.Ob(1,"div",2),i.Qb()),2&t){var n=i.dc();i.zb(1),i.jc("innerHTML",n.config.nzTitle,i.tc)}}var lt=function(){},ut=function t(){f(this,t),this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=lt,this.nzOnOk=lt,this.nzIconType="question-circle"},ct={modalContainer:Object(w.l)("modalContainer",[Object(w.i)("void, exit",Object(w.j)({})),Object(w.i)("enter",Object(w.j)({})),Object(w.k)("* => enter",Object(w.e)(".24s",Object(w.j)({}))),Object(w.k)("* => void, * => exit",Object(w.e)(".2s",Object(w.j)({})))])};function pt(t,e,n){return void 0===t?void 0===e?n:e:t}function ht(){throw Error("Attempting to attach modal content after content is already attached")}var dt,ft,gt,yt,vt,mt,Ct=((gt=function(t){a(n,t);var e=u(n);function n(t,r,o,s,a,l,u,p,d){var g;return f(this,n),(g=e.call(this)).elementRef=t,g.focusTrapFactory=r,g.cdr=o,g.render=s,g.overlayRef=a,g.nzConfigService=l,g.config=u,g.animationType=d,g.animationStateChanged=new i.n,g.containerClick=new i.n,g.cancelTriggered=new i.n,g.okTriggered=new i.n,g.state="enter",g.isStringContent=!1,g.elementFocusedBeforeModalWasOpened=null,g.mouseDown=!1,g.oldMaskStyle=null,g.destroy$=new c.a,g.document=p,g.isStringContent="string"==typeof u.nzContent,g.setContainer(),g.nzConfigService.getConfigChangeEventForComponent("modal").pipe(Object(h.a)(g.destroy$)).subscribe((function(){g.updateMaskClassname()})),g}return y(n,[{key:"onContainerClick",value:function(t){t.target===t.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}},{key:"onMousedown",value:function(){this.mouseDown=!0}},{key:"onMouseup",value:function(){var t=this;this.mouseDown&&setTimeout((function(){t.mouseDown=!1}))}},{key:"onCloseClick",value:function(){this.cancelTriggered.emit()}},{key:"onOkClick",value:function(){this.okTriggered.emit()}},{key:"attachComponentPortal",value:function(t){return this.portalOutlet.hasAttached()&&ht(),this.savePreviouslyFocusedElement(),this.setModalTransformOrigin(),this.portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this.portalOutlet.hasAttached()&&ht(),this.savePreviouslyFocusedElement(),this.portalOutlet.attachTemplatePortal(t)}},{key:"attachStringContent",value:function(){this.savePreviouslyFocusedElement()}},{key:"getNativeElement",value:function(){return this.elementRef.nativeElement}},{key:"animationDisabled",value:function(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}},{key:"setModalTransformOrigin",value:function(){var t=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){var e=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),n=Object(l.c)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(t,"transform-origin","".concat(n.left+e.width/2-t.offsetLeft,"px ").concat(n.top+e.height/2-t.offsetTop,"px 0px"))}}},{key:"savePreviouslyFocusedElement",value:function(){var t=this;this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t.elementRef.nativeElement.focus()})))}},{key:"trapFocus",value:function(){var t=this.elementRef.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady().then();else{var e=this.document.activeElement;e===t||t.contains(e)||t.focus()}}},{key:"restoreFocus",value:function(){var t=this.elementFocusedBeforeModalWasOpened;if(t&&"function"==typeof t.focus){var e=this.document.activeElement,n=this.elementRef.nativeElement;e&&e!==this.document.body&&e!==n&&!n.contains(e)||t.focus()}this.focusTrap&&this.focusTrap.destroy()}},{key:"setEnterAnimationClass",value:function(){if(!this.animationDisabled()){this.setModalTransformOrigin();var t=this.modalElementRef.nativeElement,e=this.overlayRef.backdropElement;t.classList.add("zoom-enter"),t.classList.add("zoom-enter-active"),e&&(e.classList.add("fade-enter"),e.classList.add("fade-enter-active"))}}},{key:"setExitAnimationClass",value:function(){var t=this.modalElementRef.nativeElement;t.classList.add("zoom-leave"),t.classList.add("zoom-leave-active"),this.setMaskExitAnimationClass()}},{key:"setMaskExitAnimationClass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.overlayRef.backdropElement;if(e){if(this.animationDisabled()||t)return void e.classList.remove("ant-modal-mask");e.classList.add("fade-leave"),e.classList.add("fade-leave-active")}}},{key:"cleanAnimationClass",value:function(){if(!this.animationDisabled()){var t=this.overlayRef.backdropElement,e=this.modalElementRef.nativeElement;t&&(t.classList.remove("fade-enter"),t.classList.remove("fade-enter-active")),e.classList.remove("zoom-enter"),e.classList.remove("zoom-enter-active"),e.classList.remove("zoom-leave"),e.classList.remove("zoom-leave-active")}}},{key:"bindBackdropStyle",value:function(){var t=this,e=this.overlayRef.backdropElement;if(e&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach((function(n){t.render.removeStyle(e,n)})),this.oldMaskStyle=null),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){var n=Object.assign({},this.config.nzMaskStyle);Object.keys(n).forEach((function(r){t.render.setStyle(e,r,n[r])})),this.oldMaskStyle=n}}},{key:"setContainer",value:function(){var t=this.getContainer();t&&this.render.appendChild(t,this.elementRef.nativeElement)}},{key:"resetContainer",value:function(){this.getContainer()&&this.render.appendChild(this.overlayRef.overlayElement,this.elementRef.nativeElement)}},{key:"getContainer",value:function(){var t=this.config.nzGetContainer,e="function"==typeof t?t():t;return e instanceof HTMLElement?(Object(s.c)("nzGetContainer of nz-modal is not support, will be removed in 11.0.0"),e):null}},{key:"updateMaskClassname",value:function(){var t=this.overlayRef.backdropElement;t&&(this.showMask?t.classList.add("ant-modal-mask"):t.classList.remove("ant-modal-mask"))}},{key:"onAnimationDone",value:function(t){"enter"===t.toState?(this.setContainer(),this.trapFocus()):"exit"===t.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(t)}},{key:"onAnimationStart",value:function(t){"enter"===t.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===t.toState&&(this.resetContainer(),this.setExitAnimationClass()),this.animationStateChanged.emit(t)}},{key:"startExitAnimation",value:function(){this.state="exit",this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}},{key:"showMask",get:function(){var t=this.nzConfigService.getConfigForComponent("modal")||{};return!!pt(this.config.nzMask,t.nzMask,!0)}},{key:"maskClosable",get:function(){var t=this.nzConfigService.getConfigForComponent("modal")||{};return!!pt(this.config.nzMaskClosable,t.nzMaskClosable,!0)}}]),n}(o.a)).\u0275fac=function(t){return new(t||gt)(i.Nb(i.l),i.Nb(x.e),i.Nb(i.h),i.Nb(i.E),i.Nb(r.g),i.Nb(N.a),i.Nb(ut),i.Nb(void 0),i.Nb(String))},gt.\u0275dir=i.Ib({type:gt,features:[i.wb]}),gt),bt=((ft=function(t){a(n,t);var e=u(n);function n(t,r,o,s,a,l,u,c,p,d){var g;return f(this,n),(g=e.call(this,r,o,s,a,l,u,c,p,d)).i18n=t,g.config=c,g.cancelTriggered=new i.n,g.okTriggered=new i.n,g.i18n.localeChange.pipe(Object(h.a)(g.destroy$)).subscribe((function(){g.locale=g.i18n.getLocaleData("Modal")})),g}return y(n,[{key:"onCancel",value:function(){this.cancelTriggered.emit()}},{key:"onOk",value:function(){this.okTriggered.emit()}}]),n}(Ct)).\u0275fac=function(t){return new(t||ft)(i.Nb(b.e),i.Nb(i.l),i.Nb(x.e),i.Nb(i.h),i.Nb(i.E),i.Nb(r.g),i.Nb(N.a),i.Nb(ut),i.Nb(m.c,8),i.Nb(C.a,8))},ft.\u0275cmp=i.Hb({type:ft,selectors:[["nz-modal-confirm-container"]],viewQuery:function(t,e){var n;1&t&&(i.xc(o.b,!0),i.xc(M,!0)),2&t&&(i.qc(n=i.bc())&&(e.portalOutlet=n.first),i.qc(n=i.bc())&&(e.modalElementRef=n.first))},hostAttrs:["tabindex","-1","role","dialog"],hostVars:6,hostBindings:function(t,e){1&t&&(i.zc("@modalContainer.start",(function(t){return e.onAnimationStart(t)}))("@modalContainer.done",(function(t){return e.onAnimationDone(t)})),i.ac("click",(function(t){return e.onContainerClick(t)}))("mouseup",(function(){return e.onMouseup()}))),2&t&&(i.Ac("@.disabled",e.config.nzNoAnimation)("@modalContainer",e.state),i.Bb(e.config.nzWrapClassName?"ant-modal-wrap "+e.config.nzWrapClassName:"ant-modal-wrap"),i.yc("z-index",e.config.nzZIndex))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[i.wb],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle","mousedown"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","click"]],template:function(t,e){1&t&&(i.Tb(0,"div",0,1),i.ac("mousedown",(function(){return e.onMousedown()})),i.ec(2,"nzToCssUnit"),i.Tb(3,"div",2),i.Bc(4,L,1,0,"button",3),i.Tb(5,"div",4),i.Tb(6,"div",5),i.Tb(7,"div",6),i.Ob(8,"i",7),i.Tb(9,"span",8),i.Bc(10,j,2,1,"ng-container",9),i.Sb(),i.Tb(11,"div",10),i.Bc(12,G,0,0,"ng-template",11),i.Bc(13,V,1,1,"div",12),i.Sb(),i.Sb(),i.Tb(14,"div",13),i.Bc(15,W,2,4,"button",14),i.Bc(16,B,2,5,"button",15),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.yc("width",i.fc(2,11,null==e.config?null:e.config.nzWidth)),i.jc("ngClass",e.config.nzClassName)("ngStyle",e.config.nzStyle),i.zb(4),i.jc("ngIf",e.config.nzClosable),i.zb(1),i.jc("ngStyle",e.config.nzBodyStyle),i.zb(3),i.jc("nzType",e.config.nzIconType),i.zb(2),i.jc("nzStringTemplateOutlet",e.config.nzTitle),i.zb(3),i.jc("ngIf",e.isStringContent),i.zb(2),i.jc("ngIf",null!==e.config.nzCancelText),i.zb(1),i.jc("ngIf",null!==e.config.nzOkText))},directives:function(){return[m.l,m.o,m.n,I.a,T.a,P.b,o.b,Et,E.a,F.a]},pipes:function(){return[A]},encapsulation:2,data:{animation:[ct.modalContainer]}}),ft),wt=((dt=function(t){a(n,t);var e=u(n);function n(t,r,o,i,s,a,l,u,c){var p;return f(this,n),(p=e.call(this,t,r,o,i,s,a,l,u,c)).config=l,p}return n}(Ct)).\u0275fac=function(t){return new(t||dt)(i.Nb(i.l),i.Nb(x.e),i.Nb(i.h),i.Nb(i.E),i.Nb(r.g),i.Nb(N.a),i.Nb(ut),i.Nb(m.c,8),i.Nb(C.a,8))},dt.\u0275cmp=i.Hb({type:dt,selectors:[["nz-modal-container"]],viewQuery:function(t,e){var n;1&t&&(i.xc(o.b,!0),i.xc(M,!0)),2&t&&(i.qc(n=i.bc())&&(e.portalOutlet=n.first),i.qc(n=i.bc())&&(e.modalElementRef=n.first))},hostAttrs:["tabindex","-1","role","dialog"],hostVars:6,hostBindings:function(t,e){1&t&&(i.zc("@modalContainer.start",(function(t){return e.onAnimationStart(t)}))("@modalContainer.done",(function(t){return e.onAnimationDone(t)})),i.ac("click",(function(t){return e.onContainerClick(t)}))("mouseup",(function(){return e.onMouseup()}))),2&t&&(i.Ac("@.disabled",e.config.nzNoAnimation)("@modalContainer",e.state),i.Bb(e.config.nzWrapClassName?"ant-modal-wrap "+e.config.nzWrapClassName:"ant-modal-wrap"),i.yc("z-index",e.config.nzZIndex))},exportAs:["nzModalContainer"],features:[i.wb],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle","mousedown"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(t,e){1&t&&(i.Tb(0,"div",0,1),i.ac("mousedown",(function(){return e.onMousedown()})),i.ec(2,"nzToCssUnit"),i.Tb(3,"div",2),i.Bc(4,H,1,0,"button",3),i.Bc(5,z,1,0,"div",4),i.Tb(6,"div",5),i.Bc(7,U,0,0,"ng-template",6),i.Bc(8,K,1,1,"div",7),i.Sb(),i.Bc(9,Y,1,1,"div",8),i.Sb(),i.Sb()),2&t&&(i.yc("width",i.fc(2,9,null==e.config?null:e.config.nzWidth)),i.jc("ngClass",e.config.nzClassName)("ngStyle",e.config.nzStyle),i.zb(4),i.jc("ngIf",e.config.nzClosable),i.zb(1),i.jc("ngIf",e.config.nzTitle),i.zb(1),i.jc("ngStyle",e.config.nzBodyStyle),i.zb(2),i.jc("ngIf",e.isStringContent),i.zb(1),i.jc("ngIf",null!==e.config.nzFooter))},directives:function(){return[m.l,m.o,m.n,o.b,Et,kt,St]},pipes:function(){return[A]},encapsulation:2,data:{animation:[ct.modalContainer]}}),dt),_t=function(){function t(e,n,r){var o=this;f(this,t),this.overlayRef=e,this.config=n,this.containerInstance=r,this.componentInstance=null,this.state=0,this.afterClose=new c.a,this.afterOpen=new c.a,r.animationStateChanged.pipe(Object(d.a)((function(t){return"done"===t.phaseName&&"enter"===t.toState})),Object(g.a)(1)).subscribe((function(){o.afterOpen.next(),o.afterOpen.complete(),n.nzAfterOpen instanceof i.n&&n.nzAfterOpen.emit()})),r.animationStateChanged.pipe(Object(d.a)((function(t){return"done"===t.phaseName&&"exit"===t.toState})),Object(g.a)(1)).subscribe((function(){clearTimeout(o.closeTimeout),o._finishDialogClose()})),r.containerClick.pipe(Object(g.a)(1)).subscribe((function(){!o.config.nzCancelLoading&&!o.config.nzOkLoading&&o.trigger("cancel")})),e.keydownEvents().pipe(Object(d.a)((function(t){return o.config.nzKeyboard&&!o.config.nzCancelLoading&&!o.config.nzOkLoading&&t.keyCode===O.f&&!Object(O.p)(t)}))).subscribe((function(t){t.preventDefault(),o.trigger("cancel")})),r.cancelTriggered.subscribe((function(){return o.trigger("cancel")})),r.okTriggered.subscribe((function(){return o.trigger("ok")})),e.detachments().subscribe((function(){o.afterClose.next(o.result),o.afterClose.complete(),n.nzAfterClose instanceof i.n&&n.nzAfterClose.emit(o.result),o.componentInstance=null,o.overlayRef.dispose()}))}return y(t,[{key:"getContentComponent",value:function(){return this.componentInstance}},{key:"getElement",value:function(){return this.containerInstance.getNativeElement()}},{key:"destroy",value:function(t){this.close(t)}},{key:"triggerOk",value:function(){return this.trigger("ok")}},{key:"triggerCancel",value:function(){return this.trigger("cancel")}},{key:"open",value:function(){Object(s.c)("open of NzModalRef is not support, will be removed in 11.0.0")}},{key:"close",value:function(t){var e=this;this.result=t,this.containerInstance.animationStateChanged.pipe(Object(d.a)((function(t){return"start"===t.phaseName})),Object(g.a)(1)).subscribe((function(t){e.overlayRef.detachBackdrop(),e.closeTimeout=setTimeout((function(){e._finishDialogClose()}),t.totalTime+100)})),this.containerInstance.startExitAnimation(),this.state=1}},{key:"updateConfig",value:function(t){Object.assign(this.config,t),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}},{key:"getState",value:function(){return this.state}},{key:"getConfig",value:function(){return this.config}},{key:"getBackdropElement",value:function(){return this.overlayRef.backdropElement}},{key:"trigger",value:function(t){return Object(_.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={ok:this.config.nzOnOk,cancel:this.config.nzOnCancel}[t],r={ok:"nzOkLoading",cancel:"nzCancelLoading"}[t],this.config[r]){e.next=21;break}if(!(n instanceof i.n)){e.next=6;break}n.emit(this.getContentComponent()),e.next=21;break;case 6:if("function"!=typeof n){e.next=21;break}if(o=n(this.getContentComponent()),!Object(l.i)(o)){e.next=20;break}return this.config[r]=!0,s=!1,e.prev=11,e.next=14,o;case 14:s=e.sent;case 15:return e.prev=15,this.config[r]=!1,this.closeWhitResult(s),e.finish(15);case 18:e.next=21;break;case 20:this.closeWhitResult(o);case 21:case"end":return e.stop()}}),e,this,[[11,,15,18]])})))}},{key:"closeWhitResult",value:function(t){!1!==t&&this.close(t)}},{key:"_finishDialogClose",value:function(){this.state=2,this.overlayRef.dispose()}}]),t}(),Ot=((mt=function(){function t(e,n,r,o){var i=this;f(this,t),this.overlay=e,this.injector=n,this.nzConfigService=r,this.parentModal=o,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new c.a,this.afterAllClose=Object(p.a)((function(){return i.openModals.length?i._afterAllClosed:i._afterAllClosed.pipe(Object(v.a)(void 0))}))}return y(t,[{key:"create",value:function(t){return this.open(t.nzContent,t)}},{key:"closeAll",value:function(){this.closeModals(this.openModals)}},{key:"confirm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm";return"nzFooter"in t&&Object(s.b)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in t||(t.nzWidth=416),"nzMaskClosable"in t||(t.nzMaskClosable=!1),t.nzModalType="confirm",t.nzClassName="ant-modal-confirm ant-modal-confirm-".concat(e," ").concat(t.nzClassName||""),this.create(t)}},{key:"info",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.confirmFactory(t,"info")}},{key:"success",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.confirmFactory(t,"success")}},{key:"error",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.confirmFactory(t,"error")}},{key:"warning",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.confirmFactory(t,"warning")}},{key:"open",value:function(t,e){var n=this,r=function(t,e){return Object.assign(Object.assign({},e),t)}(e||{},new ut),o=this.createOverlay(r),i=this.attachModalContainer(o,r),s=this.attachModalContent(t,i,o,r);return i.modalRef=s,this.openModals.push(s),s.afterClose.subscribe((function(){return n.removeOpenModal(s)})),s}},{key:"removeOpenModal",value:function(t){var e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this._afterAllClosed.next())}},{key:"closeModals",value:function(t){for(var e=t.length;e--;)t[e].close(),this.openModals.length||this._afterAllClosed.next()}},{key:"createOverlay",value:function(t){var e=this.nzConfigService.getConfigForComponent("modal")||{},n=new r.e({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:pt(t.nzCloseOnNavigation,e.nzCloseOnNavigation,!0)});return pt(t.nzMask,e.nzMask,!0)&&(n.backdropClass="ant-modal-mask"),this.overlay.create(n)}},{key:"attachModalContainer",value:function(t,e){var n=i.r.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:r.g,useValue:t},{provide:ut,useValue:e}]}),s=new o.c("confirm"===e.nzModalType?bt:wt,e.nzViewContainerRef,n);return t.attach(s).instance}},{key:"attachModalContent",value:function(t,e,n,r){var s=new _t(n,r,e);if(t instanceof i.L)e.attachTemplatePortal(new o.f(t,null,{$implicit:r.nzComponentParams,modalRef:s}));else if(Object(l.g)(t)&&"string"!=typeof t){var a=this.createInjector(s,r),u=e.attachComponentPortal(new o.c(t,r.nzViewContainerRef,a));Object.assign(u.instance,r.nzComponentParams),s.componentInstance=u.instance}else e.attachStringContent();return s}},{key:"createInjector",value:function(t,e){return i.r.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:_t,useValue:t}]})}},{key:"confirmFactory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return"nzIconType"in t||(t.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[e]),"nzCancelText"in t||(t.nzCancelText=null),this.confirm(t,e)}},{key:"ngOnDestroy",value:function(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}},{key:"openModals",get:function(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}},{key:"_afterAllClosed",get:function(){var t=this.parentModal;return t?t._afterAllClosed:this.afterAllClosedAtThisLevel}}]),t}()).\u0275fac=function(t){return new(t||mt)(i.Xb(r.d),i.Xb(i.r),i.Xb(N.a),i.Xb(mt,12))},mt.\u0275prov=i.Jb({token:mt,factory:mt.\u0275fac}),mt),Et=((vt=function t(e){f(this,t),this.config=e}).\u0275fac=function(t){return new(t||vt)(i.Nb(ut))},vt.\u0275cmp=i.Hb({type:vt,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:q,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(t,e){1&t&&(i.Tb(0,"span",0),i.Bc(1,X,2,1,"ng-container",1),i.Sb()),2&t&&(i.zb(1),i.jc("nzStringTemplateOutlet",e.config.nzCloseIcon))},directives:[P.b,I.a,T.a],encapsulation:2,changeDetection:0}),vt),St=((yt=function(){function t(e,n){var r=this;f(this,t),this.i18n=e,this.config=n,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new i.n,this.okTriggered=new i.n,this.destroy$=new c.a,Array.isArray(n.nzFooter)&&(this.buttonsFooter=!0,this.buttons=n.nzFooter.map(Pt)),this.i18n.localeChange.pipe(Object(h.a)(this.destroy$)).subscribe((function(){r.locale=r.i18n.getLocaleData("Modal")}))}return y(t,[{key:"onCancel",value:function(){this.cancelTriggered.emit()}},{key:"onOk",value:function(){this.okTriggered.emit()}},{key:"getButtonCallableProp",value:function(t,e){var n=t[e],r=this.modalRef.getContentComponent();return"function"==typeof n?n.apply(t,r&&[r]):n}},{key:"onButtonClick",value:function(t){if(!this.getButtonCallableProp(t,"loading")){var e=this.getButtonCallableProp(t,"onClick");t.autoLoading&&Object(l.i)(e)&&(t.loading=!0,e.then((function(){return t.loading=!1})).catch((function(){return t.loading=!1})))}}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}()).\u0275fac=function(t){return new(t||yt)(i.Nb(b.e),i.Nb(ut))},yt.\u0275cmp=i.Hb({type:yt,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:Q,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(t,e){if(1&t&&(i.Bc(0,nt,2,5,"ng-container",0),i.Bc(1,it,2,2,"ng-template",null,1,i.Cc)),2&t){var n=i.rc(2);i.jc("ngIf",e.config.nzFooter)("ngIfElse",n)}},directives:[m.n,P.b,m.m,E.a,F.a,I.a],encapsulation:2}),yt);function Pt(t){return Object.assign({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},t)}var Tt,Rt,kt=((Rt=function t(e){f(this,t),this.config=e}).\u0275fac=function(t){return new(t||Rt)(i.Nb(ut))},Rt.\u0275cmp=i.Hb({type:Rt,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:st,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Bc(1,at,2,1,"ng-container",1),i.Sb()),2&t&&(i.zb(1),i.jc("nzStringTemplateOutlet",e.config.nzTitle))},directives:[P.b],encapsulation:2,changeDetection:0}),Rt),At=((Tt=function t(){f(this,t)}).\u0275mod=i.Lb({type:Tt}),Tt.\u0275inj=i.Kb({factory:function(t){return new(t||Tt)},providers:[Ot],imports:[[m.b,r.f,P.a,o.e,b.c,E.c,T.b,D,S.b,D]]}),Tt)},"UPS/":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n("EM62"),o=n("ZTXN"),i=n("xVbo"),s=n("7SLS"),a=new r.q("nz-config"),l=function(t){return void 0!==t},u=function(){var t=function(){function t(e){f(this,t),this.configUpdated$=new o.a,this.config=e||{}}return y(t,[{key:"getConfigForComponent",value:function(t){return this.config[t]}},{key:"getConfigChangeEventForComponent",value:function(t){return this.configUpdated$.pipe(Object(i.a)((function(e){return e===t})),Object(s.a)(void 0))}},{key:"set",value:function(t,e){this.config[t]=Object.assign(Object.assign({},this.config[t]),e),this.configUpdated$.next(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Xb(a,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(a,8))},token:t,providedIn:"root"}),t}();function c(){return function(t,e,n){var r="$$__assignedValue__"+e;return Object.defineProperty(t,r,{configurable:!0,writable:!0,enumerable:!1}),{get:function(){var t=(null==n?void 0:n.get)?n.get.bind(this)():this[r];if(((this.assignmentCount||{})[e]||0)>1&&l(t))return t;var o=(this.nzConfigService.getConfigForComponent(this._nzModuleName)||{})[e];return l(o)?o:t},set:function(t){this.assignmentCount=this.assignmentCount||{},this.assignmentCount[e]=(this.assignmentCount[e]||0)+1,(null==n?void 0:n.set)?n.set.bind(this)(t):this[r]=t},configurable:!0,enumerable:!0}}}},UZJT:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u}));var r=n("EM62"),o=n("4ZgP"),i={},s="[NG-ZORRO]:";function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(o.a.isTestMode||Object(r.V)()&&(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce((function(t,e){return t+e.toString()}),"");return!i[r]&&(i[r]=!0,!0)}).apply(void 0,n))&&t.apply(void 0,n)}var l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.apply(void 0,[function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).warn.apply(t,[s].concat(n))}].concat(e))},u=function(){if(o.a.isTestMode)return function(){};for(var t=(new Error).stack,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a.apply(void 0,[function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=console).warn.apply(e,[s,"deprecated:"].concat(r,[t]))}].concat(n))}},Ux30:function(t,e,n){"use strict";n.d(e,"a",(function(){return ce})),n.d(e,"b",(function(){return $t})),n.d(e,"c",(function(){return re})),n.d(e,"d",(function(){return ne})),n.d(e,"e",(function(){return ee})),n.d(e,"f",(function(){return Zt}));var r=n("EM62"),o=n("UZJT"),i=n("C05f"),s=n("2kYt"),l=n("it/K"),c={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function p(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var h={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function d(t){return function(e,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=o.width?String(o.width):i;r=t.formattingValues[s]||t.formattingValues[i]}else{var a=t.defaultWidth,l=o.width?String(o.width):t.defaultWidth;r=t.values[l]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function g(t){return function(e,n){var r=String(e),o=n||{},i=o.width,s=r.match(i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth]);if(!s)return null;var a,l=s[0],u=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth];return a="[object Array]"===Object.prototype.toString.call(u)?function(t,e){for(var n=0;n<t.length;n++)if(t[n].test(l))return n}(u):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(l))return n}(u),a=t.valueCallback?t.valueCallback(a):a,{value:a=o.valueCallback?o.valueCallback(a):a,rest:r.slice(l.length)}}}var v,m={code:"en-US",formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof c[t]?c[t]:1===e?c[t].one:c[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:{date:p({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:p({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:p({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:function(t,e,n,r){return h[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:d({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:d({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:d({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:d({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:d({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(v={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),r=e||{},o=n.match(v.matchPattern);if(!o)return null;var i=o[0],s=n.match(v.parsePattern);if(!s)return null;var a=v.valueCallback?v.valueCallback(s[0]):s[0];return{value:a=r.valueCallback?r.valueCallback(a):a,rest:n.slice(i.length)}}),era:g({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:g({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:g({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:g({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:g({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},C=n("N1LS"),b=n("JuBR"),w=n("mrqE");function _(t,e){Object(w.a)(2,arguments);var n=Object(b.a)(t).getTime(),r=Object(C.a)(e);return new Date(n+r)}function O(t,e){Object(w.a)(2,arguments);var n=Object(C.a)(e);return _(t,-n)}function E(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}function S(t){Object(w.a)(1,arguments);var e=1,n=Object(b.a)(t),r=n.getUTCDay(),o=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function P(t){Object(w.a)(1,arguments);var e=Object(b.a)(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=S(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=S(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function T(t){Object(w.a)(1,arguments);var e=P(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=S(n);return r}function R(t){Object(w.a)(1,arguments);var e=Object(b.a)(t),n=S(e).getTime()-T(e).getTime();return Math.round(n/6048e5)+1}function k(t,e){Object(w.a)(1,arguments);var n=e||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:Object(C.a)(o),s=null==n.weekStartsOn?i:Object(C.a)(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=Object(b.a)(t),l=a.getUTCDay(),u=(l<s?7:0)+l-s;return a.setUTCDate(a.getUTCDate()-u),a.setUTCHours(0,0,0,0),a}function A(t,e){Object(w.a)(1,arguments);var n=Object(b.a)(t,e),r=n.getUTCFullYear(),o=e||{},i=o.locale,s=i&&i.options&&i.options.firstWeekContainsDate,a=null==s?1:Object(C.a)(s),l=null==o.firstWeekContainsDate?a:Object(C.a)(o.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,l),u.setUTCHours(0,0,0,0);var c=k(u,e),p=new Date(0);p.setUTCFullYear(r,0,l),p.setUTCHours(0,0,0,0);var h=k(p,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function D(t,e){Object(w.a)(1,arguments);var n=e||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,i=null==o?1:Object(C.a)(o),s=null==n.firstWeekContainsDate?i:Object(C.a)(n.firstWeekContainsDate),a=A(t,e),l=new Date(0);l.setUTCFullYear(a,0,s),l.setUTCHours(0,0,0,0);var u=k(l,e);return u}function x(t,e){Object(w.a)(1,arguments);var n=Object(b.a)(t),r=k(n,e).getTime()-D(n,e).getTime();return Math.round(r/6048e5)+1}function N(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var s=e||"";return n+String(o)+s+E(i,2)}function I(t,e){return t%60==0?(t>0?"-":"+")+E(Math.abs(t)/60,2):F(t,e)}function F(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t);return r+E(Math.floor(o/60),2)+n+E(o%60,2)}var M={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return E("yy"===e?r%100:r,e.length)}(t,e)},Y:function(t,e,n,r){var o=A(t,r),i=o>0?o:1-o;return"YY"===e?E(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):E(i,e.length)},R:function(t,e){return E(P(t),e.length)},u:function(t,e){return E(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return E(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return E(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):E(n+1,2)}(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return E(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var o=x(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):E(o,e.length)},I:function(t,e,n){var r=R(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):E(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):function(t,e){return E(t.getUTCDate(),e.length)}(t,e)},D:function(t,e,n){var r=function(t){Object(w.a)(1,arguments);var e=Object(b.a)(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),o=n-r;return Math.floor(o/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):E(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return E(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return E(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return E(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,o=t.getUTCHours();switch(r=12===o?"noon":0===o?"midnight":o/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,o=t.getUTCHours();switch(r=o>=17?"evening":o>=12?"afternoon":o>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return function(t,e){return E(t.getUTCHours()%12||12,e.length)}(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):function(t,e){return E(t.getUTCHours(),e.length)}(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):E(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):E(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):function(t,e){return E(t.getUTCMinutes(),e.length)}(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):function(t,e){return E(t.getUTCSeconds(),e.length)}(t,e)},S:function(t,e){return function(t,e){var n=e.length,r=t.getUTCMilliseconds();return E(Math.floor(r*Math.pow(10,n-3)),e.length)}(t,e)},X:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return I(o);case"XXXX":case"XX":return F(o);case"XXXXX":case"XXX":default:return F(o,":")}},x:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return I(o);case"xxxx":case"xx":return F(o);case"xxxxx":case"xxx":default:return F(o,":")}},O:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N(o,":");case"OOOO":default:return"GMT"+F(o,":")}},z:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N(o,":");case"zzzz":default:return"GMT"+F(o,":")}},t:function(t,e,n,r){return E(Math.floor((r._originalDate||t).getTime()/1e3),e.length)},T:function(t,e,n,r){return E((r._originalDate||t).getTime(),e.length)}};function L(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function j(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var G={p:j,P:function(t,e){var n,r=t.match(/(P+)(p+)?/),o=r[1],i=r[2];if(!i)return L(t,e);switch(o){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",L(o,e)).replace("{{time}}",j(i,e))}},V=n("njY1"),W=["D","DD"],B=["YY","YYYY"];function H(t){return-1!==W.indexOf(t)}function z(t){return-1!==B.indexOf(t)}function U(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var K=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q=/^'([^]*?)'?$/,X=/''/g,Q=/[a-zA-Z]/;function Z(t){return t.match(q)[1].replace(X,"'")}var J=n("zYp8");function $(t){return Object(w.a)(1,arguments),Object(J.a)(t,{weekStartsOn:1})}function tt(t){Object(w.a)(1,arguments);var e=Object(b.a)(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var o=$(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var s=$(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function et(t){Object(w.a)(1,arguments);var e=tt(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=$(n);return r}function nt(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function rt(t,e,n){Object(w.a)(2,arguments);var r=n||{},o=r.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(C.a)(i),a=null==r.weekStartsOn?s:Object(C.a)(r.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(b.a)(t),u=Object(C.a)(e),c=l.getUTCDay(),p=u%7,h=(p+7)%7,d=(h<a?7:0)+u-c;return l.setUTCDate(l.getUTCDate()+d),l}var ot=/^(1[0-2]|0?\d)/,it=/^(3[0-1]|[0-2]?\d)/,st=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,at=/^(5[0-3]|[0-4]?\d)/,lt=/^(2[0-3]|[0-1]?\d)/,ut=/^(2[0-4]|[0-1]?\d)/,ct=/^(1[0-1]|0?\d)/,pt=/^(1[0-2]|0?\d)/,ht=/^[0-5]?\d/,dt=/^[0-5]?\d/,ft=/^\d/,gt=/^\d{1,2}/,yt=/^\d{1,3}/,vt=/^\d{1,4}/,mt=/^-?\d+/,Ct=/^-?\d/,bt=/^-?\d{1,2}/,wt=/^-?\d{1,3}/,_t=/^-?\d{1,4}/,Ot=/^([+-])(\d{2})(\d{2})?|Z/,Et=/^([+-])(\d{2})(\d{2})|Z/,St=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Pt=/^([+-])(\d{2}):(\d{2})|Z/,Tt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Rt(t,e,n){var r=e.match(t);if(!r)return null;var o=parseInt(r[0],10);return{value:n?n(o):o,rest:e.slice(r[0].length)}}function kt(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function At(t,e){return Rt(mt,t,e)}function Dt(t,e,n){switch(t){case 1:return Rt(ft,e,n);case 2:return Rt(gt,e,n);case 3:return Rt(yt,e,n);case 4:return Rt(vt,e,n);default:return Rt(new RegExp("^\\d{1,"+t+"}"),e,n)}}function xt(t,e,n){switch(t){case 1:return Rt(Ct,e,n);case 2:return Rt(bt,e,n);case 3:return Rt(wt,e,n);case 4:return Rt(_t,e,n);default:return Rt(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function Nt(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function It(t,e){var n,r=e>0,o=r?e:1-e;if(o<=50)n=t||100;else{var i=o+50;n=t+100*Math.floor(i/100)-(t>=i%100?100:0)}return r?n:1-n}var Ft=[31,28,31,30,31,30,31,31,30,31,30,31],Mt=[31,29,31,30,31,30,31,31,30,31,30,31];function Lt(t){return t%400==0||t%4==0&&t%100!=0}var jt={G:{priority:140,parse:function(t,e,n,r){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,r){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,r){var o=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return Dt(4,t,o);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:o});default:return Dt(e.length,t,o)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,r){var o=t.getUTCFullYear();if(n.isTwoDigitYear){var i=It(n.year,o);return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}return t.setUTCFullYear("era"in e&&1!==e.era?1-n.year:n.year,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,r){var o=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return Dt(4,t,o);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:o});default:return Dt(e.length,t,o)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,r){var o=A(t,r);if(n.isTwoDigitYear){var i=It(n.year,o);return t.setUTCFullYear(i,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),k(t,r)}return t.setUTCFullYear("era"in e&&1!==e.era?1-n.year:n.year,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),k(t,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,r){return xt("R"===e?4:e.length,t)},set:function(t,e,n,r){var o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),S(o)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,r){return xt("u"===e?4:e.length,t)},set:function(t,e,n,r){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,r){switch(e){case"Q":case"QQ":return Dt(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,r){switch(e){case"q":case"qq":return Dt(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,r){var o=function(t){return t-1};switch(e){case"M":return Rt(ot,t,o);case"MM":return Dt(2,t,o);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:o});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,r){var o=function(t){return t-1};switch(e){case"L":return Rt(ot,t,o);case"LL":return Dt(2,t,o);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:o});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,r){switch(e){case"w":return Rt(at,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,r){return k(function(t,e,n){Object(w.a)(2,arguments);var r=Object(b.a)(t),o=Object(C.a)(e),i=x(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}(t,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,r){switch(e){case"I":return Rt(at,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,r){return S(function(t,e){Object(w.a)(2,arguments);var n=Object(b.a)(t),r=Object(C.a)(e),o=R(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(t,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"d":return Rt(it,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Dt(e.length,t)}},validate:function(t,e,n){var r=Lt(t.getUTCFullYear()),o=t.getUTCMonth();return r?e>=1&&e<=Mt[o]:e>=1&&e<=Ft[o]},set:function(t,e,n,r){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"D":case"DD":return Rt(st,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Dt(e.length,t)}},validate:function(t,e,n){return Lt(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n,r){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,r){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=rt(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,r){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return Dt(e.length,t,o);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:o});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=rt(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,r){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return Dt(e.length,t,o);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:o});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=rt(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,r){var o=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return Dt(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(t,{width:"short",context:"formatting",valueCallback:o})||n.day(t,{width:"narrow",context:"formatting",valueCallback:o});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:o});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:o})||n.day(t,{width:"narrow",context:"formatting",valueCallback:o});case"iiii":default:return n.day(t,{width:"wide",context:"formatting",valueCallback:o})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(t,{width:"short",context:"formatting",valueCallback:o})||n.day(t,{width:"narrow",context:"formatting",valueCallback:o})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,e,n,r){return(t=function(t,e){Object(w.a)(2,arguments);var n=Object(C.a)(e);n%7==0&&(n-=7);var r=1,o=Object(b.a)(t),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,r){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(Nt(n),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,n,r){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(Nt(n),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,n,r){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(Nt(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,r){switch(e){case"h":return Rt(pt,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n,r){var o=t.getUTCHours()>=12;return t.setUTCHours(o&&n<12?n+12:o||12!==n?n:0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,r){switch(e){case"H":return Rt(lt,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n,r){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,r){switch(e){case"K":return Rt(ct,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){var o=t.getUTCHours()>=12;return t.setUTCHours(o&&n<12?n+12:n,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,r){switch(e){case"k":return Rt(ut,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n,r){return t.setUTCHours(n<=24?n%24:n,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,r){switch(e){case"m":return Rt(ht,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,r){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,r){switch(e){case"s":return Rt(dt,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Dt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,r){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,r){return Dt(e.length,t,(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))},set:function(t,e,n,r){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,r){switch(e){case"X":return kt(Ot,t);case"XX":return kt(Et,t);case"XXXX":return kt(St,t);case"XXXXX":return kt(Tt,t);case"XXX":default:return kt(Pt,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,r){switch(e){case"x":return kt(Ot,t);case"xx":return kt(Et,t);case"xxxx":return kt(St,t);case"xxxxx":return kt(Tt,t);case"xxx":default:return kt(Pt,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,r){return At(t)},set:function(t,e,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,r){return At(t)},set:function(t,e,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Gt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wt=/^'([^]*?)'?$/,Bt=/''/g,Ht=/\S/,zt=/[a-zA-Z]/;function Ut(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}function Kt(t){return t.match(Wt)[1].replace(Bt,"'")}var Yt,qt,Xt,Qt=n("ETyd"),Zt={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click sort by descend",triggerAsc:"Click sort by ascend",cancelSort:"Click to cancel sort"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"}},Jt={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"}},$t=new r.q("nz-i18n"),te=new r.q("nz-date-locale"),ee=((Xt=function(){function t(e,n){f(this,t),this._change=new i.a(this._locale),this.setLocale(e||Jt),this.setDateLocale(n||null)}return y(t,[{key:"translate",value:function(t,e){var n=this._getObjectPath(this._locale,t);return"string"==typeof n?(e&&Object.keys(e).forEach((function(t){return n=n.replace(new RegExp("%".concat(t,"%"),"g"),e[t])})),n):t}},{key:"setLocale",value:function(t){this._locale&&this._locale.locale===t.locale||(this._locale=t,this._change.next(t))}},{key:"getLocale",value:function(){return this._locale}},{key:"getLocaleId",value:function(){return this._locale?this._locale.locale:""}},{key:"setDateLocale",value:function(t){this.dateLocale=t}},{key:"getDateLocale",value:function(){return this.dateLocale}},{key:"getLocaleData",value:function(t,e){var n=t?this._getObjectPath(this._locale,t):this._locale;return n||e||Object(o.b)('Missing translations for "'.concat(t,'" in language "').concat(this._locale.locale,'".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md')),n||e||this._getObjectPath(Zt,t)||{}}},{key:"_getObjectPath",value:function(t,e){for(var n=t,r=e.split("."),o=r.length,i=0;n&&i<o;)n=n[r[i++]];return i===o?n:null}},{key:"localeChange",get:function(){return this._change.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||Xt)(r.Xb($t,8),r.Xb(te,8))},Xt.\u0275prov=Object(r.Jb)({factory:function(){return new Xt(Object(r.Xb)($t,8),Object(r.Xb)(te,8))},token:Xt,providedIn:"root"}),Xt),ne=((qt=function(){function t(e){f(this,t),this._locale=e}return y(t,[{key:"transform",value:function(t,e){return this._locale.translate(t,e)}}]),t}()).\u0275fac=function(t){return new(t||qt)(r.Nb(ee))},qt.\u0275pipe=r.Mb({name:"nzI18n",type:qt,pure:!0}),qt),re=((Yt=function t(){f(this,t)}).\u0275mod=r.Lb({type:Yt}),Yt.\u0275inj=r.Kb({factory:function(t){return new(t||Yt)}}),Yt),oe=new r.q("date-config"),ie={firstDayOfWeek:void 0};function se(t,e){var n=t.get(ee);return n.getDateLocale()?new pe(n,e):new he(n,e)}var ae,le,ue,ce=((ue=function t(e,n){f(this,t),this.i18n=e,this.config=n,this.config=function(t){return Object.assign(Object.assign({},ie),t)}(this.config)}).\u0275fac=function(t){return new(t||ue)(r.Xb(ee),r.Xb(oe,8))},ue.\u0275prov=Object(r.Jb)({factory:function(){return se(Object(r.Xb)(r.o),Object(r.Xb)(oe,8))},token:ue,providedIn:"root"}),ue),pe=((le=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getISOWeek",value:function(t){return function(t){Object(w.a)(1,arguments);var e=Object(b.a)(t),n=$(e).getTime()-et(e).getTime();return Math.round(n/6048e5)+1}(t)}},{key:"getFirstDayOfWeek",value:function(){var t;try{t=this.i18n.getDateLocale().options.weekStartsOn}catch(e){t=1}return null==this.config.firstDayOfWeek?t:this.config.firstDayOfWeek}},{key:"format",value:function(t,e){return t?function(t,e,n){Object(w.a)(2,arguments);var r=String(e),o=n||{},i=o.locale||m,s=i.options&&i.options.firstWeekContainsDate,a=null==s?1:Object(C.a)(s),u=null==o.firstWeekContainsDate?a:Object(C.a)(o.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=i.options&&i.options.weekStartsOn,p=null==c?0:Object(C.a)(c),h=null==o.weekStartsOn?p:Object(C.a)(o.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var d=Object(b.a)(t);if(!Object(l.a)(d))throw new RangeError("Invalid time value");var f=Object(V.a)(d),g=O(d,f),y={firstWeekContainsDate:u,weekStartsOn:h,locale:i,_originalDate:d},v=r.match(Y).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,G[e])(t,i.formatLong,y):t})).join("").match(K).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return Z(n);var s=M[r];if(s)return!o.useAdditionalWeekYearTokens&&z(n)&&U(n,e,t),!o.useAdditionalDayOfYearTokens&&H(n)&&U(n,e,t),s(g,n,i.localize,y);if(r.match(Q))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return v}(t,e,{locale:this.i18n.getDateLocale()}):""}},{key:"parseDate",value:function(t,e){return function(t,e,n,r){Object(w.a)(3,arguments);var o=String(t),i=String(e),s=r||{},a=s.locale||m;if(!a.match)throw new RangeError("locale must contain match property");var l=a.options&&a.options.firstWeekContainsDate,u=null==l?1:Object(C.a)(l),c=null==s.firstWeekContainsDate?u:Object(C.a)(s.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=a.options&&a.options.weekStartsOn,h=null==p?0:Object(C.a)(p),d=null==s.weekStartsOn?h:Object(C.a)(s.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===i)return""===o?Object(b.a)(n):new Date(NaN);var f,g={firstWeekContainsDate:c,weekStartsOn:d,locale:a},y=[{priority:10,subPriority:-1,set:Ut,index:0}],v=i.match(Vt).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,G[e])(t,a.formatLong,g):t})).join("").match(Gt),_=[];for(f=0;f<v.length;f++){var E=v[f];!s.useAdditionalWeekYearTokens&&z(E)&&U(E,i,t),!s.useAdditionalDayOfYearTokens&&H(E)&&U(E,i,t);var S=E[0],P=jt[S];if(P){var T=P.incompatibleTokens;if(Array.isArray(T)){for(var R=void 0,k=0;k<_.length;k++){var A=_[k].token;if(-1!==T.indexOf(A)||A===S){R=_[k];break}}if(R)throw new RangeError("The format string mustn't contain `".concat(R.fullToken,"` and `").concat(E,"` at the same time"))}else if("*"===P.incompatibleTokens&&_.length)throw new RangeError("The format string mustn't contain `".concat(E,"` and any other token at the same time"));_.push({token:S,fullToken:E});var D=P.parse(o,E,a.match,g);if(!D)return new Date(NaN);y.push({priority:P.priority,subPriority:P.subPriority||0,set:P.set,validate:P.validate,value:D.value,index:y.length}),o=D.rest}else{if(S.match(zt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if("''"===E?E="'":"'"===S&&(E=Kt(E)),0!==o.indexOf(E))return new Date(NaN);o=o.slice(E.length)}}if(o.length>0&&Ht.test(o))return new Date(NaN);var x=y.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return y.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),N=Object(b.a)(n);if(isNaN(N))return new Date(NaN);var I=O(N,Object(V.a)(N)),F={};for(f=0;f<x.length;f++){var M=x[f];if(M.validate&&!M.validate(I,M.value,g))return new Date(NaN);var L=M.set(I,F,M.value,g);L[0]?(I=L[0],nt(F,L[1])):I=L}return I}(t,e,new Date,{locale:this.i18n.getDateLocale(),weekStartsOn:this.getFirstDayOfWeek()})}},{key:"parseTime",value:function(t,e){return this.parseDate(t,e)}}]),n}(ce)).\u0275prov=Object(r.Jb)({factory:function(){return se(Object(r.Xb)(r.o),Object(r.Xb)(oe,8))},token:le,providedIn:"root"}),le),he=((ae=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getISOWeek",value:function(t){return+this.format(t,"w")}},{key:"getFirstDayOfWeek",value:function(){if(void 0===this.config.firstDayOfWeek){var t=this.i18n.getLocaleId();return t&&["zh-cn","zh-tw"].indexOf(t.toLowerCase())>-1?1:0}return this.config.firstDayOfWeek}},{key:"format",value:function(t,e){return t?Object(s.x)(t,e,this.i18n.getLocaleId()):""}},{key:"parseDate",value:function(t){return new Date(t)}},{key:"parseTime",value:function(t,e){return new Qt.e(e,this.i18n.getLocaleId()).toDate(t)}}]),n}(ce)).\u0275prov=Object(r.Jb)({factory:function(){return se(Object(r.Xb)(r.o),Object(r.Xb)(oe,8))},token:ae,providedIn:"root"}),ae)},VvXq:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var o=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this,t,n)).scheduler=t,o.work=n,o}return y(r,[{key:"requestAsyncId",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?n(d(r.prototype),"requestAsyncId",this).call(this,t,e,o):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==o&&o>0||null===o&&this.delay>0)return n(d(r.prototype),"recycleAsyncId",this).call(this,t,e,o);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),r}(r("EWqr").a),i=new(function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(r("DG/E").a))(o)},VxHp:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},WdQX:function(t,e,n){"use strict";n.d(e,"E",(function(){return Ae})),n.d(e,"u",(function(){return un})),n.d(e,"n",(function(){return Se})),n.d(e,"k",(function(){return Yt})),n.d(e,"Q",(function(){return zt})),n.d(e,"R",(function(){return Ht})),n.d(e,"N",(function(){return qt})),n.d(e,"m",(function(){return Kt})),n.d(e,"U",(function(){return Qt})),n.d(e,"S",(function(){return Ut})),n.d(e,"V",(function(){return Bo})),n.d(e,"x",(function(){return tl})),n.d(e,"y",(function(){return Ra})),n.d(e,"F",(function(){return Aa})),n.d(e,"gb",(function(){return ka})),n.d(e,"r",(function(){return ie})),n.d(e,"s",(function(){return se})),n.d(e,"O",(function(){return ae})),n.d(e,"W",(function(){return Ai})),n.d(e,"T",(function(){return si})),n.d(e,"cb",(function(){return ea})),n.d(e,"B",(function(){return $l})),n.d(e,"w",(function(){return wl})),n.d(e,"bb",(function(){return kf})),n.d(e,"ab",(function(){return Fh})),n.d(e,"p",(function(){return _a})),n.d(e,"X",(function(){return bf})),n.d(e,"a",(function(){return Al})),n.d(e,"c",(function(){return Fl})),n.d(e,"h",(function(){return _p})),n.d(e,"j",(function(){return Ud})),n.d(e,"i",(function(){return Od})),n.d(e,"b",(function(){return Hd})),n.d(e,"e",(function(){return pd})),n.d(e,"d",(function(){return yd})),n.d(e,"f",(function(){return fd})),n.d(e,"t",(function(){return Go})),n.d(e,"J",(function(){return ri})),n.d(e,"P",(function(){return Wo})),n.d(e,"eb",(function(){return _i})),n.d(e,"hb",(function(){return If})),n.d(e,"o",(function(){return Ca})),n.d(e,"Y",(function(){return ma})),n.d(e,"fb",(function(){return Ep})),n.d(e,"v",(function(){return ne})),n.d(e,"G",(function(){return Xo})),n.d(e,"H",(function(){return uc})),n.d(e,"C",(function(){return Pf})),n.d(e,"A",(function(){return ke})),n.d(e,"D",(function(){return wa})),n.d(e,"z",(function(){return ee})),n.d(e,"ib",(function(){return So})),n.d(e,"M",(function(){return Po})),n.d(e,"g",(function(){return ko})),n.d(e,"Z",(function(){return Af})),n.d(e,"l",(function(){return Lf})),n.d(e,"db",(function(){return Fo})),n.d(e,"q",(function(){return Ff})),n.d(e,"I",(function(){return Mf})),n.d(e,"K",(function(){return Jt})),n.d(e,"L",(function(){return re}));var r={};n.r(r),n.d(r,"makeNull",(function(){return O})),n.d(r,"exists",(function(){return E})),n.d(r,"missing",(function(){return S})),n.d(r,"missingOrEmpty",(function(){return P})),n.d(r,"toStringOrNull",(function(){return T})),n.d(r,"attrToNumber",(function(){return R})),n.d(r,"attrToBoolean",(function(){return k})),n.d(r,"attrToString",(function(){return A})),n.d(r,"referenceCompare",(function(){return D})),n.d(r,"jsonEquals",(function(){return x})),n.d(r,"defaultComparator",(function(){return N})),n.d(r,"find",(function(){return I})),n.d(r,"values",(function(){return F}));var o={};n.r(o),n.d(o,"firstExistingValue",(function(){return L})),n.d(o,"anyExists",(function(){return j})),n.d(o,"existsAndNotEmpty",(function(){return G})),n.d(o,"last",(function(){return V})),n.d(o,"areEqual",(function(){return W})),n.d(o,"compareArrays",(function(){return B})),n.d(o,"shallowCompare",(function(){return H})),n.d(o,"sortNumerically",(function(){return z})),n.d(o,"removeRepeatsFromArray",(function(){return U})),n.d(o,"removeFromArray",(function(){return K})),n.d(o,"removeAllFromArray",(function(){return Y})),n.d(o,"insertIntoArray",(function(){return q})),n.d(o,"insertArrayIntoArray",(function(){return X})),n.d(o,"moveInArray",(function(){return Q})),n.d(o,"includes",(function(){return Z})),n.d(o,"flatten",(function(){return J})),n.d(o,"pushAll",(function(){return $})),n.d(o,"toStrings",(function(){return tt})),n.d(o,"findIndex",(function(){return et})),n.d(o,"every",(function(){return nt})),n.d(o,"some",(function(){return rt})),n.d(o,"forEach",(function(){return ot})),n.d(o,"forEachReverse",(function(){return it})),n.d(o,"map",(function(){return st})),n.d(o,"filter",(function(){return at})),n.d(o,"reduce",(function(){return lt})),n.d(o,"forEachSnapshotFirst",(function(){return ut}));var i={};n.r(i),n.d(i,"iterateObject",(function(){return ct})),n.d(i,"cloneObject",(function(){return pt})),n.d(i,"deepCloneObject",(function(){return ht})),n.d(i,"deepCloneDefinition",(function(){return dt})),n.d(i,"getProperty",(function(){return ft})),n.d(i,"setProperty",(function(){return gt})),n.d(i,"copyPropertiesIfPresent",(function(){return yt})),n.d(i,"copyPropertyIfPresent",(function(){return vt})),n.d(i,"getAllKeysInObjects",(function(){return mt})),n.d(i,"getAllValuesInObject",(function(){return Ct})),n.d(i,"mergeDeep",(function(){return bt})),n.d(i,"assign",(function(){return wt})),n.d(i,"missingOrEmptyObject",(function(){return _t})),n.d(i,"get",(function(){return Ot})),n.d(i,"set",(function(){return Et})),n.d(i,"deepFreeze",(function(){return St})),n.d(i,"getValueUsingField",(function(){return Pt})),n.d(i,"removeAllReferences",(function(){return Tt})),n.d(i,"isNonNullObject",(function(){return Rt}));var s={};n.r(s),n.d(s,"doOnce",(function(){return xt})),n.d(s,"getFunctionName",(function(){return Nt})),n.d(s,"getFunctionParameters",(function(){return It})),n.d(s,"isFunction",(function(){return Ft})),n.d(s,"executeInAWhile",(function(){return Mt})),n.d(s,"executeNextVMTurn",(function(){return Lt})),n.d(s,"executeAfter",(function(){return jt})),n.d(s,"debounce",(function(){return Gt})),n.d(s,"compose",(function(){return Vt})),n.d(s,"callIfPresent",(function(){return Wt}));var a={};n.r(a),n.d(a,"stopPropagationForAgGrid",(function(){return pe})),n.d(a,"isStopPropagationForAgGrid",(function(){return he})),n.d(a,"isEventSupported",(function(){return fe})),n.d(a,"getCellCompForEvent",(function(){return ge})),n.d(a,"addChangeListener",(function(){return ye})),n.d(a,"getTarget",(function(){return ve})),n.d(a,"isElementInEventPath",(function(){return me})),n.d(a,"createEventPath",(function(){return Ce})),n.d(a,"addAgGridEventPath",(function(){return be})),n.d(a,"getEventPath",(function(){return we})),n.d(a,"addSafePassiveEventListener",(function(){return _e}));var l={};n.r(l),n.d(l,"utf8_encode",(function(){return Ne})),n.d(l,"camelCaseToHyphen",(function(){return Ie})),n.d(l,"hyphenToCamelCase",(function(){return Fe})),n.d(l,"capitalise",(function(){return Me})),n.d(l,"escapeString",(function(){return Le})),n.d(l,"camelCaseToHumanText",(function(){return je})),n.d(l,"startsWith",(function(){return Ge}));var u={};n.r(u),n.d(u,"padStart",(function(){return ze})),n.d(u,"createArrayOfNumbers",(function(){return Ue})),n.d(u,"isNumeric",(function(){return Ke})),n.d(u,"getMaxSafeInteger",(function(){return Ye})),n.d(u,"cleanNumber",(function(){return qe})),n.d(u,"decToHex",(function(){return Xe})),n.d(u,"formatNumberTwoDecimalPlacesAndCommas",(function(){return Qe})),n.d(u,"formatNumberCommas",(function(){return Ze})),n.d(u,"sum",(function(){return Je}));var c={};n.r(c),n.d(c,"stringToArray",(function(){return Cn}));var p={};n.r(p),n.d(p,"isBrowserIE",(function(){return bn})),n.d(p,"isBrowserEdge",(function(){return wn})),n.d(p,"isBrowserSafari",(function(){return _n})),n.d(p,"isBrowserChrome",(function(){return On})),n.d(p,"isBrowserFirefox",(function(){return En})),n.d(p,"isIOSUserAgent",(function(){return Sn})),n.d(p,"getTabIndex",(function(){return Pn})),n.d(p,"getMaxDivHeight",(function(){return Tn})),n.d(p,"getScrollbarWidth",(function(){return Rn})),n.d(p,"hasOverflowScrolling",(function(){return kn})),n.d(p,"getBodyWidth",(function(){return An})),n.d(p,"getBodyHeight",(function(){return Dn}));var h={};n.r(h),n.d(h,"addCssClass",(function(){return xn})),n.d(h,"removeCssClass",(function(){return Nn})),n.d(h,"addOrRemoveCssClass",(function(){return In})),n.d(h,"radioCssClass",(function(){return Fn})),n.d(h,"containsClass",(function(){return Mn})),n.d(h,"isFocusableFormField",(function(){return Ln})),n.d(h,"setDisplayed",(function(){return jn})),n.d(h,"setVisible",(function(){return Gn})),n.d(h,"setDisabled",(function(){return Vn})),n.d(h,"isElementChildOfClass",(function(){return Wn})),n.d(h,"getElementSize",(function(){return Bn})),n.d(h,"getInnerHeight",(function(){return Hn})),n.d(h,"getInnerWidth",(function(){return zn})),n.d(h,"getAbsoluteHeight",(function(){return Un})),n.d(h,"getAbsoluteWidth",(function(){return Kn})),n.d(h,"isRtlNegativeScroll",(function(){return Yn})),n.d(h,"getScrollLeft",(function(){return qn})),n.d(h,"setScrollLeft",(function(){return Xn})),n.d(h,"clearElement",(function(){return Qn})),n.d(h,"removeElement",(function(){return Zn})),n.d(h,"removeFromParent",(function(){return Jn})),n.d(h,"isVisible",(function(){return $n})),n.d(h,"loadTemplate",(function(){return tr})),n.d(h,"appendHtml",(function(){return er})),n.d(h,"getElementAttribute",(function(){return nr})),n.d(h,"offsetHeight",(function(){return rr})),n.d(h,"offsetWidth",(function(){return or})),n.d(h,"ensureDomOrder",(function(){return ir})),n.d(h,"setDomChildOrder",(function(){return sr})),n.d(h,"insertTemplateWithDomOrder",(function(){return ar})),n.d(h,"prependDC",(function(){return lr})),n.d(h,"addStylesToElement",(function(){return ur})),n.d(h,"isHorizontalScrollShowing",(function(){return cr})),n.d(h,"isVerticalScrollShowing",(function(){return pr})),n.d(h,"setElementWidth",(function(){return hr})),n.d(h,"setFixedWidth",(function(){return dr})),n.d(h,"setElementHeight",(function(){return fr})),n.d(h,"setFixedHeight",(function(){return gr})),n.d(h,"formatSize",(function(){return yr})),n.d(h,"isNode",(function(){return vr})),n.d(h,"isElement",(function(){return mr})),n.d(h,"isNodeOrElement",(function(){return Cr})),n.d(h,"copyNodeList",(function(){return br})),n.d(h,"iterateNamedNodeMap",(function(){return wr})),n.d(h,"setCheckboxState",(function(){return _r})),n.d(h,"addOrRemoveAttribute",(function(){return Or})),n.d(h,"nodeListForEach",(function(){return Er}));var d={};n.r(d),n.d(d,"getNameOfClass",(function(){return Sr})),n.d(d,"findLineByLeastSquares",(function(){return Pr})),n.d(d,"cssStyleObjectToMarkup",(function(){return Tr})),n.d(d,"message",(function(){return Rr})),n.d(d,"bindCellRendererToHtmlElement",(function(){return kr}));var f={};n.r(f),n.d(f,"getAriaSortState",(function(){return Nr})),n.d(f,"getAriaLevel",(function(){return Ir})),n.d(f,"getAriaPosInSet",(function(){return Fr})),n.d(f,"setAriaLabel",(function(){return Mr})),n.d(f,"setAriaLabelledBy",(function(){return Lr})),n.d(f,"setAriaDescribedBy",(function(){return jr})),n.d(f,"setAriaLevel",(function(){return Gr})),n.d(f,"setAriaDisabled",(function(){return Vr})),n.d(f,"setAriaExpanded",(function(){return Wr})),n.d(f,"removeAriaExpanded",(function(){return Br})),n.d(f,"setAriaSetSize",(function(){return Hr})),n.d(f,"setAriaPosInSet",(function(){return zr})),n.d(f,"setAriaMultiSelectable",(function(){return Ur})),n.d(f,"setAriaRowCount",(function(){return Kr})),n.d(f,"setAriaRowIndex",(function(){return Yr})),n.d(f,"setAriaColCount",(function(){return qr})),n.d(f,"setAriaColIndex",(function(){return Xr})),n.d(f,"setAriaColSpan",(function(){return Qr})),n.d(f,"setAriaSort",(function(){return Zr})),n.d(f,"removeAriaSort",(function(){return Jr})),n.d(f,"setAriaSelected",(function(){return $r})),n.d(f,"setAriaChecked",(function(){return to}));var g={};n.r(g),n.d(g,"serialiseDate",(function(){return eo})),n.d(g,"parseDateTimeFromString",(function(){return no}));var y={};n.r(y),n.d(y,"fuzzyCheckStrings",(function(){return ro})),n.d(y,"fuzzySuggestions",(function(){return oo})),n.d(y,"get_bigrams",(function(){return io})),n.d(y,"string_distances",(function(){return so})),n.d(y,"string_weighted_distances",(function(){return ao}));var v={};n.r(v),n.d(v,"iconNameClassMap",(function(){return lo})),n.d(v,"createIcon",(function(){return uo})),n.d(v,"createIconNoSpan",(function(){return co}));var m={};n.r(m),n.d(m,"isKeyPressed",(function(){return po})),n.d(m,"isEventFromPrintableCharacter",(function(){return ho})),n.d(m,"isUserSuppressingKeyboardEvent",(function(){return fo})),n.d(m,"isUserSuppressingHeaderKeyboardEvent",(function(){return go}));var C={};n.r(C),n.d(C,"keys",(function(){return yo}));var b={};n.r(b),n.d(b,"normalizeWheel",(function(){return vo})),n.d(b,"isLeftClick",(function(){return mo})),n.d(b,"areEventsNear",(function(){return Co}));var w={};n.r(w),n.d(w,"sortRowNodesByOrder",(function(){return bo})),n.d(w,"traverseNodesWithKey",(function(){return wo}));var _={};function O(t){return null==t||""===t?null:t}function E(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}function S(t){return!E(t)}function P(t){return null==t||0===t.length}function T(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function R(t){if(void 0!==t){if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function k(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function A(t){if(null!=t&&""!==t)return t}function D(t,e){return null==t&&null==e||(null!=t||null==e)&&(null==t||null!=e)&&t===e}function x(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)}function N(t,e,n){void 0===n&&(n=!1);var r=null==t,o=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&o)return 0;if(r)return-1;if(o)return 1;function i(t,e){return t>e?1:t<e?-1:0}if("string"!=typeof t)return i(t,e);if(!n)return i(t,e);try{return t.localeCompare(e)}catch(s){return i(t,e)}}function I(t,e,n){if(null==t)return null;if(!Array.isArray(t))return I(F(t),e,n);for(var r=t,o=null,i=0;i<r.length;i++){var s=r[i];if("string"==typeof e){if(s[e]===n){o=s;break}}else if(e(s)){o=s;break}}return o}function F(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.keys(t).map((function(e){return t[e]}))}n.r(_),n.d(_,"convertToSet",(function(){return _o}));var M=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=T(t);for(var n=0;;){var r=void 0;if(t?(r=t,0!==n&&(r+="_"+n)):e?(r=e,0!==n&&(r+="_"+n)):r=""+n,!this.existingKeys[r])return this.existingKeys[r]=!0,r;n++}},t}();function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var r=t[n];if(E(r))return r}return null}function j(t){return t&&null!=L(t)}function G(t){return null!=t&&t.length>0}function V(t){if(t&&t.length)return t[t.length-1]}function W(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&nt(t,(function(t,r){return n?n(t,e[r]):e[r]===t}))}function B(t,e){return W(t,e)}function H(t,e){return W(t,e)}function z(t){return t.sort((function(t,e){return t-e}))}function U(t,e){if(t)for(var n=t.length-2;n>=0;n--)t[n]===e&&t[n+1]===e&&t.splice(n+1,1)}function K(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function Y(t,e){ot(e,(function(e){return K(t,e)}))}function q(t,e,n){t.splice(n,0,e)}function X(t,e,n){if(null!=t&&null!=e)for(var r=e.length-1;r>=0;r--)q(t,e[r],n)}function Q(t,e,n){Y(t,e),ot(e.slice().reverse(),(function(e){return q(t,e,n)}))}function Z(t,e){return t.indexOf(e)>-1}function J(t){return[].concat.apply([],t)}function $(t,e){null!=e&&null!=t&&ot(e,(function(e){return t.push(e)}))}function tt(t){return st(t,T)}function et(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function nt(t,e){if(null==t)return!0;for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function rt(t,e){if(null==t)return!1;for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}function ot(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n],n)}function it(t,e){if(null!=t)for(var n=t.length-1;n>=0;n--)e(t[n],n)}function st(t,e){if(null==t)return null;for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}function at(t,e){if(null==t)return null;for(var n=[],r=0;r<t.length;r++)e(t[r],r)&&n.push(t[r]);return n}function lt(t,e,n){if(null==t||null==n)return null;for(var r=n,o=0;o<t.length;o++)r=e(r,t[o],o);return r}function ut(t,e){t&&t.slice(0).forEach(e)}function ct(t,e){null!=t&&(Array.isArray(t)?ot(t,(function(t,n){return e(""+n,t)})):ot(Object.keys(t),(function(n){return e(n,t[n])})))}function pt(t){for(var e={},n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e[o]=t[o]}return e}function ht(t){return JSON.parse(JSON.stringify(t))}function dt(t,e){if(t){var n=t,r={};return Object.keys(n).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var o=n[t],i=Rt(o)&&o.constructor===Object;r[t]=i?dt(o):o}})),r}}function ft(t,e){return t[e]}function gt(t,e,n){t[e]=n}function yt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];ot(n,(function(n){return vt(t,e,n)}))}function vt(t,e,n,r){var o=ft(t,n);void 0!==o&&gt(e,n,r?r(o):o)}function mt(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){ot(Object.keys(t),(function(t){return e[t]=null}))})),Object.keys(e)}function Ct(t){if(!t)return[];if("function"==typeof Object.values)return Object.values(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&t.propertyIsEnumerable(n)&&e.push(t[n]);return e}function bt(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),E(e)&&ct(e,(function(e,o){var i=t[e];i!==o&&(r&&null==i&&null!=o&&"object"==typeof o&&o.constructor===Object&&(t[e]=i={}),Rt(o)&&Rt(i)&&!Array.isArray(i)?bt(i,o,n,r):(n||void 0!==o)&&(t[e]=o))}))}function wt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ot(e,(function(e){return ct(e,(function(e,n){return t[e]=n}))})),t}function _t(t){return S(t)||0===Object.keys(t).length}function Ot(t,e,n){if(null==t)return n;for(var r=e.split("."),o=t;r.length>1;)if(null==(o=o[r.shift()]))return n;var i=o[r[0]];return null!=i?i:n}function Et(t,e,n){if(null!=t){for(var r=e.split("."),o=t;r.length>1;)if(null==(o=o[r.shift()]))return;o[r[0]]=n}}function St(t){return Object.freeze(t),ot(F(t),(function(t){(Rt(t)||"function"==typeof t)&&St(t)})),t}function Pt(t,e,n){if(e&&t){if(!n)return t[e];for(var r=e.split("."),o=t,i=0;i<r.length;i++){if(null==o)return;o=o[r[i]]}return o}}function Tt(t,e){Object.keys(t).forEach((function(e){"object"==typeof t[e]&&(t[e]=void 0)}));var n=Object.getPrototypeOf(t),r={};Object.keys(n).forEach((function(t){"function"==typeof n[t]&&(r[t]={value:function(){console.warn("ag-Grid: "+e+" function "+t+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})})),Object.defineProperties(t,r)}function Rt(t){return"object"==typeof t&&null!==t}var kt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,At=/([^\s,]+)/g,Dt={};function xt(t,e){Dt[e]||(t(),Dt[e]=!0)}function Nt(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function It(t){var e=t.toString().replace(kt,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(At)||[]}function Ft(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Mt(t){jt(t,400)}function Lt(t){jt(t,0)}function jt(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function Gt(t,e,n){var r;return void 0===n&&(n=!1),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=this,a=n&&!r;window.clearTimeout(r),r=window.setTimeout((function(){r=null,n||t.apply(s,o)}),e),a&&t.apply(s,o)}}function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function Wt(t){t&&t()}var Bt=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return F(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),E(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),ct(this.beanWrappers,(function(e,n){var r;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var o,i,s=t.getBeansForParameters(r,n.bean.name),a=(o=n.bean,i=[null].concat(s),new(o.bind.apply(o,i)));n.beanInstance=a}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e,n=t.__agBeanMetaData;if(!n)return e=t.prototype.constructor?Nt(t.prototype.constructor):""+t,void console.error("Context item "+e+" is not a bean");this.beanWrappers[n.beanName]={bean:t,beanInstance:null,beanName:n.beanName}},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,r){var o=n.agClassAttributes;o&&o.forEach((function(n){var o=e.lookupBeanInstance(r,n.beanName,n.optional);t[n.attributeName]=o}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,r){ct(n.autowireMethods,(function(n,o){if("agConstructor"!==n){var i=e.getBeansForParameters(o,r);t[n].apply(t,i)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var r=n.constructor;r.hasOwnProperty("__agBeanMetaData")&&e(r.__agBeanMetaData,this.getBeanName(r)),n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,r=[];return t&&ct(t,(function(t,o){var i=n.lookupBeanInstance(e,o);r[Number(t)]=i})),r},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var r=this.beanWrappers[e];return r?r.beanInstance:(n||console.error("ag-Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach((function(t){return n.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var r={};this.forEachMetaDataInHierarchy(t,(function(t){var o=t[e];o&&o.forEach((function(t){t!=n&&(r[t]=!0)}))})),Object.keys(r).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy"),"function"==typeof t.destroy&&t.destroy()})),[]):[]},t}();function Ht(t,e,n){var r=Zt(t.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function zt(t,e,n){var r=Zt(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function Ut(t,e,n){var r=Zt(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function Kt(t){return function(e){Zt(e).beanName=t}}function Yt(t){return function(e,n,r){Xt(e,t,!1,0,n,null)}}function qt(t){return function(e,n,r){Xt(e,t,!0,0,n,null)}}function Xt(t,e,n,r,o,i){if(null!==e)if("number"!=typeof i){var s=Zt(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:e,optional:n})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function Qt(t){return function(e,n,r){var o,i="function"==typeof e?e:e.constructor;if("number"==typeof r){var s=void 0;n?(o=Zt(i),s=n):(o=Zt(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][r]=t}}}function Zt(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var Jt,$t=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},te=function(t,e){return function(n,r){e(n,r,t)}},ee=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,n,r){if(void 0===n&&(n=null),this.logger=t.create("EventService"),this.frameworkOverrides=r,n){var o=e.useAsyncEvents();this.addGlobalListener(n,o)}},t.prototype.getListeners=function(t,e){var n=e?this.allAsyncListeners:this.allSyncListeners,r=n.get(t);return r||(r=new Set,n.set(t,r)),r},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n).delete(e)},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var n=this,r=t.type;this.getListeners(r,e).forEach((function(r){e?n.dispatchAsync((function(){return r(t)})):r(t)})),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(o){e?n.dispatchAsync((function(){return n.frameworkOverrides.dispatchEvent(r,(function(){return o(r,t)}))})):n.frameworkOverrides.dispatchEvent(r,(function(){return o(r,t)}))}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},$t([te(0,Qt("loggerFactory")),te(1,Qt("gridOptionsWrapper")),te(2,Qt("globalEventListener")),te(3,Qt("frameworkOverrides"))],t.prototype,"setBeans",null),$t([Kt("eventService")],t)}(),ne=function(){function t(){}return t.STEP_EVERYTHING=0,t.STEP_FILTER=1,t.STEP_SORT=2,t.STEP_MAP=3,t.STEP_AGGREGATE=4,t.STEP_PIVOT=5,t.ROW_BUFFER_SIZE=10,t.LAYOUT_INTERVAL=500,t.BATCH_WAIT_MILLIS=50,t.EXPORT_TYPE_DRAG_COPY="dragCopy",t.EXPORT_TYPE_CLIPBOARD="clipboard",t.EXPORT_TYPE_EXCEL="excel",t.EXPORT_TYPE_CSV="csv",t.ROW_MODEL_TYPE_INFINITE="infinite",t.ROW_MODEL_TYPE_VIEWPORT="viewport",t.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",t.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",t.ALWAYS="always",t.ONLY_WHEN_GROUPING="onlyWhenGrouping",t.PINNED_TOP="top",t.PINNED_BOTTOM="bottom",t.DOM_LAYOUT_NORMAL="normal",t.DOM_LAYOUT_PRINT="print",t.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",t.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",t.SOURCE_PASTE="paste",t.PINNED_RIGHT="right",t.PINNED_LEFT="left",t.SORT_ASC="asc",t.SORT_DESC="desc",t.INPUT_SELECTOR="input, select, button, textarea",t.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",t.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",t}();!function(t){t.CommunityCoreModule="@ag-grid-community/core",t.CommunityAllModules="@ag-grid-community/all",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.EnterpriseAllModules="@ag-grid-enterprise/all",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t.PolymerModule="@ag-grid-community/polymer"}(Jt||(Jt={}));var re=function(){function t(){}return t.register=function(e,n){void 0===n&&(n=!0),t.modulesMap[e.moduleName]=e,void 0===t.moduleBased?t.moduleBased=n:t.moduleBased!==n&&xt((function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/documentation/javascript/packages-modules/ for more information.")}),"ModulePackageCheck")},t.registerModules=function(e,n){void 0===n&&(n=!0),e&&e.forEach((function(e){return t.register(e,n)}))},t.assertRegistered=function(t,e){if(this.isRegistered(t))return!0;var n="ag-Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/documentation/javascript/modules/";return xt((function(){console.warn(n)}),e+t),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return F(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),oe=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ie=function(){function t(t,e,n,r){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new ee,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=r,this.setState(t)}return t.prototype.setState=function(t){void 0!==t.sort?t.sort!==ne.SORT_ASC&&t.sort!==ne.SORT_DESC||(this.sort=t.sort):t.initialSort!==ne.SORT_ASC&&t.initialSort!==ne.SORT_DESC||(this.sort=t.initialSort);var e=R(t.sortIndex),n=R(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var r=k(t.hide),o=k(t.initialHide);this.visible=void 0!==r?!r:!o,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var i=R(t.flex),s=R(t.initialFlex);void 0!==i?this.flex=i:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){var t=this.gridOptionsWrapper.getMinColWidth(),e=this.gridOptionsWrapper.getMaxColWidth();this.minWidth=null!=this.colDef.minWidth?Math.max(this.colDef.minWidth,1):t,this.maxWidth=null!=this.colDef.maxWidth?this.colDef.maxWidth:e,this.resetActualWidth("gridInitializing");var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=E(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=E(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n,this.validate()},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){return!(S(this.colDef)||S(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},t.prototype.getUniqueId=function(){return this.getId()},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function e(t,e,n){xt((function(){n?console.warn(t,n):xt((function(){return console.warn(t)}),e)}),e)}re.isRegistered(Jt.RowGroupingModule)||["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(n){E(t[n])&&(re.isPackageBased()?e("ag-Grid: "+n+" is only valid in ag-grid-enterprise, your column definition should not have "+n,"ColumnRowGroupingMissing"+n):e("ag-Grid: "+n+" is only valid with ag-Grid Enterprise Module "+Jt.RowGroupingModule+" - your column definition should not have "+n,"ColumnRowGroupingMissing"+n))})),re.isRegistered(Jt.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(re.isPackageBased()?e("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+Jt.RichSelectModule,"ColumnRichSelectMissing")),re.isRegistered(Jt.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(re.isPackageBased()?e("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):e("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+Jt.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(n){E(t[n])&&e("ag-Grid: "+n+" is not possible when doing tree data, your column definition should not have "+n,"TreeDataCannotRowGroup")})),E(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createIsColumnFuncParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createIsColumnFuncParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!0===this.colDef.resizable},t.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createIsColumnFuncParams(t))},t.prototype.setMoving=function(e,n){void 0===n&&(n="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MOVING_CHANGED,n))},t.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(e,n){void 0===n&&(n="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_SORT_CHANGED,n)))},t.prototype.setMenuVisible=function(e,n){void 0===n&&(n="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MENU_VISIBLE_CHANGED,n)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return this.sort===ne.SORT_ASC},t.prototype.isSortDescending=function(){return this.sort===ne.SORT_DESC},t.prototype.isSortNone=function(){return S(this.sort)},t.prototype.isSorting=function(){return E(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(e,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LEFT_CHANGED,n)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(e,n,r){void 0===n&&(n="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FILTER_ACTIVE_CHANGED,n)));var o=this.createColumnEvent(t.EVENT_FILTER_CHANGED,n);r&&bt(o,r),this.eventService.dispatchEvent(o)},t.prototype.setPinned=function(t){this.pinned=!0===t||t===ne.PINNED_LEFT?ne.PINNED_LEFT:t===ne.PINNED_RIGHT?ne.PINNED_RIGHT:null},t.prototype.setFirstRightPinned=function(e,n){void 0===n&&(n="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},t.prototype.setLastLeftPinned=function(e,n){void 0===n&&(n="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return this.pinned===ne.PINNED_LEFT||this.pinned===ne.PINNED_RIGHT},t.prototype.isPinnedLeft=function(){return this.pinned===ne.PINNED_LEFT},t.prototype.isPinnedRight=function(){return this.pinned===ne.PINNED_RIGHT},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(e,n){void 0===n&&(n="api");var r=!0===e;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VISIBLE_CHANGED,n)))},t.prototype.isVisible=function(){return this.visible},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.getColId()},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},t.prototype.getColSpan=function(t){if(S(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(S(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_WIDTH_CHANGED,e))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),E(this.minWidth)&&this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(e,n){void 0===n&&(n="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_ROW_GROUP_CHANGED,n)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(e,n){void 0===n&&(n="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_PIVOT_CHANGED,n)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(e,n){void 0===n&&(n="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VALUE_CHANGED,n)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},t.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},t.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",oe([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),oe([Yt("columnUtils")],t.prototype,"columnUtils",void 0),oe([Yt("columnApi")],t.prototype,"columnApi",void 0),oe([Yt("gridApi")],t.prototype,"gridApi",void 0),oe([Yt("context")],t.prototype,"context",void 0),oe([zt],t.prototype,"initialise",null),t}(),se=function(){function t(t,e,n,r){this.displayedChildren=[],this.localEventService=new ee,this.groupId=e,this.instanceId=n,this.originalColumnGroup=t,this.pinned=r}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.instanceId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getOriginalColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=V(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(r){e===r&&(n=!0),r instanceof t&&r.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()||0})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.originalColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof ie?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof ie?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},t.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];var n=this;if(this.isPadding())for(;n.getParent()&&n.isPadding();)n=n.getParent();n.originalColumnGroup.isExpandable()?this.children.forEach((function(r){switch(r.getColumnGroupShow()){case t.HEADER_GROUP_SHOW_OPEN:n.originalColumnGroup.isExpanded()&&e.displayedChildren.push(r);break;case t.HEADER_GROUP_SHOW_CLOSED:n.originalColumnGroup.isExpanded()||e.displayedChildren.push(r);break;default:r instanceof t&&r.isPadding()&&!r.displayedChildren.length||e.displayedChildren.push(r)}})):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.HEADER_GROUP_SHOW_OPEN="open",t.HEADER_GROUP_SHOW_CLOSED="closed",t.HEADER_GROUP_PADDING="padding",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),ae=function(){function t(t,e,n,r){this.localEventService=new ee,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=r}return t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e,this.localEventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED})},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(n){n instanceof ie?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){if(this.padding)return se.HEADER_GROUP_PADDING;var t=this.colGroupDef;return t?t.columnGroupShow:void 0},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach((function(e){return e.addEventListener(ie.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))}))},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,r=!1,o=this.findChildren(),i=0,s=o.length;i<s;i++){var a=o[i];if(a.isVisible()){var l=a.getColumnGroupShow();l===se.HEADER_GROUP_SHOW_OPEN?(e=!0,r=!0):l===se.HEADER_GROUP_SHOW_CLOSED?(n=!0,r=!0):(e=!0,n=!0,l===se.HEADER_GROUP_PADDING&&(r=r||a.children.some((function(t){return void 0!==t.getColumnGroupShow()}))))}}var u=e&&n&&r;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:t.EVENT_EXPANDABLE_CHANGED}))}},t.prototype.findChildren=function(){var e=this.children,n=e[0];if(n&&(!n.isPadding||!n.isPadding()))return e;for(;1===e.length&&e[0]instanceof t;)e=e[0].children;return e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",t}(),le={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ue=["touchstart","touchend","touchmove","touchcancel"],ce={};function pe(t){t.__ag_Grid_Stop_Propagation=!0}function he(t){return!0===t.__ag_Grid_Stop_Propagation}var de,fe=(de={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t){if("boolean"==typeof ce[t])return ce[t];var e=document.createElement(de[t]||"div"),n=(t="on"+t)in e;return n||(e.setAttribute(t,"return;"),n="function"==typeof e[t]),ce[t]=n});function ge(t,e){for(var n=ve(e);n;){var r=t.getDomData(n,"cellComp");if(r)return r;n=n.parentElement}return null}function ye(t,e){t.addEventListener("changed",e),t.addEventListener("paste",e),t.addEventListener("input",e),t.addEventListener("keydown",e),t.addEventListener("keyup",e)}function ve(t){return t.target||t.srcElement}function me(t,e){return!(!e||!t)&&we(e).indexOf(t)>=0}function Ce(t){for(var e=[],n=ve(t);n;)e.push(n),n=n.parentElement;return e}function be(t){t.__agGridEventPath=we(t)}function we(t){var e=t;return e.deepPath?e.deepPath():e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:Ce(t)}function _e(t,e,n,r){var o=Z(ue,n);t&&t.addEventListener&&t.addEventListener(e,n,r,o?{passive:!0}:void 0)}var Oe,Ee=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Se=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return t.context},this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new ee),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,n){var r=this;if(!this.destroyed){t instanceof HTMLElement?_e(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function o(){return t.removeEventListener(e,n),r.destroyFunctions=r.destroyFunctions.filter((function(t){return t!==o})),null};return this.destroyFunctions.push(o),o}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},t.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var n=this;return t&&ot(t,(function(t){return n.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",Ee([Yt("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Ee([Yt("context")],t.prototype,"context",void 0),Ee([Yt("eventService")],t.prototype,"eventService",void 0),Ee([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ee([Ut],t.prototype,"destroy",null),t}(),Pe=(Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Te=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pe(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,n){var r=new M;if(n){var o=n.map((function(t){return t.getId()}));r.addExistingKeys(o)}var i=n?n.slice():null,s=this.recursivelyCreateColumns(t,0,e,i,r),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var l=this.balanceColumnTree(s,0,a,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,(function(t,e){t instanceof ae&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:l,treeDept:a}},e.prototype.createForAutoGroups=function(t,e){var n=this,r=[];return t.forEach((function(t){var o=n.createAutoGroupTreeItem(e,t);r.push(o)})),r},e.prototype.createAutoGroupTreeItem=function(t,e){for(var n=e,r=this.findDepth(t)-1;r>=0;r--){var o=new ae(null,"FAKE_PATH_"+e.getId()+"}_"+r,!0,r);this.context.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},e.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof ae;)e++,n=n[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,n,r){for(var o=[],i=0;i<t.length;i++){var s=t[i];if(s instanceof ae){var a=s,l=this.balanceColumnTree(a.getChildren(),e+1,n,r);a.setChildren(l),o.push(a)}else{for(var u=void 0,c=void 0,p=n-1;p>=e;p--){var h=r.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),f=new ae(d,h,!0,e);this.context.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u&&c){if(o.push(u),t.some((function(t){return t instanceof ae}))){c.setChildren([s]);continue}c.setChildren(t);break}o.push(s)}}return o},e.prototype.findMaxDept=function(t,e){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(o instanceof ae){var i=this.findMaxDept(o.getChildren(),e+1);n<i&&(n=i)}}return n},e.prototype.recursivelyCreateColumns=function(t,e,n,r,o){var i=this,s=[];return t?(t.forEach((function(t){var a;a=i.isColumnGroup(t)?i.createColumnGroup(n,t,e,r,o):i.createColumn(n,t,r,o),s.push(a)})),s):s},e.prototype.createColumnGroup=function(t,e,n,r,o){var i=this.createMergedColGroupDef(e),s=o.getUniqueKey(i.groupId||null,null),a=new ae(i,s,!1,n);this.context.createBean(a);var l=this.recursivelyCreateColumns(i.children,n+1,t,r,o);return a.setChildren(l),a},e.prototype.createMergedColGroupDef=function(t){var e={};return wt(e,this.gridOptionsWrapper.getDefaultColGroupDef()),wt(e,t),this.checkForDeprecatedItems(e),e},e.prototype.createColumn=function(t,e,n,r){var o=this.mergeColDefs(e);this.checkForDeprecatedItems(o);var i=this.findExistingColumn(e,n);if(i)i.setColDef(o,e),this.applyColumnState(i,o);else{var s=r.getUniqueKey(o.colId,o.field);i=new ie(o,e,s,t),this.context.createBean(i)}return i},e.prototype.applyColumnState=function(t,e){var n=R(e.flex);if(void 0!==n&&t.setFlex(n),t.getFlex()<=0){var r=R(e.width);null!=r&&t.setActualWidth(r)}void 0!==e.sort&&t.setSort(e.sort==ne.SORT_ASC||e.sort==ne.SORT_DESC?e.sort:void 0);var o=R(e.sortIndex);void 0!==o&&t.setSortIndex(o);var i=k(e.hide);void 0!==i&&t.setVisible(!i),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){var n=I(e,(function(e){var n=e.getUserProvidedColDef();if(!n)return!1;var r=null!=t.field;return null!=t.colId?e.getId()===t.colId:r?n.field===t.field:n===t}));return e&&n&&K(e,n),n},e.prototype.mergeColDefs=function(t){var e={},n=this.gridOptionsWrapper.getDefaultColDef();bt(e,n,!0,!0);var r=t.type;return r||(r=n&&n.type),r&&this.assignColumnTypes(r,e),bt(e,t,!0,!0),e},e.prototype.assignColumnTypes=function(t,e){var n=[];if(t instanceof Array)t.some((function(t){return"string"!=typeof t}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t;else{if("string"!=typeof t)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");n=t.split(",")}var r=wt({},le);ct(this.gridOptionsWrapper.getColumnTypes()||{},(function(t,e){t in r?console.warn("ag-Grid: the column type '"+t+"' is a default column type and cannot be overridden."):r[t]=e})),n.forEach((function(t){var n=r[t.trim()];n?bt(e,n,!0,!0):console.warn("ag-grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.checkForDeprecatedItems=function(t){if(t){var e=t;void 0!==e.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==e.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(e.suppressRowGroup||e.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),e.displayName&&(console.warn("ag-grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.headerName=e.displayName)}},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Te([Yt("columnUtils")],e.prototype,"columnUtils",void 0),Te([(n=Qt("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Te([Kt("columnFactory")],e);var n}(Se),ke=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t.EVENT_STORE_UPDATED="storeUpdated",t}(),Ae=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return this.existingIds[t]=e="number"!=typeof n?0:n+1,e},t}(),De=/[&<>"']/g,xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ne(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function r(t){if(0==(4294967168&t))return e(t);var r="";return 0==(4294965248&t)?r=e(t>>6&31|192):0==(4294901760&t)?(function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),r=e(t>>12&15|224),r+=n(t,6)):0==(4292870144&t)&&(r=e(t>>18&7|240),r+=n(t,12),r+=n(t,6)),r+e(63&t|128)}for(var o=function(t){var e=[];if(!t)return[];for(var n,r,o=t.length,i=0;i<o;)(n=t.charCodeAt(i++))>=55296&&n<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?e.push(((1023&n)<<10)+(1023&r)+65536):(e.push(n),i--):e.push(n);return e}(t),i=o.length,s=-1,a="";++s<i;)a+=r(o[s]);return a}function Ie(t){return null==t?null:t.replace(/([A-Z])/g,(function(t){return"-"+t[0].toLowerCase()}))}function Fe(t){return null==t?null:t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function Me(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}function Le(t){return null!=t&&t.replace?t.replace(De,(function(t){return xe[t]})):t}function je(t){return t&&null!=t?t.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" "):null}function Ge(t,e){return t===e||null!=t&&t.slice(0,e.length)===e}var Ve,We=(Ve=function(t,e){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Be=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},He=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.secondaryColumnsPresent=!1,e.gridHeaderRowCount=0,e.displayedLeftColumns=[],e.displayedRightColumns=[],e.displayedCenterColumns=[],e.allDisplayedColumns=[],e.allDisplayedVirtualColumns=[],e.allDisplayedCenterVirtualColumns=[],e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return We(e,t),e.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var t=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.getColDefVersion=function(){return this.colDefVersion},e.prototype.setColumnDefs=function(t,e){var n=this;void 0===e&&(e="api");var r=!!this.columnDefs;this.colDefVersion++;var o=this.compareColumnStatesAndRaiseEvents(e);this.columnDefs=t,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var i=this.primaryColumns,s=this.columnFactory.createColumnTree(t,!0,i);this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(t){return n.primaryColumnsMap[t.getId()]=t})),this.extractRowGroupColumns(e,i),this.extractPivotColumns(e,i),this.extractValueColumns(e,i),this.ready=!0,this.updateGridColumns(),r&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkDisplayedVirtualColumns(),this.dispatchEverythingChanged(e),o(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:ke.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api"),this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.orderGridColumnsLikePrimary=function(){var t=this;this.gridColumns.sort((function(e,n){var r=t.primaryColumns.indexOf(e),o=t.primaryColumns.indexOf(n),i=r>=0,s=o>=0;return i&&s?r-o:i?1:s?-1:t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)}))},e.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},e.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},e.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n},e.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var t=this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#");this.updateVirtualSets(),t!==this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#")&&this.eventService.dispatchEvent({type:ke.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},e.prototype.setVirtualViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e),this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getSecondaryPivotColumn=function(t,e){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var n=this.getPrimaryColumn(e),r=null;return this.secondaryColumns.forEach((function(e){var o=e.getColDef().pivotKeys,i=e.getColDef().pivotValueColumn;W(o,t)&&i===n&&(r=e)})),r},e.prototype.setBeans=function(t){this.logger=t.create("ColumnController")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsWrapper.isEnableRtl()?(e=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,n=this.displayedRightColumns?V(this.displayedRightColumns):null):(e=this.displayedLeftColumns?V(this.displayedLeftColumns):null,n=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach((function(r){r.setLastLeftPinned(r===e,t),r.setFirstRightPinned(r===n,t)}))},e.prototype.autoSizeColumns=function(t,e,n){var r=this;void 0===n&&(n="api"),this.animationFrameService.flushAllFrames();var o=[],i=-1;for(null==e&&(e=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==i;)i=0,this.actionOnGridColumns(t,(function(t){if(o.indexOf(t)>=0)return!1;var s=r.autoWidthCalculator.getPreferredWidthForColumn(t,e);if(s>0){var a=r.normaliseColumnWidth(t,s);t.setActualWidth(a,n),o.push(t),i++}return!0}),n);this.fireColumnResizedEvent(o,!0,"autosizeColumns")},e.prototype.fireColumnResizedEvent=function(t,e,n,r){void 0===r&&(r=null),t&&t.length&&this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:r,finished:e,api:this.gridApi,columnApi:this.columnApi,source:n})},e.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns([t],e,n)},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns(n,t,e)},e.prototype.getColumnsFromTree=function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var o=n[r];o instanceof ie?e.push(o):o instanceof ae&&t(o.getChildren())}}(t),e},e.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},e.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},e.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},e.prototype.getDisplayedColumnGroups=function(t){switch(t){case ne.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case ne.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},e.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedLeftColumns):this.displayedLeftColumns},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedRightColumns):this.displayedRightColumns},e.prototype.getDisplayedColumnsForRow=function(t,e,n,r){for(var o,i=[],s=null,a=function(a){var l,u=e[a],c=e.length-a,p=Math.min(u.getColSpan(t),c),h=[u];if(p>1){for(var d=p-1,f=1;f<=d;f++)h.push(e[a+f]);a+=d}n?(l=!1,h.forEach((function(t){n(t)&&(l=!0)}))):l=!0,l&&(0===i.length&&s&&r&&r(u)&&i.push(s),i.push(u)),s=u,o=a},l=0;l<e.length;l++)a(l),l=o;return i},e.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedCenterColumns,n,(function(t){var n=t.getLeft();return E(n)&&n>e.viewportLeft}))},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInViewport=function(t){var e=t.getLeft()||0,n=e+t.getActualWidth(),r=this.viewportLeft-200,o=this.viewportRight+200;return!(e<r&&n<r||e>o&&n>o)},e.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},e.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},e.prototype.updatePrimaryColumnList=function(t,e,n,r,o,i){var s=this;if(void 0===i&&(i="api"),t&&!P(t)){var a=!1;t.forEach((function(t){var o=s.getPrimaryColumn(t);if(o){if(n){if(e.indexOf(o)>=0)return;e.push(o)}else{if(e.indexOf(o)<0)return;K(e,o)}r(o),a=!0}})),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:o,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i}))}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,ke.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||e.setVisible(!0,n))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),ke.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),ke.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),ke.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,ke.EVENT_COLUMN_PIVOT_CHANGED,(function(t,n){n.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),ke.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,n,r,o){var i=this;e.length=0,E(t)&&t.forEach((function(t){var n=i.getPrimaryColumn(t);n&&e.push(n)})),this.primaryColumns.forEach((function(t){var n=e.indexOf(t)>=0;r(n,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:n,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o})},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,ke.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var r=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(r)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),ke.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),ke.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){var n=t.getMinWidth();E(n)&&e<n&&(e=n);var r=t.getMaxWidth();return E(r)&&t.isGreaterThanMax(e)&&(e=r),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,n,r){var o=this;void 0===r&&(r="api");var i=[];t.forEach((function(t){var n=o.getPrimaryOrGridColumn(t.key);if(n&&(i.push({width:t.newWidth,ratios:[1],columns:[n]}),"shift"===o.gridOptionsWrapper.getColResizeDefault()&&(e=!e),e)){var r=o.getDisplayedColAfter(n);if(!r)return;var s=n.getActualWidth()-t.newWidth,a=r.getActualWidth()+s;i.push({width:a,ratios:[1],columns:[r]})}})),0!==i.length&&this.resizeColumnSets(i,n,r)},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.width,n=0,r=0,o=!0;return t.columns.forEach((function(t){var e=t.getMinWidth();n+=e||0;var i=t.getMaxWidth();E(i)&&i>0?r+=i:o=!1})),e>=n&&(!o||e<=r)},e.prototype.resizeColumnSets=function(t,e,n){if(!t||t.every(this.checkMinAndMaxWidthsForSet.bind(this))){var r=[],o=[];t.forEach((function(t){var e=t.width,i=t.columns,s=t.ratios,a={},l={};i.forEach((function(t){return o.push(t)}));for(var u=!0,c=0,p=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";u=!1;var t=[],n=0,r=e;i.forEach((function(e,o){l[e.getId()]?r-=a[e.getId()]:(t.push(e),n+=s[o])}));var o=1/n;t.forEach((function(n,i){var c;i===t.length-1?c=r:(c=Math.round(s[i]*e*o),r-=c);var p=n.getMinWidth(),h=n.getMaxWidth();E(p)&&c<p?(c=p,l[n.getId()]=!0,u=!0):E(h)&&h>0&&c>h&&(c=h,l[n.getId()]=!0,u=!0),a[n.getId()]=c}))};u&&"break"!==p(););i.forEach((function(t){var e=a[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,n),r.push(t))}))}));var i=r.length>0,s=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0});i&&(this.setLeftValues(n),this.updateBodyWidths(),this.checkDisplayedVirtualColumns());var a=o.concat(s);(i||e)&&this.fireColumnResizedEvent(a,e,n,s)}else e&&this.fireColumnResizedEvent(t&&t.length>0?t[0].columns:null,e,n)},e.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){var r=this.getPrimaryColumn(t);r&&(r.setAggFunc(e),this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_VALUE_CHANGED,columns:[r],column:r,api:this.gridApi,columnApi:this.columnApi,source:n}))}},e.prototype.moveRowGroupColumn=function(t,e,n){void 0===n&&(n="api");var r=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,r),this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},e.prototype.moveColumns=function(t,e,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(t);!this.doesMovePassRules(r,e)||(Q(this.gridColumns,r,e),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_MOVED,columns:r,column:1===r.length?r[0]:null,toIndex:e,api:this.gridApi,columnApi:this.columnApi,source:n}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,e){var n=this.gridColumns.slice();return Q(n,t,e),!!this.doesMovePassMarryChildren(n)&&!!this.doesMovePassLockedPositions(n)},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)}))},e.prototype.doesMovePassLockedPositions=function(t){var e=!1,n=!0;return t.forEach((function(t){t.getColDef().lockPosition?e&&(n=!1):e=!0})),n},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof ae){var r=n,o=r.getColGroupDef();if(o&&o.marryChildren){var i=[];r.getLeafColumns().forEach((function(e){var n=t.indexOf(e);i.push(n)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>r.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},e.prototype.moveColumnByIndex=function(t,e,n){void 0===n&&(n="api"),this.moveColumn(this.gridColumns[t],e,n)},e.prototype.getColumnDefs=function(){var t=this,e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})):this.lastPrimaryOrder&&e.sort((function(e,n){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(n)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case ne.PINNED_LEFT:return this.leftWidth;case ne.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedCenterColumns),e=this.getWidthOfColsInList(this.displayedLeftColumns),n=this.getWidthOfColsInList(this.displayedRightColumns);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n,this.eventService.dispatchEvent({type:ke.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},e.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},e.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},e.prototype.getDisplayedColumns=function(t){switch(t){case ne.PINNED_LEFT:return this.getDisplayedLeftColumns();case ne.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return P(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return P(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},e.prototype.setColumnsVisible=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(t,(function(t){return t.isVisible()!==e&&(t.setVisible(e,n),!0)}),n,(function(){return{type:ke.EVENT_COLUMN_VISIBLE,visible:e,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:n}})),this.columnAnimationService.finish()},e.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},e.prototype.setColumnsPinned=function(t,e,n){var r,o=this;void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),r=!0===e||e===ne.PINNED_LEFT?ne.PINNED_LEFT:e===ne.PINNED_RIGHT?ne.PINNED_RIGHT:null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==r&&(t.setPinned(r),!0)}),n,(function(){return{type:ke.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:n}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},e.prototype.actionOnGridColumns=function(t,e,n,r){var o=this;if(!P(t)){var i=[];if(t.forEach((function(t){var n=o.getGridColumn(t);n&&!1!==e(n)&&i.push(n)})),i.length&&(this.updateDisplayedColumns(n),E(r)&&r)){var s=r();s.columns=i,s.column=1===i.length?i[0]:null,this.eventService.dispatchEvent(s)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var n=t.getOriginalColumnGroup().getLevel()+t.getPaddingLevel(),r=t.getDisplayedLeafColumns(),o="After"===e?V(r):r[0],i="getDisplayedCol"+e;;){var s=this[i](o);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var n=t.getParent();!(n.getOriginalColumnGroup().getLevel()+n.getPaddingLevel()<=e);)n=n.getParent();return n},e.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},e.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&E(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(e){return t.push(e)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(e){return t.push(e)})),t},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,r=t.isValueActive()?t.getAggFunc():null,o=null!=t.getSort()?t.getSort():null,i=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:o,sortIndex:i,aggFunc:r,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:s}},e.prototype.getColumnState=function(){if(S(this.primaryColumns)||!this.isAlive())return[];var t=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),e=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(t);return this.pivotMode||this.orderColumnStateList(e),e},e.prototype.orderColumnStateList=function(t){var e=this.gridColumns.map((function(t){return t.getColId()}));t.sort((function(t,n){return e.indexOf(t.colId)-e.indexOf(n.colId)}))},e.prototype.resetColumnState=function(t,e){void 0===t&&(t=!1),void 0===e&&(e="api");var n=this.getColumnsFromTree(this.primaryColumnTree),r=[],o=1e3,i=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),n&&(s=s.concat(n)),s.forEach((function(t){var e=t.getColDef(),n=null!=e.sort?e.sort:null,s=e.sortIndex,a=!!e.hide,l=e.pinned?e.pinned:null,u=e.width,c=null!=e.flex?e.flex:null,p=e.rowGroupIndex,h=e.rowGroup;null!=p||null!=h&&0!=h||(p=null,h=null);var d=e.pivotIndex,f=e.pivot;null!=d||null!=f&&0!=f||(d=null,f=null);var g=null!=e.aggFunc?e.aggFunc:null,y={colId:t.getColId(),sort:n,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:h,rowGroupIndex:p,pivot:f,pivotIndex:d,aggFunc:g};S(p)&&h&&(y.rowGroupIndex=o++),S(d)&&f&&(y.pivotIndex=i++),r.push(y)})),this.applyColumnState({state:r,applyOrder:!0},e)},e.prototype.applyColumnState=function(t,e){var n=this;if(void 0===e&&(e="api"),P(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("ag-Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var r=this.compareColumnStatesAndRaiseEvents(e);this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns.slice(),i=!0,s={},a={},l=[],u=this.rowGroupColumns.slice(),c=this.pivotColumns.slice();t.state&&t.state.forEach((function(r){var u=r.colId||"";if(Ge(u,ne.GROUP_AUTO_COLUMN_ID))l.push(r);else{var c=n.getPrimaryColumn(u);c?(n.syncColumnWithStateItem(c,r,t.defaultState,s,a,!1,e),K(o,c)):i=!1}})),o.forEach((function(r){n.syncColumnWithStateItem(r,null,t.defaultState,s,a,!1,e)}));var p=function(t,e,n,r){var o=t[n.getId()],i=t[r.getId()],s=null!=o,a=null!=i;if(s&&a)return o-i;if(s)return-1;if(a)return 1;var l=e.indexOf(n),u=e.indexOf(r),c=l>=0;return c&&u>=0?l-u:c?-1:1};if(this.rowGroupColumns.sort(p.bind(this,s,u)),this.pivotColumns.sort(p.bind(this,a,c)),this.updateGridColumns(),l.forEach((function(r){var o=n.getAutoColumn(r.colId);n.syncColumnWithStateItem(o,r,t.defaultState,null,null,!0,e)})),this.gridColsArePrimary&&t.applyOrder&&t.state){var h=t.state.map((function(t){return t.colId}));this.gridColumns.sort((function(t,e){return h.indexOf(t.getId())-h.indexOf(e.getId())})),this.putFixedColumnsFirst()}return this.updateDisplayedColumns(e),this.dispatchEverythingChanged(e),r(),this.columnAnimationService.finish(),i},e.prototype.compareColumnStatesAndRaiseEvents=function(t){var e=this;if(!this.columnDefs)return function(){};var n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),o={};return r.forEach((function(t){o[t.colId]=t})),function(){if(!e.gridOptionsWrapper.isSuppressColumnStateEvents()){var i=function(n,r,o,i){W(r.map(i).sort(),o.map(i).sort())||e.eventService.dispatchEvent({type:n,columns:o,column:1===o.length?o[0]:null,api:e.gridApi,columnApi:e.columnApi,source:t})},s=function(t){var n=[];return e.gridColumns.forEach((function(e){var r=o[e.getColId()];r&&t(r,e)&&n.push(e)})),n},a=function(t){return t.getColId()};i(ke.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,e.rowGroupColumns,a),i(ke.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,e.pivotColumns,a),i(ke.EVENT_COLUMN_VALUE_CHANGED,n.valueColumns,e.valueColumns,a),e.fireColumnResizedEvent(s((function(t,e){return t.width!=e.getActualWidth()})),!0,t),e.raiseColumnPinnedEvent(s((function(t,e){return t.pinned!=e.getPinned()})),t),e.raiseColumnVisibleEvent(s((function(t,e){return t.hide==e.isVisible()})),t),s((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(),e.raiseColumnMovedEvent(r,t)}}},e.prototype.raiseColumnPinnedEvent=function(t,e){t.length&&this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_PINNED,pinned:null,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e})},e.prototype.raiseColumnVisibleEvent=function(t,e){t.length&&this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_VISIBLE,visible:void 0,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e})},e.prototype.raiseColumnMovedEvent=function(t,e){var n=this,r=this.getColumnState(),o={};r.forEach((function(t){return o[t.colId]=t}));var i={};t.forEach((function(t){o[t.colId]&&(i[t.colId]=!0)}));var s=at(t,(function(t){return i[t.colId]})),a=at(r,(function(t){return i[t.colId]})),l=[];a.forEach((function(t,e){var r=s&&s[e];if(r&&r.colId!==t.colId){var o=n.getGridColumn(r.colId);o&&l.push(o)}})),l.length&&this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_MOVED,columns:l,column:null,api:this.gridApi,columnApi:this.columnApi,source:e})},e.prototype.syncColumnWithStateItem=function(t,e,n,r,o,i,s){if(t){var a=function(t,r){var o=e,i=n,s={value1:void 0,value2:void 0},a=!1;return o&&(void 0!==o[t]&&(s.value1=o[t],a=!0),E(r)&&void 0!==o[r]&&(s.value2=o[r],a=!0)),!a&&i&&(void 0!==i[t]&&(s.value1=i[t]),E(r)&&void 0!==i[r]&&(s.value2=i[r])),s},l=a("hide").value1;void 0!==l&&t.setVisible(!l,s);var u=a("pinned").value1;void 0!==u&&t.setPinned(u);var c=this.gridOptionsWrapper.getMinColWidth(),p=a("flex").value1;if(void 0!==p&&t.setFlex(p),t.getFlex()<=0){var h=a("width").value1;null!=h&&c&&h>=c&&t.setActualWidth(h,s)}var d=a("sort").value1;void 0!==d&&t.setSort(d===ne.SORT_DESC||d===ne.SORT_ASC?d:void 0);var f=a("sortIndex").value1;if(void 0!==f&&t.setSortIndex(f),!i){var g=a("aggFunc").value1;void 0!==g&&("string"==typeof g?(t.setAggFunc(g),t.isValueActive()||(t.setValueActive(!0,s),this.valueColumns.push(t))):(E(g)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.setAggFunc(null),t.isValueActive()&&(t.setValueActive(!1,s),K(this.valueColumns,t))));var y=a("rowGroup","rowGroupIndex"),v=y.value1,m=y.value2;void 0===v&&void 0===m||("number"==typeof m||v?(t.isRowGroupActive()||(t.setRowGroupActive(!0,s),this.rowGroupColumns.push(t)),r&&"number"==typeof m&&(r[t.getId()]=m)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,s),K(this.rowGroupColumns,t)));var C=a("pivot","pivotIndex"),b=C.value1,w=C.value2;void 0===b&&void 0===w||("number"==typeof w||b?(t.isPivotActive()||(t.setPivotActive(!0,s),this.pivotColumns.push(t)),o&&"number"==typeof w&&(o[t.getId()]=w)):t.isPivotActive()&&(t.setPivotActive(!1,s),K(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var r=e(t);r&&n.push(r)})),n},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("ag-Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.getColumn(t,this.primaryColumns,this.primaryColumnsMap)},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.getColumn=function(t,e,n){if(!t)return null;if("string"==typeof t&&n[t])return n[t];for(var r=0;r<e.length;r++)if(this.columnsMatch(e[r],t))return e[r];return this.getAutoColumn(t)},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&E(this.groupAutoColumns)&&!S(this.groupAutoColumns)?I(this.groupAutoColumns,(function(n){return e.columnsMatch(n,t)})):null},e.prototype.columnsMatch=function(t,e){var n=t===e,r=t.getColDef()===e,o=t.getColId()==e;return n||r||o},e.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var r=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,r):r},e.prototype.getDisplayNameForOriginalColumnGroup=function(t,e,n){var r=e?e.getColGroupDef():null;return r?this.getHeaderName(r,null,t,e,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForOriginalColumnGroup(t,t.getOriginalColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,n,r,o){var i=t.headerValueGetter;if(i){var s={colDef:t,column:e,columnGroup:n,originalColumnGroup:r,location:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof i?i(s):"string"==typeof i?this.expressionService.evaluate(i,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?je(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return e;var n,r=t.getColDef().pivotValueColumn,o=null;if(E(r))o=r?r.getAggFunc():null,n=!0;else{var i=t.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();i&&s?(o=t.getAggFunc(),n=!0):n=!1}if(n){var a="string"==typeof o?o:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(a,a)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof se)return t;var n=this.getAllDisplayedColumnGroups(),r="number"==typeof e,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof se){var i=n;(r?t===i.getGroupId()&&e===i.getInstanceId():t===i.getGroupId())&&(o=i)}})),o},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,n){return e.setValueActive(n,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0!==e?!!e:void 0}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,n){return e.setRowGroupActive(n,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,n,r,o,i,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var a=[],l=[];this.primaryColumns.forEach((function(n){var u=t.indexOf(n)<0,c=n.getColDef(),p=k(i(c)),h=k(s(c)),d=R(r(c)),f=R(o(c));(u?void 0!==p||void 0!==d?void 0!==p?p:d>=0:h||f>=0:void 0!==p?p:void 0!==d?null!==d&&d>=0:e.indexOf(n)>=0)&&((u?null!=d||null!=f:null!=d)?a.push(n):l.push(n))}));var u=function(t){var e=r(t.getColDef()),n=o(t.getColDef());return null!=e?e:n};a.sort((function(t,e){var n=u(t),r=u(e);return n===r?0:n<r?-1:1}));var c=[].concat(a);return e.forEach((function(t){l.indexOf(t)>=0&&c.push(t)})),l.forEach((function(t){c.indexOf(t)<0&&c.push(t)})),e.forEach((function(t){c.indexOf(t)<0&&n(t,!1)})),c.forEach((function(t){e.indexOf(t)<0&&n(t,!0)})),c},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,n){return e.setPivotActive(n,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof ae){var n=t.getColGroupDef(),r={groupId:t.getGroupId(),open:n?n.openByDefault:void 0};e.push(r)}})),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){if(e instanceof ae){var n=e;t.push({groupId:n.getGroupId(),open:n.isExpanded()})}})),t},e.prototype.setColumnGroupState=function(t,e){var n=this;void 0===e&&(e="api"),this.columnAnimationService.start();var r=[];t.forEach((function(t){var e=t.open,o=n.getOriginalColumnGroup(t.groupId);o&&o.isExpanded()!==e&&(n.logger.log("columnGroupOpened("+o.getGroupId()+","+e+")"),o.setExpanded(e),r.push(o))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),r.forEach((function(t){n.eventService.dispatchEvent({type:ke.EVENT_COLUMN_GROUP_OPENED,columnGroup:t,api:n.gridApi,columnApi:n.columnApi})})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,n){var r;void 0===n&&(n="api"),r=t instanceof ae?t.getId():t||"",this.setColumnGroupState([{groupId:r,open:e}],n)},e.prototype.getOriginalColumnGroup=function(t){if(t instanceof ae)return t;"string"!=typeof t&&console.error("ag-Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof ae){var r=n;r.getId()===t&&(e=r)}})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(e){var n=t.groupAutoColumns&&Z(t.groupAutoColumns,e),r=t.valueColumns&&Z(t.valueColumns,e);return n||r}:function(e){return t.groupAutoColumns&&Z(t.groupAutoColumns,e)||e.isVisible()})},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){E(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[];var e=function(e){var n=e.getColDef();n&&E(n.showRowGroup)&&t.groupDisplayColumns.push(e)};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},e.prototype.setSecondaryColumns=function(t,e){void 0===e&&(e="api");var n=t&&t.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(t);var r=this.columnFactory.createColumnTree(t,!1);this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(e||n){t&&function t(r){r.forEach((function(r){if(E(r.children)){var o=r;n&&n(o),t(o.children)}else e&&e(r)}))}(t)}},e.prototype.updateGridColumns=function(){var t=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(t){return t.getColDef().autoHeight})),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(e){return t.gridColumnsMap[e.getId()]=e})),this.eventService.dispatchEvent({type:ke.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.orderGridColsLikeLastPrimary=function(){var t=this;if(!S(this.lastPrimaryOrder)){var e=!0;if(this.gridColumns.forEach((function(n){t.lastPrimaryOrder.indexOf(n)>=0&&(e=!1)})),!e){var n=this.lastPrimaryOrder.filter((function(e){return t.gridColumns.indexOf(e)>=0})),r=this.gridColumns.filter((function(t){return n.indexOf(t)<0})),o=n.slice();r.forEach((function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;)e.getLeafColumns().forEach((function(t){var e=o.indexOf(t)>=0,r=n.indexOf(t)<0;e&&r&&n.push(t)})),e=e.getOriginalParent();if(n.length){var r=n.map((function(t){return o.indexOf(t)})),i=Math.max.apply(Math,r);q(o,t,i+1)}else o.push(t)}else o.push(t)})),this.gridColumns=o}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.columnsForQuickFilter=this.groupAutoColumns?this.primaryColumns.concat(this.groupAutoColumns):this.primaryColumns},e.prototype.putFixedColumnsFirst=function(){var t=this.gridColumns.filter((function(t){return t.getColDef().lockPosition})),e=this.gridColumns.filter((function(t){return!t.getColDef().lockPosition}));this.gridColumns=t.concat(e)},e.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!S(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(t),this.refreshFlexedColumns(),this.updateVirtualSets(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:ke.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.updateDisplayedColumnsFromTrees=function(t){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(t)},e.prototype.setupAllDisplayedColumns=function(){this.allDisplayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this,n=this.primaryColumns.slice(0),r=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(o){if(r){var i=e.getWidthOfColsInList(o);o.forEach((function(e){i-=e.getActualWidth(),e.setLeft(i,t)}))}else{var s=0;o.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}Y(n,o)})),n.forEach((function(e){e.setLeft(null,t)}))},e.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach((function(t){t.forEach((function(t){t instanceof se&&t.checkLeft()}))}))},e.prototype.addToDisplayedColumns=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof ie&&e.push(t)}))},e.prototype.updateDisplayedCenterVirtualColumns=function(){this.allDisplayedCenterVirtualColumns=this.suppressColumnVirtualisation?this.displayedCenterColumns:this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var t={};return this.allDisplayedVirtualColumns.forEach((function(e){t[e.getId()]=!0})),t},e.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case ne.PINNED_LEFT:n=this.displayedLeftHeaderRows[e];break;case ne.PINNED_RIGHT:n=this.displayedRightHeaderRows[e];break;default:n=this.displayedCentreHeaderRows[e]}return S(n)&&(n=[]),n},e.prototype.updateDisplayedVirtualGroups=function(t){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var e=function e(n,r,o){for(var i=!1,s=0;s<n.length;s++){var a=n[s],l=!1;if(a instanceof ie)l=!0===t[a.getId()];else{var u=a.getDisplayedChildren();u&&(l=e(u,r,o+1))}l&&(i=!0,r[o]||(r[o]=[]),r[o].push(a))}return i};e(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),e(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),e(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},e.prototype.updateVirtualSets=function(){var t=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(t)},e.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var r=-1;t.resizingCols&&t.resizingCols.forEach((function(t){var n=e.displayedCenterColumns.indexOf(t);r<n&&(r=n)}));var o=function(t){var n=e.displayedCenterColumns.indexOf(t)>r;return t.getFlex()&&n},i=this.displayedCenterColumns.filter((function(t){return!o(t)})),s=this.displayedCenterColumns.filter((function(t){return o(t)})),a=[];if(!s.length)return[];var l,u=[];t:for(;;){var c=s.reduce((function(t,e){return t+e.getFlex()}),0);l=this.flexViewportWidth-this.getWidthOfColsInList(i);for(var p=0;p<s.length;p++){var h=s[p],d=l*h.getFlex()/c,f=0,g=h.getMinWidth(),y=h.getMaxWidth();if(E(g)&&d<g?f=g:E(y)&&d>y&&(f=y),f){h.setActualWidth(f,n),K(s,h),a.push(h),i.push(h);continue t}u[p]=Math.round(d)}break}var v=l;return s.forEach((function(t,e){t.setActualWidth(Math.min(u[e],v),n),a.push(t),v-=u[e]})),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(a,!0,n,s),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),s},e.prototype.sizeColumnsToFit=function(t,e,n){void 0===e&&(e="sizeColumnsToFit");var r=this.getAllDisplayedColumns();if(!(t<=0)&&r.length){var o=[],i=[];r.forEach((function(t){!0===t.getColDef().suppressSizeToFit?i.push(t):o.push(t)}));var s=o.slice(0),a=!1,l=function(t){K(o,t),i.push(t)};for(o.forEach((function(t){return t.resetActualWidth(e)}));!a;){a=!0;var u=t-this.getWidthOfColsInList(i);if(u<=0)o.forEach((function(t){t.setMinimum(e)}));else for(var c=u/this.getWidthOfColsInList(o),p=u,h=o.length-1;h>=0;h--){var d=o[h],f=d.getMinWidth(),g=d.getMaxWidth(),y=Math.round(d.getActualWidth()*c);E(f)&&y<f?(y=f,l(d),a=!1):E(g)&&d.isGreaterThanMax(y)?(y=g,l(d),a=!1):0===h&&(y=p),d.setActualWidth(y,e,!0),p-=y}}s.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),n||this.fireColumnResizedEvent(s,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],n=[],r=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:r.push(t)}}));var o=new Ae;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,o,ne.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,ne.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,o,null,this.displayedCentreColumnTree)},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof se&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||e||t)this.groupAutoColumns=null;else{var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}}},e.prototype.autoColsEqual=function(t,e){return W(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){var t=this.gridOptionsWrapper.getDefaultColDef();return null!=t&&!0===t.floatingFilter||null!=this.columnDefs&&this.columnDefs.some((function(t){return!0===t.floatingFilter}))},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var n=0;n<e.length;n++){var r=this[e[n]]();if(r.length)return t?V(r):r[0]}return null},Be([Yt("expressionService")],e.prototype,"expressionService",void 0),Be([Yt("columnFactory")],e.prototype,"columnFactory",void 0),Be([Yt("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Be([Yt("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Be([Yt("columnUtils")],e.prototype,"columnUtils",void 0),Be([Yt("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Be([Yt("autoGroupColService")],e.prototype,"autoGroupColService",void 0),Be([qt("aggFuncService")],e.prototype,"aggFuncService",void 0),Be([qt("valueCache")],e.prototype,"valueCache",void 0),Be([qt("animationFrameService")],e.prototype,"animationFrameService",void 0),Be([Yt("rowModel")],e.prototype,"rowModel",void 0),Be([Yt("columnApi")],e.prototype,"columnApi",void 0),Be([Yt("gridApi")],e.prototype,"gridApi",void 0),Be([Yt("sortController")],e.prototype,"sortController",void 0),Be([Yt("columnDefFactory")],e.prototype,"columnDefFactory",void 0),Be([zt],e.prototype,"init",null),Be([(n=Qt("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Be([Kt("columnController")],e);var n}(Se);function ze(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n}function Ue(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n}function Ke(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Ye(){return Number.MAX_SAFE_INTEGER||9007199254740991}function qe(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null}function Xe(t,e){for(var n="",r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n}function Qe(t){return"number"!=typeof t?"":Ze(Math.round(100*t)/100)}function Ze(t){return"number"!=typeof t?"":t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function Je(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)}var $e,tn,en=(tn=function(t,e){return(tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return en(e,t),e.prototype.calculateColInitialWidth=function(t){var e,n=this.gridOptionsWrapper,r=null!=t.minWidth?t.minWidth:n.getMinColWidth(),o=null!=t.maxWidth?t.maxWidth:n.getMaxColWidth()||Ye(),i=R(t.width),s=R(t.initialWidth);return e=null!=i?i:null!=s?s:n.getColWidth(),Math.max(Math.min(e,o),r)},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],r=!1;return function e(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];a instanceof ae?(e(a.getChildren(),i+1),n[i]=a):a===t&&(r=!0)}}(e,0),r?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var r=this;e&&e.forEach((function(e){e instanceof ae&&r.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof se&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof se&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("columnUtils")],e)}(Se),rn=($e=function(t,e){return($e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),on=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rn(e,t),e.prototype.createDisplayedGroups=function(t,e,n,r,o){var i,s,a=this,l=[],u=this.mapOldGroupsById(o);return t.forEach((function(t){for(var o=a.getOriginalPathForColumn(e,t),c=[],p=!s,h=0;h<o.length;h++)if(p||o[h]!==s[h]){var d=a.createColumnGroup(o[h],n,u,r);c[h]=d,0==h?l.push(d):c[h-1].addChild(d)}else c[h]=i[h];0===c.length?l.push(t):V(c).addChild(t),i=c,s=o})),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,e,n,r){var o=t.getGroupId(),i=e.getInstanceIdForKey(o),s=n[se.createUniqueId(o,i)];return s&&s.getOriginalColumnGroup()!==t&&(s=null),E(s)?s.reset():(s=new se(t,o,i,r),this.context.createBean(s)),s},e.prototype.mapOldGroupsById=function(t){var e={};return t&&function t(n){n.forEach((function(n){if(n instanceof se){var r=n;e[n.getUniqueId()]=r,t(r.getChildren())}}))}(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach((function(t){if(t.setParent(e),t instanceof se){var r=t;n.setupParentsIntoColumns(r.getChildren(),r)}}))},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],r=!1;return function t(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];a instanceof ae?(t(a.getChildren(),i+1),n[i]=a):a===e&&(r=!0)}}(t,0),r?n:(console.warn("could not get path"),null)},on([Yt("columnUtils")],e.prototype,"columnUtils",void 0),on([Kt("displayedGroupCreator")],e)}(Se),an=function(){function t(){}return t.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","chartThemeOverrides","customChartThemes"],t.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi"],t.ALL_PROPERTIES=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault"],t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),ln=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},un=function(){function t(){}return t.getEventCallbacks=function(){return t.EVENT_CALLBACKS||(t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)}))),t.EVENT_CALLBACKS},t.copyAttributesToGridOptions=function(e,n,r){void 0===r&&(r=!1),"object"!=typeof e&&(e={});var o=e,i=function(t){return void 0!==n[t]};return ln(t.ARRAY_PROPERTIES,t.STRING_PROPERTIES,t.OBJECT_PROPERTIES,t.FUNCTION_PROPERTIES,t.getEventCallbacks()).filter(i).forEach((function(t){return o[t]=n[t]})),t.BOOLEAN_PROPERTIES.filter(i).forEach((function(e){return o[e]=t.toBoolean(n[e])})),t.NUMBER_PROPERTIES.filter(i).forEach((function(e){return o[e]=t.toNumber(n[e])})),e},t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.processOnChange=function(e,n,r,o){if(e){var i=n,s=function(t){return e[t]};ln(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.getEventCallbacks()).filter(s).forEach((function(t){return i[t]=e[t].currentValue})),t.BOOLEAN_PROPERTIES.filter(s).forEach((function(n){return i[n]=t.toBoolean(e[n].currentValue)})),t.NUMBER_PROPERTIES.filter(s).forEach((function(n){return i[n]=t.toNumber(e[n].currentValue)})),e.enableCellTextSelection&&r.setEnableCellTextSelection(t.toBoolean(e.enableCellTextSelection.currentValue)),e.quickFilterText&&r.setQuickFilter(e.quickFilterText.currentValue),e.rowData&&r.setRowData(e.rowData.currentValue),e.pinnedTopRowData&&r.setPinnedTopRowData(e.pinnedTopRowData.currentValue),e.pinnedBottomRowData&&r.setPinnedBottomRowData(e.pinnedBottomRowData.currentValue),e.autoGroupColumnDef&&r.setAutoGroupColumnDef(e.autoGroupColumnDef.currentValue,"gridOptionsChanged"),e.columnDefs&&r.setColumnDefs(e.columnDefs.currentValue,"gridOptionsChanged"),e.datasource&&r.setDatasource(e.datasource.currentValue),e.headerHeight&&r.setHeaderHeight(t.toNumber(e.headerHeight.currentValue)),e.paginationPageSize&&r.paginationSetPageSize(t.toNumber(e.paginationPageSize.currentValue)),e.pivotMode&&o.setPivotMode(t.toBoolean(e.pivotMode.currentValue)),e.groupRemoveSingleChildren&&r.setGroupRemoveSingleChildren(t.toBoolean(e.groupRemoveSingleChildren.currentValue)),e.suppressRowDrag&&r.setSuppressRowDrag(t.toBoolean(e.suppressRowDrag.currentValue)),e.suppressMoveWhenRowDragging&&r.setSuppressMoveWhenRowDragging(t.toBoolean(e.suppressMoveWhenRowDragging.currentValue)),e.suppressRowClickSelection&&r.setSuppressRowClickSelection(t.toBoolean(e.suppressRowClickSelection.currentValue)),e.suppressClipboardPaste&&r.setSuppressClipboardPaste(t.toBoolean(e.suppressClipboardPaste.currentValue)),e.sideBar&&r.setSideBar(e.sideBar.currentValue);var a={type:ke.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};ct(e,(function(t,e){a[t]=e})),r.dispatchEvent(a)}},t.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},t.EVENTS=[],t.STRING_PROPERTIES=an.STRING_PROPERTIES,t.OBJECT_PROPERTIES=an.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=an.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=an.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=an.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=an.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=an.ALL_PROPERTIES,t}();un.EVENTS=F(ke);var cn,pn,hn,dn,fn,gn,yn,vn=function(){function t(){}return t.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType"],t.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],t.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],t.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],t.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter"],t.ALL_PROPERTIES=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),mn=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.fromHexString=function(e){var n=e.match(t.hexRe);if(n)return new t((r=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=e.match(t.shortHexRe)){var r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new t((r+=16*r)/255,(o+=16*o)/255,(i+=16*i)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.fromRgbaString=function(e){var n=e.match(t.rgbRe);if(n)return new t(+n[1]/255,+n[2]/255,+n[3]/255);if(n=e.match(t.rgbaRe))return new t(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,o){void 0===o&&(o=1);var i=t.HSBtoRGB(e,n,r);return new t(i[0],i[1],i[2],o)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),o=Math.max(t,e,n),i=NaN;if(r!==o){var s=o-r,a=(o-t)/s,l=(o-e)/s,u=(o-n)/s;i=t===o?u-l:e===o?2+a-u:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-r)/o:0,o]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,o=0,i=0;if(0===e)r=o=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),u=n*(1-e*a),c=n*(1-e*(1-a));switch(s>>0){case 0:r=n,o=c,i=l;break;case 1:r=u,o=n,i=l;break;case 2:r=l,o=n,i=c;break;case 3:r=l,o=u,i=n;break;case 4:r=c,o=l,i=n;break;case 5:r=n,o=l,i=u}}return[r,o,i]},t.prototype.derive=function(e,n,r,o){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&r>1&&(s=.05);var a=((i[0]+e)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*r,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=t.HSBtoRGB(a,l,s);return c.push(u),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,t.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,t.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,t.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function Cn(t,e){void 0===e&&(e=",");for(var n,r,o,i=[],s=function(t){return"\r"===t||"\n"===t},a=!1,l=function(l,u,c){var p=t[c-1],h=t[c],d=t[c+1],f=function(){i[l]||(i[l]=[]),i[l][u]||(i[l][u]="")};if(f(),'"'===h){if(a)return'"'===d?(i[l][u]+='"',c++):a=!1,n=l,r=u,o=c,"continue";if(void 0===p||p===e||s(p))return a=!0,n=l,r=u,o=c,"continue"}if(!a){if(h===e)return u++,f(),n=l,r=u,o=c,"continue";if(s(h))return u=0,l++,f(),"\r"===h&&"\n"===d&&c++,n=l,r=u,o=c,"continue"}i[l][u]+=h,n=l,r=u,o=c},u=0,c=0,p=0;p<t.length;p++)l(u,c,p),u=n,c=r,p=o;return i}function bn(){return void 0===pn&&(pn=!!document.documentMode),pn}function wn(){return void 0===hn&&(hn=!bn()&&!!window.StyleMedia),hn}function _n(){return void 0===cn&&(cn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),cn}function On(){if(void 0===dn){var t=window;dn=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return dn}function En(){if(void 0===fn){var t=window;fn=void 0!==t.InstallTrigger}return fn}function Sn(){return void 0===gn&&(gn=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),gn}function Pn(t){if(!t)return null;var e=t.tabIndex,n=t.getAttribute("tabIndex");return bn()&&0===e&&null===n?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[t.nodeName.toLowerCase()]?"0":null:-1!==e||null!==n&&(""!==n||En())?e.toString():null}function Tn(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var r=2*t;if(n.style.height=r+"px",r>e||n.clientHeight!==r)break;t=r}return document.body.removeChild(n),t}function Rn(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;return 0===n&&0===e.clientWidth?null:(e.parentNode&&e.parentNode.removeChild(e),n)}function kn(){var t=["webkit","moz","o","ms"],e=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(e),e.setAttribute("style",t.map((function(t){return"-"+t+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(e);if("touch"===r.overflowScrolling&&(n=!0),!n)for(var o=0,i=t;o<i.length;o++)if("touch"===r[i[o]+"OverflowScrolling"]){n=!0;break}return e.parentNode&&e.parentNode.removeChild(e),n}function An(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Dn(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}function xn(t,e){if(t&&e&&0!==e.length){if(!(e.indexOf(" ")>=0)){if(t.classList)t.classList.add(e);else if(t.className&&t.className.length>0){var n=t.className.split(" ");n.indexOf(e)<0&&(n.push(e),t.setAttribute("class",n.join(" ")))}else t.setAttribute("class",e);return t}e.split(" ").forEach((function(e){return xn(t,e)}))}}function Nn(t,e){if(t&&e&&0!==e.length)if(e.indexOf(" ")>=0)e.split(" ").forEach((function(e){return Nn(t,e)}));else if(t.classList)t.classList.remove(e);else if(t.className&&t.className.length>0){var n=t.className.split(" ").filter((function(t){return t!==e})).join(" ");t.setAttribute("class",n)}}function In(t,e,n){n?xn(t,e):Nn(t,e)}function Fn(t,e,n){for(var r=t.parentElement,o=r&&r.firstChild;o;)e&&In(o,e,o===t),n&&In(o,n,o!==t),o=o.nextSibling}function Mn(t,e){if(t.classList)return t.classList.contains(e);if(t.className){var n=t.className===e,r=t.className.indexOf(" "+e+" ")>=0,o=0===t.className.indexOf(e+" "),i=t.className.lastIndexOf(" "+e)===t.className.length-e.length-1;return n||r||o||i}return!1}function Ln(t){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(t,ne.INPUT_SELECTOR),r=e.call(t,ne.FOCUSABLE_EXCLUDE),o=$n(t);return n&&!r&&o}function jn(t,e){In(t,"ag-hidden",!e)}function Gn(t,e){In(t,"ag-invisible",!e)}function Vn(t,e){var n=e?function(t){return t.setAttribute("disabled","")}:function(t){return t.removeAttribute("disabled")};n(t),Er(t.querySelectorAll("input"),(function(t){return n(t)}))}function Wn(t,e,n){for(var r=0;t;){if(Mn(t,e))return!0;if(t=t.parentElement,n&&++r>n)break}return!1}function Bn(t){var e=window.getComputedStyle(t),n=e.width,r=e.paddingTop,o=e.paddingRight,i=e.paddingBottom,s=e.paddingLeft,a=e.marginTop,l=e.marginRight,u=e.marginBottom,c=e.marginLeft,p=e.boxSizing;return{height:parseFloat(e.height),width:parseFloat(n),paddingTop:parseFloat(r),paddingRight:parseFloat(o),paddingBottom:parseFloat(i),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(u),marginLeft:parseFloat(c),boxSizing:p}}function Hn(t){var e=Bn(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function zn(t){var e=Bn(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function Un(t){var e=Bn(t);return Math.ceil(t.offsetHeight+(e.marginBottom+e.marginTop))}function Kn(t){var e=Bn(t);return Math.ceil(t.offsetWidth+(e.marginLeft+e.marginRight))}function Yn(){if("boolean"==typeof yn)return yn;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,yn=0===t.scrollLeft,document.body.removeChild(t),yn}function qn(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),On()&&!Yn()&&(n=t.scrollWidth-t.clientWidth-n)),n}function Xn(t,e,n){n&&(Yn()?e*=-1:(_n()||On())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function Qn(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function Zn(t,e){Jn(t.querySelector(e))}function Jn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $n(t){return null!==t.offsetParent}function tr(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function er(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e}function nr(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null}function rr(t){return t&&t.clientHeight?t.clientHeight:0}function or(t){return t&&t.clientWidth?t.clientWidth:0}function ir(t,e,n){n&&n.nextSibling===e||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=t.children[n];o!==r&&t.insertBefore(r,o)}}function ar(t,e,n){var r;return n?(n.insertAdjacentHTML("afterend",e),r=n.nextSibling):(t.firstChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e,r=t.firstChild),r}function lr(t,e){E(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ur(t,e){e&&Object.keys(e).forEach((function(n){var r=Fe(n);r&&(t.style[r]=e[n])}))}function cr(t){return t.clientWidth<t.scrollWidth}function pr(t){return t.clientHeight<t.scrollHeight}function hr(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):dr(t,e)}function dr(t,e){e=yr(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function fr(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):gr(t,e)}function gr(t,e){e=yr(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function yr(t){return"number"==typeof t?t+"px":t}function vr(t){return"function"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function mr(t){return"function"==typeof HTMLElement?t instanceof HTMLElement:t&&Rt(t)&&1===t.nodeType&&"string"==typeof t.nodeName}function Cr(t){return vr(t)||mr(t)}function br(t){if(null==t)return[];var e=[];return Er(t,(function(t){return e.push(t)})),e}function wr(t,e){if(t)for(var n=0;n<t.length;n++){var r=t[n];e(r.name,r.value)}}function _r(t,e){"boolean"==typeof e?(t.checked=e,t.indeterminate=!1):t.indeterminate=!0}function Or(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function Er(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n])}function Sr(t){var e=t.toString(),n=/function (.{1,})\(/.exec(e);return n&&n.length>1?n[1]:""}function Pr(t){var e=t.length,n=0;if(e<=1)return t;for(var r=0;r<t.length;r++){var o=t[r];Math.floor(o)!==o&&(n=Math.max(n,o.toString().split(".")[1].length))}for(var i=0,s=0,a=0,l=0,u=0,c=0;c<e;c++)i+=c,s+=u=t[c],l+=c*c,a+=c*u;var p=(e*a-i*s)/(e*l-i*i),h=s/e-p*i/e,d=[];for(c=0;c<=e;c++)d.push(parseFloat((c*p+h).toFixed(n)));return d}function Tr(t){if(!t)return"";var e=[];return ct(t,(function(t,n){var r=Ie(t);e.push(r+": "+n+";")})),e.join(" ")}function Rr(t){var e=document.createElement("div"),n=document.querySelector("#__ag__message");e.innerHTML=t,n||(n=tr('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)),n.insertBefore(e,n.children[0])}function kr(t,e){t.then((function(t){var n=t.getGui();null!=n&&("object"==typeof n?e.appendChild(n):e.innerHTML=n)}))}function Ar(t,e,n){t.setAttribute(xr(e),n.toString())}function Dr(t,e){t.removeAttribute(xr(e))}function xr(t){return"aria-"+t}function Nr(t){return t.isSortAscending()?"ascending":t.isSortDescending()?"descending":"none"}function Ir(t){return parseInt(t.getAttribute("aria-level"),10)}function Fr(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Mr(t,e){Ar(t,"label",e)}function Lr(t,e){Ar(t,"labelledby",e)}function jr(t,e){Ar(t,"describedby",e)}function Gr(t,e){Ar(t,"level",e)}function Vr(t,e){Ar(t,"disabled",e)}function Wr(t,e){Ar(t,"expanded",e)}function Br(t){Dr(t,"expanded")}function Hr(t,e){Ar(t,"setsize",e)}function zr(t,e){Ar(t,"posinset",e)}function Ur(t,e){Ar(t,"multiselectable",e)}function Kr(t,e){Ar(t,"rowcount",e)}function Yr(t,e){Ar(t,"rowindex",e)}function qr(t,e){Ar(t,"colcount",e)}function Xr(t,e){Ar(t,"colindex",e)}function Qr(t,e){Ar(t,"colspan",e)}function Zr(t,e){Ar(t,"sort",e)}function Jr(t){Dr(t,"sort")}function $r(t,e){e?Ar(t,"selected",e):Dr(t,"selected")}function to(t,e){Ar(t,"checked",void 0===e?"mixed":e)}function eo(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="-"),!t)return null;var r=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return ze(t,2)})).join(n);return e&&(r+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return ze(t,2)})).join(":")),r}function no(t){if(!t)return null;var e=t.split(" "),n=e[0],r=e[1];if(!n)return null;var o=n.split("-").map((function(t){return parseInt(t,10)}));if(3!==o.filter((function(t){return!isNaN(t)})).length)return null;var i=o[0],s=o[1],a=o[2],l=new Date(i,s-1,a);if(l.getFullYear()!==i||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!r||"00:00:00"===r)return l;var u=r.split(":").map((function(t){return parseInt(t,10)})),c=u[0],p=u[1],h=u[2];return c>=0&&c<24&&l.setHours(c),p>=0&&p<60&&l.setMinutes(p),h>=0&&h<60&&l.setSeconds(h),l}function ro(t,e,n){var r={},o=t.filter((function(t){return!e.some((function(e){return e===t}))}));return o.length>0&&o.forEach((function(t){return r[t]=oo(t,n)})),r}function oo(t,e,n,r){var o=r?ao:so,i=e.map((function(e){return{value:e,relevance:o(t.toLowerCase(),e.toLocaleLowerCase())}}));return i.sort((function(t,e){return e.relevance-t.relevance})),n&&(i=i.filter((function(t){return 0!==t.relevance}))),i.map((function(t){return t.value}))}function io(t){var e,n,r,o=t.toLowerCase(),i=new Array(o.length-1);for(e=n=0,r=i.length;n<=r;e=n+=1)i[e]=o.slice(e,e+2);return i}function so(t,e){if(0===t.length&&0===e.length)return 0;var n,r,o=io(t),i=io(e),s=o.length+i.length,a=0;for(n=0,r=o.length;n<r;n++){var l,u=o[n],c=void 0;for(c=0,l=i.length;c<l;c++)u===i[c]&&a++}return a>0?2*a/s:0}function ao(t,e){for(var n=t.replace(/\s/g,""),r=e.replace(/\s/g,""),o=0,i=0;i<n.length;i++){var s=r.indexOf(n[i]);-1!==s&&(o+=100*(r.length-s)/r.length,o*=o)}return o}var lo={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function uo(t,e,n){var r=co(t,e,n);if(r&&r.className.indexOf("ag-icon")>-1)return r;var o=document.createElement("span");return o.appendChild(r),o}function co(t,e,n,r){var o=null,i=n&&n.getColDef().icons;if(i&&(o=i[t]),e&&!o){var s=e.getIcons();s&&(o=s[t])}if(!o){var a=document.createElement("span"),l=lo[t];return l||(r?l=t:(console.warn("ag-Grid: Did not find icon "+t),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),a.setAttribute("role","presentation"),a}var u=void 0;if("function"==typeof o)u=o();else{if("string"!=typeof o)throw new Error("icon from grid options needs to be a string or a function");u=o}return"string"==typeof u?tr(u):Cr(u)?u:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}function po(t,e){return(t.which||t.keyCode)===e}function ho(t){if(t.altKey||t.ctrlKey||t.metaKey)return!1;var e=1===t.key.length,n=function(t){return(wn()||bn())&&"Del"===t.key&&46===t.charCode}(t);return e||n}function fo(t,e,n,r,o){var i=t.getSuppressKeyboardEventFunc(),s=r.getColDef().suppressKeyboardEvent;if(!i&&!s)return!1;var a={event:e,editing:o,column:r,api:t.getApi(),node:n,data:n.data,colDef:r.getColDef(),context:t.getContext(),columnApi:t.getColumnApi()};return!(!s||!s(a))||!!i&&i(a)}function go(t,e,n,r){var o=r.getDefinition(),i=o&&o.suppressHeaderKeyboardEvent;return!!E(i)&&!!i({api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext(),colDef:o,column:r,headerRowIndex:n,event:e})}function yo(t){var e=[];return t.forEach((function(t,n){return e.push(n)})),e}function vo(t){var e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,o=10*n,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(1==t.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:o}}function mo(t){return"buttons"in t?1==t.buttons:1==(t.which||t.button)}function Co(t,e,n){if(0===n)return!1;var r=Math.abs(t.clientX-e.clientX),o=Math.abs(t.clientY-e.clientY);return Math.max(r,o)<=n}function bo(t,e){if(t){for(var n=function(t,n){var r=e[t.id],o=e[n.id],i=void 0!==r,s=void 0!==o;return i&&s?r-o:i||s?i?1:-1:t.__objectId-n.__objectId},r=!1,o=0;o<t.length-1;o++)if(n(t[o],t[o+1])>0){r=!0;break}r&&t.sort(n)}}function wo(t,e){var n=[];!function t(r){r&&r.forEach((function(r){if(r.group||r.hasChildren()){n.push(r.key);var o=n.join("|");e(r,o),t(r.childrenAfterGroup),n.pop()}}))}(t)}function _o(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var Oo,Eo=function(){return(Eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},So=Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo({},d),f),o),p),c),g),h),a),s),y),r),v),m),C),b),u),i),w),_),l),Po=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();!function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(Oo||(Oo={}));var To,Ro,ko=function(){function t(t){var e=this;this.status=Oo.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return e.onDone(t)}),(function(t){return e.onReject(t)}))}return t.all=function(e){return new t((function(t){var n=e.length,r=new Array(n);ot(e,(function(e,o){e.then((function(e){r[o]=e,0==--n&&t(r)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(e){var n=this;return new t((function(t){n.status===Oo.RESOLVED?t(e(n.resolution)):n.waiters.push((function(n){return t(e(n))}))}))},t.prototype.resolveNow=function(t,e){return this.status===Oo.RESOLVED?e(this.resolution):t},t.prototype.onDone=function(t){this.status=Oo.RESOLVED,this.resolution=t,ot(this.waiters,(function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),Ao=(Ro=function(t,e){return(Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ro(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Do=function(){return(Do=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(To||(To={}));var No,Io,Fo=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=To.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=e,n}return Ao(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(this.state==To.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=To.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===To.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=To.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===To.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=To.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;xn(this.tooltipComp.getGui(),"ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout((function(){e(),t.getContext().destroyBean(n)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=Do({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(E(t.value)){this.state=To.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(t).then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==To.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var n=e.getGui();this.tooltipComp=e,Mn(n,"ag-tooltip")||xn(n,"ag-tooltip-custom");var r=this.popupService.addPopup({eChild:n});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},xo([Yt("popupService")],e.prototype,"popupService",void 0),xo([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),xo([Yt("columnApi")],e.prototype,"columnApi",void 0),xo([Yt("gridApi")],e.prototype,"gridApi",void 0),xo([zt],e.prototype,"postConstruct",null),e}(Se),Mo=(Io=function(t,e){return(Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jo=new Po,Go=function(t){function e(e){var n=t.call(this)||this;return n.annotatedGuiListeners=[],n.displayed=!0,n.visible=!0,n.compId=jo.next(),n.cssClassStates={},e&&n.setTemplate(e),n}return Mo(e,t),e.prototype.postConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t){this.tooltipText!=t&&(this.tooltipText&&(this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText=t,this.tooltipText&&(this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new Fo(this))))},e.prototype.createChildComponentsFromTags=function(t,e){var n=this;ot(br(t.childNodes),(function(r){if(r instanceof HTMLElement){var o=n.createComponentFromElement(r,(function(t){n.copyAttributesFromNode(r,t.getGui())}),e);if(o){if(o.addItems&&r.children.length){n.createChildComponentsFromTags(r,e);var i=Array.prototype.slice.call(r.children);o.addItems(i)}n.swapComponentForNode(o,t,r)}else r.childNodes&&n.createChildComponentsFromTags(r,e)}}))},e.prototype.createComponentFromElement=function(t,e,n){var r=t.nodeName,o=n?n[t.getAttribute("ref")]:void 0,i=this.agStackComponentsRegistry.getComponentClass(r);if(i){var s=new i(o);return this.createBean(s,null,e),s}return null},e.prototype.copyAttributesFromNode=function(t,e){wr(t.attributes,(function(t,n){return e.setAttribute(t,n)}))},e.prototype.swapComponentForNode=function(t,e,n){var r=t.getGui();e.replaceChild(r,n),e.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var n=this;this.iterateOverQuerySelectors((function(r){n[r.attributeName]===e&&(n[r.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var n=e.__agComponentMetaData,r=Nt(e.constructor);n&&n[r]&&n[r].querySelectors&&ot(n[r].querySelectors,(function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var n=tr(t);this.setTemplateFromElement(n,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(n){var r=t.eGui.querySelector(n.querySelector);r&&(e[n.attributeName]=r.__agComponent||r)}))}},e.prototype.addAnnotatedGuiEventListeners=function(){var t=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var e=this.getAgComponentMetaData("guiListenerMethods");e&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),e.forEach((function(e){var n=t.getRefElement(e.ref);if(n){var r=t[e.methodName].bind(t);n.addEventListener(e.eventName,r),t.annotatedGuiListeners.push({eventName:e.eventName,listener:r,element:n})}})))}},e.prototype.addAnnotatedGridEventListeners=function(){var t=this,e=this.getAgComponentMetaData("gridListenerMethods");e&&e.forEach((function(e){var n=t[e.methodName].bind(t);t.addManagedListener(t.eventService,e.eventName,n)}))},e.prototype.getAgComponentMetaData=function(t){for(var e=[],n=Object.getPrototypeOf(this);null!=n;){var r=n.__agComponentMetaData,o=Nt(n.constructor);r&&r[o]&&r[o][t]&&(e=e.concat(r[o][t])),n=Object.getPrototypeOf(n)}return e},e.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(ot(this.annotatedGuiListeners,(function(t){t.element.removeEventListener(t.eventName,t.listener)})),this.annotatedGuiListeners=[])},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(e||(e=this.eGui),null!=t)if(Cr(t))e.appendChild(t);else{var n=t;e.appendChild(n.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,n))}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,Gn(this.eGui,t))},e.prototype.setDisplayed=function(t){t!==this.displayed&&(this.displayed=t,jn(this.eGui,t),this.dispatchEvent({type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},e.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e){var n=this;this.eGui.addEventListener(t,e),this.addDestroyFunc((function(){return n.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){!0!==this.cssClassStates[t]&&(xn(this.eGui,t),this.cssClassStates[t]=!0)},e.prototype.removeCssClass=function(t){!1!==this.cssClassStates[t]&&(Nn(this.eGui,t),this.cssClassStates[t]=!1)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassStates[t]!==e&&(In(this.eGui,t,e),this.cssClassStates[t]=e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",Lo([Yt("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Lo([zt],e.prototype,"postConstructOnComponent",null),Lo([Ht],e.prototype,"createChildComponentsPreConstruct",null),Lo([zt],e.prototype,"addAnnotatedGridEventListeners",null),e}(Se),Vo=(No=function(t,e){return(No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}No(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vo(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){xn(e.getGui(),"ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&Nn(e.getGui(),"ag-has-popup"),t.prototype.destroy.call(this)},e}(Go);function Bo(t){return Ho.bind(this,"[ref="+t+"]")}function Ho(t,e,n,r){var o,i,s,a;null!==t?"number"!=typeof r?(i="querySelectors",s={attributeName:n,querySelector:t},(a=function(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}(o=e,Nt(o.constructor)))[i]||(a[i]=[]),a[i].push(s)):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}var zo,Uo,Ko,Yo,qo,Xo=function(){function t(){}return t.BACKSPACE=8,t.TAB=9,t.ENTER=13,t.SHIFT=16,t.ESCAPE=27,t.SPACE=32,t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.DELETE=46,t.A=65,t.C=67,t.V=86,t.D=68,t.Z=90,t.Y=89,t.F2=113,t.PAGE_UP=33,t.PAGE_DOWN=34,t.PAGE_HOME=36,t.PAGE_END=35,t}(),Qo=(qo=function(t,e){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zo=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Qo(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.keyPress===Xo.BACKSPACE||t.keyPress===Xo.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.keyPress!==Xo.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),E(e)&&n.setValue(e,!0),this.addManagedListener(n.getGui(),"keydown",(function(t){var e=t.keyCode;e!==Xo.PAGE_UP&&e!==Xo.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){_n()||e.getFocusableElement().focus();var n=e.getInputElement();if(this.highlightAllOnFocus)n.select();else{var r=e.getValue(),o=E(r)&&r.length||0;o&&n.setSelectionRange(o,o)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()},e.prototype.focusOut=function(){var t=this.eInput.getInputElement();bn()&&t.setSelectionRange(0,0)},e.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Bo("eInput")],e.prototype,"eInput",void 0),e}(Wo),Jo=function(){function t(t,e,n,r){var o=this;this.alive=!0,this.context=t,e.newDateComponent(n).then((function(e){o.alive?(o.dateComp=e,e&&(r.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),o.tempValue&&e.setDate(o.tempValue))):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},t}(),$o=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){"string"!=typeof e&&nt(["displayKey","displayName","test"],(function(t){return!!e[t]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+t+"'"),!1)}))&&(t.customFilterOptions[e.displayKey]=e)}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),ti={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},ei=(Yo=function(t,e){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ni=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ri=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e)||this;return r.isFocusableContainer=n,r.skipTabGuardFocus=!1,r}return ei(e,t),e.prototype.postConstruct=function(){var t=this,n=this.getFocusableElement();n&&(xn(n,e.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))),this.addKeyDownListeners(n),this.addManagedListener(n,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(n,"focusout",this.onFocusOut.bind(this)))},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus()},e.prototype.onTabKeyDown=function(t){var e=this;if(!t.defaultPrevented){var n=this.tabGuardsAreActive();this.isFocusableContainer&&n&&this.deactivateTabGuards();var r=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,t.shiftKey);this.isFocusableContainer&&n&&setTimeout((function(){return e.activateTabGuards()}),0),r&&(r.focus(),t.preventDefault())}},e.prototype.onFocusIn=function(t){this.isFocusableContainer&&this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.isFocusableContainer&&!this.getFocusableElement().contains(t.relatedTarget)&&this.activateTabGuards()},e.prototype.forceFocusOutOfContainer=function(t){if(void 0===t&&(t=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var e=t?this.topTabGuard:this.bottomTabGuard;e&&e.focus()}},e.prototype.appendChild=function(e,n){if(this.isFocusableContainer){Cr(e)||(e=e.getGui());var r=this.bottomTabGuard;r?r.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,n)}else t.prototype.appendChild.call(this,e,n)},e.prototype.createTabGuard=function(t){var e=document.createElement("div");return e.classList.add("ag-tab-guard"),e.classList.add("ag-tab-guard-"+t),e.setAttribute("role","presentation"),e},e.prototype.addTabGuards=function(){var t=this.getFocusableElement();t.insertAdjacentElement("afterbegin",this.topTabGuard),t.insertAdjacentElement("beforeend",this.bottomTabGuard)},e.prototype.forEachTabGuard=function(t){this.topTabGuard&&t(this.topTabGuard),this.bottomTabGuard&&t(this.bottomTabGuard)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||he(t)||(e.shouldStopEventPropagation(t)?pe(t):t.keyCode===Xo.TAB?e.onTabKeyDown(t):e.handleKeyDown&&e.handleKeyDown(t))}))},e.prototype.shouldStopEventPropagation=function(t){return!1},e.prototype.onFocus=function(t){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(t.target===this.bottomTabGuard)},e.prototype.activateTabGuards=function(){this.forEachTabGuard((function(t){return t.setAttribute("tabIndex","0")}))},e.prototype.deactivateTabGuards=function(){this.forEachTabGuard((function(t){return t.removeAttribute("tabIndex")}))},e.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute("tabIndex")},e.prototype.clearGui=function(){var t=this.tabGuardsAreActive();Qn(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),t&&this.activateTabGuards())},e.FOCUS_MANAGED_CLASS="ag-focus-managed",ni([Yt("focusController")],e.prototype,"focusController",void 0),ni([zt],e.prototype,"postConstruct",null),e}(Go),oi=(Ko=function(t,e){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ko(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ii=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},si=function(t){function e(e){var n=t.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.appliedModel=null,n}return oi(e,t),e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.postConstruct=function(){this.resetTemplate(),t.prototype.postConstruct.call(this)},e.prototype.resetTemplate=function(t){var e='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(e,t)},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){e.checkForDeprecatedParams(t),this.providedFilterParams=t,this.newRowsActionKeep="keep"===t.newRowsAction||"clear"!==t.newRowsAction&&[ne.ROW_MODEL_TYPE_SERVER_SIDE,ne.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(e&&!(e.length<1)){var n=document.createElement("div");xn(n,"ag-filter-apply-panel"),_o(e).forEach((function(e){return function(e){var r,o;switch(e){case"apply":r=t.translate("applyFilter"),o=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":r=t.translate("clearFilter"),o=function(){return t.onBtClear()};break;case"reset":r=t.translate("resetFilter"),o=function(){return t.onBtReset()};break;case"cancel":r=t.translate("cancelFilter"),o=function(e){t.onBtCancel(e)};break;default:return void console.warn("Unknown button type specified")}var i=tr('<button\n                    type="button"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+r+"\n                </button>");n.appendChild(i),t.addManagedListener(i,"click",o)}(e)})),this.getGui().appendChild(n)}},e.checkForDeprecatedParams=function(t){var e=t.buttons||[];if(!(e.length>0)){var n=t.applyButton,r=t.resetButton;t.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),e.push("clear")),r&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),e.push("reset")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),e.push("apply")),t.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),e.push("apply")),t.buttons=e}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Gt(this.onBtApply.bind(this),t)},e.prototype.getModel=function(){return this.appliedModel},e.prototype.setModel=function(t){var e=this;return(t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel()}))},e.prototype.onBtCancel=function(t){var e=this;this.setModelIntoUi(this.getModel()).then((function(){e.onUiChanged(!1,"prevent"),e.providedFilterParams.closeOnApply&&e.close(t)}))},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var e=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(e,t)},e.prototype.isModelValid=function(t){return!0},e.prototype.onBtApply=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(n)},e.prototype.onNewRowsLoaded=function(){var t=this;this.newRowsActionKeep||this.resetUiToDefaults().then((function(){return t.appliedModel=null}))},e.prototype.close=function(t){if(this.hidePopup){var e,n=t&&t.key;"Enter"!==n&&"Space"!==n||(e={keyboardEvent:t}),this.hidePopup(e),this.hidePopup=null}},e.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var n=this.isModelValid(this.getModelFromUi());Vn(this.getRefElement("applyFilterButton"),!n)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){null!=t&&(this.hidePopup=t.hidePopup)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return e.checkForDeprecatedParams(t),!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){this.hidePopup=null,t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,ti[t])},ii([Yt("rowModel")],e.prototype,"rowModel",void 0),ii([zt],e.prototype,"postConstruct",null),e}(ri),ai=(Uo=function(t,e){return(Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),li=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.One=0]="One",t[t.Two=1]="Two"}(zo||(zo={}));var ui,ci,pi,hi,di,fi,gi,yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ai(e,t),e.prototype.showValueFrom=function(t){return!this.doesFilterHaveHiddenInput(t)&&t!==e.EMPTY},e.prototype.showValueTo=function(t){return t===e.IN_RANGE},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(zo.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(zo.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(zo.One),condition2:this.createCondition(zo.Two)}:this.createCondition(zo.One):null},e.prototype.getCondition1Type=function(){return this.eType1.getValue()},e.prototype.getCondition2Type=function(){return this.eType2.getValue()},e.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var n,r=!t.operator,o=!e.operator;if(!r&&o||r&&!o)return!1;if(r)n=this.areSimpleModelsEqual(t,e);else{var i=t,s=e;n=i.operator===s.operator&&this.areSimpleModelsEqual(i.condition1,s.condition1)&&this.areSimpleModelsEqual(i.condition2,s.condition2)}return n},e.prototype.setModelIntoUi=function(t){if(t.operator){var e=t,n="OR"===e.operator;this.eJoinOperatorAnd.setValue(!n),this.eJoinOperatorOr.setValue(n),this.eType1.setValue(e.condition1.type),this.eType2.setValue(e.condition2.type),this.setConditionIntoUi(e.condition1,zo.One),this.setConditionIntoUi(e.condition2,zo.Two)}else{var r=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(r.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(r,zo.One),this.setConditionIntoUi(null,zo.Two)}return ko.resolve()},e.prototype.doesFilterPass=function(t){var e=this,n=this.getModel();if(null==n)return!0;var r=n.operator,o=[];return r?o.push(n.condition1,n.condition2):o.push(n),(r&&"OR"===r?rt:nt)(o,(function(n){return e.individualConditionPasses(t,n)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.optionsFactory=new $o,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.getDefaultJoinOperator=function(t){return Z(["AND","OR"],t)?t:"AND"},e.prototype.putOptionsIntoDropdown=function(){var t=this,e=this.optionsFactory.getFilterOptions();ot(e,(function(e){var n,r;if("string"==typeof e)r=t.translate(n=e);else{var o=t.optionsFactory.getCustomOption(n=e.displayKey);r=o?t.gridOptionsWrapper.getLocaleTextFunc()(o.displayKey,o.displayName):t.translate(n)}var i=function(){return{value:n,text:r}};t.eType1.addOption(i()),t.eType2.addOption(i())}));var n=e.length<=1;this.eType1.setDisabled(n),this.eType2.setDisabled(n)},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(zo.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(zo.Two)},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!t),this.eJoinOperatorOr.setDisabled(!t),this.eType2.setDisabled(!t),Vn(this.eCondition2Body,!t)):(jn(this.eJoinOperatorPanel,t),jn(this.eType2.getGui(),t),jn(this.eCondition2Body,t))},e.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(zo.One)},e.prototype.resetUiToDefaults=function(t){var e=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),n="ag-simple-filter-and-or-"+this.getCompId(),r=this.optionsFactory.getDefaultOption();return this.eType1.setValue(r,t).setAriaLabel(e),this.eType2.setValue(r,t).setAriaLabel(e),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(n).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(n).setLabel(this.translate("orCondition")),ko.resolve()},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eType1.onValueChange(e),this.eType2.onValueChange(e),this.eJoinOperatorOr.onValueChange(e),this.eJoinOperatorAnd.onValueChange(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.EMPTY="empty",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",li([Bo("eOptions1")],e.prototype,"eType1",void 0),li([Bo("eOptions2")],e.prototype,"eType2",void 0),li([Bo("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),li([Bo("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),li([Bo("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),li([Bo("eCondition1Body")],e.prototype,"eCondition1Body",void 0),li([Bo("eCondition2Body")],e.prototype,"eCondition2Body",void 0),e}(si),vi=(gi=function(t,e){return(gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vi(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e,this.checkDeprecatedParams()},e.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},e.prototype.individualConditionPasses=function(t,n){var r=this.scalarFilterParams.valueGetter(t.node),o=this.mapRangeFromModel(n),i=o.from,s=o.to,a=n.type,l=this.optionsFactory.getCustomOption(a);if(l&&(null!=i||l.hideFilterInput))return l.test(i,r);if(null==r){switch(a){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var u=this.comparator(),c=u(i,r);switch(a){case e.EQUALS:return 0===c;case e.NOT_EQUAL:return 0!==c;case e.GREATER_THAN:return c>0;case e.GREATER_THAN_OR_EQUAL:return c>=0;case e.LESS_THAN:return c<0;case e.LESS_THAN_OR_EQUAL:return c<=0;case e.IN_RANGE:var p=u(s,r);return this.scalarFilterParams.inRangeInclusive?c>=0&&p<=0:c>0&&p<0;default:throw new Error("Unexpected type of filter: "+a)}},e}(yi),Ci=(fi=function(t,e){return(fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wi=function(t){function e(){return t.call(this,"dateFilter")||this}return Ci(e,t),e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},e.prototype.mapRangeFromModel=function(t){return{from:no(t.dateFrom),to:no(t.dateTo)}},e.prototype.setValueFromFloatingFilter=function(t){this.dateCondition1FromComp.setDate(null==t?null:no(t)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},e.prototype.setConditionIntoUi=function(t,e){var n=t?[no(t.dateFrom),no(t.dateTo)]:[null,null],r=n[0],o=n[1],i=this.getFromToComponents(e),s=i[1];i[0].setDate(r),s.setDate(o)},e.prototype.resetUiToDefaults=function(e){var n=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){n.dateCondition1FromComp.setDate(null),n.dateCondition1ToComp.setDate(null),n.dateCondition2FromComp.setDate(null),n.dateCondition2ToComp.setDate(null)}))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.dateFilterParams=e,this.createDateComponents()},e.prototype.createDateComponents=function(){var t=this,e=function(e){return new Jo(t.getContext(),t.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:t.dateFilterParams},e)};this.dateCondition1FromComp=e(this.eCondition1PanelFrom),this.dateCondition1ToComp=e(this.eCondition1PanelTo),this.dateCondition2FromComp=e(this.eCondition2PanelFrom),this.dateCondition2ToComp=e(this.eCondition2PanelTo),this.addDestroyFunc((function(){t.dateCondition1FromComp.destroy(),t.dateCondition1ToComp.destroy(),t.dateCondition2FromComp.destroy(),t.dateCondition2ToComp.destroy()}))},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===zo.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+e+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+e+'PanelTo"></div>\n            </div>'},e.prototype.isConditionUiComplete=function(t){var e=t===zo.One?this.getCondition1Type():this.getCondition2Type();if(e===yi.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(e))return!0;var n=this.getFromToComponents(t),r=n[1],o=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,i=function(t){return null!=t&&t.getUTCFullYear()>o};return i(n[0].getDate())&&(!this.showValueTo(e)||i(r.getDate()))},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=t===zo.One?this.getCondition1Type():this.getCondition2Type(),n=this.getFromToComponents(t),r=n[1];return{dateFrom:eo(n[0].getDate()),dateTo:eo(r.getDate()),type:e,filterType:this.getFilterType()}},e.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.dateCondition1FromComp.setInputPlaceholder(e),this.dateCondition1FromComp.setInputAriaLabel(n),this.dateCondition1ToComp.setInputPlaceholder(e),this.dateCondition1ToComp.setInputAriaLabel(n),this.dateCondition2FromComp.setInputPlaceholder(e),this.dateCondition2FromComp.setInputAriaLabel(n),this.dateCondition2ToComp.setInputPlaceholder(e),this.dateCondition2ToComp.setInputAriaLabel(n)},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var e=this.getCondition1Type();jn(this.eCondition1PanelFrom,this.showValueFrom(e)),jn(this.eCondition1PanelTo,this.showValueTo(e));var n=this.getCondition2Type();jn(this.eCondition2PanelFrom,this.showValueFrom(n)),jn(this.eCondition2PanelTo,this.showValueTo(n))},e.prototype.getFromToComponents=function(t){return t===zo.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},e.DEFAULT_FILTER_OPTIONS=[mi.EQUALS,mi.GREATER_THAN,mi.LESS_THAN,mi.NOT_EQUAL,mi.IN_RANGE],bi([Bo("eCondition1PanelFrom")],e.prototype,"eCondition1PanelFrom",void 0),bi([Bo("eCondition1PanelTo")],e.prototype,"eCondition1PanelTo",void 0),bi([Bo("eCondition2PanelFrom")],e.prototype,"eCondition2PanelFrom",void 0),bi([Bo("eCondition2PanelTo")],e.prototype,"eCondition2PanelTo",void 0),bi([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(mi),_i=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ee,this.eElement=t,this.preventMouseClick=e;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout((function(){n.touching&&n.touchStart===r&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e}))}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!Co(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:t.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.preventDefault(),this.touching=!1)},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>t.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),Oi=(di=function(t,e){return(di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}di(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ei=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Si=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return Oi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=L(this.params.template,e.TEMPLATE);return t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Le(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var r=co(t,this.gridOptionsWrapper,n);r&&e.appendChild(r)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsWrapper;if(!e.isSuppressTouch()){var n=new _i(this.getGui(),!0),r=e.isSuppressMenuHide(),o=r&&E(this.eMenu),i=o?new _i(this.eMenu,!0):n;this.params.enableMenu&&this.addManagedListener(i,_i[o?"EVENT_TAP":"EVENT_LONG_TAP"],(function(n){e.getApi().showColumnMenuAfterMouseClick(t.params.column,n.touchStart)})),this.params.enableSorting&&this.addManagedListener(n,_i.EVENT_TAP,(function(e){r&&t.eMenu.contains(e.touchStart.target)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")})),this.addDestroyFunc((function(){return n.destroy()})),o&&this.addDestroyFunc((function(){return i.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),e=Sn()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),In(this.eMenu,"ag-header-menu-always-show",e)}else Jn(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t)},e.prototype.removeSortIcons=function(){Jn(this.eSortAsc),Jn(this.eSortDesc),Jn(this.eSortNone),Jn(this.eSortOrder)},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var e=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,ie.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(n){var r=t.params.column.isMoving(),o=(new Date).getTime();r||o-t.lastMovingChanged<50||t.params.progressSort(e?n.ctrlKey||n.metaKey:n.shiftKey)})),this.addManagedListener(this.params.column,ie.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,ke.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},e.prototype.onSortChanged=function(){if(In(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),In(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),In(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&In(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&In(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var t=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();In(this.eSortNone,"ag-hidden",t||!this.params.column.isSortNone())}},e.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var t=this.params.column,e=this.sortController.getColumnsWithSortingOrdered(),n=e.indexOf(t),r=e.length>1,o=t.isSorting()&&r;jn(this.eSortOrder,o),n>=0?this.eSortOrder.innerHTML=(n+1).toString():Qn(this.eSortOrder)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,ie.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();In(this.eFilter,"ag-hidden",!t)},e.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Ei([Yt("sortController")],e.prototype,"sortController",void 0),Ei([Yt("menuFactory")],e.prototype,"menuFactory",void 0),Ei([Bo("eFilter")],e.prototype,"eFilter",void 0),Ei([Bo("eSortAsc")],e.prototype,"eSortAsc",void 0),Ei([Bo("eSortDesc")],e.prototype,"eSortDesc",void 0),Ei([Bo("eSortNone")],e.prototype,"eSortNone",void 0),Ei([Bo("eSortOrder")],e.prototype,"eSortOrder",void 0),Ei([Bo("eMenu")],e.prototype,"eMenu",void 0),Ei([Bo("eLabel")],e.prototype,"eLabel",void 0),Ei([Bo("eText")],e.prototype,"eText",void 0),e}(Go),Pi=(hi=function(t,e){return(hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ti=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ri=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Pi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!he(e)){var n=!t.params.columnGroup.isExpanded();t.columnController.setColumnGroupOpened(t.params.columnGroup.getOriginalColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){pe(t)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var r=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(r,ae.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,ae.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new _i(t,!0);this.addManagedListener(n,_i.EVENT_TAP,e),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();jn(this.eOpenIcon,t),jn(this.eCloseIcon,!t)}else jn(this.eOpenIcon,!1),jn(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=co(t,this.gridOptionsWrapper,null);n&&this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return jn(this.eOpenIcon,!1),void jn(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t=this.params.displayName;if(E(t)){var e=Le(t);this.getRefElement("agLabel").innerHTML=e}},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ti([Yt("columnController")],e.prototype,"columnController",void 0),Ti([Bo("agOpened")],e.prototype,"eOpenIcon",void 0),Ti([Bo("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Go),ki=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ai=function(){function t(){this.childrenMapped={},this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return t.prototype.setData=function(t){this.setDataCommon(t,!1)},t.prototype.updateData=function(t){this.setDataCommon(t,!0)},t.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var r=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(r)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,r){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:r}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.getRowIndexString=function(){return this.rowPinned===ne.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ne.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t;return this.context.createBean(e),e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=E(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.selectionController.syncInRowNode(this,n),this.checkRowSelectable();var o=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(o)},t.prototype.checkRowSelectable=function(){var t=this.gridOptionsWrapper.getIsRowSelectableFunc(),e=t&&E(this);this.setRowSelectable(!e||t(this))},t.prototype.setRowSelectable=function(e){this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)))},t.prototype.setId=function(e){var n=this.gridOptionsWrapper.getRowNodeIdFunc();n?this.data?(this.id=n(this.data),this.id&&this.id.startsWith&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=e},t.prototype.isPixelInRange=function(t){return!(!E(this.rowTop)||!E(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},t.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowIndex=function(e){this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var n=wt({},this.createGlobalRowEvent(ke.EVENT_ROW_GROUP_OPENED),{expanded:e});this.mainEventService.dispatchEvent(n),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e){var n=this.columnController.getPrimaryColumn(t),r=this.valueService.getValue(n,this);this.valueService.setValue(this,n,e),this.dispatchCellChangedEvent(n,e,r)},t.prototype.setGroupValue=function(t,e){var n=this.columnController.getGridColumn(t);S(this.groupData)&&(this.groupData={});var r=n.getColId(),o=this.groupData[r];o!==e&&(this.groupData[r]=e,this.dispatchCellChangedEvent(n,e,o))},t.prototype.setAggData=function(t){var e=this,n=mt([this.aggData,t]),r=this.aggData;this.aggData=t,this.eventService&&n.forEach((function(t){var n=e.columnController.getGridColumn(t);e.dispatchCellChangedEvent(n,e.aggData?e.aggData[t]:void 0,r?r[t]:void 0)}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&P(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n,r){this.dispatchLocalEvent({type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:r})},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t=!1,e=!1,n=!1;if(this.childrenAfterGroup)for(var r=0;r<this.childrenAfterGroup.length;r++){var o=this.childrenAfterGroup[r];if(o.selectable)switch(o.isSelected()){case!0:t=!0;break;case!1:e=!0;break;default:n=!0}}this.selectThisNode(n?void 0:!(!t||e)||!(!t&&e)&&void 0)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1})},t.prototype.isRowPinned=function(){return this.rowPinned===ne.PINNED_TOP||this.rowPinned===ne.PINNED_BOTTOM},t.prototype.setSelectedParams=function(t){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===t.newValue,r=!0===t.clearSelection,o=!0===t.suppressFinishActions,i=!0===t.rangeSelect,s=e&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(i&&this.selectionController.getLastSelectedNode()){var a=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&l){var u=this.doRowRangeSelection(t.newValue);return this.selectionController.setLastSelectedNode(this),u}}var c=0;return s&&this.group||this.selectThisNode(n)&&c++,e&&this.group&&(c+=this.selectChildNodes(n,s)),o||(n&&(r||!this.gridOptionsWrapper.isRowSelectionMulti())&&(c+=this.selectionController.clearOtherNodes(this)),c>0&&(this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:ke.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})),n&&this.selectionController.setLastSelectedNode(this)),c},t.prototype.doRowRangeSelection=function(t){var e=this;void 0===t&&(t=!0);var n=this.gridOptionsWrapper.isGroupSelectsChildren(),r=this.selectionController.getLastSelectedNode(),o=this.rowModel.getNodesInRangeForSelection(this,r),i=0;return o.forEach((function(r){r.group&&n||!1===t&&e===r||r.selectThisNode(t)&&i++})),this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:ke.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}),i},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.selectThisNode=function(e){if(!this.selectable&&e||this.selected===e)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var n=this.createGlobalRowEvent(ke.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(n),!0},t.prototype.selectChildNodes=function(t,e){var n=e?this.childrenAfterFilter:this.childrenAfterGroup;if(S(n))return 0;for(var r=0,o=0;o<n.length;o++)r+=n[o].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return r},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new ee),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,r=!1,o=null;n&&!r;){var i=e.parent;E(i)&&e.firstChild?i.rowGroupColumn===t&&(r=!0,o=i):n=!1,e=i}return r?o:null},t.prototype.isFullWidthCell=function(){var t=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t(this)},t.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",ki([Yt("eventService")],t.prototype,"mainEventService",void 0),ki([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ki([Yt("selectionController")],t.prototype,"selectionController",void 0),ki([Yt("columnController")],t.prototype,"columnController",void 0),ki([Yt("valueService")],t.prototype,"valueService",void 0),ki([Yt("rowModel")],t.prototype,"rowModel",void 0),ki([Yt("context")],t.prototype,"context",void 0),ki([Yt("valueCache")],t.prototype,"valueCache",void 0),ki([Yt("columnApi")],t.prototype,"columnApi",void 0),ki([Yt("gridApi")],t.prototype,"gridApi",void 0),t}(),Di=(pi=function(t,e){return(pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ni=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Di(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),r=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(r+" ("+n+")")},e.prototype.onCheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.init=function(t){var e=this;this.rowNode=t.rowNode,this.column=t.column,this.onSelectionChanged(),this.addGuiEventListener("click",(function(t){return pe(t)})),this.addGuiEventListener("dblclick",(function(t){return pe(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){var n=e.eCheckbox.getValue();void 0===e.eCheckbox.getPreviousValue()?0===e.onUncheckedClicked(t||{})&&e.onCheckedClicked(t):n?e.onCheckedClicked(t):e.onUncheckedClicked(t||{})})),this.addManagedListener(this.rowNode,Ai.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t=this.rowNode.selectable;t&&this.checkboxCallbackExists()&&(t=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(t)},e.prototype.checkboxCallbackExists=function(){var t=this.column?this.column.getColDef():null;return!!t&&"function"==typeof t.checkboxSelection},xi([Bo("eCheckbox")],e.prototype,"eCheckbox",void 0),xi([zt],e.prototype,"postConstruct",null),e}(Go),Ii={propertyName:"dateComponent",isCellRenderer:function(){return!1}},Fi={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Mi={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},Li={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},ji={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},Gi={propertyName:"cellEditor",isCellRenderer:function(){return!1}},Vi={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Wi={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},Bi={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},Hi={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},zi={propertyName:"filter",isCellRenderer:function(){return!1}},Ui={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},Ki={propertyName:"toolPanel",isCellRenderer:function(){return!1}},Yi={propertyName:"statusPanel",isCellRenderer:function(){return!1}},qi=(ci=function(t,e){return(ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ci(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",t[t.HARDCODED=2]="HARDCODED"}(ui||(ui={}));var Qi,Zi,Ji,$i,ts,es,ns,rs,os,is,ss,as,ls,us,cs,ps,hs,ds,fs,gs,ys,vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qi(e,t),e.prototype.newDateComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Ii,"agDateInput")},e.prototype.newHeaderComponent=function(t){return this.createAndInitUserComponent(t.column.getColDef(),t,Fi,"agColumnHeader")},e.prototype.newHeaderGroupComponent=function(t){return this.createAndInitUserComponent(t.columnGroup.getColGroupDef(),t,Mi,"agColumnGroupHeader")},e.prototype.newFullWidthGroupRowInnerCellRenderer=function(t){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,t,Vi,null,!0)},e.prototype.newFullWidthCellRenderer=function(t,e,n){return this.createAndInitUserComponent(null,t,{propertyName:e,isCellRenderer:function(){return!0}},n)},e.prototype.newCellRenderer=function(t,e,n){return void 0===n&&(n=!1),this.createAndInitUserComponent(t,e,n?ji:Li,null,!0)},e.prototype.newCellEditor=function(t,e){return this.createAndInitUserComponent(t,e,Gi,"agCellEditor")},e.prototype.newInnerCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,Vi,null)},e.prototype.newLoadingOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Wi,"agLoadingOverlay")},e.prototype.newNoRowsOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Bi,"agNoRowsOverlay")},e.prototype.newTooltipComponent=function(t){return this.createAndInitUserComponent(t.colDef,t,Hi,"agTooltipComponent")},e.prototype.newFilterComponent=function(t,e,n){return this.createAndInitUserComponent(t,e,zi,n,!1)},e.prototype.newSetFilterCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,Li,null,!0)},e.prototype.newFloatingFilterComponent=function(t,e,n){return this.createAndInitUserComponent(t,e,Ui,n,!0)},e.prototype.newToolPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,Ki)},e.prototype.newStatusPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,Yi)},e.prototype.createAndInitUserComponent=function(t,e,n,r,o){void 0===o&&(o=!1),t||(t=this.gridOptions);var i=this.createComponentInstance(t,n,e,r,o);if(!i)return null;var s=i.componentInstance,a=this.createFinalParams(t,n.propertyName,e,i.paramsFromSelector);this.addReactHacks(a);var l=this.initComponent(s,a);return null==l?ko.resolve(s):l.then((function(){return s}))},e.prototype.addReactHacks=function(t){var e=this.context.getBean("agGridReact");e&&(t.agGridReact=pt(e));var n=this.context.getBean("frameworkComponentWrapper");n&&(t.frameworkComponentWrapper=n)},e.prototype.createUserComponentFromConcreteClass=function(t,e){var n=new t;return this.initComponent(n,e),n},e.prototype.lookupComponentClassDef=function(t,e,n,r){void 0===n&&(n=null);var o=null,i=null,s=null,a=null,l=null;if(null!=t){var u=t[e];null==u||!0===u||("string"==typeof u?o=u:"boolean"==typeof u||(this.agComponentUtils.doesImplementIComponent(u)?i=u:s=u)),a=t[e+"Framework"],l=t[e+"Selector"]}if(i&&a||o&&a||s&&a)throw Error("ag-grid: you are trying to specify: "+e+" twice as a component.");if(a&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+e);if(l&&(o||i||s||a))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+e);if(a)return{componentFromFramework:!0,component:a,source:ui.HARDCODED,paramsFromSelector:null};if(i)return{componentFromFramework:!1,component:i,source:ui.HARDCODED,paramsFromSelector:null};if(s)return this.agComponentUtils.adaptFunction(e,s,!1,ui.HARDCODED);var c,p=l?l(n):null;if(!(c=p&&p.component?p.component:o||r))return null;var h=this.lookupFromRegisteredComponents(e,c);return h?{componentFromFramework:h.componentFromFramework,component:h.component,source:h.source,paramsFromSelector:p?p.params:null}:null},e.prototype.lookupFromRegisteredComponents=function(t,e){var n=this.userComponentRegistry.retrieve(null!=e?e:t);return null==n?null:n.componentFromFramework?{component:n.component,componentFromFramework:!0,source:ui.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(n.component)?{component:n.component,componentFromFramework:!1,source:n.source==Qi.REGISTERED?ui.REGISTERED_BY_NAME:ui.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(t,n.component,n.componentFromFramework,n.source==Qi.REGISTERED?ui.REGISTERED_BY_NAME:ui.DEFAULT)},e.prototype.createFinalParams=function(t,e,n,r){void 0===r&&(r=null);var o={};bt(o,n);var i=t?t[e+"Params"]:null;return null!=i&&("function"==typeof i?bt(o,i(n)):"object"==typeof i&&bt(o,i)),bt(o,r),o},e.prototype.createComponentInstance=function(t,e,n,r,o){var i,s=e.propertyName,a=this.lookupComponentClassDef(t,s,n,r);if(!a||!a.component)return o||console.error("Could not find component "+((t?t[s]:r)||r)+", did you forget to configure this component?"),null;if(a.componentFromFramework){var l=a.component,u=this.componentMetadataProvider.retrieve(s);i=this.frameworkComponentWrapper.wrap(l,u.mandatoryMethodList,u.optionalMethodList,e,r)}else i=new a.component;return{componentInstance:i,paramsFromSelector:a.paramsFromSelector}},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},Xi([Yt("gridOptions")],e.prototype,"gridOptions",void 0),Xi([Yt("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Xi([Yt("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Xi([Yt("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Xi([qt("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),Xi([Kt("userComponentFactory")],e)}(Se),ms=(ys=function(t,e){return(ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ys(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ms(e,t),e.prototype.init=function(t){this.params=t,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(t);var e=this.isEmbeddedRowMismatch(),n=null==t.value,r=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var o=t.node;o.footer&&(r=(t.colDef&&t.colDef.showRowGroup)!==(o.rowGroupColumn&&o.rowGroupColumn.getColId()))}this.cellIsBlank=e||n||r,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},e.prototype.assignBlankValueToGroupFooterCell=function(t){t.value||-1!=t.node.level||(t.value="")},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===ne.PINNED_LEFT,e=this.params.pinned===ne.PINNED_RIGHT,n=!t&&!e;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!e:!n:this.columnController.isPinningLeft()?!t:!n},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,e=t.colDef&&!0!==t.colDef.showRowGroup?0:t.node.uiLevel;t.padding>=0?this.setPaddingDeprecatedWay(e,t.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+e,this.addCssClass(this.indentClass))}},e.prototype.setPaddingDeprecatedWay=function(t,e){xt((function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var n=t*e,r=this.getGui(),o=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";r.style[o]=n+"px"},e.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Ai.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.addValueElement=function(){this.displayedGroup.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addFooterValue=function(){var t,e=this.params.footerValueGetter;if(e){var n=pt(this.params);n.value=this.params.value,"function"==typeof e?t=e(n):"string"==typeof e?t=this.expressionService.evaluate(e,n):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+this.params.value;this.eValue.innerHTML=t},e.prototype.addGroupValue=function(){var t,e=this,n=this.params,r=this.displayedGroup.rowGroupColumn||n.column,o=r?this.valueFormatterService.formatValue(r,n.node,n.scope,this.params.value):null;n.valueFormatted=o,(t=n.fullWidth?this.useFullWidth(n):this.useInnerRenderer(this.params.colDef.cellRendererParams,r.getColDef(),n))&&t.then((function(t){e.innerCellRenderer=t}))},e.prototype.useInnerRenderer=function(t,e,n){var r=this,o=null,i=this.userComponentFactory.lookupComponentClassDef(t,"innerRenderer");if(i&&null!=i.component&&i.source!=ui.DEFAULT)o=this.userComponentFactory.newInnerCellRenderer(t,n);else{var s=this.userComponentFactory.lookupComponentClassDef(e,"cellRenderer");o=s&&s.source!=ui.DEFAULT?this.userComponentFactory.newCellRenderer(e,n):s&&s.source==ui.DEFAULT&&Ot(e,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(e.cellRendererParams,n):this.userComponentFactory.newCellRenderer({},n)}return null!=o?o.then((function(t){null!=t?kr(o,r.eValue):r.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value})):this.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,o},e.prototype.useFullWidth=function(t){var e=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(t);return null!=e?kr(e,this.eValue):this.eValue.innerText=null!=t.valueFormatted?t.valueFormatted:t.value,e},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,Ai.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroup.allChildrenCount,e=this.isShowRowGroupForThisRow();this.eChildCount.innerHTML=e&&null!=t&&t>=0?"("+t+")":""},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t?t(this.params):!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroup,n=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(n){var r=new Ni;this.getContext().createBean(r),r.init({rowNode:e,column:this.params.column}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(r)}))}In(this.eCheckbox,"ag-invisible",!n)},e.prototype.addExpandAndContract=function(){var t=this.params,e=t.eGridCell,n=co("groupExpanded",this.gridOptionsWrapper,null),r=co("groupContracted",this.gridOptionsWrapper,null);Wr(e,!!t.node.expanded),n&&this.eExpanded.appendChild(n),r&&this.eContracted.appendChild(r),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Ai.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,Ai.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroup,Ai.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroup,Ai.EVENT_HAS_CHILDREN_CHANGED,o),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||t.suppressDoubleClickExpand||this.addManagedListener(e,"dblclick",this.onCellDblClicked.bind(this))},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},e.prototype.onKeyDown=function(t){po(t,Xo.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},e.prototype.setupDragOpenParents=function(){var t=this.params.column,e=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.hasChildren()){var n=e.rowGroupColumn;this.draggedFromHideOpenParents=!!n&&!t.isRowGroupDisplayed(n.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var r=e.parent;!S(r);){if(r.rowGroupColumn&&t.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroup=r;break}r=r.parent}S(this.displayedGroup)&&(this.displayedGroup=e)},e.prototype.onExpandClicked=function(t){he(t)||(pe(t),this.onExpandOrContract())},e.prototype.onCellDblClicked=function(t){he(t)||me(this.eExpanded,t)||me(this.eContracted,t)||this.onExpandOrContract()},e.prototype.onExpandOrContract=function(){var t=this.displayedGroup,e=this.params,n=!t.expanded;t.setExpanded(n),Wr(e.eGridCell,n)},e.prototype.isExpandable=function(){if(this.draggedFromHideOpenParents)return!0;var t=this.displayedGroup,e=this.columnController.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||e)return!1;var n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var t=this.displayedGroup.rowGroupColumn;if(!t)return!1;var e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.eContracted,n=t.eExpanded,r=t.params,o=t.displayedGroup,i=t.columnController,s=r.eGridCell,a=r.node;if(this.isExpandable()){var l=!!this.draggedFromHideOpenParents||a.expanded;jn(e,!l),jn(n,l)}else Br(s),jn(n,!1),jn(e,!1);var u=i.isPivotMode()&&o.leafGroup,c=o.isExpandable()&&this.isShowRowGroupForThisRow()&&!o.footer&&!u;this.addOrRemoveCssClass("ag-cell-expandable",c),this.addOrRemoveCssClass("ag-row-group",c),this.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Cs([Yt("expressionService")],e.prototype,"expressionService",void 0),Cs([Yt("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Cs([Yt("columnController")],e.prototype,"columnController",void 0),Cs([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Cs([Bo("eExpanded")],e.prototype,"eExpanded",void 0),Cs([Bo("eContracted")],e.prototype,"eContracted",void 0),Cs([Bo("eCheckbox")],e.prototype,"eCheckbox",void 0),Cs([Bo("eValue")],e.prototype,"eValue",void 0),Cs([Bo("eChildCount")],e.prototype,"eChildCount",void 0),e}(Go),ws=(gs=function(t,e){return(gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_s=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return ws(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),r=t.formatValue(n),o=E(r)?r:n,i=e>=0;this.eDelta.innerHTML=i?"\u2191"+o:"\u2193"+o,In(this.eDelta,"ag-value-change-delta-up",i),In(this.eDelta,"ag-value-change-delta-down",!i)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){Nn(this.eValue,"ag-value-change-value-highlight"),Qn(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;return e!==this.lastValue&&(E(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:E(t.value)?this.eValue.innerHTML=e:Qn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&("number"==typeof e&&"number"==typeof this.lastValue&&this.showDelta(t,e-this.lastValue),this.lastValue&&xn(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0))},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Yt("filterManager")],e.prototype,"filterManager",void 0),e}(Go),Os=(fs=function(t,e){return(fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Es=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return Os(e,t),e.prototype.init=function(t){this.params=t,this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=tr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&xn(t.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;return S(e)&&(e=""),e!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=e,E(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:E(t.value)?this.eCurrent.innerHTML=e:Qn(this.eCurrent),!0)},e.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Yt("filterManager")],e.prototype,"filterManager",void 0),e}(Go),Ss=(ds=function(t,e){return(ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ds(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ps=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ts=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Ss(e,t),e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},e.prototype.setupLoading=function(){var t=co("groupLoading",this.gridOptionsWrapper,null);t&&this.eLoadingIcon.appendChild(t);var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Ps([Bo("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),Ps([Bo("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Go),Rs=(hs=function(t,e){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ks=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},As=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return Rs(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,S(t.values))console.warn("ag-Grid: no values found for select cellEditor");else{this.startedByEnter=t.keyPress===Xo.ENTER;var n=!1;t.values.forEach((function(r){var o={value:r},i=e.valueFormatterService.formatValue(t.column,null,null,r);o.text=null!=i?i:r,e.eSelect.addOption(o),n=n||t.value===r})),n?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},ks([Yt("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ks([Bo("eSelect")],e.prototype,"eSelect",void 0),e}(Wo),Ds=(ps=function(t,e){return(ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ps(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ds(e,t),e.prototype.isPopup=function(){return!0},e}(Zo),Ns=(cs=function(t,e){return(cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}cs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ns(e,t),e.prototype.isPopup=function(){return!0},e}(As),Fs=(us=function(t,e){return(us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}us(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ms=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Fs(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),E(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;(e===Xo.LEFT||e===Xo.UP||e===Xo.RIGHT||e===Xo.DOWN||t.shiftKey&&e===Xo.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Bo("eTextArea")],e.prototype,"eTextArea",void 0),e}(Wo),Ls=(ls=function(t,e){return(ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ls(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),js=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gs=function(t){function e(){return t.call(this,"numberFilter")||this}return Ls(e,t),e.prototype.mapRangeFromModel=function(t){return{from:t.filter,to:t.filterTo}},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.resetUiToDefaults=function(e){var n=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){[n.eValueFrom1,n.eValueFrom2,n.eValueTo1,n.eValueTo2].forEach((function(t){return t.setValue(null,e)})),n.resetPlaceholder()}))},e.prototype.setConditionIntoUi=function(t,e){var n=e===zo.One,r=n?this.eValueTo1:this.eValueTo2;(n?this.eValueFrom1:this.eValueFrom2).setValue(t?""+t.filter:null),r.setValue(t?""+t.filterTo:null)},e.prototype.setValueFromFloatingFilter=function(t){this.eValueFrom1.setValue(t),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e;var n=this.getAllowedCharPattern();if(n){var r={allowedCharPattern:n};this.resetTemplate({eValueFrom1:r,eValueTo1:r,eValueFrom2:r,eValueTo2:r})}t.prototype.setParams.call(this,e),this.addValueChangedListeners()},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eValueFrom1.onValueChange(e),this.eValueTo1.onValueChange(e),this.eValueFrom2.onValueChange(e),this.eValueTo2.onValueChange(e)},e.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.showValueTo(this.getCondition1Type()),n=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueFrom1.setInputAriaLabel(e?t("ariaFilterFromValue","Filter from value"):t("ariaFilterValue","Filter Value")),this.eValueTo1.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo1.setInputAriaLabel(t("ariaFilterToValue","Filter to Value")),this.eValueFrom2.setInputPlaceholder(this.translate(n?"inRangeStart":"filterOoo")),this.eValueFrom2.setInputAriaLabel(n?t("ariaFilterFromValue","Filter from value"):t("ariaFilterValue","Filter Value")),this.eValueTo2.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo2.setInputAriaLabel(t("ariaFilterToValue","Filter to Value"))},e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),e&&e.suppressFocus||this.eValueFrom1.getInputElement().focus()},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===zo.One?"1":"2",n=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <'+n+' class="ag-filter-from ag-filter-filter" ref="eValueFrom'+e+'"></'+n+">\n                <"+n+' class="ag-filter-to ag-filter-filter" ref="eValueTo'+e+'"></'+n+">\n            </div>"},e.prototype.isConditionUiComplete=function(t){var e=t===zo.One,n=e?this.getCondition1Type():this.getCondition2Type();if(n===yi.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(n))return!0;var r=e?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat((e?this.eValueFrom1:this.eValueFrom2).getValue())&&(!this.showValueTo(n)||null!=this.stringToFloat(r.getValue()))},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var e=O(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=t===zo.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=this.stringToFloat((e?this.eValueFrom1:this.eValueFrom2).getValue()),o={filterType:this.getFilterType(),type:n};if(!this.doesFilterHaveHiddenInput(n)&&(o.filter=r,this.showValueTo(n))){var i=this.stringToFloat((e?this.eValueTo1:this.eValueTo2).getValue());o.filterTo=i}return o},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var e=this.getCondition1Type(),n=this.getCondition2Type();jn(this.eValueFrom1.getGui(),this.showValueFrom(e)),jn(this.eValueTo1.getGui(),this.showValueTo(e)),jn(this.eValueFrom2.getGui(),this.showValueFrom(n)),jn(this.eValueTo2.getGui(),this.showValueTo(n))},e.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(On()||wn()?null:"\\d\\-\\.")},e.DEFAULT_FILTER_OPTIONS=[mi.EQUALS,mi.NOT_EQUAL,mi.LESS_THAN,mi.LESS_THAN_OR_EQUAL,mi.GREATER_THAN,mi.GREATER_THAN_OR_EQUAL,mi.IN_RANGE],js([Bo("eValueFrom1")],e.prototype,"eValueFrom1",void 0),js([Bo("eValueTo1")],e.prototype,"eValueTo1",void 0),js([Bo("eValueFrom2")],e.prototype,"eValueFrom2",void 0),js([Bo("eValueTo2")],e.prototype,"eValueTo2",void 0),e}(mi),Vs=(as=function(t,e){return(as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}as(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ws=function(t){function e(){return t.call(this)||this}return Vs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(o)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(Go),Bs=(ss=function(t,e){return(ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ss(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hs=function(t){function e(){return t.call(this)||this}return Bs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(o)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(Go),zs=(is=function(t,e){return(is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}is(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Us=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return zs(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=e},e}(Wo),Ks=(os=function(t,e){return(os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}os(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ys=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Ks(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(t)&&(bn()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11; reverting to text date picker"):e.type="date"),this.addManagedListener(e,"mousedown",(function(){return e.focus()})),this.addManagedListener(this.eDateInput.getInputElement(),"input",(function(e){e.target===document.activeElement&&t.onDateChanged()}))},e.prototype.getDate=function(){return no(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(eo(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.afterGuiAttached=function(t){t&&t.suppressFocus||this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:On()||En()},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Bo("eDateInput")],e.prototype,"eDateInput",void 0),e}(Go),qs=(rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qs(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.getTextFromModel=function(t){if(!t)return null;if(t.operator){var e=t,n=this.conditionToString(e.condition1),r=this.conditionToString(e.condition2);return n+" "+e.operator+" "+r}return this.conditionToString(t)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.setLastTypeFromModel=function(t){this.lastType=t?(t.operator?t.condition1:t).type:this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)},e.prototype.init=function(t){this.optionsFactory=new $o,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.prototype.isTypeEditable=function(t){return!!t&&!this.doesFilterHaveHiddenInput(t)&&t!==yi.IN_RANGE&&t!==yi.EMPTY},e}(Go),Qs=(ns=function(t,e){return(ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ns(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Js=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Qs(e,t),e.prototype.getDefaultFilterOptions=function(){return wi.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){var e=t.type,n=no(t.dateFrom);if(e===yi.IN_RANGE){var r=no(t.dateTo);return eo(n,!1)+"-"+eo(r,!1)}return null==n?""+e:""+eo(n,!1)},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.createDateComponent();var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.setEditable=function(t){jn(this.eDateWrapper,t),jn(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)){t.prototype.setLastTypeFromModel.call(this,e);var r=this.canWeEditAfterModelFromParentFilter(e);this.setEditable(r),r?(this.dateComp.setDate(e?no(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null))}},e.prototype.onDateChanged=function(){var t=this,e=eo(this.dateComp.getDate());this.params.parentFilterInstance((function(n){n&&n.onFloatingFilterChanged(t.getLastType(),e)}))},e.prototype.createDateComponent=function(){var t=this,e=si.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:Gt(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Jo(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},Zs([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Zs([Bo("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Zs([Bo("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Xs),$s=(es=function(t,e){return(es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}es(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ta=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ea=function(t){function e(){return t.call(this,"textFilter")||this}return $s(e,t),e.cleanInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.getCleanValue=function(t){return e.cleanInput(O(t.getValue()))},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eValue1.onValueChange(e),this.eValue2.onValueChange(e)},e.prototype.setParams=function(n){t.prototype.setParams.call(this,n),this.textFilterParams=n,this.comparator=this.textFilterParams.textCustomComparator||e.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},e.prototype.setConditionIntoUi=function(t,e){(e===zo.One?this.eValue1:this.eValue2).setValue(t?t.filter:null)},e.prototype.createCondition=function(t){var e=t===zo.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=e?this.eValue1:this.eValue2,o=this.getCleanValue(r);r.setValue(o,!0);var i={filterType:this.getFilterType(),type:n};return this.doesFilterHaveHiddenInput(n)||(i.filter=o),i},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.type===e.type},e.prototype.resetUiToDefaults=function(e){var n=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){n.forEachInput((function(t){return t.setValue(null,e)})),n.resetPlaceholder()}))},e.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.translate("filterOoo");this.forEachInput((function(n){n.setInputPlaceholder(e),n.setInputAriaLabel(t("ariaFilterValue","Filter Value"))}))},e.prototype.forEachInput=function(t){ot([this.eValue1,this.eValue2],t)},e.prototype.setValueFromFloatingFilter=function(t){this.eValue1.setValue(t),this.eValue2.setValue(null)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===zo.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+e+'"></ag-input-text-field>\n            </div>'},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),jn(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),jn(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),e&&e.suppressFocus||this.eValue1.getInputElement().focus()},e.prototype.isConditionUiComplete=function(t){var e=t===zo.One,n=e?this.getCondition1Type():this.getCondition2Type();return n!==yi.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||null!=this.getCleanValue(e?this.eValue1:this.eValue2))},e.prototype.individualConditionPasses=function(t,e){var n=e.filter,r=e.type,o=this.textFilterParams.valueGetter(t.node),i=this.formatter(o),s=this.optionsFactory.getCustomOption(r);if(s&&(null!=n||s.hideFilterInput))return s.test(n,i);if(null==o)return r===yi.NOT_EQUAL||r===yi.NOT_CONTAINS;var a=this.formatter(n);return this.comparator(r,i,a)},e.DEFAULT_FILTER_OPTIONS=[yi.CONTAINS,yi.NOT_CONTAINS,yi.EQUALS,yi.NOT_EQUAL,yi.STARTS_WITH,yi.ENDS_WITH],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_COMPARATOR=function(t,n,r){switch(t){case e.CONTAINS:return n.indexOf(r)>=0;case e.NOT_CONTAINS:return n.indexOf(r)<0;case e.EQUALS:return n===r;case e.NOT_EQUAL:return n!=r;case e.STARTS_WITH:return 0===n.indexOf(r);case e.ENDS_WITH:var o=n.lastIndexOf(r);return o>=0&&o===n.length-r.length;default:return console.warn("invalid filter type "+t),!1}},ta([Bo("eValue1")],e.prototype,"eValue1",void 0),ta([Bo("eValue2")],e.prototype,"eValue2",void 0),e}(yi),na=(ts=function(t,e){return(ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ts(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ra=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return na(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.applyActive=si.isUseApplyButton(this.params.filterParams);var n=si.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=Gt(this.syncUpWithParentFilter.bind(this),n),o=this.eFloatingFilterInput.getGui();this.addManagedListener(o,"input",r),this.addManagedListener(o,"keypress",r),this.addManagedListener(o,"keydown",r);var i=e.column.getDefinition();i.filterParams&&i.filterParams.filterOptions&&1===i.filterParams.filterOptions.length&&"inRange"===i.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(e.column,"header",!0),a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(s+" "+a("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var e=this,n=po(t,Xo.ENTER);if(!this.applyActive||n){var r=ea.cleanInput(this.eFloatingFilterInput.getValue());this.eFloatingFilterInput.setValue(r,!0),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType(),r)}))}},e.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},ra([Yt("columnController")],e.prototype,"columnController",void 0),ra([Bo("eFloatingFilterInput")],e.prototype,"eFloatingFilterInput",void 0),ra([zt],e.prototype,"postConstruct",null),e}(Xs),ia=($i=function(t,e){return($i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ia(e,t),e.prototype.getDefaultFilterOptions=function(){return Gs.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type==yi.IN_RANGE?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(oa),aa=(Ji=function(t,e){return(Ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ji(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.conditionToString=function(t){return null!=t.filter?""+t.filter:""+t.type},e.prototype.getDefaultFilterOptions=function(){return ea.DEFAULT_FILTER_OPTIONS},e}(oa),ua=(Zi=function(t,e){return(Zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ca=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED=1]="REGISTERED"}(Qi||(Qi={}));var pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Ys,agColumnHeader:Si,agColumnGroupHeader:Ri,agTextColumnFloatingFilter:la,agNumberColumnFloatingFilter:sa,agDateColumnFloatingFilter:Js,agAnimateShowChangeCellRenderer:_s,agAnimateSlideCellRenderer:Es,agGroupCellRenderer:bs,agGroupRowRenderer:bs,agLoadingCellRenderer:Ts,agCellEditor:Zo,agTextCellEditor:Zo,agSelectCellEditor:As,agPopupTextCellEditor:xs,agPopupSelectCellEditor:Is,agLargeTextCellEditor:Ms,agTextColumnFilter:ea,agNumberColumnFilter:Gs,agDateColumnFilter:wi,agLoadingOverlay:Ws,agNoRowsOverlay:Hs,agTooltipComponent:Us},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComponents={},e.frameworkComponents={},e}return ua(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&ct(this.gridOptions.components,(function(e,n){return t.registerComponent(e,n)})),null!=this.gridOptions.frameworkComponents&&ct(this.gridOptions.frameworkComponents,(function(e,n){return t.registerFwComponent(e,n)}))},e.prototype.registerDefaultComponent=function(t,e){var n=this.translateIfDeprecated(t);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=e},e.prototype.registerComponent=function(t,e){var n=this.translateIfDeprecated(t);this.frameworkComponents[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComponents[n]=e},e.prototype.registerFwComponent=function(t,e){var n=this.translateIfDeprecated(t);this.jsComponents[n]?console.error("Trying to register a component that you have already registered for plain javascript: "+n):this.frameworkComponents[n]=e},e.prototype.retrieve=function(t){var e=this.translateIfDeprecated(t),n=this.frameworkComponents[e];if(n)return{componentFromFramework:!0,component:n,source:Qi.REGISTERED};var r=this.jsComponents[e];if(r)return{componentFromFramework:!1,component:r,source:Qi.REGISTERED};var o=this.agGridDefaults[e];return o?{componentFromFramework:!1,component:o,source:Qi.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(e)<0&&console.warn("ag-Grid: Looking for component ["+e+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(t){var e=this.agDeprecatedNames[t];return null!=e?(xt((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+e.propertyHolder+":"+t+" to "+e.propertyHolder+":"+e.newComponentName)}),"DEPRECATE_COMPONENT_"+t),e.newComponentName):t},ca([Yt("gridOptions")],e.prototype,"gridOptions",void 0),ca([zt],e.prototype,"init",null),ca([Kt("userComponentRegistry")],e)}(Se),ha=function(){function t(){}return t.parse=function(e){if(!e)return null;if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof e)return t.parse([e]);if(Array.isArray(e)){var n=[];return e.forEach((function(e){var r=t.DEFAULT_BY_KEY[e];r?n.push(r):console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}},t.parseComponents=function(e){var n=[];return e?(e.forEach((function(e){var r=null;if("string"==typeof e){var o=t.DEFAULT_BY_KEY[e];if(!o)return void console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));r=o}else r=e;n.push(r)})),n):n},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},t}(),da=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fa=function(t,e){return function(n,r){e(n,r,t)}},ga=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};function ya(t){return!0===t||"true"===t}function va(t,e){var n=parseInt(t,10);return Ke(n)&&n>0?n:e}var ma,Ca,ba,wa=function(){function t(){this.propertyEventService=new ee,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[],this.destroyed=!1}var e;return e=t,t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.checkForDeprecated(),this.checkForViolations()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(e.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},t.prototype.init=function(){var t=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=ha.parse(this.gridOptions.sideBar));var n=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),n),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var r=function(t){return"ag-Grid: '"+t+"' is not supported on the Server-Side Row Model"};E(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupDefaultExpanded")),E(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupIncludeFooter")),E(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&re.assertRegistered(Jt.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var o=function(e){t.gridOptions.icons&&t.gridOptions.icons[e]&&console.warn("gridOptions.icons."+e+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};o("radioButtonOff"),o("radioButtonOn"),o("checkboxChecked"),o("checkboxUnchecked"),o("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(e.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.getScrollbarWidth()},t.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(e){var n=Object.getOwnPropertyNames(e),r=ga(vn.ALL_PROPERTIES,vn.FRAMEWORK_PROPERTIES);t.checkProperties(n,r,r,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=ga(an.ALL_PROPERTIES,an.FRAMEWORK_PROPERTIES,F(ke).map((function(t){return un.getCallbackForEvent(t)}))),n=ga(e,["api","columnApi"]);this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},t.prototype.checkProperties=function(t,e,n,r,o){var i=ro(t,e,n);ct(i,(function(t,e){console.warn("ag-grid: invalid "+r+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))})),Object.keys(i).length>0&&console.warn("ag-grid: to see all the valid "+r+" properties please check: "+o)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var n=t[this.getDomDataKey()];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var r=this.getDomDataKey(),o=t[r];S(o)&&(t[r]=o={}),o[e]=n},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.isSuppressRowDeselection=function(){return ya(this.gridOptions.suppressRowDeselection)},t.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},t.prototype.isRowMultiSelectWithClick=function(){return ya(this.gridOptions.rowMultiSelectWithClick)},t.prototype.getContext=function(){return this.gridOptions.context},t.prototype.isPivotMode=function(){return ya(this.gridOptions.pivotMode)},t.prototype.isSuppressExpandablePivotGroups=function(){return ya(this.gridOptions.suppressExpandablePivotGroups)},t.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},t.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},t.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_INFINITE},t.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_VIEWPORT},t.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.isRowModelDefault=function(){return S(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},t.prototype.isSuppressFocusAfterRefresh=function(){return ya(this.gridOptions.suppressFocusAfterRefresh)},t.prototype.isSuppressBrowserResizeObserver=function(){return ya(this.gridOptions.suppressBrowserResizeObserver)},t.prototype.isSuppressMaintainUnsortedOrder=function(){return ya(this.gridOptions.suppressMaintainUnsortedOrder)},t.prototype.isSuppressClearOnFillReduction=function(){return ya(this.gridOptions.suppressClearOnFillReduction)},t.prototype.isShowToolPanel=function(){return ya(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},t.prototype.getSideBar=function(){return this.gridOptions.sideBar},t.prototype.isSuppressTouch=function(){return ya(this.gridOptions.suppressTouch)},t.prototype.isApplyColumnDefOrder=function(){return ya(this.gridOptions.applyColumnDefOrder)},t.prototype.isSuppressRowTransform=function(){return ya(this.gridOptions.suppressRowTransform)},t.prototype.isSuppressColumnStateEvents=function(){return ya(this.gridOptions.suppressColumnStateEvents)},t.prototype.isAllowDragFromColumnsToolPanel=function(){return ya(this.gridOptions.allowDragFromColumnsToolPanel)},t.prototype.useAsyncEvents=function(){return!ya(this.gridOptions.suppressAsyncEvents)},t.prototype.isEnableCellChangeFlash=function(){return ya(this.gridOptions.enableCellChangeFlash)},t.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},t.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},t.prototype.isGroupSelectsChildren=function(){var t=ya(this.gridOptions.groupSelectsChildren);return t&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):t},t.prototype.isSuppressRowHoverHighlight=function(){return ya(this.gridOptions.suppressRowHoverHighlight)},t.prototype.isGroupSelectsFiltered=function(){return ya(this.gridOptions.groupSelectsFiltered)},t.prototype.isGroupHideOpenParents=function(){return ya(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupMultiAutoColumn=function(){return ya(this.gridOptions.groupMultiAutoColumn)||ya(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupRemoveSingleChildren=function(){return ya(this.gridOptions.groupRemoveSingleChildren)},t.prototype.isGroupRemoveLowestSingleChildren=function(){return ya(this.gridOptions.groupRemoveLowestSingleChildren)},t.prototype.isGroupIncludeFooter=function(){return ya(this.gridOptions.groupIncludeFooter)},t.prototype.isGroupIncludeTotalFooter=function(){return ya(this.gridOptions.groupIncludeTotalFooter)},t.prototype.isGroupSuppressBlankHeader=function(){return ya(this.gridOptions.groupSuppressBlankHeader)},t.prototype.isSuppressRowClickSelection=function(){return ya(this.gridOptions.suppressRowClickSelection)},t.prototype.isSuppressCellSelection=function(){return ya(this.gridOptions.suppressCellSelection)},t.prototype.isSuppressMultiSort=function(){return ya(this.gridOptions.suppressMultiSort)},t.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},t.prototype.isGroupSuppressAutoColumn=function(){return ya(this.gridOptions.groupSuppressAutoColumn)},t.prototype.isPivotSuppressAutoColumn=function(){return ya(this.gridOptions.pivotSuppressAutoColumn)},t.prototype.isSuppressDragLeaveHidesColumns=function(){return ya(this.gridOptions.suppressDragLeaveHidesColumns)},t.prototype.isSuppressScrollOnNewData=function(){return ya(this.gridOptions.suppressScrollOnNewData)},t.prototype.isRowDragManaged=function(){return ya(this.gridOptions.rowDragManaged)},t.prototype.isSuppressRowDrag=function(){return ya(this.gridOptions.suppressRowDrag)},t.prototype.isSuppressMoveWhenRowDragging=function(){return ya(this.gridOptions.suppressMoveWhenRowDragging)},t.prototype.isEnableMultiRowDragging=function(){return ya(this.gridOptions.enableMultiRowDragging)},t.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||ne.DOM_LAYOUT_NORMAL;return-1===[ne.DOM_LAYOUT_PRINT,ne.DOM_LAYOUT_AUTO_HEIGHT,ne.DOM_LAYOUT_NORMAL].indexOf(t)?(xt((function(){return console.warn("ag-Grid: "+t+" is not valid for DOM Layout, valid values are "+ne.DOM_LAYOUT_NORMAL+", "+ne.DOM_LAYOUT_AUTO_HEIGHT+" and "+ne.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),ne.DOM_LAYOUT_NORMAL):t},t.prototype.isSuppressHorizontalScroll=function(){return ya(this.gridOptions.suppressHorizontalScroll)},t.prototype.isSuppressMaxRenderedRowRestriction=function(){return ya(this.gridOptions.suppressMaxRenderedRowRestriction)},t.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ya(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},t.prototype.isAlwaysShowVerticalScroll=function(){return ya(this.gridOptions.alwaysShowVerticalScroll)},t.prototype.isDebounceVerticalScrollbar=function(){return ya(this.gridOptions.debounceVerticalScrollbar)},t.prototype.isSuppressLoadingOverlay=function(){return ya(this.gridOptions.suppressLoadingOverlay)},t.prototype.isSuppressNoRowsOverlay=function(){return ya(this.gridOptions.suppressNoRowsOverlay)},t.prototype.isSuppressFieldDotNotation=function(){return ya(this.gridOptions.suppressFieldDotNotation)},t.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},t.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},t.prototype.isFunctionsPassive=function(){return ya(this.gridOptions.functionsPassive)},t.prototype.isSuppressChangeDetection=function(){return ya(this.gridOptions.suppressChangeDetection)},t.prototype.isSuppressAnimationFrame=function(){return ya(this.gridOptions.suppressAnimationFrame)},t.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},t.prototype.isCacheQuickFilter=function(){return ya(this.gridOptions.cacheQuickFilter)},t.prototype.isUnSortIcon=function(){return ya(this.gridOptions.unSortIcon)},t.prototype.isSuppressMenuHide=function(){return ya(this.gridOptions.suppressMenuHide)},t.prototype.isEnterMovesDownAfterEdit=function(){return ya(this.gridOptions.enterMovesDownAfterEdit)},t.prototype.isEnterMovesDown=function(){return ya(this.gridOptions.enterMovesDown)},t.prototype.isUndoRedoCellEditing=function(){return ya(this.gridOptions.undoRedoCellEditing)},t.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},t.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},t.prototype.getRowClass=function(){return this.gridOptions.rowClass},t.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},t.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},t.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},t.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},t.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},t.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},t.prototype.getPopupParent=function(){return this.gridOptions.popupParent},t.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},t.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},t.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},t.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},t.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},t.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},t.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},t.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},t.prototype.isEmbedFullWidthRows=function(){return ya(this.gridOptions.embedFullWidthRows)||ya(this.gridOptions.deprecatedEmbedFullWidthRows)},t.prototype.isDetailRowAutoHeight=function(){return ya(this.gridOptions.detailRowAutoHeight)},t.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},t.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},t.prototype.getApi=function(){return this.gridOptions.api},t.prototype.getColumnApi=function(){return this.gridOptions.columnApi},t.prototype.isImmutableData=function(){return ya(this.gridOptions.immutableData)},t.prototype.isEnsureDomOrder=function(){return ya(this.gridOptions.ensureDomOrder)},t.prototype.isEnableCharts=function(){return!!ya(this.gridOptions.enableCharts)&&re.assertRegistered(Jt.GridChartsModule,"enableCharts")},t.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},t.prototype.isSingleClickEdit=function(){return ya(this.gridOptions.singleClickEdit)},t.prototype.isSuppressClickEdit=function(){return ya(this.gridOptions.suppressClickEdit)},t.prototype.isStopEditingWhenGridLosesFocus=function(){return ya(this.gridOptions.stopEditingWhenGridLosesFocus)},t.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},t.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},t.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},t.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},t.prototype.getPaginationPageSize=function(){return"number"==typeof(t=this.gridOptions.paginationPageSize)?t:"string"==typeof t?parseInt(t,10):void 0;var t},t.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ya(this.gridOptions.paginateChildRows)},t.prototype.getCacheBlockSize=function(){return va(this.gridOptions.cacheBlockSize)},t.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},t.prototype.isPurgeClosedRowNodes=function(){return ya(this.gridOptions.purgeClosedRowNodes)},t.prototype.isSuppressPaginationPanel=function(){return ya(this.gridOptions.suppressPaginationPanel)},t.prototype.getRowData=function(){return this.gridOptions.rowData},t.prototype.isGroupUseEntireRow=function(t){return!t&&ya(this.gridOptions.groupUseEntireRow)},t.prototype.isEnableRtl=function(){return ya(this.gridOptions.enableRtl)},t.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},t.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},t.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},t.prototype.isAngularCompileRows=function(){return ya(this.gridOptions.angularCompileRows)},t.prototype.isAngularCompileFilters=function(){return ya(this.gridOptions.angularCompileFilters)},t.prototype.isDebug=function(){return ya(this.gridOptions.debug)},t.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},t.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},t.prototype.getDatasource=function(){return this.gridOptions.datasource},t.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},t.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},t.prototype.isAccentedSort=function(){return ya(this.gridOptions.accentedSort)},t.prototype.isEnableBrowserTooltips=function(){return ya(this.gridOptions.enableBrowserTooltips)},t.prototype.isEnableCellExpressions=function(){return ya(this.gridOptions.enableCellExpressions)},t.prototype.isEnableGroupEdit=function(){return ya(this.gridOptions.enableGroupEdit)},t.prototype.isSuppressMiddleClickScrolls=function(){return ya(this.gridOptions.suppressMiddleClickScrolls)},t.prototype.isPreventDefaultOnContextMenu=function(){return ya(this.gridOptions.preventDefaultOnContextMenu)},t.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ya(this.gridOptions.suppressPreventDefaultOnMouseWheel)},t.prototype.isSuppressColumnVirtualisation=function(){return ya(this.gridOptions.suppressColumnVirtualisation)},t.prototype.isSuppressContextMenu=function(){return ya(this.gridOptions.suppressContextMenu)},t.prototype.isAllowContextMenuWithControlKey=function(){return ya(this.gridOptions.allowContextMenuWithControlKey)},t.prototype.isSuppressCopyRowsToClipboard=function(){return ya(this.gridOptions.suppressCopyRowsToClipboard)},t.prototype.isCopyHeadersToClipboard=function(){return ya(this.gridOptions.copyHeadersToClipboard)},t.prototype.isSuppressClipboardPaste=function(){return ya(this.gridOptions.suppressClipboardPaste)},t.prototype.isSuppressLastEmptyLineOnPaste=function(){return ya(this.gridOptions.suppressLastEmptyLineOnPaste)},t.prototype.isPagination=function(){return ya(this.gridOptions.pagination)},t.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ya(this.gridOptions.suppressEnterpriseResetOnNewColumns)},t.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},t.prototype.getAsyncTransactionWaitMillis=function(){return E(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ne.BATCH_WAIT_MILLIS},t.prototype.isSuppressMovableColumns=function(){return ya(this.gridOptions.suppressMovableColumns)},t.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ya(this.gridOptions.animateRows)},t.prototype.isSuppressColumnMoveAnimation=function(){return ya(this.gridOptions.suppressColumnMoveAnimation)},t.prototype.isSuppressAggFuncInHeader=function(){return ya(this.gridOptions.suppressAggFuncInHeader)},t.prototype.isSuppressAggAtRootLevel=function(){return ya(this.gridOptions.suppressAggAtRootLevel)},t.prototype.isSuppressAggFilteredOnly=function(){return ya(this.gridOptions.suppressAggFilteredOnly)},t.prototype.isShowOpenedGroup=function(){return ya(this.gridOptions.showOpenedGroup)},t.prototype.isEnableRangeSelection=function(){return re.isRegistered(Jt.RangeSelectionModule)&&ya(this.gridOptions.enableRangeSelection)},t.prototype.isEnableRangeHandle=function(){return ya(this.gridOptions.enableRangeHandle)},t.prototype.isEnableFillHandle=function(){return ya(this.gridOptions.enableFillHandle)},t.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?"x"!==t&&"y"!==t&&"xy"!==t?(xt((function(){return console.warn("ag-Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):t:"xy"},t.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},t.prototype.isSuppressMultiRangeSelection=function(){return ya(this.gridOptions.suppressMultiRangeSelection)},t.prototype.isPaginationAutoPageSize=function(){return ya(this.gridOptions.paginationAutoPageSize)},t.prototype.isRememberGroupStateWhenNewData=function(){return ya(this.gridOptions.rememberGroupStateWhenNewData)},t.prototype.getIcons=function(){return this.gridOptions.icons},t.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},t.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},t.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},t.prototype.isMasterDetail=function(){return!!ya(this.gridOptions.masterDetail)&&re.assertRegistered(Jt.MasterDetailModule,"masterDetail")},t.prototype.isKeepDetailRows=function(){return ya(this.gridOptions.keepDetailRows)},t.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptions.keepDetailRowsCount;return E(t)&&t>0?this.gridOptions.keepDetailRowsCount:10},t.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},t.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},t.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},t.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},t.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},t.prototype.isSuppressAutoSize=function(){return ya(this.gridOptions.suppressAutoSize)},t.prototype.isEnableCellTextSelection=function(){return ya(this.gridOptions.enableCellTextSelection)},t.prototype.isSuppressParentsInRowNodes=function(){return ya(this.gridOptions.suppressParentsInRowNodes)},t.prototype.isSuppressClipboardApi=function(){return ya(this.gridOptions.suppressClipboardApi)},t.prototype.isFunctionsReadOnly=function(){return ya(this.gridOptions.functionsReadOnly)},t.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},t.prototype.isEnableCellTextSelect=function(){return ya(this.gridOptions.enableCellTextSelection)},t.prototype.isEnableOldSetFilterModel=function(){return ya(this.gridOptions.enableOldSetFilterModel)},t.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},t.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},t.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},t.prototype.isSuppressCsvExport=function(){return ya(this.gridOptions.suppressCsvExport)},t.prototype.isAllowShowChangeAfterFilter=function(){return ya(this.gridOptions.allowShowChangeAfterFilter)},t.prototype.isSuppressExcelExport=function(){return ya(this.gridOptions.suppressExcelExport)},t.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ya(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},t.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},t.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},t.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},t.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},t.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},t.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},t.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},t.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},t.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},t.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},t.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},t.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},t.prototype.isTreeData=function(){return!!ya(this.gridOptions.treeData)&&re.assertRegistered(Jt.RowGroupingModule,"Tree Data")},t.prototype.isValueCache=function(){return ya(this.gridOptions.valueCache)},t.prototype.isValueCacheNeverExpires=function(){return ya(this.gridOptions.valueCacheNeverExpires)},t.prototype.isDeltaSort=function(){return ya(this.gridOptions.deltaSort)},t.prototype.isAggregateOnlyChangedColumns=function(){return ya(this.gridOptions.aggregateOnlyChangedColumns)},t.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},t.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},t.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},t.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},t.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},t.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},t.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},t.prototype.getViewportRowModelPageSize=function(){return va(this.gridOptions.viewportRowModelPageSize,5)},t.prototype.getViewportRowModelBufferSize=function(){return(t=this.gridOptions.viewportRowModelBufferSize)>=0?t:5;var t},t.prototype.isServerSideSortingAlwaysResets=function(){return ya(this.gridOptions.serverSideSortingAlwaysResets)},t.prototype.isServerSideFilteringAlwaysResets=function(){return ya(this.gridOptions.serverSideFilteringAlwaysResets)},t.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},t.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},t.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},t.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},t.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},t.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},t.prototype.getClipboardDeliminator=function(){return E(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},t.prototype.setProperty=function(t,e,n){void 0===n&&(n=!1);var r=this.gridOptions,o=r[t];(n||o!==e)&&(r[t]=e,this.propertyEventService.dispatchEvent({type:t,currentValue:e,previousValue:o}))},t.prototype.addLayoutElement=function(t){this.layoutElements.push(t),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e=t===ne.DOM_LAYOUT_AUTO_HEIGHT,n=t===ne.DOM_LAYOUT_PRINT,r=t===ne.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(t){In(t,"ag-layout-auto-height",e),In(t,"ag-layout-normal",r),In(t,"ag-layout-print",n)}))},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},t.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return null!=t&&t>=0?t:20},t.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},t.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},t.prototype.doesExternalFilterPass=function(t){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},t.prototype.getTooltipShowDelay=function(){var t=this.gridOptions.tooltipShowDelay;return E(t)?(t<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,t)):null},t.prototype.isTooltipMouseTrack=function(){return ya(this.gridOptions.tooltipMouseTrack)},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&E(this.gridOptions.getDocument)&&(t=this.gridOptions.getDocument()),t&&E(t)?t:document},t.prototype.getMinColWidth=function(){var t=this.gridOptions.minColWidth;if(E(t)&&t>e.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var n=this.getFromTheme(null,"headerCellMinWidth");return E(n)?Math.max(n,e.MIN_COL_WIDTH):e.MIN_COL_WIDTH},t.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},t.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},t.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"==typeof t?t<0&&(xt((function(){return console.warn("ag-Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=ne.ROW_BUFFER_SIZE,t},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Rn();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:ke.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),t.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),t.defaultColDef||(t.defaultColDef={}),null==t.defaultColDef.floatingFilter&&(t.defaultColDef.floatingFilter=!0)),t.rowDeselection&&console.warn("ag-Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.");var e=function(e,n,r){null!=t[e]&&(console.warn("ag-grid: since version "+r+", '"+e+"' is deprecated / renamed, please use the new property name '"+n+"' instead."),null==t[n]&&(t[n]=t[e]))};if(e("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),e("deltaRowDataMode","immutableData","23.1.x"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("ag-Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),e("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("ag-Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var n=t.groupRowRendererParams;t.groupRowInnerRenderer&&(n.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(n.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(n.innerRendererFramework=t.groupRowInnerRendererFramework)}t.rememberGroupStateWhenNewData&&console.warn("ag-Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("ag-Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn("ag-Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of ag-Grid. If you need this to be set for every column use the defaultColDef property."),t.suppressEnterpriseResetOnNewColumns&&(console.warn("ag-Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),t.detailRowAutoHeight=!0)},t.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.isRowModelDefault()&&S(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(S(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),S(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},t.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var t=this.gridOptions.localeText;return function(e,n){return t&&t[e]?t[e]:n}},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var n=un.getCallbackForEvent(t);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](e)}},t.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||S(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},t.prototype.getRowHeightForNode=function(t,e){if(void 0===e&&(e=!1),"function"==typeof this.gridOptions.getRowHeight){if(e)return{height:this.getDefaultRowHeight(),estimated:!0};var n=this.gridOptions.getRowHeight({node:t,data:t.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(n))return{height:n,estimated:!1}}if(t.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var r=this.getDefaultRowHeight(),o=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,i=E(o)?Math.min(r,o):r;if(this.columnController.isAutoRowHeightActive()){if(e)return{height:o,estimated:!0};var s=this.autoHeightCalculator.getPreferredHeightForRow(t);return{height:Math.max(s,i),estimated:!1}}return{height:o,estimated:!1}},t.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},t.prototype.getFromTheme=function(t,e){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,e):t},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.MIN_COL_WIDTH=10,t.PROP_HEADER_HEIGHT="headerHeight",t.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",t.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",t.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",t.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",t.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",t.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",t.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",t.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",t.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",t.PROP_POPUP_PARENT="popupParent",t.PROP_DOM_LAYOUT="domLayout",t.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",da([Yt("gridOptions")],t.prototype,"gridOptions",void 0),da([Yt("columnController")],t.prototype,"columnController",void 0),da([Yt("eventService")],t.prototype,"eventService",void 0),da([Yt("environment")],t.prototype,"environment",void 0),da([Yt("autoHeightCalculator")],t.prototype,"autoHeightCalculator",void 0),da([fa(0,Qt("gridApi")),fa(1,Qt("columnApi"))],t.prototype,"agWire",null),da([Ut],t.prototype,"destroy",null),da([zt],t.prototype,"init",null),e=da([Kt("gridOptionsWrapper")],t)}(),_a=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var o=t.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,n):n&&e(o)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var r=t;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),e.forEach((function(t){return n.nodeIdsToColumns[r.id][t.getId()]=!0})),r=r.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,r=0;r<e;r++){var o=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(o),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return n[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!n[t.getId()]}))},t}(),Oa=(ba=function(t,e){return(ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ba(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ea=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oa(e,t),e.prototype.setBeans=function(t){this.logger=t.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,ke.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,ke.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return ct(this.selectedNodes,(function(e,n){n&&t.push(n)})),t},e.prototype.getSelectedRows=function(){var t=[];return ct(this.selectedNodes,(function(e,n){n&&n.data&&t.push(n.data)})),t},e.prototype.removeGroupsFromSelection=function(){var t=this;ct(this.selectedNodes,(function(e,n){n&&n.group&&(t.selectedNodes[n.id]=void 0)}))},e.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getRootNode();t||(t=new _a(!0,e)).setInactive(),t.forEachChangedNodeDepthFirst((function(t){t!==e&&t.calculateSelectedFromChildren()}))}},e.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},e.prototype.clearOtherNodes=function(t){var e=this,n={},r=0;return ct(this.selectedNodes,(function(o,i){i&&i.id!==t.id&&(r+=e.selectedNodes[i.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),e.groupSelectsChildren&&i.parent&&(n[i.parent.id]=i.parent))})),ct(n,(function(t,e){e.calculateSelectedFromChildren()})),r},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(this.selectedNodes[e.id]=e.isSelected()?e:void 0)},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){E(e)&&t.id!==e.id&&e&&E(this.selectedNodes[e.id])&&(this.selectedNodes[e.id]=e)},e.prototype.syncInNewRowNode=function(t){E(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var r=0,o=n.length;r<o;r++){var i=n[r];i.isSelected()?e.push(i):i.group&&i.children&&t(i.children)}}(t),e}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},e.prototype.setRowModel=function(t){this.rowModel=t},e.prototype.isEmpty=function(){var t=0;return ct(this.selectedNodes,(function(e,n){n&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var e=function(t){return t.selectThisNode(!1)},n=this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!n)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(e)}else ct(this.selectedNodes,(function(t,n){n&&e(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ke.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==ne.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var e=this.rowModel,n=function(t){return t.selectThisNode(!0)};t?e.forEachNodeAfterFilter(n):e.forEachNode(n),this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ke.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.selectNode=function(t,e){t&&t.setSelectedParams({newValue:!0,clearSelection:!e})},e.prototype.deselectIndex=function(t){var e=this.rowModel.getRow(t);this.deselectNode(e)},e.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(t,e){var n=this.rowModel.getRow(t);this.selectNode(n,e)},Ea([Yt("rowModel")],e.prototype,"rowModel",void 0),Ea([Yt("columnApi")],e.prototype,"columnApi",void 0),Ea([Yt("gridApi")],e.prototype,"gridApi",void 0),Ea([(n=Qt("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Ea([zt],e.prototype,"init",null),Ea([Kt("selectionController")],e);var n}(Se),Pa=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ta=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnController.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnController.getColumnGroup(t,e)},t.prototype.getOriginalColumnGroup=function(t){return this.columnController.getOriginalColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnController.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnController.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnController.getPrimaryColumn(t)},t.prototype.applyColumnState=function(t){return this.columnController.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnController.getColumnState()},t.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},t.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnController.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnController.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnController.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnController.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnController.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnController.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnController.setColumnsPinned(t,e,"api")},t.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},t.prototype.moveColumn=function(t,e){"number"==typeof t?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(t,e,"api")):this.columnController.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnController.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnController.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnController.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnController.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n){void 0===n&&(n=!0),this.columnController.setColumnWidths([{key:t,newWidth:e}],!1,n)},t.prototype.setColumnWidths=function(t,e){void 0===e&&(e=!0),this.columnController.setColumnWidths(t,!1,e)},t.prototype.setPivotMode=function(t){this.columnController.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},t.prototype.getSecondaryPivotColumn=function(t,e){return this.columnController.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnController.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnController.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnController.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnController.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnController.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnController.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnController.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnController.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnController.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnController.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnController.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnController.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnController.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnController.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnController.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},t.prototype.autoSizeColumn=function(t,e){return this.columnController.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){return this.columnController.autoSizeColumns(t,e,"api")},t.prototype.autoSizeAllColumns=function(t){this.columnController.autoSizeAllColumns(t,"api")},t.prototype.setSecondaryColumns=function(t){this.columnController.setSecondaryColumns(t,"api")},t.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},t.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(So.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.columnGroupOpened=function(t,e){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},t.prototype.hideColumns=function(t,e){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(t,!e,"api")},t.prototype.hideColumn=function(t,e){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(t,!e,"api")},t.prototype.setState=function(t){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},t.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},t.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},t.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},t.prototype.removeAggregationColumn=function(t){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(t,"api")},t.prototype.removeAggregationColumns=function(t){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(t,"api")},t.prototype.addAggregationColumn=function(t){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(t,"api")},t.prototype.addAggregationColumns=function(t){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(t,"api")},t.prototype.setColumnAggFunction=function(t,e){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(t,e,"api")},t.prototype.getDisplayNameForCol=function(t){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},t.prototype.setColumnState=function(t){return this.columnController.applyColumnState({state:t,applyOrder:!0},"api")},Pa([Yt("columnController")],t.prototype,"columnController",void 0),Pa([Ut],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Pa([Kt("columnApi")],t)}();!function(t){t[t.FILL=0]="FILL",t[t.RANGE=1]="RANGE"}(ma||(ma={})),function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(Ca||(Ca={}));var Ra,ka,Aa,Da,xa=(Da=function(t,e){return(Da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Da(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Na=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel"}(Ra||(Ra={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(ka||(ka={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(Aa||(Aa={}));var Ia,Fa,Ma,La,ja,Ga,Va,Wa,Ba,Ha,za,Ua,Ka,Ya,qa,Xa,Qa,Za,Ja,$a,tl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var n;return xa(e,t),n=e,e.prototype.init=function(){this.ePinnedIcon=uo("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=uo("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=uo("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=uo("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=uo("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=uo("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=uo("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=uo("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=uo("dropNotAllowed",this.gridOptionsWrapper,null)},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n,e)},e.prototype.removeDragSource=function(t){var e=I(this.dragSourceAndParamsList,(function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),K(this.dragSourceAndParamsList,e))},e.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(t,e){var n=this,r=this.getHorizontalDirection(t),o=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var i=this.dropTargets.filter((function(e){return n.isMouseOnDropTarget(t,e)})),s=i.length;if(0!==s){var a=1===s?i[0]:i.reduce((function(t,e){if(!t)return e;var n=t.getContainer(),r=e.getContainer();return n.contains(r)?e:t}));if(a!==this.lastDropTarget)this.leaveLastTargetIfExists(t,r,o,e),this.enterDragTargetIfExists(a,t,r,o,e),this.lastDropTarget=a;else if(a&&a.onDragging){var l=this.createDropTargetEvent(a,t,r,o,e);a.onDragging(l)}}},e.prototype.enterDragTargetIfExists=function(t,e,n,r,o){if(t){if(t.onDragEnter){var i=this.createDropTargetEvent(t,e,n,r,o);t.onDragEnter(i)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(t,e,n,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,t,e,n,r);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},e.prototype.getAllContainersFromDropTarget=function(t){var e=[t.getContainer()],n=t.getSecondaryContainers?t.getSecondaryContainers():null;return n&&(e=e.concat(n)),e},e.prototype.isMouseOnDropTarget=function(t,e){var n=!1;return this.getAllContainersFromDropTarget(e).filter((function(t){return t})).forEach((function(e){var r=e.getBoundingClientRect();0!==r.width&&0!==r.height&&t.clientX>=r.left&&t.clientX<=r.right&&t.clientY>=r.top&&t.clientY<=r.bottom&&(n=!0)})),n&&e.isInterestedIn(this.dragSource.type)},e.prototype.addDropTarget=function(t){this.dropTargets.push(t)},e.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},e.prototype.findExternalZone=function(t){return I(this.dropTargets.filter((function(t){return t.external})),(function(e){return e.getContainer()===t.getContainer()}))},e.prototype.getHorizontalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?Aa.Left:Aa.Right},e.prototype.getVerticalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?ka.Up:ka.Down},e.prototype.createDropTargetEvent=function(t,e,n,r,o){var i=t.getContainer(),s=i.getBoundingClientRect();return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:r,hDirection:n,dragSource:this.dragSource,fromNudge:o,dragItem:this.dragItem,api:this.gridApi,columnApi:this.columnApi,dropZoneTarget:i}},e.prototype.positionGhost=function(t){var e=this.eGhost;if(e){var n=e.getBoundingClientRect().height,r=An()-2,o=Dn()-2,i=t.pageY-n/2,s=t.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=window.pageYOffset||a.documentElement.scrollTop,u=window.pageXOffset||a.documentElement.scrollLeft;r>0&&s+e.clientWidth>r+u&&(s=r+u-e.clientWidth),s<0&&(s=0),o>0&&i+e.clientHeight>o+l&&(i=o+l-e.clientHeight),i<0&&(i=0),e.style.left=s+"px",e.style.top=i+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=tr(n.GHOST_TEMPLATE);var t=this.environment.getTheme().theme;t&&xn(this.eGhost,t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),r=this.dragSource.dragItemName;Ft(r)&&(r=r()),e.innerHTML=Le(r)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsWrapper.getDocument();this.eGhostParent=o.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(t,e){void 0===e&&(e=!1),Qn(this.eGhostIcon);var r=null;switch(t||(t=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),t){case n.ICON_PINNED:r=this.ePinnedIcon;break;case n.ICON_MOVE:r=this.eMoveIcon;break;case n.ICON_LEFT:r=this.eLeftIcon;break;case n.ICON_RIGHT:r=this.eRightIcon;break;case n.ICON_GROUP:r=this.eGroupIcon;break;case n.ICON_AGGREGATE:r=this.eAggregateIcon;break;case n.ICON_PIVOT:r=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:r=this.eHideIcon}In(this.eGhostIcon,"ag-shake-left-to-right",e),r===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||r&&this.eGhostIcon.appendChild(r)},e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Na([Yt("dragService")],e.prototype,"dragService",void 0),Na([Yt("environment")],e.prototype,"environment",void 0),Na([Yt("columnApi")],e.prototype,"columnApi",void 0),Na([Yt("gridApi")],e.prototype,"gridApi",void 0),Na([zt],e.prototype,"init",null),Na([Ut],e.prototype,"clearDragSourceParamsList",null),n=Na([Kt("dragAndDropService")],e)}(Se),el=($a=function(t,e){return($a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rl=function(t){function e(e,n,r,o){var i=t.call(this,'<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>')||this;return i.rowNode=e,i.column=n,i.cellValueFn=r,i.beans=o,i}return el(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(co("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new sl(this,this.beans,this.rowNode,this.column):new il(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)},e.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var t=this.beans.selectionController.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t.length:1},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&xt((function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},e.prototype.addDragSource=function(){var t=this,e={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValueFn()},n=this.column.getColDef().rowDragText,r={type:Ra.RowDrag,eElement:this.getGui(),dragItemName:function(){var r=t.getSelectedCount();return n?n(e,r):1===r?t.cellValueFn():r+" rows"},getDragItem:function(){return e},dragStartPixels:0,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()};this.beans.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return t.beans.dragAndDropService.removeDragSource(r)}))},nl([zt],e.prototype,"postConstruct",null),e}(Go),ol=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.column=r,o.rowNode=n,o}return el(e,t),e.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var e=this.column.isRowDrag(this.rowNode);Ft(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(e)):this.parent.setDisplayed(e)}},e}(Se),il=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o)||this;return i.beans=n,i}return el(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},nl([zt],e.prototype,"postConstruct",null),e}(ol),sl=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o)||this;return i.beans=n,i}return el(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,ke.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ke.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ke.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridPanel.getRowDragFeature(),e=t&&t.shouldPreventRowMove(),n=this.beans.gridOptionsWrapper.isSuppressRowDrag(),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(e&&!r||n)},nl([zt],e.prototype,"postConstruct",null),e}(ol),al=(Ja=function(t,e){return(Ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ja(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ll=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.getGuiCalledOnChild=!1,n.cellEditor=e,n}return al(e,t),e.prototype.onKeyDown=function(t){fo(this.gridOptionsWrapper,t,this.params.node,this.params.column,!0)||this.params.onKeyDown(t)},e.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),t.prototype.getGui.call(this)},e.prototype.init=function(n){var r=this;this.params=n,this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){return r.destroyBean(r.cellEditor)})),this.addManagedListener(t.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},e.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},e.prototype.getValue=function(){return this.cellEditor.getValue()},e.prototype.isCancelBeforeStart=function(){return!!this.cellEditor.isCancelBeforeStart&&this.cellEditor.isCancelBeforeStart()},e.prototype.isCancelAfterEnd=function(){return!!this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()},e.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},e.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},e.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",e}(Wo),ul=(Za=function(t,e){return(Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Za(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cl=function(t){function e(e,n,r,o,i){var s=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=e,s.column=n,s.cellValue=r,s.beans=o,s.eCell=i,s}return ul(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(co("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag,r=bn();r||t.dataTransfer.setDragImage(this.eCell,0,0),n?n({rowNode:this.rowNode,dragEvent:t}):function(){try{var n=JSON.stringify(e.rowNode.data);r?t.dataTransfer.setData("text",n):(t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n))}catch(o){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([zt],e.prototype,"postConstruct",null),e}(Go),pl=(Qa=function(t,e){return(Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hl=function(){return(hl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dl=function(t){function e(e,n,r,o,i,s,a){var l=t.call(this)||this;return l.hasChartRange=!1,l.editingCell=!1,l.suppressRefreshCell=!1,l.tooltipFeatureEnabled=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=e,l.beans=n,l.column=r,l.rowNode=o,l.rowComp=i,l.autoHeightCell=s,l.printLayout=a,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&n.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController&&(l.rangeCount=l.beans.rangeController.getCellRangeCount(l.cellPosition),l.hasChartRange=l.getHasChartRange()),l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return pl(e,t),e.prototype.getCreateTemplate=function(){var t=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',e=[],n=this.column,r=this.getCellWidth(),o=this.modifyLeftForPrintLayout(this.getCellLeft()),i=this.getInitialValueToRender(),s=Ot(this.column,"colDef.template",null)?i:Le(i);this.tooltip=this.getToolTip();var a=Le(this.tooltip),l=Le(n.getId()),u="",c="",p=this.preProcessStylesFromColDef(),h=this.getInitialCssClasses(),d=this.getStylesForRowSpanning(),f=Le(this.beans.columnController.getAriaColumnIndex(this.column).toString());return e.push("<div"),e.push(' tabindex="-1"'),e.push(" "+t),e.push(' role="gridcell"'),e.push(' aria-colindex="'+f+'"'),e.push(' comp-id="'+this.getCompId()+'" '),e.push(' col-id="'+l+'"'),e.push(' class="'+Le(h.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&E(a)&&e.push(' title="'+a+'"'),this.rangeSelectionEnabled&&e.push(' aria-selected="'+(this.rangeCount?"true":"false")+'"'),this.usingWrapper&&(u='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                    <span ref="eCellValue" role="presentation" class="ag-cell-value" '+t+">",c="</span></div>"),e.push(' style="width: '+Number(r)+"px; left: "+Number(o)+"px; "+Le(p)+" "+Le(d)+'">'),e.push(u),E(s,!0)&&e.push(s),e.push(c),e.push("</div>"),e.join("")},e.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},e.prototype.afterAttached=function(){var t='[comp-id="'+this.getCompId()+'"]',e=this.eParentRow.querySelector(t);this.setGui(e),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),E(this.tooltip)&&this.createTooltipFeatureIfNeeded()},e.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new Fo(this),this.beans.context),this.tooltipFeatureEnabled=!0)},e.prototype.onColumnHover=function(){var t=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass("ag-column-hover",t)},e.prototype.onCellChanged=function(t){t.column===this.column&&this.refreshCell({})},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?V(this.colsSpanning):this.column).getLeft()},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},e.prototype.onFlashCells=function(t){var e=this.beans.cellPositionUtils.createId(this.cellPosition);t.cells[e]&&this.animateCell("highlight")},e.prototype.setupColSpan=function(){S(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,ke.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,r=this.column.getPinned(),o=0;n&&o<t&&(e.push(n),(n=this.beans.columnController.getDisplayedColAfter(n))&&!S(n))&&r===n.getPinned();o++);return e},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();W(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.refreshAriaIndex=function(){var t=this.beans.columnController.getAriaColumnIndex(this.column);Xr(this.getGui(),t)},e.prototype.getInitialCssClasses=function(){var t=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||t.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&t.push("ag-cell-focus"),this.firstRightPinned&&t.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&t.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&t.push("ag-column-hover"),$(t,this.preProcessClassesFromColDef()),$(t,this.preProcessCellClassRules()),$(t,this.getInitialRangeClasses()),this.usingWrapper||t.push("ag-cell-value"),this.wrapText=1==this.column.getColDef().wrapText,this.wrapText&&t.push("ag-cell-wrap-text"),t},e.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"==typeof this.cellRendererGui?this.cellRendererGui:"";var t=this.getComponentHolder();return t.template?t.template:t.templateUrl?this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},e.prototype.getRenderedRow=function(){return this.rowComp},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.onNewColumnsLoaded=function(){this.postProcessWrapText(),this.postProcessCellClassRules()},e.prototype.postProcessWrapText=function(){var t=1==this.column.getColDef().wrapText;t!==this.wrapText&&(this.wrapText=t,this.addOrRemoveCssClass("ag-cell-wrap-text",this.wrapText))},e.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editingCell){var e=this.getComponentHolder(),n=t&&t.newData,r=t&&t.suppressFlash||e.suppressCellFlash,o=t&&t.forceRefresh,i=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(i,this.value);if(o||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!n&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!r&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||e.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},e.prototype.flashCell=function(t){this.animateCell("data-changed",t&&t.flashDelay,t&&t.fadeDelay)},e.prototype.animateCell=function(t,e,n){var r=this,o="ag-cell-"+t,i="ag-cell-"+t+"-animation",s=this.getGui(),a=this.beans.gridOptionsWrapper;e||(e=a.getCellFlashDelay()),E(n)||(n=a.getCellFadeDelay()),this.addCssClass(o),this.removeCssClass(i),window.setTimeout((function(){r.removeCssClass(o),r.addCssClass(i),s.style.transition="background-color "+n+"ms",window.setTimeout((function(){r.removeCssClass(i),s.style.removeProperty("transition")}),n)}),e)},e.prototype.replaceContentsAfterRefresh=function(){Qn(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},e.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=hl({},this.rowNode.data),this.angular1Compile())},e.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var t=this.getGui();if(!t.classList.contains("ng-scope")||0===t.childElementCount){var e=this.beans.$compile(t)(this.scope);this.addDestroyFunc((function(){return e.remove()}))}}},e.prototype.postProcessStylesFromColDef=function(){var t=this.processStylesFromColDef();t&&ur(this.getGui(),t)},e.prototype.preProcessStylesFromColDef=function(){return Tr(this.processStylesFromColDef())},e.prototype.processStylesFromColDef=function(){var t=this.getComponentHolder();if(t.cellStyle){var e=void 0;if("function"==typeof t.cellStyle){var n={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};e=(0,t.cellStyle)(n)}else e=t.cellStyle;return e}},e.prototype.postProcessClassesFromColDef=function(){var t=this;this.processClassesFromColDef((function(e){return t.addCssClass(e)}))},e.prototype.preProcessClassesFromColDef=function(){var t=[];return this.processClassesFromColDef((function(e){return t.push(e)})),t},e.prototype.processClassesFromColDef=function(t){var e=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(e,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},t)},e.prototype.putDataIntoCellAfterRefresh=function(){var t=this.getComponentHolder();if(t.template)this.eCellValue.innerHTML=t.template;else if(t.templateUrl){var e=this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0));e&&(this.eCellValue.innerHTML=e)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var n=this.getValueToUse();null!=n&&(this.eCellValue.innerHTML=Le(n)||"")}},e.prototype.attemptCellRendererRefresh=function(){if(S(this.cellRenderer)||!this.cellRenderer||S(this.cellRenderer.refresh))return!1;var t=this.createCellRendererParams(),e=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,t),n=this.cellRenderer.refresh(e);return!0===n||void 0===n},e.prototype.refreshToolTip=function(){var t=this.getToolTip();if(this.tooltip!==t){this.createTooltipFeatureIfNeeded();var e=E(t);e&&this.tooltip===t.toString()||(this.tooltip=t,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(e?this.eCellValue.setAttribute("title",this.tooltip):this.eCellValue.removeAttribute("title")))}},e.prototype.valuesAreEqual=function(t,e){var n=this.getComponentHolder(),r=n?n.equals:null;return r?r(t,e):t===e},e.prototype.getToolTip=function(){var t=this.getComponentHolder(),e=this.rowNode.data;if(t.tooltipField&&E(e))return Pt(e,t.tooltipField,this.column.isTooltipFieldContainsDots());var n=t.tooltipValueGetter;return n?n(hl(hl({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},e.prototype.getTooltipParams=function(){return{location:"cell",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},e.prototype.getTooltipText=function(t){return void 0===t&&(t=!0),t?Le(this.tooltip):this.tooltip},e.prototype.processCellClassRules=function(t,e){var n=this.getComponentHolder();this.beans.stylingService.processClassRules(n.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},t,e)},e.prototype.postProcessCellClassRules=function(){var t=this;this.processCellClassRules((function(e){return t.addCssClass(e)}),(function(e){return t.removeCssClass(e)}))},e.prototype.preProcessCellClassRules=function(){var t=[];return this.processCellClassRules((function(e){return t.push(e)}),(function(t){})),t},e.prototype.setUsingWrapper=function(){var t=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var e="function"==typeof t.rowDrag,n="function"==typeof t.dndSource;this.includeSelectionComponent="function"==typeof t.checkboxSelection||!0===t.checkboxSelection,this.includeRowDraggingComponent=e||!0===t.rowDrag,this.includeDndSourceComponent=n||!0===t.dndSource;var r=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=r||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},e.prototype.chooseCellRenderer=function(){var t=this.getComponentHolder();if(t.template||t.templateUrl)this.usingCellRenderer=!1;else{var n=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(t,"pinnedRowCellRenderer",n)?(this.cellRendererType=e.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(t,"cellRenderer",n)?(this.cellRendererType=e.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},e.prototype.createCellRendererInstance=function(t){var n=this;if(void 0===t&&(t=!1),this.usingCellRenderer){var r=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(r||o||this.autoHeightCell)&&(t=!1);var i=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===e.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){n.createCellRendererFunc=null;var t=n.beans.userComponentFactory.newCellRenderer(n.getComponentHolder(),i,!a);t&&t.then(s)},t?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},e.prototype.afterCellRendererCreated=function(t,e){this.isAlive()&&t===this.cellRendererVersion?(this.cellRenderer=e,this.cellRendererGui=this.cellRenderer.getGui(),S(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(e)},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(e,n){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),t.rowComp&&t.rowComp.addEventListener(e,n)}}},e.prototype.formatValue=function(t){var e=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,t);return null!=e?e:t},e.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},e.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},e.prototype.getValue=function(){var t=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),e=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),r=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,e&&n&&!r)},e.prototype.onMouseEvent=function(t,e){if(!he(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.getComponentHolder(),n=this.createEvent(t,ke.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(n)}),0)},e.prototype.createEvent=function(t,e){var n={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,type:e,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},e.prototype.onMouseOut=function(t){var e=this.createEvent(t,ke.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(t){var e=this.createEvent(t,ke.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])},e.prototype.onCellDoubleClicked=function(t){var e=this.getComponentHolder(),n=this.createEvent(t,ke.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},e.prototype.startRowOrCellEdit=function(t,e){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(t,e,this):this.startEditingIfEnabled(t,e,!0)},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.startEditingIfEnabled=function(t,e,n){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var r=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),o=this.createCellEditorParams(t,e,n);this.createCellEditor(o).then(r),S(this.cellEditor)&&n&&this.focusCell(!0)}},e.prototype.createCellEditor=function(t){var e=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),t).then((function(n){var r=n;if(!r.isPopup||!r.isPopup())return r;e.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=new ll(r);return e.beans.context.createBean(o),o.init(t),o}))},e.prototype.afterCellEditorCreated=function(t,e){if(t===this.cellEditorVersion&&this.editingCell){if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void(this.editingCell=!1);if(!e.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),e.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(e),void(this.editingCell=!1);this.cellEditor=e,this.cellEditorInPopup=void 0!==e.isPopup&&e.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),e.afterGuiAttached&&e.afterGuiAttached();var n=this.createEvent(null,ke.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(n)}else this.beans.context.destroyBean(e)},e.prototype.addInCellEditor=function(){var t=this.getGui();t.contains(document.activeElement)&&t.focus(),this.clearCellElement(),this.cellEditor&&t.appendChild(this.cellEditor.getGui()),this.angular1Compile()},e.prototype.addPopupCellEditor=function(){var t=this,e=this.cellEditor&&this.cellEditor.getGui();if(e){var n=this.beans.popupService,r=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus(),o=this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over",i={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:e,keepWithinBounds:!0},s="under"===o?n.positionPopupUnderComponent.bind(n,i):n.positionPopupOverComponent.bind(n,i),a=n.addPopup({modal:r,eChild:e,closeOnEsc:!0,closedCallback:function(){t.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:s});a&&(this.hideEditorPopup=a.hideFunc),this.angular1Compile()}},e.prototype.onPopupEditorClosed=function(){this.editingCell&&this.stopRowOrCellEdit()},e.prototype.setInlineEditingClass=function(){if(this.isAlive()){var t=this.editingCell&&!this.cellEditorInPopup,e=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass("ag-cell-inline-editing",t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e),In(this.getGui().parentNode,"ag-row-inline-editing",t),In(this.getGui().parentNode,"ag-row-not-inline-editing",!t)}},e.prototype.createCellEditorParams=function(t,e,n){return{value:this.getValue(),keyPress:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.parseValue=function(t){var e=this.getComponentHolder(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},r=e.valueParser;return E(r)?this.beans.expressionService.evaluate(r,n):t},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,t)},e.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},e.prototype.isEditing=function(){return this.editingCell},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;switch(e){case Xo.ENTER:this.onEnterKeyDown(t);break;case Xo.F2:this.onF2KeyDown();break;case Xo.ESCAPE:this.onEscapeKeyDown();break;case Xo.TAB:this.onTabKeyDown(t);break;case Xo.BACKSPACE:case Xo.DELETE:this.onBackspaceOrDeleteKeyPressed(e);break;case Xo.DOWN:case Xo.UP:case Xo.RIGHT:case Xo.LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},e.prototype.onNavigationKeyPressed=function(t,e){this.editingCell||(t.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(e):this.beans.rowRenderer.navigateToNextCell(t,e,this.cellPosition,!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeController){var e=this.beans.rangeController.extendLatestRangeInDirection(t);e&&this.beans.rowRenderer.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.rowRenderer.onTabKeyDown(this,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t){this.editingCell||this.startRowOrCellEdit(t)},e.prototype.onEnterKeyDown=function(t){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,Xo.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(Xo.ENTER),this.editingCell&&t.preventDefault())},e.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,Xo.DOWN,this.cellPosition,!1)},e.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(Xo.F2)},e.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},e.prototype.onKeyPress=function(t){if(ve(t)===this.getGui()&&!this.editingCell){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):ho(t)&&(this.startRowOrCellEdit(null,e),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsWrapper;if(!this.editingCell&&e.isRowSelection()){var n=this.rowNode.isSelected(),r=!n;if(r||!e.isSuppressRowDeselection()){var o=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:r,rangeSelect:t.shiftKey,groupSelectsFiltered:o});void 0===n&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:o})}}t.preventDefault()},e.prototype.onMouseDown=function(t){var e=t.ctrlKey,n=t.metaKey,r=t.shiftKey,o=t.target,i=this.beans,s=i.eventService,a=i.rangeController;if(!this.isRightClickInExistingRange(t)){if(!r||a&&!a.getCellRanges().length){var l=(bn()||wn())&&!this.editingCell&&!Ln(o);this.focusCell(l)}else a&&t.preventDefault();if(!this.containsWidget(o)){if(a){var u=this.cellPosition;r?a.extendLatestRangeToCell(u):a.setRangeToCell(u,e||n)}s.dispatchEvent(this.createEvent(t,ke.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeController;return!(!e||!e.isCellInAnyRange(this.getCellPosition())||2!==t.button)},e.prototype.containsWidget=function(t){return Wn(t,"ag-selection-checkbox",3)},e.prototype.isDoubleClickOnIPad=function(){if(!Sn()||fe("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,n=e.eventService,r=e.gridOptionsWrapper,o=this.createEvent(t,ke.EVENT_CELL_CLICKED);n.dispatchEvent(o);var i=this.getComponentHolder();i.onCellClicked&&window.setTimeout((function(){return i.onCellClicked(o)}),0),(r.isSingleClickEdit()||i.singleClickEdit)&&!r.isSuppressClickEdit()&&this.startRowOrCellEdit()},e.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.getParentRow=function(){return this.eParentRow},e.prototype.setParentRow=function(t){this.eParentRow=t},e.prototype.getColumn=function(){return this.column},e.prototype.getComponentHolder=function(){return this.column.getColDef()},e.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),t.prototype.destroy.call(this)},e.prototype.onLeftChanged=function(){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=t+"px",this.refreshAriaIndex()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.printLayout||this.column.getPinned()===ne.PINNED_LEFT)return t;var e=this.beans.columnController.getPinnedLeftContainerWidth();return this.column.getPinned()===ne.PINNED_RIGHT?e+this.beans.columnController.getBodyContainerWidth()+(t||0):e+(t||0)},e.prototype.onWidthChanged=function(){var t=this.getCellWidth();this.getGui().style.width=t+"px"},e.prototype.getRangeBorders=function(){var t,e,n=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,i=!1,s=!1,a=!1,l=this.cellPosition.column,u=this.beans,c=u.rangeController,p=u.columnController;r?(t=p.getDisplayedColAfter(l),e=p.getDisplayedColBefore(l)):(t=p.getDisplayedColBefore(l),e=p.getDisplayedColAfter(l));var h=c.getCellRanges().filter((function(t){return c.isCellInSpecificRange(n.cellPosition,t)}));t||(a=!0),e||(i=!0);for(var d=0;d<h.length&&!(o&&i&&s&&a);d++){var f=h[d],g=c.getRangeStartRow(f),y=c.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(o=!0),!s&&this.beans.rowPositionUtils.sameRow(y,this.cellPosition)&&(s=!0),!a&&t&&f.columns.indexOf(t)<0&&(a=!0),!i&&e&&f.columns.indexOf(e)<0&&(i=!0)}return{top:o,right:i,bottom:s,left:a}},e.prototype.getInitialRangeClasses=function(){var t=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return t;t.push("ag-cell-range-selected"),this.hasChartRange&&t.push("ag-cell-range-chart");var e=Math.min(this.rangeCount,4);if(t.push("ag-cell-range-selected-"+e),this.isSingleCell()&&t.push("ag-cell-range-single-cell"),this.rangeCount>0){var n=this.getRangeBorders();n.top&&t.push("ag-cell-range-top"),n.right&&t.push("ag-cell-range-right"),n.bottom&&t.push("ag-cell-range-bottom"),n.left&&t.push("ag-cell-range-left")}return this.selectionHandle&&t.push("ag-cell-range-handle"),t},e.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},e.prototype.onRangeSelectionChanged=function(){var t=this.beans.rangeController;if(t){var e=this.rangeCount,n=t.getCellRangeCount(this.cellPosition),r=this.getGui();e!==n&&(this.addOrRemoveCssClass("ag-cell-range-selected",0!==n),this.addOrRemoveCssClass("ag-cell-range-selected-1",1===n),this.addOrRemoveCssClass("ag-cell-range-selected-2",2===n),this.addOrRemoveCssClass("ag-cell-range-selected-3",3===n),this.addOrRemoveCssClass("ag-cell-range-selected-4",n>=4),this.rangeCount=n),$r(r,this.rangeCount>0);var o=this.getHasChartRange();o!==this.hasChartRange&&(this.hasChartRange=o,this.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.refreshHandle()}},e.prototype.getHasChartRange=function(){var t=this.beans.rangeController;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every((function(t){return Z([Ca.DIMENSION,Ca.VALUE],t.type)}))},e.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=t.rangeController,r=n.getCellRanges(),o=r.length;if(this.rangeCount<1||o<1)return!1;var i=V(r),s=this.getCellPosition(),a=1===o&&(e.isEnableFillHandle()||e.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var l=r[0].type===Ca.DIMENSION&&n.isCellInSpecificRange(s,r[0]);this.addOrRemoveCssClass("ag-cell-range-chart-category",l),a=i.type===Ca.VALUE}return a&&null!=i.endRow&&n.isContiguousRange(i)&&n.isBottomRightCell(i,s)},e.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=V(t.rangeController.getCellRanges()).type,r=e.isEnableFillHandle()&&S(n)?ma.FILL:ma.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this)},e.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},e.prototype.refreshHandle=function(){if(this.beans.rangeController){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},e.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.right,r=!e&&t.bottom,o=!e&&t.left;this.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.addOrRemoveCssClass("ag-cell-range-right",n),this.addOrRemoveCssClass("ag-cell-range-bottom",r),this.addOrRemoveCssClass("ag-cell-range-left",o)},e.prototype.onFirstRightPinnedChanged=function(){var t=this.column.isFirstRightPinned();this.firstRightPinned!==t&&(this.firstRightPinned=t,this.addOrRemoveCssClass("ag-cell-first-right-pinned",t))},e.prototype.onLastLeftPinnedChanged=function(){var t=this.column.isLastLeftPinned();this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.addOrRemoveCssClass("ag-cell-last-left-pinned",t))},e.prototype.populateTemplate=function(){this.usingWrapper?(this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eCellValue=this.getGui()},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.addRowDragging=function(){var t=this,e=this.beans.gridOptionsWrapper.isPagination(),n=this.beans.gridOptionsWrapper.isRowDragManaged(),r=this.beans.gridOptionsWrapper.isRowModelDefault();if(n){if(!r)return void xt((function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(e)return void xt((function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var o=new rl(this.rowNode,this.column,(function(){return t.value}),this.beans);this.createManagedBean(o,this.beans.context),this.eCellWrapper.insertBefore(o.getGui(),this.eCellValue)},e.prototype.addDndSource=function(){var t=new cl(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(t,this.beans.context),this.eCellWrapper.insertBefore(t.getGui(),this.eCellValue)},e.prototype.addSelectionCheckbox=function(){var t=this,e=new Ni;this.beans.context.createBean(e);var n=this.getComponentHolder().checkboxSelection;e.init({rowNode:this.rowNode,column:this.column,visibleFunc:n="function"==typeof n?n:null}),this.addDestroyFunc((function(){return t.beans.context.destroyBean(e)})),this.eCellWrapper.insertBefore(e.getGui(),this.eCellValue)},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsWrapper.setDomData(n,e.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return t.beans.gridOptionsWrapper.setDomData(n,e.DOM_DATA_KEY_CELL_COMP,null)}))},e.prototype.isSingleCell=function(){var t=this.beans.rangeController;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},e.prototype.onCellFocused=function(t){var e=this.beans.focusController.isCellFocused(this.cellPosition);if(e!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass("ag-cell-focus",e),this.cellFocused=e),e&&t&&t.forceBrowserFocus){var n=this.getFocusableElement();n.focus(),document.activeElement&&document.activeElement!==document.body||n.focus()}var r=this.beans.gridOptionsWrapper.isFullRowEdit();e||r||!this.editingCell||this.stopRowOrCellEdit()},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(t):this.stopEditing(t)},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.editingCell)if(this.cellEditor){var e,n=this.getValue(),r=!1;if(t||this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(e=this.cellEditor.getValue(),r=!0),this.editingCell=!1,this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else{this.clearCellElement();var o=this.getGui();if(this.usingWrapper)o.appendChild(this.eCellWrapper);else if(this.cellRenderer){var i=this.cellRendererGui;i&&o.appendChild(i)}}this.setInlineEditingClass(),this.refreshHandle(),r&&e!==n&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,e),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var s=hl(hl({},this.createEvent(null,ke.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:e});this.beans.eventService.dispatchEvent(s)}else this.editingCell=!1},e.prototype.clearCellElement=function(){var t=this.getGui();t.contains(document.activeElement)&&!bn()&&t.focus({preventScroll:!0}),Qn(t)},e.DOM_DATA_KEY_CELL_COMP="cellComp",e.CELL_RENDERER_TYPE_NORMAL="cellRenderer",e.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",e}(Go),fl=function(){return(fl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gl=function(){function t(){}return t.createChildScopeOrNull=function(t,e,n){if(!n.isAngularCompileRows())return null;var r=e.$new();return r.data=fl({},t.data),r.rowNode=t,r.context=n.getContext(),{scope:r,scopeDestroyFunc:function(){r.$destroy(),r.data=null,r.rowNode=null,r.context=null}}},t}(),yl=(Xa=function(t,e){return(Xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vl=function(t){function e(e,n,r,o,i,s,a,l,u,c,p){var h=t.call(this)||this;return h.eAllRowContainers=[],h.fullWidthRowDestroyFuncs=[],h.active=!0,h.rowContainerReadyCount=0,h.refreshNeeded=!1,h.columnRefreshPending=!1,h.cellComps={},h.createSecondPassFuncs=[],h.removeFirstPassFuncs=[],h.removeSecondPassFuncs=[],h.initialised=!1,h.elementOrderChanged=!1,h.lastMouseDownOnDragger=!1,h.parentScope=e,h.beans=a,h.bodyContainerComp=n,h.pinnedLeftContainerComp=r,h.pinnedRightContainerComp=o,h.fullWidthContainerComp=i,h.rowNode=s,h.rowIsEven=h.rowNode.rowIndex%2==0,h.paginationPage=h.beans.paginationProxy.getCurrentPage(),h.useAnimationFrameForCreate=u,h.printLayout=c,h.embedFullWidth=p,h.setAnimateFlags(l),h}return yl(e,t),e.prototype.init=function(){var t=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.setupAngular1Scope(),this.rowLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){t.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){t.eAllRowContainers.forEach((function(t){return Nn(t,"ag-opacity-zero")}))}))},e.prototype.setupAngular1Scope=function(){var t=gl.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);t&&(this.scope=t.scope,this.addDestroyFunc(t.scopeDestroyFunc))},e.prototype.createTemplate=function(t,e){void 0===e&&(e=null);var n=[],r=this.rowNode.rowHeight,o=this.getInitialRowClasses(e).join(" "),i=Le(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),l=Le(a),u=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount();return n.push("<div"),n.push(' role="row"'),n.push(' row-index="'+c+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),n.push(i?' row-id="'+i+'"':""),n.push(a?' row-business-key="'+l+'"':""),n.push(' comp-id="'+this.getCompId()+'"'),n.push(' class="'+o+'"'),this.beans.gridOptionsWrapper.isRowSelection()&&n.push(' aria-selected="'+(this.rowNode.isSelected()?"true":"false")+'"'),this.rowNode.group&&n.push(" aria-expanded="+(this.rowNode.expanded?"true":"false")),n.push(' style="height: '+r+"px; "+u+" "+s+'">'),n.push(t),n.push("</div>"),n.join("")},e.prototype.getCellForCol=function(t){var e=this.cellComps[t.getColId()];return e?e.getGui():null},e.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},e.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var t=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,e=this.applyPaginationOffset(t),n=this.rowNode.isRowPinned()?e:this.beans.maxDivHeightScaler.getRealPixelPosition(e);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+n+"px; ":"transform: translateY("+n+"px);"},e.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof t)return t(this.rowNode)},e.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},e.prototype.lazyCreateCells=function(t,e){if(this.active){var n=this.createCells(t);e.innerHTML=n.template,this.callAfterRowAttachedOnCells(n.cellComps,e),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},e.prototype.createRowContainer=function(t,e,n){var r=this,o=this.useAnimationFrameForCreate,i=o?{cellComps:[],template:""}:this.createCells(e),s=this.createTemplate(i.template);t.appendRowTemplate(s,(function(){var s=t.getRowElement(r.getCompId());r.refreshAriaLabel(s,!!r.rowNode.isSelected()),r.afterRowAttached(t,s),n(s),o?r.beans.taskQueue.createTask(r.lazyCreateCells.bind(r,e,s),r.rowNode.rowIndex,"createTasksP1"):(r.callAfterRowAttachedOnCells(i.cellComps,s),r.rowContainerReadyCount=3)}))},e.prototype.setupRowContainers=function(){var t=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnController.isPivotMode(),o=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(r);this.rowNode.stub?this.createFullWidthRows(e.LOADING_CELL_RENDERER,e.LOADING_CELL_RENDERER_COMP_NAME,!1):n?this.createFullWidthRows(e.DETAIL_CELL_RENDERER,e.DETAIL_CELL_RENDERER_COMP_NAME,!0):t?this.createFullWidthRows(e.FULL_WIDTH_CELL_RENDERER,null,!1):o?this.createFullWidthRows(e.GROUP_ROW_RENDERER,e.GROUP_ROW_RENDERER_COMP_NAME,!1):this.setupNormalRowContainers()},e.prototype.setupNormalRowContainers=function(){var t,e=this,n=[],r=[];this.printLayout?t=this.beans.columnController.getAllDisplayedColumns():(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),r=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,t,(function(t){return e.eBodyRow=t})),this.createRowContainer(this.pinnedRightContainerComp,r,(function(t){return e.ePinnedRightRow=t})),this.createRowContainer(this.pinnedLeftContainerComp,n,(function(t){return e.ePinnedLeftRow=t}))},e.prototype.createFullWidthRows=function(t,e,n){var r=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,t,e,(function(t){r.eFullWidthRowBody=t}),(function(t){r.fullWidthRowComponentBody=t}),n),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,ne.PINNED_LEFT,"ag-cell-last-left-pinned",t,e,(function(t){r.eFullWidthRowLeft=t}),(function(t){r.fullWidthRowComponentLeft=t}),n),this.createFullWidthRowContainer(this.pinnedRightContainerComp,ne.PINNED_RIGHT,"ag-cell-first-right-pinned",t,e,(function(t){r.eFullWidthRowRight=t}),(function(t){r.fullWidthRowComponentRight=t}),n)}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,t,e,(function(t){r.eFullWidthRow=t}),(function(t){r.fullWidthRowComponent=t}),n)},e.prototype.setAnimateFlags=function(t){if(t){var e=E(this.rowNode.oldRowTop);this.slideRowIn=e,this.fadeRowIn=!e}else this.slideRowIn=!1,this.fadeRowIn=!1},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.fullWidthRow},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,n,r){if(!e||!n)return!0;if(!n.refresh)return!1;var o=t.createFullWidthParams(e,r);return n.refresh(o)},n=e(this.eFullWidthRow,this.fullWidthRowComponent,null),r=e(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),o=e(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,ne.PINNED_LEFT),i=e(this.eFullWidthRowRight,this.fullWidthRowComponentRight,ne.PINNED_RIGHT);return n&&r&&o&&i},e.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Ai.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ai.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,ke.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,ke.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,ke.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,ke.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(t,ke.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,ke.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,ke.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,ke.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Ai.EVENT_ROW_INDEX_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Ai.EVENT_CELL_CHANGED,(function(e){t.forEachCellComp((function(t){return t.onCellChanged(e)}))}))},e.prototype.onRowNodeDataChanged=function(t){this.forEachCellComp((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.eAllRowContainers.forEach((function(e){Nn(e,"ag-row-highlight-above"),Nn(e,"ag-row-highlight-below"),t&&xn(e,"ag-row-highlight-"+t)}))},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.eAllRowContainers.forEach((function(e){return In(e,"ag-row-dragging",t)}))},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.eAllRowContainers.forEach((function(n){In(n,"ag-row-group",t),In(n,"ag-row-group-expanded",t&&e),In(n,"ag-row-group-contracted",t&&!e),Wr(n,t&&e)}))},e.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},e.prototype.destroyFullWidthComponents=function(){this.fullWidthRowDestroyFuncs.forEach((function(t){return t()})),this.fullWidthRowDestroyFuncs=[],this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponentBody=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ne.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ne.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponentRight=null)},e.prototype.getContainerForCell=function(t){switch(t){case ne.PINNED_LEFT:return this.ePinnedLeftRow;case ne.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},e.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},e.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},e.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},e.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var t,e,n;this.columnRefreshPending=!1,this.printLayout?(t=this.beans.columnController.getAllDisplayedColumns(),e=[],n=[]):(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),e=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,t),this.insertCellsIntoContainer(this.ePinnedLeftRow,e),this.insertCellsIntoContainer(this.ePinnedRightRow,n),this.elementOrderChanged=!1;var r=Object.keys(this.cellComps);t.forEach((function(t){return K(r,t.getId())})),e.forEach((function(t){return K(r,t.getId())})),n.forEach((function(t){return K(r,t.getId())}));var o=r.filter(this.isCellEligibleToBeRemoved.bind(this));this.destroyCells(o)}},e.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},e.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){var n=e.cellComps[t];S(n)||(n.detach(),n.destroy(),e.cellComps[t]=null)}))},e.prototype.isCellEligibleToBeRemoved=function(t){var e=this.beans.columnController.getAllDisplayedColumns(),n=this.cellComps[t];if(!n||this.isCellInWrongRow(n))return!0;var r=n.isEditing(),o=this.beans.focusController.isCellFocused(n.getCellPosition());if(r||o){var i=n.getColumn();return!(e.indexOf(i)>=0)}return!0},e.prototype.ensureCellInCorrectContainer=function(t){if(!this.printLayout){var e=t.getGui(),n=t.getColumn().getPinned(),r=this.getContainerForCell(n),o=t.getParentRow();o!==r&&(o&&o.removeChild(e),r.appendChild(e),t.setParentRow(r),this.elementOrderChanged=!0)}},e.prototype.isCellInWrongRow=function(t){var e=t.getColumn(),n=this.getContainerForCell(e.getPinned());return t.getParentRow()!==n},e.prototype.insertCellsIntoContainer=function(t,e){var n=this;if(t){var r=[],o=[];if(e.forEach((function(e){var i=e.getId(),s=n.cellComps[i];s&&s.getColumn()==e?n.ensureCellInCorrectContainer(s):(s&&n.destroyCells([i]),n.createNewCell(e,t,r,o))})),r.length>0&&(er(t,r.join("")),this.callAfterRowAttachedOnCells(o,t)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var i=e.map((function(t){return n.getCellForCol(t)}));sr(t,i)}}},e.prototype.addDomData=function(t){var n=this.beans.gridOptionsWrapper;n.setDomData(t,e.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){n.setDomData(t,e.DOM_DATA_KEY_RENDERED_ROW,null)}))},e.prototype.createNewCell=function(t,e,n,r){var o=new dl(this.scope,this.beans,t,this.rowNode,this,!1,this.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),this.cellComps[t.getId()]=o,o.setParentRow(e),this.elementOrderChanged=!0},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"mousedown":this.onRowMouseDown(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:e}},e.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!he(t)){var e=this.createRowEventWithSource(ke.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowMouseDown=function(t){this.lastMouseDownOnDragger=Wn(t.target,"ag-row-drag",3)},e.prototype.onRowClick=function(t){if(!he(t)&&!this.lastMouseDownOnDragger){var e=this.createRowEventWithSource(ke.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,r=t.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),i=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?o?this.rowNode.setSelectedParams({newValue:!1}):n?i&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!r,clearSelection:!r,rangeSelect:r}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o&&!n,rangeSelect:r})}}},e.prototype.createFullWidthRowContainer=function(t,e,n,r,o,i,s,a){var l=this,u=this.createTemplate("",n);t.appendRowTemplate(u,(function(){var n=t.getRowElement(l.getCompId()),u=l.createFullWidthParams(n,e),c=function(t){if(l.isAlive()){var e=t.getGui();n.appendChild(e),a&&l.setupDetailRowAutoHeight(e),s(t)}else l.beans.context.destroyBean(t)},p=l.beans.detailRowCompCache.get(l.rowNode,e);if(p)c(p);else{var h=l.beans.userComponentFactory.newFullWidthCellRenderer(u,r,o);if(!h){var d=re.isRegistered(Jt.MasterDetailModule);return void("agDetailCellRenderer"!==o||d?console.error("ag-Grid: fullWidthCellRenderer "+o+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}h.then(c)}l.afterRowAttached(t,n),i(n),l.angular1Compile(n)}))},e.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var n=t.clientHeight;null!=n&&n>0&&e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(n),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)},r=this.beans.resizeObserverService.observeResize(t,n);this.fullWidthRowDestroyFuncs.push(r),n()}},e.prototype.angular1Compile=function(t){this.scope&&this.beans.$compile(t)(this.scope)},e.prototype.createFullWidthParams=function(t,e){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this)}},e.prototype.getInitialRowClasses=function(t){var e={rowNode:this.rowNode,extraCssClass:t,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.fullWidthRow,firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope};return this.beans.rowCssClassCalculator.getInitialRowClasses(e)},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.eAllRowContainers.forEach((function(t){xn(t,e),Nn(t,n)}))}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.eAllRowContainers.forEach((function(e){return In(e,"ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.eAllRowContainers.forEach((function(t){return In(t,"ag-row-last",e)})))},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.forEachCellComp((function(e){e.stopEditing(t)})),this.editingRow){if(!t){var e=this.createRowEvent(ke.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(e)}this.setEditingRow(!1)}},e.prototype.setEditingRow=function(t){this.editingRow=t,this.eAllRowContainers.forEach((function(e){return In(e,"ag-row-editing",t)}));var e=this.createRowEvent(t?ke.EVENT_ROW_EDITING_STARTED:ke.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),this.editingRow||(this.forEachCellComp((function(r){var o=r===n;o?r.startEditingIfEnabled(t,e,o):r.startEditingIfEnabled(null,null,o)})),this.setEditingRow(!0))},e.prototype.forEachCellComp=function(t){ct(this.cellComps,(function(e,n){n&&t(n)}))},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.eAllRowContainers.forEach((function(t){return xn(t,e)}))}))},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,(function(e){t.eAllRowContainers.forEach((function(t){return xn(t,e)}))}),(function(e){t.eAllRowContainers.forEach((function(t){return Nn(t,e)}))}))},e.prototype.preProcessStylesFromGridOptions=function(){return Tr(this.processStylesFromGridOptions())},e.prototype.postProcessStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(e){return ur(e,t)}))},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!=typeof t){var e,n=this.beans.gridOptionsWrapper.getRowStyleFunc();return n&&(e=n({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope})),wt({},t,e)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.createCells=function(t){var e=this,n=[],r=[];return t.forEach((function(t){var o=new dl(e.scope,e.beans,t,e.rowNode,e,!1,e.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),e.cellComps[t.getId()]=o})),{template:n.join(""),cellComps:r}},e.prototype.onRowSelected=function(){var t=this,e=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(n){$r(n,e),In(n,"ag-row-selected",e),t.refreshAriaLabel(n,e)}))},e.prototype.refreshAriaLabel=function(t,e){e&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?t.removeAttribute("aria-label"):Mr(t,this.beans.gridOptionsWrapper.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row."))},e.prototype.callAfterRowAttachedOnCells=function(t,e){var n=this;t.forEach((function(t){t.setParentRow(e),t.afterAttached(),n.editingRow&&t.startEditingIfEnabled()}))},e.prototype.afterRowAttached=function(t,e){var n=this;this.addDomData(e),this.removeSecondPassFuncs.push((function(){t.removeRowElement(e)})),this.removeFirstPassFuncs.push((function(){if(E(n.rowNode.rowTop)){var t=n.roundRowTopToBounds(n.rowNode.rowTop);n.setRowTop(t)}else xn(e,"ag-opacity-zero")})),this.eAllRowContainers.push(e),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e)},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Ai.EVENT_MOUSE_ENTER,(function(){e.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||xn(t,"ag-row-hover")})),this.addManagedListener(this.rowNode,Ai.EVENT_MOUSE_LEAVE,(function(){Nn(t,"ag-row-hover")})))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.gridPanel.getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,r=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),r)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.onRowHeightChanged=function(){if(E(this.rowNode.rowHeight)){var t=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(e){return e.style.height=t}))}},e.prototype.addEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=ke.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+ke.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.addEventListener.call(this,e,n)},e.prototype.removeEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=ke.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+ke.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.removeEventListener.call(this,e,n)},e.prototype.destroy=function(e){void 0===e&&(e=!1),this.active=!1,this.destroyFullWidthComponents(),e?(this.removeFirstPassFuncs.forEach((function(t){return t()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(t){return t()})));var n=this.createRowEvent(ke.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),t.prototype.destroy.call(this)},e.prototype.destroyContainingCells=function(){var t=Object.keys(this.cellComps);this.destroyCells(t)},e.prototype.getAndClearDelayedDestroyFunctions=function(){var t=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],t},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.eAllRowContainers.forEach((function(e){return In(e,"ag-row-focus",t)})),this.eAllRowContainers.forEach((function(e){return In(e,"ag-row-no-focus",!t)})),this.rowFocused=t),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged())},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&E(t)){var e=this.applyPaginationOffset(t),n=(this.rowNode.isRowPinned()?e:this.beans.maxDivHeightScaler.getRealPixelPosition(e))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(t){return t.style.top=n})):this.eAllRowContainers.forEach((function(t){return t.style.transform="translateY("+n+")"}))}},e.prototype.getAndClearNextVMTurnFunctions=function(){var t=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],t},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getRenderedCellForColumn=function(t){var e=this,n=this.cellComps[t.getColId()];if(n)return n;var r=Object.keys(this.cellComps).map((function(t){return e.cellComps[t]})).filter((function(e){return e&&-1!==e.getColSpanningList().indexOf(t)}));return r.length?r[0]:void 0},e.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},e.prototype.updateRowIndexes=function(){var t=this,e=this.rowNode.getRowIndexString(),n=this.rowNode.rowIndex%2==0,r=this.rowIsEven!==n,o=this.beans.headerNavigationService.getHeaderRowCount();r&&(this.rowIsEven=n),this.eAllRowContainers.forEach((function(i){i.setAttribute("row-index",e),Yr(i,o+t.rowNode.rowIndex+1),r&&(In(i,"ag-row-even",n),In(i,"ag-row-odd",!n))}))},e.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(t){t.el&&t.ct.ensureDomOrder(t.el)}))},e.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},e.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},e.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},e.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},e.DOM_DATA_KEY_RENDERED_ROW="renderedRow",e.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",e.GROUP_ROW_RENDERER="groupRowRenderer",e.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",e.LOADING_CELL_RENDERER="loadingCellRenderer",e.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",e.DETAIL_CELL_RENDERER="detailCellRenderer",e.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",e}(Go),ml=(qa=function(t,e){return(qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCompsByIndex={},e.floatingTopRowComps=[],e.floatingBottomRowComps=[],e.refreshInProgress=!1,e}return ml(e,t),e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.getGridCore=function(){return this.gridCore},e.prototype.agWire=function(t){this.logger=t.create("RowRenderer")},e.prototype.registerGridComp=function(t){this.gridPanel=t,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,ke.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,ke.EVENT_CELL_FOCUSED,(function(e){t.forEachCellComp((function(t){return t.onCellFocused(e)}))})),this.addManagedListener(this.eventService,ke.EVENT_FLASH_CELLS,(function(e){t.forEachCellComp((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_HOVER_CHANGED,(function(){t.forEachCellComp((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.forEachCellComp((function(t){return t.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,ke.EVENT_RANGE_SELECTION_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_MOVED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PINNED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_VISIBLE,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,ke.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnController.getAllGridColumns();e&&e.forEach((function(e){var n=function(n){t.forEachCellComp((function(t){t.getColumn()===e&&n(t)}))},r=function(){n((function(t){return t.onLeftChanged()}))},o=function(){n((function(t){return t.onWidthChanged()}))},i=function(){n((function(t){return t.onFirstRightPinnedChanged()}))},s=function(){n((function(t){return t.onLastLeftPinnedChanged()}))};e.addEventListener(ie.EVENT_LEFT_CHANGED,r),e.addEventListener(ie.EVENT_WIDTH_CHANGED,o),e.addEventListener(ie.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),e.addEventListener(ie.EVENT_LAST_LEFT_PINNED_CHANGED,s),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener(ie.EVENT_LEFT_CHANGED,r),e.removeEventListener(ie.EVENT_WIDTH_CHANGED,o),e.removeEventListener(ie.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),e.removeEventListener(ie.EVENT_LAST_LEFT_PINNED_CHANGED,s)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,e=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t)},e.prototype.onPageLoaded=function(t){S(t)&&(t={type:ke.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(t)},e.prototype.getAllCellsForColumn=function(t){var e=[];function n(n,r){var o=r.getCellForCol(t);o&&e.push(o)}return ct(this.rowCompsByIndex,n),ct(this.floatingBottomRowComps,n),ct(this.floatingTopRowComps,n),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},e.prototype.refreshFloatingRows=function(t,e,n,r,o,i){var s=this;t.forEach((function(t){t.destroy()})),t.length=0,e&&e.forEach((function(e){var a=new vl(s.$scope,o,n,r,i,e,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),t.push(a)})),this.flushContainers(t)},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.onModelUpdated=function(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return S(t)||ct(this.rowCompsByIndex,(function(n,r){var o=r.getRowNode();t.indexOf(o)>=0&&e.push(n)})),e},e.prototype.redrawRows=function(t){if(t&&0!=t.length){var e=this.getRenderedIndexesForRowNodes(t);this.removeRowComps(e),this.redrawAfterModelUpdate({recycleRows:!0})}},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=t.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(S(e))return null;var n=document.activeElement;return S(this.gridOptionsWrapper.getDomData(n,dl.DOM_DATA_KEY_CELL_COMP))?null:e},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(t);var n=!this.printLayout&&!!t.recycleRows,r=t.animate&&this.gridOptionsWrapper.isAnimateRows(),o=this.binRowComps(n),i=function(){if(null==e||null==o)return!1;var t=!1;return ct(o,(function(n,r){var o=r.getRowNode();o.rowIndex==e.rowIndex&&o.rowPinned==e.rowPinned&&(t=!0)})),t}();this.redraw(o,r),t.onlyBody||this.refreshFloatingRowComps(),i||this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();e&&!n&&this.gridPanel.scrollToTop()},e.prototype.sizeContainerToPageHeight=function(){var t=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)t.forEach((function(t){return t.setHeight(null)}));else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.maxDivHeightScaler.setModelHeight(e);var n=this.maxDivHeightScaler.getUiContainerHeight();t.forEach((function(t){return t.setHeight(n)}))}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.restoreFocusedCell=function(t){t&&this.focusController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.forEachRowComp((function(e,n){n.stopEditing(t)}))},e.prototype.forEachCellComp=function(t){this.forEachRowComp((function(e,n){return n.forEachCellComp(t)}))},e.prototype.forEachRowComp=function(t){ct(this.rowCompsByIndex,t),ct(this.floatingTopRowComps,t),ct(this.floatingBottomRowComps,t)},e.prototype.addRenderedRowListener=function(t,e,n){var r=this.rowCompsByIndex[e];r&&r.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,n=t.fadeDelay;this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.flashCell({flashDelay:e,fadeDelay:n})}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.refreshCell(e)}))},e.prototype.getCellRendererInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var n=t.getCellRenderer();n&&e.push(n)})),e},e.prototype.getCellEditorInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var n=t.getCellEditor();n&&e.push(n)})),e},e.prototype.getEditingCells=function(){var t=[];return this.forEachCellComp((function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}})),t},e.prototype.forEachCellCompFiltered=function(t,e,n){var r,o,i=this;E(t)&&(r={top:{},bottom:{},normal:{}},t.forEach((function(t){var e=t.id;t.rowPinned===ne.PINNED_TOP?r.top[e]=!0:t.rowPinned===ne.PINNED_BOTTOM?r.bottom[e]=!0:r.normal[e]=!0}))),E(e)&&(o={},e.forEach((function(t){var e=i.columnController.getGridColumn(t);E(e)&&(o[e.getId()]=!0)})));var s=function(t){var e=t.getRowNode(),i=e.id,s=e.rowPinned;if(E(r))if(s===ne.PINNED_BOTTOM){if(!r.bottom[i])return}else if(s===ne.PINNED_TOP){if(!r.top[i])return}else if(!r.normal[i])return;t.forEachCellComp((function(t){var e=t.getColumn().getId();o&&!o[e]||n&&n(t)}))};ct(this.rowCompsByIndex,(function(t,e){s(e)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},e.prototype.destroy=function(){var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e),t.prototype.destroy.call(this)},e.prototype.binRowComps=function(t){var e,n=this,r={};return t?(e=[],ct(this.rowCompsByIndex,(function(t,o){var i=o.getRowNode();E(i.id)?(r[i.id]=o,delete n.rowCompsByIndex[t]):e.push(t)}))):e=Object.keys(this.rowCompsByIndex),this.removeRowComps(e),r},e.prototype.removeRowComps=function(t){var e=this;t.forEach((function(t){var n=e.rowCompsByIndex[t];n&&n.destroy(),delete e.rowCompsByIndex[t]}))},e.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var n=Object.keys(this.rowCompsByIndex).filter((function(t){return!e[t]}));this.removeRowComps(n)},e.prototype.calculateIndexesToDraw=function(t){var e=this,n=Ue(this.firstRenderedRow,this.lastRenderedRow),r=function(t,r){var o=r.getRowNode().rowIndex;null!=o&&(o<e.firstRenderedRow||o>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(r)&&n.push(o)};return ct(this.rowCompsByIndex,r),ct(t,r),n.sort((function(t,e){return t-e})),n},e.prototype.redraw=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var o=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(o),this.printLayout&&(e=!1);var i=[],s=[];o.forEach((function(o){var a=r.createOrUpdateRowComp(o,t,e,n);E(a)&&(s.push(a),$(i,a.getAndClearNextVMTurnFunctions()))})),this.flushContainers(s),Lt(i),!n||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowComps(t,e):this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,t,e)),this.checkAngularCompile(),this.gridPanel.updateRowCount()},e.prototype.flushContainers=function(t){ct(this.rowContainers,(function(t,e){e&&e.flushRowTemplates()})),t.forEach((function(t){return t.afterFlush()}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnController.isPinningLeft(),e=this.columnController.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];ct(this.rowCompsByIndex,(function(e,n){if(n.isFullWidth()){var r=n.getRowNode().rowIndex;t.push(r.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(t),this.redrawAfterScroll()},e.prototype.refreshFullWidthRows=function(t){var e=[],n=!!t,r=n?{}:void 0;n&&r&&t.forEach((function(t){return r[t.id]=!0})),ct(this.rowCompsByIndex,(function(t,o){if(o.isFullWidth()){var i=o.getRowNode();if(n&&r&&!r[i.id]&&!r[i.level>0&&i.parent?i.parent.id:void 0])return;if(!o.refreshFullWidth()){var s=o.getRowNode().rowIndex;e.push(s.toString())}}})),this.removeRowComps(e),this.redrawAfterScroll()},e.prototype.createOrUpdateRowComp=function(t,e,n,r){var o=null,i=this.rowCompsByIndex[t];if(i||E(o=this.paginationProxy.getRow(t))&&E(e)&&e[o.id]&&o.alreadyRendered&&(i=e[o.id],e[o.id]=null),i)i&&i.ensureDomOrder();else{if(o||(o=this.paginationProxy.getRow(t)),!E(o))return;i=this.createRowComp(o,n,r)}return o&&(o.alreadyRendered=!0),this.rowCompsByIndex[t]=i,i},e.prototype.destroyRowComps=function(t,e){var n=[];ct(t,(function(t,r){r&&(r.destroy(e),$(n,r.getAndClearDelayedDestroyFunctions()))})),Mt(n)},e.prototype.checkAngularCompile=function(){var t=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){t.$scope.$apply()}),0)},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var r=this.paginationProxy.getPixelOffset(),o=this.maxDivHeightScaler.getOffset(),i=this.gridPanel.getVScrollPosition(),s=i.top,a=i.bottom,l=this.gridOptionsWrapper.getRowBufferInPixels(),u=s+r+o-l,c=a+r+o+l;this.ensureAllRowsInRangeHaveHeightsCalculated(u,c);var p=this.paginationProxy.getRowIndexAtPixel(u),h=this.paginationProxy.getRowIndexAtPixel(c),d=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();p<d&&(p=d),h>f&&(h=f),t=p,e=h}else t=0,e=-1;var g=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_NORMAL,y=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),v=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(g&&!y&&e-t>v&&(e=t+v),(t!==this.firstRenderedRow||e!==this.lastRenderedRow)&&(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:ke.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var m={type:ke.EVENT_FIRST_DATA_RENDERED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return n.eventService.dispatchEventOnce(m)}),50)}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusController.isRowNodeFocused(e),r=t.isEditing();return!!(n||r||e.detail)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowComp=function(t,e,n){var r=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=new vl(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,t,this.beans,e,n&&!r&&!this.printLayout,this.printLayout,this.embedFullWidthRows);return o.init(),o},e.prototype.getRenderedNodes=function(){var t=this.rowCompsByIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.navigateToNextCell=function(t,e,n,r){for(var o=n,i=!1;o&&(o===n||!this.isValidNavigateCell(o));)this.gridOptionsWrapper.isEnableRtl()?e===Xo.LEFT&&(o=this.getLastCellOfColSpan(o)):e===Xo.RIGHT&&(o=this.getLastCellOfColSpan(o)),i=S(o=this.cellNavigationService.getNextCellToFocus(e,o));if(i&&t&&t.keyCode===Xo.UP&&(o={rowIndex:-1,rowPinned:null,column:n.column}),r){var s=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(E(s)){var a=s({key:e,previousCellPosition:n,nextCellPosition:o||null,event:t});E(a)?(a.floating&&(xt((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),a.rowPinned=a.floating),o={rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}):o=null}}if(o)if(o.rowIndex<0){var l=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:l+o.rowIndex,column:n.column})}else{this.ensureCellVisible(o);var u=this.getComponentForCell(o);u&&(o=u.getCellPosition(),this.ensureCellVisible(o),this.focusController.setFocusedCell(o.rowIndex,o.column,o.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(o))}},e.prototype.isValidNavigateCell=function(t){var e=this.rowPositionUtils.getRowNode(t);if(!e||e.detail||e.isFullWidthCell())return!1;if(!e.group)return!0;var n=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(n)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getComponentForCell(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:V(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){S(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridPanel.ensureColumnVisible(t.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},e.prototype.startEditingCell=function(t,e,n){var r=this.getComponentForCell(t);r&&r.startRowOrCellEdit(e,n)},e.prototype.getComponentForCell=function(t){var e;switch(t.rowPinned){case ne.PINNED_TOP:e=this.floatingTopRowComps[t.rowIndex];break;case ne.PINNED_BOTTOM:e=this.floatingBottomRowComps[t.rowIndex];break;default:e=this.rowCompsByIndex[t.rowIndex]}return e&&e.getRenderedCellForColumn(t.column)||null},e.prototype.getRowNode=function(t){switch(t.rowPinned){case ne.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case ne.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;if(this.moveToCellAfter(t,n))e.preventDefault();else if(n){var r=t.getCellPosition(),o=r.rowIndex;if(r.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow()){e.preventDefault();var i=this.beans.headerNavigationService.getHeaderRowCount()-1,s=V(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:i,column:s})}}else t.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&e.preventDefault()},e.prototype.tabToNextCell=function(t){var e=this.focusController.getFocusedCell();if(S(e))return!1;var n=this.getComponentForCell(e);return!S(n)&&this.moveToCellAfter(n,t)},e.prototype.moveToCellAfter=function(t,e){return(t.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,e):this.moveToNextEditingCell(t,e):this.moveToNextCellNotEditing(t,e))||!!this.focusController.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e){var n=t.getCellPosition();t.stopEditing();var r=this.findNextCellToFocusOn(n,e,!0),o=E(r);return o&&r&&(r.startEditingIfEnabled(null,null,!0),r.focusCell(!1)),o},e.prototype.moveToNextEditingRow=function(t,e){var n=t.getCellPosition(),r=this.findNextCellToFocusOn(n,e,!0),o=E(r);return o&&r&&this.moveEditToNextCellOrRow(t,r),o},e.prototype.moveToNextCellNotEditing=function(t,e){var n=t.getCellPosition(),r=this.findNextCellToFocusOn(n,e,!1),o=E(r);return o&&r.focusCell(!0),o},e.prototype.moveEditToNextCellOrRow=function(t,e){var n=t.getCellPosition(),r=e.getCellPosition();if(r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned)t.setFocusOutOnEditor(),e.setFocusInOnEditor();else{var o=t.getRenderedRow(),i=e.getRenderedRow();t.setFocusOutOnEditor(),o.stopEditing(),i.startRowEditing(),e.setFocusInOnEditor()}e.focusCell()},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var r=t;;){e||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,e);var o=this.gridOptionsWrapper.getTabToNextCellFunc();if(E(o)){var i=o({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:r||null});E(i)?(i.floating&&(xt((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),i.rowPinned=i.floating),r={rowIndex:i.rowIndex,column:i.column,rowPinned:i.rowPinned}):r=null}if(!r)return null;if(r.rowIndex<0){var s=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:s+r.rowIndex,column:r.column}),null}if(n){var a=this.lookupRowNodeForCell(r);if(!a||!r.column.isCellEditable(a))continue}S(r.rowPinned)&&this.gridPanel.ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridPanel.ensureColumnVisible(r.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var l=this.getComponentForCell(r);if(!S(l)&&!l.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(r),l}},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===ne.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===ne.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.isRangeInRenderedViewport=function(t,e){return!(null==t||null==e||e<this.firstRenderedRow||t>this.lastRenderedRow)},Cl([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),Cl([Yt("columnController")],e.prototype,"columnController",void 0),Cl([Yt("$scope")],e.prototype,"$scope",void 0),Cl([Yt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Cl([Yt("rowModel")],e.prototype,"rowModel",void 0),Cl([Yt("loggerFactory")],e.prototype,"loggerFactory",void 0),Cl([Yt("focusController")],e.prototype,"focusController",void 0),Cl([Yt("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Cl([Yt("columnApi")],e.prototype,"columnApi",void 0),Cl([Yt("gridApi")],e.prototype,"gridApi",void 0),Cl([Yt("beans")],e.prototype,"beans",void 0),Cl([Yt("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),Cl([Yt("animationFrameService")],e.prototype,"animationFrameService",void 0),Cl([Yt("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Cl([qt("rangeController")],e.prototype,"rangeController",void 0),Cl([(n=Qt("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"agWire",null),Cl([Kt("rowRenderer")],e);var n}(Se),wl=function(){function t(){}return t.addHeaderClassesFromColDef=function(t,e,n,r,o){S(t)||this.addColumnClassesFromCollDef(t.headerClass,t,e,n,r,o)},t.addToolPanelClassesFromColDef=function(t,e,n,r,o){S(t)||this.addColumnClassesFromCollDef(t.toolPanelClass,t,e,n,r,o)},t.addColumnClassesFromCollDef=function(t,e,n,r,o,i){var s;S(t)||("string"==typeof(s="function"==typeof t?t({colDef:e,column:o,columnGroup:i,context:r.getContext(),api:r.getApi()}):t)?xn(n,s):Array.isArray(s)&&s.forEach((function(t){xn(n,t)})))},t}(),_l=(Ya=function(t,e){return(Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ya(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ol=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},El=function(t){function e(e,n){var r=t.call(this)||this;return r.columns=e,r.element=n,r}return _l(e,t),e.prototype.postConstruct=function(){this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Ol([Yt("columnHoverService")],e.prototype,"columnHoverService",void 0),Ol([zt],e.prototype,"postConstruct",null),e}(Se),Sl=(Ka=function(t,e){return(Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ka(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pl=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.columnOrGroup=e,i.eCell=n,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=o,i.beans=r,i.printLayout=r.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,i}return Sl(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?V(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ie.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),e=E(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=e,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===e&&t.setLeft(e)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){if(!this.printLayout)return e;if(t.getPinned()===ne.PINNED_LEFT)return e;var n=this.beans.columnController.getPinnedLeftContainerWidth();return t.getPinned()===ne.PINNED_RIGHT?n+this.beans.columnController.getBodyContainerWidth()+e:n+e},e.prototype.setLeft=function(t){var e;if(E(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof ie)e=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&Qr(this.ariaEl,n.length),e=n[0]}var r=this.beans.columnController.getAriaColumnIndex(e);Xr(this.ariaEl,r)},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([zt],e.prototype,"postConstruct",null),e}(Se),Tl=(Ua=function(t,e){return(Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ua(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rl=function(t){function e(e,n){var r=t.call(this,n)||this;return r.labelSeparator="",r.labelAlignment="left",r.label="",r.config=e||{},r}return Tl(e,t),e.prototype.postConstruct=function(){xn(this.getGui(),"ag-labeled"),xn(this.eLabel,"ag-label");var t=this.config,e=t.labelSeparator,n=t.label,r=t.labelWidth,o=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=r&&this.setLabelWidth(r),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){Qn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.eLabel.appendChild(this.label),In(this.eLabel,"ag-hidden",""===this.label)},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui();return In(e,"ag-label-align-left","left"===t),In(e,"ag-label-align-right","right"===t),In(e,"ag-label-align-top","top"===t),this},e.prototype.setLabelWidth=function(t){return null==this.label||hr(this.eLabel,t),this},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([zt],e.prototype,"postConstruct",null),e}(Go),kl=(za=function(t,e){return(za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}za(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Al=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.className=r,o.disabled=!1,o}return kl(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.className&&xn(this.getGui(),this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,e.EVENT_CHANGED,(function(){return t(n.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return dr(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t||(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return Vn(e,t),In(e,"ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},e.EVENT_CHANGED="valueChange",e}(Rl),Dl=(Ha=function(t,e){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Nl=function(t){function e(e,n,r,o){void 0===r&&(r="text"),void 0===o&&(o="input");var i=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",n)||this;return i.inputType=r,i.displayFieldTag=o,i}return Dl(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),xn(this.eLabel,this.className+"-label"),xn(this.eWrapper,this.className+"-input-wrapper"),xn(this.eInput,this.className+"-input"),xn(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,r=e.value;null!=n&&this.setWidth(n),null!=r&&this.setValue(r),this.addInputListeners()},e.prototype.refreshLabel=function(){E(this.getLabel())?Lr(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return hr(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return Or(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Mr(this.eInput,t),this},e.prototype.setDisabled=function(e){return Vn(this.eInput,e),t.prototype.setDisabled.call(this,e)},xl([Bo("eLabel")],e.prototype,"eLabel",void 0),xl([Bo("eWrapper")],e.prototype,"eWrapper",void 0),xl([Bo("eInput")],e.prototype,"eInput",void 0),e}(Al),Il=(Ba=function(t,e){return(Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ba(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fl=function(t){function e(e,n,r){void 0===n&&(n="ag-checkbox"),void 0===r&&(r="checkbox");var o=t.call(this,e,n,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return Il(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){In(this.eWrapper,"ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return In(this.eWrapper,"ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,r){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:n,event:r});var o=this.getInputElement();this.eventService.dispatchEvent({type:ke.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n})},e.prototype.onCheckboxClick=function(t){if(!this.passive){var e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}},e.prototype.refreshSelectedClass=function(t){In(this.eWrapper,"ag-checked",!0===t),In(this.eWrapper,"ag-indeterminate",null==t)},e}(Nl),Ml=(Wa=function(t,e){return(Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ll=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jl=function(t){function e(e,n){var r=t.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.cbSelectAll=e,r.column=n;var o=n.getColDef();return r.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,r}return Ml(e,t),e.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,ke.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Fl.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),e=this.getNextCheckboxState(t);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(n+" ("+e+")")},e.prototype.getSelectionCount=function(){var t=this,e=0,n=0,r=function(r){t.gridOptionsWrapper.isGroupSelectsChildren()&&r.group||(r.isSelected()?e++:r.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(r):this.gridApi.forEachNode(r),{notSelected:n,selected:e}},e.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===ne.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},e.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!t||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Ll([Yt("gridApi")],e.prototype,"gridApi",void 0),Ll([Yt("columnApi")],e.prototype,"columnApi",void 0),Ll([Yt("rowModel")],e.prototype,"rowModel",void 0),Ll([Yt("selectionController")],e.prototype,"selectionController",void 0),Ll([zt],e.prototype,"postConstruct",null),e}(Se),Gl=(Va=function(t,e){return(Va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Va(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gl(e,t),e.prototype.shouldStopEventPropagation=function(t){var e=this.focusController.getFocusedHeader();return go(this.gridOptionsWrapper,t,e.headerRowIndex,e.column)},e.prototype.getColumn=function(){return this.column},e.prototype.getPinned=function(){return this.pinned},e}(ri),Wl=(Ga=function(t,e){return(Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ga(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hl=function(t){function e(n,r){var o=t.call(this,e.TEMPLATE)||this;return o.headerCompVersion=0,o.refreshFunctions=[],o.column=n,o.pinned=r,o}return Wl(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new El([this.column],this.getGui())),this.addManagedListener(this.column,ie.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new jl(this.cbSelectAll,this.column)),this.createManagedBean(new Pl(this.column,this.getGui(),this.beans)),this.addAttributes(),wl.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,ke.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.appendHeaderComp()},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.onNewColumnsLoaded=function(){var t=this.columnController.getColDefVersion();t!=this.colDefVersion&&(this.colDefVersion=t,this.refresh())},e.prototype.refresh=function(){this.updateState();var t=this.column.getColDef();this.colDefHeaderComponent==t.headerComponent&&this.colDefHeaderComponentFramework==t.headerComponentFramework&&this.attemptHeaderCompRefresh()?(this.draggable&&!this.dragAndDropService||!this.draggable&&this.dragAndDropService)&&this.attachDraggingToHeaderComp():this.appendHeaderComp(),this.refreshFunctions.forEach((function(t){return t()}))},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},e.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp)return!0;if(!this.headerComp.refresh)return!1;var t=this.createParams(),e=this.userComponentFactory.createFinalParams(this.getComponentHolder(),"headerComponent",t);return this.headerComp.refresh(e)},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},e.prototype.setActiveHeader=function(t){In(this.getGui(),"ag-header-active",t)},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.handleKeyDown=function(t){var e=this.headerComp;if(e){if(t.keyCode===Xo.SPACE){var n=this.cbSelectAll;n.isDisplayed()&&!n.getGui().contains(document.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))}t.keyCode===Xo.ENTER&&(t.ctrlKey||t.metaKey?this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu()):this.sortable&&this.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted"))}},e.prototype.onTabKeyDown=function(){},e.prototype.getComponentHolder=function(){return this.column.getColDef()},e.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,ke.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},e.prototype.onColumnHover=function(){var t=this.columnHoverService.isHovered(this.column);In(this.getGui(),"ag-column-hover",t)},e.prototype.setupSortableClass=function(){var t=this,e=this.getGui(),n=function(){In(e,"ag-header-cell-sortable",!!t.sortable)},r=function(){t.sortable?Zr(e,Nr(t.column)):Jr(e)};n(),r(),this.refreshFunctions.push(n),this.refreshFunctions.push(r),this.addManagedListener(this.column,ie.EVENT_SORT_CHANGED,r.bind(this))},e.prototype.onFilterChanged=function(){var t=this.column.isFilterActive();In(this.getGui(),"ag-header-cell-filtered",t)},e.prototype.appendHeaderComp=function(){this.headerCompVersion++;var t=this.column.getColDef();this.colDefHeaderComponent=t.headerComponent,this.colDefHeaderComponentFramework=t.headerComponentFramework;var e=this.createParams(),n=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(e).then(n)},e.prototype.createParams=function(){var t=this,e=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,n){t.sortController.setSortForColumn(t.column,e,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},e.prototype.afterHeaderCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(e)},e.prototype.onColumnMovingChanged=function(){this.column.isMoving()?xn(this.getGui(),"ag-header-cell-moving"):Nn(this.getGui(),"ag-header-cell-moving")},e.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},e.prototype.attachDraggingToHeaderComp=function(){var t=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:Ra.HeaderCell,eElement:this.headerCompGui,defaultIconName:tl.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return t.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return t.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupResize=function(){var t,e,n=this,r=this.getComponentHolder(),o=[],i=function(){o.forEach((function(t){return t()})),o.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsWrapper.isSuppressAutoSize()&&!r.suppressAutoSize;(s!==t||a!==e)&&(t=s,e=a,i(),function(){if(jn(n.eResize,t),t){var r=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(o.push(r),e){var i=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){n.columnController.autoSizeColumn(n.column,i,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new _i(n.eResize);a.addEventListener(_i.EVENT_DOUBLE_TAP,s),n.addDestroyFunc((function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(_i.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};s(),this.addDestroyFunc(i),this.refreshFunctions.push(s)},e.prototype.onResizing=function(t,e){var n=this.normaliseResizeAmount(e);this.columnController.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+n}],this.resizeWithShiftKey,t,"uiColumnDragged"),t&&Nn(this.getGui(),"ag-column-resizing")},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,xn(this.getGui(),"ag-column-resizing")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="header",e.colDef=this.column.getColDef(),e},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.refreshFunctions.push(e)},e.prototype.setupMovingCss=function(){this.addManagedListener(this.column,ie.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},e.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},e.prototype.setupWidth=function(){this.addManagedListener(this.column,ie.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},e.prototype.setupMenuClass=function(){this.addManagedListener(this.column,ie.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},e.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},e.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},e.prototype.normaliseResizeAmount=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ne.PINNED_LEFT&&(e*=-1):this.pinned===ne.PINNED_RIGHT&&(e*=-1),e},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',Bl([Yt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Bl([Yt("columnController")],e.prototype,"columnController",void 0),Bl([Yt("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Bl([Yt("menuFactory")],e.prototype,"menuFactory",void 0),Bl([Yt("gridApi")],e.prototype,"gridApi",void 0),Bl([Yt("columnApi")],e.prototype,"columnApi",void 0),Bl([Yt("sortController")],e.prototype,"sortController",void 0),Bl([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Bl([Yt("columnHoverService")],e.prototype,"columnHoverService",void 0),Bl([Yt("beans")],e.prototype,"beans",void 0),Bl([Bo("eResize")],e.prototype,"eResize",void 0),Bl([Bo("cbSelectAll")],e.prototype,"cbSelectAll",void 0),Bl([Ut],e.prototype,"destroyHeaderComp",null),e}(Vl),zl=(ja=function(t,e){return(ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ja(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ul=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kl=function(t){function e(n,r){var o=t.call(this,e.TEMPLATE)||this;return o.removeChildListenersFuncs=[],o.column=n,o.pinned=r,o}return zl(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),wl.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var e=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(e),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new El(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new Pl(this.column,this.getGui(),this.beans))},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.beans.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}},e.prototype.handleKeyDown=function(t){var e=document.activeElement,n=this.getGui();if(this.expandable&&e===n&&t.keyCode===Xo.ENTER){var r=this.getColumn(),o=!r.isExpanded();this.columnController.setColumnGroupOpened(r.getOriginalColumnGroup(),o,"uiColumnExpanded")}},e.prototype.onTabKeyDown=function(){},e.prototype.setupExpandable=function(){var t=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(t,ae.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,ae.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.getColumn(),e=this.getGui(),n=t.isExpandable(),r=t.isExpanded();this.expandable=n,n?Wr(e,r):e.removeAttribute("aria-expanded")},e.prototype.setupMovingCss=function(){var t=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach((function(e){t.addManagedListener(e,ie.EVENT_MOVING_CHANGED,t.onColumnMovingChanged.bind(t))})),this.onColumnMovingChanged()},e.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="headerGroup",e.colDef=this.getComponentHolder(),e.column=this.getColumn(),e},e.prototype.setupTooltip=function(){var t=this.getComponentHolder(),e=t&&t.headerTooltip;null!=e&&this.setTooltip(e)},e.prototype.onColumnMovingChanged=function(){In(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},e.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},e.prototype.appendHeaderGroupComp=function(t){var e=this,n={displayName:t,columnGroup:this.column,setExpanded:function(t){e.columnController.setColumnGroupOpened(e.column.getOriginalColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!t){for(var r=this.column,o=r.getLeafColumns();r.getParent()&&r.getParent().getLeafColumns().length===o.length;)r=r.getParent();var i=r.getColGroupDef();i&&(t=i.headerName),t||(t=o?this.columnController.getDisplayNameForColumn(o[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,t);this.userComponentFactory.newHeaderGroupComponent(n).then(s)},e.prototype.afterHeaderCompCreated=function(t,e){var n=this;this.getGui().appendChild(e.getGui()),this.addDestroyFunc((function(){n.getContext().destroyBean(e)})),this.setupMove(e.getGui(),t)},e.prototype.addClasses=function(){var t=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+t+"-group")},e.prototype.setupMove=function(t,e){var n=this;if(t&&!this.isSuppressMoving()){var r=this.column.getOriginalColumnGroup().getLeafColumns(),o={type:Ra.HeaderCell,eElement:t,defaultIconName:tl.ICON_HIDE,dragItemName:e,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return r.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return r.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(o)}))}},e.prototype.getDragItemForGroup=function(){var t=this.column.getOriginalColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var n=[];return this.columnController.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(n.push(e),K(t,e))})),t.forEach((function(t){return n.push(t)})),{columns:n,visibleState:e}},e.prototype.isSuppressMoving=function(){var t=!1;return this.column.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsWrapper.isSuppressMovableColumns()},e.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,se.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach((function(n){n.addEventListener(ie.EVENT_WIDTH_CHANGED,e),n.addEventListener(ie.EVENT_VISIBLE_CHANGED,e),t.removeChildListenersFuncs.push((function(){n.removeEventListener(ie.EVENT_WIDTH_CHANGED,e),n.removeEventListener(ie.EVENT_VISIBLE_CHANGED,e)}))}))},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},e.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},e.prototype.setupResize=function(){var t=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",(function(e){var r=[];t.column.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||r.push(t.getColId())})),r.length>0&&t.columnController.autoSizeColumns(r,n,"uiColumnResized")}))}}else Jn(this.eHeaderCellResize)},e.prototype.onResizeStart=function(t){var e=this,n=this.column.getDisplayedLeafColumns();this.resizeCols=n.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}));var r=null;if(t&&(r=this.columnController.getDisplayedGroupAfter(this.column)),r){var o=r.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;xn(this.getGui(),"ag-column-resizing")},e.prototype.onResizing=function(t,e){var n=[],r=this.normaliseDragChange(e);n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+r}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-r}),this.columnController.resizeColumnSets(n,t,"uiColumnDragged"),t&&Nn(this.getGui(),"ag-column-resizing")},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ne.PINNED_LEFT&&(e*=-1):this.pinned===ne.PINNED_RIGHT&&(e*=-1),e},e.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Ul([Yt("columnController")],e.prototype,"columnController",void 0),Ul([Yt("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Ul([Yt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ul([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ul([Yt("beans")],e.prototype,"beans",void 0),Ul([Yt("gridApi")],e.prototype,"gridApi",void 0),Ul([Yt("columnApi")],e.prototype,"columnApi",void 0),e}(Vl),Yl=(La=function(t,e){return(La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}La(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ql=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xl=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Yl(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnController.getDisplayNameForColumn(t.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var r=n.getModelAsString(t);e.eFloatingFilterText.setValue(r)}})):this.eFloatingFilterText.setValue("")},ql([Bo("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),ql([Yt("columnController")],e.prototype,"columnController",void 0),e}(Go),Ql=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),Zl=(Ma=function(t,e){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$l=function(t){function e(n,r){var o=t.call(this,e.TEMPLATE)||this;return o.column=n,o.pinned=r,o}return Zl(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new El([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},e.prototype.onTabKeyDown=function(t){var e=document.activeElement,n=this.getGui();if(e!==n){t.preventDefault();var r=this.focusController.findNextFocusableElement(n,null,t.shiftKey);r?r.focus():n.focus()}},e.prototype.handleKeyDown=function(t){var e=document.activeElement,n=this.getGui(),r=e===n;switch(t.keyCode){case Xo.UP:case Xo.DOWN:r||t.preventDefault();case Xo.LEFT:case Xo.RIGHT:if(r)return;t.stopPropagation();case Xo.ENTER:r&&this.focusController.focusInto(n)&&t.preventDefault();break;case Xo.ESCAPE:r||this.getGui().focus()}},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.beans.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}},e.prototype.setupFloatingFilter=function(){var t=this,e=this.column.getColDef();e.filter&&e.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(e){e&&(t.setupWithFloatingFilter(e),t.setupSyncWithFilter())})))},e.prototype.setupLeftPositioning=function(){var t=new Pl(this.column,this.getGui(),this.beans);this.createManagedBean(t)},e.prototype.setupSyncWithFilter=function(){var t=this,e=function(e){t.onParentModelChanged(t.currentParentModel(),e)};this.addManagedListener(this.column,ie.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)},e.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},e.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,ke.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},e.prototype.onColumnHover=function(){In(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},e.prototype.setupWidth=function(){this.addManagedListener(this.column,ie.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},e.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},e.prototype.setupWithFloatingFilter=function(t){var e=this,n=function(){e.getContext().destroyBean(t)};if(this.isAlive()){this.addDestroyFunc(n);var r=t.getGui();In(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),In(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),jn(this.eButtonWrapper,!this.suppressFilterButton);var o=co("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(o),this.eFloatingFilterBody.appendChild(r),t.afterGuiAttached&&t.afterGuiAttached()}else n()},e.prototype.parentFilterInstance=function(t){var e=this.getFilterComponent();e&&e.then(t)},e.prototype.getFilterComponent=function(t){return void 0===t&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},e.getDefaultFloatingFilterType=function(t){if(null==t)return null;var e=null;return"string"==typeof t.filter?e=Ql.getFloatingFilterType(t.filter):t.filterFramework||!0===t.filter&&(e=re.isRegistered(Jt.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),e},e.prototype.getFloatingFilterInstance=function(){var t=this.column.getColDef(),n=e.getDefaultFloatingFilterType(t),r=this.filterManager.createFilterParams(this.column,t),o=this.userComponentFactory.createFinalParams(t,"filter",r),i={api:this.gridApi,column:this.column,filterParams:o,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.newFloatingFilterComponent(t,i,n);if(!s){var a=this.getFilterComponentPrototype(t);if(a&&a.prototype&&a.prototype.getModelAsString){var l=this.userComponentFactory.createUserComponentFromConcreteClass(Xl,i);s=ko.resolve(l)}}return s},e.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},e.prototype.getFilterComponentPrototype=function(t){var e=this.userComponentFactory.lookupComponentClassDef(t,"filter",this.createDynamicParams());return e?e.component:null},e.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,(function(t){return t&&t.getModel()})):null},e.prototype.onParentModelChanged=function(t,e){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(n){return n&&n.onParentModelChanged(t,e)}))},e.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div class="ag-floating-filter-full-body" ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Jl([Yt("columnHoverService")],e.prototype,"columnHoverService",void 0),Jl([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Jl([Yt("gridApi")],e.prototype,"gridApi",void 0),Jl([Yt("columnApi")],e.prototype,"columnApi",void 0),Jl([Yt("filterManager")],e.prototype,"filterManager",void 0),Jl([Yt("menuFactory")],e.prototype,"menuFactory",void 0),Jl([Yt("beans")],e.prototype,"beans",void 0),Jl([Bo("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Jl([Bo("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Jl([Bo("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),e}(Vl),tu=(Fa=function(t,e){return(Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),eu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.COLUMN_GROUP=0]="COLUMN_GROUP",t[t.COLUMN=1]="COLUMN",t[t.FLOATING_FILTER=2]="FLOATING_FILTER"}(Ia||(Ia={}));var nu,ru,ou=function(t){function e(e,n,r){var o=t.call(this,'<div class="ag-header-row" role="row"></div>')||this;o.headerComps={},o.setRowIndex(e),o.type=n,o.pinned=r;var i=Ia[n].toLowerCase().replace(/_/g,"-");return o.addCssClass("ag-header-row-"+i),_n()&&(o.getGui().style.transform="translateZ(0)"),o}return tu(e,t),e.prototype.forEachHeaderElement=function(t){var e=this;Object.keys(this.headerComps).forEach((function(n){t(e.headerComps[n])}))},e.prototype.setRowIndex=function(t){this.dept=t,Yr(this.getGui(),t+1)},e.prototype.getRowIndex=function(){return this.dept},e.prototype.getType=function(){return this.type},e.prototype.destroyAllChildComponents=function(){var t=Object.keys(this.headerComps);this.destroyChildComponents(t)},e.prototype.destroyChildComponents=function(t,e){var n=this;t.forEach((function(t){var r=n.headerComps[t];e&&!r.getColumn().isMoving()&&n.focusController.isHeaderWrapperFocused(r)||(n.getGui().removeChild(r.getGui()),n.destroyBean(r),delete n.headerComps[t])}))},e.prototype.onRowHeightChanged=function(){var t,e,n=this.columnController.getHeaderRowCount(),r=[],o=0;this.columnController.isPivotMode()?(t=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),e=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(n++,o=1),t=this.gridOptionsWrapper.getGroupHeaderHeight(),e=this.gridOptionsWrapper.getHeaderHeight());for(var i=n-(1+o),s=0;s<i;s++)r.push(t);for(r.push(e),s=0;s<o;s++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=r[s];this.getGui().style.top=a+"px",this.getGui().style.height=r[this.dept]+"px"},e.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.getGui().style.width=t+"px"},e.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT?S(this.pinned)?this.columnController.getContainerWidth(ne.PINNED_RIGHT)+this.columnController.getContainerWidth(ne.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},e.prototype.getItemsAtDepth=function(){var t=this;if(this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT){if(S(this.pinned)){var e=[];return[ne.PINNED_LEFT,null,ne.PINNED_RIGHT].forEach((function(n){var r=t.columnController.getVirtualHeaderGroupRow(n,t.type==Ia.FLOATING_FILTER?t.dept-1:t.dept);e=e.concat(r)})),e}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==Ia.FLOATING_FILTER?this.dept-1:this.dept)},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=Object.keys(this.headerComps),n=[];if(this.getItemsAtDepth().forEach((function(r){if(!r.isEmptyGroup()){var o=r.getUniqueId(),i=t.getGui(),s=t.headerComps[o];if(s&&s.getColumn()!=r&&(t.destroyChildComponents([o]),K(e,o),s=void 0),s)K(e,o);else{var a=t.createHeaderComp(r);t.headerComps[o]=a,i.appendChild(a.getGui())}n.push(o)}})),this.destroyChildComponents(e,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var r=n.map((function(e){return t.headerComps[e].getGui()}));sr(this.getGui(),r)}},e.prototype.createHeaderComp=function(t){var e;switch(this.type){case Ia.COLUMN_GROUP:e=new Kl(t,this.pinned);break;case Ia.FLOATING_FILTER:e=new $l(t,this.pinned);break;default:e=new Hl(t,this.pinned)}return this.createBean(e),e.setParentComponent(this),e},e.prototype.getHeaderComps=function(){return this.headerComps},eu([Yt("columnController")],e.prototype,"columnController",void 0),eu([Yt("focusController")],e.prototype,"focusController",void 0),eu([Ut],e.prototype,"destroyAllChildComponents",null),eu([zt],e.prototype,"init",null),e}(Go),iu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},su=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!E(t)}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},t.prototype.getIconName=function(){return this.pinned?tl.ICON_PINNED:tl.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Ra.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,r=(e||[]).filter((function(t){return n[t.getId()]}));this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},t.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge){var e=t.dragSource.getDragItem();this.setColumnsVisible(e.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var r=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnController.setColumnsVisible(r,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var r=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnController.setColumnsPinned(r,e,n)}},t.prototype.onDragStop=function(){this.ensureIntervalCleared()},t.prototype.normaliseX=function(t){return this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.gridPanel.getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.gridPanel.getCenterViewportScrollLeft(),n=e+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e){var n=this;if(void 0===e&&(e=!1),this.lastDraggingEvent=t,!S(t.hDirection)){var r=this.normaliseX(t.x);e||this.checkCenterForScrolling(r);var o=this.normaliseDirection(t.hDirection),i=t.dragSource.type,s=t.dragSource.getDragItem().columns;s=s.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==n.pinned})),this.attemptMoveColumns(i,s,o,r,e)}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case Aa.Left:return Aa.Right;case Aa.Right:return Aa.Left;default:console.error("ag-Grid: Unknown direction "+t)}},t.prototype.calculateOldIndex=function(t){var e=this.columnController.getAllGridColumns(),n=z(t.map((function(t){return e.indexOf(t)}))),r=n[0];return V(n)-r!=n.length-1?null:r},t.prototype.attemptMoveColumns=function(t,e,n,r,o){var i=n===Aa.Left,s=n===Aa.Right,a=e.slice();this.columnController.sortColumnsLikeGridColumns(a);var l=this.calculateValidMoves(a,s,r),u=this.calculateOldIndex(a);if(0!==l.length){var c=l[0],p=null!==u&&!o;if(t==Ra.HeaderCell&&(p=null!==u),p){if(i&&c>=u)return;if(s&&c<=u)return}for(var h=0;h<l.length;h++){var d=l[h];if(this.columnController.doesMovePassRules(a,d))return void this.columnController.moveColumns(a,d,"uiColumnDragged")}}},t.prototype.calculateValidMoves=function(t,e,n){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some((function(t){return t.getColDef().suppressMovable})))return[];var r,o=this.columnController.getDisplayedColumns(this.pinned),i=this.columnController.getAllGridColumns(),s=o.filter((function(e){return Z(t,e)})),a=o.filter((function(e){return!Z(t,e)})),l=i.filter((function(e){return!Z(t,e)})),u=0,c=n;if(e){var p=0;s.forEach((function(t){return p+=t.getActualWidth()})),c-=p}if(c>0){for(var h=0;h<a.length&&!((c-=a[h].getActualWidth())<0);h++)u++;e&&u++}u>0?r=l.indexOf(a[u-1])+1:-1===(r=l.indexOf(a[0]))&&(r=0);var d=[r],f=function(t,e){return t-e};if(e){for(var g=r+1,y=i.length-1;g<=y;)d.push(g),g++;d.sort(f)}else{y=i.length-1;for(var v=i[g=r];g<=y&&this.isColumnHidden(o,v);)g++,d.push(g),v=i[g];for(g=r-1;g>=0;)d.push(g),g--;d.sort(f).reverse()}return d},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?tl.ICON_LEFT:tl.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(tl.ICON_MOVE))},t.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null;if(this.needToMoveLeft?e=this.gridPanel.scrollHorizontally(-t):this.needToMoveRight&&(e=this.gridPanel.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));n.length>0&&(this.dragAndDropService.setGhostIcon(tl.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(n,this.needToMoveLeft?ne.PINNED_LEFT:ne.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},iu([Yt("loggerFactory")],t.prototype,"loggerFactory",void 0),iu([Yt("columnController")],t.prototype,"columnController",void 0),iu([Yt("dragAndDropService")],t.prototype,"dragAndDropService",void 0),iu([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),iu([zt],t.prototype,"init",null),t}(),au=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lu=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var n=t.dragItem.columns;n&&n.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))}},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?tl.ICON_PINNED:tl.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},au([Yt("columnController")],t.prototype,"columnController",void 0),au([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),uu=(ru=function(t,e){return(ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ru(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.ColumnMove=0]="ColumnMove",t[t.Pivot=1]="Pivot"}(nu||(nu={}));var pu,hu,du,fu=function(t){function e(e,n){var r=t.call(this)||this;return r.dropListeners={},r.pinned=e,r.eContainer=n,r}return uu(e,t),e.prototype.registerGridComp=function(t){switch(this.gridPanel=t,this.moveColumnController.registerGridComp(t),this.pinned){case ne.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case ne.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},e.prototype.isInterestedIn=function(t){return t===Ra.HeaderCell||t===Ra.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnController=this.createBean(new su(this.pinned,this.eContainer));var t=new lu(this.pinned);this.createBean(t),this.dropListeners[nu.ColumnMove]=this.moveColumnController,this.dropListeners[nu.Pivot]=t,this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.getDropType=function(t){return this.columnController.isPivotMode()&&t.dragSource.type===Ra.ToolPanel?nu.Pivot:nu.ColumnMove},e.prototype.onDragEnter=function(t){var e=this.getDropType(t);this.currentDropListener=this.dropListeners[e],this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},cu([Yt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),cu([Yt("columnController")],e.prototype,"columnController",void 0),cu([zt],e.prototype,"init",null),e}(Se),gu=(du=function(t,e){return(du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}du(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vu=function(t){function e(e,n,r){var o=t.call(this)||this;return o.groupsRowComps=[],o.eContainer=e,o.pinned=r,o.eViewport=n,o}return gu(e,t),e.prototype.forEachHeaderElement=function(t){this.groupsRowComps&&this.groupsRowComps.forEach((function(e){return e.forEachHeaderElement(t)})),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(t),this.filtersRowComp&&this.filtersRowComp.forEachHeaderElement(t)},e.prototype.init=function(){this.addManagedListener(this.eventService,ke.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},e.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.setWidthOfPinnedContainer=function(){var t=this.pinned===ne.PINNED_LEFT,e=this.pinned===ne.PINNED_RIGHT,n=this.columnController,r=this.gridOptionsWrapper.isEnableRtl(),o=this.gridOptionsWrapper.getScrollbarWidth();if(t||e){var i=n[t?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(r&&t||!r&&e)&&(i+=o),dr(this.eContainer,i)}},e.prototype.getRowComps=function(){var t=[];return this.groupsRowComps&&(t=t.concat(this.groupsRowComps)),this.columnsRowComp&&t.push(this.columnsRowComp),this.filtersRowComp&&t.push(this.filtersRowComp),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this.refreshRowComps(t)},e.prototype.setupDragAndDrop=function(t){var e=new fu(this.pinned,this.eViewport?this.eViewport:this.eContainer);this.createManagedBean(e),e.registerGridComp(t)},e.prototype.destroyRowComps=function(t){void 0===t&&(t=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,t||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},e.prototype.destroyRowComp=function(t){t&&(this.destroyBean(t),this.eContainer.removeChild(t.getGui()))},e.prototype.refreshRowComps=function(t){var e=this;void 0===t&&(t=!1);var n=new Po;!function(){var t=e.columnController.getHeaderRowCount()-1;e.groupsRowComps.forEach(e.destroyRowComp.bind(e)),e.groupsRowComps=[];for(var r=0;r<t;r++){var o=e.createBean(new ou(n.next(),Ia.COLUMN_GROUP,e.pinned));e.groupsRowComps.push(o)}}(),function(){var r=n.next();if(e.columnsRowComp){var o=e.columnsRowComp.getRowIndex()!==r;t&&!o||(e.destroyRowComp(e.columnsRowComp),e.columnsRowComp=void 0)}e.columnsRowComp||(e.columnsRowComp=e.createBean(new ou(r,Ia.COLUMN,e.pinned)))}(),e.destroyRowComp(e.filtersRowComp),e.filtersRowComp=void 0,!e.columnController.isPivotMode()&&e.columnController.hasFloatingFilters()&&(e.filtersRowComp=e.createBean(new ou(n.next(),Ia.FLOATING_FILTER,e.pinned))),this.getRowComps().forEach((function(t){return e.eContainer.appendChild(t.getGui())}))},yu([Yt("columnController")],e.prototype,"columnController",void 0),yu([Yt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),yu([zt],e.prototype,"init",null),yu([Ut],e.prototype,"destroyRowComps",null),e}(Se),mu=(hu=function(t,e){return(hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(pu||(pu={}));var bu,wu,_u,Ou,Eu,Su,Pu,Tu,Ru,ku,Au,Du,xu,Nu,Iu,Fu,Mu,Lu,ju,Gu,Vu,Wu,Bu,Hu,zu,Uu,Ku,Yu,qu,Xu,Qu,Zu,Ju,$u,tc,ec,nc,rc,oc,ic,sc,ac,lc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mu(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.registerHeaderRoot=function(t){this.headerRoot=t},e.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},e.prototype.getHeaderRowType=function(t){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[t].getType()},e.prototype.getHeaderContainer=function(t){return void 0===t&&(t="center"),null===t&&(t="center"),this.headerRoot.getHeaderContainers().get(t)},e.prototype.navigateVertically=function(t,e,n){if(e||(e=this.focusController.getFocusedHeader()),!e)return!1;var r=e.headerRowIndex,o=e.column,i=this.getHeaderRowCount(),s=t===pu.UP,a=s?r-1:r+1,l=null,u=!1;a<0&&(a=0,l=o,u=!0),a>=i&&(a=-1);var c=this.getHeaderRowType(r);if(!u){if(c===Ia.COLUMN_GROUP){var p=o;l=s?o.getParent():p.getDisplayedChildren()[0]}else c===Ia.FLOATING_FILTER?l=o:(p=o,l=s?p.getParent():p);if(!l)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:a,column:l},void 0,!1,!0,n)},e.prototype.navigateHorizontally=function(t,e,n){void 0===e&&(e=!1);var r,o,i=this.focusController.getFocusedHeader(),s=t===pu.LEFT,a=this.gridOptionsWrapper.isEnableRtl();return(r=this.headerPositionUtils.findHeader(i,o=s!==a?"Before":"After"))?this.focusController.focusHeaderPosition(r,o,e,!0,n):!e||this.focusNextHeaderRow(i,o,n)},e.prototype.focusNextHeaderRow=function(t,e,n){var r=t.headerRowIndex,o=null;return"Before"===e?r>0&&(o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r-1,"end")):o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r+1,"start"),this.focusController.focusHeaderPosition(o,e,!0,!0,n)},e.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var n;if(t instanceof se){var r=t.getDisplayedLeafColumns();n="Before"===e?V(r):r[0]}else n=t;this.gridPanel.ensureColumnVisible(n),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Cu([Yt("focusController")],e.prototype,"focusController",void 0),Cu([Yt("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),Cu([Yt("animationFrameService")],e.prototype,"animationFrameService",void 0),Cu([Kt("headerNavigationService")],e)}(Se),uc=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.SHIFT="Shift",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.NUM_PAD_DELETE="Del",t.A="a",t.C="c",t.V="v",t.D="d",t.Z="z",t.Y="y",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t}(),cc=(ac=function(t,e){return(ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ac(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hc=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.headerContainers=new Map,n}return cc(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new vu(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new vu(this.ePinnedLeftHeader,null,ne.PINNED_LEFT),"left"),this.registerHeaderContainer(new vu(this.ePinnedRightHeader,null,ne.PINNED_RIGHT),"right"),this.headerContainers.forEach((function(t){return e.createManagedBean(t)})),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},e.prototype.registerGridComp=function(t){this.gridPanel=t,this.headerContainers.forEach((function(e){return e.setupDragAndDrop(t)}))},e.prototype.registerHeaderContainer=function(t,e){this.headerContainers.set(e,t)},e.prototype.onTabKeyDown=function(t){var e=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(t.shiftKey!==e?pu.LEFT:pu.RIGHT,!0,t)||this.focusController.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var e=null;switch(t.key){case uc.LEFT:e=pu.LEFT;case uc.RIGHT:E(e)||(e=pu.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case uc.UP:e=pu.UP;case uc.DOWN:E(e)||(e=pu.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var e=t.relatedTarget,n=this.getGui();!e&&n.contains(document.activeElement)||n.contains(e)||this.focusController.clearFocusedHeader()},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.refreshHeader())},e.prototype.setHorizontalScroll=function(t){this.eHeaderContainer.style.transform="translateX("+t+"px)"},e.prototype.forEachHeaderElement=function(t){this.headerContainers.forEach((function(e){return e.forEachHeaderElement(t)}))},e.prototype.refreshHeader=function(){this.headerContainers.forEach((function(t){return t.refresh()}))},e.prototype.onPivotModeChanged=function(){var t=this.columnController.isPivotMode();In(this.getGui(),"ag-pivot-on",t),In(this.getGui(),"ag-pivot-off",!t)},e.prototype.setHeight=function(t){var e=t+1+"px";this.getGui().style.height=e,this.getGui().style.minHeight=e},e.prototype.addPreventHeaderScroll=function(){var t=this;this.addManagedListener(this.eHeaderViewport,"scroll",(function(){var e=t.eHeaderViewport.scrollLeft;0!==e&&(t.gridPanel.scrollHorizontally(e),t.eHeaderViewport.scrollLeft=0)}))},e.prototype.getHeaderContainers=function(){return this.headerContainers},e.prototype.setHeaderContainerWidth=function(t){this.eHeaderContainer.style.width=t+"px"},e.prototype.setLeftVisible=function(t){jn(this.ePinnedLeftHeader,t)},e.prototype.setRightVisible=function(t){jn(this.ePinnedRightHeader,t)},e.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',pc([Bo("ePinnedLeftHeader")],e.prototype,"ePinnedLeftHeader",void 0),pc([Bo("ePinnedRightHeader")],e.prototype,"ePinnedRightHeader",void 0),pc([Bo("eHeaderContainer")],e.prototype,"eHeaderContainer",void 0),pc([Bo("eHeaderViewport")],e.prototype,"eHeaderViewport",void 0),pc([Yt("columnController")],e.prototype,"columnController",void 0),pc([Yt("gridApi")],e.prototype,"gridApi",void 0),pc([Yt("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),pc([Yt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),e}(ri),dc=(sc=function(t,e){return(sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fc=function(){return(fc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allAdvancedFilters=new Map,e.activeAdvancedFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var n;return dc(e,t),n=e,e.prototype.init=function(){this.addManagedListener(this.eventService,ke.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(t){var e=this,n=[];if(t){var r=_o(Object.keys(t));this.allAdvancedFilters.forEach((function(o,i){n.push(e.setModelOnFilterWrapper(o.filterPromise,t[i])),r.delete(i)})),r.forEach((function(r){var o=e.columnController.getPrimaryColumn(r);if(o){var i=e.getOrCreateFilterWrapper(o,"NO_UI");n.push(e.setModelOnFilterWrapper(i.filterPromise,t[r]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+r)}))}else this.allAdvancedFilters.forEach((function(t){n.push(e.setModelOnFilterWrapper(t.filterPromise,null))}));ko.all(n).then((function(){return e.onFilterChanged()}))},e.prototype.setModelOnFilterWrapper=function(t,e){return new ko((function(n){t.then((function(t){"function"!=typeof t.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),n()),(t.setModel(e)||ko.resolve()).then((function(){return n()}))}))}))},e.prototype.getFilterModel=function(){var t={};return this.allAdvancedFilters.forEach((function(e,n){var r=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==r)return null;if("function"==typeof r.getModel){var o=r.getModel();E(o)&&(t[n]=o)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),t},e.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},e.prototype.updateActiveFilters=function(){var t=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach((function(e){if(e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))){var n=e.filterPromise.resolveNow(null,(function(t){return t}));t.activeAdvancedFilters.push(n)}}))},e.prototype.updateFilterFlagInColumns=function(t,e){this.allAdvancedFilters.forEach((function(n){var r=n.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));n.column.setFilterActive(r,t,e)}))},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.externalFilterPresent},e.prototype.doAdvancedFiltersPass=function(t,e){for(var n=t.data,r=0;r<this.activeAdvancedFilters.length;r++){var o=this.activeAdvancedFilters[r];if(null!=o&&o!==e){if("function"!=typeof o.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!o.doesFilterPass({node:t,data:n}))return!1}}return!0},e.prototype.parseQuickFilter=function(t){return E(t)?this.gridOptionsWrapper.isRowModelDefault()?t.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())},e.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},e.prototype.onFilterChanged=function(t,e){this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",e),this.checkExternalFilter(),this.allAdvancedFilters.forEach((function(e){e.filterPromise.then((function(e){e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var n={type:ke.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};e&&bt(n,e),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})},e.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this;return rt(this.columnController.getAllColumnsForQuickFilter(),(function(r){var o=n.getQuickFilterTextForColumn(r,t);return E(o)&&o.indexOf(e)>=0}))},e.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},e.prototype.doesRowPassQuickFilter=function(t){var e=this,n=this.gridOptionsWrapper.isCacheQuickFilter();return nt(this.quickFilterParts,(function(r){return n?e.doesRowPassQuickFilterCache(t,r):e.doesRowPassQuickFilterNoCache(t,r)}))},e.prototype.doesRowPassFilter=function(t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode)||this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(t.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.getQuickFilterTextForColumn=function(t,e){var n=this.valueService.getValue(t,e,!0),r=t.getColDef();if(r.getQuickFilterText){var o={value:n,node:e,data:e.data,column:t,colDef:r,context:this.gridOptionsWrapper.getContext()};n=r.getQuickFilterText(o)}return E(n)?n.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(t){var e=this,r=[];ot(this.columnController.getAllColumnsForQuickFilter(),(function(n){var o=e.getQuickFilterTextForColumn(n,t);E(o)&&r.push(o)})),t.quickFilterAggregateText=r.join(n.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(t){this.allAdvancedFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var e=this;return function(n){return e.valueService.getValue(t,n,!0)}},e.prototype.getFilterComponent=function(t,e,n){if(void 0===n&&(n=!0),n)return this.getOrCreateFilterWrapper(t,e).filterPromise;var r=this.cachedFilter(t);return r?r.filterPromise:null},e.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},e.prototype.getOrCreateFilterWrapper=function(t,e){var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.allAdvancedFilters.set(t.getColId(),n)),n},e.prototype.cachedFilter=function(t){return this.allAdvancedFilters.get(t.getColId())},e.prototype.createFilterInstance=function(t,e){var n,r=this,o=re.isRegistered(Jt.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",i=t.getColDef(),s=fc(fc({},this.createFilterParams(t,i,e)),{filterModifiedCallback:function(){r.eventService.dispatchEvent({type:ke.EVENT_FILTER_MODIFIED,api:r.gridApi,columnApi:r.columnApi,column:t,filterInstance:n})},filterChangedCallback:function(t){return r.onFilterChanged(n,t)},doesRowPassOtherFilter:function(t){return r.doesRowPassOtherFilters(n,t)}}),a=this.userComponentFactory.newFilterComponent(i,s,o);return a&&a.then((function(t){return n=t})),a},e.prototype.createFilterParams=function(t,e,n){void 0===n&&(n=null);var r={api:this.gridOptionsWrapper.getApi(),column:t,colDef:pt(e),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return n&&(r.$scope=n),r},e.prototype.createFilterWrapper=function(t,e){var n={column:t,filterPromise:null,scope:null,compiledElement:null,guiPromise:ko.resolve(null)};return n.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,n.filterPromise=this.createFilterInstance(t,n.scope),n.filterPromise&&this.putIntoGui(n,e),n},e.prototype.putIntoGui=function(t,e){var n=this,r=document.createElement("div");r.className="ag-filter",t.guiPromise=new ko((function(o){t.filterPromise.then((function(i){var s=i.getGui();if(E(s)||console.warn("getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"==typeof s&&(s=tr(s)),r.appendChild(s),t.scope){var a=n.$compile(r)(t.scope);t.compiledElement=a,window.setTimeout((function(){return t.scope.$apply()}),0)}o(r),n.eventService.dispatchEvent({type:ke.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:r,api:n.gridApi,columnApi:n.columnApi})}))}))},e.prototype.onNewColumnsLoaded=function(){var t=this,e=!1;this.allAdvancedFilters.forEach((function(n){!t.columnController.getPrimaryColumn(n.column)&&(e=!0,t.disposeFilterWrapper(n,"filterDestroyed"))})),e&&this.onFilterChanged()},e.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=this.allAdvancedFilters.get(t.getColId());n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged())},e.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then((function(r){(r.setModel(null)||ko.resolve()).then((function(){n.getContext().destroyBean(r),t.column.setFilterActive(!1,e),t.scope&&(t.compiledElement&&t.compiledElement.remove(),t.scope.$destroy()),n.allAdvancedFilters.delete(t.column.getColId())}))}))},e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allAdvancedFilters.forEach((function(t){return e.disposeFilterWrapper(t,"filterDestroyed")}))},e.QUICK_FILTER_SEPARATOR="\n",gc([Yt("$compile")],e.prototype,"$compile",void 0),gc([Yt("$scope")],e.prototype,"$scope",void 0),gc([Yt("valueService")],e.prototype,"valueService",void 0),gc([Yt("columnController")],e.prototype,"columnController",void 0),gc([Yt("rowModel")],e.prototype,"rowModel",void 0),gc([Yt("columnApi")],e.prototype,"columnApi",void 0),gc([Yt("gridApi")],e.prototype,"gridApi",void 0),gc([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),gc([zt],e.prototype,"init",null),gc([Ut],e.prototype,"destroy",null),n=gc([Kt("filterManager")],e)}(Se),vc=(ic=function(t,e){return(ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ic(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return vc(e,t),e.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},e.prototype.getValue=function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.initialised||this.init(),e){var o,i=t.getColDef(),s=i.field,a=t.getId(),l=e.data,u=e.groupData&&void 0!==e.groupData[a],c=!r&&e.aggData&&void 0!==e.aggData[a];if(n&&i.filterValueGetter?o=this.executeFilterValueGetter(i.filterValueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&c?o=e.aggData[a]:this.gridOptionsWrapper.isTreeData()&&i.valueGetter?o=this.executeValueGetter(i.valueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&s&&l?o=Pt(l,s,t.isFieldContainsDots()):u?o=e.groupData[a]:c?o=e.aggData[a]:i.valueGetter?o=this.executeValueGetter(i.valueGetter,l,t,e):s&&l&&(o=Pt(l,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof o&&0===o.indexOf("=")){var p=o.substring(1);o=this.executeValueGetter(p,l,t,e)}if(null==o){var h=this.getOpenedGroup(e,t);if(null!=h)return h}return o}},e.prototype.getOpenedGroup=function(t,e){if(this.gridOptionsWrapper.isShowOpenedGroup()&&e.getColDef().showRowGroup)for(var n=e.getColDef().showRowGroup,r=t.parent;null!=r;){if(r.rowGroupColumn&&(!0===n||n===r.rowGroupColumn.getId()))return r.key;r=r.parent}},e.prototype.setValue=function(t,e,n,r){var o=this.columnController.getPrimaryColumn(e);if(t&&o){S(t.data)&&(t.data={});var i=o.getColDef(),s=i.field,a=i.newValueHandler,l=i.valueSetter;if(S(s)&&S(a)&&S(l))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var u,c={node:t,data:t.data,oldValue:this.getValue(o,t),newValue:n,colDef:o.getColDef(),column:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(c.newValue=n,void 0===(u=a&&E(a)?a(c):E(l)?this.expressionService.evaluate(l,c):this.setValueUsingField(t.data,s,n,o.isFieldContainsDots()))&&(u=!0),u){t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(o,t);var p=o.getColDef().onCellValueChanged;"function"==typeof p&&setTimeout((function(){return p(c)}),0),this.eventService.dispatchEvent({type:ke.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:r})}}}},e.prototype.setValueUsingField=function(t,e,n,r){if(!e)return!1;if(r)for(var o=e.split("."),i=t;o.length>0&&i;){var s=o.shift();0===o.length?i[s]=n:i=i[s]}else t[e]=n;return!0},e.prototype.executeFilterValueGetter=function(t,e,n,r){var o={data:e,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)};return this.expressionService.evaluate(t,o)},e.prototype.executeValueGetter=function(t,e,n,r){var o=n.getId(),i=this.valueCache.getValue(r,o);if(void 0!==i)return i;var s={data:e,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)},a=this.expressionService.evaluate(t,s);return this.valueCache.setValue(r,o,a),a},e.prototype.getValueCallback=function(t,e){var n=this.columnController.getPrimaryColumn(e);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),r=t.getColDef().keyCreator,o=r?r({value:n}):n;return"string"==typeof o||null==o||"[object Object]"===(o=String(o))&&xt((function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o},mc([Yt("expressionService")],e.prototype,"expressionService",void 0),mc([Yt("columnController")],e.prototype,"columnController",void 0),mc([Yt("valueCache")],e.prototype,"valueCache",void 0),mc([zt],e.prototype,"init",null),mc([Kt("valueService")],e)}(Se),bc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wc=function(){function t(t){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=t.eContainer,this.eViewport=t.eViewport,t.eWrapper&&(this.eWrapper=t.eWrapper),this.hideWhenNoChildren=!!t.hideWhenNoChildren}return t.prototype.setVerticalScrollPosition=function(t){this.scrollTop=t},t.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(wa.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},t.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},t.prototype.getRowElement=function(t){return this.eContainer.querySelector('[comp-id="'+t+'"]')},t.prototype.setHeight=function(t){null!=t?(this.eContainer.style.height=t+"px",this.eWrapper&&(this.eWrapper.style.height=t+"px")):this.eContainer.style.height=""},t.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var t=this.rowTemplatesToAdd.join("");er(this.eContainer,t),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(t){return t()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},t.prototype.appendRowTemplate=function(t,e){this.domOrder?this.lastPlacedElement=ar(this.eContainer,t,this.lastPlacedElement):this.rowTemplatesToAdd.push(t),this.afterGuiAttachedCallbacks.push(e),this.childCount++,this.checkVisibility()},t.prototype.ensureDomOrder=function(t){this.domOrder&&(ir(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},t.prototype.removeRowElement=function(t){this.eContainer.removeChild(t),this.childCount--,this.checkVisibility()},t.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var t=this.eViewport?this.eViewport:this.eContainer,e=this.childCount>0;this.visible!==e&&(this.visible=e,this.lastMadeVisibleTime=(new Date).getTime(),jn(t,e),e&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},t.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},bc([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bc([zt],t.prototype,"postConstruct",null),t}(),_c=(oc=function(t,e){return(oc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oc=function(){return(Oc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ec=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sc=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Pc=function(t){function e(e,n){var r=t.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=e,r.gridPanel=n,r}return _c(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ke.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnController.getRowGroupColumns();this.isRowGroupActive=!P(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Ra.RowDrag},e.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?tl.ICON_NOT_ALLOWED:tl.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var e=this.gridOptionsWrapper.isEnableMultiRowDragging(),n=this.selectionController.getSelectedNodes(),r=t.dragItem.rowNode;return e&&-1!==n.indexOf(r)?(this.isMultiRowDrag=!0,Sc(n)):(this.isMultiRowDrag=!1,[r])},e.prototype.onDragEnter=function(t){this.dispatchGridEvent(ke.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){return!this.gridPanel.getGui().contains(t.dropZoneTarget)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(ke.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,e),this.checkCenterForScrolling(e)},e.prototype.doManagedDrag=function(t,e){var n,r=this,o=this.isFromThisGrid(t);o?(n=[t.dragItem.rowNode],this.isMultiRowDrag&&(n=Sc(this.selectionController.getSelectedNodes()).sort((function(t,e){return r.getRowIndexNumber(t)-r.getRowIndexNumber(e)}))),t.dragItem.rowNodes=n):n=t.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!o?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(n[0],e):this.moveRows(n,e))},e.prototype.getRowIndexNumber=function(t){return parseInt(V(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var e=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),r=n&&"below"===n.highlighted,o=this.mouseEventService.getNormalisedPosition(t).y,i=t.dragItem.rowNodes,s=r?1:0;if(this.isFromThisGrid(t))i.forEach((function(t){t.rowTop<o&&(s-=1)})),this.moveRows(i,o,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(o)+1;"above"===this.clientSideRowModel.getHighlightPosition(o)&&l--,this.clientSideRowModel.updateRowData({add:i.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(a?a(t):t.id)})),addIndex:l})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,e,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},e.prototype.checkCenterForScrolling=function(t){var e=this.gridPanel.getVScrollPosition();this.needToMoveUp=t<e.top+50,this.needToMoveDown=t>e.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},e.prototype.ensureIntervalCleared=function(){E(this.movingIntervalId)&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},e.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null;this.needToMoveDown?e=this.gridPanel.scrollVertically(t):this.needToMoveUp&&(e=this.gridPanel.scrollVertically(-t)),0!==e&&this.onDragging(this.lastDraggingEvent)},e.prototype.addRowDropZone=function(t){var e=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(n){t.onDragEnter(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(n.onDragLeave=function(n){t.onDragLeave(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(n.onDragging=function(n){t.onDragging(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(n.onDragStop=function(n){t.onDragStop(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(Oc({isInterestedIn:function(t){return t===Ra.RowDrag},getIconName:function(){return tl.ICON_MOVE},external:!0},n))}else xt((function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},e.prototype.getRowDropZone=function(t){var e=this,n=this.getContainer.bind(this),r=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(n){r(n),t.onDragEnter(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_ENTER,n))}:r,onDragLeave:t.onDragLeave?function(n){o(n),t.onDragLeave(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_LEAVE,n))}:o,onDragging:t.onDragging?function(n){i(n),t.onDragging(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_MOVE,n))}:i,onDragStop:t.onDragStop?function(n){s(n),t.onDragStop(e.draggingToRowDragEvent(ke.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:r,onDragLeave:o,onDragging:i,onDragStop:s,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,e){var n,r=this.mouseEventService.getNormalisedPosition(e).y,o=-1,i=null;switch(r>this.paginationProxy.getCurrentPageHeight()||(o=this.rowModel.getRowIndexAtPixel(r),i=this.rowModel.getRow(o)),e.vDirection){case ka.Down:n="down";break;case ka.Up:n="up";break;default:n=null}return{type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:o,overNode:i,y:r,vDirection:n}},e.prototype.dispatchGridEvent=function(t,e){var n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(ke.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(ke.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.ensureIntervalCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},Ec([Yt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ec([Yt("rowModel")],e.prototype,"rowModel",void 0),Ec([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),Ec([Yt("columnController")],e.prototype,"columnController",void 0),Ec([Yt("focusController")],e.prototype,"focusController",void 0),Ec([Yt("sortController")],e.prototype,"sortController",void 0),Ec([Yt("filterManager")],e.prototype,"filterManager",void 0),Ec([Yt("selectionController")],e.prototype,"selectionController",void 0),Ec([qt("rangeController")],e.prototype,"rangeController",void 0),Ec([Yt("mouseEventService")],e.prototype,"mouseEventService",void 0),Ec([zt],e.prototype,"postConstruct",null),e}(Se),Tc=(rc=function(t,e){return(rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kc=function(t){function e(){var e=t.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return e.scrollLeft=-1,e.scrollTop=-1,e.resetLastHorizontalScrollElementDebounced=Gt(e.resetLastHorizontalScrollElement.bind(e),500),e}return Tc(e,t),e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},e.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[t&&!e?"showNoRowsOverlay":"hideOverlay"]()},e.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay(),this.rowRenderer.forEachCellComp((function(t){return t.onNewColumnsLoaded()}))},e.prototype.init=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addPreventScrollWhileDragging(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&(Ur(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eCenterViewport,this.eBodyViewport].forEach((function(e){var n=t.resizeObserverService.observeResize(e,t.onCenterViewportResized.bind(t));t.addDestroyFunc((function(){return n()}))})),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){t.addManagedListener(e,"focusin",(function(){xn(e,"ag-has-focus")})),t.addManagedListener(e,"focusout",(function(t){e.contains(t.relatedTarget)||Nn(e,"ag-has-focus")}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.setWidthsOfContainers(),this.setPinnedContainerSize())},e.prototype.onCenterViewportResized=function(){if($n(this.eCenterViewport)){this.checkViewportAndScrolls();var t=this.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.setColumnMovingCss=function(t){this.addOrRemoveCssClass("ag-column-moving",t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){return In(e,"ag-selectable",t)}))},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Pc(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var e=[this.eBodyViewport,this.eBottom,this.eTop],n=function(n){var r=n.relatedTarget;if(null!==Pn(r)){var o=e.some((function(t){return t.contains(r)}));if(!o){var i=t.popupService;o=i.getActivePopups().some((function(t){return t.contains(r)}))||i.isElementWithinCustomPopup(r)}o||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()};e.forEach((function(e){return t.addManagedListener(e,"focusout",n)}))}},e.prototype.addAngularApplyCheck=function(){var t=this,e=!1,n=function(){e||(e=!0,window.setTimeout((function(){e=!1,t.$scope.$apply()}),0))};this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,ke.EVENT_VIRTUAL_COLUMNS_CHANGED,n)},e.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,wa.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},e.prototype.addDragListeners=function(){var t=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!S(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(e){var n={eElement:e,onDragStart:t.rangeController.onDragStart.bind(t.rangeController),onDragStop:t.rangeController.onDragStop.bind(t.rangeController),onDragging:t.rangeController.onDragging.bind(t.rangeController)};t.dragService.addDragSource(n),t.addDestroyFunc((function(){return t.dragService.removeDragSource(n)}))}))},e.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click","mousedown"].forEach((function(e){var n=t.processMouseEvent.bind(t,e);t.eAllCellContainers.forEach((function(r){return t.addManagedListener(r,e,n)}))}))},e.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eAllCellContainers.forEach((function(t){t.addEventListener("touchmove",e,{passive:!1})})),this.addDestroyFunc((function(){t.eAllCellContainers.forEach((function(t){t.removeEventListener("touchmove",e)}))}))},e.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var n=t.processKeyboardEvent.bind(t,e);t.eAllCellContainers.forEach((function(r){t.addManagedListener(r,e,n)}))}))},e.prototype.addBodyViewportListener=function(){var t=this;this.addManagedListener(this.eBodyViewport,"contextmenu",(function(e){var n=ve(e);n!==t.eBodyViewport&&n!==t.eCenterViewport||(t.onContextMenu(e,null,null,null,null,t.getGui()),t.preventDefaultOnContextMenu(e))}))},e.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},e.prototype.getRowForEvent=function(t){for(var e=ve(t);e;){var n=this.gridOptionsWrapper.getDomData(e,vl.DOM_DATA_KEY_RENDERED_ROW);if(n)return n;e=e.parentElement}return null},e.prototype.processKeyboardEvent=function(t,e){var n=ge(this.gridOptionsWrapper,e);if(n&&!e.defaultPrevented){var r=n.getRenderedRow().getRowNode(),o=n.getColumn(),i=n.isEditing();if(!fo(this.gridOptionsWrapper,e,r,o,i))switch(t){case"keydown":!i&&this.navigationService.handlePageScrollingKey(e)||n.onKeyDown(e),this.doGridOperations(e,n);break;case"keypress":n.onKeyPress(e)}if("keydown"===t){var s=n.createEvent(e,ke.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===t){var a=n.createEvent(e,ke.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e.isEditing()&&this.mouseEventService.isEventFromThisGrid(t))switch(t.which){case Xo.A:return this.onCtrlAndA(t);case Xo.C:return this.onCtrlAndC(t);case Xo.V:return this.onCtrlAndV();case Xo.D:return this.onCtrlAndD(t);case Xo.Z:return t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Xo.Y:return this.undoRedoService.redo()}},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!he(e)){var n=this.getRowForEvent(e),r=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?(this.preventDefaultOnContextMenu(e),this.handleContextMenuMouseEvent(e,null,n,r)):(r&&r.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}},e.prototype.mockContextMenuForIPad=function(){var t=this;Sn()&&this.eAllCellContainers.forEach((function(e){var n=new _i(e);t.addManagedListener(n,_i.EVENT_LONG_TAP,(function(e){var n=t.getRowForEvent(e.touchEvent),r=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,r)})),t.addDestroyFunc((function(){return n.destroy()}))}))},e.prototype.handleContextMenuMouseEvent=function(t,e,n,r){var o=n?n.getRowNode():null,i=r?r.getColumn():null,s=null;i&&(r.dispatchCellContextMenuEvent(t||e),s=this.valueService.getValue(i,o));var a=r?r.getGui():this.getGui();this.onContextMenu(t,e,o,i,s,a)},e.prototype.onContextMenu=function(t,e,n,r,o,i){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&t&&(t.ctrlKey||t.metaKey)||this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&this.contextMenuFactory.showMenu(n,r,o,t||e.touches[0],i)&&(t||e).preventDefault()},e.prototype.preventDefaultOnContextMenu=function(t){var e=this.gridOptionsWrapper,n=t.which;(e.isPreventDefaultOnContextMenu()||e.isSuppressMiddleClickScrolls()&&2===n)&&t.preventDefault()},e.prototype.onCtrlAndA=function(t){var e=this.pinnedRowModel,n=this.rangeController,r=ne.PINNED_BOTTOM,o=ne.PINNED_TOP;if(n&&this.paginationProxy.isRowsToRender()){var i=[e.isEmpty(o),e.isEmpty(r)],s=i[0]?null:o,a=void 0,l=void 0;i[1]?(a=null,l=this.paginationProxy.getRowCount()-1):(a=r,l=e.getPinnedBottomRowData().length-1);var u=this.columnController.getAllDisplayedColumns();if(P(u))return;n.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:V(u)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),t.preventDefault())},e.prototype.onCtrlAndV=function(){re.isRegistered(Jt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){re.isRegistered(Jt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.ensureIndexVisible=function(t,e){if(!this.printLayout){var n=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=n)console.warn("invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(t);var r,o=this.paginationProxy.getRow(t);do{var i=o.rowTop,s=o.rowHeight,a=this.paginationProxy.getPixelOffset(),l=o.rowTop-a,u=l+o.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getOffset(),h=c.top+p,d=c.bottom+p,f=d-h,g=this.heightScaler.getScrollPositionForPixel(l),y=this.heightScaler.getScrollPositionForPixel(u-f),v=Math.min((g+y)/2,l),m=null;"top"===e?m=g:"bottom"===e?m=y:"middle"===e?m=v:h>l?m=g:d<u&&(m=y),null!==m&&(this.eBodyViewport.scrollTop=m,this.rowRenderer.redrawAfterScroll()),r=i!==o.rowTop||s!==o.rowHeight}while(r);this.animationFrameService.flushAllFrames()}}},e.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return In(this.eBodyViewport,"ag-force-vertical-scroll",t),t||pr(this.eBodyViewport)},e.prototype.isHorizontalScrollShowing=function(){return cr(this.eCenterViewport)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:!1,verticalScrollShowing:!1};t.verticalScrollShowing=this.isVerticalScrollShowing(),t.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(t),this.setHorizontalScrollVisible(t.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},e.prototype.setHorizontalScrollVisible=function(t){var e=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=e?0:n,o=bn()&&t;this.eCenterViewport.style.height="calc(100% + "+n+"px)",gr(this.eHorizontalScrollBody,r),gr(this.eBodyHorizontalScrollViewport,r+(o?1:0)),gr(this.eBodyHorizontalScrollContainer,r)},e.prototype.setVerticalScrollPaddingVisible=function(t){this.eTop.style.overflowY=this.eBottom.style.overflowY=t?"scroll":"hidden",this.setFakeHScrollSpacerWidths()},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.paginationProxy.getType(),n=-1;e===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&(n=0,this.paginationProxy.forEachNode((function(t){t.group||n++})));var r=-1===n?-1:t+n;Kr(this.getGui(),r)},e.prototype.updateColumnCount=function(){var t=this.columnController.getAllGridColumns();qr(this.getGui(),t.length)},e.prototype.ensureColumnVisible=function(t){var e=this.columnController.getGridColumn(t);if(e)if(e.isPinned())console.warn("calling ensureIndexVisible on a "+e.getPinned()+" pinned column doesn't make sense for column "+e.getColId());else if(this.columnController.isColumnDisplayed(e)){var n,r,o=e.getLeft(),i=o+e.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(n=l-a-s,r=l-a):(n=a,r=s+a);var u=n>o,c=r<i,p=s<e.getActualWidth(),h=u||p;(h||c)&&this.setCenterViewportScrollLeft(this.enableRtl?h?l-s-o:l-i:h?o:i-s),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},e.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},e.prototype.sizeColumnsToFit=function(t){var e=this,n=this.eBodyViewport.clientWidth;n>0?this.columnController.sizeColumnsToFit(n,"sizeColumnsToFit"):void 0===t?window.setTimeout((function(){e.sizeColumnsToFit(100)}),0):100===t?window.setTimeout((function(){e.sizeColumnsToFit(500)}),100):500===t?window.setTimeout((function(){e.sizeColumnsToFit(-1)}),500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.getCenterContainer=function(){return this.eCenterContainer},e.prototype.getDropTargetBodyContainers=function(){return[this.eBodyViewport,this.eTopViewport,this.eBottomViewport]},e.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},e.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},e.prototype.buildRowContainerComponents=function(){var t=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new wc({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new wc({eContainer:this.eFullWidthContainer}),pinnedLeft:new wc({eContainer:this.eLeftContainer}),pinnedRight:new wc({eContainer:this.eRightContainer}),floatingTop:new wc({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new wc({eContainer:this.eLeftTop}),floatingTopPinnedRight:new wc({eContainer:this.eRightTop}),floatingTopFullWidth:new wc({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new wc({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new wc({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new wc({eContainer:this.eRightBottom}),floatingBottomFullWidth:new wc({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},ct(this.rowContainerComponents,(function(e,n){n&&t.getContext().createBean(n)}))},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsWrapper.isAnimateRows()&&!t.heightScaler.isScaling();In(t.eBodyViewport,"ag-row-animation",e),In(t.eBodyViewport,"ag-row-no-animation",!e)};e(),this.addManagedListener(this.eventService,ke.EVENT_HEIGHT_SCALE_CHANGED,e)},e.prototype.suppressScrollOnFloatingRow=function(){var t=this;this.addManagedListener(this.eTopViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0})),this.addManagedListener(this.eBottomViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0}))},e.prototype.getRowContainers=function(){return this.rowContainerComponents},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},e.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},e.prototype.setCenterWidth=function(){var t=this.headerRootComp,e=this.columnController,n=e.getBodyContainerWidth();this.printLayout&&(n+=e.getPinnedLeftContainerWidth()+e.getPinnedRightContainerWidth()),t.setHeaderContainerWidth(n);var r=n+"px";this.eCenterContainer.style.width=r,this.eBottomContainer.style.width=r,this.eTopContainer.style.width=r,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=r)},e.prototype.setPinnedLeftWidth=function(){var t=this,e=this.pinningLeft,n=this.columnController.getPinnedLeftContainerWidth(),r=this.pinningLeft=!this.printLayout&&n>0,o=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];e!==r&&this.headerRootComp.setLeftVisible(r),o.forEach((function(e){return jn(e,t.pinningLeft)})),r&&o.forEach((function(t){return dr(t,n)}))},e.prototype.setPinnedRightWidth=function(){var t=this.pinningRight,e=this.columnController.getPinnedRightContainerWidth(),n=this.pinningRight=!this.printLayout&&e>0,r=[this.eRightContainer,this.eRightTop,this.eRightBottom];t!==n&&this.headerRootComp.setRightVisible(n),r.forEach((function(t){return jn(t,n)})),n&&r.forEach((function(t){return dr(t,e)}))},e.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.columnController.getPinnedRightContainerWidth(),e=!this.enableRtl&&this.isVerticalScrollShowing(),n=this.gridOptionsWrapper.getScrollbarWidth();e&&(t+=n),dr(this.eHorizontalRightSpacer,t),In(this.eHorizontalRightSpacer,"ag-scroller-corner",t<=n);var r=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(r+=n),dr(this.eHorizontalLeftSpacer,r),In(this.eHorizontalLeftSpacer,"ag-scroller-corner",r<=n)},e.prototype.checkBodyHeight=function(){var t=this.eBodyViewport.clientHeight;this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:ke.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.setHeaderAndFloatingHeights=function(){var t,e,n,r=this,o=r.columnController,i=r.gridOptionsWrapper,s=r.pinnedRowModel,a=r.eTop,l=r.eBottom,u=0,c=o.getHeaderRowCount();o.isPivotMode()?(e=i.getPivotGroupHeaderHeight(),n=i.getPivotHeaderHeight()):(o.hasFloatingFilters()&&(c++,u=1),e=i.getGroupHeaderHeight(),n=i.getHeaderHeight());var p=c-(1+u);t=u*i.getFloatingFiltersHeight(),t+=p*e,this.headerRootComp.setHeight(t+=n);var h=s.getPinnedTopTotalHeight();h&&(h+=1);var d=s.getPinnedBottomTotalHeight();d&&(d+=1);var f=h+"px",g=d+"px";a.style.minHeight=f,a.style.height=f,a.style.display=h?"inherit":"none",l.style.minHeight=g,l.style.height=g,l.style.display=d?"inherit":"none",this.checkBodyHeight()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.setHorizontalScrollPosition=function(t){var e=this.eCenterViewport.scrollWidth-this.eCenterViewport.clientWidth;this.shouldBlockScrollUpdate("horizontal",t)&&(t=Math.min(Math.max(t,0),e)),this.eCenterViewport.scrollLeft=t,this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.scrollHorizontally=function(t){var e=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(e+t),this.eCenterViewport.scrollLeft-e},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this));var t=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Gt(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",t)},e.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.scrollTop=t,this.redrawRowsAfterScroll())},e.prototype.shouldBlockScrollUpdate=function(t,e,n){if(void 0===n&&(n=!1),n&&!Sn())return!1;if("vertical"===t){var r=this.eBodyViewport;if(e<0||e+r.clientHeight>r.scrollHeight)return!0}if("horizontal"===t){var o=this.eCenterViewport,i=o.clientWidth,s=o.scrollWidth;if(this.enableRtl&&Yn()){if(e>0)return!0}else if(e<0)return!0;if(Math.abs(e)+i>s)return!0}return!1},e.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},e.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},e.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},e.prototype.onBodyHorizontalScroll=function(t){this.shouldBlockScrollUpdate("horizontal",this.eCenterViewport.scrollLeft,!0)||(this.doHorizontalScroll(Math.floor(qn(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},e.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},e.prototype.doHorizontalScroll=function(t){this.scrollLeft=t,this.eventService.dispatchEvent({type:ke.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop}),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged()},e.prototype.redrawRowsAfterScroll=function(){this.eventService.dispatchEvent({type:ke.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop})},e.prototype.onHorizontalViewportChanged=function(){var t=this.eCenterViewport.clientWidth,e=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(t,e)},e.prototype.getCenterViewportScrollLeft=function(){return qn(this.eCenterViewport,this.enableRtl)},e.prototype.setCenterViewportScrollLeft=function(t){Xn(this.eCenterViewport,t,this.enableRtl)},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){void 0===t&&(t=this.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t;this.headerRootComp.setHorizontalScroll(e),this.eBottomContainer.style.transform="translateX("+e+"px)",this.eTopContainer.style.transform="translateX("+e+"px)",Xn(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,t,this.enableRtl)},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},Rc([Yt("alignedGridsService")],e.prototype,"alignedGridsService",void 0),Rc([Yt("rowRenderer")],e.prototype,"rowRenderer",void 0),Rc([Yt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Rc([Yt("animationFrameService")],e.prototype,"animationFrameService",void 0),Rc([Yt("navigationService")],e.prototype,"navigationService",void 0),Rc([Yt("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),Rc([Yt("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Rc([Yt("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Rc([Yt("paginationAutoPageSizeService")],e.prototype,"paginationAutoPageSizeService",void 0),Rc([Yt("beans")],e.prototype,"beans",void 0),Rc([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),Rc([Yt("columnApi")],e.prototype,"columnApi",void 0),Rc([Yt("gridApi")],e.prototype,"gridApi",void 0),Rc([Yt("dragService")],e.prototype,"dragService",void 0),Rc([Yt("mouseEventService")],e.prototype,"mouseEventService",void 0),Rc([Yt("$scope")],e.prototype,"$scope",void 0),Rc([Yt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Rc([Yt("valueService")],e.prototype,"valueService",void 0),Rc([Yt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Rc([Yt("maxDivHeightScaler")],e.prototype,"heightScaler",void 0),Rc([Yt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Rc([Yt("undoRedoService")],e.prototype,"undoRedoService",void 0),Rc([Yt("columnController")],e.prototype,"columnController",void 0),Rc([Yt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Rc([Yt("popupService")],e.prototype,"popupService",void 0),Rc([qt("rangeController")],e.prototype,"rangeController",void 0),Rc([qt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Rc([qt("menuFactory")],e.prototype,"menuFactory",void 0),Rc([qt("clipboardService")],e.prototype,"clipboardService",void 0),Rc([Bo("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Rc([Bo("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Rc([Bo("eCenterViewport")],e.prototype,"eCenterViewport",void 0),Rc([Bo("eLeftContainer")],e.prototype,"eLeftContainer",void 0),Rc([Bo("eRightContainer")],e.prototype,"eRightContainer",void 0),Rc([Bo("eCenterColsClipper")],e.prototype,"eCenterColsClipper",void 0),Rc([Bo("eHorizontalScrollBody")],e.prototype,"eHorizontalScrollBody",void 0),Rc([Bo("eHorizontalLeftSpacer")],e.prototype,"eHorizontalLeftSpacer",void 0),Rc([Bo("eHorizontalRightSpacer")],e.prototype,"eHorizontalRightSpacer",void 0),Rc([Bo("eBodyHorizontalScrollViewport")],e.prototype,"eBodyHorizontalScrollViewport",void 0),Rc([Bo("eBodyHorizontalScrollContainer")],e.prototype,"eBodyHorizontalScrollContainer",void 0),Rc([Bo("eFullWidthContainer")],e.prototype,"eFullWidthContainer",void 0),Rc([Bo("eTop")],e.prototype,"eTop",void 0),Rc([Bo("eLeftTop")],e.prototype,"eLeftTop",void 0),Rc([Bo("eRightTop")],e.prototype,"eRightTop",void 0),Rc([Bo("eTopContainer")],e.prototype,"eTopContainer",void 0),Rc([Bo("eTopViewport")],e.prototype,"eTopViewport",void 0),Rc([Bo("eTopFullWidthContainer")],e.prototype,"eTopFullWidthContainer",void 0),Rc([Bo("eBottom")],e.prototype,"eBottom",void 0),Rc([Bo("eLeftBottom")],e.prototype,"eLeftBottom",void 0),Rc([Bo("eRightBottom")],e.prototype,"eRightBottom",void 0),Rc([Bo("eBottomContainer")],e.prototype,"eBottomContainer",void 0),Rc([Bo("eBottomViewport")],e.prototype,"eBottomViewport",void 0),Rc([Bo("eBottomFullWidthContainer")],e.prototype,"eBottomFullWidthContainer",void 0),Rc([Bo("headerRoot")],e.prototype,"headerRootComp",void 0),Rc([Bo("overlayWrapper")],e.prototype,"overlayWrapper",void 0),Rc([zt],e.prototype,"init",null),e}(Go),Ac=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dc=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.registerGridCore=function(t){this.gridCore=t},t.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},t.prototype.init=function(){switch(this.rowModel.getType()){case ne.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ne.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ne.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;ct(this.detailGridInfoMap,(function(n,r){E(r)&&(t(r,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(re.assertRegistered(Jt.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){re.assertRegistered(Jt.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getDataAsExcel=function(t){if(re.assertRegistered(Jt.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(t)},t.prototype.exportDataAsExcel=function(t){re.assertRegistered(Jt.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(t)},t.prototype.setEnterpriseDatasource=function(t){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},t.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.gridPanel.getGui(),r="aria-"+t;null===e?n.removeAttribute(r):n.setAttribute(r,e)}},t.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ne.ROW_MODEL_TYPE_SERVER_SIDE+"'")},t.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+ne.ROW_MODEL_TYPE_INFINITE+"'")},t.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ne.ROW_MODEL_TYPE_VIEWPORT+"'")},t.prototype.setRowData=function(t){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var e=this.immutableService.createTransactionForRowData(t);if(!e)return;var n=this.clientSideRowModel.updateRowData(e[0],e[1]);n&&this.rowRenderer.refreshFullWidthRows(n.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(t);else console.warn("cannot call setRowData unless using normal row model")},t.prototype.setFloatingTopRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},t.prototype.setFloatingBottomRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},t.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},t.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},t.prototype.getFloatingTopRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},t.prototype.getFloatingBottomRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnController.setColumnDefs(t,e)},t.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},t.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},t.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={}),t&&t.rowNodes?this.rowRenderer.redrawRows(t.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},t.prototype.timeFullRedraw=function(t){void 0===t&&(t=1);var e=0,n=0,r=0,o=this;!function i(){var s=(new Date).getTime();o.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout((function(){var o=(new Date).getTime(),l=a-s,u=o-a;console.log("duration:  processing = "+l+"ms, reflow = "+u+"ms"),e++,n+=l,r+=u,e<t?window.setTimeout(i,1e3):(console.log("tests complete. iteration count = "+e),console.log("average processing = "+n/e+"ms"),console.log("average reflow = "+r/e+"ms"))}),0)}()},t.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},t.prototype.refreshRows=function(t){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:t})},t.prototype.rowDataChanged=function(t){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},t.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},t.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},t.prototype.onGroupExpandedOrCollapsed=function(t){S(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),E(t)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ne.STEP_MAP})},t.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},t.prototype.refreshClientSideRowModel=function(t){S(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=ne.STEP_EVERYTHING,n={group:ne.STEP_EVERYTHING,filter:ne.STEP_FILTER,map:ne.STEP_MAP,aggregate:ne.STEP_AGGREGATE,sort:ne.STEP_SORT,pivot:ne.STEP_PIVOT};E(t)&&(e=n[t]),S(e)?console.error("ag-Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", ")):this.clientSideRowModel.refreshModel({step:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},t.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("ag-Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},t.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("ag-Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},t.prototype.getToolPanelInstance=function(t){return this.gridCore.getToolPanelInstance(t)},t.prototype.addVirtualRowListener=function(t,e,n){"string"!=typeof t&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,n)},t.prototype.addRenderedRowListener=function(t,e,n){"virtualRowSelected"===t&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},t.prototype.selectIndex=function(t,e,n){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(t,e)},t.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(t)},t.prototype.selectNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},t.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},t.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},t.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},t.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},t.prototype.recomputeAggregates=function(){S(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ne.STEP_AGGREGATE})},t.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},t.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},t.prototype.isNodeSelected=function(t){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},t.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(t){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},t.prototype.ensureColumnVisible=function(t){this.gridPanel.ensureColumnVisible(t)},t.prototype.ensureIndexVisible=function(t,e){this.gridPanel.ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){this.gridCore.ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){S(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},t.prototype.forEachNodeAfterFilter=function(t){S(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){S(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterApiForColDef=function(t){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.getFilterInstance=function(t,e){var n=this.columnController.getPrimaryColumn(t);if(n){var r=this.filterManager.getFilterComponent(n,"NO_UI"),o=r&&r.resolveNow(null,(function(t){return t}));return e&&(o?setTimeout(e,0,o):r&&r.then(e)),o}},t.prototype.getFilterApi=function(t){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.destroyFilter=function(t){var e=this.columnController.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},t.prototype.getStatusPanel=function(t){if(this.statusBarService)return this.statusBarService.getStatusPanel(t)},t.prototype.getColumnDef=function(t){var e=this.columnController.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged()},t.prototype.setSortModel=function(t,e){void 0===e&&(e="api"),console.warn("ag-Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var n=[];t&&t.forEach((function(t,e){n.push({colId:t.colId,sort:t.sort,sortIndex:e})})),this.columnController.applyColumnState({state:n,defaultState:{sort:null}})},t.prototype.getSortModel=function(){console.warn("ag-Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var t=this.columnController.getColumnState().filter((function(t){return null!=t.sort})),e={};t.forEach((function(t){e[t.colId]=t.sortIndex}));var n=t.map((function(t){return{colId:t.colId,sort:t.sort}}));return n.sort((function(t,n){return e[t.colId]-e[n.colId]})),n},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusController.setFocusedCell(t,e,n,!0)},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_SUPPRESS_ROW_DRAG,t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},t.prototype.addRowDropZone=function(t){this.gridPanel.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridPanel.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_DOM_LAYOUT,t)},t.prototype.setEnableCellTextSelection=function(t){this.gridPanel.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_FILL_HANDLE_DIRECTION,t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_FLOATING_FILTERS_HEIGHT,t),this.doLayout()},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_PIVOT_HEADER_HEIGHT,t),this.doLayout()},t.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},t.prototype.setSideBarVisible=function(t){this.gridCore.setSideBarVisible(t)},t.prototype.setSideBarPosition=function(t){this.gridCore.setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.gridCore.openToolPanel(t)},t.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},t.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},t.prototype.getSideBar=function(){return this.gridCore.getSideBar()},t.prototype.setSideBar=function(t){return this.gridCore.setSideBar(t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},t.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},t.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},t.prototype.resetRowHeights=function(){E(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnController.getPrimaryColumn(t);return S(n)&&(n=this.columnController.getGridColumn(t)),S(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,n)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Tt.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("ag-Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},t.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},t.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},t.prototype.camelCaseToHumanReadable=function(t){return je(t)},t.prototype.addRangeSelection=function(t){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},t.prototype.addCellRange=function(t){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(t)},t.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},t.prototype.undoCellEditing=function(){this.undoRedoService.undo()},t.prototype.redoCellEditing=function(){this.undoRedoService.redo()},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(re.assertRegistered(Jt.RangeSelectionModule,"api.getChartModels")&&re.assertRegistered(Jt.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.createRangeChart=function(t){if(re.assertRegistered(Jt.RangeSelectionModule,"api.createRangeChart")&&re.assertRegistered(Jt.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createCrossFilterChart=function(t){if(re.assertRegistered(Jt.RangeSelectionModule,"api.createCrossFilterChart")&&re.assertRegistered(Jt.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},t.prototype.restoreChart=function(t,e){if(re.assertRegistered(Jt.RangeSelectionModule,"api.restoreChart")&&re.assertRegistered(Jt.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},t.prototype.createPivotChart=function(t){if(re.assertRegistered(Jt.RangeSelectionModule,"api.createPivotChart")&&re.assertRegistered(Jt.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copySelectedRowsToClipboard=function(t,e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t,e)},t.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnController.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e)},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnController.getGridColumn(t);n||(n=this.columnController.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("ag-Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(wa.PROP_POPUP_PARENT,t)},t.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},t.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnController.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e};S(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),this.rowRenderer.startEditingCell(n,t.keyPress,t.charPress)}else console.warn("ag-Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);console.warn("ag-Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},t.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);console.warn("ag-Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},t.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("ag-Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},t.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("ag-Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},t.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e}console.error("ag-Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},t.prototype.updateRowData=function(t){return xt((function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")}),"updateRowData deprecated"),this.applyTransaction(t)},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.batchUpdateRowData=function(t,e){xt((function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")}),"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},t.prototype.insertItemsAtIndex=function(t,e,n){void 0===n&&(n=!1),console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},t.prototype.removeItems=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=t.map((function(t){return t.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:n})},t.prototype.addItems=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},t.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},t.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},t.prototype.purgeServerSideCache=function(t){void 0===t&&(t=[]),this.serverSideRowModel?(console.warn("ag-Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:t,purge:!0})):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},t.prototype.refreshServerSideStore=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):console.warn("ag-Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},t.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("ag-Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},t.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.isMaxRowFound=function(){return console.warn("ag-Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},t.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},t.prototype.setVirtualRowCount=function(t,e){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(t,e)},t.prototype.setInfiniteRowCount=function(t,e){console.warn("ag-Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(t,e)},t.prototype.setRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):console.warn("ag-Grid: api.setRowCount is only available for Infinite Row Model.")},t.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},t.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},Ac([qt("immutableService")],t.prototype,"immutableService",void 0),Ac([qt("csvCreator")],t.prototype,"csvCreator",void 0),Ac([qt("excelCreator")],t.prototype,"excelCreator",void 0),Ac([Yt("rowRenderer")],t.prototype,"rowRenderer",void 0),Ac([Yt("filterManager")],t.prototype,"filterManager",void 0),Ac([Yt("columnController")],t.prototype,"columnController",void 0),Ac([Yt("selectionController")],t.prototype,"selectionController",void 0),Ac([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ac([Yt("valueService")],t.prototype,"valueService",void 0),Ac([Yt("alignedGridsService")],t.prototype,"alignedGridsService",void 0),Ac([Yt("eventService")],t.prototype,"eventService",void 0),Ac([Yt("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ac([Yt("context")],t.prototype,"context",void 0),Ac([Yt("rowModel")],t.prototype,"rowModel",void 0),Ac([Yt("sortController")],t.prototype,"sortController",void 0),Ac([Yt("paginationProxy")],t.prototype,"paginationProxy",void 0),Ac([Yt("focusController")],t.prototype,"focusController",void 0),Ac([Yt("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ac([qt("rangeController")],t.prototype,"rangeController",void 0),Ac([qt("clipboardService")],t.prototype,"clipboardService",void 0),Ac([qt("aggFuncService")],t.prototype,"aggFuncService",void 0),Ac([Yt("menuFactory")],t.prototype,"menuFactory",void 0),Ac([qt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Ac([Yt("valueCache")],t.prototype,"valueCache",void 0),Ac([Yt("animationFrameService")],t.prototype,"animationFrameService",void 0),Ac([qt("statusBarService")],t.prototype,"statusBarService",void 0),Ac([qt("chartService")],t.prototype,"chartService",void 0),Ac([qt("undoRedoService")],t.prototype,"undoRedoService",void 0),Ac([qt("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ac([qt("ssrmTransactionManager")],t.prototype,"serverSideTransactionManager",void 0),Ac([zt],t.prototype,"init",null),Ac([Ut],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Ac([Kt("gridApi")],t)}(),xc=(nc=function(t,e){return(nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ic=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return xc(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){return"function"==typeof t?t(e):"string"==typeof t?this.evaluateExpression(t,e):void console.error("ag-Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Nc([(n=Qt("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Nc([Kt("expressionService")],e);var n}(Se),Fc=(ec=function(t,e){return(ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ec(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Fc(e,t),e.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var r=this.waitingCallbacks[t],o=this;if(!r){this.waitingCallbacks[t]=r=[];var i=new XMLHttpRequest;i.onload=function(){o.handleHttpResult(this,t)},i.open("GET",t),i.send()}return e&&r.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],r=0;r<n.length;r++)(0,n[r])();if(this.$scope){var o=this;window.setTimeout((function(){o.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+t.status+" - "+e)},Mc([Yt("$scope")],e.prototype,"$scope",void 0),Mc([Kt("templateService")],e)}(Se),jc=(tc=function(t,e){return(tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}return jc(e,t),e.prototype.registerGridCore=function(t){var e=this;this.gridCore=t,this.addManagedListener(this.gridCore,ke.EVENT_KEYBOARD_FOCUS,(function(){ot(e.popupList,(function(t){return xn(t.element,"ag-keyboard-focus")}))})),this.addManagedListener(this.gridCore,ke.EVENT_MOUSE_FOCUS,(function(){ot(e.popupList,(function(t){return Nn(t.element,"ag-keyboard-focus")}))}))},e.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCore.getRootGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect(),r=this.keepYWithinBounds(t,e.top-n.top),o=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=o+"px";var i,s=n.right-n.left-o;function a(){return e.right-n.left-2}function l(){return e.left-n.left-o}this.gridOptionsWrapper.isEnableRtl()?((i=l())<0&&(i=a()),i>s&&(i=0)):((i=a())>s&&(i=l()),i<0&&(i=0)),t.ePopup.style.left=i+"px",t.ePopup.style.top=r+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this.calculatePointerAlign(t.mouseEvent);this.positionPopup({ePopup:t.ePopup,x:e.x,y:e.y,nudgeX:t.nudgeX,nudgeY:t.nudgeY,keepWithinBounds:!0}),this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupUnderComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=t.alignSide||"left",r=this.getParentRect(),o=e.left-r.left;"right"===n&&(o-=t.ePopup.offsetWidth-e.width),this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,minHeight:t.minHeight,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:o,y:e.top-r.top+e.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.positionPopupOverComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect();this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:e.left-n.left,y:e.top-n.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.callPostProcessPopup=function(t,e,n,r,o,i){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:o,rowNode:i,ePopup:e,type:t,eventSource:n,mouseEvent:r})},e.prototype.positionPopup=function(t){var e=t.x,n=t.y;t.nudgeX&&(e+=t.nudgeX),t.nudgeY&&(n+=t.nudgeY),t.keepWithinBounds&&(e=this.keepXWithinBounds(t,e),n=this.keepYWithinBounds(t,n)),t.ePopup.style.left=e+"px",t.ePopup.style.top=n+"px"},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getParentRect=function(){var t=this.getPopupParent(),e=this.gridOptionsWrapper.getDocument();t===e.body&&(t=e.documentElement);var n=getComputedStyle(t),r=t.getBoundingClientRect();return{top:r.top+parseFloat(n.borderTopWidth)||0,left:r.left+parseFloat(n.borderLeftWidth)||0,right:r.right+parseFloat(n.borderRightWidth)||0,bottom:r.bottom+parseFloat(n.borderBottomWidth)||0}},e.prototype.keepYWithinBounds=function(t,e){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,l=Math.min(200,i.height),u=0;t.minHeight&&t.minHeight<l?l=t.minHeight:t.ePopup.offsetHeight>0&&(l=t.ePopup.clientHeight,u=Un(t.ePopup)-l);var c=a?Un(r)+r.scrollTop:i.height;a&&(c-=Math.abs(s.top-i.top));var p=c-l-u;return Math.min(Math.max(e,0),Math.abs(p))},e.prototype.keepXWithinBounds=function(t,e){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,l=t.ePopup,u=Math.min(200,i.width),c=0;t.minWidth&&t.minWidth<u?u=t.minWidth:l.offsetWidth>0&&(l.style.minWidth=(u=l.offsetWidth)+"px",c=Kn(l)-u);var p=a?Kn(r)+r.scrollLeft:i.width;a&&(p-=Math.abs(s.left-i.left));var h=p-u-c;return Math.min(Math.max(e,0),Math.abs(h))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this.getPopupParent(),n=e.getBoundingClientRect(),r=t.element.getBoundingClientRect(),o=n.top-r.top,i=n.left-r.left,s=o,a=i,l=t.ePopup.style.top,u=parseInt(l.substring(0,l.length-1),10),c=t.ePopup.style.left,p=parseInt(c.substring(0,c.length-1),10),h=window.setInterval((function(){var n=e.getBoundingClientRect(),r=t.element.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)t.hidePopup();else{var l=n.top-r.top;l!=s&&(t.ePopup.style.top=u+o-l+"px"),s=l;var c=n.left-r.left;c!=a&&(t.ePopup.style.left=p+i-c+"px"),a=c}}),200);return function(){null!=h&&window.clearInterval(h),h=void 0}},e.prototype.addPopup=function(t){var e=this,n=t.modal,r=t.eChild,o=t.closeOnEsc,i=t.closedCallback,s=t.click,a=t.alwaysOnTop,l=t.afterGuiAttached,u=t.positionCallback,c=t.anchorToElement,p=this.gridOptionsWrapper.getDocument();if(p){var h=et(this.popupList,(function(t){return t.element===r}));if(-1!==h){var d=this.popupList[h];return{hideFunc:d.hideFunc,stopAnchoringFunc:d.stopAnchoringFunc}}var f=this.getPopupParent();f.appendChild(r),null==r.style.top&&(r.style.top="0px"),null==r.style.left&&(r.style.left="0px");var g=document.createElement("div"),y=this.environment.getTheme().theme;y&&xn(g,y),xn(g,"ag-popup"),xn(r,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),xn(r,"ag-popup-child"),g.appendChild(r),f.appendChild(g),a?this.setAlwaysOnTop(g,!0):this.bringPopupToFront(g);var v,m=!1,C=function(t){g.contains(document.activeElement)&&(t.which||t.keyCode)===Xo.ESCAPE&&_({keyboardEvent:t})},b=function(t){return _({mouseEvent:t})},w=function(t){return _({touchEvent:t})},_=function(t){void 0===t&&(t={});var n=t.mouseEvent,o=t.touchEvent,a=t.keyboardEvent;e.isEventFromCurrentPopup({mouseEvent:n,touchEvent:o},r)||e.isEventSameChainAsOriginalEvent({originalMouseEvent:s,mouseEvent:n,touchEvent:o})||m||(m=!0,f.removeChild(g),p.removeEventListener("keydown",C),p.removeEventListener("mousedown",b),p.removeEventListener("touchstart",w),p.removeEventListener("contextmenu",b),e.eventService.removeEventListener(ke.EVENT_DRAG_STARTED,b),i&&i(n||o||a),e.popupList=e.popupList.filter((function(t){return t.element!==r})),v&&v())};return l&&l({hidePopup:_}),window.setTimeout((function(){o&&p.addEventListener("keydown",C),n&&(p.addEventListener("mousedown",b),e.eventService.addEventListener(ke.EVENT_DRAG_STARTED,b),p.addEventListener("touchstart",w),p.addEventListener("contextmenu",b))}),0),u&&u(),c&&(v=this.keepPopupPositionedRelativeTo({element:c,ePopup:r,hidePopup:_})),this.popupList.push({element:r,hideFunc:_,stopAnchoringFunc:v}),{hideFunc:_,stopAnchoringFunc:v}}console.warn("ag-grid: could not find the document, document is empty")},e.prototype.isEventFromCurrentPopup=function(t,e){var n=t.mouseEvent||t.touchEvent;if(!n)return!1;var r=et(this.popupList,(function(t){return t.element===e}));if(-1===r)return!1;for(var o=r;o<this.popupList.length;o++)if(me(this.popupList[o].element,n))return!0;return this.isElementWithinCustomPopup(n.target)},e.prototype.isElementWithinCustomPopup=function(t){if(!this.popupList.length)return!1;for(;t&&t!==document.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,n=t.mouseEvent,r=t.touchEvent,o=null;if(n?o=n:r&&(o=r.touches[0]),o&&e){var i=n?n.screenY:0,s=Math.abs(e.screenX-(n?n.screenX:0))<5,a=Math.abs(e.screenY-i)<5;if(s&&a)return!0}return!1},e.prototype.getWrapper=function(t){for(;!Mn(t,"ag-popup")&&t.parentElement;)t=t.parentElement;return Mn(t,"ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(In(n,"ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),r=n.length,o=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),i=o.length,s=this.getWrapper(t);if(s&&!(r<=1)&&e.contains(t)){var a=n.indexOf(s);i?Mn(s,"ag-always-on-top")?a!==r-1&&V(o).insertAdjacentElement("afterend",s):a!==r-i-1&&o[0].insertAdjacentElement("beforebegin",s):a!==r-1&&V(n).insertAdjacentElement("afterend",s);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(l)}},Gc([Yt("environment")],e.prototype,"environment",void 0),Gc([Kt("popupService")],e)}(Se),Wc=($u=function(t,e){return($u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wc(e,t),e.prototype.setBeans=function(t){this.logging=t.isDebug()},e.prototype.create=function(t){return new zc(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Bc([(n=Qt("gridOptionsWrapper"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Bc([Kt("loggerFactory")],e);var n}(Se),zc=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+t)},t}(),Uc=(Ju=function(t,e){return(Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ju(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},e.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var r=document.createElement("span");r.style.position="fixed";var o=this.gridPanel.getCenterContainer();o.appendChild(r),this.putRowCellsIntoDummyContainer(t,r),e||this.cloneItemIntoDummy(n,r);var i=r.offsetWidth;return o.removeChild(r),i+this.gridOptionsWrapper.getAutoSizePadding()},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.headerRootComp.forEachHeaderElement((function(n){if(n instanceof Hl){var r=n;r.getColumn()===t&&(e=r)}})),e?e.getGui():null},e.prototype.putRowCellsIntoDummyContainer=function(t,e){var n=this;this.rowRenderer.getAllCellsForColumn(t).forEach((function(t){return n.cloneItemIntoDummy(t,e)}))},e.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var r=document.createElement("div");Mn(n,"ag-header-cell")?(xn(r,"ag-header"),xn(r,"ag-header-row"),r.style.position="static"):xn(r,"ag-row"),r.style.display="table-row",r.appendChild(n),e.appendChild(r)},Kc([Yt("rowRenderer")],e.prototype,"rowRenderer",void 0),Kc([Kt("autoWidthCalculator")],e)}(Se),qc=(Zu=function(t,e){return(Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qc(e,t),e.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};return this.dragService.addDragSource(n,!0),function(){return e.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.userSelect="none",this.eGridDiv.style.webkitUserSelect="none"},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Xc([Yt("dragService")],e.prototype,"dragService",void 0),Xc([Yt("eGridDiv")],e.prototype,"eGridDiv",void 0),Xc([Kt("horizontalResizeService")],e)}(Se),Zc=(Qu=function(t,e){return(Qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$c=function(t){function e(){return t.call(this,void 0,!0)||this}return Zc(e,t),e.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridCore");var n=this.createTemplate();if(this.setTemplate(n),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach((function(t){return t.registerGridCore(e)})),re.isRegistered(Jt.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){e.eGridDiv.removeChild(e.getGui())})),this.$scope){var r=this.$scope.$watch(this.quickFilterOnScope,(function(t){return e.filterManager.setQuickFilter(t)}));this.addDestroyFunc(r)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var o=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return o()}));var i=this.getGui();this.addManagedListener(this,ke.EVENT_KEYBOARD_FOCUS,(function(){xn(i,"ag-keyboard-focus")})),this.addManagedListener(this,ke.EVENT_MOUSE_FOCUS,(function(){Nn(i,"ag-keyboard-focus")})),t.prototype.postConstruct.call(this)},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.createTemplate=function(){var t=re.isRegistered(Jt.SideBarModule),e=re.isRegistered(Jt.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(re.isRegistered(Jt.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(t?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(e?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(re.isRegistered(Jt.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},e.prototype.getFocusableContainers=function(){var t=[this.gridPanel.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return $n(t)}))},e.prototype.focusNextInnerContainer=function(t){var e=this.getFocusableContainers(),n=et(e,(function(t){return t.contains(document.activeElement)}))+(t?-1:1);return!(n<0||n>=e.length)&&(0===n?this.focusGridHeader():this.focusController.focusInto(e[n]))},e.prototype.focusInnerElement=function(t){var e=this.getFocusableContainers();if(t){if(e.length>1)return this.focusController.focusInto(V(e));var n=V(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(n,!0))return!0}return this.focusGridHeader()},e.prototype.focusGridHeader=function(){var t=this.columnController.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnController.getColumnGroupAtLevel(t,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:t}),!0)},e.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:ke.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight})},e.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";xn(this.getGui(),t)},e.prototype.getRootGui=function(){return this.getGui()},e.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},e.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("ag-Grid: sideBar is not loaded")},e.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("ag-Grid: sideBar is not loaded")},e.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(t);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},e.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},e.prototype.setSideBar=function(t){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=ha.parse(t),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},e.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},e.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},e.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},e.prototype.destroy=function(){this.logger.log("Grid DOM removed"),t.prototype.destroy.call(this)},e.prototype.ensureNodeVisible=function(t,e){if(void 0===e&&(e=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var n=this.rowModel.getRowCount(),r="function"==typeof t,o=-1,i=0;i<n;i++){var s=this.rowModel.getRow(i);if(r){if(t(s)){o=i;break}}else if(t===s||t===s.data){o=i;break}}o>=0&&this.gridPanel.ensureIndexVisible(o,e)},e.prototype.onTabKeyDown=function(){},Jc([Yt("gridOptions")],e.prototype,"gridOptions",void 0),Jc([Yt("rowModel")],e.prototype,"rowModel",void 0),Jc([Yt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Jc([Yt("rowRenderer")],e.prototype,"rowRenderer",void 0),Jc([Yt("filterManager")],e.prototype,"filterManager",void 0),Jc([Yt("eGridDiv")],e.prototype,"eGridDiv",void 0),Jc([Yt("$scope")],e.prototype,"$scope",void 0),Jc([Yt("quickFilterOnScope")],e.prototype,"quickFilterOnScope",void 0),Jc([Yt("popupService")],e.prototype,"popupService",void 0),Jc([Yt("columnController")],e.prototype,"columnController",void 0),Jc([Yt("loggerFactory")],e.prototype,"loggerFactory",void 0),Jc([Yt("columnApi")],e.prototype,"columnApi",void 0),Jc([Yt("gridApi")],e.prototype,"gridApi",void 0),Jc([qt("clipboardService")],e.prototype,"clipboardService",void 0),Jc([Bo("gridPanel")],e.prototype,"gridPanel",void 0),Jc([Bo("sideBar")],e.prototype,"sideBarComp",void 0),Jc([Bo("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),e}(ri),tp=(Xu=function(t,e){return(Xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ep=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tp(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(r){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:r})}),e.target)},e.prototype.showMenuAfterButtonClick=function(t,e){var n=this;this.showPopup(t,(function(r){n.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:e,ePopup:r,keepWithinBounds:!0,column:t})}),e)},e.prototype.showPopup=function(t,e,n){var r,o=this,i=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"),s=document.createElement("div");s.setAttribute("role","presentation"),xn(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",(function(t){return o.trapFocusWithin(t,s)})),i.guiPromise.then((function(t){return s.appendChild(t)}));var a=function(t){"horizontal"===t.direction&&r&&r()};this.eventService.addEventListener("bodyScroll",a);var l=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(e){o.eventService.removeEventListener("bodyScroll",a),t.setMenuVisible(!1,"contextMenu");var r=e instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),r&&n&&$n(n)){var i=o.focusController.findTabbableParent(n);i&&i.focus()}}});l&&(this.hidePopup=r=l.hideFunc),i.filterPromise.then((function(t){e(s),t.afterGuiAttached&&t.afterGuiAttached({container:"columnMenu",hidePopup:r})})),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.keyCode!==Xo.TAB||t.defaultPrevented||this.focusController.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusController.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},ep([Yt("filterManager")],e.prototype,"filterManager",void 0),ep([Yt("popupService")],e.prototype,"popupService",void 0),ep([Yt("focusController")],e.prototype,"focusController",void 0),ep([Kt("menuFactory")],e)}(Se),rp=(qu=function(t,e){return(qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),op=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return rp(e,t),e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement;e.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&e.removeEventListener("touchstart",t.touchStartListener,{passive:!0})},e.prototype.removeDragSource=function(t){var e=I(this.dragSources,(function(e){return e.dragSource===t}));e&&(this.removeListener(e),K(this.dragSources,e))},e.prototype.setNoSelectToBody=function(t){var e=this.gridOptionsWrapper.getDocument().querySelector("body");E(e)&&In(e,"ag-unselectable",t)},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",n);var r=null,o=this.gridOptionsWrapper.isSuppressTouch();e&&!o&&(r=this.onTouchStart.bind(this,t),t.eElement.addEventListener("touchstart",r,{passive:!0})),this.dragSources.push({dragSource:t,mouseDownListener:n,touchStartListener:r,touchEnabled:e})},e.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var r=e.touches[0];this.touchLastTime=r,this.touchStart=r;var o=function(e){return n.onTouchUp(e,t.eElement)},i=t.eElement,s=[{target:document,type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(e){return n.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:o,options:{passive:!0}},{target:i,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(r,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var n=this,r=e;if(!(t.skipMouseEvent&&t.skipMouseEvent(e)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,0!==e.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e;var o=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),this.addTemporaryEvents([{target:o,type:"mousemove",listener:function(e){return n.onMouseMove(e,t.eElement)}},{target:o,type:"mouseup",listener:function(e){return n.onMouseUp(e,t.eElement)}},{target:o,type:"contextmenu",listener:function(t){return t.preventDefault()}}]),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){t.target.addEventListener(t.type,t.listener,t.options)})),this.dragEndFunctions.push((function(){t.forEach((function(t){t.target.removeEventListener(t.type,t.listener,t.options)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels;return Co(t,e,E(n)?n:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0,this.eventService.dispatchEvent({type:ke.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:n}),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.onTouchUp=function(t,e){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:ke.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:e})),this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},op([Yt("loggerFactory")],e.prototype,"loggerFactory",void 0),op([Yt("columnApi")],e.prototype,"columnApi",void 0),op([Yt("gridApi")],e.prototype,"gridApi",void 0),op([zt],e.prototype,"init",null),op([Ut],e.prototype,"removeAllListeners",null),op([Kt("dragService")],e)}(Se),sp=(Yu=function(t,e){return(Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ap=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return sp(e,t),n=e,e.prototype.progressSort=function(t,e,n){void 0===n&&(n="api");var r=this.getNextSortDirection(t);this.setSortForColumn(t,r,e,n)},e.prototype.setSortForColumn=function(t,e,n,r){void 0===r&&(r="api"),e!==ne.SORT_ASC&&e!==ne.SORT_DESC&&(e=null),t.setSort(e,r),n&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(t,r),this.updateSortIndex(t),this.dispatchSortChangedEvents()},e.prototype.updateSortIndex=function(t){var e=this.getColumnsWithSortingOrdered(),n=0;e.forEach((function(e){e!==t&&(e.setSortIndex(n),n++)})),t.getSort()&&t.setSortIndex(n),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return null==t.getSort()})).forEach((function(t){return t.setSortIndex()}))},e.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},e.prototype.isSortActive=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:ke.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.clearSortBarThisColumn=function(t,e){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){n!==t&&n.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var r,o=e.indexOf(t.getSort());return n.DEFAULT_SORTING_ORDER.indexOf(r=o<0||o==e.length-1?e[0]:e[o+1])<0?(console.warn("ag-grid: invalid sort type "+r),null):r},e.prototype.getColumnsWithSortingOrdered=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns(),e=t.filter((function(t){return!!t.getSort()})),n={};return t.forEach((function(t,e){return n[t.getId()]=e})),e.sort((function(t,e){var r=t.getSortIndex(),o=e.getSortIndex();return null!=r&&null!=o?r-o:null==r&&null==o?n[t.getId()]>n[e.getId()]?1:-1:null==o?-1:1})),e},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{sort:t.getSort(),colId:t.getId()}}))},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{sort:t.getSort(),column:t}}))},e.DEFAULT_SORTING_ORDER=[ne.SORT_ASC,ne.SORT_DESC,null],ap([Yt("columnController")],e.prototype,"columnController",void 0),ap([Yt("columnApi")],e.prototype,"columnApi",void 0),ap([Yt("gridApi")],e.prototype,"gridApi",void 0),n=ap([Kt("sortController")],e)}(Se),up=(Ku=function(t,e){return(Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ku(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return up(e,t),n=e,e.addKeyboardModeEvents=function(t,e){var r=n.instancesMonitored.get(t);r&&r.length>0?-1===r.indexOf(e)&&r.push(e):(n.instancesMonitored.set(t,[e]),t.addEventListener("keydown",n.toggleKeyboardMode),t.addEventListener("mousedown",n.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(t,e){var r=n.instancesMonitored.get(t),o=[];r&&r.length&&(o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(r).filter((function(t){return t!==e})),n.instancesMonitored.set(t,o)),0===o.length&&(t.removeEventListener("keydown",n.toggleKeyboardMode),t.removeEventListener("mousedown",n.toggleKeyboardMode))},e.toggleKeyboardMode=function(t){var e=n.keyboardModeActive,r="keydown"===t.type;if(!(e&&r||!e&&!r)){n.keyboardModeActive=r;var o=t.target.ownerDocument;if(o){var i=n.instancesMonitored.get(o);i&&i.forEach((function(t){t.dispatchEvent({type:r?ke.EVENT_KEYBOARD_FOCUS:ke.EVENT_MOUSE_FOCUS})}))}}},e.prototype.init=function(){var t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,ke.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},e.prototype.registerGridCore=function(t){var e=this;this.gridCore=t;var r=this.gridOptionsWrapper.getDocument();n.addKeyboardModeEvents(r,t),this.addDestroyFunc((function(){return e.unregisterGridCore(t)}))},e.prototype.unregisterGridCore=function(t){var e=this.gridOptionsWrapper.getDocument();n.removeKeyboardModeEvents(e,t)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnController.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return n.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},e.prototype.getGridCellForDomElement=function(t){for(var e=t;e;){var n=this.gridOptionsWrapper.getDomData(e,dl.DOM_DATA_KEY_CELL_COMP);if(n)return n.getCellPosition();e=e.parentNode}return null},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.setFocusedCell=function(t,e,n,r){void 0===r&&(r=!1);var o=this.columnController.getGridColumn(e);o?(this.focusedCellPosition=o?{rowIndex:t,rowPinned:O(n),column:o}:null,this.onCellFocused(r)):this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumn(),n=t.getParentComponent().getRowIndex(),r=t.getPinned(),o=this.focusedHeaderPosition,i=o.column;return e===i&&n===o.headerRowIndex&&r==i.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t,e,n,r,o){if(void 0===e&&(e=null),void 0===n&&(n=!1),void 0===r&&(r=!1),r){var i,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();n?(i=s.getTabToNextHeaderFunc())&&(t=i({backwards:"Before"===e,previousHeaderPosition:a,nextHeaderPosition:t,headerRowCount:l})):(i=s.getNavigateToNextHeaderFunc())&&o&&(t=i({key:o.key,previousHeaderPosition:a,nextHeaderPosition:t,headerRowCount:l,event:o}))}if(!t)return!1;if(-1===t.headerRowIndex)return this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,e);var u=this.headerNavigationService.getHeaderContainer(t.column.getPinned()).getRowComps()[t.headerRowIndex].getHeaderComps()[t.column.getUniqueId()];return!!u&&(u.getFocusableElement().focus(),!0)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===O(e)},e.prototype.findFocusableElements=function(t,e,n){void 0===n&&(n=!1);var r=ne.FOCUSABLE_EXCLUDE;e&&(r+=", "+e),n&&(r+=', [tabindex="-1"]');var o,i=Array.prototype.slice.apply(t.querySelectorAll(ne.FOCUSABLE_SELECTOR)),s=Array.prototype.slice.apply(t.querySelectorAll(r));return s.length?(o=s,i.filter((function(t){return-1===o.indexOf(t)}))):i},e.prototype.focusInto=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=this.findFocusableElements(t,null,n),o=e?V(r):r[0];return!!o&&(o.focus(),!0)},e.prototype.findNextFocusableElement=function(t,e,n){var r=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),o=(e?et(r,(function(t){return t.contains(document.activeElement)})):r.indexOf(document.activeElement))+(n?-1:1);return o<0||o>=r.length?null:r[o]},e.prototype.isFocusUnderManagedComponent=function(t){var e=t.querySelectorAll("."+ri.FOCUS_MANAGED_CLASS);if(!e.length)return!1;for(var n=0;n<e.length;n++)if(e[n].contains(document.activeElement))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var n=0;t&&null===Pn(t)&&++n<=e;)t=t.parentElement;return null===Pn(t)?null:t},e.prototype.onCellFocused=function(t){var e={type:ke.EVENT_CELL_FOCUSED,forceBrowserFocus:t,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(e.rowIndex=this.focusedCellPosition.rowIndex,e.column=this.focusedCellPosition.column,e.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(e)},e.prototype.focusGridView=function(t,e){var n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var r=n.rowIndex,o=n.rowPinned,i=this.getFocusedHeader();return!t&&i&&(t=i.column),!(null==r||!t||(this.rowRenderer.ensureCellVisible({rowIndex:r,column:t,rowPinned:o}),this.setFocusedCell(r,t,O(o),!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:r,rowPinned:o,column:t}),0))},e.prototype.focusNextGridCoreContainer=function(t){return!!this.gridCore.focusNextInnerContainer(t)||(t||this.gridCore.forceFocusOutOfContainer(),!1)},e.keyboardModeActive=!1,e.instancesMonitored=new Map,cp([Yt("columnController")],e.prototype,"columnController",void 0),cp([Yt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),cp([Yt("columnApi")],e.prototype,"columnApi",void 0),cp([Yt("gridApi")],e.prototype,"gridApi",void 0),cp([Yt("rowRenderer")],e.prototype,"rowRenderer",void 0),cp([Yt("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),cp([qt("rangeController")],e.prototype,"rangeController",void 0),cp([zt],e.prototype,"init",null),n=cp([Kt("focusController")],e)}(Se),hp=(Uu=function(t,e){return(Uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=n.gridInstanceSequence.next(),e}var n;return hp(e,t),n=e,e.prototype.init=function(){this.stampDomElementWithGridInstance()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[n.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return ge(this.gridOptionsWrapper,t)},e.prototype.isEventFromThisGrid=function(t){for(var e=we(t),r=0;r<e.length;r++){var o=e[r][n.GRID_DOM_KEY];if(E(o))return o===this.gridInstanceId}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,n,r=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_NORMAL;if(null!=t.clientX||null!=t.clientY?(e=t.clientX,n=t.clientY):(e=t.x,n=t.y),r){var o=this.gridPanel.getVScrollPosition();e+=this.gridPanel.getHScrollPosition().left,n+=o.top}return{x:e,y:n}},e.gridInstanceSequence=new Po,e.GRID_DOM_KEY="__ag_grid_instance",dp([Yt("eGridDiv")],e.prototype,"eGridDiv",void 0),dp([zt],e.prototype,"init",null),n=dp([Kt("mouseEventService")],e)}(Se),gp=(zu=function(t,e){return(zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gp(e,t),e.prototype.getNextCellToFocus=function(t,e){for(var n=e,r=!1;!r;){switch(t){case Xo.UP:n=this.getCellAbove(n);break;case Xo.DOWN:n=this.getCellBelow(n);break;case Xo.RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case Xo.LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("ag-Grid: unknown key for navigation "+t)}r=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case ne.PINNED_TOP:e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case ne.PINNED_BOTTOM:e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!!e&&!n.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnController.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnController.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case ne.PINNED_BOTTOM:return null;case ne.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ne.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ne.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ne.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ne.PINNED_BOTTOM}:null}return{rowIndex:e+1,rowPinned:n}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return e===ne.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:e===ne.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},e.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;return(n?0===e:e===this.paginationProxy.getPageFirstRow())?n===ne.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ne.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:e-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ne.PINNED_TOP}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,r=t.rowPinned,o=this.columnController.getDisplayedColAfter(t.column);if(!o){o=e[0];var i=this.getRowBelow(t);if(S(i))return null;if(!i.rowPinned&&!this.paginationProxy.isRowInPage(i))return null;n=i?i.rowIndex:null,r=i?i.rowPinned:null}return{rowIndex:n,column:o,rowPinned:r}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,r=t.rowPinned,o=this.columnController.getDisplayedColBefore(t.column);if(!o){o=V(e);var i=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(S(i))return null;if(!i.rowPinned&&!this.paginationProxy.isRowInPage(i))return null;n=i?i.rowIndex:null,r=i?i.rowPinned:null}return{rowIndex:n,column:o,rowPinned:r}},yp([Yt("columnController")],e.prototype,"columnController",void 0),yp([Yt("rowModel")],e.prototype,"rowModel",void 0),yp([Yt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),yp([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),yp([Kt("cellNavigationService")],e)}(Se),mp=(Hu=function(t,e){return(Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mp(e,t),e.prototype.formatValue=function(t,e,n,r,o,i){void 0===i&&(i=!0);var s,a=null,l=t.getColDef();if(o?s=o:i&&(s=e&&e.rowPinned&&l.pinnedRowValueFormatter?l.pinnedRowValueFormatter:l.valueFormatter),s){var u={value:r,node:e,data:e?e.data:null,colDef:l,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};u.$scope=n,a=this.expressionService.evaluate(s,u)}else if(l.refData)return l.refData[r]||"";return null==a&&Array.isArray(r)&&(a=r.join(", ")),a},Cp([Yt("expressionService")],e.prototype,"expressionService",void 0),Cp([Kt("valueFormatterService")],e)}(Se),wp=(Bu=function(t,e){return(Bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_p=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return wp(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,ke.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(Fl),Op=["mouseover","mouseout","mouseenter","mouseleave"],Ep=function(){function t(){this.isOutsideAngular=function(t){return Z(Op,t)}}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.addEventListener=function(t,e,n,r){t.addEventListener(e,n,r)},t.prototype.dispatchEvent=function(t,e){e()},t}(),Sp=(Wu=function(t,e){return(Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sp(e,t),e.prototype.setScrollsVisible=function(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:ke.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Pp([Yt("columnApi")],e.prototype,"columnApi",void 0),Pp([Yt("gridApi")],e.prototype,"gridApi",void 0),Pp([Kt("scrollVisibleService")],e)}(Se),Rp=(Vu=function(t,e){return(Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rp(e,t),e.prototype.processAllCellClasses=function(t,e,n,r){this.processClassRules(t.cellClassRules,e,n,r),this.processStaticCellClasses(t,e,n)},e.prototype.processClassRules=function(t,e,n,r){if(Rt(t))for(var o=Object.keys(t),i=0;i<o.length;i++){var s=o[i],a=t[s],l=void 0;"string"==typeof a?l=this.expressionService.evaluate(a,e):"function"==typeof a&&(l=a(e)),l?n(s):r&&r(s)}},e.prototype.processStaticCellClasses=function(t,e,n){if(t.cellClass){var r=void 0;"string"==typeof(r="function"==typeof t.cellClass?(0,t.cellClass)(e):t.cellClass)?n(r):Array.isArray(r)&&r.forEach((function(t){n(t)}))}},kp([Yt("expressionService")],e.prototype,"expressionService",void 0),kp([Kt("stylingService")],e)}(Se),Dp=(Gu=function(t,e){return(Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dp(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:ke.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},xp([Yt("columnApi")],e.prototype,"columnApi",void 0),xp([Yt("gridApi")],e.prototype,"gridApi",void 0),xp([Kt("columnHoverService")],e)}(Se),Ip=(ju=function(t,e){return(ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ju(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return Ip(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridPanel.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("columnAnimationService")],e)}(Se),Mp=(Lu=function(t,e){return(Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Mp(e,t),n=e,e.prototype.createAutoGroupColumns=function(t){var e=this,n=[],r=this.gridOptionsWrapper.isTreeData(),o=this.gridOptionsWrapper.isGroupMultiAutoColumn();return r&&o&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),o=!1),o?t.forEach((function(t,r){n.push(e.createOneAutoGroupColumn(t,r))})):n.push(this.createOneAutoGroupColumn()),n},e.prototype.createOneAutoGroupColumn=function(t,e){var r,o=this.generateDefaultColDef(t);r=t?ne.GROUP_AUTO_COLUMN_ID+"-"+t.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,bt(o,this.gridOptionsWrapper.getAutoGroupColumnDef()),(o=this.columnFactory.mergeColDefs(o)).colId=r,this.gridOptionsWrapper.isTreeData()||S(o.field)&&S(o.valueGetter)&&S(o.filterValueGetter)&&(o.filter=!1),e&&e>0&&(o.headerCheckboxSelection=!1);var i=new ie(o,null,r,!0);return this.context.createBean(i),i},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework)||(n.cellRenderer="agGroupCellRenderer"),t){var r=t.getColDef();wt(n,{headerName:this.columnController.getDisplayNameForColumn(t,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&wt(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},e.GROUP_AUTO_COLUMN_BUNDLE_ID=ne.GROUP_AUTO_COLUMN_ID,Lp([Yt("columnController")],e.prototype,"columnController",void 0),Lp([Yt("columnFactory")],e.prototype,"columnFactory",void 0),n=Lp([Kt("autoGroupColService")],e)}(Se),Gp=(Mu=function(t,e){return(Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Gp(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,ke.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,r){var o=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},e.prototype.onModelUpdated=function(t){this.calculatePages(),this.eventService.dispatchEvent({type:ke.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},e.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:ke.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},e.prototype.goToPage=function(t){this.active&&this.currentPage!==t&&(this.currentPage=t,this.onModelUpdated({type:ke.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return S(this.topRowBounds)||S(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(t,e){return this.rowModel.getNodesInRangeForSelection(t,e)},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(E(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:ke.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Ke(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var e=this.pageSize*(this.currentPage+1)-1;if(e>t&&(e=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),e===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(e+1);this.bottomDisplayedRowIndex=n-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Ke(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Vp([Yt("rowModel")],e.prototype,"rowModel",void 0),Vp([Yt("columnApi")],e.prototype,"columnApi",void 0),Vp([Yt("gridApi")],e.prototype,"gridApi",void 0),Vp([zt],e.prototype,"postConstruct",null),Vp([Kt("paginationProxy")],e)}(Se),Bp=(Fu=function(t,e){return(Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bp(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t,this.addManagedListener(this.eventService,ke.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),e=this.gridPanel.getBodyHeight();if(e>0){var n=Math.floor(e/t);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("paginationAutoPageSizeService")],e)}(Se),zp=(Iu=function(t,e){return(Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Iu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Up=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return zp(e,t),e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},Up([zt],e.prototype,"init",null),Up([Kt("valueCache")],e)}(Se),Yp=(Nu=function(t,e){return(Nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Nu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yp(e,t),e.prototype.init=function(){this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ke.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==ne.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),r=new _a(n,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r)}this.rowRenderer.refreshCells()}},qp([Yt("rowModel")],e.prototype,"rowModel",void 0),qp([Yt("rowRenderer")],e.prototype,"rowRenderer",void 0),qp([zt],e.prototype,"init",null),qp([Kt("changeDetectionService")],e)}(Se),Qp=(xu=function(t,e){return(xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return Qp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.init=function(){this.addManagedListener(this.eventService,ke.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ke.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsWrapper.getAlignedGrids();e&&e.forEach((function(e){if(e.api){var n=e.api.__getAlignedGridService();t(n)}}))}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.gridPanel.setHorizontalScrollPosition(t.left)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case ke.EVENT_COLUMN_MOVED:case ke.EVENT_COLUMN_VISIBLE:case ke.EVENT_COLUMN_PINNED:case ke.EVENT_COLUMN_RESIZED:e.processColumnEvent(t);break;case ke.EVENT_COLUMN_GROUP_OPENED:e.processGroupOpenedEvent(t);break;case ke.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e=t.columnGroup,n=null;if(e){var r=e.getGroupId();n=this.columnController.getOriginalColumnGroup(r)}e&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnController.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e=this,n=t.column,r=null;if(n&&(r=this.columnController.getPrimaryColumn(n.getColId())),!n||r){var o=this.getColumnIds(t),i=this.getMasterColumns(t);switch(t.type){case ke.EVENT_COLUMN_MOVED:var s=t;this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(o,s.toIndex,"alignedGridChanged");break;case ke.EVENT_COLUMN_VISIBLE:var a=t;this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+a.visible),this.columnController.setColumnsVisible(o,a.visible,"alignedGridChanged");break;case ke.EVENT_COLUMN_PINNED:var l=t;this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(o,l.pinned,"alignedGridChanged");break;case ke.EVENT_COLUMN_RESIZED:var u=t;i.forEach((function(n){e.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+n.getActualWidth());var r=[{key:n.getColId(),newWidth:n.getActualWidth()}];e.columnController.setColumnWidths(r,!1,u.finished,"alignedGridChanged")}))}var c=this.gridPanel.isVerticalScrollShowing(),p=this.gridOptionsWrapper.getAlignedGrids();p&&p.forEach((function(t){t.api&&t.api.setAlwaysShowVerticalScroll(c)}))}},Zp([Yt("columnController")],e.prototype,"columnController",void 0),Zp([(n=Qt("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Zp([zt],e.prototype,"init",null),Zp([Kt("alignedGridsService")],e);var n}(Se),$p=(Du=function(t,e){return(Du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Du(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),th=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $p(e,t),e.prototype.adaptFunction=function(t,e,n,r){if(null==e)return{component:null,componentFromFramework:n,source:r,paramsFromSelector:null};var o=this.componentMetadataProvider.retrieve(t);return o&&o.functionAdapter?{componentFromFramework:n,component:o.functionAdapter(e),source:r,paramsFromSelector:null}:null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){var e=t(this.params),n=typeof e;return"string"===n||"number"===n||"boolean"===n?tr("<span>"+e+"</span>"):e},e.prototype.init=function(t){this.params=t},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&t.prototype&&"getGui"in t.prototype},th([Yt("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),th([Kt("agComponentUtils")],e)}(Se),nh=(Au=function(t,e){return(Au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Au(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nh(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},rh([Yt("agComponentUtils")],e.prototype,"agComponentUtils",void 0),rh([zt],e.prototype,"postConstruct",null),rh([Kt("componentMetadataProvider")],e)}(Se),ih=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sh=function(){function t(){}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},ih([Yt("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ih([Yt("paginationProxy")],t.prototype,"paginationProxy",void 0),ih([Yt("context")],t.prototype,"context",void 0),ih([Yt("columnApi")],t.prototype,"columnApi",void 0),ih([Yt("gridApi")],t.prototype,"gridApi",void 0),ih([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ih([Yt("expressionService")],t.prototype,"expressionService",void 0),ih([Yt("rowRenderer")],t.prototype,"rowRenderer",void 0),ih([Yt("$compile")],t.prototype,"$compile",void 0),ih([Yt("templateService")],t.prototype,"templateService",void 0),ih([Yt("valueService")],t.prototype,"valueService",void 0),ih([Yt("eventService")],t.prototype,"eventService",void 0),ih([Yt("columnController")],t.prototype,"columnController",void 0),ih([Yt("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ih([Yt("columnAnimationService")],t.prototype,"columnAnimationService",void 0),ih([qt("rangeController")],t.prototype,"rangeController",void 0),ih([Yt("focusController")],t.prototype,"focusController",void 0),ih([qt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ih([Yt("popupService")],t.prototype,"popupService",void 0),ih([Yt("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ih([Yt("stylingService")],t.prototype,"stylingService",void 0),ih([Yt("columnHoverService")],t.prototype,"columnHoverService",void 0),ih([Yt("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ih([Yt("animationFrameService")],t.prototype,"taskQueue",void 0),ih([Yt("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ih([Yt("sortController")],t.prototype,"sortController",void 0),ih([Yt("filterManager")],t.prototype,"filterManager",void 0),ih([Yt("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),ih([Yt("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),ih([Yt("detailRowCompCache")],t.prototype,"detailRowCompCache",void 0),ih([Yt("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ih([Yt("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ih([Yt("selectionController")],t.prototype,"selectionController",void 0),ih([qt("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),ih([Yt("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),ih([Yt("rowModel")],t.prototype,"rowModel",void 0),ih([zt],t.prototype,"postConstruct",null),ih([Kt("beans")],t)}(),ah=(ku=function(t,e){return(ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ku(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},uh={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},ch={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},ph={},hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ah(e,t),e.prototype.getSassVariable=function(t,e){var n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),r=uh[n][e],o=0;ph[t]||(ph[t]={});var i=ph[t][e];if(null!=i)return i;if(ch[e]){var s=ch[e],a=document.createElement("div");xn(a,t),a.style.position="absolute";var l=s.reduce((function(t,e){var n=document.createElement("div");return n.style.position="static",xn(n,e),t.appendChild(n),n}),a);if(document.body){document.body.appendChild(a);var u=-1!==e.toLowerCase().indexOf("height")?"height":"width";o=parseInt(window.getComputedStyle(l)[u],10),document.body.removeChild(a)}}return ph[t][e]=o||r,ph[t][e]},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/,e=this.eGridDiv,n=null;e&&!(n=t.exec(e.className));)e=e.parentElement||void 0;if(!n)return{};var r=n[0];if(void 0===n[2]){var o=r.replace("ag-","ag-theme-");xt((function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+o+".")}),"using-old-theme")}return{theme:r,el:e,themeFamily:r.replace(/-dark$/,"")}},lh([Yt("eGridDiv")],e.prototype,"eGridDiv",void 0),lh([Kt("environment")],e)}(Se),dh=(Ru=function(t,e){return(Ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ru(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return dh(e,t),e.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var r={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,r=this.createTasksP2,o=r.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=t<=0;l||a<t;){var u=void 0;if(n.length)this.sortTaskList(e),u=n.pop().task;else if(o.length)this.sortTaskList(r),u=o.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}u=i.pop()}this.cancelledTasks.has(u)||u(),a=(new Date).getTime()-s}n.length||o.length||i.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1;var t={type:ke.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(t)},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},fh([zt],e.prototype,"init",null),fh([Kt("animationFrameService")],e)}(Se),yh=(Tu=function(t,e){return(Tu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeLastPageEventProcessed=0,e}return yh(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.handlePageScrollingKey=function(t){var e=t.which||t.keyCode,n=t.altKey,r=t.ctrlKey,o=this.mouseEventService.getCellPositionForEvent(t);if(!o)return!1;var i=!1;switch(e){case Xo.PAGE_HOME:case Xo.PAGE_END:r||n||(this.onHomeOrEndKey(e),i=!0);break;case Xo.LEFT:case Xo.RIGHT:r&&!n&&(this.onCtrlLeftOrRight(e,o),i=!0);break;case Xo.UP:case Xo.DOWN:r&&!n&&(this.onCtrlUpOrDown(e,o),i=!0);break;case Xo.PAGE_DOWN:r||n||(this.onPageDown(o),i=!0);break;case Xo.PAGE_UP:r||n||(this.onPageUp(o),i=!0)}return i&&t.preventDefault(),i},e.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},e.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},e.prototype.onPageDown=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),r=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(r-=n);var o=this.paginationProxy.getPixelOffset(),i=this.paginationProxy.getRowIndexAtPixel(e.top+r+o),s=this.paginationProxy.getRow(t.rowIndex).rowTop,a=this.paginationProxy.getRowIndexAtPixel(s+r-o+o),l=this.paginationProxy.getPageLastRow();a>l&&(a=l),i>l&&(i=l),this.navigateTo(i,"top",null,a,t.column),this.setTimeLastPageEventProcessed()}},e.prototype.onPageUp=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),r=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(r-=n);var o=this.paginationProxy.getPixelOffset(),i=this.paginationProxy.getRowIndexAtPixel(e.top+o),s=this.paginationProxy.getRow(t.rowIndex),a=this.paginationProxy.getRowIndexAtPixel(s.rowTop+s.rowHeight-r-o+o),l=this.paginationProxy.getPageFirstRow();a<l&&(a=l),i<l&&(i=l),this.navigateTo(i,"bottom",null,a,t.column),this.setTimeLastPageEventProcessed()}},e.prototype.navigateTo=function(t,e,n,r,o){E(n)&&this.gridPanel.ensureColumnVisible(n),E(t)&&this.gridPanel.ensureIndexVisible(t,e),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(r,o,null,!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:r,rowPinned:null,column:o})},e.prototype.onCtrlUpOrDown=function(t,e){var n=t===Xo.UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(n,null,e.column,n,e.column)},e.prototype.onCtrlLeftOrRight=function(t,e){var n=t===Xo.LEFT,r=this.columnController.getAllDisplayedColumns(),o=n?r[0]:V(r);this.navigateTo(e.rowIndex,null,o,e.rowIndex,o)},e.prototype.onHomeOrEndKey=function(t){var e=t===Xo.PAGE_HOME,n=this.columnController.getAllDisplayedColumns(),r=e?n[0]:V(n),o=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo(o,null,r,o,r)},vh([Yt("mouseEventService")],e.prototype,"mouseEventService",void 0),vh([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),vh([Yt("focusController")],e.prototype,"focusController",void 0),vh([Yt("animationFrameService")],e.prototype,"animationFrameService",void 0),vh([qt("rangeController")],e.prototype,"rangeController",void 0),vh([Yt("columnController")],e.prototype,"columnController",void 0),vh([Kt("navigationService")],e)}(Se),Ch=(Pu=function(t,e){return(Pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Ch(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ke.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Tn()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isScaling=function(){return this.scaling},e.prototype.getOffset=function(){return this.offset},e.prototype.updateOffset=function(){if(this.scaling){var t=this.gridPanel.getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight,this.setOffset(this.scrollY/this.maxScrollY*this.pixelsToShave)},e.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},e.prototype.setOffset=function(t){var e="number"==typeof t?Math.floor(t):null;this.offset!==e&&(this.offset=e,this.eventService.dispatchEvent({type:ke.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.scaling=this.maxDivHeight>0&&t>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.offset},e.prototype.getUiBodyHeight=function(){var t=this.gridPanel.getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/e)},bh([zt],e.prototype,"postConstruct",null),bh([Kt("maxDivHeightScaler")],e)}(Se),_h=(Su=function(t,e){return(Su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Su(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _h(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))},e.prototype.updateSelectableAfterFiltering=function(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterFilter}))},e.prototype.recurseDown=function(t,e){var n=this;t&&t.forEach((function(t){var r;t.group&&(t.hasChildren()&&n.recurseDown(e(t),e),r=n.groupSelectsChildren?E(I(e(t),"selectable",!0)):!!n.isRowSelectableFunc&&n.isRowSelectableFunc(t),t.setRowSelectable(r))}))},Oh([zt],e.prototype,"init",null),Oh([Kt("selectableService")],e)}(Se),Sh=(Eu=function(t,e){return(Eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Eu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ph=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sh(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.getPreferredHeightForRow=function(t){var e=this,n=document.createElement("div");this.addInRowCssClasses(t,n);var r=this.gridPanel.getCenterContainer();r.appendChild(n);var o=gl.createChildScopeOrNull(t,this.$scope,this.beans.gridOptionsWrapper),i=o?o.scope:void 0,s=o?o.scopeDestroyFunc:void 0,a=[],l=this.columnController.getAllAutoRowHeightCols(),u=this.columnController.getAllDisplayedColumns();l.filter((function(t){return u.indexOf(t)>=0})).forEach((function(r){var o=new dl(i,e.beans,r,t,null,!0,!1);o.setParentRow(n),a.push(o)}));var c=a.map((function(t){return t.getCreateTemplate()})).join(" ");n.innerHTML=c,a.forEach((function(t){return t.afterAttached()})),i&&this.$compile(n)(i);for(var p=0,h=0;h<n.children.length;h++){var d=n.children[h];d.offsetHeight>p&&(p=d.offsetHeight)}return r.removeChild(n),a.forEach((function(t){t.detach(),t.destroy()})),s&&s(),p},e.prototype.addInRowCssClasses=function(t,e){var n=t.rowIndex,r={rowNode:t,rowIsEven:n%2==0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(t),firstRowOnPage:n===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:n===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:t.isExpandable()};xn(e,this.rowCssClassCalculator.getInitialRowClasses(r).join(" "))},Ph([Yt("beans")],e.prototype,"beans",void 0),Ph([Yt("$scope")],e.prototype,"$scope",void 0),Ph([Yt("columnController")],e.prototype,"columnController",void 0),Ph([Yt("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Ph([Yt("$compile")],e.prototype,"$compile",void 0),Ph([Kt("autoHeightCalculator")],e)}(Se),Rh=(Ou=function(t,e){return(Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ou(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ah=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return Rh(e,t),e.prototype.postConstruct=function(){var t=this,e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",co(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",co(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",co(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",co(e?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,ke.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var n=e.el,r=e.fn;t.addManagedListener(n,"click",r),t.addManagedListener(n,"keydown",(function(t){t.keyCode!==Xo.ENTER&&t.keyCode!==Xo.SPACE||(t.preventDefault(),r())}))})),this.onPaginationChanged()):this.setDisplayed(!1)},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(t?e+1:0)},e.prototype.formatNumber=function(t){var e=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return e?e({value:t}):Ze(t)},e.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),r=t("of","of"),o=t("firstPage","First Page"),i=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'" aria-live="polite" aria-describedby="ag-'+l+"-start-page ag-"+l+"-start-page-number ag-"+l+"-of-page ag-"+l+"-of-page-number ag-"+l+"-first-row ag-"+l+"-to ag-"+l+"-last-row ag-"+l+"-of ag-"+l+'-row-count">\n                <span class="ag-paging-row-summary-panel" aria-hidden="true">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+n+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+r+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+i+'" tabindex="0"></div>\n                    <span class="ag-paging-description" aria-hidden="true">\n                        <span id="ag-'+l+'-start-page">'+e+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+r+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'" tabindex="0"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,In(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),Vr(this.btFirst,this.previousAndFirstButtonsDisabled),In(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),Vr(this.btPrevious,this.previousAndFirstButtonsDisabled);var r=this.isZeroPagesToDisplay();this.nextButtonDisabled=e&&t===n-1||r,In(this.btNext,"ag-disabled",this.nextButtonDisabled),Vr(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!e||r||t===n-1,In(this.btLast,"ag-disabled",this.lastButtonDisabled),Vr(this.btLast,this.lastButtonDisabled)},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?t=e=0:(e=(t=r*n+1)+r-1,o&&e>i&&(e=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},kh([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),kh([Yt("rowModel")],e.prototype,"rowModel",void 0),kh([Yt("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),kh([Bo("btFirst")],e.prototype,"btFirst",void 0),kh([Bo("btPrevious")],e.prototype,"btPrevious",void 0),kh([Bo("btNext")],e.prototype,"btNext",void 0),kh([Bo("btLast")],e.prototype,"btLast",void 0),kh([Bo("lbRecordCount")],e.prototype,"lbRecordCount",void 0),kh([Bo("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),kh([Bo("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),kh([Bo("lbCurrent")],e.prototype,"lbCurrent",void 0),kh([Bo("lbTotal")],e.prototype,"lbTotal",void 0),kh([zt],e.prototype,"postConstruct",null),e}(Go),Dh=(_u=function(t,e){return(_u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dh(e,t),e.prototype.observeResize=function(t,e,n){void 0===n&&(n=50);var r,o,i,s,a,l=this.getFrameworkOverrides(),u=Gt(e,n),c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!c?((a=new window.ResizeObserver(u)).observe(t),function(){return a.disconnect()}):(r=or(t),o=rr(t),i=!0,(s=function(){if(i){var a=or(t),u=rr(t);(a!==r||u!==o)&&(r=a,o=u,e()),l.setTimeout(s,n)}})(),function(){return i=!1})},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("resizeObserverService")],e)}(Se),Nh=(wu=function(t,e){return(wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ih=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(bu||(bu={}));var Fh,Mh,Lh,jh,Gh,Vh,Wh,Bh,Hh,zh,Uh,Kh,Yh,qh,Xh,Qh,Zh,Jh,$h,td,ed,nd,rd,od,id,sd,ad,ld=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return Nh(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},e.prototype.setWrapperTypeClass=function(t){In(this.eOverlayWrapper,"ag-overlay-loading-wrapper",t===bu.Loading),In(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",t===bu.NoRows)},e.prototype.showLoadingOverlay=function(){var t=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t,bu.Loading)},e.prototype.showNoRowsOverlay=function(){var t=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t,bu.NoRows)},e.prototype.showOverlay=function(t,e){var n=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then((function(t){n.inProgress=!1,n.eOverlayWrapper.appendChild(t.getGui()),n.activeOverlay=t,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())})),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Qn(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ih([Yt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ih([Bo("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Ih([zt],e.prototype,"postConstruct",null),e}(Go),ud=(ad=function(t,e){return(ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ad(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pd=function(t){function e(n){void 0===n&&(n={});var r=t.call(this,e.getTemplate(n))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var o=n.enabled,i=n.items,s=n.suppressEnabledCheckbox,a=n.suppressOpenCloseIcons;return r.title=n.title,r.cssIdentifier=n.cssIdentifier||"default",r.enabled=null==o||o,r.items=i||[],r.alignItems=n.alignItems||"center",null!=s&&(r.suppressEnabledCheckbox=s),null!=a&&(r.suppressOpenCloseIcons=a),r}return ud(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(uo("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(uo("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.keyCode){case Xo.ENTER:t.toggleGroupExpand();break;case Xo.RIGHT:t.toggleGroupExpand(!0);break;case Xo.LEFT:t.toggleGroupExpand(!1)}}))},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;jn(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),jn(this.eGroupOpenedIcon,t&&this.expanded),jn(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){var e=this.getGui();return this.alignItems!==t&&Nn(e,"ag-group-item-alignment-"+this.alignItems),this.alignItems=t,xn(e,"ag-group-item-alignment-"+this.alignItems),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),jn(this.eContainer,!0),this):(this.expanded===(t=null!=t?t:!this.expanded)||(this.expanded=t,this.refreshChildDisplay(),jn(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,n=t instanceof Go?t.getGui():t;xn(n,"ag-group-item"),xn(n,"ag-"+this.cssIdentifier+"-group-item"),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){In(this.items[e],"ag-hidden",t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){xn(this.eTitleBar,t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(n){e.setEnabled(n,!0),t(n)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){In(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(xn(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(Nn(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),In(this.eContainer,"ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",cd([Bo("eTitleBar")],e.prototype,"eTitleBar",void 0),cd([Bo("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),cd([Bo("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),cd([Bo("eToolbar")],e.prototype,"eToolbar",void 0),cd([Bo("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),cd([Bo("eTitle")],e.prototype,"eTitle",void 0),cd([Bo("eContainer")],e.prototype,"eContainer",void 0),cd([zt],e.prototype,"postConstruct",null),e}(Go),hd=(sd=function(t,e){return(sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fd=function(t){function e(n){var r=t.call(this,e.getTemplate(n))||this;return r.closable=!0,r.positioned=!1,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.size={width:void 0,height:void 0},r.config=n,r}return hd(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,r=e.closable,o=e.hideTitleBar,i=e.title,s=e.minWidth,a=e.width,l=e.minHeight,u=e.height,c=e.centered,p=e.x,h=e.y,d=this.getGui();n&&this.setBodyComponent(n),o?xn(this.eTitleBar,"ag-hidden"):(i&&this.setTitle(i),this.setClosable(null!=r?r:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){if(d.contains(e.relatedTarget)||d.contains(document.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var n=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}})),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),u&&this.setHeight(u),this.renderComponent&&this.renderComponent(),a&&u||this.refreshSize(),c?this.center():(p||h)&&this.offsetElement(p,h),this.positioned=!0,this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=this.popupParent.getBoundingClientRect(),n=t.e,r=t.isLeft,o=t.isTop,i=t.anywhereWithin,s=t.topBuffer,a=n.clientX-this.dragStartPosition.x,l=n.clientY-this.dragStartPosition.y,u=this.getWidth(),c=this.getHeight(),p=e.left>=n.clientX&&this.position.x<=0||e.right<=n.clientX&&e.right<=this.position.x+e.left+u;return p||(p=r?a<0&&n.clientX>this.position.x+e.left||a>0&&n.clientX<this.position.x+e.left:i?a<0&&n.clientX>this.position.x+e.left+u||a>0&&n.clientX<this.position.x+e.left:a<0&&n.clientX>this.position.x+e.left+u||a>0&&n.clientX<this.position.x+e.left+u),{movementX:a=p?0:a,movementY:l=e.top>=n.clientY&&this.position.y<=0||e.bottom<=n.clientY&&e.bottom<=this.position.y+e.top+c||o&&(l<0&&n.clientY>this.position.y+e.top+(s||0)||l>0&&n.clientY<this.position.y+e.top)||!o&&(l<0&&n.clientY>this.position.y+e.top+c||l>0&&n.clientY<this.position.y+e.top+c)?0:l}},e.prototype.refreshSize=function(){var t=this.size,e=t.height;t.width||this.setWidth(this.getGui().offsetWidth),e||this.setHeight(this.getGui().offsetHeight)},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getGui();this.popupService.positionPopup({ePopup:n,x:t,y:e,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(n.style.left,10),this.position.y=parseInt(n.style.top,10)},e.prototype.getHeight=function(){return this.size.height},e.prototype.setHeight=function(t){var e=this.getGui(),n=!1;if("string"==typeof t&&-1!==t.indexOf("%"))gr(e,t),t=Un(e),n=!0;else{t=Math.max(this.minHeight,t);var r=e.offsetParent;r&&r.clientHeight&&t+this.position.y>r.clientHeight&&(t=r.clientHeight-this.position.y)}this.size.height!==t&&(this.size.height=t,n?(e.style.maxHeight="unset",e.style.minHeight="unset"):gr(e,t))},e.prototype.getWidth=function(){return this.size.width},e.prototype.setWidth=function(t){var e=this.getGui(),n=!1;if("string"==typeof t&&-1!==t.indexOf("%"))dr(e,t),t=Kn(e),n=!0;else{t=Math.max(this.minWidth,t);var r=e.offsetParent;r&&r.clientWidth&&t+this.position.x>r.clientWidth&&(t=r.clientWidth-this.position.x)}this.size.width!==t&&(this.size.width=t,n?(e.style.maxWidth="unset",e.style.minWidth="unset"):dr(e,t))},e.prototype.center=function(){var t=this.getGui(),e=t.offsetParent.clientWidth/2-this.getWidth()/2,n=t.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(e,n)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new Go(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n),(r=n.getGui()).appendChild(xn(co("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(n),n.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r;(r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,r=n.children,o=r.length;null==e&&(e=o),e=Math.max(0,Math.min(e,o));var i=t.getGui();xn(i,"ag-panel-title-bar-button"),0===e?n.insertAdjacentElement("afterbegin",i):e===o?n.insertAdjacentElement("beforeend",i):r[e-1].insertAdjacentElement("afterend",i),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return Hn(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return zn(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',dd([Yt("popupService")],e.prototype,"popupService",void 0),dd([Bo("eContentWrapper")],e.prototype,"eContentWrapper",void 0),dd([Bo("eTitleBar")],e.prototype,"eTitleBar",void 0),dd([Bo("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),dd([Bo("eTitle")],e.prototype,"eTitle",void 0),dd([zt],e.prototype,"postConstruct",null),e}(Go),gd=(id=function(t,e){return(id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}id(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yd=function(t){function e(e){var n=t.call(this,e)||this;return n.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',n.resizable={},n.movable=!1,n.isMoving=!1,n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.isResizing=!1,n.lastPosition={x:0,y:0,width:0,height:0},n}return gd(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),r=this.config,o=r.movable,i=r.resizable,s=r.maximizable;xn(n,"ag-dialog"),this.moveElement=this.eTitleBar,t.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",(function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)})),o&&this.setMovable(o),s&&this.setMaximizable(s),this.addResizers(),i&&this.setResizable(i)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,r=this.popupService.addPopup({modal:e.modal,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n});r&&(this.close=r.hideFunc)},e.prototype.addResizers=function(){var t=this.getGui();if(t){var e=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;t.appendChild(e.firstChild),this.createMap()}},e.prototype.createMap=function(){var t=this.getGui();this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t){this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onResize=function(t,e){if(this.isResizing){var n=!!e.match(/left/i),r=!!e.match(/right/i),o=!!e.match(/top/i),i=!!e.match(/bottom/i),s=n||r,a=o||i,l=this.calculateMouseMovement({e:t,isLeft:n,isTop:o}),u=l.movementX,c=l.movementY,p=0,h=0;if(s&&u){var d=n?-1:1,f=this.getWidth(),g=f+u*d,y=!1;n&&(this.position.x+(p=f-g)<=0||g<=this.minWidth)&&(y=!0,p=0),y||this.setWidth(g)}if(a&&c){d=o?-1:1;var v=this.getHeight(),m=v+c*d,C=!1;o&&(this.position.y+(h=v-m)<=0||m<=this.minHeight)&&(C=!0,h=0),C||this.setHeight(m)}this.updateDragStartPosition(t.clientX,t.clientY),(p||h)&&this.offsetElement(this.position.x+p,this.position.y+h)}},e.prototype.onResizeEnd=function(){this.isResizing=!1;var t={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(t)},e.prototype.onMoveStart=function(t){this.isMoving=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e=this.position,n=e.x,r=e.y,o=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()});this.offsetElement(n+o.movementX,r+o.movementY),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1},e.prototype.toggleMaximize=function(){if(this.isMaximized){var t=this.lastPosition,e=t.x,n=t.y,r=t.height;this.setWidth(t.width),this.setHeight(r),this.offsetElement(e,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){jn(this.maximizeIcon,!this.isMaximized),jn(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){var e=this;"boolean"==typeof t&&(t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}),Object.keys(t).forEach((function(n){var r=n,o=!!t[r],i=e.getResizerElement(r),s=e.resizerMap[r].dragSource||{eElement:i,onDragStart:e.onResizeStart.bind(e),onDragging:function(t){return e.onResize(t,r)},onDragStop:e.onResizeEnd.bind(e)};!!e.resizable[r]===o&&(e.isAlive()||o)||(o?(e.dragService.addDragSource(s),i.style.pointerEvents="all"):(e.dragService.removeDragSource(s),i.style.pointerEvents="none"),e.resizerMap[r].dragSource=o?s:void 0)}))},e.prototype.setMovable=function(t){if(t!==this.movable){this.movable=t;var e=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(e),this.moveElementDragListener=e):(this.dragService.removeDragSource(e),this.moveElementDragListener=void 0)}},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var r=this.maximizeButtonComp=this.createBean(new Go('<div class="ag-dialog-button"></span>')),o=r.getGui();o.appendChild(this.maximizeIcon=co("maximize",this.gridOptionsWrapper)),xn(this.maximizeIcon,"ag-panel-title-bar-button-icon"),o.appendChild(this.minimizeIcon=co("minimize",this.gridOptionsWrapper)),xn(this.minimizeIcon,"ag-panel-title-bar-button-icon"),xn(this.minimizeIcon,"ag-hidden"),r.addManagedListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Yt("dragService")],e.prototype,"dragService",void 0),e}(fd),vd=(od=function(t,e){return(od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}od(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),md=function(t){function e(e,n,r){return void 0===n&&(n="ag-text-field"),void 0===r&&(r="text"),t.call(this,e,n,r)||this}return vd(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,n){var r=t.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=E(e)?e:""),r},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(e){e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){rt(e.clipboardData.getData("text"),(function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(Nl),Cd=(rd=function(t,e){return(rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bd=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return Cd(e,t),e.prototype.setValue=function(e,n){var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Nl),wd=(nd=function(t,e){return(nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_d=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Od=function(t){function e(n){var r=t.call(this,n,e.TEMPLATE)||this;return r.labelAlignment="top",r}return wd(e,t),e.prototype.init=function(){xn(this.eSlider.getGui(),"ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,n=Al.EVENT_CHANGED;return this.addManagedListener(this.eText,n,(function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)})),this.addManagedListener(this.eSlider,n,(function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:Al.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',_d([Bo("eLabel")],e.prototype,"eLabel",void 0),_d([Bo("eSlider")],e.prototype,"eSlider",void 0),_d([Bo("eText")],e.prototype,"eText",void 0),_d([zt],e.prototype,"init",null),e}(Rl),Ed=(ed=function(t,e){return(ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ed(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pd=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=n.picker,r}return Ed(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var n=t.clientX-e.left,r=t.clientY-e.top;n=Math.max(n,0),n=Math.min(n,e.width),r=Math.max(r,0),r=Math.min(r,e.height),this.setSpectrumValue(n/e.width,1-r/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var n=this.spectrumHueSlider,r=n.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.H=1-o/e.width,n.style.left=o+r.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var n=this.spectrumAlphaSlider,r=n.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.A=o/e.width,n.style.left=o+r.width/2+"px",this.update()}},e.prototype.update=function(){var t=mn.fromHSB(360*this.H,this.S,this.B,this.A),e=mn.fromHSB(360*this.H,1,1),n=t.toRgbaString(),r=this.picker;mn.fromString(r.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),r.setValue(n),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,e){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var r=this.spectrumDragger,o=r.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,r.style.left=t*n.width-o.width/2+"px",r.style.top=(1-e)*n.height-o.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=mn.fromString(t),n=e.toHSB(),r=n[0],o=n[1],i=n[2];this.H=(isNaN(r)?0:r)/360,this.A=e.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(o,i)},e.prototype.onRecentColorClick=function(t){var n=t.target;if(E(n.id)){var r=parseInt(n.id,10);this.setValue(e.recentColors[r]),this.destroy()}},e.prototype.addRecentColor=function(){var t=mn.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=e.recentColors;this.colorChanged&&n[0]!==t&&(n=n.filter((function(e){return e!=t})),(n=[t].concat(n)).length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Sd([Bo("spectrumColor")],e.prototype,"spectrumColor",void 0),Sd([Bo("spectrumVal")],e.prototype,"spectrumVal",void 0),Sd([Bo("spectrumDragger")],e.prototype,"spectrumDragger",void 0),Sd([Bo("spectrumHue")],e.prototype,"spectrumHue",void 0),Sd([Bo("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),Sd([Bo("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),Sd([Bo("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),Sd([Bo("recentColors")],e.prototype,"recentColors",void 0),Sd([zt],e.prototype,"postConstruct",null),e}(Go),Td=(td=function(t,e){return(td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}td(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kd=function(t){function e(e,n,r,o){var i=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(o?'aria-haspopup="'+o+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return i.pickerIcon=r,i.isPickerDisplayed=!1,i.isDestroyingPicker=!1,i.skipClick=!1,i}return Td(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),jr(this.eWrapper,n);var r=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",(function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&$n(e.pickerComponent.getGui())&&o.contains(t.target)&&(e.skipClick=!0)})),this.addManagedListener(o,"keydown",(function(t){switch(t.keyCode){case Xo.UP:case Xo.DOWN:case Xo.ENTER:case Xo.SPACE:r();case Xo.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",r),this.addManagedListener(this.eLabel,"click",r),this.pickerIcon){var i=co(this.pickerIcon,this.gridOptionsWrapper);i&&this.eIcon.appendChild(i)}},e.prototype.refreshLabel=function(){E(this.getLabel())?Lr(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return Mr(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return hr(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},Rd([Bo("eLabel")],e.prototype,"eLabel",void 0),Rd([Bo("eWrapper")],e.prototype,"eWrapper",void 0),Rd([Bo("eDisplayField")],e.prototype,"eDisplayField",void 0),Rd([Bo("eIcon")],e.prototype,"eIcon",void 0),e}(Al),Ad=($h=function(t,e){return($h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dd=function(t){function e(e){var n=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return Ad(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),n=this.createBean(new yd({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,xn(n.getGui(),"ag-color-dialog");var r=this.createBean(new Pd({picker:this}));return r.addDestroyFunc((function(){n.isAlive()&&t.destroyBean(n)})),n.setParentComponent(this),n.setBodyComponent(r),r.setValue(this.getValue()),n.addDestroyFunc((function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,r.isAlive()&&t.destroyBean(r)),t.isAlive()&&t.getFocusableElement().focus(),t.isPickerDisplayed=!1})),n},e.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,t.prototype.setValue.call(this,e))},e.prototype.getValue=function(){return this.value},e}(kd),xd=(Jh=function(t,e){return(Jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nd=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return xd(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)}))},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,Or(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,Or(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,Or(this.eInput,"step",t)),this},e.prototype.setValue=function(e,n){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:t.prototype.setValue.call(this,e,n)},e}(md),Id=(Zh=function(t,e){return(Zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fd=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return Id(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,r=e.max,o=e.step;null!=n&&this.setMinValue(n),null!=r&&this.setMaxValue(r),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this,e=bn();this.addManagedListener(this.eInput,e?"change":"input",(function(e){t.setValue(e.target.value)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e}(Nl),Md=(Qh=function(t,e){return(Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ld=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return Md(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.keyCode;switch(e){case Xo.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Xo.DOWN:case Xo.UP:var r=e===Xo.DOWN,o=void 0;if(t.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),o=this.itemEls[i]}else o=this.itemEls[r?0:this.itemEls.length-1];this.highlightItem(o)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,n=Le(t.text||e);return this.options.push({value:e,text:n}),this.renderOption(e,n),this},e.prototype.renderOption=function(t,e){var n=this,r=document.createElement("div");r.setAttribute("role","option"),xn(r,"ag-list-item"),xn(r,"ag-"+this.cssIdentifier+"-list-item"),r.innerHTML="<span>"+e+"</span>",r.tabIndex=-1,this.itemEls.push(r),this.addManagedListener(r,"mouseover",(function(){return n.highlightItem(r)})),this.addManagedListener(r,"mouseleave",(function(){return n.clearHighlighted()})),this.addManagedListener(r,"click",(function(){return n.setValue(t)})),this.getGui().appendChild(r)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var n=et(this.options,(function(e){return e.value===t}));if(-1!==n){var r=this.options[n];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=et(this.options,(function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,xn(this.highlightedEl,e.ACTIVE_CLASS),$r(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(Nn(this.highlightedEl,e.ACTIVE_CLASS),$r(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Al.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([zt],e.prototype,"init",null),e}(Go),jd=(Xh=function(t,e){return(Xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vd=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return jd(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new Ld("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Ld.EVENT_ITEM_SELECTED,(function(){t.hideList&&t.hideList()})),this.listComponent.addManagedListener(this.listComponent,Al.EVENT_CHANGED,(function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()}))},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),n=this.addManagedListener(document.body,"wheel",(function(n){!e.contains(n.target)&&t.hideList&&t.hideList()})),r=this.addManagedListener(e,"focusout",(function(n){!e.contains(n.relatedTarget)&&t.hideList&&t.hideList()})),o=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,r(),n(),t.isAlive()&&t.getFocusableElement().focus()}});return o&&(this.hideList=o.hideFunc),this.isPickerDisplayed=!0,hr(e,Kn(this.eWrapper)),e.style.maxHeight=Hn(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,n,r){return this.value===e?this:(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,n)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},Gd([Yt("popupService")],e.prototype,"popupService",void 0),Gd([zt],e.prototype,"init",null),e}(kd),Wd=(qh=function(t,e){return(qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hd=function(t){function e(n){var r=t.call(this,n,e.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return Wd(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var n=parseFloat(t);n>180&&(n-=360),e.setValue(n)})),this.updateNumberInput(),E(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Al.EVENT_CHANGED,(function(){e.eAngleValue.getInputElement().contains(document.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,r=e.height/2;n.style.left=e.width/2+8*Math.cos(t)+"px",n.style.top=r+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,n=Math.atan2(e,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,n=Math.atan2(t.clientY-e.top-e.height/2,t.clientX-e.left-e.width/2);this.setValue(n,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,Al.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var n;return n=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:Al.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return dr(this.getGui(),t),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Bd([Bo("eLabel")],e.prototype,"eLabel",void 0),Bd([Bo("eParentCircle")],e.prototype,"eParentCircle",void 0),Bd([Bo("eChildCircle")],e.prototype,"eChildCircle",void 0),Bd([Bo("eAngleValue")],e.prototype,"eAngleValue",void 0),Bd([Yt("dragService")],e.prototype,"dragService",void 0),e}(Rl),zd=(Yh=function(t,e){return(Yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ud=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return zd(e,t),e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),In(this.getGui(),"ag-selected",this.getValue()),this},e}(Fl),Kd=(Kh=function(t,e){return(Kh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheItems=[],e}return Kd(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},e.prototype.addOrDestroy=function(t,e,n){if(this.active&&t.detail){var r=this.getCacheItem(t,!0);switch(e){case ne.PINNED_LEFT:this.destroyFullWidthRow(r.left),r.left=n;break;case ne.PINNED_RIGHT:this.destroyFullWidthRow(r.right),r.right=n;break;default:this.destroyFullWidthRow(r.center),r.center=n}this.cacheItems.sort((function(t,e){return e.lastAccessedTime-t.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}else this.destroyFullWidthRow(n)},e.prototype.getCacheItem=function(t,e){void 0===e&&(e=!1);for(var n=null,r=0;r<this.cacheItems.length;r++){var o=this.cacheItems[r];if(o.rowNode===t){n=o;break}}return!n&&e&&this.cacheItems.push(n={rowNode:t}),n&&this.stampCacheItem(n),n},e.prototype.stampCacheItem=function(t){t.lastAccessedTime=(new Date).getTime()},e.prototype.destroyFullWidthRow=function(t){this.getContext().destroyBean(t)},e.prototype.purgeCache=function(t){for(var e=t;e<this.cacheItems.length;e++){var n=this.cacheItems[e];this.destroyFullWidthRow(n.center),this.destroyFullWidthRow(n.left),this.destroyFullWidthRow(n.right)}this.cacheItems.length>t&&(this.cacheItems.length=t)},e.prototype.get=function(t,e){if(t.detail){var n,r=this.getCacheItem(t);if(r)switch(e){case ne.PINNED_LEFT:r.left&&(n=r.left,r.left=void 0);break;case ne.PINNED_RIGHT:r.right&&(n=r.right,r.right=void 0);break;default:r.center&&(n=r.center,r.center=void 0)}return n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.purgeCache(0)},Yd([zt],e.prototype,"postConstruct",null),Yd([Ut],e.prototype,"destroy",null),Yd([Kt("detailRowCompCache")],e)}(Se),Xd=(Uh=function(t,e){return(Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xd(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t=ne.PINNED_TOP:this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t=ne.PINNED_BOTTOM),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e,n=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return n?(e=ne.PINNED_BOTTOM,t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):r&&(e=ne.PINNED_TOP,t=r-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case ne.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case ne.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned},e.prototype.before=function(t,e){switch(t.rowPinned){case ne.PINNED_TOP:if(e.rowPinned!==ne.PINNED_TOP)return!0;break;case ne.PINNED_BOTTOM:if(e.rowPinned!==ne.PINNED_BOTTOM)return!1;break;default:if(E(e.rowPinned))return e.rowPinned!==ne.PINNED_TOP}return t.rowIndex<e.rowIndex},Qd([Yt("rowModel")],e.prototype,"rowModel",void 0),Qd([Yt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Qd([Yt("paginationProxy")],e.prototype,"paginationProxy",void 0),Qd([Kt("rowPositionUtils")],e)}(Se),Jd=(zh=function(t,e){return(zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jd(e,t),e.prototype.createId=function(t){return this.createIdFromValues(t.rowIndex,t.column,t.rowPinned)},e.prototype.createIdFromValues=function(t,e,n){return t+"."+(null==n?"null":n)+"."+e.getId()},e.prototype.equals=function(t,e){return t.column===e.column&&t.rowPinned===e.rowPinned&&t.rowIndex===e.rowIndex},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("cellPositionUtils")],e)}(Se),tf=(Hh=function(t,e){return(Hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ef=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(t){return P(t===ne.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var n=e===ne.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(P(n))return 0;for(var r=0;r<n.length;r++){var o=n[r];if(o.rowTop+o.rowHeight-1>=t)return r}return n.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:ke.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:ke.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.createNodesFromData=function(t,e){var n=this,r=[];if(t){var o=0;t.forEach((function(t,i){var s=new Ai;n.context.createBean(s),s.data=t,s.id=(e?Ai.ID_PREFIX_TOP_PINNED:Ai.ID_PREFIX_BOTTOM_PINNED)+i,s.rowPinned=e?ne.PINNED_TOP:ne.PINNED_BOTTOM,s.setRowTop(o),s.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(i),o+=s.rowHeight,r.push(s)}))}return r},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){P(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){P(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=V(t);return e.rowTop+e.rowHeight},ef([Yt("columnApi")],e.prototype,"columnApi",void 0),ef([Yt("gridApi")],e.prototype,"gridApi",void 0),ef([zt],e.prototype,"init",null),ef([Kt("pinnedRowModel")],e)}(Se),rf=(Bh=function(t,e){return(Bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),of=function(t){this.cellValueChanges=t},sf=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.initialRange=n,o.finalRange=r,o}return rf(e,t),e}(of),af=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),lf=(Wh=function(t,e){return(Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.isCellEditing=!1,e.isRowEditing=!1,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(t){if(e.isCellEditing||e.isRowEditing||e.isPasting||e.isFilling){var n=t.oldValue,r=t.value,o={rowPinned:t.rowPinned,rowIndex:t.rowIndex,columnId:t.column.getColId(),oldValue:n,newValue:r};e.cellValueChanges.push(o)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return lf(e,t),e.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var t=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();t<=0||(this.undoStack=new af(t),this.redoStack=new af(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,ke.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,ke.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,ke.EVENT_ROW_DRAG_END,this.clearStacks))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.oldValue})),t instanceof sf?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},e.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.newValue})),t instanceof sf?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},e.prototype.processAction=function(t,e){var n=this;t.cellValueChanges.forEach((function(t){var r=t.columnId,o=n.getRowNode({rowIndex:t.rowIndex,rowPinned:t.rowPinned});null!=o.rowTop&&o.setDataValue(r,e(t))}))},e.prototype.processRangeAndCellFocus=function(t,e){var n;if(e){var r=e.startRow,o=e.endRow;return n={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:e.startColumn.getColId()},this.setLastFocusedCell(n),void this.gridApi.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:e.startColumn,columns:e.columns})}var i=t[0],s=this.getRowNode({rowIndex:i.rowIndex,rowPinned:i.rowPinned});this.setLastFocusedCell(n={rowPinned:i.rowPinned,rowIndex:s.rowIndex,columnId:i.columnId})},e.prototype.setLastFocusedCell=function(t){var e=t.rowIndex,n=t.columnId,r=t.rowPinned;this.gridApi.ensureIndexVisible(e),this.gridApi.ensureColumnVisible(n),re.isRegistered(Jt.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(e,n,r,!0)},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,ke.EVENT_ROW_EDITING_STARTED,(function(){t.isRowEditing=!0})),this.addManagedListener(this.eventService,ke.EVENT_ROW_EDITING_STOPPED,(function(){var e=new of(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isRowEditing=!1}))},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,ke.EVENT_CELL_EDITING_STARTED,(function(){t.isCellEditing=!0})),this.addManagedListener(this.eventService,ke.EVENT_CELL_EDITING_STOPPED,(function(){if(t.isCellEditing=!1,!t.isRowEditing&&!t.isPasting&&!t.isFilling){var e=new of(t.cellValueChanges);t.pushActionsToUndoStack(e)}}))},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,ke.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,ke.EVENT_PASTE_END,(function(){var e=new of(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,ke.EVENT_FILL_START,(function(){t.isFilling=!0})),this.addManagedListener(this.eventService,ke.EVENT_FILL_END,(function(e){var n=new sf(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isFilling=!1}))},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case ne.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case ne.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},uf([Yt("focusController")],e.prototype,"focusController",void 0),uf([Yt("gridApi")],e.prototype,"gridApi",void 0),uf([Yt("rowModel")],e.prototype,"rowModel",void 0),uf([Yt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),uf([zt],e.prototype,"init",null),uf([Kt("undoRedoService")],e)}(Se),pf=(Vh=function(t,e){return(Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return pf(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("agStackComponentsRegistry")],e)}(Se),df=(Gh=function(t,e){return(Gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ff=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return df(e,t),e.prototype.findHeader=function(t,e){var n;if(n=t.column instanceof se?this.columnController["getDisplayedGroup"+e](t.column):this.columnController["getDisplayedCol"+e](t.column))return{column:n,headerRowIndex:t.headerRowIndex}},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var n=this.columnController.getAllDisplayedColumns(),r=n["start"===e?0:n.length-1];if(r){var o=this.headerNavigationService.getHeaderContainer(r.getPinned()).getRowComps()[t];return(o&&o.getType())==Ia.COLUMN_GROUP?{headerRowIndex:t,column:this.columnController.getColumnGroupAtLevel(r,t)}:{headerRowIndex:o?t:-1,column:r}}},ff([Yt("columnController")],e.prototype,"columnController",void 0),ff([Yt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),ff([Kt("headerPositionUtils")],e)}(Se),yf=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,n){var r=this,o=[],i={};return t.forEach((function(t){for(var s=!0,a=r.createDefFromColumn(t,e,n),l=t;l.getParent();){var u=l.getParent(),c=null;if(u.isPadding())l=u;else{var p=i[u.getGroupId()];if(p){p.children.push(a),s=!1;break}(c=r.createDefFromGroup(u))&&(c.children=[a],i[c.groupId]=c,a=c,l=u)}}s&&o.push(a)})),o},t.prototype.createDefFromGroup=function(t){var e=dt(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},t.prototype.createDefFromColumn=function(t,e,n){var r=dt(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?n.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=!t.isVisible()||void 0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,r},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Kt("columnDefFactory")],t)}(),vf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mf=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return E(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),$(e,this.processClassesFromGridOptions(t.rowNode)),$(e,this.preProcessRowClassRules(t.rowNode,t.scope)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},r=this.gridOptionsWrapper.getRowClass();if(r){if("function"==typeof r)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");n(r)}var o=this.gridOptionsWrapper.getRowClassFunc();return o&&n(o({node:t,data:t.data,rowIndex:t.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()})),e},t.prototype.preProcessRowClassRules=function(t,e){var n=[];return this.processRowClassRules(t,e,(function(t){n.push(t)}),(function(t){})),n},t.prototype.processRowClassRules=function(t,e,n,r){this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:e,context:this.gridOptionsWrapper.getContext()},n,r)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},vf([Yt("stylingService")],t.prototype,"stylingService",void 0),vf([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),vf([Kt("rowCssClassCalculator")],t)}(),Cf=(jh=function(t,e){return(jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bf=function(t){function e(n){var r=t.call(this)||this;return r.state=e.STATE_WAITING_TO_LOAD,r.version=0,r.id=n,r}return Cf(e,t),e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,e){this.successCommon(t,e)},e.prototype.pageLoaded=function(t,e,n){this.successCommon(t,{rowData:e,rowCount:n})},e.prototype.isRequestMostRecentAndLive=function(t){var e=t===this.version,n=this.isAlive();return e&&n},e.prototype.successCommon=function(t,n){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(n)),this.dispatchLoadCompleted()},e.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0),this.dispatchEvent({type:e.EVENT_LOAD_COMPLETE,success:t,block:this})},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(Se),wf=(Lh=function(t,e){return(Lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_f=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Of=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}var n,r;return wf(e,t),n=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();t&&t>0&&(this.checkBlockToLoadDebounce=So.debounce(this.performCheckBlocksToLoad.bind(this),t))},e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.addBlock=function(t){this.blocks.push(t),t.addEventListener(bf.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(t){So.removeFromArray(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=null;this.blocks.forEach((function(e){e.getState()===bf.STATE_WAITING_TO_LOAD&&(t=e)})),t&&(t.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},e.prototype.getBlockState=function(){var t={};return this.blocks.forEach((function(e){var n=e.getBlockStateJson();t[n.id]=n.state})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",_f([zt],e.prototype,"postConstruct",null),_f([(r=Qt("loggerFactory"),function(t,e){r(t,e,0)})],e.prototype,"setBeans",null),n=_f([Kt("rowNodeBlockLoader")],e)}(Se),Ef=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sf=function(){function t(){}return t.prototype.doFullSort=function(t,e){var n=t.map((function(t,e){return{currentPos:e,rowNode:t}}));return n.sort(this.compareRowNodes.bind(this,e)),n.map((function(t){return t.rowNode}))},t.prototype.compareRowNodes=function(t,e,n){for(var r=e.rowNode,o=n.rowNode,i=0,s=t.length;i<s;i++){var a,l=t[i],u=l.sort===ne.SORT_DESC,c=this.getValue(r,l.column),p=this.getValue(o,l.column),h=l.column.getColDef().comparator;if(0!==(a=h?h(c,p,r,o,u):So.defaultComparator(c,p,this.gridOptionsWrapper.isAccentedSort())))return l.sort===ne.SORT_ASC?a:-1*a}return e.currentPos-n.currentPos},t.prototype.getValue=function(t,e){return this.valueService.getValue(e,t)},Ef([Yt("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ef([Yt("valueService")],t.prototype,"valueService",void 0),Ef([Kt("rowNodeSorter")],t)}(),Pf=function(){function t(t,e,n){if(t)if(e){var r=!!e.debug;this.gridOptions=e;var o=this.getRegisteredModules(n),i=this.createBeansList(o),s=this.createProvidedBeans(t,n);if(i){var a={providedBeanInstances:s,beanClasses:i,debug:r};this.logger=new zc("ag-Grid",(function(){return e.debug}));var l=new zc("Context",(function(){return a.debug}));this.context=new Bt(a,l),this.registerModuleUserComponents(o),this.registerStackComponents(o);var u=new(n&&n.rootComponent||$c);this.context.createBean(u),this.setColumnsAndData(),this.dispatchGridReadyEvent(e);var c=re.isRegistered(Jt.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+c)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return t.prototype.registerStackComponents=function(t){var e=this.createAgStackComponentsList(t);this.context.getBean("agStackComponentsRegistry").setupComponents(e)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=re.getRegisteredModules(),r=[],o={};function i(t,e){var n;o[(n=e).moduleName]||(o[n.moduleName]=!0,r.push(n),re.register(n,t)),e.dependantModules&&e.dependantModules.forEach(i.bind(null,t))}return e&&e.forEach(i.bind(null,!0)),n&&n.forEach(i.bind(null,!re.isPackageBased())),r},t.prototype.registerModuleUserComponents=function(t){var e=this.context.getBean("userComponentRegistry");this.extractModuleEntity(t,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(t){e.registerDefaultComponent(t.componentName,t.componentClass)}))},t.prototype.createProvidedBeans=function(t,e){var n=e?e.frameworkOverrides:null;S(n)&&(n=new Ep);var r={gridOptions:this.gridOptions,eGridDiv:t,$scope:e?e.$scope:null,$compile:e?e.$compile:null,quickFilterOnScope:e?e.quickFilterOnScope:null,globalEventListener:e?e.globalEventListener:null,frameworkOverrides:n};return e&&e.providedBeanInstances&&wt(r,e.providedBeanInstances),r},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Fl},{componentName:"AgRadioButton",componentClass:_p},{componentName:"AgToggleButton",componentClass:Ud},{componentName:"AgInputTextField",componentClass:md},{componentName:"AgInputTextArea",componentClass:bd},{componentName:"AgInputNumberField",componentClass:Nd},{componentName:"AgInputRange",componentClass:Fd},{componentName:"AgSelect",componentClass:Vd},{componentName:"AgSlider",componentClass:Od},{componentName:"AgAngleSelect",componentClass:Hd},{componentName:"AgColorPicker",componentClass:Dd},{componentName:"AgGridComp",componentClass:kc},{componentName:"AgHeaderRoot",componentClass:hc},{componentName:"AgPagination",componentClass:Ah},{componentName:"AgOverlayWrapper",componentClass:ld},{componentName:"AgGroupComponent",componentClass:pd},{componentName:"AgPanel",componentClass:fd},{componentName:"AgDialog",componentClass:yd}],n=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e.concat(n)},t.prototype.createBeansList=function(t){var e=this.getRowModelClass(t);if(e){var n=[e,sh,Zd,$d,gf,Hp,Dc,pa,eh,oh,xh,vs,wh,Th,Qc,nf,ip,sn,ee,wa,Vc,Sa,yc,He,lc,Wp,bl,Ic,Re,Lc,Jp,mh,Kp,Cc,Hc,nn,Yc,np,tl,Ta,pp,fp,hh,vp,bp,Ap,Tp,lp,Np,Fp,Eh,jp,Xp,gh,qd,cf,hf,yf,mf,Of,Sf],r=this.extractModuleEntity(t,(function(t){return t.beans?t.beans:[]}));n.push.apply(n,r);var o=[];return n.forEach((function(t){o.indexOf(t)<0&&o.push(t)})),o}},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],t.map(e))},t.prototype.setColumnsAndData=function(){var t=this.context.getBean("gridOptionsWrapper"),e=this.context.getBean("columnController"),n=t.getColumnDefs();e.setColumnDefs(n||[],"gridInitializing"),this.context.getBean("rowModel").start()},t.prototype.dispatchGridReadyEvent=function(t){this.context.getBean("eventService").dispatchEvent({type:ke.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi})},t.prototype.getRowModelClass=function(t){var e=this.gridOptions.rowModelType;e||(e=ne.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};t.forEach((function(t){ct(t.rowModels,(function(t,e){n[t]=e}))}));var r=n[e];if(E(r))return r;e===ne.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+Jt.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+e),e===ne.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+Jt.ViewportRowModelModule+" is registered.';"),e===ne.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+Jt.ServerSideRowModelModule+" is registered.';"),e===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+Jt.ClientSideRowModelModule+" is registered.';")},t.prototype.destroy=function(){this.gridOptions.api.destroy()},t}(),Tf=(Mh=function(t,e){return(Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kf=function(t){function e(n){var r=t.call(this,e.getTemplate(n.cssClass))||this;return r.items=[],r.params=n,n.items&&n.items.forEach((function(t){return r.addItem(t)})),r}return Tf(e,t),e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="menu" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case Xo.RIGHT:case Xo.LEFT:if(!this.eHeader.contains(document.activeElement))return;var e=this.items.indexOf(this.activeItem),n=t.keyCode===Xo.RIGHT?Math.min(e+1,this.items.length-1):Math.max(e-1,0);if(e===n)return;t.preventDefault();var r=this.items[n];this.showItemWrapper(r),r.eHeaderButton.focus();break;case Xo.UP:case Xo.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this.focusController,n=this.eHeader,r=this.eBody,o=this.activeItem,i=document.activeElement;if(t.preventDefault(),n.contains(i))e.focusInto(r,t.shiftKey);else if(e.isFocusUnderManagedComponent(r))o.eHeaderButton.focus();else{var s=e.findNextFocusableElement(r,!1,t.shiftKey);s?s.focus():o.eHeaderButton.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.getMinDimensions=function(){var t=this.getGui().cloneNode(!0),e=t.querySelector('[ref="eBody"]');t.style.position="fixed",this.getGui().appendChild(t);var n=0,r=0;return this.items.forEach((function(o){Qn(e);var i=o.tabbedItem.bodyPromise.resolveNow(null,(function(t){return t.cloneNode(!0)}));null!=i&&(e.appendChild(i),n<t.offsetWidth&&(n=t.offsetWidth),r<t.offsetHeight&&(r=t.offsetHeight))})),this.getGui().removeChild(t),{height:r,width:n}},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");e.setAttribute("tabIndex","-1"),e.setAttribute("role","menuitem"),e.appendChild(t.title),xn(e,"ag-tab"),this.eHeader.appendChild(e),Mr(e,t.titleLabel);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var e=I(this.items,(function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e=this;this.params.onItemClicked&&this.params.onItemClicked({item:t.tabbedItem}),this.activeItem!==t?(Qn(this.eBody),t.tabbedItem.bodyPromise.then((function(n){e.eBody.appendChild(n);var r=!e.focusController.isKeyboardMode();e.focusController.focusInto(e.eBody,!1,r),t.tabbedItem.afterAttachedCallback&&t.tabbedItem.afterAttachedCallback(e.afterAttachedParams)})),this.activeItem&&Nn(this.activeItem.eHeaderButton,"ag-tab-selected"),xn(t.eHeaderButton,"ag-tab-selected"),this.activeItem=t):Wt(this.params.onActiveItemClicked)},Rf([Bo("eHeader")],e.prototype,"eHeader",void 0),Rf([Bo("eBody")],e.prototype,"eBody",void 0),e}(ri);!function(t){t.StoreNotFound="StoreNotFound",t.StoreLoading="StoreLoading",t.StoreWaitingToLoad="StoreWaitingToLoad",t.StoreLoadingFailed="StoreLoadingFailed",t.StoreWrongType="StoreWrongType",t.Applied="Applied",t.Cancelled="Cancelled"}(Fh||(Fh={}));var Af,Df,xf=(Df=function(t,e){return(Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Df(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},If=function(t){function e(n,r){void 0===n&&(n="default"),void 0===r&&(r="listbox");var o=t.call(this,e.getTemplate(n),!0)||this;return o.cssIdentifier=n,o.ariaRole=r,o.renderedRows=new Map,o.rowHeight=20,o.isDestroyed=!1,o}return xf(e,t),e.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),t.prototype.postConstruct.call(this)},e.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),e=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(e){t.prototype.onFocusIn.call(this,e);var n=e.target;Mn(n,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=Fr(n)-1)},e.prototype.onFocusOut=function(e){t.prototype.onFocusOut.call(this,e),this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case Xo.UP:case Xo.DOWN:this.navigate(t.keyCode===Xo.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusController.focusInto(this.getGui(),!t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount()||(this.focusRow(e),0))},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){var n=e.renderedRows.get(t);n&&n.eDiv.focus()}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="listbox">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!=typeof t||t<0||t>=e)console.warn("invalid row index for ensureIndexVisible: "+t);else{var n=t*this.rowHeight,r=n+this.rowHeight,o=this.getGui(),i=o.scrollTop,s=o.offsetHeight,a=i+s<r;i>n?o.scrollTop=n:a&&(o.scrollTop=r-s)}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(){var t=this;if(null!=this.model&&!this.isDestroyed){var e=this.model.getRowCount();this.eContainer.style.height=e*this.rowHeight+"px",setTimeout((function(){t.isDestroyed||(t.clearVirtualRows(),t.drawVirtualRows())}),0)}},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,n){return t.removeRow(n)}))},e.prototype.drawVirtualRows=function(){var t=this.getGui(),e=t.scrollTop,n=e+t.offsetHeight,r=Math.floor(e/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(r,o)},e.prototype.ensureRowsRendered=function(t,e){var n=this;this.renderedRows.forEach((function(r,o){(o<t||o>e)&&o!==n.lastFocusedRowIndex&&n.removeRow(o)}));for(var r=t;r<=e;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)},e.prototype.insertRow=function(t){var e=this,n=this.model.getRow(t),r=document.createElement("div");if(xn(r,"ag-virtual-list-item"),xn(r,"ag-"+this.cssIdentifier+"-virtual-list-item"),r.setAttribute("role","tree"===this.ariaRole?"treeitem":"option"),Hr(r,this.model.getRowCount()),zr(r,t+1),r.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var o=this.model.isRowSelected(t);$r(r,!!o),to(r,o)}r.style.height=this.rowHeight+"px",r.style.top=this.rowHeight*t+"px";var i=this.componentCreator(n,r);i.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),r.appendChild(i.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(t,{rowComponent:i,eDiv:r})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}))},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,t.prototype.destroy.call(this))},Nf([Yt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Nf([Bo("eContainer")],e.prototype,"eContainer",void 0),e}(ri);!function(t){t.Full="full",t.Partial="partial"}(Af||(Af={}));var Ff,Mf,Lf=function(){function t(){}return t.prototype.wrap=function(t,e,n,r,o){var i=this;void 0===n&&(n=[]);var s=this.createWrapper(t,r,o);return e.forEach((function(t){i.createMethod(s,t,!0)})),n.forEach((function(t){i.createMethod(s,t,!1)})),s},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("ag-Grid: Framework component is missing the method "+e+"()"),null)}},t}();!function(t){t.Column="column",t.GroupedColumn="groupedColumn",t.StackedColumn="stackedColumn",t.NormalizedColumn="normalizedColumn",t.Bar="bar",t.GroupedBar="groupedBar",t.StackedBar="stackedBar",t.NormalizedBar="normalizedBar",t.Line="line",t.Scatter="scatter",t.Bubble="bubble",t.Pie="pie",t.Doughnut="doughnut",t.Area="area",t.StackedArea="stackedArea",t.NormalizedArea="normalizedArea",t.Histogram="histogram"}(Ff||(Ff={})),function(t){t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left"}(Mf||(Mf={}));var jf="undefined"==typeof global?{}:global;jf.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,jf.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,jf.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,jf.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,jf.Node="undefined"==typeof Node?{}:Node,jf.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent},X0qr:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},X5xC:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n("vobO"),o=n("4e/d"),i=n("TLy2"),s=n("47ST"),l=n("ROBh"),c=n("8SNO"),p=n("K8Gv"),h=n("ICOb"),d=n("EM62"),g=function(){var t=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).handler2=t,o.shared=r,o.logger=new h.a(n),o}return y(n,[{key:"checkError",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.statusText;if(e="Unknown Error"===r?{message:"Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7.",code:"client_error"}:"Bad Gateway"===r?{message:"M\xe1y ch\u1ee7 b\u1ecb l\u1ed7i.",code:"client_error"}:{message:(t=t.error).msg,code:t.code},n){var o=e.code;if(["client_error","SessionExpired"].includes(o)){var i=this.shared.getAppConfig().getApiUrl();this.shared.modal.create({nzTitle:"Th\xf4ng b\xe1o",nzOkText:null,nzCancelText:"\u0110\xf3ng",nzMaskClosable:!1,nzClosable:!1,nzContent:'<b class="text-info">- '.concat(e.message,"</b><br>").concat("client_error"===o?'- Vui l\xf2ng ki\u1ec3m tra k\u1ebft n\u1ed1i <b class="text-danger">'.concat(i,"</b>."):"")})}else this.shared.showError(e)}return this.logger.info(e),Object(s.a)(e)}},{key:"send",value:function(t,e,n){var r=this;n=n||{};var s=!!Object(p.i)(n.alert)||n.alert;return delete n.alert,this.request(t,e,n).pipe(Object(o.a)((function(t){return r.checkError(t,s,1)})),Object(i.a)((function(t){return t&&t.error?r.checkError(t,s,2):Object(l.a)(t)})))}},{key:"sendGet",value:function(t,e,n){return n=Object.assign({},n,{params:e}),this.send("GET",t,n)}},{key:"sendPost",value:function(t,e,n){return n=Object.assign({},n,{body:e}),this.send("POST",t,n)}},{key:"sendPut",value:function(t,e,n){return n=Object.assign({},n,{body:e}),this.send("PUT",t,n)}},{key:"sendDelete",value:function(t,e){return e=Object.assign({},e),this.send("DELETE",t,e)}}],[{key:"getMsgOd",value:function(t){var e=t.data&&t.data.arguments?t.data.arguments[0]:null;return e=Object(p.i)(e)?"L\u1ed7i h\u1ec7 th\u1ed1ng":e,"[TS24".concat(Object(p.l)(t.from)?"":" > "+t.from,"] ").concat(e)}}]),n}(r.c);return t.\u0275fac=function(e){return new(e||t)(d.Xb(r.f),d.Xb(c.a))},t.\u0275prov=d.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},XpVc:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("K8Gv"),o={create:!0,view:!0,helpdesk:!0,find_kh:!0,report:!0,excel:!0,admin:!1,delete:!0,pivot:!1,copy:!1,create_grid:!0,cfig_def:!0,cfig_def_input:!1},i=function(){function t(){f(this,t),this.roles={},this.grid_config={}}return y(t,[{key:"assign",value:function(t){var e=Object.assign(this,{od_user:{},config:{}},t);return!Object(r.i)(e.od_user)&&Object(r.l)(e.od_user.display_name)&&(e.od_user.display_name=e.od_user.name),Object(r.i)(e.roles)&&(e.roles=o),e}},{key:"saveBy",value:function(t){return t.setByKey("UserDetail",this),this}},{key:"isRoleAdmin",value:function(){return"ROLE_ADMIN"===this.role}},{key:"isAuthenticated",value:function(){return!Object(r.i)(this.id)}},{key:"isRole",value:function(t,e){t=Object(r.i)(t)?[]:"string"==typeof t?[t]:t;var n=this.roles;return 0===t.filter((function(t){return Object(r.l)(n[t])||!n[t]})).length&&(!!Object(r.i)(e)||e)}},{key:"getAgField",value:function(t){return this.getAgType(t).grid_field||{}}},{key:"getAgType",value:function(t){var e=this.grid_config[t]||{};return Object(r.h)(e)&&(this.grid_config[t]={}),e}},{key:"assignAgType",value:function(t,e){return this.getAgType(t),this.grid_config[t]=Object.assign({},e),this}}],[{key:"readBy",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?{}:e.getByKey("UserDetail");return(new t).assign(r||{})}}]),t}()},YtkY:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5uGe");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(t,e))}}var i=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}]),t}(),s=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t)).project=r,i.count=0,i.thisArg=o||p(i),i}return y(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},ZTXN:function(t,e,r){"use strict";r.d(e,"b",(function(){return h})),r.d(e,"a",(function(){return g}));var o=r("IdLP"),i=r("5uGe"),s=r("bwdy"),l=r("MiDb"),c=r("yTkW"),p=r("25CY"),h=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),g=function(){var t=function(t){a(r,t);var e=u(r);function r(){var t;return f(this,r),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return y(r,[{key:p.a,value:function(){return new h(this)}},{key:"lift",value:function(t){var e=new v(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new l.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)}},{key:"error",value:function(t){if(this.closed)throw new l.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new l.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new l.a;return n(d(r.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new l.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new c.a(this,t))}},{key:"asObservable",value:function(){var t=new o.a;return t.source=this,t}}]),r}(o.a);return t.create=function(t,e){return new v(t,e)},t}(),v=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this)).destination=t,o.source=r,o}return y(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):s.a.EMPTY}}]),n}(g)},ZTwM:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n("cZZj"),o=n("EM62"),i=n("5lCh"),s=function(){function t(e,n,o,i){var s=this;f(this,t),this.triggerElement=e,this.ngZone=n,this.insertExtraNode=o,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=function(t){!s.triggerElement||!s.triggerElement.getAttribute||s.triggerElement.getAttribute("disabled")||"INPUT"===t.target.tagName||s.triggerElement.className.indexOf("disabled")>=0||s.fadeOutWave()},this.platform=new r.a(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}return y(t,[{key:"bindTriggerEvent",value:function(){var t=this;this.platform.isBrowser&&this.ngZone.runOutsideAngular((function(){t.removeTriggerEvent(),t.triggerElement&&t.triggerElement.addEventListener("click",t.clickHandler,!0)}))}},{key:"removeTriggerEvent",value:function(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}},{key:"removeStyleAndExtraNode",value:function(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}},{key:"destroy",value:function(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}},{key:"fadeOutWave",value:function(){var t=this,e=this.triggerElement,n=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),Date.now()<this.lastTime+this.waveTransitionDuration||(this.isValidColor(n)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML="\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(n,";\n      }"),document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone((function(){e.removeAttribute(t.waveAttributeName),t.removeStyleAndExtraNode()}),this.waveTransitionDuration))}},{key:"isValidColor",value:function(t){return!!t&&"#ffffff"!==t&&"rgb(255, 255, 255)"!==t&&this.isNotGrey(t)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(t)&&"transparent"!==t}},{key:"isNotGrey",value:function(t){var e=t.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(e&&e[1]&&e[2]&&e[3]&&e[1]===e[2]&&e[2]===e[3])}},{key:"getWaveColor",value:function(t){var e=getComputedStyle(t);return e.getPropertyValue("border-top-color")||e.getPropertyValue("border-color")||e.getPropertyValue("background-color")}},{key:"runTimeoutOutsideZone",value:function(t,e){this.ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"waveAttributeName",get:function(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}}]),t}(),a={disabled:!1},l=new o.q("nz-wave-global-options",{providedIn:"root",factory:function(){return a}}),u=function(){var t=function(){function t(e,n,r,o,i){f(this,t),this.ngZone=e,this.elementRef=n,this.config=r,this.animationType=o,this.platformId=i,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}return y(t,[{key:"isConfigDisabled",value:function(){var t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}},{key:"ngOnDestroy",value:function(){this.waveRenderer&&this.waveRenderer.destroy()}},{key:"ngOnInit",value:function(){this.renderWaveIfEnabled()}},{key:"renderWaveIfEnabled",value:function(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new s(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}},{key:"disable",value:function(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}},{key:"enable",value:function(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}},{key:"disabled",get:function(){return this.waveDisabled}},{key:"rendererRef",get:function(){return this.waveRenderer}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Nb(o.z),o.Nb(o.l),o.Nb(l,8),o.Nb(i.a,8),o.Nb(o.B))},t.\u0275dir=o.Ib({type:t,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),t}(),c=function(){var t=function t(){f(this,t)};return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[r.b]]}),t}()},ZXq0:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return d}));var r=n("f7+R"),o=function(){var t=function t(){f(this,t)};return t.SLOW="0.3s",t.BASE="0.2s",t.FAST="0.1s",t}(),i=function(){var t=function t(){f(this,t)};return t.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",t.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",t.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",t.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",t.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",t.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",t.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",t.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",t.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",t.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",t.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",t.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",t.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",t.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",t}(),s=Object(r.l)("collapseMotion",[Object(r.i)("expanded",Object(r.j)({height:"*"})),Object(r.i)("collapsed",Object(r.j)({height:0,overflow:"hidden"})),Object(r.i)("hidden",Object(r.j)({height:0,overflow:"hidden",borderTopWidth:"0"})),Object(r.k)("expanded => collapsed",Object(r.e)("150ms "+i.EASE_IN_OUT)),Object(r.k)("expanded => hidden",Object(r.e)("150ms "+i.EASE_IN_OUT)),Object(r.k)("collapsed => expanded",Object(r.e)("150ms "+i.EASE_IN_OUT)),Object(r.k)("hidden => expanded",Object(r.e)("150ms "+i.EASE_IN_OUT))]),a=Object(r.l)("helpMotion",[Object(r.k)(":enter",[Object(r.j)({opacity:0,transform:"translateY(-5px)"}),Object(r.e)("".concat(o.SLOW," ").concat(i.EASE_IN_OUT),Object(r.j)({opacity:1,transform:"translateY(0)"}))]),Object(r.k)(":leave",[Object(r.j)({opacity:1,transform:"translateY(0)"}),Object(r.e)("".concat(o.SLOW," ").concat(i.EASE_IN_OUT),Object(r.j)({opacity:0,transform:"translateY(-5px)"}))])]),l=Object(r.l)("moveUpMotion",[Object(r.k)("* => enter",[Object(r.j)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Object(r.e)(""+o.BASE,Object(r.j)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Object(r.k)("* => leave",[Object(r.j)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Object(r.e)(""+o.BASE,Object(r.j)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),u="".concat(o.BASE," ").concat(i.EASE_OUT_QUINT),c="".concat(o.BASE," ").concat(i.EASE_IN_QUINT),p=Object(r.l)("slideMotion",[Object(r.i)("void",Object(r.j)({opacity:0,transform:"scaleY(0.8)"})),Object(r.i)("enter",Object(r.j)({opacity:1,transform:"scaleY(1)"})),Object(r.k)("void => *",[Object(r.e)(u)]),Object(r.k)("* => void",[Object(r.e)(c)])]),h=Object(r.l)("slideAlertMotion",[Object(r.k)(":leave",[Object(r.j)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Object(r.e)("".concat(o.SLOW," ").concat(i.EASE_IN_OUT_CIRC),Object(r.j)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),d=Object(r.l)("zoomMotion",[Object(r.k)(":enter",[Object(r.j)({opacity:0,transform:"scale(0.2)"}),Object(r.e)("".concat(o.BASE," ").concat(i.EASE_OUT_CIRC),Object(r.j)({opacity:1,transform:"scale(1)"}))]),Object(r.k)(":leave",[Object(r.j)({opacity:1,transform:"scale(1)"}),Object(r.e)("".concat(o.BASE," ").concat(i.EASE_IN_OUT_CIRC),Object(r.j)({opacity:0,transform:"scale(0.2)"}))])]),g=Object(r.l)("zoomBigMotion",[Object(r.k)("void => active",[Object(r.j)({opacity:0,transform:"scale(0.8)"}),Object(r.e)("".concat(o.BASE," ").concat(i.EASE_OUT_CIRC),Object(r.j)({opacity:1,transform:"scale(1)"}))]),Object(r.k)("active => void",[Object(r.j)({opacity:1,transform:"scale(1)"}),Object(r.e)("".concat(o.BASE," ").concat(i.EASE_IN_OUT_CIRC),Object(r.j)({opacity:0,transform:"scale(0.8)"}))])])},bCsd:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return C}));var r=n("EM62"),o=n("ZTXN"),i=n("prE9"),s=n("ruxD"),a=n("YtkY"),l=(n("xVbo"),n("jIqt")),u=n("Ohay"),c=n("4ZgP"),p=(n("7ucf"),n("2kYt"),n("v7EJ"),n("HOZh")),h=function(){},d=function(){var t=function(){function t(e,n){var r=this;f(this,t),this.ngZone=e,this.rendererFactory2=n,this.resizeSource$=new o.a,this.listeners=0,this.disposeHandle=h,this.handler=function(){r.ngZone.run((function(){r.resizeSource$.next()}))},this.renderer=this.rendererFactory2.createRenderer(null,null)}return y(t,[{key:"subscribe",value:function(){var t=this;return this.registerListener(),this.resizeSource$.pipe(Object(i.a)(16),Object(s.a)((function(){return t.unregisterListener()})))}},{key:"unsubscribe",value:function(){this.unregisterListener()}},{key:"registerListener",value:function(){var t=this;0===this.listeners&&this.ngZone.runOutsideAngular((function(){t.disposeHandle=t.renderer.listen("window","resize",t.handler)})),this.listeners+=1}},{key:"unregisterListener",value:function(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=h)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.z),r.Xb(r.F))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(r.z),Object(r.Xb)(r.F))},token:t,providedIn:"root"}),t}(),g=new Map,v=function(){var t=function(){function t(){f(this,t),this._singletonRegistry=new Map}return y(t,[{key:"registerSingletonWithKey",value:function(t,e){var n=this.singletonRegistry.has(t),r=n?this.singletonRegistry.get(t):this.withNewTarget(e);n||this.singletonRegistry.set(t,r)}},{key:"getSingletonWithKey",value:function(t){return this.singletonRegistry.has(t)?this.singletonRegistry.get(t).target:null}},{key:"withNewTarget",value:function(t){return{target:t}}},{key:"singletonRegistry",get:function(){return c.a.isTestMode?g:this._singletonRegistry}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),m=function(t){return t.xxl="xxl",t.xl="xl",t.lg="lg",t.md="md",t.sm="sm",t.xs="xs",t}({}),C={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},b=function(){var t=function(){function t(e,n){f(this,t),this.resizeService=e,this.mediaMatcher=n,this.resizeService.subscribe().subscribe((function(){}))}return y(t,[{key:"subscribe",value:function(t,e){var n=this;if(e){var r=function(){return n.matchMedia(t,!0)};return this.resizeService.subscribe().pipe(Object(a.a)(r),Object(l.a)(r()),Object(u.a)((function(t,e){return t[0]===e[0]})),Object(a.a)((function(t){return t[1]})))}var o=function(){return n.matchMedia(t)};return this.resizeService.subscribe().pipe(Object(a.a)(o),Object(l.a)(o()),Object(u.a)())}},{key:"matchMedia",value:function(t,e){var n=this,r=m.md,o={};return Object.keys(t).map((function(t){var e=t,i=n.mediaMatcher.matchMedia(C[e]).matches;o[t]=i,i&&(r=e)})),e?[r,o]:r}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Xb(d),r.Xb(p.b))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(d),Object(r.Xb)(p.b))},token:t,providedIn:"root"}),t}()},bwdy:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,o,i=n("FU6l"),s=n("X0qr"),a=n("IJgj"),l=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),u=((o=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return y(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(Object(a.a)(r))try{r.call(this)}catch(f){e=f instanceof l?c(f.errors):[f]}if(Object(i.a)(o))for(var p=-1,h=o.length;++p<h;){var d=o[p];if(Object(s.a)(d))try{d.unsubscribe()}catch(f){e=e||[],f instanceof l?e=e.concat(c(f.errors)):e.push(f)}}if(e)throw new l(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new o).closed=!0,r),o);function c(t){return t.reduce((function(t,e){return t.concat(e instanceof l?e.errors:e)}),[])}},cHbk:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return qv}));var r,o,i,s,a,l,u=n("KLQV"),c=n("WdQX"),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watermarkMessage=void 0,e}var n;return p(e,t),n=e,e.prototype.validateLicense=function(){if(c.ib.missingOrEmpty(n.licenseKey))this.outputMissingLicenseKey();else if(n.licenseKey.length>32){var t=n.extractLicenseComponents(n.licenseKey),e=t.license,r=t.version,o=t.isTrial;t.md5===this.md5.md5(e)?c.ib.exists(r)&&r?this.validateLicenseKeyForVersion(r,!!o,e):this.validateLegacyKey(e):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},e.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(n.decode(e),10))},e.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,""),r=(e=e.replace(/\r?\n|\r/g,"")).length-32,o=e.substring(r),i=e.substring(0,r),s=n.extractBracketedInformation(e);return{md5:o,license:i,version:s[0],isTrial:s[1]}},e.prototype.getLicenseDetails=function(t){var e=n.extractLicenseComponents(t),r=e.license,o=e.version,i=e.isTrial,s=e.md5===this.md5.md5(r),a=null;return s&&(a=n.extractExpiry(r),s=!isNaN(a.getTime())),{licenseKey:t,valid:s,expiry:s?n.formatDate(a):null,version:o||"legacy",isTrial:i}},e.prototype.isDisplayWatermark=function(){return!c.ib.missingOrEmpty(this.watermarkMessage)},e.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},e.formatDate=function(t){var e=t.getDate(),n=t.getMonth(),r=t.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+r},e.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},e.decode=function(t){for(var e,r,o,i,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,p=t.replace(/[^A-Za-z0-9+/=]/g,"");c<p.length;)o=l.indexOf(p.charAt(c++)),e=(15&(i=l.indexOf(p.charAt(c++))))<<4|(s=l.indexOf(p.charAt(c++)))>>2,r=(3&s)<<6|(a=l.indexOf(p.charAt(c++))),u+=String.fromCharCode(o<<2|i>>4),64!=s&&(u+=String.fromCharCode(e)),64!=a&&(u+=String.fromCharCode(r));return n.utf8_decode(u)},e.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},e.setLicenseKey=function(t){n.licenseKey=t},e.extractBracketedInformation=function(t){var e=t.split("[").filter((function(t){return t.indexOf("]")>-1})).map((function(t){return t.split("]")[0]}));if(!e||0===e.length)return[null,null];var n=1===e.filter((function(t){return"TRIAL"===t})).length;return[e.filter((function(t){return 0===t.indexOf("v")})).map((function(t){return t.replace(/^v/,"")}))[0],n]},e.prototype.validateLicenseKeyForVersion=function(t,e,n){"2"===t&&(e?this.validateForTrial(n):this.validateLegacyKey(n))},e.prototype.validateLegacyKey=function(t){var e=n.getGridReleaseDate(),r=n.extractExpiry(t),o=!1,i=!1;if(isNaN(r.getTime())||(o=!0,i=e<r),o){if(!i){var s=n.formatDate(r),a=n.formatDate(e);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},e.prototype.validateForTrial=function(t){var e=n.extractExpiry(t),r=new Date,o=!1,i=!1;if(isNaN(e.getTime())||(o=!0,i=e>r),o){if(!i){var s=n.formatDate(e);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},e.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for ag-Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},e.prototype.outputExpiredTrialKey=function(t){console.error("****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for ag-Grid Enterprise expired on "+t+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},e.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All ag-Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},e.prototype.outputIncompatibleVersion=function(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             ag-Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of ag-Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your ag-Grid License entitles you to all versions of ag-Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of ag-Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of ag-Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+t+", however the version of ag-Grid you    *"),console.error("* are trying to use was released on "+e+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of ag-Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},e.RELEASE_INFORMATION="MTYwNzkzMzg4MjIzNg==",h([Object(c.k)("md5")],e.prototype,"md5",void 0),h([c.R],e.prototype,"validateLicense",null),n=h([Object(c.m)("licenseManager")],e)}(c.n),f=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return f(e,t),e.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},e.prototype.md5cycle=function(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];n=this.ff(n,r,o,i,e[0],7,-680876936),i=this.ff(i,n,r,o,e[1],12,-389564586),o=this.ff(o,i,n,r,e[2],17,606105819),r=this.ff(r,o,i,n,e[3],22,-1044525330),n=this.ff(n,r,o,i,e[4],7,-176418897),i=this.ff(i,n,r,o,e[5],12,1200080426),o=this.ff(o,i,n,r,e[6],17,-1473231341),r=this.ff(r,o,i,n,e[7],22,-45705983),n=this.ff(n,r,o,i,e[8],7,1770035416),i=this.ff(i,n,r,o,e[9],12,-1958414417),o=this.ff(o,i,n,r,e[10],17,-42063),r=this.ff(r,o,i,n,e[11],22,-1990404162),n=this.ff(n,r,o,i,e[12],7,1804603682),i=this.ff(i,n,r,o,e[13],12,-40341101),o=this.ff(o,i,n,r,e[14],17,-1502002290),r=this.ff(r,o,i,n,e[15],22,1236535329),n=this.gg(n,r,o,i,e[1],5,-165796510),i=this.gg(i,n,r,o,e[6],9,-1069501632),o=this.gg(o,i,n,r,e[11],14,643717713),r=this.gg(r,o,i,n,e[0],20,-373897302),n=this.gg(n,r,o,i,e[5],5,-701558691),i=this.gg(i,n,r,o,e[10],9,38016083),o=this.gg(o,i,n,r,e[15],14,-660478335),r=this.gg(r,o,i,n,e[4],20,-405537848),n=this.gg(n,r,o,i,e[9],5,568446438),i=this.gg(i,n,r,o,e[14],9,-1019803690),o=this.gg(o,i,n,r,e[3],14,-187363961),r=this.gg(r,o,i,n,e[8],20,1163531501),n=this.gg(n,r,o,i,e[13],5,-1444681467),i=this.gg(i,n,r,o,e[2],9,-51403784),o=this.gg(o,i,n,r,e[7],14,1735328473),r=this.gg(r,o,i,n,e[12],20,-1926607734),n=this.hh(n,r,o,i,e[5],4,-378558),i=this.hh(i,n,r,o,e[8],11,-2022574463),o=this.hh(o,i,n,r,e[11],16,1839030562),r=this.hh(r,o,i,n,e[14],23,-35309556),n=this.hh(n,r,o,i,e[1],4,-1530992060),i=this.hh(i,n,r,o,e[4],11,1272893353),o=this.hh(o,i,n,r,e[7],16,-155497632),r=this.hh(r,o,i,n,e[10],23,-1094730640),n=this.hh(n,r,o,i,e[13],4,681279174),i=this.hh(i,n,r,o,e[0],11,-358537222),o=this.hh(o,i,n,r,e[3],16,-722521979),r=this.hh(r,o,i,n,e[6],23,76029189),n=this.hh(n,r,o,i,e[9],4,-640364487),i=this.hh(i,n,r,o,e[12],11,-421815835),o=this.hh(o,i,n,r,e[15],16,530742520),r=this.hh(r,o,i,n,e[2],23,-995338651),n=this.ii(n,r,o,i,e[0],6,-198630844),i=this.ii(i,n,r,o,e[7],10,1126891415),o=this.ii(o,i,n,r,e[14],15,-1416354905),r=this.ii(r,o,i,n,e[5],21,-57434055),n=this.ii(n,r,o,i,e[12],6,1700485571),i=this.ii(i,n,r,o,e[3],10,-1894986606),o=this.ii(o,i,n,r,e[10],15,-1051523),r=this.ii(r,o,i,n,e[1],21,-2054922799),n=this.ii(n,r,o,i,e[8],6,1873313359),i=this.ii(i,n,r,o,e[15],10,-30611744),o=this.ii(o,i,n,r,e[6],15,-1560198380),r=this.ii(r,o,i,n,e[13],21,1309151649),n=this.ii(n,r,o,i,e[4],6,-145523070),i=this.ii(i,n,r,o,e[11],10,-1120210379),o=this.ii(o,i,n,r,e[2],15,718787259),r=this.ii(r,o,i,n,e[9],21,-343485551),t[0]=this.add32(n,t[0]),t[1]=this.add32(r,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(i,t[3])},e.prototype.cmn=function(t,e,n,r,o,i){return e=this.add32(this.add32(e,t),this.add32(r,i)),this.add32(e<<o|e>>>32-o,n)},e.prototype.ff=function(t,e,n,r,o,i,s){return this.cmn(e&n|~e&r,t,e,o,i,s)},e.prototype.gg=function(t,e,n,r,o,i,s){return this.cmn(e&r|n&~r,t,e,o,i,s)},e.prototype.hh=function(t,e,n,r,o,i,s){return this.cmn(e^n^r,t,e,o,i,s)},e.prototype.ii=function(t,e,n,r,o,i,s){return this.cmn(n^(e|~r),t,e,o,i,s)},e.prototype.md51=function(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)this.md5cycle(r,this.md5blk(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(this.md5cycle(r,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,this.md5cycle(r,o),r},e.prototype.md5blk=function(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e},e.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),n="",r=0;r<4;r++)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n},e.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},e.prototype.md5=function(t){return this.hex(this.md51(t))},e.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},e.prototype.add32Std=function(t,e){return t+e&4294967295},e.prototype.add32Compat=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},g([c.Q],e.prototype,"init",null),g([Object(c.m)("md5")],e)}(c.n),v=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},C=function(t){function e(){return t.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return v(e,t),e.prototype.postConstruct=function(){var t=this,e=this.shouldDisplayWatermark();c.ib.addOrRemoveCssClass(this.getGui(),"ag-hidden",!e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((function(){return t.addCssClass("ag-opacity-zero")}),0),window.setTimeout((function(){return t.addCssClass("ag-hidden")}),5e3))},e.prototype.shouldDisplayWatermark=function(){var t=this.licenseManager.isDisplayWatermark(),e=null!=location.hostname.match("^127.0.0.1|localhost|www.ag-grid.com$");return-1!==location.search.indexOf("forceWatermark")||t&&!e},m([Object(c.k)("licenseManager")],e.prototype,"licenseManager",void 0),m([Object(c.V)("eLicenseTextRef")],e.prototype,"eLicenseTextRef",void 0),m([c.Q],e.prototype,"postConstruct",null),e}(c.t),b={moduleName:c.K.EnterpriseCoreModule,beans:[d,y],agStackComponents:[{componentName:"AgWatermark",componentClass:C}]},w=n("01vk"),_=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.init=function(){this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===c.v.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.pasteFromClipboard=function(){var t=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch((function(){})):this.executeOnTempElement((function(t){return t.focus()}),(function(e){t.processClipboardData(e.value)}))},e.prototype.processClipboardData=function(t){var e=this;if(!c.ib.missingOrEmpty(t)){var n=c.ib.stringToArray(t,this.gridOptionsWrapper.getClipboardDeliminator()),r=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();r&&(n=r({data:n})),c.ib.missingOrEmpty(n)||(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(n),this.doPasteOperation((function(t,r,o,i){e.rangeController&&e.rangeController.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(n)?e.pasteIntoActiveRange(n,t,r,i):e.pasteStartingFromFocusedCell(n,t,r,o,i)})))}},e.prototype.doPasteOperation=function(t){var e,n=this.gridOptionsWrapper.getApi(),r=this.gridOptionsWrapper.getColumnApi();if(this.eventService.dispatchEvent({type:c.A.EVENT_PASTE_START,api:n,columnApi:r,source:"clipboard"}),this.clientSideRowModel){var o=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();e=new c.p(o,this.clientSideRowModel.getRootNode())}var i={},s=[],a=this.gridOptionsWrapper.getDocument(),l=a.activeElement,u=this.focusController.getFocusedCell();t(i,s,u,e),e&&this.clientSideRowModel.doAggregate(e),this.rowRenderer.refreshCells(),this.dispatchFlashCells(i),this.fireRowChanged(s),u&&l!=a.activeElement&&this.focusController.setFocusedCell(u.rowIndex,u.column,u.rowPinned,!0),this.eventService.dispatchEvent({type:c.A.EVENT_PASTE_END,api:n,columnApi:r,source:"clipboard"})},e.prototype.pasteIntoActiveRange=function(t,e,n,r){var o=this,i=this.getRangeSize()%t.length!=0,s=0,a=0;this.iterateActiveRanges(!1,(function(l,u,p,h){if(h-s>=t.length){if(i)return;s+=a,a=0}var d=t[h-s];n.push(u);var f=o.gridOptionsWrapper.getProcessCellFromClipboardFunc();p.forEach((function(t,n){if(t.isCellEditable(u)&&!t.isSuppressPaste(u)){n>=d.length&&(n%=d.length);var i=o.processCell(u,t,d[n],c.v.EXPORT_TYPE_DRAG_COPY,f);o.valueService.setValue(u,t,i,c.v.SOURCE_PASTE),r&&r.addParentNode(u.parent,[t]);var s=o.cellPositionUtils.createIdFromValues(l.rowIndex,t,l.rowPinned);e[s]=!0}})),a++}))},e.prototype.pasteStartingFromFocusedCell=function(t,e,n,r,o){if(r){var i={rowIndex:r.rowIndex,rowPinned:r.rowPinned},s=this.columnController.getDisplayedColumnsStartingAt(r.column);this.pasteMultipleValues(t,i,n,s,e,c.v.EXPORT_TYPE_CLIPBOARD,o)}},e.prototype.hasOnlyOneValueToPaste=function(t){return 1===t.length&&1===t[0].length},e.prototype.copyRangeDown=function(){var t=this;if(this.rangeController&&!this.rangeController.isEmpty()){var e=[];this.doPasteOperation((function(n,r,o,i){var s=t.gridOptionsWrapper.getProcessCellForClipboardFunc(),a=t.gridOptionsWrapper.getProcessCellFromClipboardFunc();t.iterateActiveRanges(!0,(function(o,l,u){e.length?(r.push(l),u.forEach((function(r,s){if(r.isCellEditable(l)&&!r.isSuppressPaste(l)){var u=t.processCell(l,r,e[s],c.v.EXPORT_TYPE_DRAG_COPY,a);t.valueService.setValue(l,r,u,c.v.SOURCE_PASTE),i&&i.addParentNode(l.parent,[r]);var p=t.cellPositionUtils.createIdFromValues(o.rowIndex,r,o.rowPinned);n[p]=!0}}))):u.forEach((function(n){var r=t.processCell(l,n,t.valueService.getValue(n,l),c.v.EXPORT_TYPE_DRAG_COPY,s);e.push(r)}))}))}))}},e.prototype.removeLastLineIfBlank=function(t){var e=c.ib.last(t);e&&1===e.length&&""===e[0]&&c.ib.removeFromArray(t,e)},e.prototype.fireRowChanged=function(t){var e=this;this.gridOptionsWrapper.isFullRowEdit()&&t.forEach((function(t){var n={type:c.A.EVENT_ROW_VALUE_CHANGED,node:t,data:t.data,rowIndex:t.rowIndex,rowPinned:t.rowPinned,context:e.gridOptionsWrapper.getContext(),api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi()};e.eventService.dispatchEvent(n)}))},e.prototype.pasteMultipleValues=function(t,e,n,r,o,i,s){var a=this,l=e;return t.forEach((function(t){if(l){var e=a.rowPositionUtils.getRowNode(l);e&&(n.push(e),t.forEach((function(t,n){return a.updateCellValue(e,r[n],t,l,o,i,s)})),l=a.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}))}})),l},e.prototype.updateCellValue=function(t,e,n,r,o,i,s){if(t&&r&&e&&e.isCellEditable(t)&&!e.isSuppressPaste(t)){var a=this.processCell(t,e,n,i,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());this.valueService.setValue(t,e,a,c.v.SOURCE_PASTE),o[this.cellPositionUtils.createIdFromValues(r.rowIndex,e,r.rowPinned)]=!0,s&&s.addParentNode(t.parent,[e])}},e.prototype.copyToClipboard=function(t){this.logger.log("copyToClipboard: includeHeaders = "+t),null==t&&(t=this.gridOptionsWrapper.isCopyHeadersToClipboard());var e=!this.selectionController.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeController&&this.rangeController.isMoreThanOneCell()?this.copySelectedRangeToClipboard(t):e?this.copySelectedRowsToClipboard(t):this.focusController.isAnyCellFocused()?this.copyFocusedCellToClipboard(t):this.copySelectedRangeToClipboard(t)},e.prototype.iterateActiveRanges=function(t,e,n){var r=this;if(this.rangeController&&!this.rangeController.isEmpty()){var o=this.rangeController.getCellRanges();t?this.iterateActiveRange(o[0],e,n,!0):o.forEach((function(t,i){return r.iterateActiveRange(t,e,n,i===o.length-1)}))}},e.prototype.iterateActiveRange=function(t,e,n,r){if(this.rangeController){var o=this.rangeController.getRangeStartRow(t),i=this.rangeController.getRangeEndRow(t);n&&t.columns&&n(t.columns);for(var s=0,a=!1;!a&&null!=o;){var l=this.rowPositionUtils.getRowNode(o);a=this.rowPositionUtils.sameRow(o,i),e(o,l,t.columns,s++,a&&r),o=this.cellNavigationService.getRowBelow(o)}}},e.prototype.copySelectedRangeToClipboard=function(t){var e=this;if(void 0===t&&(t=!1),this.rangeController&&!this.rangeController.isEmpty()){var n=this.gridOptionsWrapper.getClipboardDeliminator(),r="",o={};this.iterateActiveRanges(!1,(function(t,i,s,a,l){var u=e.gridOptionsWrapper.getProcessCellForClipboardFunc();s.forEach((function(s,a){var l=e.valueService.getValue(s,i),p=e.processCell(i,s,l,c.v.EXPORT_TYPE_CLIPBOARD,u);0!=a&&(r+=n),c.ib.exists(p)&&(r+=p);var h=e.cellPositionUtils.createIdFromValues(t.rowIndex,s,t.rowPinned);o[h]=!0})),l||(r+="\r\n")}),(function(o){if(t){var i=e.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),s=o.map((function(t){var n=e.columnController.getDisplayNameForColumn(t,"clipboard",!0);return e.processHeader(t,n,i)||""}));r+=s.join(n)+"\r\n"}})),this.copyDataToClipboard(r),this.dispatchFlashCells(o)}},e.prototype.copyFocusedCellToClipboard=function(t){var e;void 0===t&&(t=!1);var n=this.focusController.getFocusedCell();if(null!=n){var r,o=this.cellPositionUtils.createId(n),i=this.rowPositionUtils.getRowNode({rowPinned:n.rowPinned,rowIndex:n.rowIndex}),s=n.column,a=this.valueService.getValue(s,i),l=this.processCell(i,s,a,c.v.EXPORT_TYPE_CLIPBOARD,this.gridOptionsWrapper.getProcessCellForClipboardFunc());if(l=c.ib.missing(l)?"":l.toString(),t){var u=this.columnController.getDisplayNameForColumn(s,"clipboard",!0);r=this.processHeader(s,u,this.gridOptionsWrapper.getProcessHeaderForClipboardFunc())+"\r\n"+l}else r=l;this.copyDataToClipboard(r),this.dispatchFlashCells(((e={})[o]=!0,e))}},e.prototype.dispatchFlashCells=function(t){var e=this;window.setTimeout((function(){e.eventService.dispatchEvent({type:c.A.EVENT_FLASH_CELLS,cells:t,api:e.gridApi,columnApi:e.columnApi})}),0)},e.prototype.processCell=function(t,e,n,r,o){return o?o({column:e,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:r}):n},e.prototype.processHeader=function(t,e,n){return n?n({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):e},e.prototype.copySelectedRowsToClipboard=function(t,e){void 0===t&&(t=!1);var n={columnKeys:e,skipHeader:!t,skipFooters:!0,suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDeliminator(),onlySelected:!0,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc()},r=this.csvCreator.getDataAsCsv(n);this.copyDataToClipboard(r)},e.prototype.copyDataToClipboard=function(t){var e=this,n=this.gridOptionsWrapper.getSendToClipboardFunc();n?n({data:t}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(t).catch((function(){})):this.executeOnTempElement((function(n){var r=e.gridOptionsWrapper.getDocument().activeElement;n.value=t||" ",n.select(),n.focus(),document.execCommand("copy")||console.warn("ag-grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=r&&null!=r.focus&&r.focus()}))},e.prototype.executeOnTempElement=function(t,e){var n=document.createElement("textarea");n.style.width="1px",n.style.height="1px",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.opacity="0.0";var r=this.gridCore.getRootGui();r.appendChild(n);try{t(n)}catch(o){console.warn("ag-grid: Browser does not support document.execCommand('copy') for clipboard operations")}e?window.setTimeout((function(){e(n),r.removeChild(n)}),100):r.removeChild(n)},e.prototype.getRangeSize=function(){var t=this.rangeController.getCellRanges(),e=0,n=0;return t.length>0&&(e=this.rangeController.getRangeStartRow(t[0]).rowIndex,n=this.rangeController.getRangeEndRow(t[0]).rowIndex),e-n+1},O([Object(c.k)("csvCreator")],e.prototype,"csvCreator",void 0),O([Object(c.k)("loggerFactory")],e.prototype,"loggerFactory",void 0),O([Object(c.k)("selectionController")],e.prototype,"selectionController",void 0),O([Object(c.N)("rangeController")],e.prototype,"rangeController",void 0),O([Object(c.k)("rowModel")],e.prototype,"rowModel",void 0),O([Object(c.k)("valueService")],e.prototype,"valueService",void 0),O([Object(c.k)("focusController")],e.prototype,"focusController",void 0),O([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),O([Object(c.k)("columnController")],e.prototype,"columnController",void 0),O([Object(c.k)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),O([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),O([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),O([Object(c.k)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),O([Object(c.k)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),O([c.Q],e.prototype,"init",null),O([Object(c.m)("clipboardService")],e)}(c.n),S={moduleName:c.K.ClipboardModule,beans:[E],dependantModules:[b,w.d]},P=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),T=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(o||(o={}));var R,k,A,D,x,N,I,F,M,L=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return P(e,t),e.prototype.postConstruct=function(){var t=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",(function(e){e.keyCode===c.G.SPACE&&t.onExpandClicked()})),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange((function(){return t.onFilterTextChanged()})),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input"))},e.prototype.init=function(t){this.params=t,this.columnController.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=c.ib.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=c.ib.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=c.ib.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(o.EXPANDED)},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressColumnFilter,e=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,r=this.columnController.isPrimaryColumnGroupsPresent(),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search...")),c.ib.setDisplayed(this.eFilterTextField.getGui(),t),c.ib.setDisplayed(this.eSelect.getGui(),e),c.ib.setDisplayed(this.eExpand,n&&r)},e.prototype.onFilterTextChanged=function(){var t=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=c.ib.debounce((function(){var e=t.eFilterTextField.getValue();t.dispatchEvent({type:"filterChanged",filterText:e})}),e.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},e.prototype.onMiniFilterKeyPress=function(t){var n=this;c.ib.isKeyPressed(t,c.G.ENTER)&&setTimeout((function(){return n.onSelectClicked()}),e.DEBOUNCE_DELAY)},e.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},e.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===o.EXPANDED?"collapseAll":"expandAll"})},e.prototype.setExpandState=function(t){this.expandState=t,c.ib.setDisplayed(this.eExpandChecked,this.expandState===o.EXPANDED),c.ib.setDisplayed(this.eExpandUnchecked,this.expandState===o.COLLAPSED),c.ib.setDisplayed(this.eExpandIndeterminate,this.expandState===o.INDETERMINATE)},e.prototype.setSelectionState=function(t){this.selectState=t,this.eSelect.setValue(this.selectState)},e.DEBOUNCE_DELAY=300,e.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',T([Object(c.k)("columnController")],e.prototype,"columnController",void 0),T([Object(c.V)("eExpand")],e.prototype,"eExpand",void 0),T([Object(c.V)("eSelect")],e.prototype,"eSelect",void 0),T([Object(c.V)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),T([c.Q],e.prototype,"postConstruct",null),e}(c.t),j=function(){function t(t,e,n,r,o){void 0===r&&(r=!1),this.eventService=new c.z,this.displayName=t,this.dept=n,this.group=r,r?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return t.prototype.isGroup=function(){return this.group},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.getColumn=function(){return this.column},t.prototype.getDept=function(){return this.dept},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.getChildren=function(){return this.children},t.prototype.isPassesFilter=function(){return this.passesFilter},t.prototype.setExpanded=function(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED}))},t.prototype.setPassesFilter=function(t){this.passesFilter=t},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t}(),G=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),V=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},W=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.modelItem=e,i.allowDragging=n,i.eventType=r,i.focusWrapper=o,i.processingColumnStateChange=!1,i.modelItem=e,i.columnGroup=e.getColumnGroup(),i.columnDept=e.getDept(),i.allowDragging=n,i}return G(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE),this.eDragHandle=c.ib.createIconNoSpan("columnDrag",this.gridOptionsWrapper),c.ib.addCssClass(this.eDragHandle,"ag-drag-handle"),c.ib.addCssClass(this.eDragHandle,"ag-column-select-column-group-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnController.getDisplayNameForOriginalColumnGroup(null,this.columnGroup,this.eventType),c.ib.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,c.c.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,j.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),c.w.addToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup)},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef();if(e){var n=function(){t.setTooltip(e.headerTooltip)};n(),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,n)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case c.G.LEFT:t.preventDefault(),this.modelItem.setExpanded(!1);break;case c.G.RIGHT:t.preventDefault(),this.modelItem.setExpanded(!0);break;case c.G.SPACE:t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},e.prototype.addVisibilityListenersToAllChildren=function(){var t=this;this.columnGroup.getLeafColumns().forEach((function(e){t.addManagedListener(e,c.r.EVENT_VISIBLE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,c.r.EVENT_VALUE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,c.r.EVENT_PIVOT_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,c.r.EVENT_ROW_GROUP_CHANGED,t.onColumnStateChanged.bind(t))}))},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e={type:c.y.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return t.createDragItem()}};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(e)}))}else c.ib.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return this.columnGroup.getLeafColumns().forEach((function(e){t[e.getId()]=e.isVisible()})),{columns:this.columnGroup.getLeafColumns(),visibleState:t}},e.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(c.ib.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(c.ib.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var t=new c.eb(this.eColumnGroupIcons,!0);this.addManagedListener(t,c.eb.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(t.destroy.bind(t))},e.prototype.onLabelClicked=function(){var t=!this.cbSelect.getValue();this.onChangeCommon(t)},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.getVisibleLeafColumns=function(){var t=[];return function e(n){n.forEach((function(n){n.isPassesFilter()&&(n.isGroup()?e(n.getChildren()):t.push(n.getColumn()))}))}(this.modelItem.getChildren()),t},e.prototype.onChangeCommon=function(t){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),t,this.eventType)},e.prototype.refreshAriaLabel=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),n=t("ariaColumnGroupToggleVisibility","column group toggle visibility");c.ib.setAriaLabel(this.focusWrapper,this.displayName+" "+n+" ("+e+")")},e.prototype.onColumnStateChanged=function(){var t=this.workOutSelectedValue(),e=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(t),this.cbSelect.setReadOnly(e),c.ib.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-group-readonly",e),this.processingColumnStateChange=!1},e.prototype.workOutSelectedValue=function(){var t=this,e=this.columnController.isPivotMode(),n=this.getVisibleLeafColumns(),r=0,o=0;return n.forEach((function(n){!e&&n.getColDef().lockVisible||(t.isColumnChecked(n,e)?r++:o++)})),r>0&&o>0?void 0:r>0},e.prototype.workOutReadOnlyValue=function(){var t=this.columnController.isPivotMode(),e=0;return this.columnGroup.getLeafColumns().forEach((function(n){t?n.isAnyFunctionAllowed()&&e++:n.getColDef().lockVisible||e++})),0===e},e.prototype.isColumnChecked=function(t,e){if(e){var n=t.isPivotActive(),r=t.isRowGroupActive(),o=t.isValueActive();return n||r||o}return t.isVisible()},e.prototype.onExpandOrContractClicked=function(){var t=this.modelItem.isExpanded();this.modelItem.setExpanded(!t)},e.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},e.prototype.setOpenClosedIcons=function(){var t=this.modelItem.isExpanded();c.ib.setDisplayed(this.eGroupClosedIcon,!t),c.ib.setDisplayed(this.eGroupOpenedIcon,t)},e.prototype.refreshAriaExpanded=function(){c.ib.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){var e=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(t&&!e||!t&&e)&&this.cbSelect.toggle()},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.setSelected=function(t){this.cbSelect.setValue(t,!0)},e.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',V([Object(c.k)("columnController")],e.prototype,"columnController",void 0),V([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),V([Object(c.k)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),V([Object(c.V)("cbSelect")],e.prototype,"cbSelect",void 0),V([Object(c.V)("eLabel")],e.prototype,"eLabel",void 0),V([Object(c.V)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),V([Object(c.V)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),V([Object(c.V)("eColumnGroupIcons")],e.prototype,"eColumnGroupIcons",void 0),V([c.Q],e.prototype,"init",null),e}(c.t),B=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),H=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},z=function(t){function e(e,n,r,o,i){var s=t.call(this)||this;return s.column=e,s.columnDept=n,s.allowDragging=r,s.groupsExist=o,s.focusWrapper=i,s.processingColumnStateChange=!1,s}return B(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE),this.eDragHandle=c.ib.createIconNoSpan("columnDrag",this.gridOptionsWrapper),c.ib.addCssClass(this.eDragHandle,"ag-drag-handle"),c.ib.addCssClass(this.eDragHandle,"ag-column-select-column-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnController.getDisplayNameForColumn(this.column,"columnToolPanel");var t=c.ib.escapeString(this.displayName);this.eLabel.innerHTML=t;var n=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+n),this.setupDragging(),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,c.r.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,c.r.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,c.r.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,c.r.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,c.c.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),c.w.addToolPanelClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null)},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},e.prototype.handleKeyDown=function(t){t.keyCode===c.G.SPACE&&(t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},e.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var t=!this.cbSelect.getValue();this.onChangeCommon(t)}},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.onChangeCommon=function(t){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,t,"toolPanelUi"))},e.prototype.refreshAriaLabel=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),n=t("ariaColumnToggleVisibility","column toggle visibility");c.ib.setAriaLabel(this.focusWrapper,this.displayName+" "+n+" ("+e+")")},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e={type:c.y.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return t.createDragItem()}};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(e)}))}else c.ib.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var t,e=this.columnController.isPivotMode();if(e){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());if(e){var r=this.gridOptionsWrapper.isFunctionsReadOnly(),o=!this.column.isAnyFunctionAllowed();t=r||o}else t=!!this.column.getColDef().lockVisible;this.cbSelect.setReadOnly(t),c.ib.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-readonly",t);var i=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(i),this.processingColumnStateChange=!1},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){t!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.isExpandable=function(){return!1},e.prototype.setExpanded=function(t){console.warn("ag-grid: can not expand a column item that does not represent a column group header")},e.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',H([Object(c.k)("columnController")],e.prototype,"columnController",void 0),H([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),H([Object(c.k)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),H([Object(c.V)("eLabel")],e.prototype,"eLabel",void 0),H([Object(c.V)("cbSelect")],e.prototype,"cbSelect",void 0),H([c.Q],e.prototype,"init",null),e}(c.t),U=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),K=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Y=function(){function t(t){this.items=t}return t.prototype.getRowCount=function(){return this.items.length},t.prototype.getRow=function(t){return this.items[t]},t}(),q=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return U(e,t),e.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach((function(t){return t()})),this.destroyColumnItemFuncs=[]},e.prototype.init=function(t,e,n){var r=this;this.params=t,this.allowDragging=e,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[c.A.EVENT_COLUMN_PIVOT_CHANGED,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,c.A.EVENT_COLUMN_ROW_GROUP_CHANGED,c.A.EVENT_COLUMN_VALUE_CHANGED,c.A.EVENT_COLUMN_VISIBLE,c.A.EVENT_NEW_COLUMNS_LOADED].forEach((function(t){r.addManagedListener(r.eventService,t,r.fireSelectionChangedEvent.bind(r))})),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new c.hb("column-select","tree")),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((function(t,e){return r.createComponentFromItem(t,e)})),this.columnController.isReady()&&this.onColumnsChanged()},e.prototype.createComponentFromItem=function(t,e){if(t.isGroup()){var n=new W(t,this.allowDragging,this.eventType,e);return this.getContext().createBean(n),n}var r=new z(t.getColumn(),t.getDept(),this.allowDragging,this.groupsExist,e);return this.getContext().createBean(r),r},e.prototype.onColumnsChanged=function(){var t=this.getExpandedStates(),e=this.columnController.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var t={};return this.forEachItem((function(e){if(e.isGroup()){var n=e.getColumnGroup();n&&(t[n.getId()]=e.isExpanded())}})),t},e.prototype.setExpandedStates=function(t){this.allColsTree&&this.forEachItem((function(e){if(e.isGroup()){var n=e.getColumnGroup();if(n){var r=t[n.getId()];null!=r&&e.setExpanded(r)}}}))},e.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},e.prototype.setColumnLayout=function(t){var e=this.colDefService.createColumnTree(t);this.buildListModel(e),this.groupsExist=t.some((function(t){return t&&void 0!==t.children})),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnController.getPrimaryColumnTree()),this.groupsExist=this.columnController.isPrimaryColumnGroupsPresent()},e.prototype.buildListModel=function(t){var e=this,n=this.onColumnExpanded.bind(this),r=function(t,e,n){t.forEach((function(t){t instanceof c.O?o(t,e,n):i(t,e,n)}))},o=function(t,o,i){var s=t.getColGroupDef();if(!s||!s.suppressColumnsToolPanel)if(t.isPadding())r(t.getChildren(),o,i);else{var a=e.columnController.getDisplayNameForOriginalColumnGroup(null,t,e.eventType),l=new j(a,t,o,!0,e.expandGroupsByDefault);i.push(l),function(t){t.addEventListener(j.EVENT_EXPANDED_CHANGED,n);var r=t.removeEventListener.bind(t,j.EVENT_EXPANDED_CHANGED,n);e.destroyColumnItemFuncs.push(r)}(l),r(t.getChildren(),o+1,l.getChildren())}},i=function(t,n,r){if(!t.getColDef()||!t.getColDef().suppressColumnsToolPanel){var o=e.columnController.getDisplayNameForColumn(t,"columnToolPanel");r.push(new j(o,t,n))}};this.destroyColumnTree(),r(t,0,this.allColsTree)},e.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},e.prototype.flattenAndFilterModel=function(){var t=this;this.displayedColsList=[];this.allColsTree.forEach((function e(n){n.isPassesFilter()&&(t.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(e))})),this.virtualList.setModel(new Y(this.displayedColsList));var e=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=e&&this.focusRowIfAlive(e),this.notifyListeners()},e.prototype.focusRowIfAlive=function(t){var e=this;window.setTimeout((function(){e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.forEachItem=function(t){!function e(n){n.forEach((function(n){t(n),n.isGroup()&&e(n.getChildren())}))}(this.allColsTree)},e.prototype.doSetExpandedAll=function(t){this.forEachItem((function(e){e.isGroup()&&e.setExpanded(t)}))},e.prototype.setGroupsExpanded=function(t,e){if(e){var n=[];this.forEachItem((function(r){if(r.isGroup()){var o=r.getColumnGroup().getId();e.indexOf(o)>=0&&(r.setExpanded(t),n.push(o))}}));var r=e.filter((function(t){return!c.ib.includes(n,t)}));r.length>0&&console.warn("ag-Grid: unable to find group(s) for supplied groupIds:",r)}else this.doSetExpandedAll(t)},e.prototype.getExpandState=function(){var t=0,e=0;return this.forEachItem((function(n){n.isGroup()&&(n.isExpanded()?t++:e++)})),t>0&&e>0?o.INDETERMINATE:e>0?o.COLLAPSED:o.EXPANDED},e.prototype.doSetSelectedAll=function(t){this.modelItemUtils.selectAllChildren(this.allColsTree,t,this.eventType)},e.prototype.getSelectionState=function(){var t=0,e=0,n=this.columnController.isPivotMode();if(this.forEachItem((function(r){if(!r.isGroup()&&r.isPassesFilter()){var o,i=r.getColumn(),s=i.getColDef();if(n){if(!i.isAllowPivot()&&!i.isAllowRowGroup()&&!i.isAllowValue())return;o=i.isValueActive()||i.isPivotActive()||i.isRowGroupActive()}else{if(s.lockVisible)return;o=i.isVisible()}o?t++:e++}})),!(t>0&&e>0))return!(0===t||e>0)},e.prototype.setFilterText=function(t){this.filterText=c.ib.exists(t)?t.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.markFilteredColumns=function(){var t=this,e=function(e){if(!c.ib.exists(t.filterText))return!0;var n=e.getDisplayName();return null==n||-1!==n.toLowerCase().indexOf(t.filterText)};this.allColsTree.forEach((function(t){return function t(n,r){var o=!1;if(n.isGroup()){var i=e(n);n.getChildren().forEach((function(e){var n=t(e,i||r);n&&(o=n)}))}var s=!(!r&&!o)||e(n);return n.setPassesFilter(s),s}(t,!1)}))},e.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},e.prototype.fireGroupExpandedEvent=function(){var t=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.fireSelectionChangedEvent=function(){var t=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:t})},e.TEMPLATE='<div class="ag-column-select-list" role="tree"></div>',K([Object(c.k)("columnController")],e.prototype,"columnController",void 0),K([Object(c.k)("toolPanelColDefService")],e.prototype,"colDefService",void 0),K([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),K([Object(c.k)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),K([c.S],e.prototype,"destroyColumnTree",null),e}(c.t),X=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Q=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),e.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},e.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnController.isPivotMode());var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(t("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,c.c.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},e.prototype.onBtPivotMode=function(){var t=!!this.cbPivotMode.getValue();if(t!==this.columnController.isPivotMode()){this.columnController.setPivotMode(t,"toolPanelUi");var e=this.gridOptionsWrapper.getApi();e&&e.refreshHeader()}},e.prototype.onPivotModeChanged=function(){var t=this.columnController.isPivotMode();this.cbPivotMode.setValue(t)},Q([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Q([Object(c.V)("cbPivotMode")],e.prototype,"cbPivotMode",void 0),Q([c.R],e.prototype,"init",null),e}(c.t),J=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.execute=function(t){var e=c.ib.missingOrEmpty(this.columnController.getValueColumns()),n=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),r=t.changedPath&&t.changedPath.isActive();if(!(e&&n&&r)){var o=this.createAggDetails(t);this.recursivelyCreateAggData(o)}},e.prototype.createAggDetails=function(t){var e=this.columnController.isPivotActive(),n=this.columnController.getValueColumns(),r=e?this.columnController.getPivotColumns():[];return{changedPath:t.changedPath,valueColumns:n,pivotColumns:r}},e.prototype.recursivelyCreateAggData=function(t){var e=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),t.changedPath.forEachChangedNodeDepthFirst((function(n){if(n.hasChildren()){if(-1===n.level){var r=!e.columnController.isPivotMode();if(e.gridOptionsWrapper.isSuppressAggAtRootLevel()&&r)return}e.aggregateRowNode(n,t)}else n.aggData&&n.setAggData(null)}),!0)},e.prototype.aggregateRowNode=function(t,e){var n,r=0===e.valueColumns.length,o=0===e.pivotColumns.length,i=this.gridOptionsWrapper.getGroupRowAggNodesFunc();n=i?i(t.childrenAfterFilter):r?null:o?this.aggregateRowNodeUsingValuesOnly(t,e):this.aggregateRowNodeUsingValuesAndPivot(t),t.setAggData(n),t.sibling&&t.sibling.setAggData(n)},e.prototype.aggregateRowNodeUsingValuesAndPivot=function(t){var e=this,n={},r=this.pivotStage.getPivotColumnDefs();return r.filter((function(t){return!c.ib.exists(t.pivotTotalColumnIds)})).forEach((function(r){var o,i=r.pivotValueColumn,s=r.colId;o=t.leafGroup?e.getValuesFromMappedSet(t.childrenMapped,r.pivotKeys||[],i):e.getValuesPivotNonLeaf(t,s),n[s]=e.aggregateValues(o,i.getAggFunc(),i,t)})),r.filter((function(t){return c.ib.exists(t.pivotTotalColumnIds)})).forEach((function(r){var o=[],i=r.pivotValueColumn,s=r.pivotTotalColumnIds,a=r.colId;s&&s.length&&(s.forEach((function(t){o.push(n[t])})),n[a]=e.aggregateValues(o,i.getAggFunc(),i,t))})),n},e.prototype.aggregateRowNodeUsingValuesOnly=function(t,e){var n=this,r={},o=e.changedPath.isActive()?e.changedPath.getValueColumnsForNode(t,e.valueColumns):e.valueColumns,i=e.changedPath.isActive()?e.changedPath.getNotValueColumnsForNode(t,e.valueColumns):null,s=this.getValuesNormal(t,o),a=t.aggData;return o.forEach((function(e,o){r[e.getId()]=n.aggregateValues(s[o],e.getAggFunc(),e,t)})),i&&a&&i.forEach((function(t){r[t.getId()]=a[t.getId()]})),r},e.prototype.getValuesPivotNonLeaf=function(t,e){var n=[];return t.childrenAfterFilter.forEach((function(t){n.push(t.aggData[e])})),n},e.prototype.getValuesFromMappedSet=function(t,e,n){var r=this,o=t;if(e.forEach((function(t){return o=o?o[t]:null})),!o)return[];var i=[];return o.forEach((function(t){var e=r.valueService.getValue(n,t);i.push(e)})),i},e.prototype.getValuesNormal=function(t,e){var n=[];e.forEach((function(){return n.push([])}));for(var r=e.length,o=this.filteredOnly?t.childrenAfterFilter:t.childrenAfterGroup,i=o.length,s=0;s<i;s++)for(var a=o[s],l=0;l<r;l++){var u=this.valueService.getValue(e[l],a);n[l].push(u)}return n},e.prototype.aggregateValues=function(t,e,n,r){var o="string"==typeof e?this.aggFuncService.getAggFunc(e):e;if("function"!=typeof o)return console.error("ag-Grid: unrecognised aggregation function "+e),null;var i=function(){c.ib.doOnce((function(){console.warn("ag-Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")}),"aggregationStage.aggregateValues Deprecation")};return o({values:t,column:n,colDef:n?n.getColDef():void 0,rowNode:r,data:r?r.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(e,n){return i(),t.forEach(e,n)},get length(){return i(),t.length},set length(e){i(),t.length=e}})},$([Object(c.k)("columnController")],e.prototype,"columnController",void 0),$([Object(c.k)("valueService")],e.prototype,"valueService",void 0),$([Object(c.k)("pivotStage")],e.prototype,"pivotStage",void 0),$([Object(c.k)("aggFuncService")],e.prototype,"aggFuncService",void 0),$([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),$([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),$([Object(c.m)("aggregationStage")],e)}(c.n),et=function(){function t(){this.allSets={},this.allParents=[]}return t.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},t.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},t.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},t.prototype.flush=function(){var t=this;this.allParents.forEach((function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter((function(t){return!n.removeFromChildrenAfterGroup[t.id]})),e.allLeafChildren=e.allLeafChildren.filter((function(t){return!n.removeFromAllLeafChildren[t.id]})),e.updateHasChildren()})),this.allSets={},this.allParents.length=0},t}(),nt=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groupIdSequence=new c.M,e}return nt(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},e.prototype.execute=function(t){var e=this.createGroupingDetails(t);e.transactions?this.handleTransaction(e):this.shotgunResetEverything(e,!0===t.afterColumnsChanged),this.sortGroupsWithComparator(e.rootNode),this.selectableService.updateSelectableAfterGrouping(e.rootNode)},e.prototype.createGroupingDetails=function(t){var e=t.rowNode,n=t.changedPath,r=t.rowNodeTransactions,o=t.rowNodeOrder,i=this.usingTreeData?null:this.columnController.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:i,rootNode:e,pivotMode:this.columnController.isPivotMode(),groupedColCount:this.usingTreeData||!i?0:i.length,rowNodeOrder:o,transactions:r,changedPath:n}},e.prototype.handleTransaction=function(t){var e=this;t.transactions.forEach((function(n){var r=e.usingTreeData?void 0:new et;c.ib.existsAndNotEmpty(n.add)&&e.insertNodes(n.add,t,!1),c.ib.existsAndNotEmpty(n.remove)&&e.removeNodes(n.remove,t,r),c.ib.existsAndNotEmpty(n.update)&&e.moveNodesInWrongPath(n.update,t,r),r&&r.flush()})),t.rowNodeOrder&&this.sortChildren(t)},e.prototype.sortChildren=function(t){t.changedPath.forEachChangedNodeDepthFirst((function(e){c.ib.sortRowNodesByOrder(e.childrenAfterGroup,t.rowNodeOrder)}))},e.prototype.sortGroupsWithComparator=function(t){if(!this.usingTreeData){var e=this.gridOptionsWrapper.getDefaultGroupSortComparator();c.ib.exists(e)&&function t(n){c.ib.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort(e),n.childrenAfterGroup.forEach((function(e){return t(e)})))}(t)}},e.prototype.getExistingPathForNode=function(t,e){for(var n=[],r=this.usingTreeData?t:t.parent;r&&r!==e.rootNode;)n.push({key:r.key,rowGroupColumn:r.rowGroupColumn,field:r.field}),r=r.parent;return n.reverse(),n},e.prototype.moveNodesInWrongPath=function(t,e,n){var r=this;t.forEach((function(t){e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent);var o=function(t){return t.key},i=r.getExistingPathForNode(t,e).map(o),s=r.getGroupInfo(t,e).map(o);c.ib.areEqual(i,s)||r.moveNode(t,e,n)}))},e.prototype.moveNode=function(t,e,n){this.removeNodesInStages([t],e,n),this.insertOneNode(t,e,!0),t.setData(t.data),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)},e.prototype.removeNodes=function(t,e,n){this.removeNodesInStages(t,e,n),e.changedPath.isActive()&&t.forEach((function(t){return e.changedPath.addParentNode(t.parent)}))},e.prototype.removeNodesInStages=function(t,e,n){this.removeNodesFromParents(t,e,n),this.usingTreeData&&(this.postRemoveCreateFillerNodes(t,e),this.postRemoveRemoveEmptyGroups(t,e))},e.prototype.forEachParentGroup=function(t,e,n){for(var r=e.parent;r&&r!==t.rootNode;)n(r),r=r.parent},e.prototype.removeNodesFromParents=function(t,e,n){var r=this,o=null==n,i=n||new et;t.forEach((function(t){r.removeFromParent(t,i),r.forEachParentGroup(e,t,(function(e){i.removeFromAllLeafChildren(e,t)}))})),o&&i.flush()},e.prototype.postRemoveCreateFillerNodes=function(t,e){var n=this;t.forEach((function(t){if(t.hasChildren()){var r=n.getExistingPathForNode(t,e),o=n.findParentForNode(t,r,e);o.expanded=t.expanded,o.allLeafChildren=t.allLeafChildren,o.childrenAfterGroup=t.childrenAfterGroup,o.childrenMapped=t.childrenMapped,o.updateHasChildren(),o.childrenAfterGroup.forEach((function(t){return t.parent=o}))}}))},e.prototype.postRemoveRemoveEmptyGroups=function(t,e){for(var n=this,r=!0,o=function(){r=!1;var o=new et;t.forEach((function(t){n.forEachParentGroup(e,t,(function(t){(function(t){var e=n.getChildrenMappedKey(t.key,t.rowGroupColumn),r=t.parent;return!!(r&&r.childrenMapped&&r.childrenMapped[e]&&t.isEmptyRowGroupNode())})(t)&&(r=!0,n.removeFromParent(t,o),t.setSelected(!1))}))})),o.flush()};r;)o()},e.prototype.removeFromParent=function(t,e){t.parent&&(e?e.removeFromChildrenAfterGroup(t.parent,t):(c.ib.removeFromArray(t.parent.childrenAfterGroup,t),t.parent.updateHasChildren()));var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);t.parent&&t.parent.childrenMapped&&(t.parent.childrenMapped[n]=void 0),t.setRowTop(null)},e.prototype.addToParent=function(t,e){var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);e&&(e.childrenMapped&&(e.childrenMapped[n]=t),e.childrenAfterGroup.push(t),e.updateHasChildren())},e.prototype.areGroupColsEqual=function(t,e){return null!=t&&null!=e&&t.pivotMode===e.pivotMode&&c.ib.areEqual(t.groupedCols,e.groupedCols)},e.prototype.shotgunResetEverything=function(t,e){var n=!!e&&(this.usingTreeData||this.areGroupColsEqual(t,this.oldGroupingDetails));this.oldGroupingDetails=t,n||(t.rootNode.leafGroup=!this.usingTreeData&&0===t.groupedCols.length,t.rootNode.childrenAfterGroup=[],t.rootNode.childrenMapped={},t.rootNode.updateHasChildren(),this.insertNodes(t.rootNode.allLeafChildren,t,!1))},e.prototype.insertNodes=function(t,e,n){var r=this;t.forEach((function(t){r.insertOneNode(t,e,n),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)}))},e.prototype.insertOneNode=function(t,e,n){var r=this.getGroupInfo(t,e),o=this.findParentForNode(t,r,e);o.group||console.warn("ag-Grid: duplicate group keys for row data, keys should be unique",[o.data,t.data]),this.usingTreeData?this.swapGroupWithUserNode(o,t,n):(t.parent=o,t.level=r.length,o.childrenAfterGroup.push(t),o.updateHasChildren())},e.prototype.findParentForNode=function(t,e,n){var r=this,o=n.rootNode;return e.forEach((function(e,i){(o=r.getOrCreateNextNode(o,e,i,n)).allLeafChildren.push(t)})),o},e.prototype.swapGroupWithUserNode=function(t,e,n){e.parent=t.parent,e.key=t.key,e.field=t.field,e.groupData=t.groupData,e.level=t.level,n||(e.expanded=t.expanded),e.leafGroup=t.leafGroup,e.rowGroupIndex=t.rowGroupIndex,e.allLeafChildren=t.allLeafChildren,e.childrenAfterGroup=t.childrenAfterGroup,e.childrenMapped=t.childrenMapped,e.updateHasChildren(),this.removeFromParent(t),e.childrenAfterGroup.forEach((function(t){return t.parent=e})),this.addToParent(e,t.parent)},e.prototype.getOrCreateNextNode=function(t,e,n,r){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn),i=t.childrenMapped,s=i&&i.hasOwnProperty(o)?i[o]:void 0;return s||(s=this.createGroup(e,t,n,r),this.addToParent(s,t)),s},e.prototype.createGroup=function(t,e,n,r){var o=this,i=new c.W;return this.context.createBean(i),i.group=!0,i.field=t.field,i.rowGroupColumn=t.rowGroupColumn,i.groupData={},this.columnController.getGroupDisplayColumns().forEach((function(e){(o.usingTreeData||i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId()))&&(i.groupData[e.getColId()]=t.key)})),i.id=c.W.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),i.key=t.key,i.level=n,i.leafGroup=!this.usingTreeData&&n===r.groupedColCount-1,i.expanded=(!r.pivotMode||!i.leafGroup)&&this.isExpanded(r.expandByDefault,n),i.allLeafChildren=[],i.setAllChildrenCount(0),i.rowGroupIndex=this.usingTreeData?null:n,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren(),i.parent=r.includeParents?e:null,i},e.prototype.getChildrenMappedKey=function(t,e){return e?e.getId()+"-"+t:t},e.prototype.isExpanded=function(t,e){return-1===t||e<t},e.prototype.getGroupInfo=function(t,e){return this.usingTreeData?this.getGroupInfoFromCallback(t):this.getGroupInfoFromGroupColumns(t,e)},e.prototype.getGroupInfoFromCallback=function(t){var e=this.getDataPath?this.getDataPath(t.data):null;return null!=e&&0!==e.length||c.ib.doOnce((function(){return console.warn("getDataPath() should not return an empty path for data",t.data)}),"groupStage.getGroupInfoFromCallback"),e?e.map((function(t){return{key:t,field:null,rowGroupColumn:null}})):[]},e.prototype.getGroupInfoFromGroupColumns=function(t,e){var n=this,r=[];return e.groupedCols.forEach((function(o){var i=n.valueService.getKeyForNode(o,t),s=null!=i;if(e.pivotMode&&!s&&(i=" ",s=!0),s){var a={key:i,field:o.getColDef().field,rowGroupColumn:o};r.push(a)}})),r},rt([Object(c.k)("columnController")],e.prototype,"columnController",void 0),rt([Object(c.k)("selectableService")],e.prototype,"selectableService",void 0),rt([Object(c.k)("valueService")],e.prototype,"valueService",void 0),rt([c.Q],e.prototype,"postConstruct",null),rt([Object(c.m)("groupStage")],e)}(c.n),it=(A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),st=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},at=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return it(e,t),n=e,e.prototype.createPivotColumnDefs=function(t){var e=[],n=[],r=this.columnController.getPivotColumns(),o=this.columnController.getValueColumns(),i=r.length,s=new c.M;return this.recursivelyAddGroup(e,n,1,t,[],s,i,r),this.addRowGroupTotals(e,n,o,s),this.addExpandablePivotGroups(e,n,s),this.addPivotTotalsToGroups(e,n,s),{pivotColumnGroupDefs:e,pivotColumnDefs:n.map((function(t){return c.ib.cloneObject(t)}))}},e.prototype.recursivelyAddGroup=function(t,e,n,r,o,i,s,a){var l=this;c.ib.iterateObject(r,(function(r,u){var c=at(o,[r]);if(n!==s){var p={children:[],headerName:r,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+i.next()};t.push(p),l.recursivelyAddGroup(p.children,e,n+1,u,c,i,s,a)}else{var h=l.columnController.getValueColumns(),d={children:[],headerName:r,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+i.next()};if(0===h.length){var f=l.createColDef(null,"-",c,i);d.children.push(f),e.push(f)}else h.forEach((function(t){var n=l.columnController.getDisplayNameForColumn(t,"header"),r=l.createColDef(t,n,c,i);r.columnGroupShow="open",d.children.push(r),e.push(r)}));t.push(d)}}));var u=a[n-1].getColDef(),p=this.headerNameComparator.bind(this,u.pivotComparator);t.sort(p)},e.prototype.addExpandablePivotGroups=function(t,e,n){var r=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){t.forEach((function(t){!function t(e,n,o,i){var s=e;if(s.children){var a=new Map;s.children.forEach((function(e){t(e,n,o,a)}));var l=!s.children.some((function(t){return t.children}));r.columnController.getValueColumns().forEach((function(t){var i=r.columnController.getDisplayNameForColumn(t,"header"),s=r.createColDef(t,i,e.pivotKeys,o);s.pivotTotalColumnIds=a.get(t.getColId()),s.columnGroupShow="closed",s.aggFunc=t.getAggFunc(),l||(e.children.push(s),n.push(s))})),r.merge(i,a)}else{var u=e;if(!u.pivotValueColumn)return;var c=u.pivotValueColumn.getColId(),p=i.has(c)?i.get(c):[];p.push(u.colId),i.set(c,p)}}(t,e,n,new Map)}))}},e.prototype.addPivotTotalsToGroups=function(t,e,n){var r=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),i=this.columnController.getValueColumns(),s=i.map((function(t){return t.getAggFunc()}));if(s&&!(s.length<1)&&this.sameAggFuncs(s)){var a=i[0];t.forEach((function(t){r.recursivelyAddPivotTotal(t,e,n,a,o)}))}}},e.prototype.recursivelyAddPivotTotal=function(t,e,n,r,o){var i=this,s=t;if(!s.children)return t.colId?[t.colId]:null;var a=[];if(s.children.forEach((function(t){var s=i.recursivelyAddPivotTotal(t,e,n,r,o);s&&(a=a.concat(s))})),s.children.length>1){var l=this.createColDef(r,"Total",t.pivotKeys,n);l.pivotTotalColumnIds=a,l.aggFunc=r.getAggFunc();var u=t.children;o?u.push(l):u.unshift(l),e.push(l)}return a},e.prototype.addRowGroupTotals=function(t,e,n,r){var o=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var i="after"===this.gridOptionsWrapper.getPivotRowTotals(),s=i?n.slice():n.slice().reverse(),a=function(n){var a=s[n],u=[];t.forEach((function(t){u=u.concat(o.extractColIdsForValueColumn(t,a))})),l.createRowGroupTotal(t,e,[],r,a,u,i)},l=this,u=0;u<s.length;u++)a(u)},e.prototype.extractColIdsForValueColumn=function(t,e){var n=this;if(!t.children)return t.pivotValueColumn===e&&t.colId?[t.colId]:[];var r=[];return t.children.forEach((function(t){n.extractColIdsForValueColumn(t,e);var o=n.extractColIdsForValueColumn(t,e);r=r.concat(o)})),r},e.prototype.createRowGroupTotal=function(t,e,r,o,i,s,a){var l=r.slice(0),u=this.columnController.getValueColumns(),c={children:[],pivotKeys:l,groupId:n.PIVOT_ROW_TOTAL_PREFIX+o.next()};if(0===u.length){var p=this.createColDef(null,"-",l,o);c.children.push(p),e.push(p)}else{var h=this.columnController.getDisplayNameForColumn(i,"header");(p=this.createColDef(i,h,l,o)).pivotTotalColumnIds=s,c.children.push(p),e.push(p)}a?t.push(c):t.unshift(c)},e.prototype.createColDef=function(t,e,n,r){var o={};if(t){var i=t.getColDef();c.ib.assign(o,i),o.hide=!1}return o.headerName=e,o.colId="pivot_"+r.next(),o.field=o.colId,o.pivotKeys=n,o.pivotValueColumn=t,o.filter=!1,o},e.prototype.sameAggFuncs=function(t){if(1==t.length)return!0;for(var e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0},e.prototype.headerNameComparator=function(t,e,n){return t?t(e.headerName,n.headerName):e.headerName&&!n.headerName?1:!e.headerName&&n.headerName?-1:e.headerName&&n.headerName?e.headerName<n.headerName?-1:e.headerName>n.headerName?1:0:0},e.prototype.merge=function(t,e){e.forEach((function(e,n,r){var o=t.has(n)?t.get(n):[],i=at(o,e);t.set(n,i)}))},e.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",st([Object(c.k)("columnController")],e.prototype,"columnController",void 0),n=st([Object(c.m)("pivotColDefService")],e)}(c.n),ut=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ct=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uniqueValues={},e}return ut(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=t.changedPath;this.columnController.isPivotActive()?this.executePivotOn(e,n):this.executePivotOff(n)},e.prototype.executePivotOff=function(t){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnController.isSecondaryColumnsPresent()&&(this.columnController.setSecondaryColumns(null,"rowModelUpdated"),t&&t.setInactive())},e.prototype.executePivotOn=function(t,e){var n=this.bucketUpRowNodes(t),r=this.setUniqueValues(n),o=this.columnController.getValueColumns(),i=o.map((function(t){return t.getId()})).join("#"),s=o.map((function(t){return t.getAggFunc().toString()})).join("#"),a=this.aggregationColumnsHashLastTime!==i,l=this.aggregationFuncsHashLastTime!==s;if(this.aggregationColumnsHashLastTime=i,this.aggregationFuncsHashLastTime=s,r||a||l){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),c=u.pivotColumnGroupDefs;this.pivotColumnDefs=u.pivotColumnDefs,this.columnController.setSecondaryColumns(c,"rowModelUpdated"),e&&e.setInactive()}},e.prototype.setUniqueValues=function(t){return!(JSON.stringify(t)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=t,0))},e.prototype.bucketUpRowNodes=function(t){var e=this,n={};return function t(r){r.leafGroup?e.bucketRowNode(r,n):r.childrenAfterFilter.forEach((function(e){t(e)}))}(t),n},e.prototype.bucketRowNode=function(t,e){var n=this.columnController.getPivotColumns();t.childrenMapped=0!==n.length?this.bucketChildren(t.childrenAfterFilter,n,0,e):null},e.prototype.bucketChildren=function(t,e,n,r){var o=this,i={},s=e[n];if(t.forEach((function(t){var e=o.valueService.getKeyForNode(s,t);c.ib.missing(e)&&(e=""),r[e]||(r[e]={}),i[e]||(i[e]=[]),i[e].push(t)})),n===e.length-1)return i;var a={};return c.ib.iterateObject(i,(function(t,i){a[t]=o.bucketChildren(i,e,n+1,r[t])})),a},e.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},ct([Object(c.k)("valueService")],e.prototype,"valueService",void 0),ct([Object(c.k)("columnController")],e.prototype,"columnController",void 0),ct([Object(c.k)("pivotColDefService")],e.prototype,"pivotColDefService",void 0),ct([Object(c.m)("pivotStage")],e)}(c.n),ht=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggFuncsMap={},e.initialised=!1,e}var n;return ht(e,t),n=e,e.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},e.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=gt,this.aggFuncsMap[n.AGG_FIRST]=yt,this.aggFuncsMap[n.AGG_LAST]=vt,this.aggFuncsMap[n.AGG_MIN]=mt,this.aggFuncsMap[n.AGG_MAX]=Ct,this.aggFuncsMap[n.AGG_COUNT]=bt,this.aggFuncsMap[n.AGG_AVG]=wt,this.initialised=!0},e.prototype.getDefaultAggFunc=function(t){var e=this.getFuncNames(t),r=c.ib.includes(e,n.AGG_SUM),o=c.ib.exists(this.aggFuncsMap[n.AGG_SUM]);return r&&o?n.AGG_SUM:c.ib.existsAndNotEmpty(e)?e[0]:null},e.prototype.addAggFuncs=function(t){c.ib.iterateObject(t,this.addAggFunc.bind(this))},e.prototype.addAggFunc=function(t,e){this.init(),this.aggFuncsMap[t]=e},e.prototype.getAggFunc=function(t){return this.init(),this.aggFuncsMap[t]},e.prototype.getFuncNames=function(t){var e=t.getColDef().allowedAggFuncs;return null==e?Object.keys(this.aggFuncsMap).sort():e},e.prototype.clear=function(){this.aggFuncsMap={}},e.AGG_SUM="sum",e.AGG_FIRST="first",e.AGG_LAST="last",e.AGG_MIN="min",e.AGG_MAX="max",e.AGG_COUNT="count",e.AGG_AVG="avg",dt([c.Q],e.prototype,"init",null),n=dt([Object(c.m)("aggFuncService")],e)}(c.n);function gt(t){for(var e=t.values,n=null,r=0;r<e.length;r++){var o=e[r];"number"==typeof o?null===n?n=o:n+="number"==typeof n?o:BigInt(o):"bigint"==typeof o&&(n=null===n?o:("bigint"==typeof n?n:BigInt(n))+o)}return n}function yt(t){return t.values.length>0?t.values[0]:null}function vt(t){return t.values.length>0?c.ib.last(t.values):null}function mt(t){for(var e=t.values,n=null,r=0;r<e.length;r++){var o=e[r];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n>o)||(n=o)}return n}function Ct(t){for(var e=t.values,n=null,r=0;r<e.length;r++){var o=e[r];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n<o)||(n=o)}return n}function bt(t){for(var e=t.values,n=0,r=0;r<e.length;r++){var o=e[r];n+=null!=o&&"number"==typeof o.value?o.value:1}return{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function wt(t){for(var e=t.values,n=0,r=0,o=0;o<e.length;o++){var i=e[o],s=null;"number"==typeof i||"bigint"==typeof i?(s=i,r++):null==i||"number"!=typeof i.value&&"bigint"!=typeof i.value||"number"!=typeof i.count||(s=i.value*("number"==typeof i.value?i.count:BigInt(i.count)),r+=i.count),"number"==typeof s?n+="number"==typeof n?s:BigInt(s):"bigint"==typeof s&&(n=("bigint"==typeof n?n:BigInt(n))+s)}var a=null;return r>0&&(a=n/("number"==typeof n?r:BigInt(r))),{count:r,value:a,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var _t,Ot,Et,St,Pt,Tt,Rt,kt,At,Dt,xt,Nt,It,Ft,Mt,Lt,jt,Gt,Vt,Wt,Bt,Ht,zt,Ut,Kt,Yt,qt,Xt,Qt=(Xt=function(t,e){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jt=function(t){function e(e,n,r,o,i){var s=t.call(this)||this;return s.column=e,s.dragSourceDropTarget=n,s.ghost=r,s.valueColumn=o,s.horizontal=i,s.popupShowing=!1,s}return Qt(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE),this.addElementClasses(this.getGui()),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(c.ib.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(c.ib.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnController.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||this.gridOptionsWrapper.isFunctionsReadOnly()||this.addDragSource(),this.setupTooltip()},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.addDragSource=function(){var t=this,e={type:c.y.ToolPanel,eElement:this.eDragHandle,defaultIconName:c.x.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(e)}))},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&c.ib.addCssClass(this.getGui(),"ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},e.prototype.setupRemove=function(){var t=this;c.ib.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly()),this.addManagedListener(this.eButton,"click",(function(n){t.dispatchEvent({type:e.EVENT_COLUMN_REMOVE}),n.stopPropagation()}));var n=new c.eb(this.eButton);this.addManagedListener(n,c.eb.EVENT_TAP,(function(n){t.dispatchEvent({type:e.EVENT_COLUMN_REMOVE})})),this.addDestroyFunc(n.destroy.bind(n))},e.prototype.setTextValue=function(){var t;if(this.valueColumn){var e=this.column.getAggFunc(),n="string"==typeof e?e:"agg";t=this.gridOptionsWrapper.getLocaleTextFunc()(n,n)+"("+this.displayName+")"}else t=this.displayName;var r=c.ib.escapeString(t);this.eText.innerHTML=r},e.prototype.onShowAggFuncSelection=function(){var t=this;if(!this.popupShowing){this.popupShowing=!0;var e=new c.hb("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column);e.setModel({getRow:function(t){return n[t]},getRowCount:function(){return n.length}}),this.getContext().createBean(e);var r=c.ib.loadTemplate('<div class="ag-select-agg-func-popup"></div>');r.style.top="0px",r.style.left="0px",r.appendChild(e.getGui()),r.style.width=this.getGui().clientWidth+"px";var o=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){t.destroyBean(e),t.popupShowing=!1}});o&&e.setComponentCreator(this.createAggSelect.bind(this,o.hideFunc)),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:this.getGui(),ePopup:r,keepWithinBounds:!0,column:this.column}),e.refresh()}},e.prototype.createAggSelect=function(t,e){var n=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=e.toString(),i=r(o,o);return new $t((function(){t(),n.gridOptionsWrapper.isFunctionsPassive()?n.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:e,api:n.gridApi,columnApi:n.columnApi}):n.columnController.setColumnAggFunc(n.column,e,"toolPanelDragAndDrop")}),i)},e.prototype.addElementClasses=function(t,e){c.ib.addCssClass(t,"ag-column-drop-cell"+(e=e?"-"+e:"")),c.ib.addCssClass(t,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+e)},e.EVENT_COLUMN_REMOVE="columnRemove",e.TEMPLATE='<span>\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle"></span>\n          <span ref="eText" class="ag-column-drop-cell-text"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button"></span>\n        </span>',Zt([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Zt([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Zt([Object(c.k)("popupService")],e.prototype,"popupService",void 0),Zt([Object(c.N)("aggFuncService")],e.prototype,"aggFuncService",void 0),Zt([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Zt([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Zt([Object(c.V)("eText")],e.prototype,"eText",void 0),Zt([Object(c.V)("eDragHandle")],e.prototype,"eDragHandle",void 0),Zt([Object(c.V)("eButton")],e.prototype,"eButton",void 0),Zt([c.Q],e.prototype,"init",null),e}(c.t),$t=function(t){function e(e,n){var r=t.call(this,'<div class="ag-select-agg-func-item"/>')||this;return r.getGui().innerText=n,r.value=n,r.addGuiEventListener("click",e),r}return Qt(e,t),e}(c.t),te=(qt=function(t,e){return(qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ee=function(t){function e(n,r){var o=t.call(this,'<div class="ag-unselectable"></div>')||this;return o.horizontal=n,o.valueColumn=r,o.state=e.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),o}return te(e,t),e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.setBeans=function(t){this.beans=t},e.prototype.destroy=function(){this.destroyGui(),t.prototype.destroy.call(this)},e.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach((function(t){return t()})),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,c.ib.clearElement(this.getGui()),c.ib.clearElement(this.eColumnDropList)},e.prototype.init=function(t){this.params=t,this.addManagedListener(this.beans.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.refreshGui()},e.prototype.addElementClasses=function(t,e){c.ib.addCssClass(t,"ag-column-drop"+(e=e?"-"+e:"")),c.ib.addCssClass(t,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+e)},e.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},e.prototype.isInterestedIn=function(t){return t===c.y.HeaderCell||t===c.y.ToolPanel},e.prototype.checkInsertIndex=function(t){var e=this.horizontal?this.getNewHorizontalInsertIndex(t):this.getNewVerticalInsertIndex(t);if(e<0)return!1;var n=e!==this.insertIndex;return n&&(this.insertIndex=e),n},e.prototype.getNewHorizontalInsertIndex=function(t){if(c.ib.missing(t.hDirection))return-1;var e=0,n=t.event,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=t.hDirection===c.F.Left,i=n.clientX;return this.childColumnComponents.forEach((function(t){var n=t.getGui().getBoundingClientRect(),s=o?n.right:n.left;(r?i<=s:i>=s)&&e++})),e},e.prototype.getNewVerticalInsertIndex=function(t){if(c.ib.missing(t.vDirection))return-1;var e=0,n=t.event;return this.childColumnComponents.forEach((function(r){var o=r.getGui().getBoundingClientRect();n.clientY>=(t.vDirection===c.gb.Down?o.top:o.bottom)&&e++})),e},e.prototype.checkDragStartedBySelf=function(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=t.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())},e.prototype.onDragging=function(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()},e.prototype.onDragEnter=function(t){var n=t.dragSource.getDragItem().columns||[];this.state=e.STATE_NEW_COLUMNS_IN;var r=n.filter(this.isColumnDroppable.bind(this));r.length>0&&(this.potentialDndColumns=r,this.checkInsertIndex(t),this.refreshGui())},e.prototype.isPotentialDndColumns=function(){return c.ib.existsAndNotEmpty(this.potentialDndColumns)},e.prototype.onDragLeave=function(t){if(this.state===e.STATE_REARRANGE_COLUMNS){var n=t.dragSource.getDragItem().columns||[];this.removeColumns(n)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=e.STATE_NOT_DRAGGING},e.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var t=!1;this.state===e.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),t=!0):t=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&t||this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.removeColumns=function(t){var e=this.getExistingColumns().filter((function(e){return!c.ib.includes(t,e)}));this.updateColumns(e)},e.prototype.addColumns=function(t){if(t){var e=this.getExistingColumns().slice(),n=t.filter((function(t){return e.indexOf(t)<0}));c.ib.insertArrayIntoArray(e,n,this.insertIndex),this.updateColumns(e)}},e.prototype.rearrangeColumns=function(t){var e=this.getNonGhostColumns().slice();return c.ib.insertArrayIntoArray(e,t,this.insertIndex),!c.ib.areEqual(e,this.getExistingColumns())&&(this.updateColumns(e),!0)},e.prototype.refreshGui=function(){var t=this.eColumnDropList.scrollTop;this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=t)},e.prototype.getNonGhostColumns=function(){var t=this,e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter((function(e){return!c.ib.includes(t.potentialDndColumns,e)})):e},e.prototype.addColumnsToGui=function(){var t=this,e=this.getNonGhostColumns(),n=this.isPotentialDndColumns(),r=[];e.forEach((function(e,o){if(!(n&&o>=t.insertIndex)){var i=t.createColumnComponent(e,!1);r.push(i)}})),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach((function(e){var n=t.createColumnComponent(e,!0);r.push(n)})),e.forEach((function(e,n){if(!(n<t.insertIndex)){var o=t.createColumnComponent(e,!1);r.push(o)}}))),this.getGui().appendChild(this.eColumnDropList),r.forEach((function(e,n){n>0&&t.addArrow(t.eColumnDropList),t.eColumnDropList.appendChild(e.getGui())}))},e.prototype.createColumnComponent=function(t,e){var n=this,r=new Jt(t,this.dropTarget,e,this.valueColumn,this.horizontal);return r.addEventListener(Jt.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[t])),this.beans.context.createBean(r),this.guiDestroyFunctions.push((function(){return n.destroyBean(r)})),e||this.childColumnComponents.push(r),r},e.prototype.addIconAndTitleToGui=function(){var t=this.params.icon,e=document.createElement("div");if(this.addElementClasses(e,"title-bar"),this.addElementClasses(t,"icon"),c.ib.addOrRemoveCssClass(this.getGui(),"ag-column-drop-empty",this.isExistingColumnsEmpty()),e.appendChild(t),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,e.appendChild(n)}this.getGui().appendChild(e)},e.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},e.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var t=document.createElement("span");t.innerHTML=this.params.emptyMessage,this.addElementClasses(t,"empty-message"),this.eColumnDropList.appendChild(t)}},e.prototype.addArrow=function(t){if(this.horizontal){var e=this.beans.gridOptionsWrapper.isEnableRtl(),n=c.ib.createIconNoSpan(e?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(n,"cell-separator"),t.appendChild(n)}},e.STATE_NOT_DRAGGING="notDragging",e.STATE_NEW_COLUMNS_IN="newColumnsIn",e.STATE_REARRANGE_COLUMNS="rearrangeColumns",e}(c.t),ne=(Yt=function(t,e){return(Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),re=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oe=function(t){function e(e){return t.call(this,e,!1)||this}return ne(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),r=e("groups","Row Groups");t.prototype.init.call(this,{dragAndDropIcon:c.x.ICON_GROUP,icon:c.ib.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:r}),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!t.isPrimary())&&t.isAllowRowGroup()&&!t.isRowGroupActive()},e.prototype.updateColumns=function(t){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:t,api:this.gridApi,columnApi:this.columnApi}):this.columnController.setRowGroupColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?c.x.ICON_GROUP:c.x.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnController.getRowGroupColumns()},re([Object(c.k)("columnController")],e.prototype,"columnController",void 0),re([Object(c.k)("loggerFactory")],e.prototype,"loggerFactory",void 0),re([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),re([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),re([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),re([c.Q],e.prototype,"passBeansUp",null),e}(ee),ie=(Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),se=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ae=function(t){function e(e){return t.call(this,e,!1)||this}return ie(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),r=e("pivots","Column Labels");t.prototype.init.call(this,{dragAndDropIcon:c.x.ICON_GROUP,icon:c.ib.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:r}),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},e.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},e.prototype.checkVisibility=function(){var t=this.columnController.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":var e=this.columnController.isPivotActive();this.setDisplayed(t&&e);break;default:this.setDisplayed(!1)}else this.setDisplayed(t)},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!t.isPrimary())&&t.isAllowPivot()&&!t.isPivotActive()},e.prototype.updateColumns=function(t){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:t,api:this.gridApi,columnApi:this.columnApi}):this.columnController.setPivotColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?c.x.ICON_PIVOT:c.x.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnController.getPivotColumns()},se([Object(c.k)("columnController")],e.prototype,"columnController",void 0),se([Object(c.k)("loggerFactory")],e.prototype,"loggerFactory",void 0),se([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),se([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),se([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),se([c.Q],e.prototype,"passBeansUp",null),e}(ee),le=(Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ue=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ce=function(t){function e(){return t.call(this)||this}return le(e,t),e.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},e.prototype.createNorthPanel=function(){var t=document.createElement("div"),e=this.onDropPanelVisible.bind(this);return c.ib.addCssClass(t,"ag-column-drop-wrapper"),this.rowGroupComp=new oe(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new ae(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,c.t.EVENT_DISPLAYED_CHANGED,e),this.addManagedListener(this.pivotComp,c.t.EVENT_DISPLAYED_CHANGED,e),this.onDropPanelVisible(),t},e.prototype.onDropPanelVisible=function(){var t=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t)},e.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var t=this.gridOptionsWrapper.getRowGroupPanelShow();if(t===c.v.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(t===c.v.ONLY_WHEN_GROUPING){var e=!this.columnController.isRowGroupEmpty();this.rowGroupComp.setDisplayed(e)}else this.rowGroupComp.setDisplayed(!1)}},ue([Object(c.k)("columnController")],e.prototype,"columnController",void 0),ue([c.Q],e.prototype,"postConstruct",null),e}(c.t),pe={moduleName:c.K.RowGroupingModule,beans:[tt,ot,lt,pt,ft],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:ce}],dependantModules:[b]},he=(zt=function(t,e){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),de=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fe=function(t){function e(e){return t.call(this,e,!0)||this}return he(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),r=e("values","Values");t.prototype.init.call(this,{dragAndDropIcon:c.x.ICON_AGGREGATE,icon:c.ib.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:r}),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?c.x.ICON_AGGREGATE:c.x.ICON_NOT_ALLOWED},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!t.isPrimary())&&t.isAllowValue()&&!t.isValueActive()},e.prototype.updateColumns=function(t){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:t,api:this.gridApi,columnApi:this.columnApi}):this.columnController.setValueColumns(t,"toolPanelUi")},e.prototype.getExistingColumns=function(){return this.columnController.getValueColumns()},de([Object(c.k)("columnController")],e.prototype,"columnController",void 0),de([Object(c.k)("loggerFactory")],e.prototype,"loggerFactory",void 0),de([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),de([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),de([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),de([c.Q],e.prototype,"passBeansUp",null),e}(ee),ge=(Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ye=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ve=function(t){function e(){return t.call(this,e.TEMPLATE,!0)||this}return ge(e,t),e.prototype.init=function(t,e,n){this.allowDragging=t,this.params=e,this.eventType=n,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this))},e.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},e.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},e.prototype.expandGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!0,t)},e.prototype.collapseGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!1,t)},e.prototype.setColumnLayout=function(t){this.primaryColsListPanel.setColumnLayout(t)},e.prototype.onFilterChanged=function(t){this.primaryColsListPanel.setFilterText(t.filterText)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},e.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},e.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},e.prototype.onGroupExpanded=function(t){this.primaryColsHeaderPanel.setExpandState(t.state)},e.prototype.onSelectionChange=function(t){this.primaryColsHeaderPanel.setSelectionState(t.state)},e.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',ye([Object(c.V)("primaryColsHeaderPanel")],e.prototype,"primaryColsHeaderPanel",void 0),ye([Object(c.V)("primaryColsListPanel")],e.prototype,"primaryColsListPanel",void 0),e}(c.J),me=(Bt=function(t,e){return(Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ce=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},be=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return me(e,t),e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.init=function(t){var e=this,n={suppressSideButtons:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(c.ib.mergeDeep(n,t),this.params=n,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new Z),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)})),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new ve),this.childDestroyFuncs.push((function(){return e.destroyBean(e.primaryColsPanel)})),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),c.ib.addCssClass(this.primaryColsPanel.getGui(),"ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new oe(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.rowGroupDropZonePanel)})),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new fe(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.valuesDropZonePanel)})),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new ae(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotDropZonePanel)})),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var r=this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.setLastVisible.bind(this));this.childDestroyFuncs.push((function(){return r()}))}this.initialised=!0},e.prototype.setPivotModeSectionVisible=function(t){var e=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(t):t&&(this.pivotModePanel=this.createBean(new Z),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)}))),this.setLastVisible())},e.prototype.setRowGroupsSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(t):t&&(this.rowGroupDropZonePanel=this.createManagedBean(new oe(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},e.prototype.setValuesSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(t):t&&(this.valuesDropZonePanel=this.createManagedBean(new fe(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},e.prototype.setPivotSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(t):t&&(this.pivotDropZonePanel=this.createManagedBean(new ae(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(t)),this.setLastVisible())},e.prototype.setLastVisible=function(){var t=this.getGui();Array.prototype.slice.call(t.querySelectorAll(".ag-column-drop")).forEach((function(t){return c.ib.removeCssClass(t,"ag-last-column-drop")}));var e=t.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),n=c.ib.last(e);n&&c.ib.addCssClass(n,"ag-last-column-drop")},e.prototype.isRowGroupingModuleLoaded=function(){return c.L.assertRegistered(c.K.RowGroupingModule,"Row Grouping")},e.prototype.expandColumnGroups=function(t){this.primaryColsPanel.expandGroups(t)},e.prototype.collapseColumnGroups=function(t){this.primaryColsPanel.collapseGroups(t)},e.prototype.setColumnLayout=function(t){this.primaryColsPanel.setColumnLayout(t)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},e.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach((function(t){return t()})),this.childDestroyFuncs.length=0,c.ib.clearElement(this.getGui())},e.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},e.prototype.destroy=function(){this.destroyChildren(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-column-panel"></div>',Ce([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Ce([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),e}(c.t),we=(Wt=function(t,e){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_e=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oe=function(t){function e(){return t.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this}return we(e,t),e.prototype.setElementToResize=function(t){this.elementToResize=t},e.prototype.postConstruct=function(){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(t),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},e.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},e.prototype.onResizing=function(t){var e=Math.max(100,Math.floor(this.startingWidth-t*(this.inverted?-1:1)));this.elementToResize.style.width=e+"px"},e.prototype.setInverted=function(t){this.inverted=t},_e([Object(c.k)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),_e([c.Q],e.prototype,"postConstruct",null),e}(c.t),Ee=(Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Se=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pe=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.buttonComps=[],n}return Ee(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){if(t.keyCode===c.G.TAB&&t.shiftKey&&!this.focusController.findNextFocusableElement(this.getFocusableElement(),null,!0)){var e=this.headerPositionUtils.findColAtEdgeForHeaderRow(0,"start");if(!e)return;t.preventDefault(),this.focusController.focusHeaderPosition(e)}},e.prototype.setToolPanelDefs=function(t){t.forEach(this.addButtonComp.bind(this))},e.prototype.setActiveButton=function(t){this.buttonComps.forEach((function(e){e.setSelected(t===e.getToolPanelId())}))},e.prototype.addButtonComp=function(t){var n=this,r=this.createBean(new Te(t));this.buttonComps.push(r),this.appendChild(r),r.addEventListener(Te.EVENT_TOGGLE_BUTTON_CLICKED,(function(){n.dispatchEvent({type:e.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:t.id})}))},e.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),c.ib.clearElement(this.getGui())},e.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",e.TEMPLATE='<div class="ag-side-buttons"></div>',Se([Object(c.k)("focusController")],e.prototype,"focusController",void 0),Se([Object(c.k)("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),Se([c.Q],e.prototype,"postConstruct",null),Se([c.S],e.prototype,"clearButtons",null),e}(c.t),Te=function(t){function e(e){var n=t.call(this)||this;return n.toolPanelDef=e,n}return Ee(e,t),e.prototype.getToolPanelId=function(){return this.toolPanelDef.id},e.prototype.postConstruct=function(){var t=this.createTemplate();this.setTemplate(t),this.eIconWrapper.insertAdjacentElement("afterbegin",c.ib.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},e.prototype.createTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.toolPanelDef;return'<div class="ag-side-button">\n                <button type="button" ref="eToggleButton" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper"></div>\n                    <span class="ag-side-button-label">'+t(e.labelKey,e.labelDefault)+"</span>\n                </button>\n            </div>"},e.prototype.onButtonPressed=function(){this.dispatchEvent({type:e.EVENT_TOGGLE_BUTTON_CLICKED})},e.prototype.setSelected=function(t){this.addOrRemoveCssClass("ag-selected",t)},e.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",Se([Object(c.V)("eToggleButton")],e.prototype,"eToggleButton",void 0),Se([Object(c.V)("eIconWrapper")],e.prototype,"eIconWrapper",void 0),Se([c.Q],e.prototype,"postConstruct",null),e}(c.t),Re=(Gt=function(t,e){return(Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ke=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ae=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Re(e,t),e.prototype.getToolPanelId=function(){return this.toolPanelId},e.prototype.setToolPanelDef=function(t){this.toolPanelId=t.id;var e={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},n=this.userComponentFactory.newToolPanelComponent(t,e);null!=n?n.then(this.setToolPanelComponent.bind(this)):console.warn("ag-grid: error processing tool panel component "+t.id+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},e.prototype.setupResize=function(){var t=this.resizeBar=new Oe;this.getContext().createBean(t),t.setElementToResize(this.getGui()),this.appendChild(t)},e.prototype.setToolPanelComponent=function(t){var e=this;this.toolPanelCompInstance=t,this.appendChild(t.getGui()),this.addDestroyFunc((function(){e.destroyBean(t)}))},e.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},e.prototype.setResizerSizerSide=function(t){var e=this.gridOptionsWrapper.isEnableRtl(),n="left"===t;this.resizeBar.setInverted(e?n:!n)},e.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},e.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',ke([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),ke([c.Q],e.prototype,"setupResize",null),e}(c.t),De=(jt=function(t,e){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xe=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ne=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return De(e,t),e.prototype.postConstruct=function(){this.sideBarButtonsComp.addEventListener(Pe.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef()},e.prototype.onToolPanelButtonClicked=function(t){var e=t.toolPanelId,n=this.openedItem();this.openToolPanel(n===e?void 0:e)},e.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},e.prototype.setSideBarDef=function(){this.setDisplayed(!1);var t=this.gridOptionsWrapper.getSideBar(),e=!!t&&!!t.toolPanels;if(e){this.setDisplayed(e&&!t.hiddenByDefault);var n=t.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(t.position),t.hiddenByDefault||this.openToolPanel(t.defaultToolPanel)}},e.prototype.setSideBarPosition=function(t){t||(t="right");var e="left"===t,n=e?"right":"left",r=this.getGui();return c.ib.addOrRemoveCssClass(r,"ag-side-bar-left",e),c.ib.addOrRemoveCssClass(r,"ag-side-bar-right",!e),this.toolPanelWrappers.forEach((function(t){t.setResizerSizerSide(n)})),this},e.prototype.setupToolPanels=function(t){var e=this;t.forEach((function(t){if(null!=t.id){if("agColumnsToolPanel"===t.toolPanel&&!c.L.assertRegistered(c.K.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===t.toolPanel&&!c.L.assertRegistered(c.K.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new Ae;e.getContext().createBean(n),n.setToolPanelDef(t),n.setDisplayed(!1),e.getGui().appendChild(n.getGui()),e.toolPanelWrappers.push(n)}else console.warn("ag-grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")}))},e.prototype.refresh=function(){this.toolPanelWrappers.forEach((function(t){return t.refresh()}))},e.prototype.openToolPanel=function(t){var e=this.openedItem();e!==t&&(this.toolPanelWrappers.forEach((function(e){var n=t===e.getToolPanelId();e.setDisplayed(n)})),e!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(t),this.raiseToolPanelVisibleEvent(t)))},e.prototype.getToolPanelInstance=function(t){var e=this.toolPanelWrappers.filter((function(e){return e.getToolPanelId()===t}))[0];if(e)return e.getToolPanelInstance();console.warn("ag-grid: unable to lookup Tool Panel as invalid key supplied: "+t)},e.prototype.raiseToolPanelVisibleEvent=function(t){var e={type:c.A.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(e)},e.prototype.close=function(){this.openToolPanel(void 0)},e.prototype.isToolPanelShowing=function(){return!!this.openedItem()},e.prototype.openedItem=function(){var t=null;return this.toolPanelWrappers.forEach((function(e){e.isDisplayed()&&(t=e.getToolPanelId())})),t},e.prototype.reset=function(){this.clearDownUi(),this.setSideBarDef()},e.prototype.destroyToolPanelWrappers=function(){var t=this;this.toolPanelWrappers.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)})),this.toolPanelWrappers.length=0},e.prototype.destroy=function(){this.destroyToolPanelWrappers(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',xe([Object(c.V)("sideBarButtons")],e.prototype,"sideBarButtonsComp",void 0),xe([c.Q],e.prototype,"postConstruct",null),e}(c.t),Ie=(Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fe=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isColGroupDef=function(t){return t&&void 0!==t.children},e.getId=function(t){return e.isColGroupDef(t)?t.groupId:t.colId},e}return Ie(e,t),e.prototype.createColumnTree=function(t){var e=this,n=[],r=[];return t.forEach((function(t){var o=function t(r,o){if(e.isColGroupDef(r)){var i=r,s=new c.O(i,void 0!==i.groupId?i.groupId:i.headerName,!1,o),a=[];return i.children.forEach((function(e){var n=t(e,o+1);n&&a.push(n)})),s.setChildren(a),s}var l=r,u=e.columnController.getPrimaryColumn(l.colId?l.colId:l.field);return u||n.push(l),u}(t,0);o&&r.push(o)})),n.length>0&&console.warn("ag-Grid: unable to find grid columns for the supplied colDef(s):",n),r},e.prototype.syncLayoutWithGrid=function(t){var e=this.getLeafPathTrees();t(this.mergeLeafPathTrees(e))},e.prototype.getLeafPathTrees=function(){return this.columnController.getAllGridColumns().filter((function(t){var e=t.getColDef();return t.isPrimary()&&!e.showRowGroup})).map((function(t){return function t(e,n){var r;if(e instanceof c.O)if(e.isPadding())r=n;else{var o=c.ib.assign({},e.getColGroupDef());o.groupId=e.getGroupId(),o.children=[n],r=o}else{var i=c.ib.assign({},e.getColDef());i.colId=e.getColId(),r=i}var s=e.getOriginalParent();return s?t(s,r):r}(t,t.getColDef())}))},e.prototype.mergeLeafPathTrees=function(t){for(var e,n,r=this,o=function t(e,n){if(!r.isColGroupDef(n))return e;var o=e,i=n;return i.children&&i.groupId&&r.addChildrenToGroup(o,i.groupId,i.children[0])||i.children.forEach((function(e){return t(o,e)})),o},i=[],s=1;s<=t.length;s++){var a=t[s-1],l=t[s];n=l,r.isColGroupDef(e=a)&&r.isColGroupDef(n)&&r.getId(e)===r.getId(n)?t[s]=o(a,l):i.push(a)}return i},e.prototype.addChildrenToGroup=function(t,e,n){var r=this;if(!this.isColGroupDef(t))return!0;var o=t,i=n;if(function(t,e){var n=t.children.map(r.getId),o=c.ib.includes(n,r.getId(e)),i=c.ib.last(t.children),s=i&&r.getId(i)!==r.getId(e);return o&&s}(o,i))return o.children.push(i),!0;if(o.groupId===e){var s=o.children.map(this.getId);if(!c.ib.includes(s,this.getId(i)))return o.children.push(i),!0}return o.children.forEach((function(t){return r.addChildrenToGroup(t,e,n)})),!1},Fe([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Fe([Object(c.m)("toolPanelColDefService")],e)}(c.n),Le={moduleName:c.K.SideBarModule,beans:[Me],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:Oe},{componentName:"AgSideBar",componentClass:Ne},{componentName:"AgSideBarButtons",componentClass:Pe}],dependantModules:[b]},je=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ge=function(){function t(){}return t.prototype.selectAllChildren=function(t,e,n){var r=this.extractAllLeafColumns(t);this.setAllColumns(r,e,n)},t.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},t.prototype.setAllColumns=function(t,e,n){this.columnController.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},t.prototype.extractAllLeafColumns=function(t){var e=[];return function t(n){n.forEach((function(n){n.isPassesFilter()&&(n.isGroup()?t(n.getChildren()):e.push(n.getColumn()))}))}(t),e},t.prototype.setAllVisible=function(t,e,n){var r=[];t.forEach((function(t){t.getColDef().lockVisible||t.isVisible()!=e&&r.push({colId:t.getId(),hide:!e})})),r.length>0&&this.columnController.applyColumnState({state:r},n)},t.prototype.setAllPivot=function(t,e,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},t.prototype.setAllPivotPassive=function(t,e){var n=this.columnController.getPivotColumns().slice(),r=this.columnController.getValueColumns().slice(),o=this.columnController.getRowGroupColumns().slice(),i=!1,s=!1,a=!1;t.forEach(e?function(t){t.isAnyFunctionActive()||(t.isAllowValue()?(r.push(t),s=!0):t.isAllowRowGroup()?(o.push(t),i=!0):t.isAllowPivot()&&(n.push(t),a=!0))}:function(t){t.isAnyFunctionActive()&&(n.indexOf(t)>=0&&(c.ib.removeFromArray(n,t),i=!0),r.indexOf(t)>=0&&(c.ib.removeFromArray(r,t),s=!0),o.indexOf(t)>=0&&(c.ib.removeFromArray(o,t),a=!0))}),i&&this.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),a&&this.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi}),s&&this.eventService.dispatchEvent({type:c.A.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setAllPivotActive=function(t,e,n){var r=this,o=[];t.forEach(e?function(t){if(!t.isAnyFunctionActive())if(t.isAllowValue()){var e="string"==typeof t.getAggFunc()?t.getAggFunc():r.aggFuncService.getDefaultAggFunc(t);o.push({colId:t.getId(),aggFunc:e})}else t.isAllowRowGroup()?o.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&o.push({colId:t.getId(),pivot:!0})}:function(t){(t.isPivotActive()||t.isRowGroupActive()||t.isValueActive())&&o.push({colId:t.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),o.length>0&&this.columnController.applyColumnState({state:o},n)},je([Object(c.k)("aggFuncService")],t.prototype,"aggFuncService",void 0),je([Object(c.k)("columnController")],t.prototype,"columnController",void 0),je([Object(c.k)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),je([Object(c.k)("columnApi")],t.prototype,"columnApi",void 0),je([Object(c.k)("gridApi")],t.prototype,"gridApi",void 0),je([Object(c.k)("eventService")],t.prototype,"eventService",void 0),je([Object(c.m)("modelItemUtils")],t)}(),Ve={moduleName:c.K.ColumnToolPanelModule,beans:[Ge],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:L},{componentName:"AgPrimaryColsList",componentClass:q},{componentName:"AgPrimaryCols",componentClass:ve}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:be}],dependantModules:[b,pe,Le]},We=function(t){return{name:t.name,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:t.ContentType}}}},Be=function(t){return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}},He=function(t){return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},ze=function(t,e,n){return{name:"a:"+t,properties:{rawMap:{val:e}},children:n}},Ue=function(t){var e=t[0],n=t[1],r=t[3],o=t[4],i=t[5],s=[];return s.push(ze("satMod",t[2])),r&&s.push(ze("lumMod",r)),o&&s.push(ze("tint",o)),i&&s.push(ze("shade",i)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:s}]}},Ke=function(t,e){return{name:"a:solidFill",children:[ze("schemeClr",t,e)]}},Ye=function(t){var e=t[2],n=t[3],r=t[4],o=r[0],i=r[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:t[0]}},children:[{name:"a:gsLst",children:[Ue(t[1]),Ue(e),Ue(n)]},{name:"a:lin",properties:{rawMap:{ang:o,scaled:i}}}]}},qe=function(t){return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[Ke("phClr"),ze("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},Xe=function(t){var e=[];return t&&e.push({name:"a:outerShdw",properties:{rawMap:{blurRad:t[0],dist:t[1],dir:t[2],algn:t[3],rotWithShape:t[4]}},children:[ze("srgbClr","000000",[ze("alpha","63000")])]}),{name:"a:effectStyle",children:[c.ib.assign({},{name:"a:effectLst"},e.length?{children:e}:{})]}},Qe=function(t){t=t.toString();var e={name:"t",textNode:c.ib.utf8_encode(c.ib.escapeString(t))};return t.replace(/^\s*|\s*$/g,"").length!==t.length&&(e.properties={rawMap:{"xml:space":"preserve"}}),{name:"si",children:[e]}},Ze=function(t){return{name:"numFmt",properties:{rawMap:{formatCode:t.formatCode,numFmtId:t.numFmtId}}}},Je={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},$e=function(t){var e=t.size,n=t.color,r=t.name,o=t.family,i=t.scheme,s=t.italic,a=t.bold,l=t.strike,u=t.outline,c=t.shadow,p=t.underline,h=[{name:"sz",properties:{rawMap:{val:void 0===e?14:e}}},{name:"color",properties:{rawMap:{theme:t.colorTheme,rgb:void 0===n?"00000000":n}}},{name:"name",properties:{rawMap:{val:void 0===r?"Calibri":r}}}];if(o&&h.push({name:"family",properties:{rawMap:{val:o}}}),i&&h.push({name:"scheme",properties:{rawMap:{val:i}}}),s&&h.push({name:"i"}),a&&h.push({name:"b"}),l&&h.push({name:"strike"}),u&&h.push({name:"outline"}),c&&h.push({name:"shadow"}),p){var d=p.toLocaleLowerCase();h.push({name:"u",properties:{rawMap:{val:"double"===d?"double":"single"}}})}return{name:"font",children:h}},tn=function(t){var e=t.fgTheme,n=t.fgTint,r=t.fgRgb,o=t.bgRgb,i=t.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t.patternType}}};return(e||n||r)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:n,rgb:r}}}]),i&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:i,rgb:o}}})),{name:"fill",children:[s]}},en=function(t){return{name:"color",properties:{rawMap:{rgb:dn(t||"#000000")}}}},nn=function(t){var e=t.left,n=t.right,r=t.top,o=t.bottom,i=t.diagonal,s=e?[en(e.color)]:void 0,a=n?[en(n.color)]:void 0,l=r?[en(r.color)]:void 0,u=o?[en(o.color)]:void 0,c=i?[en(i.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:e&&e.style}},children:s},{name:"right",properties:{rawMap:{style:n&&n.style}},children:a},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:u},{name:"diagonal",properties:{rawMap:{style:i&&i.style}},children:c}]}},rn={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},on=["Dashed","DashDot","DashDotDot"],sn=function(t,e){var n,r=1===(n=e)?"thin":2===n?"medium":3===n?"thick":"hair",o=rn[t];return t?"Continuous"===t?r:"medium"===r&&-1!==on.indexOf(o)?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1):"thin"},an=function(t){return{Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"}[t]||"general"},ln=function(t){return{Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"}[t]||void 0},un=function(t){var e=["Context","LeftToRight","RightToLeft"].indexOf(t);return Math.max(e,0)},cn=function(t){var e=t.alignment,n=t.borderId,r=t.fillId,o=t.fontId,i=t.numFmtId,s=t.protection,a=t.xfId,l=[];return e&&l.push(function(t){var e=t.horizontal,n=t.indent,r=t.readingOrder,o=t.rotate,i=t.shrinkToFit,s=t.vertical,a=t.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:e&&an(e),indent:n,readingOrder:r&&un(r),textRotation:o,shrinkToFit:i,vertical:s&&ln(s),wrapText:a}}}}(e)),s&&l.push(function(t){return{name:"protection",properties:{rawMap:{hidden:!0===t.hideFormula?1:0,locked:!1===t.protected?0:1}}}}(s)),{name:"xf",properties:{rawMap:{applyAlignment:e?1:void 0,applyProtection:s?1:void 0,applyBorder:n?1:void 0,borderId:n,fillId:r,applyFont:o?1:void 0,fontId:o,applyNumberFormat:i?1:void 0,numFmtId:i,xfId:a}},children:l.length?l:void 0}},pn=function(t){return{name:"cellStyle",properties:{rawMap:{builtinId:t.builtinId,name:t.name,xfId:t.xfId}}}},hn=function(){_t={base:0},Ot=[],Et=[{name:"Calibri",size:14,colorTheme:"1",family:2,scheme:"minor"}],St=[{patternType:"none"},{patternType:"gray125"}],Pt=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],Tt=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],Rt=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],kt=[{builtinId:0,name:"normal",xfId:0}]},dn=function(t){return null==t?t:("#"===t.charAt(0)&&(t=t.substr(1)),6===t.length?"00"+t:t)},fn=function(t){var e,n,r,o,i,s=t.id,a=t.alignment,l=t.borders,u=t.font,p=t.interior,h=t.numberFormat,d=t.protection,f=0,g=0,y=0,v=0;s&&null==_t[s]&&(p&&(n=function(t){return t?{None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"}[t]||t:"none"}((e=p).pattern),r=dn(e.color),o=dn(e.patternColor),-1===(i=c.ib.findIndex(St,(function(t){return t.patternType==n&&t.fgRgb==r&&t.bgRgb==o})))&&(i=St.length,St.push({patternType:n,fgRgb:r,bgRgb:o})),f=i),l&&(g=function(t){var e,n,r,o,i,s,a,l,u=t.borderBottom,p=t.borderTop,h=t.borderLeft,d=t.borderRight;h&&(r=sn(h.lineStyle,h.weight),a=dn(h.color)),d&&(o=sn(d.lineStyle,d.weight),l=dn(d.color)),u&&(e=sn(u.lineStyle,u.weight),i=dn(u.color)),p&&(n=sn(p.lineStyle,p.weight),s=dn(p.color));var f=c.ib.findIndex(Pt,(function(t){var u=t.left,c=t.right,p=t.top,h=t.bottom;if(!u&&(r||a))return!1;if(!c&&(o||l))return!1;if(!p&&(n||s))return!1;if(!h&&(e||i))return!1;var d=u||{},f=c||{},g=p||{},y=h||{};return d.style==r&&d.color==a&&f.style==o&&f.color==l&&g.style==n&&g.color==s&&y.style==e&&y.color==i}));return-1===f&&(f=Pt.length,Pt.push({left:{style:r,color:a},right:{style:o,color:l},top:{style:n,color:s},bottom:{style:e,color:i},diagonal:{style:void 0,color:void 0}})),f}(l)),u&&(y=function(t){var e=t.fontName,n=t.color,r=t.size,o=t.bold,i=t.italic,s=t.outline,a=t.shadow,l=t.strikeThrough,u=t.underline,p=t.family,h=e?c.ib.utf8_encode(e):e,d=dn(n),f=function(t){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(t||"Automatic");return Math.max(e,0)}(p),g=c.ib.findIndex(Et,(function(t){return t.name==h&&t.color==d&&t.size==r&&t.bold==o&&t.italic==i&&t.outline==s&&t.shadow==a&&t.strike==l&&t.underline==u&&t.family==f}));return-1===g&&(g=Et.length,Et.push({name:h,color:d,size:r,bold:o,italic:i,outline:s,shadow:a,strike:l,underline:u,family:f})),g}(u)),h&&(v=function(t){if(t=c.ib.utf8_encode(t),Je[t])return Je[t];var e=c.ib.findIndex(Ot,(function(e){return e.formatCode===t}));return-1===e?Ot.push({formatCode:t,numFmtId:e=Ot.length+164}):e=Ot[e].numFmtId,e}(h.format)),_t[s]=Rt.length,Rt.push({alignment:a,borderId:g||0,fillId:f||0,fontId:y||0,numFmtId:v||0,protection:d,xfId:0}))},gn=function(t){return _t[t]||0},yn=function(t,e){var n=(e+1).toString();return{name:"sheet",properties:{rawMap:{name:t,sheetId:n,"r:id":"rId"+n}}}},vn=function(t){var e=t.min,n=t.max,r=t.s,o=t.width,i=t.hidden,s=t.bestFit,a=1,l="0";return o>1&&(a=function(t){return Math.ceil((t-12)/7+1)}(o),l="1"),{name:"col",properties:{rawMap:{min:e,max:n,width:a,style:r,hidden:i?"1":"0",bestFit:s?"1":"0",customWidth:l}}}},mn=function(t){var e=t.ref,n=t.data,r=t.styleId,o=n.type,i=n.value,s=o;o.charAt(0)===o.charAt(0).toUpperCase()&&(s=function(t){var e=t.charAt(0).toLowerCase();return"s"===e?"inlineStr":e}(o));var a,l={name:"c",properties:{rawMap:{r:e,t:"empty"===s?void 0:s,s:r?gn(r):void 0}}};return a="inlineStr"===s?[{name:"is",children:[{name:"t",textNode:c.ib.escapeString(c.ib.utf8_encode(i))}]}]:[{name:"v",textNode:i}],c.ib.assign({},l,{children:a})},Cn=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},bn=function(t,e){var n=t.index,r=t.collapsed,o=t.hidden,i=t.height,s=t.s,a=t.cells,l=void 0===a?[]:a;return function(t,e){for(var n=[],r=0,o=0;o<t.length;o++)(s=t[o]).mergeAcross&&(n.push({pos:o,excelPos:r}),r+=s.mergeAcross),r++;if(n.length)for(o=n.length-1;o>=0;o--){for(var i=[],s=t[n[o].pos],a=1;a<=s.mergeAcross;a++)i.push({ref:""+_n(n[o].excelPos+1+a)+(e+1),styleId:s.styleId,data:{type:"empty",value:null}});i.length&&t.splice.apply(t,Cn([n[o].pos+1,0],i))}}(l,e),{name:"row",properties:{rawMap:{r:n,collapsed:r,hidden:o?"1":"0",ht:i,customHeight:null!=i?"1":"0",s:s,customFormat:null!=s?"1":"0"}},children:l.map(mn)}},wn=function(t){return{name:"mergeCell",properties:{rawMap:{ref:t}}}},_n=function t(e){var n=String.fromCharCode,r=Math.floor(e/26),o=e%26;return r&&26!==e?o?r<26?n(65+r-1)+n(65+o-1):t(r)+n(65+o-1):t(r-1)+"Z":n(65+e-1)},On=function(t){return{name:"Relationship",properties:{rawMap:{Id:t.Id,Type:t.Type,Target:t.Target}}}},En=function(t){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t.map(On)}},Sn=(Mt=function(t,e){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pn=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Tn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sharedStrings=[],e}return Sn(e,t),e.prototype.createSharedStrings=function(){return this.createXmlPart({name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:(t=this.sharedStrings).length,uniqueCount:t.length}},children:t.map(Qe)});var t},e.prototype.createXmlPart=function(t){return""+this.xmlFactory.createHeader({encoding:"UTF-8",standalone:"yes"})+this.xmlFactory.createXml(t)},e.prototype.createExcel=function(t,e,n){return void 0===n&&(n=[]),this.sharedStrings=n,this.sheetNames=e.map((function(t){return t.name})),function(t){hn(),t.forEach(fn)}(t),this.createWorksheet(e)},e.prototype.createCore=function(){return this.createXmlPart({name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:"ag-Grid"},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t=(new Date).toJSON()},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]});var t},e.prototype.createContentTypes=function(){return this.createXmlPart({name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}].map(We)})},e.prototype.createRels=function(){var t=En([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return this.createXmlPart(t)},e.prototype.createStylesheet=function(){return this.createXmlPart((e=function(t){return{name:"numFmts",properties:{rawMap:{count:t.length}},children:t.map(Ze)}}(Ot),n=function(t){return{name:"fonts",properties:{rawMap:{count:t.length}},children:t.map($e)}}(Et),r=function(t){return{name:"fills",properties:{rawMap:{count:t.length}},children:t.map(tn)}}(St),o=function(t){return{name:"borders",properties:{rawMap:{count:t.length}},children:t.map(nn)}}(Pt),i={name:"cellStyleXfs",properties:{rawMap:{count:(t=Tt).length}},children:t.map(cn)},s=function(t){return{name:"cellXfs",properties:{rawMap:{count:t.length}},children:t.map(cn)}}(Rt),a=function(t){return{name:"cellStyles",properties:{rawMap:{count:t.length}},children:t.map(pn)}}(kt),hn(),{name:"styleSheet",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[e,n,r,o,i,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}));var t,e,n,r,o,i,s,a},e.prototype.createTheme=function(){return this.createXmlPart({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Be(["dk1","sysClr","windowText","000000"]),Be(["lt1","sysClr","window","FFFFFF"]),Be(["dk2","srgbClr","44546A"]),Be(["lt2","srgbClr","E7E6E6"]),Be(["accent1","srgbClr","4472C4"]),Be(["accent2","srgbClr","ED7D31"]),Be(["accent3","srgbClr","A5A5A5"]),Be(["accent4","srgbClr","FFC000"]),Be(["accent5","srgbClr","5B9BD5"]),Be(["accent6","srgbClr","70AD47"]),Be(["hlink","srgbClr","0563C1"]),Be(["folHlink","srgbClr","954F72"])]},(t=c.ib.utf8_encode,{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[He(["latin","Calibri Light",void 0,"020F0302020204030204"]),He(["ea",""]),He(["cs",""]),He(["font",t("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),He(["font",t("\ub9d1\uc740 \uace0\ub515"),"Hang"]),He(["font",t("\u7b49\u7ebf Light"),"Hans"]),He(["font",t("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),He(["font","Times New Roman","Arab"]),He(["font","Times New Roman","Hebr"]),He(["font","Tahoma","Thai"]),He(["font","Nyala","Ethi"]),He(["font","Vrinda","Beng"]),He(["font","Shruti","Gujr"]),He(["font","MoolBoran","Khmr"]),He(["font","Tunga","Knda"]),He(["font","Raavi","Guru"]),He(["font","Euphemia","Cans"]),He(["font","Plantagenet Cherokee","Cher"]),He(["font","Microsoft Yi Baiti","Yiii"]),He(["font","Microsoft Himalaya","Tibt"]),He(["font","MV Boli","Thaa"]),He(["font","Mangal","Deva"]),He(["font","Gautami","Telu"]),He(["font","Latha","Taml"]),He(["font","Estrangelo Edessa","Syrc"]),He(["font","Kalinga","Orya"]),He(["font","Kartika","Mlym"]),He(["font","DokChampa","Laoo"]),He(["font","Iskoola Pota","Sinh"]),He(["font","Mongolian Baiti","Mong"]),He(["font","Times New Roman","Viet"]),He(["font","Microsoft Uighur","Uigh"]),He(["font","Sylfaen","Geor"]),He(["font","Arial","Armn"]),He(["font","Leelawadee UI","Bugi"]),He(["font","Microsoft JhengHei","Bopo"]),He(["font","Javanese Text","Java"]),He(["font","Segoe UI","Lisu"]),He(["font","Myanmar Text","Mymr"]),He(["font","Ebrima","Nkoo"]),He(["font","Nirmala UI","Olck"]),He(["font","Ebrima","Osma"]),He(["font","Phagspa","Phag"]),He(["font","Estrangelo Edessa","Syrn"]),He(["font","Estrangelo Edessa","Syrj"]),He(["font","Estrangelo Edessa","Syre"]),He(["font","Nirmala UI","Sora"]),He(["font","Microsoft Tai Le","Tale"]),He(["font","Microsoft New Tai Lue","Talu"]),He(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[He(["latin","Calibri",void 0,"020F0502020204030204"]),He(["ea",""]),He(["cs",""]),He(["font",t("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),He(["font",t("\ub9d1\uc740 \uace0\ub515"),"Hang"]),He(["font",t("\u7b49\u7ebf"),"Hans"]),He(["font",t("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),He(["font","Arial","Arab"]),He(["font","Arial","Hebr"]),He(["font","Tahoma","Thai"]),He(["font","Nyala","Ethi"]),He(["font","Vrinda","Beng"]),He(["font","Shruti","Gujr"]),He(["font","DaunPenh","Khmr"]),He(["font","Tunga","Knda"]),He(["font","Raavi","Guru"]),He(["font","Euphemia","Cans"]),He(["font","Plantagenet Cherokee","Cher"]),He(["font","Microsoft Yi Baiti","Yiii"]),He(["font","Microsoft Himalaya","Tibt"]),He(["font","MV Boli","Thaa"]),He(["font","Mangal","Deva"]),He(["font","Gautami","Telu"]),He(["font","Latha","Taml"]),He(["font","Estrangelo Edessa","Syrc"]),He(["font","Kalinga","Orya"]),He(["font","Kartika","Mlym"]),He(["font","DokChampa","Laoo"]),He(["font","Iskoola Pota","Sinh"]),He(["font","Mongolian Baiti","Mong"]),He(["font","Arial","Viet"]),He(["font","Microsoft Uighur","Uigh"]),He(["font","Sylfaen","Geor"]),He(["font","Arial","Armn"]),He(["font","Leelawadee UI","Bugi"]),He(["font","Microsoft JhengHei","Bopo"]),He(["font","Javanese Text","Java"]),He(["font","Segoe UI","Lisu"]),He(["font","Myanmar Text","Mymr"]),He(["font","Ebrima","Nkoo"]),He(["font","Nirmala UI","Olck"]),He(["font","Ebrima","Osma"]),He(["font","Phagspa","Phag"]),He(["font","Estrangelo Edessa","Syrn"]),He(["font","Estrangelo Edessa","Syrj"]),He(["font","Estrangelo Edessa","Syre"]),He(["font","Nirmala UI","Sora"]),He(["font","Microsoft Tai Le","Tale"]),He(["font","Microsoft New Tai Lue","Talu"]),He(["font","Ebrima","Tfng"])]}]}),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Ke("phClr"),Ye(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),Ye(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[qe(["6350","flat","sng","ctr"]),qe(["12700","flat","sng","ctr"]),qe(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[Xe(),Xe(),Xe(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Ke("phClr"),Ke("phClr",[ze("tint","95000"),ze("satMod","170000")]),Ye(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]});var t},e.prototype.createWorkbook=function(){return this.createXmlPart({name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[(t=this.sheetNames,{name:"sheets",children:t.map(yn)})]});var t},e.prototype.createWorkbookRels=function(){var t=En([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet1.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId3",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId4",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]);return this.createXmlPart(t)},e.prototype.createWorksheet=function(t){return this.createXmlPart((n=(e=t[0].table).rows,o=(r=e.columns)&&r.length?function(t,e){var n=[];return t.forEach((function(t,r){var o,i=t.cells,s=0;t.index=r+1,i.forEach((function(t,i){var a=i+s+1,l=_n(a),u=r+1;if(t.mergeAcross){var c=_n(i+(s+=t.mergeAcross)+1);n.push(""+l+u+":"+c+u)}e[a-1]||(e[a-1]={}),function(t,e,n,r){if(!t.min)return t.min=e,void(t.max=e+n);var o=e;r&&(o=Math.max(o,r.min)),t.min=Math.max(t.min,o),t.max=Math.max(t.max,o+n)}(e[a-1],a,s,o),o=e[a-1],t.ref=""+l+u}))})),n}(n,r):[],i=[],r.length&&i.push({name:"cols",children:r.map(vn)}),n.length&&i.push({name:"sheetData",children:n.map(bn)}),o.length&&i.push({name:"mergeCells",properties:{rawMap:{count:o.length}},children:o.map(wn)}),{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:i}));var e,n,r,o,i},Pn([Object(c.k)("xmlFactory")],e.prototype,"xmlFactory",void 0),Pn([Object(c.m)("excelXlsxFactory")],e)}(c.n),Rn={getTemplate:function(t){var e=t.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:e.vertical,Horizontal:e.horizontal,Indent:e.indent,ReadingOrder:e.readingOrder,Rotate:e.rotate,ShrinkToFit:e.shrinkToFit,VerticalText:e.verticalText,WrapText:e.wrapText}}]}}}},kn={getTemplate:function(t){var e=t.borders;return{name:"Borders",children:[e.borderBottom,e.borderLeft,e.borderRight,e.borderTop].map((function(t,e){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==e?"Bottom":1==e?"Left":2==e?"Right":"Top",LineStyle:t.lineStyle,Weight:t.weight,Color:t.color}}]}}}))}}},An={getTemplate:function(t){var e=t.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:e.bold,FontName:e.fontName,Italic:e.italic,Color:e.color,Outline:e.outline,Shadow:e.shadow,Size:e.size,StrikeThrough:e.strikeThrough,Underline:e.underline,VerticalAlign:e.verticalAlign}},{prefix:"x:",map:{CharSet:e.charSet,Family:e.family}}]}}}},Dn={getTemplate:function(t){var e=t.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:e.color,Pattern:e.pattern,PatternColor:e.patternColor}}]}}}},xn={getTemplate:function(t){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:t.protection.protected,HideFormula:t.protection.hideFormula}}]}}}},Nn={getTemplate:function(t){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:t.numberFormat.format}}]}}}},In=(Ft=function(t,e){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fn=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return In(e,t),e.prototype.createExcel=function(t,e,n){var r=this.excelXmlHeader(),o=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},t,e);return""+r+this.xmlFactory.createXml(o,(function(t){return t?"1":"0"}))},e.prototype.workbook=function(t,e,n,r){var o=[t,e,this.stylesXmlElement(n)].concat(r.map((function(t){return function(t){var e=t.table,n=t.name,r=e.rows,o=e.columns.map((function(t){return function(t){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:t.width}}]}}}(t)})),i=r.map((function(t){return function(t){return{name:"Row",children:t.cells.map((function(t){return r=(e=t).styleId,o=e.data,i={},(n=e.mergeAcross)&&(i.MergeAcross=n),r&&(i.StyleID=r),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:i}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:o.type}}]},textNode:o.value}]};var e,n,r,o,i}))}}(t)}));return{name:"Worksheet",children:[{name:"Table",children:o.concat(i)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:n}}]}}}(t)})));return c.ib.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:o})},e.prototype.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},e.prototype.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map((function(t){return e.styleXmlElement(t)})):[]}},e.prototype.styleXmlElement=function(t){var e=c.ib.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return c.ib.assign({},function(t){var e=t.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:e,Name:t.name||e}}]}}}(t),{children:e})},e.prototype.addProperty=function(t,e){return function(n){return e[t]?n.concat({alignment:Rn,borders:kn,font:An,interior:Dn,numberFormat:Nn,protection:xn}[t].getTemplate(e)):n}},Fn([Object(c.k)("xmlFactory")],e.prototype,"xmlFactory",void 0),Fn([Object(c.m)("excelXmlFactory")],e)}(c.n),Ln=(It=function(t,e){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jn=function(t){function e(e){var n=t.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=c.ib.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach((function(t){n.stylesByIds[t.id]=t})),n.excelStyles=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(n.config.baseExcelStyles),n}return Ln(e,t),e.prototype.addCustomContent=function(t){var e=this;t.forEach((function(t){return e.rows.push({cells:t})}))},e.prototype.prepare=function(e){var n=this;t.prototype.prepare.call(this,e),this.cols=e.map((function(t,e){return n.convertColumnToExcel(t,e)}))},e.prototype.onNewHeaderGroupingRow=function(){var t=this,e=[];return this.rows.push({cells:e,height:this.config.headerRowHeight}),{onColumn:function(n,r,o){var i=t.config.styleLinker(w.g.HEADER_GROUPING,1,r,"grouping-"+n,void 0,void 0);e.push(t.createMergedCell(i&&i.length>0?i[0]:void 0,"String",n,o))}}},e.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},e.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},e.prototype.onNewRow=function(t,e){var n=[];return this.rows.push({cells:n,height:e}),{onColumn:t.bind(this,this.rows.length,n)()}},e.prototype.onNewHeaderColumn=function(t,e){var n=this;return function(r,o){var i=n.extractHeaderValue(r),s=n.config.styleLinker(w.g.HEADER,t,o,i,r,void 0);e.push(n.createCell(s&&s.length>0?s[0]:void 0,"String",i))}},e.prototype.parse=function(){for(var t=this.rows.reduce((function(t,e){return Math.max(t,e.cells.length)}),0);this.cols.length<t;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel([{name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}}])},e.prototype.createExcel=function(t){return this.config.excelFactory.createExcel(this.excelStyles,t,[])},e.prototype.onNewBodyColumn=function(t,e){var n=this;return function(r,o,i){var s,a=n.extractRowCellValue(r,o,c.v.EXPORT_TYPE_EXCEL,i),l=n.config.styleLinker(w.g.BODY,t,o,a,r,i);if(l&&1==l.length)s=l[0];else if(l&&l.length>1){var u=l.join("-");n.mixedStyles[u]||n.addNewMixedStyle(l),s=n.mixedStyles[u].excelID}e.push(n.createCell(s,n.getDataTypeForValue(a),a))}},e.prototype.getDataTypeForValue=function(t){return c.ib.isNumeric(t)?"Number":"String"},e.prototype.addNewMixedStyle=function(t){var e=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,r={};t.forEach((function(t){e.excelStyles.forEach((function(e){e.id===t&&c.ib.mergeDeep(r,c.ib.deepCloneObject(e))}))})),r.id=n,r.name=n;var o=t.join("-");this.mixedStyles[o]={excelID:n,key:o,result:r},this.excelStyles.push(r),this.stylesByIds[n]=r},e.prototype.styleExists=function(t){return null!=t&&this.stylesByIds[t]},e.prototype.createCell=function(t,e,n){var r,o=this,i=t&&this.stylesByIds[t],s=void 0!==i,a=function(){if(s&&i.dataType)switch(i.dataType){case"string":return"String";case"number":return"Number";case"dateTime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("ag-grid: Unrecognized data type for excel export ["+i.id+".dataType="+i.dataType+"]")}return e}();return{styleId:s?t:void 0,data:{type:a,value:"String"===a?function(t){if(o.config.suppressTextAsCDATA)return c.ib.escapeString(t);var e=new RegExp("]]>","g");return"<![CDATA["+String(t).replace(e,"]]]]><![CDATA[>")+"]]>"}(n):"Number"===a?Number(n).valueOf()+"":"Boolean"===a?(r=n,r&&"0"!==r&&"false"!==r?"1":"0"):n}}},e.prototype.createMergedCell=function(t,e,n,r){return{styleId:this.styleExists(t)?t:void 0,data:{type:e,value:n},mergeAcross:r}},e.prototype.convertColumnToExcel=function(t,e){var n=this.config.columnWidth;return n?"number"==typeof n?{width:n}:{width:n({column:t,index:e})}:t?{width:Math.max(t.getActualWidth(),75)}:{}},e}(w.b),Gn=(Nt=function(t,e){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stringList=[],e.stringMap={},e}return Gn(e,t),e.prototype.onNewHeaderGroupingRow=function(){var t=this,e=[];return this.rows.push({cells:e,height:this.config.headerRowHeight}),{onColumn:function(n,r,o){var i=t.config.styleLinker(w.g.HEADER_GROUPING,1,r,"grouping-"+n,void 0,void 0);e.push(t.createMergedCell(i&&i.length>0?i[0]:void 0,"s",n,o))}}},e.prototype.onNewHeaderColumn=function(t,e){var n=this;return function(r,o,i){var s=n.extractHeaderValue(r),a=n.config.styleLinker(w.g.HEADER,t,o,s,r,void 0);e.push(n.createCell(a&&a.length>0?a[0]:void 0,"s",s))}},e.prototype.createExcel=function(t){return this.config.excelFactory.createExcel(this.excelStyles,t,this.stringList)},e.prototype.getDataTypeForValue=function(t){return c.ib.isNumeric(t)?"n":"s"},e.prototype.getStringPosition=function(t){var e=this.stringMap[t];return void 0===e&&(e=this.stringMap[t]=this.stringList.length,this.stringList.push(t)),e},e.prototype.createCell=function(t,e,n){var r=t&&this.stylesByIds[t],o=void 0!==r,i=function(){if(o&&r.dataType)switch(r.dataType){case"string":return"s";case"number":return"n";case"dateTime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("ag-grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e}();return{styleId:o?t:void 0,data:{type:i,value:"s"===i?this.getStringPosition(null==n?"":n).toString():"n"===i?Number(n).toString():n}}},e.prototype.createMergedCell=function(t,e,n,r){return{styleId:this.styleExists(t)?t:void 0,data:{type:e,value:"s"===e?this.getStringPosition(null==n?"":n).toString():n},mergeAcross:r}},e}(jn),Wn=(xt=function(t,e){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bn=function(){return(Bn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Hn=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wn(e,t),e.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.exportDataAsExcel=function(t){return this.setExportMode(t?t.exportMode:void 0),this.export(t)},e.prototype.getDataAsExcelXml=function(t){return t&&t.exportMode&&delete t.exportMode,this.setExportMode("xml"),this.getData(t||{})},e.prototype.getMimeType=function(){return"xml"===this.getExportMode()?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},e.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},e.prototype.getDefaultFileExtension=function(){return this.getExportMode()},e.prototype.createSerializingSession=function(t){var e=this.columnController,n=this.valueService,r=this.gridOptionsWrapper,o="xlsx"===this.getExportMode(),i=o?this.xlsxFactory:this.excelXmlFactory,s="ag-grid";c.ib.exists(t.sheetName)&&(s=c.ib.utf8_encode(t.sheetName.toString().substr(0,31)));var a=Bn(Bn({},t),{columnController:e,valueService:n,gridOptionsWrapper:r,headerRowHeight:t.headerRowHeight||t.rowHeight,sheetName:s,excelFactory:i,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(o?Vn:jn)(a)},e.prototype.styleLinker=function(t,e,n,r,o,i){if(t===w.g.HEADER||t===w.g.HEADER_GROUPING)return["header"];var s=this.gridOptions.excelStyles;if(!s||!s.length)return null;var a=s.map((function(t){return t.id})),l=[];return this.stylingService.processAllCellClasses(o.getColDef(),{value:r,data:i.data,node:i,colDef:o.getColDef(),rowIndex:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},(function(t){a.indexOf(t)>-1&&l.push(t)})),l.sort((function(t,e){return a.indexOf(t)<a.indexOf(e)?-1:1}))},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},e.prototype.setExportMode=function(t){this.exportMode=t},e.prototype.getExportMode=function(){return this.exportMode||"xlsx"},e.prototype.packageFile=function(e){if("xml"===this.getExportMode())return t.prototype.packageFile.call(this,e);var n=this.zipContainer,r=this.xlsxFactory;return n.addFolders(["xl/worksheets/","xl/","xl/theme/","xl/_rels/","docProps/","_rels/"]),n.addFile("xl/worksheets/sheet1.xml",e),n.addFile("xl/workbook.xml",r.createWorkbook()),n.addFile("xl/styles.xml",r.createStylesheet()),n.addFile("xl/sharedStrings.xml",r.createSharedStrings()),n.addFile("xl/theme/theme1.xml",r.createTheme()),n.addFile("xl/_rels/workbook.xml.rels",r.createWorkbookRels()),n.addFile("docProps/core.xml",r.createCore()),n.addFile("[Content_Types].xml",r.createContentTypes()),n.addFile("_rels/.rels",r.createRels()),n.getContent("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Hn([Object(c.k)("excelXmlFactory")],e.prototype,"excelXmlFactory",void 0),Hn([Object(c.k)("excelXlsxFactory")],e.prototype,"xlsxFactory",void 0),Hn([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Hn([Object(c.k)("valueService")],e.prototype,"valueService",void 0),Hn([Object(c.k)("gridOptions")],e.prototype,"gridOptions",void 0),Hn([Object(c.k)("stylingService")],e.prototype,"stylingService",void 0),Hn([Object(c.k)("downloader")],e.prototype,"downloader",void 0),Hn([Object(c.k)("gridSerializer")],e.prototype,"gridSerializer",void 0),Hn([Object(c.k)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Hn([Object(c.k)("zipContainer")],e.prototype,"zipContainer",void 0),Hn([c.Q],e.prototype,"postConstruct",null),Hn([Object(c.m)("excelCreator")],e)}(w.a),Un={moduleName:c.K.ExcelExportModule,beans:[zn,Mn,Tn,w.f,w.i,w.h,w.e,w.c],dependantModules:[w.d,b]},Kn=(Dt=function(t,e){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yn=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(At||(At={}));var qn,Xn,Qn,Zn,Jn,$n,tr,er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},e.prototype.postConstruct=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(t("ariaSearch","Search")),this.createExpandIcons(),this.setExpandState(At.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},e.prototype.init=function(t){this.params=t,this.columnController.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=c.ib.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=c.ib.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=c.ib.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressFilterSearch,e=!this.params.suppressExpandAll,n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var r=this.columnController.getAllGridColumns().some((function(t){return t.getOriginalParent()&&t.isFilterAllowed()}));c.ib.setDisplayed(this.eFilterTextField.getGui(),t),c.ib.setDisplayed(this.eExpand,e&&r)},e.prototype.onSearchTextChanged=function(){var t=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=c.ib.debounce((function(){t.dispatchEvent({type:"searchChanged",searchText:t.eFilterTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},e.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===At.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},e.prototype.setExpandState=function(t){this.currentExpandState=t,c.ib.setDisplayed(this.eExpandChecked,this.currentExpandState===At.EXPANDED),c.ib.setDisplayed(this.eExpandUnchecked,this.currentExpandState===At.COLLAPSED),c.ib.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===At.INDETERMINATE)},Yn([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Yn([Object(c.V)("eExpand")],e.prototype,"eExpand",void 0),Yn([Object(c.V)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),Yn([c.R],e.prototype,"preConstruct",null),Yn([c.Q],e.prototype,"postConstruct",null),e}(c.t),nr=(tr=function(t,e){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},or=function(t){function e(n){void 0===n&&(n=!1);var r=t.call(this,e.TEMPLATE)||this;return r.expanded=!1,r.hideHeader=n,r}return nr(e,t),e.prototype.postConstruct=function(){this.eExpandChecked=c.ib.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=c.ib.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},e.prototype.setColumn=function(t){var e=this;this.column=t,this.eFilterName.innerText=this.columnController.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(t){t.keyCode===c.G.ENTER&&e.toggleExpanded()})),this.addManagedListener(this.eventService,c.A.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),c.ib.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),c.ib.addCssClass(this.eExpandChecked,"ag-hidden"),this.hideHeader?(c.ib.addOrRemoveCssClass(this.eFilterToolPanelHeader,"ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,c.r.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.getColumn=function(){return this.column},e.prototype.getColumnFilterName=function(){return this.columnController.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},e.prototype.addCssClassToTitleBar=function(t){c.ib.addCssClass(this.eFilterToolPanelHeader,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var r=c.ib.createIconNoSpan(t,this.gridOptionsWrapper,n);e.appendChild(r)}},e.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},e.prototype.onFilterChanged=function(){c.ib.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:c.r.EVENT_FILTER_CHANGED})},e.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},e.prototype.expand=function(){var t=this;if(!this.expanded){this.expanded=!0;var e=c.ib.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR").filterPromise;n&&n.then((function(n){t.underlyingFilter=n,n&&(e.appendChild(n.getGui()),t.agFilterToolPanelBody.appendChild(e),n.afterGuiAttached&&n.afterGuiAttached({container:"toolPanel"}))})),c.ib.setDisplayed(this.eExpandChecked,!0),c.ib.setDisplayed(this.eExpandUnchecked,!1)}},e.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),c.ib.setDisplayed(this.eExpandChecked,!1),c.ib.setDisplayed(this.eExpandUnchecked,!0))},e.prototype.refreshFilter=function(){if(this.expanded){var t=this.underlyingFilter;t&&"function"==typeof t.refreshVirtualList&&t.refreshVirtualList()}},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.column&&this.expanded&&this.collapse()},e.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',rr([Object(c.V)("eFilterToolPanelHeader")],e.prototype,"eFilterToolPanelHeader",void 0),rr([Object(c.V)("eFilterName")],e.prototype,"eFilterName",void 0),rr([Object(c.V)("agFilterToolPanelBody")],e.prototype,"agFilterToolPanelBody",void 0),rr([Object(c.V)("eFilterIcon")],e.prototype,"eFilterIcon",void 0),rr([Object(c.V)("eExpand")],e.prototype,"eExpand",void 0),rr([Object(c.k)("filterManager")],e.prototype,"filterManager",void 0),rr([Object(c.k)("columnController")],e.prototype,"columnController",void 0),rr([c.Q],e.prototype,"postConstruct",null),e}(c.t),ir=($n=function(t,e){return($n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$n(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ar=function(t){function e(e,n,r,o,i){var s=t.call(this)||this;return s.columnGroup=e,s.childFilterComps=n,s.depth=o,s.expandedCallback=r,s.showingColumn=i,s}return ir(e,t),e.prototype.preConstruct=function(){this.setTemplate(e.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},e.prototype.init=function(){var t=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),c.ib.addCssClass(this.filterGroupComp.getGui(),"ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(e){t.filterGroupComp.addItem(e),e.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(t.depth+1)+"-header")})),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},e.prototype.setupTooltip=function(){var t=this;if(this.showingColumn){var e=function(){var e=t.columnGroup.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,e)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},e.prototype.addCssClassToTitleBar=function(t){this.filterGroupComp.addCssClassToTitleBar(t)},e.prototype.refreshFilters=function(){this.childFilterComps.forEach((function(t){t instanceof e?t.refreshFilters():t.refreshFilter()}))},e.prototype.isColumnGroup=function(){return this.columnGroup instanceof c.O},e.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},e.prototype.getChildren=function(){return this.childFilterComps},e.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},e.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},e.prototype.hideGroupItem=function(t,e){this.filterGroupComp.hideItem(t,e)},e.prototype.hideGroup=function(t){c.ib.addOrRemoveCssClass(this.getGui(),"ag-hidden",t)},e.prototype.forEachToolPanelFilterChild=function(t){c.ib.forEach(this.childFilterComps,(function(e){e instanceof or&&t(e)}))},e.prototype.addExpandCollapseListeners=function(){var t=this,e=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.expand()}))},n=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.collapse()}))};this.addManagedListener(this.filterGroupComp,c.e.EVENT_EXPANDED,e),this.addManagedListener(this.filterGroupComp,c.e.EVENT_COLLAPSED,n)},e.prototype.addFilterChangedListeners=function(){var t=this;if(this.columnGroup instanceof c.O){var e=this.columnGroup;e.getLeafColumns().forEach((function(n){t.addManagedListener(n,c.r.EVENT_FILTER_CHANGED,(function(){c.ib.addOrRemoveCssClass(t.filterGroupComp.getGui(),"ag-has-filter",e.getLeafColumns().some((function(t){return t.isFilterActive()})))}))}))}else{var n=this.columnGroup;this.addManagedListener(this.eventService,c.A.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addManagedListener(n,c.r.EVENT_FILTER_CHANGED,(function(){c.ib.addOrRemoveCssClass(t.filterGroupComp.getGui(),"ag-has-filter",n.isFilterActive())}))}},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.columnGroup&&this.isExpanded()&&this.collapse()},e.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},e.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},e.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof c.O?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},e.prototype.getColumnGroupName=function(t){return this.columnController.getDisplayNameForOriginalColumnGroup(null,t,"filterToolPanel")},e.prototype.getColumnName=function(t){return this.columnController.getDisplayNameForColumn(t,"filterToolPanel",!1)},e.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),c.ib.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',sr([Object(c.V)("filterGroupComp")],e.prototype,"filterGroupComp",void 0),sr([Object(c.k)("columnController")],e.prototype,"columnController",void 0),sr([c.R],e.prototype,"preConstruct",null),sr([c.Q],e.prototype,"init",null),e}(c.t),lr=(Jn=function(t,e){return(Jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ur=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cr=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return lr(e,t),e.prototype.init=function(t){var e=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};c.ib.mergeDeep(n,t),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_MOVED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,c.A.EVENT_TOOL_PANEL_VISIBLE_CHANGED,(function(t){"filters"===t.source&&e.refreshFilters()})),this.columnController.isReady()&&this.onColumnsChanged()},e.prototype.onColumnsChanged=function(){var t=this.columnController.isPivotMode();this.params.suppressSyncLayoutWithGrid||t?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},e.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},e.prototype.buildTreeFromProvidedColumnDefs=function(){var t=this;this.destroyFilters();var e=this.columnController.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(e,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach((function(e){return t.appendChild(e)})),this.setFirstAndLastVisible(0,n-1)),c.ib.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},e.prototype.setFiltersLayout=function(t){var e=this;this.destroyFilters();var n=this.toolPanelColDefService.createColumnTree(t);this.filterGroupComps=this.recursivelyAddComps(n,0);var r=this.filterGroupComps.length;r&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,r-1)),c.ib.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},e.prototype.recursivelyAddComps=function(t,e){var n=this;return c.ib.flatten(t.map((function(t){if(t instanceof c.O)return c.ib.flatten(n.recursivelyAddFilterGroupComps(t,e));var r=t;if(!n.shouldDisplayFilter(r))return[];var o=new or(0===e);if(n.getContext().createBean(o),o.setColumn(r),e>0)return o;var i=n.createBean(new ar(r,[o],n.onGroupExpanded.bind(n),e,!0));return i.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.collapse(),i})))},e.prototype.recursivelyAddFilterGroupComps=function(t,e){if(this.filtersExistInChildren(t.getChildren())){var n=t.getColGroupDef();if(n&&n.suppressFiltersToolPanel)return[];var r=t.isPadding()?e:e+1,o=c.ib.flatten(this.recursivelyAddComps(t.getChildren(),r));if(t.isPadding())return o;var i=new ar(t,o,this.onGroupExpanded.bind(this),e,!1);return this.getContext().createBean(i),i.addCssClassToTitleBar("ag-filter-toolpanel-header"),[i]}},e.prototype.filtersExistInChildren=function(t){var e=this;return t.some((function(t){return t instanceof c.O?e.filtersExistInChildren(t.getChildren()):e.shouldDisplayFilter(t)}))},e.prototype.shouldDisplayFilter=function(t){var e=t.getColDef()&&t.getColDef().suppressFiltersToolPanel;return t.isFilterAllowed()&&!e},e.prototype.refresh=function(){},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.expandFilterGroups=function(t,e){var n=[];if(this.filterGroupComps.forEach((function r(o){var i=o.getFilterGroupId();(!e||c.ib.includes(e,i))&&(t&&o.isColumnGroup()?o.expand():o.collapse(),n.push(i)),o.getChildren().forEach((function(t){t instanceof ar&&r(t)}))})),this.onGroupExpanded(),e){var r=e.filter((function(t){return n.indexOf(t)<0}));r.length>0&&console.warn("ag-Grid: unable to find groups for these supplied groupIds:",r)}},e.prototype.expandFilters=function(t,e){var n=[];if(this.filterGroupComps.forEach((function r(o){if(o instanceof ar){var i=!1;return o.getChildren().forEach((function(e){r(e)&&(t?(o.expand(),i=!0):o.isColumnGroup()||o.collapse())})),i}var s=o.getColumn().getColId(),a=!e||c.ib.includes(e,s);return a&&(t?o.expand():o.collapse(),n.push(s)),a})),this.onGroupExpanded(),e){var r=e.filter((function(t){return n.indexOf(t)<0}));r.length>0&&console.warn("ag-Grid: unable to find columns for these supplied colIds:",r)}},e.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},e.prototype.fireExpandedEvent=function(){var t=0,e=0;this.filterGroupComps.forEach((function n(r){r.isColumnGroup()&&(r.isExpanded()?t++:e++,r.getChildren().forEach((function(t){t instanceof ar&&n(t)})))})),this.dispatchEvent({type:"groupExpanded",state:t>0&&e>0?At.INDETERMINATE:e>0?At.COLLAPSED:At.EXPANDED})},e.prototype.performFilterSearch=function(t){this.searchFilterText=c.ib.exists(t)?t.toLowerCase():null,this.searchFilters(this.searchFilterText)},e.prototype.searchFilters=function(t){var e,n,r=function(e){return!c.ib.exists(t)||-1!==e.toLowerCase().indexOf(t)};this.filterGroupComps.forEach((function(t,o){(function t(e,n){if(!(e instanceof ar))return r(e.getColumnFilterName()||"");var o=e.getChildren(),i=r(e.getFilterGroupName()),s=n||i;if(s){e.hideGroup(!1);for(var a=0;a<o.length;a++)t(o[a],s),e.hideGroupItem(!1,a);return!0}var l=!1;return o.forEach((function(r,o){var i=t(r,n);e.hideGroupItem(!i,o),i&&(l=!0)})),e.hideGroup(!l),l})(t,!1),void 0===e?c.ib.containsClass(t.getGui(),"ag-hidden")||(e=o,n=o):c.ib.containsClass(t.getGui(),"ag-hidden")||n===o||(n=o)})),this.setFirstAndLastVisible(e,n)},e.prototype.setFirstAndLastVisible=function(t,e){this.filterGroupComps.forEach((function(n,r){c.ib.removeCssClass(n.getGui(),"ag-first-group-visible"),c.ib.removeCssClass(n.getGui(),"ag-last-group-visible"),r===t&&c.ib.addCssClass(n.getGui(),"ag-first-group-visible"),r===e&&c.ib.addCssClass(n.getGui(),"ag-last-group-visible")}))},e.prototype.refreshFilters=function(){this.filterGroupComps.forEach((function(t){return t.refreshFilters()}))},e.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),c.ib.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-list-panel"></div>',ur([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),ur([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),ur([Object(c.k)("toolPanelColDefService")],e.prototype,"toolPanelColDefService",void 0),ur([Object(c.k)("columnController")],e.prototype,"columnController",void 0),e}(c.t),pr=(Zn=function(t,e){return(Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dr=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return pr(e,t),e.prototype.init=function(t){this.initialised&&(this.listenerDestroyFuncs.forEach((function(t){return t()})),this.listenerDestroyFuncs=[]),this.initialised=!0;var e={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};c.ib.mergeDeep(e,t),this.params=e,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},e.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},e.prototype.onSearchChanged=function(t){this.filtersToolPanelListPanel.performFilterSearch(t.searchText)},e.prototype.setFilterLayout=function(t){this.filtersToolPanelListPanel.setFiltersLayout(t)},e.prototype.onGroupExpanded=function(t){this.filtersToolPanelHeaderPanel.setExpandState(t.state)},e.prototype.expandFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!0,t)},e.prototype.collapseFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!1,t)},e.prototype.expandFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!0,t)},e.prototype.collapseFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!1,t)},e.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},e.prototype.refresh=function(){this.init(this.params)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',hr([Object(c.V)("filtersToolPanelHeaderPanel")],e.prototype,"filtersToolPanelHeaderPanel",void 0),hr([Object(c.V)("filtersToolPanelListPanel")],e.prototype,"filtersToolPanelListPanel",void 0),hr([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),hr([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),e}(c.t),fr={moduleName:c.K.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:er},{componentName:"AgFiltersToolPanelList",componentClass:cr}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:dr}],dependantModules:[Le,b]},gr=(Qn=function(t,e){return(Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gr(e,t),e.prototype.getData=function(t){if(t.crossFiltering){if(t.grouping)return console.warn("ag-grid: crossing filtering with row grouping is not supported."),{data:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("ag-grid: crossing filtering is only supported in the client side row model."),{data:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&t.pivoting&&this.updatePivotKeysForSSRM();var e=this.extractRowsFromGridRowModel(t);return e.data=this.aggregateRowsByDimension(t,e.data),e},e.prototype.extractRowsFromGridRowModel=function(t){var n,r=this,o=[],i={},s={},a={},l={},u=[];if(t.crossFiltering)l=this.getFilteredRowNodes(),n=(u=this.getAllRowNodes()).length;else{var p=this.gridRowModel.getRowCount()-1;n=(t.endRow>=0?Math.min(t.endRow,p):p)-t.startRow+1}for(var h=function(n){var c={},p=t.crossFiltering?u[n]:d.gridRowModel.getRow(n+t.startRow);t.dimensionCols.forEach((function(o){var i=o.colId,l=r.columnController.getGridColumn(i);if(l){var u=r.valueService.getValue(l,p);if(t.grouping){var h=u&&u.toString?String(u.toString()):"",d=e.getGroupLabels(p,h);c[i]={labels:d,toString:function(){return this.labels.filter((function(t){return!!t})).reverse().join(" - ")}},p.group&&(s[d.toString()]=n);var f=d.slice(1,d.length).toString();f&&(a[f]=s[f])}else c[i]=u}else c[wr.DEFAULT_CATEGORY]=n+1})),t.valueCols.forEach((function(e){var n=[],o=e.getColDef().pivotKeys;o&&(n=o.slice());var s=e.getColDef().headerName;s&&n.push(s),n.length>0&&(i[e.getId()]=n);var a=e.getColId();if(t.crossFiltering){var u=a+"-filtered-out",h=null!=(d=r.valueService.getValue(e,p))&&"function"==typeof d.toNumber?d.toNumber():d;l[p.id]?(c[a]=h,c[u]=t.aggFunc||t.isScatter?void 0:0):(c[a]=t.aggFunc||t.isScatter?void 0:0,c[u]=h)}else{var d=r.valueService.getValue(e,p);c[a]=null!=d&&"function"==typeof d.toNumber?d.toNumber():d}})),o.push(c)},d=this,f=0;f<n;f++)h(f);if(t.grouping){var g=c.ib.values(a);o=o.filter((function(t,e){return!c.ib.includes(g,e)}))}return{data:o,columnNames:i}},e.prototype.aggregateRowsByDimension=function(t,e){var n=this,r=t.dimensionCols;if(!t.aggFunc||0===r.length)return e;var o=c.ib.last(r),i=o&&o.colId,s={},a=[];return e.forEach((function(t){var e=s;r.forEach((function(n){var o=n.colId,s=t[o];if(o===i){var l=e[s];l||(l={__children:[]},r.forEach((function(e){var n=e.colId;l[n]=t[n]})),e[s]=l,a.push(l)),l.__children.push(t)}else e[s]||(e[s]={}),e=e[s]}))})),c.L.assertRegistered(c.K.RowGroupingModule,"Charting Aggregation")&&a.forEach((function(e){return t.valueCols.forEach((function(r){if(t.crossFiltering)t.valueCols.forEach((function(r){var o=e.__children.filter((function(t){return void 0!==t[r.getColId()]})).map((function(t){return t[r.getColId()]})),i=n.aggregationStage.aggregateValues(o,t.aggFunc);e[r.getId()]=i&&void 0!==i.value?i.value:i;var s=r.getId()+"-filtered-out",a=e.__children.filter((function(t){return void 0!==t[s]})).map((function(t){return t[s]})),l=n.aggregationStage.aggregateValues(a,t.aggFunc);e[s]=l&&void 0!==l.value?l.value:l}));else{var o=e.__children.map((function(t){return t[r.getId()]})),i=0;c.L.assertRegistered(c.K.RowGroupingModule,"Charting Aggregation")&&(i=n.aggregationStage.aggregateValues(o,t.aggFunc)),e[r.getId()]=i&&void 0!==i.value?i.value:i}}))})),a},e.prototype.updatePivotKeysForSSRM=function(){var t=this.columnController.getSecondaryColumns();if(t){var e=this.extractPivotKeySeparator(t);t.forEach((function(t){var n=t.getColId().split(e);t.getColDef().pivotKeys=n.slice(0,n.length-1)}))}},e.prototype.extractPivotKeySeparator=function(t){if(0===t.length)return"";var e=t[0];return function t(e,n){var r=e.getGroupId();return e.getParent()?t(e.getParent(),r):n.split(r)[1][0]}(e.getParent(),e.getColId())},e.getGroupLabels=function(t,e){for(var n=[e];t&&0!==t.level;)(t=t.parent)&&n.push(t.key);return n},e.prototype.getFilteredRowNodes=function(){var t={};return this.gridRowModel.forEachNodeAfterFilterAndSort((function(e){t[e.id]=e})),t},e.prototype.getAllRowNodes=function(){var t=[];return this.gridRowModel.forEachNode((function(e){t.push(e)})),this.sortRowNodes(t)},e.prototype.sortRowNodes=function(t){var e=this.sortController.getSortOptions();return e&&0!=e.length?this.rowNodeSorter.doFullSort(t,e):t},yr([Object(c.k)("rowModel")],e.prototype,"gridRowModel",void 0),yr([Object(c.k)("valueService")],e.prototype,"valueService",void 0),yr([Object(c.k)("columnController")],e.prototype,"columnController",void 0),yr([Object(c.k)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),yr([Object(c.k)("sortController")],e.prototype,"sortController",void 0),yr([Object(c.N)("aggregationStage")],e.prototype,"aggregationStage",void 0),e}(c.n),mr=(Xn=function(t,e){return(Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},br=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},wr=function(t){function e(e){var n=t.call(this)||this;return n.dimensionColState=[],n.valueColState=[],n.unlinked=!1,n.grouping=!1,n.crossFiltering=!1,n.columnNames={},n.pivotChart=e.pivotChart,n.chartType=e.chartType,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.chartId=n.generateId(),n}return mr(e,t),e.prototype.init=function(){this.datasource=this.createManagedBean(new vr),this.updateCellRanges()},e.prototype.updateCellRanges=function(t){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var e=this.getAllChartColumns(),n=e.dimensionCols,r=e.valueCols,o=this.getAllColumnsFromRanges();t&&this.updateColumnState(t),this.setDimensionCellRange(n,o,t),this.setValueCellRange(r,o,t),t||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateData()},e.prototype.getData=function(){return this.chartData},e.prototype.isGroupActive=function(){var t=this.gridOptionsWrapper.isTreeData(),e=t?null:this.columnController.getRowGroupColumns();return t||e&&e.length>0},e.prototype.isGrouping=function(){var t=this.getSelectedDimension().colId,e=this.columnController.getGroupDisplayColumns().map((function(t){return t.getColId()})).some((function(e){return e===t}));return!!this.isGroupActive()&&e},e.prototype.isPivotActive=function(){return this.columnController.isPivotActive()},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.isPivotChart=function(){return this.pivotChart},e.prototype.getChartId=function(){return this.chartId},e.prototype.getValueColState=function(){return this.valueColState.map(this.displayNameMapper.bind(this))},e.prototype.getDimensionColState=function(){return this.dimensionColState},e.prototype.getCellRanges=function(){return[this.dimensionCellRange,this.valueCellRange].filter((function(t){return t}))},e.prototype.getCellRangeParams=function(){var t=this.getCellRanges(),e=t[0],n=e&&e.startRow,r=e&&e.endRow;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:r&&r.rowIndex,rowEndPinned:r&&r.rowPinned,columns:t.reduce((function(t,e){return t.concat(e.columns.map((function(t){return t.getId()})))}),[])}},e.prototype.setChartType=function(t){this.chartType=t},e.prototype.getChartType=function(){return this.chartType},e.prototype.setChartThemeName=function(t){this.chartThemeName=t},e.prototype.getChartThemeName=function(){return this.chartThemeName},e.prototype.isSuppressChartRanges=function(){return this.suppressChartRanges},e.prototype.isUnlinked=function(){return this.unlinked},e.prototype.toggleUnlinked=function(){this.unlinked=!this.unlinked},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getSelectedValueColState=function(){return this.getValueColState().filter((function(t){return t.selected}))},e.prototype.getSelectedValueCols=function(){return this.valueColState.filter((function(t){return t.selected})).map((function(t){return t.column}))},e.prototype.getSelectedDimension=function(){return this.dimensionColState.filter((function(t){return t.selected}))[0]},e.prototype.createCellRange=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:e,startColumn:t===c.o.DIMENSION?e[0]:this.referenceCellRange.startColumn,type:t}},e.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return c.ib.convertToSet(this.columnController.getAllDisplayedColumns());var t=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&t.push.apply(t,this.dimensionCellRange.columns),this.valueCellRange&&t.push.apply(t,this.valueCellRange.columns),c.ib.convertToSet(t)},e.prototype.getColDisplayName=function(t){return this.columnController.getDisplayNameForColumn(t,"chart")},e.prototype.getRowIndexes=function(){var t=0,e=0,n=this.rangeController,r=this.valueCellRange;return n&&r&&(t=n.getRangeStartRow(r).rowIndex,e=n.getRangeEndRow(r).rowIndex),{startRow:t,endRow:e}},e.prototype.getAllChartColumns=function(){var t=this,e=this.columnController.getAllDisplayedColumns(),n=new Set,r=new Set;return e.forEach((function(e){var o=e.getColDef(),i=o.chartDataType;if(i)switch(i){case"category":case"time":return void n.add(e);case"series":return void r.add(e);case"excluded":return;default:console.warn("ag-Grid: unexpected chartDataType value '"+i+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==o.colId?e.isPrimary()?(t.isNumberCol(e)?r:n).add(e):r.add(e):n.add(e)})),{dimensionCols:n,valueCols:r}},e.prototype.isNumberCol=function(t){if("ag-Grid-AutoColumn"===t.getColId())return!1;var e=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:void 0});if(!e)return!1;var n=this.valueService.getValue(t,e);return null==n&&(n=this.extractLeafData(e,t)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},e.prototype.extractLeafData=function(t,e){if(!t.allLeafChildren)return null;for(var n=0;n<t.allLeafChildren.length;n++){var r=this.valueService.getValue(e,t.allLeafChildren[n]);if(null!=r)return r}return null},e.prototype.displayNameMapper=function(t){var e=this.columnNames[t.colId];return t.displayName=e?e.join(" - "):this.getColDisplayName(t.column),t},e.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},e.prototype.updateData=function(){var t=this.getRowIndexes(),e=t.startRow,n=t.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var r={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:n,isScatter:c.ib.includes([c.q.Scatter,c.q.Bubble],this.chartType)},o=this.datasource.getData(r);this.chartData=o.data,this.columnNames=o.columnNames},e.prototype.resetColumnState=function(){var t=this,n=this.getAllChartColumns(),r=n.dimensionCols,o=n.valueCols,i=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var a=!1,l=1,u=this.suppliedCellRange.columns[0];r.forEach((function(e){var n="ag-Grid-AutoColumn"===e.getColId(),r=!1;t.crossFiltering&&t.aggFunc?u.getColId()===e.getColId()&&(r=!0):r=!!n||!a&&i.has(e),t.dimensionColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:r,order:l++}),r&&(a=!0)}));var p={colId:e.DEFAULT_CATEGORY,displayName:this.chartTranslator.translate("defaultCategory"),selected:!a,order:0};this.dimensionColState.unshift(p);var h=this.referenceCellRange.columns.filter((function(t){return o.has(t)}));o.forEach((function(e){s&&c.ib.includes(t.referenceCellRange.columns,e)&&(e=h.shift()),t.valueColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:i.has(e),order:l++})}))},e.prototype.updateColumnState=function(t){var e=function(e){return e.colId===t.colId},n=this.dimensionColState,r=this.valueColState;n.filter(e).length>0?n.forEach((function(t){return t.selected=e(t)})):r.filter(e).forEach((function(e){return e.selected=t.selected}));var o=br(n,r),i=[];o.forEach((function(e,n){n===t.order&&i.push(t.colId),e.colId!==t.colId&&i.push(e.colId)})),o.forEach((function(t){var e=i.indexOf(t.colId);t.order=e>=0?i.indexOf(t.colId):o.length-1})),this.reorderColState()},e.prototype.reorderColState=function(){var t=this.valueColState;this.dimensionColState.sort((function(t,e){return t.order-e.order})),t.sort((function(t,e){return t.order-e.order}))},e.prototype.setDimensionCellRange=function(t,n,r){var o=this;if(this.dimensionCellRange=void 0,r||this.dimensionColState.length){var i=r;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];i=this.dimensionColState.filter((function(t){return t.colId===s.getColId()}))[0]}else i&&t.has(i.column)||(i=this.dimensionColState.filter((function(t){return t.selected}))[0]);i&&i.colId!==e.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(c.o.DIMENSION,i.column))}else t.forEach((function(t){!o.dimensionCellRange&&n.has(t)&&(o.dimensionCellRange=o.createCellRange(c.o.DIMENSION,t))}))},e.prototype.setValueCellRange=function(t,e,n){this.valueCellRange=void 0;var r=[];if(t.forEach((function(t){n&&n.colId===t.getColId()?n.selected&&r.push(n.column):e.has(t)&&r.push(t)})),r.length>0){var o=[];this.valueColState.length>0?o=this.valueColState.map((function(t){return t.colId})):e.forEach((function(t){return o.push(t.getColId())})),r.sort((function(t,e){return o.indexOf(t.getColId())-o.indexOf(e.getColId())})),this.valueCellRange=this.createCellRange.apply(this,br([c.o.VALUE],r))}},e.prototype.syncDimensionCellRange=function(){var t=this.getSelectedDimension();t&&t.column&&(this.dimensionCellRange=this.createCellRange(c.o.DIMENSION,t.column))},e.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",Cr([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Cr([Object(c.k)("valueService")],e.prototype,"valueService",void 0),Cr([Object(c.k)("rangeController")],e.prototype,"rangeController",void 0),Cr([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),Cr([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Cr([c.Q],e.prototype,"init",null),e}(c.n),_r=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===r&&(r=e),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},t}(),Or=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.render=function(e,n){void 0===n&&(n=t.noParams),e.save(),n.resetTransform&&e.setTransform(1,0,0,1,0,0),e.strokeStyle=n.strokeStyle||"cyan",e.lineWidth=n.lineWidth||1,e.strokeRect(this.x,this.y,this.width,this.height),n.label&&(e.fillStyle=n.fillStyle||"black",e.textBaseline="bottom",e.fillText(n.label,this.x,this.y)),e.restore()},t.noParams={},t}(),Er=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},t.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),t.prototype.AxB=function(t,e,n){var r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],l=t[5],u=e[0],c=e[1],p=e[2],h=e[3],d=e[4],f=e[5];(n=n||t)[0]=r*u+i*c,n[1]=o*u+s*c,n[2]=r*p+i*h,n[3]=o*p+s*h,n[4]=r*d+i*f+a,n[5]=o*d+s*f+l},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-r*o);return new t([i*=l,-(r*=l),-(o*=l),n*=l,o*a-i*s,r*s-n*a])},t.prototype.inverseTo=function(t){var e=this.elements,n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-r*o);return t.setElements([i*=l,-(r*=l),-(o*=l),n*=l,o*a-i*s,r*s-n*a]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],s=t[5],a=1/(e*o-n*r);return e*=a,n*=a,r*=a,t[0]=o*=a,t[1]=-n,t[2]=-r,t[3]=e,t[4]=r*s-o*i,t[5]=n*i-e*s,this},t.prototype.clone=function(){return new t(this.elements.slice())},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var r,o,i=this.elements,s=i[0],a=i[1],l=i[2],u=i[3],c=.5*t.width,p=.5*t.height,h=t.x+c,d=t.y+p;if(e){c-=e,p-=e;var f=Math.sqrt(s*s+l*l),g=Math.sqrt(a*a+u*u);r=Math.abs(c*s)+Math.abs(p*l)+Math.abs(f*e),o=Math.abs(c*a)+Math.abs(p*u)+Math.abs(g*e)}else r=Math.abs(c*s)+Math.abs(p*l),o=Math.abs(c*a)+Math.abs(p*u);return n||(n=new Or(0,0,0,0)),n.x=h*s+d*l+i[4]-r,n.y=h*a+d*u+i[5]-o,n.width=r+r,n.height=o+o,n},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return e?t.matrix.setElements(e instanceof t?e.elements:e):t.matrix.setIdentityElements(),t.matrix},t.matrix=new t,t}();function Sr(t){var e=t.constructor,n=e.className;if(!n)throw new Error("The "+e+" is missing the 'className' property.");return n+"-"+(e.id=(e.id||0)+1)}!function(t){t[t.All=0]="All",t[t.None=1]="None"}(qn||(qn={}));var Pr=function(){function t(){this.id=Sr(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Er,this.inverseMatrix=new Er,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=qn.All}return t.isNode=function(t){return!!t&&void 0!==t.matrix},t.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,r=0;r<n;r++)e[r]._setScene(t)},Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype._setParent=function(t){this._parent=t},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.countChildren=function(e){if(void 0===e&&(e=t.MAX_SAFE_INTEGER),e<=0)return 0;for(var n=this.children,r=n.length,o=r,i=0;i<r;i++)o+=n[i].countChildren(e-1);return o},t.prototype.append=function(e){t.isNode(e)&&(e=[e]);for(var n=e.length,r=0;r<n;r++){var o=e[r];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},t.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},t.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},t.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var r=this.children.indexOf(e);if(!(r>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(r,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),t.prototype.transformPoint=function(t,e){for(var n=Er.flyweight(this.matrix),r=this.parent;r;)n.preMultiplySelf(r.matrix),r=r.parent;return n.invertSelf().transformPoint(t,e)},t.prototype.inverseTransformPoint=function(t,e){for(var n=Er.flyweight(this.matrix),r=this.parent;r;)n.preMultiplySelf(r.matrix),r=r.parent;return n.transformPoint(t,e)},Object.defineProperty(t.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(t,e){return!1},t.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==qn.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var r=n.length-1;r>=0;r--){var o=n[r].pickNode(t,e);if(o)return o}else if(!this.isContainerNode)return this}},t.prototype.computeBBox=function(){},t.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},t.prototype.computeTransformMatrix=function(){var t,e,n=[0,0],r=n[0],o=n[1],i=this.scalingX,s=this.scalingY;1===i&&1===s?(t=0,e=0):(t=null===this.scalingCenterX?r:this.scalingCenterX,e=null===this.scalingCenterY?o:this.scalingCenterY);var a,l,u=this.rotation,c=Math.cos(u),p=Math.sin(u);0===u?(a=0,l=0):(a=null===this.rotationCenterX?r:this.rotationCenterX,l=null===this.rotationCenterY?o:this.rotationCenterY);var h=this.translationX,d=this.translationY,f=t*(1-i)-a,g=e*(1-s)-l;this.dirtyTransform=!1,this.matrix.setElements([c*i,p*i,-p*s,c*s,c*f-p*g+a+h,p*f+c*g+l+d]).inverseTo(this.inverseMatrix)},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),t.MAX_SAFE_INTEGER=Math.pow(2,53)-1,t}();function Tr(t,e){var n=Object.create(t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Rr(t,e){var n=Array.isArray(e)?e:e.split("."),r=t;return n.forEach((function(t){r=r[t]})),r}function kr(t,e){return!1!==e.clone&&e.isMergeableObject(t)?Ir(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function Ar(t,e,n){return t.concat(e).map((function(t){return kr(t,n)}))}function Dr(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function xr(t,e){try{return e in t}catch(n){return!1}}function Nr(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}(t)}function Ir(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Ar,n.isMergeableObject=n.isMergeableObject||Nr,n.cloneUnlessOtherwiseSpecified=kr;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Dr(t).forEach((function(e){r[e]=kr(t[e],n)})),Dr(e).forEach((function(o){(function(t,e){return xr(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(r[o]=xr(t,o)&&n.isMergeableObject(e[o])?function(t,e){if(!e.customMerge)return Ir;var n=e.customMerge(t);return"function"==typeof n?n:Ir}(o,n)(t[o],e[o],n):kr(e[o],n))})),r}(t,e,n):kr(e,n)}function Fr(t){return"object"==typeof t&&!Array.isArray(t)}var Mr,Lr,jr=(Lr=function(t,e){return(Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gr=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n._fillOpacity=1,n._strokeOpacity=1,n._fill=e.defaultStyles.fill,n._stroke=e.defaultStyles.stroke,n._strokeWidth=e.defaultStyles.strokeWidth,n._lineDash=e.defaultStyles.lineDash,n._lineDashOffset=e.defaultStyles.lineDashOffset,n._lineCap=e.defaultStyles.lineCap,n._lineJoin=e.defaultStyles.lineJoin,n._opacity=e.defaultStyles.opacity,n.onShadowChange=function(){n.dirty=!0},n._fillShadow=e.defaultStyles.fillShadow,n._strokeShadow=e.defaultStyles.strokeShadow,n}return jr(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,r=e.length;n<r;n++){var o=e[n];this[o]=t[o]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(this[n]=t[n])},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(t){this._fillOpacity!==t&&(this._fillOpacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(t){this._strokeOpacity!==t&&(this._strokeOpacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill!==t&&(this._fill=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!==t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),e.prototype.align=function(t,e,n){return null!=n?Math.floor(n)+Math.floor(e%1+n%1):Math.floor(e)+t},Object.defineProperty(e.prototype,"lineDash",{get:function(){return this._lineDash},set:function(t){var e=this._lineDash;if(e!==t){if(e&&t&&e.length===t.length){for(var n=!0,r=t.length,o=0;o<r;o++)if(e[o]!==t[o]){n=!1;break}if(n)return}this._lineDash=t,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(t){this._lineDashOffset!==t&&(this._lineDashOffset=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this._lineCap},set:function(t){this._lineCap!==t&&(this._lineCap=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){t=Math.min(1,Math.max(0,t)),this._opacity!==t&&(this._opacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(t){var e=this._fillShadow;e!==t&&(e&&e.removeEventListener("change",this.onShadowChange),t&&t.addEventListener("change",this.onShadowChange),this._fillShadow=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(t){var e=this._strokeShadow;e!==t&&(e&&e.removeEventListener("change",this.onShadowChange),t&&t.addEventListener("change",this.onShadowChange),this._strokeShadow=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.fillStroke=function(t){if(this.scene){var e=this.scene.canvas.pixelRatio||1;if(this.fill){t.fillStyle=this.fill,t.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*e,t.shadowOffsetY=n.yOffset*e,t.shadowBlur=n.blur*e),t.fill()}if(t.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){t.strokeStyle=this.stroke,t.globalAlpha=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin);var r=this.strokeShadow;r&&r.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*e,t.shadowOffsetY=r.yOffset*e,t.shadowBlur=r.blur*e),t.stroke()}}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Tr({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),e}(Pr),Vr=function(){function t(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var e=this.getDataURL("image/png"),n=this.document;if(navigator.msSaveOrOpenBlob){for(var r=atob(e.split(",")[1]),o=[],i=0,s=r.length;i<s;i++)o.push(r.charCodeAt(i));var a=new Blob([new Uint8Array(o)],{type:"image/png"});navigator.msSaveOrOpenBlob(a,t)}else{var l=n.createElement("a");l.href=e,l.download=t,l.style.display="none",n.body.appendChild(l),l.click(),n.body.removeChild(l)}},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=e||window.devicePixelRatio;n!==this.pixelRatio&&(t.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){var n=this.element,r=this.context,o=this.pixelRatio;n.width=Math.round(t*o),n.height=Math.round(e*o),n.style.width=t+"px",n.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(t,"has",{get:function(){return this._has?this._has:this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!/Firefox\/\d+(.\d)+/.test(window.navigator.userAgent),getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),t.measureText=function(t,e,n,r){var o=this.textMeasuringContext;return o.font=e,o.textBaseline=n,o.textAlign=r,o.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var r=n.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,r=n[e];if(r){var o=r[t];if(o)return o}else n[e]={};var i=this.svgText;i.style.font=e,i.textContent=t;var s=i.getBBox(),a={width:s.width,height:s.height};return n[e][t]=a,a},t.overrideScale=function(t,e){var n=0,r={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(t,n,r,o,i,s){this.$setTransform(t*e,n*e,r*e,o*e,i*e,s*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var o in r)r.hasOwnProperty(o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=r[o])},t.textSizeCache={},t}(),Wr=(Mr=function(t,e){return(Mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Br=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=e.defaultStyles.textAlign,n._textBaseline=e.defaultStyles.textBaseline,n._lineHeight=14,n}return Wr(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){var e=String(t);this._text!==e&&(this._text=e,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=[this.fontStyle||"",this.fontWeight||"",this.fontSize+"px",this.fontFamily].join(" ").trim()),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(t){this._dirtyFont!==t&&(this._dirtyFont=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){isFinite(t)||(t=10),this._fontSize!==t&&(this._fontSize=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return Vr.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){var t=Vr.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Or(this.x-t.actualBoundingBoxLeft,this.y-t.actualBoundingBoxAscent,t.width,t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},e.prototype.getApproximateBBox=function(){var t=Vr.getTextSize(this.text,this.font),e=this.x,n=this.y;switch(this.textAlign){case"end":case"right":e-=t.width;break;case"center":e-=t.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*t.height;break;case"middle":n-=.45*t.height;break;case"ideographic":n-=t.height;break;case"hanging":n-=.2*t.height;break;case"bottom":n-=t.height}return new Or(e,n,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return!!r&&r.containsPoint(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.fill,n=this.stroke,r=this.strokeWidth;t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline;var o=this.scene.canvas.pixelRatio||1;if(e){t.fillStyle=e,t.globalAlpha=this.opacity*this.fillOpacity;var i=this.fillShadow,s=this.text,a=this.x,l=this.y;i&&i.enabled&&(t.shadowColor=i.color,t.shadowOffsetX=i.xOffset*o,t.shadowOffsetY=i.yOffset*o,t.shadowBlur=i.blur*o),t.fillText(s,a,l)}if(n&&r){t.strokeStyle=n,t.lineWidth=r,t.globalAlpha=this.opacity*this.strokeOpacity;var u=this,c=u.lineDash,p=u.lineDashOffset,h=u.lineCap,d=u.lineJoin,f=u.strokeShadow;s=u.text,a=u.x,l=u.y,c&&t.setLineDash(c),p&&(t.lineDashOffset=p),h&&(t.lineCap=h),d&&(t.lineJoin=d),f&&f.enabled&&(t.shadowColor=f.color,t.shadowOffsetX=f.xOffset*o,t.shadowOffsetY=f.yOffset*o,t.shadowBlur=f.blur*o),t.strokeText(s,a,l)}this.dirty=!1}},e.className="Text",e.defaultStyles=Tr(Gr.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),e}(Gr),Hr=function(){return(Hr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},zr=function(){function t(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return t.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var r=this.allPropertyListeners,o=r.get(t);if(o||(o=new Map,r.set(t,o)),!o.has(e)){var i=new Set;o.set(e,i)}var s=o.get(e);s&&s.add(n)},t.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var r=this.allPropertyListeners.get(t);if(r)if(e){var o=r.get(e);o&&(o.delete(n),o.size||r.delete(e))}else r.clear()},t.prototype.notifyPropertyListeners=function(t,e,n){var r=this,o=this.allPropertyListeners.get(t);o&&o.forEach((function(o,i){o.forEach((function(o){return i.call(o,{type:t,source:r,value:n,oldValue:e})}))}))},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var r=this.allEventListeners,o=r.get(t);if(o||(o=new Map,r.set(t,o)),!o.has(e)){var i=new Set;o.set(e,i)}var s=o.get(e);s&&s.add(n)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var r=this.allEventListeners.get(t);if(r)if(e){var o=r.get(e);o&&(o.delete(n),o.size||r.delete(e))}else r.clear()},t.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach((function(t){var r=n.get(t);r&&r.forEach((function(n,r){n.forEach((function(n){return r.call(n,{type:t,source:e})}))}))}))},t.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach((function(n,r){n.forEach((function(n){return r.call(n,Hr(Hr({},t),{source:e}))}))}))},t.privateKeyPrefix="_",t}();function Ur(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){var r=zr.privateKeyPrefix+n,o=r+"Events";e[n]||(t&&(e[o]=t),Object.defineProperty(e,n,{set:function(t){var e=this[r];if(t!==e||"object"==typeof t&&null!==t){this[r]=t,this.notifyPropertyListeners(n,e,t);var i=this[o];i&&this.notifyEventListeners(i)}},get:function(){return this[r]},enumerable:!0,configurable:!0}))}}var Kr,Yr=(Kr=function(t,e){return(Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xr=function(t){function e(){var e=t.call(this)||this;e.node=new Br,e.enabled=!0,e.padding=new _r(10);var n=e.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=qn.None,e}return Yr(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.node.text},set:function(t){this.node.text!==t&&(this.node.text=t,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(t){this.node.fontStyle!==t&&(this.node.fontStyle=t,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(t){this.node.fontWeight!==t&&(this.node.fontWeight=t,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(t){this.node.fontSize!==t&&(this.node.fontSize=t,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(t){this.node.fontFamily!==t&&(this.node.fontFamily=t,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.node.fill},set:function(t){this.node.fill!==t&&(this.node.fill=t,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),qr([Ur("change")],e.prototype,"enabled",void 0),qr([Ur("change")],e.prototype,"padding",void 0),e}(zr),Qr=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Zr=function(t,e){var n=new Date,r=+t,o=+e;return function(t){return n.setTime(r*(1-t)+o*t),n}},Jr=function(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),s=new Array(r);for(n=0;n<o;++n)i[n]=to(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=i[n](t);return s}},$r=function(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=to(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}},to=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?(n=e,function(){return n}):("number"===r?Qr:e instanceof Date?Zr:Array.isArray(e)?Jr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?$r:Qr)(t,e)},eo=function(t){return t};function no(t){var e,n=t[0],r=t[t.length-1];return n>r&&(n=(e=[r,n])[0],r=e[1]),function(t){return Math.max(n,Math.min(r,t))}}var ro,oo=function(){function t(){this.unknown=void 0,this._clamp=eo,this._domain=[0,1],this._range=[0,1],this.transform=eo,this.untransform=eo,this._interpolate=to,this.rescale()}return Object.defineProperty(t.prototype,"clamp",{get:function(){return this._clamp!==eo},set:function(t){this._clamp=t?no(this.domain):eo},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,(function(t){return+t})),this._clamp!==eo&&(this._clamp=no(this.domain)),this.rescale()},t.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(t.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){Math.min(this.domain.length,this.range.length)>2||(this.piecewise=this.bimap),this.output=void 0,this.input=void 0},t.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n},t.prototype.bimap=function(t,e,n){var r,o,i=t[0],s=t[1],a=e[0],l=e[1];return s<i?(r=this.normalize(s,i),o=n(l,a)):(r=this.normalize(i,s),o=n(a,l)),function(t){return o(r(t))}},t.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},t.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Qr)),this._clamp(this.untransform(this.input(t)))},t}(),io=(ro=function(t,e){return(ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ro(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),so=function(t,e,n){var r=co(t,e,n);return function(t,e,n){void 0===n&&(n=1);for(var r=Math.abs(n),o=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,i=Math.pow(10,o),s=Math.max(0,Math.ceil((e-t)/n))||0,a=new yo(o,s),l=0;l<s;l++)a[l]=Math.round((t+n*l)*i)/i;return a}(t=Math.ceil(t/r)*r,e=Math.floor(e/r)*r+r/2,r)},ao=Math.sqrt(50),lo=Math.sqrt(10),uo=Math.sqrt(2);function co(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=ao?o*=10:i>=lo?o*=5:i>=uo&&(o*=2),e<t?-o:o}function po(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=ao?10:i>=lo?5:i>=uo?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=ao?10:i>=lo?5:i>=uo?2:1)}var ho,fo,go,yo=function(t){function e(e,n){void 0===n&&(n=0);var r=t.call(this,n)||this;return r.fractionDigits=e,r}return io(e,t),e}(Array),vo=(go=function(t,e){return(go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vo(e,t),e.prototype.ticks=function(t){void 0===t&&(t=10);var e=this._domain;return so(e[0],e[e.length-1],t)},e.prototype.nice=function(t){void 0===t&&(t=10);var e,n=this.domain,r=0,o=n.length-1,i=n[r],s=n[o];s<i&&(e=i,i=s,s=e,e=r,r=o,o=e),(e=po(i,s,t))>0?e=po(i=Math.floor(i/e)*e,s=Math.ceil(s/e)*e,t):e<0&&(e=po(i=Math.ceil(i*e)/e,s=Math.floor(s*e)/e,t)),e>0?(n[r]=Math.floor(i/e)*e,n[o]=Math.ceil(s/e)*e,this.domain=n):e<0&&(n[r]=Math.ceil(i*e)/e,n[o]=Math.floor(s*e)/e,this.domain=n)},e}(oo),Co=(fo=function(t,e){return(fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContainerNode=!0,e}return Co(e,t),e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){var t=1/0,n=-1/0,r=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach((function(i){if(i.visible){var s=i.computeBBox();if(s){if(!(i instanceof e)){i.dirtyTransform&&i.computeTransformMatrix();for(var a=Er.flyweight(i.matrix),l=i.parent;l;)a.preMultiplySelf(l.matrix),l=l.parent;a.transformBBox(s,0,s)}var u=s.x,c=s.y;u<t&&(t=u),c<r&&(r=c),u+s.width>n&&(n=u+s.width),c+s.height>o&&(o=c+s.height)}}})),new Or(t,r,n-t,o-r)},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);for(var e=this.children,n=e.length,r=0;r<n;r++){t.save();var o=e[r];o.visible&&o.render(t),t.restore()}},e.className="Group",e}(Pr),wo=function(){function t(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return t.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Pr.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},t.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},t}(),_o=function(){function t(t,e){this.groups=t,this.parents=e}return t.select=function(e){return new t([["function"==typeof e?e():e]],[void 0])},t.selectAll=function(e){return new t([null==e?[]:e],[void 0])},t.prototype.append=function(t){return this.select((function(e){return e.appendChild(new t)}))},t.prototype.appendFn=function(t){return this.select((function(e,n,r,o){return e.appendChild(t(e,n,r,o))}))},t.prototype.select=function(e){for(var n=this.groups,r=n.length,o=[],i=0;i<r;i++)for(var s=n[i],a=s.length,l=o[i]=new Array(a),u=0;u<a;u++){var c=s[u];if(c){var p=e(c,c.datum,u,s);p&&(p.datum=c.datum),l[u]=p}}return new t(o,this.parents)},t.prototype.selectByClass=function(t){return this.select((function(e){if(Pr.isNode(e))for(var n=e.children,r=n.length,o=0;o<r;o++){var i=n[o];if(i instanceof t)return i}}))},t.prototype.selectByTag=function(t){return this.select((function(e){if(Pr.isNode(e))for(var n=e.children,r=n.length,o=0;o<r;o++){var i=n[o];if(i.tag===t)return i}}))},t.prototype.selectAllByClass=function(t){return this.selectAll((function(e){var n=[];if(Pr.isNode(e))for(var r=e.children,o=r.length,i=0;i<o;i++){var s=r[i];s instanceof t&&n.push(s)}return n}))},t.prototype.selectAllByTag=function(t){return this.selectAll((function(e){var n=[];if(Pr.isNode(e))for(var r=e.children,o=r.length,i=0;i<o;i++){var s=r[i];s.tag===t&&n.push(s)}return n}))},t.prototype.selectNone=function(){return[]},t.prototype.selectAll=function(e){e||(e=this.selectNone);for(var n=[],r=[],o=this.groups,i=o.length,s=0;s<i;s++)for(var a=o[s],l=a.length,u=0;u<l;u++){var c=a[u];c&&(n.push(e(c,c.datum,u,a)),r.push(c))}return new t(n,r)},t.prototype.each=function(t){for(var e=this.groups,n=e.length,r=0;r<n;r++)for(var o=e[r],i=o.length,s=0;s<i;s++){var a=o[s];a&&t(a,a.datum,s,o)}return this},t.prototype.remove=function(){return this.each((function(t){if(Pr.isNode(t)){var e=t.parent;e&&e.removeChild(t)}}))},t.prototype.merge=function(e){for(var n=this.groups,r=e.groups,o=n.length,i=Math.min(o,r.length),s=new Array(o),a=0;a<i;a++)for(var l=n[a],u=r[a],c=l.length,p=s[a]=new Array(c),h=0;h<c;h++)p[h]=l[h]||u[h]||void 0;for(;a<o;a++)s[a]=n[a];return new t(s,this.parents)},t.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var r=t[n],o=r.length,i=0;i<o;i++){var s=r[i];if(s)return s}return null},t.prototype.attr=function(t,e){return this.each((function(n){n[t]=e})),this},t.prototype.attrFn=function(t,e){return this.each((function(n,r,o,i){n[t]=e(n,r,o,i)})),this},t.prototype.call=function(t){return t(this),this},Object.defineProperty(t.prototype,"size",{get:function(){var t=0;return this.each((function(){return t++})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=[];return this.each((function(e,n){return t.push(n)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enter",{get:function(){return new t(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exit",{get:function(){return new t(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),t.prototype.setDatum=function(t){return this.each((function(e){e.datum=t}))},Object.defineProperty(t.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),t.prototype.setData=function(e,n){if("function"!=typeof e){var r=e;e=function(){return r}}for(var o=this.groups,i=this.parents,s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;c++){var p=o[c],h=i[c];if(!h)throw new Error("Group #"+c+" has no parent: "+p);var d=p.length,f=e(h,h.datum,c,i),g=f.length,y=l[c]=new Array(g),v=a[c]=new Array(g),m=u[c]=new Array(d);n?this.bindKey(h,p,y,v,m,f,n):this.bindIndex(h,p,y,v,m,f);for(var C=0,b=0;C<g;C++){var w=y[C];if(w){C>=b&&(b=C+1);for(var _=void 0;!(_=v[b])&&b<g;)b++;w.next=_||null}}}var O=new t(a,i);return O.enterGroups=l,O.exitGroups=u,O},t.prototype.bindIndex=function(t,e,n,r,o,i){for(var s=e.length,a=i.length,l=0;l<a;l++)(u=e[l])?(u.datum=i[l],r[l]=u):n[l]=new wo(t,i[l]);for(;l<s;l++){var u;(u=e[l])&&(o[l]=u)}},t.prototype.bindKey=function(e,n,r,o,i,s,a){for(var l=n.length,u=s.length,c=new Array(l),p={},h=0;h<l;h++)(f=n[h])&&((d=c[h]=t.keyPrefix+a(f,f.datum,h,n))in p?i[h]=f:p[d]=f);for(h=0;h<u;h++){var d;(f=p[d=t.keyPrefix+a(e,s[h],h,s)])?(o[h]=f,f.datum=s[h],p[d]=void 0):r[h]=new wo(e,s[h])}for(h=0;h<l;h++){var f;(f=n[h])&&p[c[h]]===f&&(i[h]=f)}},t.keyPrefix="$",t}(),Oo=(ho=function(t,e){return(ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ho(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Eo=function(t){function e(){var e=t.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return Oo(e,t),Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1!==t&&(this._x1=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1!==t&&(this._y1=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2!==t&&(this._x2=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2!==t&&(this._y2=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return new Or(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.x1,n=this.y1,r=this.x2,o=this.y2;if(e===r){var i=Math.round(e)+Math.floor(this.strokeWidth)%2/2;e=i,r=i}else if(n===o){var s=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=s,o=s}t.beginPath(),t.moveTo(e,n),t.lineTo(r,o),this.fillStroke(t),this.dirty=!1},e.className="Line",e.defaultStyles=Tr(Gr.defaultStyles,{fill:void 0,strokeWidth:1}),e}(Gr),So=2*Math.PI;function Po(t){return t%=So,(t+=So)%So}function To(t){return t/180*Math.PI}var Ro=Math.sign?Math.sign:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1};function ko(t,e,n,r,o,i,s,a){var l=(n-t)*(a-i)-(r-e)*(s-o);if(0===l)return null;var u=((s-o)*(e-i)-(t-o)*(a-i))/l,c=((n-t)*(e-i)-(r-e)*(t-o))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:t+u*(n-t),y:e+u*(r-e)}:null}function Ao(t,e,n,r,o,i,s,a,l,u,c,p){for(var h=[],d=u-p,f=c-l,g=l*(p-u)-u*(c-l),y=Do(t,n,o,s),v=Do(e,r,i,a),m=function(t,e,n,r){if(0===t)return function(t,e,n){if(0===t)return function(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}(e,n);var r=e*e-4*t*n,o=[];if(0===r){var i=-e/(2*t);i>=0&&i<=1&&o.push(i)}else if(r>0){var s=Math.sqrt(r),a=(-e-s)/(2*t),l=(-e+s)/(2*t);a>=0&&a<=1&&o.push(a),l>=0&&l<=1&&o.push(l)}return o}(e,n,r);var o=e/t,i=n/t,s=(3*i-o*o)/9,a=(9*o*i-r/t*27-2*o*o*o)/54,l=s*s*s+a*a,u=[];if(l>=0){var c=Math.sqrt(l),p=Ro(a+c)*Math.pow(Math.abs(a+c),1/3),h=Ro(a-c)*Math.pow(Math.abs(a-c),1/3),d=Math.abs(Math.sqrt(3)*(p-h)/2),f=-1/3*o+(p+h);if(f>=0&&f<=1&&u.push(f),0===d){var g=-1/3*o-(p+h)/2;g>=0&&g<=1&&u.push(g)}}else{var y=Math.acos(a/Math.sqrt(-s*s*s)),v=1/3*o,m=2*Math.sqrt(-s),C=m*Math.cos(1/3*y)-v,b=m*Math.cos(1/3*(y+2*Math.PI))-v,w=m*Math.cos(1/3*(y+4*Math.PI))-v;C>=0&&C<=1&&u.push(C),b>=0&&b<=1&&u.push(b),w>=0&&w<=1&&u.push(w)}return u}(d*y[0]+f*v[0],d*y[1]+f*v[1],d*y[2]+f*v[2],d*y[3]+f*v[3]+g),C=0;C<m.length;C++){var b,w=m[C],_=w*w,O=w*_,E=y[0]*O+y[1]*_+y[2]*w+y[3],S=v[0]*O+v[1]*_+v[2]*w+v[3];(b=l!==c?(E-l)/(c-l):(S-u)/(p-u))>=0&&b<=1&&h.push({x:E,y:S})}return h}function Do(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}var xo,No=function(){function t(){this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.closePath()},t.prototype.arcTo=function(t,e,n,r,o,i,s){var a=this.xy;if(a){t<0&&(t=-t),e<0&&(e=-e);var l=a[0],u=a[1],c=(l-i)/2,p=(u-s)/2,h=Math.sin(n),d=Math.cos(n),f=d*c+h*p,g=-h*c+d*p,y=f/t,v=g/e,m=y*y+v*v,C=(l+i)/2,b=(u+s)/2,w=0,_=0;m>=1?(t*=m=Math.sqrt(m),e*=m):(m=Math.sqrt(1/m-1),r===o&&(m=-m),C+=d*(w=m*t*v)-h*(_=-m*e*y),b+=h*w+d*_);var O=Math.atan2((g-_)/e,(f-w)/t),E=Math.atan2((-g-_)/e,(-f-w)/t)-O;this.cubicArc(C,b,t,e,n,O,O+E,1-o)}},t.cubicArc=function(t,e,n,r,o,i,s,a,l,u){if(u){var c=a;a=l,l=c}var p=e.length,h=.5522847498307935,d=Math.sin(a),f=Math.cos(a),g=Math.sin(s),y=Math.cos(s),v=Math.PI/2,m=y*f*o-g*d*i,C=g*f*o+y*d*i,b=-y*d*o-g*f*i,w=-g*d*o+y*f*i;for((l-=a)<0&&(l+=2*Math.PI),t.push("M"),e.push(m+n,C+r);l>=v;){l-=v,t.push("C");var _=b+n;e.push(m+b*h+n,C+w*h+r,m*h+b+n,C*h+w+r,Math.abs(_)<1e-8?0:_,w+r),c=m,m=b,b=-c,c=C,C=w,w=-c}if(l){var O=4/3*Math.tan(l/4),E=Math.sin(l),S=Math.cos(l),P=S+O*E,T=E-O*S;t.push("C"),_=m*S+b*E+n,e.push(m+b*O+n,C+w*O+r,m*P+b*T+n,C*P+w*T+r,Math.abs(_)<1e-8?0:_,C*S+w*E+r)}if(u)for(var R=p,k=e.length-2;R<k;R+=2,k-=2)c=e[R],e[R]=e[k],e[k]=c,c=e[R+1],e[R+1]=e[k+1],e[k+1]=c},t.prototype.cubicArc=function(e,n,r,o,i,s,a,l){var u=this.commands,c=this.params,p=u.length;t.cubicArc(u,c,e,n,r,o,i,s,a,l);var h=c[c.length-2],d=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=h,this.xy[1]=d):this.xy=[h,d]},t.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var r=[],o=n-2,i=0;i<o;i+=2)r.push((1-e)*t[i]+e*t[i+2],(1-e)*t[i+1]+e*t[i+3]);return this.deCasteljau(r,e)},t.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var r=1/e,o=r;o<=1;o+=r){var i=this.deCasteljau(t,o);this.lineTo(i[0],i[1])}},t.prototype.quadraticCurveTo=function(t,e,n,r){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+r)/3,n,r)},t.prototype.cubicCurveTo=function(t,e,n,r,o,i){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,r,o,i),this.xy[0]=o,this.xy[1]=i},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},t.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,r=this.params,o=n.length,i=-1e4,s=-1e4,a=NaN,l=NaN,u=0,c=0,p=0,h=0,d=0;h<o;h++)switch(n[h]){case"M":isNaN(a)||ko(a,l,u,c,i,s,t,e)&&p++,a=u=r[d++],l=c=r[d++];break;case"L":ko(u,c,u=r[d++],c=r[d++],i,s,t,e)&&p++;break;case"C":p+=Ao(u,c,r[d++],r[d++],r[d++],r[d++],u=r[d++],c=r[d++],i,s,t,e).length;break;case"Z":isNaN(a)||ko(a,l,u,c,i,s,t,e)&&p++}return p%2==1},t.fromString=function(e){var n=new t;return n.setFromString(e),n},t.parseSvgPath=function(e){return e.trim().split(t.splitCommandsRe).map((function(e){var n=e.match(t.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}}))},t.prettifySvgPath=function(e){return t.parseSvgPath(e).map((function(t){return t.command+t.params.join(",")})).join("\n")},t.prototype.setFromString=function(e){var n,r,o,i,s,a=this;function l(){s.match(t.quadraticCommandRe)||(o=n,i=r)}function u(){s.match(t.cubicCommandRe)||(o=n,i=r)}this.clear(),t.parseSvgPath(e).forEach((function(t){var e=t.params,c=e.length,p=0;switch(t.command){case"M":for(a.moveTo(n=e[p++],r=e[p++]);p<c;)a.lineTo(n=e[p++],r=e[p++]);break;case"m":for(a.moveTo(n+=e[p++],r+=e[p++]);p<c;)a.lineTo(n+=e[p++],r+=e[p++]);break;case"L":for(;p<c;)a.lineTo(n=e[p++],r=e[p++]);break;case"l":for(;p<c;)a.lineTo(n+=e[p++],r+=e[p++]);break;case"C":for(;p<c;)a.cubicCurveTo(e[p++],e[p++],o=e[p++],i=e[p++],n=e[p++],r=e[p++]);break;case"c":for(;p<c;)a.cubicCurveTo(n+e[p++],r+e[p++],o=n+e[p++],i=r+e[p++],n+=e[p++],r+=e[p++]);break;case"S":for(u();p<c;)a.cubicCurveTo(n+n-o,r+r-i,o=e[p++],i=e[p++],n=e[p++],r=e[p++]);break;case"s":for(u();p<c;)a.cubicCurveTo(n+n-o,r+r-i,o=n+e[p++],i=r+e[p++],n+=e[p++],r+=e[p++]);break;case"Q":for(;p<c;)a.quadraticCurveTo(o=e[p++],i=e[p++],n=e[p++],r=e[p++]);break;case"q":for(;p<c;)a.quadraticCurveTo(o=n+e[p++],i=r+e[p++],n+=e[p++],r+=e[p++]);break;case"T":for(l();p<c;)a.quadraticCurveTo(o=n+n-o,i=r+r-i,n=e[p++],r=e[p++]);break;case"t":for(l();p<c;)a.quadraticCurveTo(o=n+n-o,i=r+r-i,n+=e[p++],r+=e[p++]);break;case"A":for(;p<c;)a.arcTo(e[p++],e[p++],e[p++]*Math.PI/180,e[p++],e[p++],n=e[p++],r=e[p++]);break;case"a":for(;p<c;)a.arcTo(e[p++],e[p++],e[p++]*Math.PI/180,e[p++],e[p++],n+=e[p++],r+=e[p++]);break;case"Z":case"z":a.closePath();break;case"H":for(;p<c;)a.lineTo(n=e[p++],r);break;case"h":for(;p<c;)a.lineTo(n+=e[p++],r);break;case"V":for(;p<c;)a.lineTo(n,r=e[p++]);break;case"v":for(;p<c;)a.lineTo(n,r+=e[p++])}s=t.command}))},t.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,r=[],o=0,i=0;o<n;o++)switch(t[o]){case"M":r.push("M"+e[i++]+","+e[i++]);break;case"L":r.push("L"+e[i++]+","+e[i++]);break;case"C":r.push("C"+e[i++]+","+e[i++]+" "+e[i++]+","+e[i++]+" "+e[i++]+","+e[i++]);break;case"Z":r.push("Z")}return r.join("")},t.prototype.toPrettyString=function(){return t.prettifySvgPath(this.toString())},t.prototype.toSvg=function(){return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toDebugSvg=function(){var e=t.prettifySvgPath(this.toString());return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+e+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toCubicPaths=function(){var t,e,n,r,o,i=[],s=this.params,a=0;return this.commands.forEach((function(l){switch(l){case"M":t=[e=r=s[a++],n=o=s[a++]],i.push(t);break;case"L":var u=s[a++],c=s[a++];t.push((r+r+u)/3,(o+o+c)/3,(r+u+u)/3,(o+c+c)/3,r=u,o=c);break;case"C":t.push(s[a++],s[a++],s[a++],s[a++],r=s[a++],o=s[a++]);break;case"Z":t.push((r+r+e)/3,(o+o+n)/3,(r+e+e)/3,(o+n+n)/3,r=e,o=n)}})),i},t.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},t.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,t.matchParamsRe=/-?[0-9]*\.?\d+/g,t.quadraticCommandRe=/[QqTt]/,t.cubicCommandRe=/[CcSs]/,t.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',t.xmlns="http://www.w3.org/2000/svg",t}(),Io=(xo=function(t,e){return(xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new No,e._dirtyPath=!0,e._svgPath="",e}return Io(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgPath",{get:function(){return this._svgPath},set:function(t){this._svgPath!==t&&(this._svgPath=t,this.path.setFromString(t),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(t){var e=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),e.appendPath(this.path),this.fillStroke(t),this.dirty=!1},e.className="Path",e}(Gr);function Mo(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function Lo(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}var jo,Go,Vo=(Go=function(t,e){return(Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(jo||(jo={}));var Wo,Bo=function(t){function e(){var e=t.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=2*Math.PI,e._counterClockwise=!1,e._type=jo.Open,e.restoreOwnStyles(),e}return Vo(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusX",{get:function(){return this._radiusX},set:function(t){this._radiusX!==t&&(this._radiusX=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusY",{get:function(){return this._radiusY},set:function(t){this._radiusY!==t&&(this._radiusY=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){this._startAngle!==t&&(this._startAngle=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this._endAngle},set:function(t){this._endAngle!==t&&(this._endAngle=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPie",{get:function(){return Mo(Po(this.startAngle),Po(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(t){this._counterClockwise!==t&&(this._counterClockwise=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===jo.Chord?t.closePath():this.type!==jo.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new Or(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return this.type!==jo.Open&&r.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=Tr(Gr.defaultStyles,{lineWidth:1,fillStyle:null}),e}(Fo);!function(t){t[t.Tick=0]="Tick",t[t.GridLine=1]="GridLine"}(Wo||(Wo={}));var Ho,zo,Uo,Ko=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},Yo=function(){function t(){this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1}return Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),t}(),qo=function(){function t(t){this.id=Sr(this),this.lineNode=new Eo,this.group=new bo,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new Ko,this.label=new Yo,this.translation={x:0,y:0},this.rotation=0,this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.scale=t,this.requestedRange=t.range.slice(),this.groupSelection=_o.select(this.group).selectAll(),this.label.onFormatChange=this.onTickFormatChange.bind(this),this.group.append(this.lineNode),this.onTickFormatChange()}return t.prototype.getMeta=function(){},t.prototype.updateRange=function(){var t=this.requestedRange,e=this.visibleRange,n=(t[1]-t[0])/(e[1]-e[0]),r=t[0]-n*e[0];this.scale.range=[r,r+n]},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=this.range;return t+e<r[0]-n?-1:t>r[1]+n?1:0},Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=t[0],n=t[1];e=Math.max(0,e),n=Math.min(1,n),e=Math.min(e,n),n=Math.max(e,n),this._visibleRange=[e,n],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice()},enumerable:!0,configurable:!0}),t.prototype.onTickFormatChange=function(t){t?this.scale.tickFormat&&(this.tickFormatter=this.scale.tickFormat(10,t)):this.tickFormatter=this.scale.tickFormat?this.scale.tickFormat(10,void 0):void 0},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.group.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.group.appendChild(t.node)),this._title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),t.prototype.update=function(){var t=this,e=this,n=e.group,r=e.scale,o=e.tick,i=e.label,s=e.gridStyle,a=e.requestedRange,l=Math.min(a[0],a[1]),u=Math.max(a[0],a[1]),c=To(this.rotation),p=i.parallel,h=Po(To(i.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=c;var d=(r.bandwidth||0)/2,f=i.mirrored?1:-1,g=Po(c),y=!h&&g>=0&&g<=Math.PI?-1:1,v=Po(c-Math.PI/2),m=!h&&v>=0&&v<=Math.PI?-1:1,C=h>=0&&h<=Math.PI?-1:1,b=r.ticks(this.tick.count),w=this.groupSelection.setData(b);w.exit.remove();var _=w.enter.append(bo);_.append(Eo).each((function(t){return t.tag=Wo.Tick})),this.gridLength&&(this.radialGrid?_.append(Bo).each((function(t){return t.tag=Wo.GridLine})):_.append(Eo).each((function(t){return t.tag=Wo.GridLine}))),_.append(Br);var O,E=w.merge(_);if(E.attrFn("translationY",(function(t,e){return Math.round(r.convert(e)+d)})).attrFn("visible",(function(t){return t.translationY>=l&&t.translationY<=u})),E.selectByTag(Wo.Tick).each((function(t){t.strokeWidth=o.width,t.stroke=o.color})).attr("x1",f*o.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&s.length){var S=s.length,P=void 0;if(this.radialGrid){var T=(O=To(this.gridLength),O%=So,(O+=So)!==So&&(O%=So),O);P=E.selectByTag(Wo.GridLine).each((function(t,e){var n=Math.round(r.convert(e)+d);t.centerX=0,t.centerY=r.range[0]-n,t.endAngle=T,t.radiusX=n,t.radiusY=n}))}else P=E.selectByTag(Wo.GridLine).each((function(e){e.x1=0,e.x2=-f*t.gridLength,e.y1=0,e.y2=0,e.visible=Math.abs(e.parent.translationY-r.range[0])>1}));P.each((function(t,e,n){var r=s[n%S];t.stroke=r.stroke,t.strokeWidth=o.width,t.lineDash=r.lineDash,t.fill=void 0}))}var R=this.tickFormatter,k=this.getMeta(),A=b.fractionDigits>=0?b.fractionDigits:0,D=E.selectByClass(Br).each((function(t,e,n){t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.textBaseline=p&&!h?f*y==-1?"hanging":"bottom":"middle",t.text=i.formatter?i.formatter({value:A>=0?e:String(e),index:n,fractionDigits:A,formatter:R,axis:k}):A?e.toFixed(A):R?R(e):String(e),t.textAlign=p?h?f*C==-1?"end":"start":"center":f*m==-1?"end":"start"})),x=f*(o.size+i.padding),N=p?y*Math.PI/2:-1===m?Math.PI:0;D.each((function(t){t.x=x,t.rotationCenterX=x,t.rotation=N+h})),this.groupSelection=E;var I=this.lineNode;I.x1=0,I.x2=0,I.y1=a[0],I.y2=a[1],I.strokeWidth=this.line.width,I.stroke=this.line.color,I.visible=b.length>0;var F=this.title,M=!1;if(F&&F.enabled){M=!0;var L=F.padding.bottom,j=F.node,G=this.computeBBox({excludeTitle:!0}),V=-1===f&&g>Math.PI&&g<2*Math.PI?-1:1;j.rotation=V*f*Math.PI/2,j.x=V*f*(I.y1+I.y2)/2,j.x=V*f*(a[0]+a[1])/2,j.y=-1===f?V*(-L-G.width+Math.max(G.x+G.width,0)):-L-G.width-Math.min(G.x,0),j.textBaseline=1===V?"bottom":"top"}F&&(F.node.visible=M)},t.prototype.computeBBox=function(t){var e=this.title,n=this.lineNode,r=this.groupSelection.selectByClass(Br),o=1/0,i=-1/0,s=1/0,a=-1/0;if(r.each((function(t){t.computeTransformMatrix();var e=Er.flyweight(t.matrix),n=t.parent;n.computeTransformMatrix(),e.preMultiplySelf(n.matrix);var r=t.computeBBox();if(r){var l=e.transformBBox(r);o=Math.min(o,l.x),i=Math.max(i,l.x+l.width),s=Math.min(s,l.y),a=Math.max(a,l.y+l.height)}})),e&&e.enabled&&(!t||!t.excludeTitle)){var l=e.node;l.computeTransformMatrix();var u=Er.flyweight(l.matrix),c=l.computeBBox();if(c){var p=u.transformBBox(c);o=Math.min(o,p.x),i=Math.max(i,p.x+p.width),s=Math.min(s,p.y),a=Math.max(a,p.y+p.height)}}return o=Math.min(o,0),i=Math.max(i,0),s=Math.min(s,n.y1,n.y2),a=Math.max(a,n.y1,n.y2),new Or(o,s,i-o,a-s)},t}(),Xo=(Uo=function(t,e){return(Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Qo(t){return t===Ho.X?Ho.Y:Ho.X}!function(t){t.X="x",t.Y="y"}(Ho||(Ho={})),function(t){t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left",t.Angle="angle",t.Radius="radius"}(zo||(zo={}));var Zo,Jo,$o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys=[],e.boundSeries=[],e}return Xo(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),e.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){if(this._position!==t)switch(this._position=t,t){case zo.Top:this.direction=Ho.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case zo.Right:this.direction=Ho.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case zo.Bottom:this.direction=Ho.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case zo.Left:this.direction=Ho.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),e}(qo),ti=(Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ei=function(t){function e(){var e=t.call(this,new mo)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamp=!0,e}return ti(e,t),Object.defineProperty(e.prototype,"nice",{get:function(){return this._nice},set:function(t){this._nice!==t&&(this._nice=t,t&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain},set:function(t){var e=this.min,n=this.max;t=[isNaN(e)?t[0]:e,isNaN(n)?t[1]:n],this.scale.domain=t,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min!==t&&(this._min=t,isNaN(t)||(this.scale.domain=[t,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max!==t&&(this._max=t,isNaN(t)||(this.scale.domain=[this.scale.domain[0],t]))},enumerable:!0,configurable:!0}),e.className="NumberAxis",e.type="number",e}($o),ni=function(){function t(){this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),t.prototype.ticks=function(){return this._domain},t.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=this._range,r=n[0],o=n[1],i=o<r;i&&(r=(t=[o,r])[0],o=t[1]);var s=(o-r)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(s=Math.floor(s)),r+=(o-r-s*(e-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(r=Math.round(r),this._bandwidth=Math.round(this._bandwidth));for(var a=[],l=0;l<e;l++)a.push(r+s*l);this.ordinalRange=i?a.reverse():a}},t}(),ri=(Zo=function(t,e){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oi=function(t){function e(){var e=new ni;return e.paddingInner=.2,e.paddingOuter=.3,t.call(this,e)||this}return ri(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(t){this.scale.paddingInner=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!0,configurable:!0}),e.className="CategoryAxis",e.type="category",e}($o);function ii(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}}function si(t){for(var e,n,r,o=t.length,i=-1;++i<o;)if(null!=(e=t[i])&&e>=e&&isFinite(e))for(n=r=e;++i<o;)null!=(e=t[i])&&isFinite(e)&&(n>e&&(n=e),r<e&&(r=e));return void 0===n||void 0===r?void 0:[n,r]}function ai(t){var e=si(t);if(void 0!==e){var n=e[0],r=e[1],o=n instanceof Date?n.getTime():n,i=r instanceof Date?r.getTime():r;return"number"==typeof o&&isFinite(o)&&"number"==typeof i&&isFinite(i)?[o,i]:void 0}}function li(t){for(var e=0,n=0,r=0,o=t;r<o.length;r++){var i=o[r];i<0?e+=i:n+=i}return{min:e,max:n}}function ui(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var r=[],o=t.length;if(o)for(var i=0;i<n;i++)r.push(t[(e+i)%o]);return r}var ci=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,n){return n!==t.number})):[]},t}();function pi(t,e,n){var r=n/(e.number-t.number);e.change-=r,e.shift+=n,t.change+=r,e.prelim+=n,e.mod+=n}function hi(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}var di,fi,gi=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),r=n.x,o=n.y;r>this.right&&(this.right=r),r<this.left&&(this.left=r),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},t}(),yi=function(){function t(){this.dimensions=new gi,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,r,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=!1);var i=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,u=1;t>0&&i&&(l=t/i/((a.right-a.left)/i),o&&(l=-l)),e>0&&s&&(u=e/s/((a.bottom-a.top)/s));var c=new gi;this.nodes.forEach((function(t){t.screenX=t.x*l,t.screenY=t.y*u,c.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var p=-c.left,h=-c.top;this.nodes.forEach((function(t){t.screenX+=p+n,t.screenY+=h+r}))},t}(),vi=(fi=function(t,e){return(fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return vi(e,t),e}(Yo),Ci=function(t){function e(){var e=t.call(this,new ni)||this;e.id=Sr(e),e.tickScale=new ni,e.group=new bo,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new mi,e.labelColor="rgba(87, 87, 87, 1)";var n=e.group,r=e.scale,o=e.tickScale;return r.paddingOuter=.1,r.paddingInner=2*r.paddingOuter,e.requestedRange=r.range.slice(),o.paddingInner=1,o.paddingOuter=0,e.gridLineSelection=_o.select(n).selectAll(),e.axisLineSelection=_o.select(n).selectAll(),e.separatorSelection=_o.select(n).selectAll(),e.labelSelection=_o.select(n).selectAll(),e}return vi(e,t),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain},set:function(t){this.scale.domain=t;var e,n,r=function(t,e){void 0===e&&(e=!0);var n=new ci,r=0;return e&&t.forEach((function(t){return r=Math.max(r,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<r;)t.labels.unshift("");!function(t,e){var n=e.labels.slice().reverse(),r=n.length-1;n.forEach((function(e,n){var o=t.children,i=ii(o,(function(t){return t.label===e})),s=n!==r;if(i&&s)t=i;else{var a=new ci(e,t);a.number=o.length,o.push(a),s&&(t=a)}}))}(n,t)})),n}(t);this.tickTreeLayout=(e=r,n=new yi,function t(e,n){var r=e.children;if(r.length){var o=r[0];r.forEach((function(e){t(e,n),o=function(t,e,n){var r=t.getLeftSibling();if(r){for(var o=t,i=t,s=r,a=i.getLeftmostSibling(),l=i.mod,u=o.mod,c=s.mod,p=a.mod;s.nextRight()&&i.nextLeft();){s=s.nextRight(),i=i.nextLeft(),a=a.nextLeft(),(o=o.nextRight()).ancestor=t;var h=s.prelim+c-(i.prelim+l)+n;h>0&&(pi(hi(s,t,e),t,h),l+=h,u+=h),c+=s.mod,l+=i.mod,p+=a.mod,u+=o.mod}s.nextRight()&&!o.nextRight()?(o.thread=s.nextRight(),o.mod+=c-u):(i.nextLeft()&&!a.nextLeft()&&(a.thread=i.nextLeft(),a.mod+=l-p),e=t)}return e}(e,o,n)})),function(t){var e=t.children;if(e)for(var n=0,r=0,o=e.length-1;o>=0;o--){var i=e[o];i.prelim+=n,i.mod+=n,n+=i.shift+(r+=i.change)}}(e);var i=(r[0].prelim+r[r.length-1].prelim)/2;(s=e.getLeftSibling())?(e.prelim=s.prelim+n,e.mod=e.prelim-i):e.prelim=i}else{var s=e.getLeftSibling();e.prelim=s?s.prelim+n:0}}(e,1),function t(e,n,r){e.x=e.prelim+n,e.y=e.depth,r.update(e),e.children.forEach((function(o){return t(o,n+e.mod,r)}))}(e,-e.prelim,n),function t(e){var n=e.children,r=0;n.forEach((function(e){t(e),e.children.length?r+=e.leafCount:r++})),e.leafCount=r,n.length?(e.subtreeLeft=n[0].subtreeLeft,e.subtreeRight=n[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}(e),n);var o=t.slice();o.push(""),this.tickScale.domain=o,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),e.prototype.updateRange=function(){var t=this.requestedRange,e=this.visibleRange,n=(t[1]-t[0])/(e[1]-e[0]),r=t[0]-n*e[0];this.tickScale.range=this.scale.range=[r,r+n],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,n=this.tickTreeLayout,r=this.lineHeight;n&&n.resize(Math.abs(e[1]-e[0]),n.depth*r,(Math.min(e[0],e[1])||0)+(t.bandwidth||0)/2,-n.depth*r,e[1]-e[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t=this,e=this,n=e.group,r=e.scale,o=e.label,i=e.tickScale,s=e.requestedRange,a=r.range[0],l=r.range[1],u=Math.abs(l-a)/r.domain.length||0,c=o.parallel,p=To(this.rotation),h=Math.abs(Math.cos(p))<1e-8,d=Po(To(this.label.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=p;var f=this.title;f&&(f.node.visible=!1);var g=this.lineHeight,y=this.tickTreeLayout,v=r.ticks(),m=y?y.nodes:[],C=!!y&&y.depth>1,b=i.ticks(),w=o.mirrored?1:-1,_=Po(p),O=!d&&_>=0&&_<=Math.PI?-1:1,E=Po(p-Math.PI/2),S=!d&&E>=0&&E<=Math.PI?-1:1,P=this.gridLineSelection.setData(this.gridLength?b:[]);P.exit.remove();var T=P.enter.append(Eo),R=P.merge(T),k=this.labelSelection.setData(m);k.exit.remove();var A=k.enter.append(Br),D=k.merge(A),x=o.formatter,N=0;D.each((function(t,e,n){t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.fill=o.color,t.textBaseline=-1===O?"bottom":"hanging",t.textAlign="center",t.translationX=e.screenY-.25*o.fontSize,t.translationY=e.screenX,0===n?f&&f.enabled&&v.length>0?(t.visible=!0,t.text=f.text,t.fontSize=f.fontSize,t.fontStyle=f.fontStyle,t.fontWeight=f.fontWeight,t.fontFamily=f.fontFamily,t.textBaseline="hanging"):t.visible=!1:(t.text=x?x({value:String(e.label),index:n}):String(e.label),t.visible=e.screenX>=s[0]&&e.screenX<=s[1]);var r=t.computeBBox();r&&r.width>N&&(N=r.width)}));var I=w*o.padding,F=c?O*Math.PI/2:-1===S?Math.PI:0,M=this.label.grid,L=[];D.each((function(e,n,r){if(e.x=I,e.rotationCenterX=I,n.children.length?(e.translationX-=N-g+t.label.padding,e.rotation=h?F:-Math.PI/2):(e.rotation=d,e.textAlign="end",e.textBaseline="middle"),n.parent&&C){var o=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var i=-N-2*t.label.padding+n.screenY;L.push({y:o,x1:i+g,x2:i,toString:function(){return String(r)}})}else(n.number!==n.children.length-1||M)&&L.push({y:o,x1:0,x2:-N-2*t.label.padding,toString:function(){return String(r)}})}}));var j=0;L.forEach((function(t){return j=Math.min(j,t.x2)})),this.longestSeparatorLength=Math.abs(j),L.push({y:Math.max(a,l),x1:0,x2:j,toString:function(){return String(L.length)}});var G=this.separatorSelection.setData(L);G.exit.remove();var V=G.enter.append(Eo),W=G.merge(V);this.separatorSelection=W,W.each((function(e,n,r){e.x1=n.x1,e.x2=n.x2,e.y1=n.y,e.y2=n.y,e.visible=n.y>=s[0]-1e-7&&n.y<=s[1]+1e-7,e.stroke=t.tick.color,e.fill=void 0,e.strokeWidth=1})),this.gridLineSelection=R,this.labelSelection=D;for(var B=y?y.depth+1:1,H=[],z=0;z<B;z++)H.push(z);var U=this.axisLineSelection.setData(H);U.exit.remove();var K=U.enter.append(Eo),Y=U.merge(K);if(this.axisLineSelection=Y,Y.each((function(e,n,r){var o=r>0?-N-2*t.label.padding-(r-1)*g:0;e.x1=o,e.x2=o,e.y1=s[0],e.y2=s[1],e.strokeWidth=t.line.width,e.stroke=t.line.color,e.visible=v.length>0&&(0===r||M&&C)})),this.gridLength){var q=this.gridStyle,X=q.length;R.each((function(e,n,r){var o=Math.round(i.convert(n));e.x1=0,e.x2=-w*t.gridLength,e.y1=o,e.y2=o,e.visible=o>=s[0]&&o<=s[1]&&Math.abs(e.parent.translationY-a)>1;var l=q[r%X];e.stroke=l.stroke,e.strokeWidth=t.tick.width,e.lineDash=l.lineDash,e.fill=void 0}))}},e.prototype.computeBBox=function(t){var e=!t||!t.excludeTitle,n=1/0,r=-1/0,o=1/0,i=-1/0;return this.labelSelection.each((function(t,s,a){if(a>0||e){t.computeTransformMatrix();var l=Er.flyweight(t.matrix),u=t.computeBBox();if(u){var c=l.transformBBox(u);n=Math.min(n,c.x),r=Math.max(r,c.x+c.width),o=Math.min(o,c.y),i=Math.max(i,c.y+c.height)}}})),new Or(n,o,Math.max(r-n,this.longestSeparatorLength),i-o)},e.className="GroupedCategoryAxis",e.type="groupedCategory",e}($o),bi=(di=function(t,e){return(di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}di(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wi=new Date,_i=new Date,Oi=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i._count=r,i._field=o,i}return bi(e,t),e.prototype.count=function(t,e){return wi.setTime(+t),_i.setTime(+e),this._floor(wi),this._floor(_i),Math.floor(this._count(wi,_i))},e.prototype.every=function(t){var e,n=this;if(t=Math.floor(t),isFinite(t)&&t>0)if(t>1){var r=this._field;e=this.filter(r?function(e){return r(e)%t==0}:function(e){return n.count(0,e)%t==0})}else e=this;return e},e}(function(){function t(t,e){this._floor=t,this._offset=e}return t.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},t.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},t.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),r=+t;return r-e.getTime()<n.getTime()-r?e:n},t.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},t.prototype.range=function(t,e,n){void 0===n&&(n=1);var r,o=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return o;do{r=new Date(+t),o.push(r),this._offset(t,n),this._floor(t)}while(r<t&&t<e);return o},t.prototype.filter=function(e){var n=this;return new t((function(t){if(t>=t)for(;n._floor(t),!e(t);)t.setTime(t.getTime()-1);return t}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)do{n._offset(t,-1)}while(!e(t));else for(;--r>=0;)do{n._offset(t,1)}while(!e(t));return t}))},t}()),Ei=new Oi((function(t){return t}),(function(t,e){t.setTime(t.getTime()+e)}),(function(t,e){return e.getTime()-t.getTime()})),Si=new Oi((function(t){t.setTime(t.getTime()-t.getMilliseconds())}),(function(t,e){t.setTime(t.getTime()+1e3*e)}),(function(t,e){return(e.getTime()-t.getTime())/1e3})),Pi=new Oi((function(t){t.setTime(t.getTime()-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(t.getTime()+6e4*e)}),(function(t,e){return(e.getTime()-t.getTime())/6e4}),(function(t){return t.getMinutes()})),Ti=new Oi((function(t){t.setTime(t.getTime()-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(t.getTime()+36e5*e)}),(function(t,e){return(e.getTime()-t.getTime())/36e5}),(function(t){return t.getHours()})),Ri=new Oi((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){var n=e.getTimezoneOffset()-t.getTimezoneOffset();return(e.getTime()-t.getTime()-6e4*n)/864e5}),(function(t){return t.getDate()-1}));function ki(t){return new Oi((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e.getTime()-t.getTime()-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Ai=ki(0),Di=ki(1),xi=(ki(2),ki(3),ki(4)),Ni=(ki(5),ki(6),Ai),Ii=new Oi((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Fi=new Oi((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})),Mi=new Oi((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e.getTime()-t.getTime())/864e5}),(function(t){return t.getUTCDate()-1})),Li=new Oi((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function ji(t){return new Oi((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e.getTime()-t.getTime())/6048e5}))}var Gi=ji(0),Vi=ji(1),Wi=(ji(2),ji(3),ji(4)),Bi=(ji(5),ji(6),Gi);function Hi(t){if(t.y>=0&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zi(t){if(t.y>=0&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ui(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].toLowerCase()]=n;return e}function Ki(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Yi,qi=/^\s*\d+/,Xi=/^%/,Qi=/[\\^$*+?|[\]().{}]/g,Zi=function(t){return t.replace(Qi,"\\$&")},Ji=function(t){return new RegExp("^(?:"+t.map(Zi).join("|")+")","i")},$i={"-":"",_:" ",0:"0"};function ts(t,e,n){var r=t<0?"-":"",o=String(r?-t:t),i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}Yi=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Ji(o),c=Ui(o),p=Ji(i),h=Ui(i),d=Ji(s),f=Ui(s),g=Ji(a),y=Ui(a),v=Ji(l),m=Ui(l),C={a:function(t){return s[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:void 0,d:P,e:P,f:function(t,e){return S(t,e)+"000"},H:function(t,e){return ts(t.getHours(),e,2)},I:function(t,e){return ts(t.getHours()%12||12,e,2)},j:function(t,e){return ts(1+Ri.count(Fi.floor(t),t),e,3)},L:S,m:function(t,e){return ts(t.getMonth()+1,e,2)},M:function(t,e){return ts(t.getMinutes(),e,2)},p:function(t){return o[t.getHours()>=12?1:0]},Q:A,s:D,S:function(t,e){return ts(t.getSeconds(),e,2)},u:function(t){var e=t.getDay();return 0===e?7:e},U:function(t,e){return ts(Ai.count(Fi.floor(t),t),e,2)},V:function(t,e){var n=t.getDay();t=n>=4||0===n?xi.floor(t):xi.ceil(t);var r=Fi.floor(t);return ts(xi.count(r,t)+(4===r.getDay()?1:0),e,2)},w:function(t){return t.getDay()},W:function(t,e){return ts(Di.count(Fi.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return ts(t.getFullYear()%100,e,2)},Y:function(t,e){return ts(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ts(Math.floor(e/60),"0",2)+ts(e%60,"0",2)},"%":k},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:void 0,d:R,e:R,f:function(t,e){return T(t,e)+"000"},H:function(t,e){return ts(t.getUTCHours(),e,2)},I:function(t,e){return ts(t.getUTCHours()%12||12,e,2)},j:function(t,e){return ts(1+Mi.count(Li.floor(t),t),e,3)},L:T,m:function(t,e){return ts(t.getUTCMonth()+1,e,2)},M:function(t,e){return ts(t.getUTCMinutes(),e,2)},p:function(t){return o[t.getUTCHours()>=12?1:0]},Q:A,s:D,S:function(t,e){return ts(t.getUTCSeconds(),e,2)},u:function(t){var e=t.getUTCDay();return 0===e?7:e},U:function(t,e){return ts(Bi.count(Li.floor(t),t),e,2)},V:function(t,e){var n=t.getUTCDay();t=n>=4||0===n?Wi.floor(t):Wi.ceil(t);var r=Li.floor(t);return ts(Wi.count(r,t)+(4===r.getUTCDay()?1:0),e,4)},w:function(t){return t.getUTCDay()},W:function(t,e){return ts(Vi.count(Li.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return ts(t.getUTCFullYear()%100,e,2)},Y:function(t,e){return ts(t.getUTCFullYear()%1e4,e,4)},Z:function(){return"+0000"},"%":k},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:N,e:N,f:function(t,e,n){var r=qi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(parseFloat(r[0])/1e3),n+r[0].length):-1},H:x,I:x,j:function(t,e,n){var r=qi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1},L:function(t,e,n){var r=qi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1},m:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.m=parseFloat(r[0])-1,n+r[0].length):-1},M:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1},p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:function(t,e,n){var r=qi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1},s:function(t,e,n){var r=qi.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1},S:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1},u:function(t,e,n){var r=qi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1},U:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1},V:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1},w:function(t,e,n){var r=qi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1},W:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1},x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:function(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1},Y:function(t,e,n){var r=qi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1},Z:function(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1},"%":function(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}};function _(t,e){return function(n){var r=Ki(1900);if(E(r,t,n+="",0)==n.length){if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||r.V>53)return;if("w"in r||(r.w=1),"Z"in r){var o=(i=zi(Ki(r.y))).getUTCDay();i=o>4||0===o?Vi.ceil(i):Vi.floor(i),i=Mi.offset(i,7*(r.V-1)),r.y=i.getUTCFullYear(),r.m=i.getUTCMonth(),r.d=i.getUTCDate()+(r.w+6)%7}else{var i;o=(i=e(Ki(r.y))).getDay(),i=o>4||0===o?Di.ceil(i):Di.floor(i),i=Ri.offset(i,7*(r.V-1)),r.y=i.getFullYear(),r.m=i.getMonth(),r.d=i.getDate()+(r.w+6)%7}}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),o="Z"in r?zi(Ki(r.y)).getUTCDay():e(Ki(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,zi(r)):e(r)}}}function O(t,e){return function(n){var r=[],o=t.length,i=-1,s=0;for(n instanceof Date||(n=new Date(+n));++i<o;)if(37===t.charCodeAt(i)){r.push(t.slice(s,i));var a=t.charAt(++i),l=$i[a];null!=l?a=t.charAt(++i):l="e"===a?" ":"0";var u=e[a];u&&(a=u(n,l)),r.push(a),s=i+1}return r.push(t.slice(s,i)),r.join("")}}function E(t,e,n,r){for(var o=0,i=e.length,s=n.length;o<i;){if(r>=s)return-1;var a=e.charCodeAt(o++);if(37===a){var l=e.charAt(o++),u=w[l in $i?e.charAt(o++):l];if(!u||(r=u(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function S(t,e){return ts(t.getMilliseconds(),e,3)}function P(t,e){return ts(t.getDate(),e,2)}function T(t,e){return ts(t.getUTCMilliseconds(),e,3)}function R(t,e){return ts(t.getUTCDate(),e,2)}function k(t){return"%"}function A(t){return t.getTime()}function D(t){return Math.floor(t.getTime()/1e3)}function x(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function N(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}return C.x=O(n,C),C.X=O(r,C),C.c=O(e,C),b.x=O(n,b),b.X=O(r,b),b.c=O(e,b),{format:function(t){var e=O(t,C);return e.toString=function(){return t},e},parse:function(t){var e=_(t,Hi);return e.toString=function(){return t},e},utcFormat:function(t){var e=O(t,b);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t,zi);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var es,ns,rs,os,is=(os=function(t,e){return(os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}os(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ss=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.year=Fi,e.month=Ii,e.week=Ni,e.day=Ri,e.hour=Ti,e.minute=Pi,e.second=Si,e.millisecond=Ei,e.format=Yi.format,e.tickIntervals=[[e.second,1,1e3],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,6e4],[e.minute,5,3e5],[e.minute,15,9e5],[e.minute,30,18e5],[e.hour,1,36e5],[e.hour,3,108e5],[e.hour,6,216e5],[e.hour,12,432e5],[e.day,1,864e5],[e.day,2,1728e5],[e.week,1,6048e5],[e.month,1,2592e6],[e.month,3,7776e6],[e.year,1,31536e6]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return is(e,t),e.prototype.defaultTickFormat=function(t){return(this.second.floor(t)<t?this.formatMillisecond:this.minute.floor(t)<t?this.formatSecond:this.hour.floor(t)<t?this.formatMinute:this.day.floor(t)<t?this.formatHour:this.month.floor(t)<t?this.week.floor(t)<t?this.formatDay:this.formatWeek:this.year.floor(t)<t?this.formatMonth:this.formatYear)(t)},e.prototype.tickInterval=function(t,e,n,r){var o;if("number"==typeof t){var i=t,s=this.tickIntervals,a=Math.abs(n-e)/i,l=function(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=t.length);for(var i=function(t,e){return(n=function(t){return t[2]}(t))<(r=e)?-1:n>r?1:n>=r?0:NaN;var n,r};r<o;){var s=r+o>>>1;i(t[s],e)<0?r=s+1:o=s}return r}(s,a);l===s.length?(r=co(e/31536e6,n/31536e6,i),t=this.year):l?(t=(o=s[a/s[l-1][2]<s[l][2]/a?l-1:l])[0],r=o[1]):(r=Math.max(co(e,n,t),1),t=this.millisecond)}return null==r?t:t.every(r)},Object.defineProperty(e.prototype,"domain",{get:function(){return t.prototype.getDomain.call(this).map((function(t){return new Date(t)}))},set:function(e){t.prototype.setDomain.call(this,Array.prototype.map.call(e,(function(t){return t instanceof Date?+t:+new Date(+t)})))},enumerable:!0,configurable:!0}),e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),r=n[0],o=n[n.length-1],i=o<r;if(i){var s=r;r=o,o=s}var a=this.tickInterval(e,r,o),l=a?a.range(r,o+1):[];return i?l.reverse():l},e.prototype.tickFormat=function(t,e){return null==e?this.defaultTickFormat.bind(this):this.format(e)},e.prototype.nice=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),r=this.tickInterval(e,n[0],n[n.length-1]);r&&(this.domain=this._nice(n,r))},e.prototype._nice=function(t,e){var n,r,o=0,i=(t=t.slice()).length-1,s=t[o],a=t[i];return a<s&&(o=(n=[i,o])[0],i=n[1],s=(r=[a,s])[0],a=r[1]),t[o]=e.floor(s),t[i]=e.ceil(a),t},e}(oo),as=(rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ls=function(t){function e(){var e=t.call(this,new ss)||this;return e._nice=!0,e.scale.clamp=!0,e}return as(e,t),Object.defineProperty(e.prototype,"nice",{get:function(){return this._nice},set:function(t){this._nice!==t&&(this._nice=t,t&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain},set:function(t){this.scale.domain=t,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),e.className="TimeAxis",e.type="time",e}($o),us=function(){function t(t,e,n){var r=this;void 0===t&&(t=window.document),this.id=Sr(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var t,e=r.ctx,n=r.root,o=r.pendingSize;r.animationFrameId=0,o&&((t=r.canvas).resize.apply(t,o),r.pendingSize=void 0),!n||n.visible?(e.clearRect(0,0,r.width,r.height),n&&(e.save(),n.visible&&n.render(e),e.restore()),r._frameIndex++,r.debug.renderFrameIndex&&(e.fillStyle="white",e.fillRect(0,0,40,15),e.fillStyle="black",e.fillText(r.frameIndex.toString(),2,10)),r.dirty=!1):r.dirty=!1},this.canvas=new Vr(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),t.prototype.download=function(t){this.canvas.download(t)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),t===this.width&&e===this.height||(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),t.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.appendPath=function(t){var e=this.ctx,n=t.commands,r=t.params,o=n.length,i=0;e.beginPath();for(var s=0;s<o;s++)switch(n[s]){case"M":e.moveTo(r[i++],r[i++]);break;case"L":e.lineTo(r[i++],r[i++]);break;case"C":e.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);break;case"Z":e.closePath()}},Object.defineProperty(t.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),t.className="Scene",t}(),cs=(ns=function(t,e){return(ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ns(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Content=0]="Content",t[t.Border=1]="Border"}(es||(es={}));var ps,hs,ds,fs,gs,ys,vs,ms,Cs,bs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e.effectiveStrokeWidth=Gr.defaultStyles.strokeWidth,e._sizing=es.Content,e}return cs(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crisp",{get:function(){return this._crisp},set:function(t){this._crisp!==t&&(this._crisp=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.crisp||this.sizing===es.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=t,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizing",{get:function(){return this._sizing},set:function(t){this._sizing!==t&&(this._sizing=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.updatePath=function(){var t=this.sizing===es.Border,e=this.path;e.clear();var n,r=this.x,o=this.y,i=this.width,s=this.height;if(t){var a=i/2,l=s/2;n=Math.min(this.strokeWidth,a,l),r=Math.min(r+n/2,r+a),o=Math.min(o+n/2,o+l),i=Math.max(i-n,0),s=Math.max(s-n,0)}else n=this.strokeWidth;if(this.effectiveStrokeWidth=n,this.crisp&&!t){var u=this.alignment,c=this.align;e.rect(c(u,r),c(u,o),c(u,r,i),c(u,o,s))}else e.rect(r,o,i,s)},e.prototype.computeBBox=function(){return new Or(this.x,this.y,this.width,this.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.fillStroke=function(t){if(this.scene){var e=this.scene.canvas.pixelRatio||1;if(this.fill){t.fillStyle=this.fill,t.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*e,t.shadowOffsetY=n.yOffset*e,t.shadowBlur=n.blur*e),t.fill()}if(t.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){t.strokeStyle=this.stroke,t.globalAlpha=this.opacity*this.strokeOpacity,t.lineWidth=this.effectiveStrokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin);var r=this.strokeShadow;r&&r.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*e,t.shadowOffsetY=r.yOffset*e,t.shadowBlur=r.blur*e),t.stroke()}}},e.className="Rect",e}(Fo),ws=(Cs=function(t,e){return(Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return ws(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=Math.abs(t),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){var t=this.size,e=t/2;return new Or(this.x-e,this.y-e,t,t)},e}(Fo),Os=(ms=function(t,e){return(ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ms(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Os(e,t),e.prototype.updatePath=function(){var t=this.path,e=this.x,n=this.y,r=this.size/2,o=this.alignment,i=this.align;t.clear(),t.moveTo(i(o,e-r),i(o,n-r)),t.lineTo(i(o,e+r),i(o,n-r)),t.lineTo(i(o,e+r),i(o,n+r)),t.lineTo(i(o,e-r),i(o,n+r)),t.closePath()},e.className="Square",e}(_s),Ss=(vs=function(t,e){return(vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ps=function(t){function e(){var e=t.call(this)||this;e.label=new Br,e._marker=new Es,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=Vr.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return Ss(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this.label.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(t){this.label.fontStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(t){this.label.fontWeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(t){this.label.fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(t){this.label.fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.label.fill},set:function(t){this.label.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(t){this.marker.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(t){this.marker.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(t){this.marker.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(t){this.marker.fillOpacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(t){this.marker.strokeOpacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(t){this.marker.opacity=t,this.label.opacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t=this.markerSize;this.marker.size=t,this.label.x=t/2+this.spacing},e.className="MarkerLabel",e}(bo),Ts=(ys=function(t,e){return(ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ys(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ts(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=this.size/2;n.clear(),n.cubicArc(t,e,r,r,0,0,2*Math.PI,0),n.closePath()},e.className="Circle",e}(_s),ks=(gs=function(t,e){return(gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),As=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ks(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=this.size/4.2;n.clear(),n.moveTo(t-=r,e),n.lineTo(t-=r,e-=r),n.lineTo(t+=r,e-=r),n.lineTo(t+=r,e+=r),n.lineTo(t+=r,e-=r),n.lineTo(t+=r,e+=r),n.lineTo(t-=r,e+=r),n.lineTo(t+=r,e+=r),n.lineTo(t-=r,e+=r),n.lineTo(t-=r,e-=r),n.lineTo(t-=r,e+=r),n.lineTo(t-=r,e-=r),n.closePath()},e.className="Cross",e}(_s),Ds=(fs=function(t,e){return(fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ds(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=this.size/2;n.clear(),n.moveTo(t,e-=r),n.lineTo(t+=r,e+=r),n.lineTo(t-=r,e+=r),n.lineTo(t-=r,e-=r),n.lineTo(t+=r,e-=r),n.closePath()},e.className="Diamond",e}(_s),Ns=(ds=function(t,e){return(ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ds(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ns(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this.x,e=this.path,n=this.rad,r=this.size/4,o=this.y+r/2;e.clear(),e.cubicArc(t-r,o-r,r,r,0,n(130),n(330),0),e.cubicArc(t+r,o-r,r,r,0,n(220),n(50),0),e.lineTo(t,o+r),e.closePath()},e.className="Heart",e}(_s),Fs=(hs=function(t,e){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=this.size/3,o=r/2;n.clear(),n.moveTo(t-=o,e-=o),n.lineTo(t,e-=r),n.lineTo(t+=r,e),n.lineTo(t,e+=r),n.lineTo(t+=r,e),n.lineTo(t,e+=r),n.lineTo(t-=r,e),n.lineTo(t,e+=r),n.lineTo(t-=r,e),n.lineTo(t,e-=r),n.lineTo(t-=r,e),n.lineTo(t,e-=r),n.closePath()},e.className="Plus",e}(_s),Ls=(ps=function(t,e){return(ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ps(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ls(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=1.1*this.size;n.clear(),n.moveTo(t,e-=.48*r),n.lineTo(t+=.5*r,e+=.87*r),n.lineTo(t-=r,e),n.closePath()},e.className="Triangle",e}(_s);function Gs(t){if(void 0===t&&(t=Es),"string"==typeof t)switch(t){case"circle":return Rs;case"cross":return As;case"diamond":return xs;case"heart":return Is;case"plus":return Ms;case"triangle":return js;default:return Es}return"function"==typeof t?t:Es}var Vs,Ws,Bs,Hs=(Bs=function(t,e){return(Bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(Vs||(Vs={})),function(t){t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left"}(Ws||(Ws={}));var Us,Ks,Ys,qs,Xs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return Hs(e,t),zs([Ur("change")],e.prototype,"color",void 0),zs([Ur("layoutChange")],e.prototype,"fontStyle",void 0),zs([Ur("layoutChange")],e.prototype,"fontWeight",void 0),zs([Ur("layoutChange")],e.prototype,"fontSize",void 0),zs([Ur("layoutChange")],e.prototype,"fontFamily",void 0),e}(zr),Qs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return Hs(e,t),zs([Ur("layoutChange")],e.prototype,"size",void 0),zs([Ur("layoutChange")],e.prototype,"shape",void 0),zs([Ur("layoutChange")],e.prototype,"padding",void 0),zs([Ur("change")],e.prototype,"strokeWidth",void 0),e}(zr),Zs=function(t){function e(){var e=t.call(this)||this;e.marker=new Qs,e.label=new Xs,e.paddingX=16,e.paddingY=8;var n=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",n),e.label.addEventListener("change",n);var r=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",r),e.label.addEventListener("layoutChange",r),e}return Hs(e,t),zs([Ur("layoutChange")],e.prototype,"paddingX",void 0),zs([Ur("layoutChange")],e.prototype,"paddingY",void 0),e}(zr),Js=function(t){function e(){var e=t.call(this)||this;return e.id=Sr(e),e.group=new bo,e.itemSelection=_o.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new Zs,e.data=[],e.enabled=!0,e.orientation=Vs.Vertical,e.position=Ws.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",(function(){return e.fireEvent({type:"change"})})),e.item.addEventListener("layoutChange",(function(){return e.fireEvent({type:"layoutChange"})})),e}return Hs(e,t),Object.defineProperty(e.prototype,"layoutHorizontalSpacing",{get:function(){return this.item.paddingX},set:function(t){this.item.paddingX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutVerticalSpacing",{get:function(){return this.item.paddingY},set:function(t){this.item.paddingY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemSpacing",{get:function(){return this.item.marker.padding},set:function(t){this.item.marker.padding=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerShape",{get:function(){return this.item.marker.shape},set:function(t){this.item.marker.shape=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this.item.marker.size},set:function(t){this.item.marker.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.item.marker.strokeWidth},set:function(t){this.item.marker.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.item.label.color},set:function(t){this.item.label.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.item.label.fontStyle},set:function(t){this.item.label.fontStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.item.label.fontWeight},set:function(t){this.item.label.fontWeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.item.label.fontSize},set:function(t){this.item.label.fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.item.label.fontFamily},set:function(t){this.item.label.fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.onDataChange=function(t){this.group.visible=t.value.length>0&&this.enabled},e.prototype.onEnabledChange=function(t){this.group.visible=t.value&&this.data.length>0},e.prototype.onPositionChange=function(t){switch(t.value){case"right":case"left":this.orientation=Vs.Vertical;break;case"bottom":case"top":this.orientation=Vs.Horizontal}},e.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove()},e.prototype.performLayout=function(t,e){var n=this.item,r=n.marker,o=n.paddingX,i=n.paddingY,s=this.itemSelection.setData(this.data,(function(t,e){var n=Gs(r.shape||e.marker.shape);return e.id+"-"+e.itemId+"-"+n.name}));s.exit.remove();var a=s.enter.append(Ps).each((function(t,e){var n=Gs(r.shape||e.marker.shape);t.marker=new n})),l=this.itemSelection=s.merge(a),u=l.size,c=[],p=this.item.marker,h=this.item.label;l.each((function(t,e){t.markerSize=p.size,t.spacing=p.padding,t.fontStyle=h.fontStyle,t.fontWeight=h.fontWeight,t.fontSize=h.fontSize,t.fontFamily=h.fontFamily,t.text=e.label.text,c.push(t.computeBBox())}));var d=c.length&&c[0].height,f=0,g=0,y=0,v=0;switch(this.orientation){case Vs.Horizontal:if(!(isFinite(t)&&t>0))return!1;f=0;var m=0;do{var C=0;m=0,g=0,f++;for(var b=0;b<u;)(O=c[b]).width>g&&(g=O.width),++b%f==0&&(C+=g,g=0,m++);b%f!=0&&(C+=g,m++),y=C+(m-1)*o}while(y>t&&m>1);v=d*f+(f-1)*i;break;case Vs.Vertical:if(!(isFinite(e)&&e>0))return!1;f=2*u;do{f=(f>>1)+f%2,g=0,C=0;var w=0,_=0;for(b=0;b<u;){var O=c[b];_||(w+=O.height),O.width>g&&(g=O.width),++b%f==0&&(C+=g,g=0,_++)}b%f!=0&&(C+=g,_++),y=C+(_-1)*o,v=w+(f-1)*i}while(v>e&&f>1)}var E=(t-y)/2,S=(e-v)/2,P=0,T=0;g=0,l.each((function(t,e,n){t.translationX=Math.floor(E+P),t.translationY=Math.floor(S+T);var r=c[n];r.width>g&&(g=r.width),(n+1)%f==0?(P+=g+o,T=0,g=0):T+=r.height+i})),this.update();var R=this._size,k=this.oldSize;R[0]=y,R[1]=v,R[0]===k[0]&&R[1]===k[1]||(k[0]=R[0],k[1]=R[1])},e.prototype.update=function(){var t=this;this.itemSelection.each((function(e,n){var r=n.marker;e.markerFill=r.fill,e.markerStroke=r.stroke,e.markerStrokeWidth=t.item.marker.strokeWidth,e.markerFillOpacity=r.fillOpacity,e.markerStrokeOpacity=r.strokeOpacity,e.opacity=n.enabled?1:.5,e.color=t.item.label.color}))},e.prototype.getDatumForPoint=function(t,e){var n=this.group.pickNode(t,e);if(n&&n.parent)return n.parent.datum},e.className="Legend",zs([Ur("layoutChange")],e.prototype,"data",void 0),zs([Ur("layoutChange")],e.prototype,"enabled",void 0),zs([Ur("layoutChange")],e.prototype,"orientation",void 0),zs([Ur("layoutChange")],e.prototype,"position",void 0),zs([Ur("layoutChange")],e.prototype,"spacing",void 0),e}(zr),$s=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e((function(e){for(var n=0,r=e;n<r.length;n++){var o=r[n],i=o.contentRect,s=i.width,a=i.height;t.checkSize(t.elements.get(o.target),o.target,s,a)}})):window.setInterval((function(){t.elements.forEach((function(e,n){t.checkSize(e,n,n.clientWidth?n.clientWidth:0,n.clientHeight?n.clientHeight:0)}))}),100),this.ready=!0},t.checkSize=function(t,e,n,r){t&&(t.size&&n===t.size.width&&r===t.size.height||(t.size={width:n,height:r},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e})},t.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},t.elements=new Map,t.requestAnimationFrameId=0,t.ready=!1,t}(),ta=(qs=function(t,e){return(qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ea=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e}return ta(e,t),ea([Ur("change")],e.prototype,"enabled",void 0),e}(zr),ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=Sr(e),e.group=new bo,e.directions=[Ho.X,Ho.Y],e.tooltipEnabled=!0,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return ta(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),e.prototype.setColors=function(t,e){},e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,r=n&&n[t],o=[];return r&&r.forEach((function(t){var n=e[t];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))})),o},e.prototype.getNodeData=function(){return[]},e.prototype.fireNodeClickEvent=function(t,e){},e.prototype.toggleSeriesItem=function(t,e){this.visible=e},e.prototype.onHighlightChange=function(){},e.prototype.fixNumericExtent=function(t,e){if(!t)return[0,1];var n=t[0],r=t[1];if(n instanceof Date&&(n=n.getTime()),r instanceof Date&&(r=r.getTime()),n===r){var o=Math.abs(.01*n);n-=o,r+=o}return isFinite(n)&&isFinite(r)||(n=0,r=1),[n,r]},ea([Ur("dataChange")],e.prototype,"data",void 0),ea([Ur("dataChange")],e.prototype,"visible",void 0),ea([Ur("layoutChange")],e.prototype,"showInLegend",void 0),e}(zr),oa=(Ys=function(t,e){return(Ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ys(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ia=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=Rs,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return oa(e,t),ia([Ur("change")],e.prototype,"enabled",void 0),ia([Ur("change")],e.prototype,"shape",void 0),ia([Ur("change")],e.prototype,"size",void 0),ia([Ur("change")],e.prototype,"maxSize",void 0),ia([Ur("change")],e.prototype,"domain",void 0),ia([Ur("change")],e.prototype,"fill",void 0),ia([Ur("change")],e.prototype,"stroke",void 0),ia([Ur("change")],e.prototype,"strokeWidth",void 0),e}(zr),aa=(Ks=function(t,e){return(Ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ks(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),la=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.directionKeys=((e={})[Ho.X]=["xKey"],e[Ho.Y]=["yKey"],e),n}return aa(e,t),e}(ra),ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e}(sa),ca=(Us=function(t,e){return(Us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Us(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pa=function(){return(pa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ha=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function da(t,e){if("string"==typeof t)return t;e=e||{};var n=t.content,r=t.title,o=void 0===r?e.title||void 0:r,i=t.color,s=t.backgroundColor;return(o?'<div class="'+Ea.defaultTooltipClass+'-title"\n        style="color: '+(void 0===i?e.color||"white":i)+"; background-color: "+(void 0===s?e.backgroundColor||"#888":s)+'">'+o+"</div>":"")+'<div class="'+Ea.defaultTooltipClass+'-content">'+(void 0===n?e.content||"":n)+"</div>"}var fa,ga,ya,va,ma,Ca,ba,wa,_a,Oa=function(t){function e(e){var n=t.call(this)||this;n.element=document.createElement("div"),n.enabled=!0,n.class=Ea.defaultTooltipClass,n.delay=0,n.tracking=!0,n.showTimeout=0,n.chart=e,n.class="";var r=document.body;if(r.appendChild(n.element),window.IntersectionObserver){var o=n.chart.scene.canvas.element,i=new IntersectionObserver((function(t){for(var e=0,r=t;e<r.length;e++){var i=r[e];i.target===o&&0===i.intersectionRatio&&n.toggle(!1)}}),{root:r});i.observe(o),n.observer=i}return n}return ca(e,t),e.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains(Ea.defaultTooltipClass+"-hidden");var e=t.getAttribute("class");return!!e&&e.split(" ").indexOf(Ea.defaultTooltipClass+"-hidden")<0},e.prototype.updateClass=function(t,e){var n=[Ea.defaultTooltipClass,this.class];!0!==t&&n.push(Ea.defaultTooltipClass+"-hidden"),!0!==e&&n.push(Ea.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",n.join(" "))},e.prototype.show=function(t,e,n){var r=this;void 0===n&&(n=!1);var o=this.element;if(void 0!==e)o.innerHTML=e;else if(!o.innerHTML)return;var i=t.pageX-o.clientWidth/2,s=t.pageY-o.clientHeight-8;if(this.chart.container){var a=o.getBoundingClientRect(),l=window.innerWidth-a.width;i<0?(i=0,this.updateClass(!0,!0)):i>l&&(i=l,this.updateClass(!0,!0))}if(o.style.left=i+"px",o.style.top=s+"px",this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){r.toggle(!0)}),this.delay));this.toggle(!0)},e.prototype.toggle=function(t){t||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(t)},e.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},ha([Ur()],e.prototype,"enabled",void 0),ha([Ur()],e.prototype,"class",void 0),ha([Ur()],e.prototype,"delay",void 0),ha([Ur()],e.prototype,"tracking",void 0),e}(zr),Ea=function(t){function e(n){void 0===n&&(n=window.document);var r=t.call(this)||this;r.id=Sr(r),r.background=new bs,r.legend=new Js,r.legendAutoPadding=new _r,r.captionAutoPadding=0,r._container=void 0,r._data=[],r._autoSize=!1,r._tooltipClass=e.defaultTooltipClass,r.tooltipTracking=!0,r.padding=new _r(20),r._axes=[],r._series=[],r._axesChanged=!1,r._seriesChanged=!1,r.layoutCallbackId=0,r._performLayout=function(){r.layoutCallbackId=0,r.background.width=r.width,r.background.height=r.height,r.performLayout(),r.layoutPending||r.fireEvent({type:"layoutDone"})},r.dataCallbackId=0,r._onMouseDown=r.onMouseDown.bind(r),r._onMouseUp=r.onMouseUp.bind(r),r._onMouseMove=r.onMouseMove.bind(r),r._onMouseOut=r.onMouseOut.bind(r),r._onClick=r.onClick.bind(r);var o=new bo,i=r.background;i.fill="white",o.appendChild(i);var s=r._element=n.createElement("div");s.setAttribute("class","ag-chart-wrapper");var a=new us(n);r.scene=a,a.root=o,a.container=s,r.autoSize=!0;var l=r.legend;if(l.addEventListener("layoutChange",r.onLayoutChange,r),l.addPropertyListener("position",r.onLegendPositionChange,r),r.tooltip=new Oa(r),r.tooltip.addPropertyListener("class",(function(){return r.tooltip.toggle()})),e.tooltipDocuments.indexOf(n)<0){var u=n.createElement("style");u.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',n.head.insertBefore(u,n.head.querySelector("style")),e.tooltipDocuments.push(n)}return r.setupDomListeners(a.canvas.element),r.addPropertyListener("title",r.onCaptionChange),r.addPropertyListener("subtitle",r.onCaptionChange),r.addEventListener("layoutChange",(function(){return r.layoutPending=!0})),r}return ca(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.element.parentNode;null!=e&&e.removeChild(this.element),t&&t.appendChild(this.element),this._container=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.series.forEach((function(e){return e.data=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.scene.width},set:function(t){this.autoSize=!1,this.width!==t&&(this.scene.resize(t,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scene.height},set:function(t){this.autoSize=!1,this.height!==t&&(this.scene.resize(this.width,t),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){if(this._autoSize!==t){this._autoSize=t;var e=this.element.style;if(t){var n=this;$s.observe(this.element,(function(t){t.width===n.width&&t.height===n.height||(n.scene.resize(t.width,t.height),n.fireEvent({type:"layoutChange"}))})),e.display="block",e.width="100%",e.height="100%"}else $s.unobserve(this.element),e.display="inline-block",e.width="auto",e.height="auto"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipClass",{get:function(){return this.tooltip.class},set:function(t){this.tooltip.class=t},enumerable:!0,configurable:!0}),e.prototype.download=function(t){this.scene.download(t)},e.prototype.destroy=function(){this.tooltip.destroy(),$s.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},e.prototype.onLayoutChange=function(){this.layoutPending=!0},e.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},e.prototype.onCaptionChange=function(t){var e=t.value,n=t.oldValue;n&&(n.removeEventListener("change",this.onLayoutChange,this),this.scene.root.removeChild(n.node)),e&&(e.addEventListener("change",this.onLayoutChange,this),this.scene.root.appendChild(e.node))},Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this;this._axes.forEach((function(t){return e.detachAxis(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){return e.attachAxis(t)})),this.axesChanged=!0},enumerable:!0,configurable:!0}),e.prototype.attachAxis=function(t){this.scene.root.insertBefore(t.group,this.seriesRoot)},e.prototype.detachAxis=function(t){this.scene.root.removeChild(t.group)},Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!0,configurable:!0}),e.prototype.scheduleLayout=function(){this.layoutPending=!0},e.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},e.prototype.addSeries=function(t,e){var n=this.series,r=this.seriesRoot;if(n.indexOf(t)<0){var o=e?n.indexOf(e):-1;return o>=0?(n.splice(o,0,t),r.insertBefore(t.group,e.group)):(n.push(t),r.append(t.group)),this.initSeries(t),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},e.prototype.initSeries=function(t){t.chart=this,t.data||(t.data=this.data),t.addEventListener("layoutChange",this.scheduleLayout,this),t.addEventListener("dataChange",this.scheduleData,this),t.addEventListener("legendChange",this.updateLegend,this),t.addEventListener("nodeClick",this.onSeriesNodeClick,this)},e.prototype.freeSeries=function(t){t.chart=void 0,t.removeEventListener("layoutChange",this.scheduleLayout,this),t.removeEventListener("dataChange",this.scheduleData,this),t.removeEventListener("legendChange",this.updateLegend,this),t.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},e.prototype.addSeriesAfter=function(t,e){var n=this.series,r=this.seriesRoot;if(n.indexOf(t)<0){var o=e?this.series.indexOf(e):-1;o>=0?(o+1<n.length?r.insertBefore(t.group,n[o+1].group):r.append(t.group),this.initSeries(t),n.splice(o+1,0,t)):(n.length>0?r.insertBefore(t.group,n[0].group):r.append(t.group),this.initSeries(t),n.unshift(t)),this.seriesChanged=!0,this.axesChanged=!0}return!1},e.prototype.removeSeries=function(t){var e=this.series.indexOf(t);return e>=0&&(this.series.splice(e,1),this.freeSeries(t),this.seriesRoot.removeChild(t.group),this.seriesChanged=!0,!0)},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){t.freeSeries(e),t.seriesRoot.removeChild(e.group)})),this._series=[],this.seriesChanged=!0},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){var n=e.direction+"Axis",r=[];t.series.forEach((function(t){t[n]===e&&r.push(t)})),e.boundSeries=r})),this.seriesChanged=!1},e.prototype.assignAxesToSeries=function(t){var e=this;void 0===t&&(t=!1);var n={};this.axes.forEach((function(t){var e=t.direction;(n[e]||(n[e]=[])).push(t)})),this.series.forEach((function(r){if(r.directions.forEach((function(o){var i=o+"Axis";if(!r[i]||t){var s=n[o];if(s){var a=e.findMatchingAxis(s,r.getKeys(o));a&&(r[i]=a)}}})),r instanceof la){if(!r.xAxis)return void console.warn("Could not find a matching xAxis for the "+r.id+" series.");if(!r.yAxis)return void console.warn("Could not find a matching yAxis for the "+r.id+" series.")}})),this.axesChanged=!1},e.prototype.findMatchingAxis=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.keys;if(!o.length)return r;if(e)for(var i=0;i<e.length;i++)if(o.indexOf(e[i])>=0)return r}},Object.defineProperty(e.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(t){this._axesChanged=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(t){this._seriesChanged=t,t&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(t){t?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout)):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(t){var e=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),t&&(this.dataCallbackId=window.setTimeout((function(){e.dataPending=!1,e.processData()}),0))},enumerable:!0,configurable:!0}),e.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.filter((function(t){return t.visible})).forEach((function(t){return t.processData()})),this.updateLegend(),this.layoutPending=!0},e.prototype.updateLegend=function(){var t=[];this.series.filter((function(t){return t.showInLegend})).forEach((function(e){return e.listSeriesItems(t)})),this.legend.data=t},e.prototype.positionCaptions=function(){var t=this.title,e=this.subtitle,n=!1,r=!1,o=10;if(t&&t.enabled){t.node.x=this.width/2,t.node.y=o,n=!0;var i=t.node.computeBBox();if(i&&(o=i.y+i.height),e&&e.enabled){e.node.x=this.width/2,e.node.y=o+10,r=!0;var s=e.node.computeBBox();s&&(o=s.y+s.height)}}t&&(t.node.visible=n),e&&(e.node.visible=r),this.captionAutoPadding=Math.floor(o)},e.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var t,e=this.legend,n=this.captionAutoPadding,r=this.legendAutoPadding,o=this.width,i=this.height-n,s=e.group,a=e.spacing,l=0,u=0;switch(e.position){case"bottom":e.performLayout(o-2*a,0),l=(o-(t=s.computeBBox()).width)/2-t.x,u=n+i-t.height-t.y-a,r.bottom=t.height;break;case"top":e.performLayout(o-2*a,0),l=(o-(t=s.computeBBox()).width)/2-t.x,u=n+a-t.y,r.top=t.height;break;case"left":e.performLayout(0,i-2*a),l=a-(t=s.computeBBox()).x,u=n+(i-t.height)/2-t.y,r.left=t.width;break;default:e.performLayout(0,i-2*a),l=o-(t=s.computeBBox()).width-t.x-a,u=n+(i-t.height)/2-t.y,r.right=t.width}s.translationX=Math.floor(l+s.translationX),s.translationY=Math.floor(u+s.translationY)}},e.prototype.setupDomListeners=function(t){t.addEventListener("mousedown",this._onMouseDown),t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseup",this._onMouseUp),t.addEventListener("mouseout",this._onMouseOut),t.addEventListener("click",this._onClick)},e.prototype.cleanupDomListeners=function(t){t.removeEventListener("mousedown",this._onMouseDown),t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseup",this._onMouseUp),t.removeEventListener("mouseout",this._onMouseOut),t.removeEventListener("click",this._onClick)},e.prototype.pickSeriesNode=function(t,e){if(this.seriesRect&&this.seriesRect.containsPoint(t,e))for(var n=this.series,r=void 0,o=n.length-1;o>=0;o--){var i=n[o];if(r=i.group.pickNode(t,e))return{series:i,node:r}}},e.prototype.pickClosestSeriesNodeDatum=function(t,e){if(this.seriesRect&&this.seriesRect.containsPoint(t,e)){for(var n,r=this.series,o=1/0,i=function(i){var s=r[i];if(!s.visible)return"continue";var a=s.group.transformPoint(t,e);s.getNodeData().forEach((function(t){if(t.point){var e,r,i=(e=a,r=t.point,Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)));i<o&&(o=i,n=t)}}))},s=r.length-1;s>=0;s--)i(s);return n||void 0}},e.prototype.onMouseMove=function(t){this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(t))},e.prototype.handleTooltip=function(t){var e,n=this.lastPick,r=this.tooltip.tracking,o=t.offsetX,i=t.offsetY,s=this.pickSeriesNode(o,i);if(s&&s.node instanceof Gr){var a=s.node;if(e=a.datum,n&&n.datum===e&&(n.node=a,n.event=t),!a.datum.point||!r)return void(n&&n.node===a?s.series.tooltip.enabled&&this.tooltip.show(t):this.onSeriesDatumPick(t,a.datum,a,t))}var l=!1;if(r){var u=this.pickClosestSeriesNodeDatum(o,i);if(u&&u.point){var c=u.point,p=this.scene.canvas,h=u.series.group.inverseTransformPoint(c.x,c.y),d=p.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(d.left+window.pageXOffset+h.x),pageY:Math.round(d.top+window.pageYOffset+h.y)},u,e===u&&s?s.node:void 0,t)}else l=!0}!n||!l&&r||(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},e.prototype.onMouseDown=function(t){},e.prototype.onMouseUp=function(t){},e.prototype.onMouseOut=function(t){this.tooltip.toggle(!1)},e.prototype.onClick=function(t){this.checkSeriesNodeClick()||this.checkLegendClick(t)||this.fireEvent({type:"click",event:t})},e.prototype.checkSeriesNodeClick=function(){var t=this.lastPick;if(t&&t.event&&t.node){var e=t.datum;return e.series.fireNodeClickEvent(t.event,e),!0}return!1},e.prototype.onSeriesNodeClick=function(t){this.fireEvent(pa(pa({},t),{type:"seriesNodeClick"}))},e.prototype.checkLegendClick=function(t){var e=this.legend.getDatumForPoint(t.offsetX,t.offsetY);if(e){var n=e.id,r=e.itemId,o=e.enabled,i=ii(this.series,(function(t){return t.id===n}));if(i)return i.toggleSeriesItem(r,!o),o&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:t,itemId:r,enabled:!o}),!0}return!1},e.prototype.onSeriesDatumPick=function(t,e,n,r){this.lastPick&&this.dehighlightDatum(),this.lastPick={datum:e,node:n,event:r},this.highlightDatum(e);var o=e.series.tooltip.enabled&&e.series.getTooltipHtml(e);o&&this.tooltip.show(t,o)},e.prototype.highlightDatum=function(t){this.highlightedDatum=t,this.series.forEach((function(t){return t.onHighlightChange()}))},e.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach((function(t){return t.onHighlightChange()})))},e.defaultTooltipClass="ag-chart-tooltip",e.tooltipDocuments=[],ha([Ur("layoutChange")],e.prototype,"padding",void 0),ha([Ur("layoutChange")],e.prototype,"title",void 0),ha([Ur("layoutChange")],e.prototype,"subtitle",void 0),e}(zr),Sa=(_a=function(t,e){return(_a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new No,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return Sa(e,t),e.prototype.containsPoint=function(t,e){var n=this.transformPoint(t,e);return n.x>=this.x&&n.x<=this.x+this.width&&n.y>=this.y&&n.y<=this.y+this.height},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!==t&&(this._enabled=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},e.prototype.computeBBox=function(){return new Or(this.x,this.y,this.width,this.height)},e.prototype.render=function(t){this.enabled&&(this.dirtyPath&&this.updatePath(),this.scene.appendPath(this.path),t.clip());for(var e=this.children,n=e.length,r=0;r<n;r++){t.save();var o=e[r];o.visible&&o.render(t),t.restore()}},e.className="ClipRect",e}(Pr),Ta=(wa=function(t,e){return(wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Ta(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){var t=this.width,e=this.height;return new Or(this.centerX-t/2,this.centerY-e/2,t,e)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,r=t.centerY,o=t.width,i=t.height,s=this.alignment,a=this.align;e.clear();var l=n-o/2,u=r-i/2,c=a(s,l),p=a(s,u),h=c+a(s,l,o),d=p+a(s,u,i);e.moveTo(c,p),e.lineTo(h,p),e.lineTo(h,d),e.lineTo(c,d),e.lineTo(c,p);var f=this.gripLineGap/2,g=this.gripLineLength/2;e.moveTo(a(s,n-f),a(s,r-g)),e.lineTo(a(s,n-f),a(s,r+g)),e.moveTo(a(s,n+f),a(s,r-g)),e.lineTo(a(s,n+f),a(s,r+g))},e.className="RangeHandle",e}(Fo),ka=(ba=function(t,e){return(ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ba(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return ka(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(t,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,t))},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return new Or(this.x,this.y,this.width,this.height)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.width,r=e+n*t.min;return new Or(r,t.y,e+n*t.max-r,t.height)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,r=t.y,o=t.width,i=t.height,s=t.min,a=t.max,l=this.alignment,u=this.align;e.clear();var c=u(l,n),p=u(l,r),h=c+u(l,n,o),d=p+u(l,r,i);e.moveTo(c,p),e.lineTo(h,p),e.lineTo(h,d),e.lineTo(c,d),e.lineTo(c,p);var f=u(l,n+o*s),g=u(l,n+o*a);e.moveTo(f,p),e.lineTo(f,d),e.lineTo(g,d),e.lineTo(g,p),e.lineTo(f,p)},e.className="RangeMask",e}(Fo),Da=(Ca=function(t,e){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ca(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xa=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.isContainerNode=!0,n.minHandle=new Ra,n.maxHandle=new Ra,n.mask=function(){var t=e.defaults,r=t.x,o=t.y,i=t.width,s=t.height,a=t.min,l=t.max,u=new Aa;u.x=r,u.y=o,u.width=i,u.height=s,u.min=a,u.max=l;var c=n.minHandle,p=n.maxHandle;return c.centerX=r,p.centerX=r+i,c.centerY=p.centerY=o+s/2,n.append([u,c,p]),u.onRangeChange=function(t,e){n.updateHandles(),n.onRangeChange&&n.onRangeChange(t,e)},u}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n}return Da(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!0,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,r=t.x,o=t.y,i=t.width,s=t.height,a=t.mask;e.centerX=r+i*a.min,n.centerX=r+i*a.max,e.centerY=n.centerY=o+s/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t),[this.mask,this.minHandle,this.maxHandle].forEach((function(e){t.save(),e.visible&&e.render(t),t.restore()}))},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(bo),Na=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),t}(),Ia=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),t}(),Fa=function(){function t(t){var e=this;this.rs=new xa,this.mask=new Na(this.rs.mask),this.minHandle=new Ia(this.rs.minHandle),this.maxHandle=new Ia(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(t,n){return e.updateAxes(t,n)}}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),t.prototype.updateAxes=function(t,e){var n=this.chart,r=!1;n.axes.forEach((function(n){n.direction===Ho.X&&(!r&&(t>0||e<1)&&(r=!0),n.visibleRange=[t,e],n.update())})),n.seriesRoot.enabled=r,n.series.forEach((function(t){return t.update()}))},t.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,r=this.rs,o=r.minHandle,i=r.maxHandle,s=r.x,a=r.width,l=r.min,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(e,n)?this.minHandleDragging=!0:i.containsPoint(e,n)?this.maxHandleDragging=!0:u.containsPoint(e,n)&&(this.panHandleOffset=(e-s)/a-l))}},t.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,r=e.x,o=e.width,i=e.minHandle,s=e.maxHandle,a=this.chart.element.style,l=t.offsetX,u=t.offsetY,c=r+o*e.min,p=new Or(c,e.y,r+o*e.max-c,e.height);if(a.cursor=i.containsPoint(l,u)||s.containsPoint(l,u)?"ew-resize":p.containsPoint(l,u)?"grab":"default",this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(n)){var h=e.max-e.min,d=Math.min(f()-n,1-h);d<=e.min?(e.min=d,e.max=e.min+h):(e.max=d+h,e.min=e.max-h)}}function f(){return Math.min(Math.max((l-r)/o,0),1)}},t.prototype.onDragStop=function(){this.stopHandleDragging()},t.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},t}(),Ma=(ma=function(t,e){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),La=function(t){function e(e){void 0===e&&(e=window.document);var n=t.call(this,e)||this;n._seriesRoot=new Pa,n.navigator=new Fa(n),n.scene.root.visible=!1;var r=n.scene.root;return r.append(n.seriesRoot),r.append(n.legend.group),n.navigator.enabled=!1,n}return Ma(e,t),Object.defineProperty(e.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),e.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var t=this,e=t.axes,n=t.legend,r=t.navigator,o=new Or(0,0,t.width,t.height);if(this.positionCaptions(),this.positionLegend(),n.enabled&&n.data.length){var i=this.legendAutoPadding,s=this.legend.spacing;switch(o.x+=i.left,o.y+=i.top,o.width-=i.left+i.right,o.height-=i.top+i.bottom,this.legend.position){case"right":o.width-=s;break;case"bottom":o.height-=s;break;case"left":o.x+=s,o.width-=s;break;case"top":o.y+=s,o.height-=s}}var a=this.captionAutoPadding,l=this.padding;this.updateAxes(),o.x+=l.left,o.width-=l.left+l.right,o.y+=l.top+a,o.height-=l.top+a+l.bottom,r.enabled&&(o.height-=r.height+r.margin);var u=0;e.forEach((function(t){t.group.visible=!0;var e=Math.floor(t.computeBBox().width);switch(t.position){case zo.Top:o.y+=e,o.height-=e,t.translation.y=Math.floor(o.y+1),t.label.mirrored=!0;break;case zo.Right:o.width-=e,t.translation.x=Math.floor(o.x+o.width),t.label.mirrored=!0;break;case zo.Bottom:o.height-=e,u+=e,t.translation.y=Math.floor(o.y+o.height+1);break;case zo.Left:o.x+=e,o.width-=e,t.translation.x=Math.floor(o.x)}})),e.forEach((function(t){switch(t.position){case zo.Top:case zo.Bottom:t.translation.x=Math.floor(o.x),t.range=[0,o.width],t.gridLength=o.height;break;case zo.Left:case zo.Right:t.translation.y=Math.floor(o.y),t.range=t instanceof oi||t instanceof Ci?[0,o.height]:[o.height,0],t.gridLength=o.width}})),this.seriesRect=o,this.series.forEach((function(t){t.group.translationX=Math.floor(o.x),t.group.translationY=Math.floor(o.y),t.update()}));var c=this.seriesRoot;c.x=o.x,c.y=o.y,c.width=o.width,c.height=o.height,r.enabled&&(r.x=o.x,r.y=o.y+o.height+u+r.margin,r.width=o.width),this.axes.forEach((function(t){return t.update()}))}},e.prototype.initSeries=function(e){t.prototype.initSeries.call(this,e),e.addEventListener("dataProcessed",this.updateAxes,this)},e.prototype.freeSeries=function(e){t.prototype.freeSeries.call(this,e),e.removeEventListener("dataProcessed",this.updateAxes,this)},e.prototype.setupDomListeners=function(e){t.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart),e.addEventListener("touchmove",this._onTouchMove),e.addEventListener("touchend",this._onTouchEnd),e.addEventListener("touchcancel",this._onTouchCancel)},e.prototype.cleanupDomListeners=function(e){t.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},e.prototype.getTouchOffset=function(t){var e=this.scene.canvas.element.getBoundingClientRect(),n=t.touches[0];return n?{offsetX:n.clientX-e.left,offsetY:n.clientY-e.top}:void 0},e.prototype.onTouchStart=function(t){var e=this.getTouchOffset(t);e&&this.navigator.onDragStart(e)},e.prototype.onTouchMove=function(t){var e=this.getTouchOffset(t);e&&this.navigator.onDrag(e)},e.prototype.onTouchEnd=function(t){this.navigator.onDragStop()},e.prototype.onTouchCancel=function(t){this.navigator.onDragStop()},e.prototype.onMouseDown=function(e){t.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},e.prototype.onMouseMove=function(e){t.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},e.prototype.onMouseUp=function(e){t.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},e.prototype.onMouseOut=function(e){t.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},e.prototype.updateAxes=function(){var t=this.navigator,e=!1;this.axes.forEach((function(n){var r,o=n.direction,i=n.boundSeries;if(n.linkedTo)n.domain=n.linkedTo.domain;else{var s=[];i.filter((function(t){return t.visible})).forEach((function(t){s.push(t.getDomain(o))}));var a=(r=new Array).concat.apply(r,s);n.domain=ai(a)||a}n.direction===Ho.X&&(n.visibleRange=[t.min,t.max]),!e&&(n.visibleRange[0]>0||n.visibleRange[1]<1)&&(e=!0),n.update()})),this.seriesRoot.enabled=e},e.className="CartesianChart",e.type="cartesian",e}(Ea),ja=(va=function(t,e){return(va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}va(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ja(e,t),e.prototype.updateAxes=function(){this.axes.forEach((function(t){var e,n=t.direction,r=[],o=void 0;t.boundSeries.filter((function(t){return t.visible})).forEach((function(t){if(n===Ho.X)if(void 0===o){var e=t.getDomain(n);r.push(e),o="number"==typeof e[0]}else o&&r.push(t.getDomain(n));else r.push(t.getDomain(n))}));var i=(e=new Array).concat.apply(e,r);t.domain=ai(i)||i,t.update()}))},e.className="GroupedCategoryChart",e.type="groupedCategory",e}(La),Va=(ya=function(t,e){return(ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ya(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wa=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.directionKeys=((e={})[Ho.X]=["angleKey"],e[Ho.Y]=["radiusKey"],e),n.centerX=0,n.centerY=0,n.radius=0,n}return Va(e,t),e}(ra),Ba=(Va((function(){return null!==fa&&fa.apply(this,arguments)||this}),fa=sa),ga=function(t,e){return(ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ga(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ha=function(t){function e(e){void 0===e&&(e=window.document);var n=t.call(this,e)||this;return n.padding=new _r(40),n.scene.root.append(n.legend.group),n}return Ba(e,t),Object.defineProperty(e.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),e.prototype.performLayout=function(){var t=new Or(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var e=this.captionAutoPadding;if(t.y+=e,t.height-=e,this.legend.enabled&&this.legend.data.length){var n=this.legendAutoPadding;t.x+=n.left,t.y+=n.top,t.width-=n.left+n.right,t.height-=n.top+n.bottom;var r=this.legend.spacing;switch(this.legend.position){case"right":t.width-=r;break;case"bottom":t.height-=r;break;case"left":t.x+=r,t.width-=r;break;case"top":t.y+=r,t.height-=r}}var o=this.padding;t.x+=o.left,t.y+=o.top,t.width-=o.left+o.right,t.height-=o.top+o.bottom,this.seriesRect=t;var i=t.x+t.width/2,s=t.y+t.height/2,a=Math.min(t.width,t.height)/2;this.series.forEach((function(t){t instanceof Wa&&(t.centerX=i,t.centerY=s,t.radius=a,t.update())}))},e.className="PolarChart",e.type="polar",function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Ur("layoutChange")],e.prototype,"padding",void 0),e}(Ea);function za(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var n,r=void 0;if(Array.isArray(t)){if((n=t.length)!=e.length)return!1;for(r=n;0!=r--;)if(!za(t[r],e[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var o=Object.keys(t);if((n=o.length)!==Object.keys(e).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=n;0!=r--;){var i=o[r];if(!za(t[i],e[i]))return!1}return!0}return t!=t&&e!=e}var Ua=/(#\{(.*?)\})/g;function Ka(t,e,n){return t.replace(Ua,(function(){var t=arguments[2],r=t.split(":"),o=r[0],i=r[1],s=e[o];if("number"==typeof s){if(c=i&&n&&n[i]){var a=c,l=a.locales,u=a.options;return s.toLocaleString(l,u)}return String(s)}if(s instanceof Date){var c;if("string"==typeof(c=i&&n&&n[i])){var p=Yi.format(c);return p(s)}return s.toDateString()}return"string"==typeof s||s&&s.toString?String(s):""}))}var Ya,qa,Xa,Qa,Za=(Qa=function(t,e){return(Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ja=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Za(e,t),Ja([Ur("change")],e.prototype,"renderer",void 0),Ja([Ur("change")],e.prototype,"format",void 0),e}(na),tl=function(t){function e(){var e=t.call(this)||this;return e.tooltip=new $a,e.areaGroup=e.group.appendChild(new bo),e.strokeGroup=e.group.appendChild(new bo),e.markerGroup=e.group.appendChild(new bo),e.areaSelection=_o.select(e.areaGroup).selectAll(),e.strokeSelection=_o.select(e.strokeGroup).selectAll(),e.markerSelection=_o.select(e.markerGroup).selectAll(),e.markerSelectionData=[],e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.yDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new ua,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=void 0,e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.highlightStyle={fill:"yellow"},e.addEventListener("update",e.update),e.marker.enabled=!1,e.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.marker.addEventListener("change",e.update,e),e}return Za(e,t),e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey!==t&&(this._xKey=t,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){if(!za(this._yKeys,t)){this._yKeys=t,this.yData=[];var e=this.seriesItemEnabled;e.clear(),t.forEach((function(t){return e.set(t,!0)})),this.scheduleData()}},enumerable:!0,configurable:!0}),e.prototype.setColors=function(t,e){this.fills=t,this.strokes=e},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e,this.scheduleData())},enumerable:!0,configurable:!0}),e.prototype.onHighlightChange=function(){this.updateMarkerNodes()},e.prototype.processData=function(){var t=this.xKey,e=this.yKeys,n=this.seriesItemEnabled,r=t&&e.length&&this.data?this.data:[],o=!0;this.xData=r.map((function(e){return o&&!(t in e)&&(o=!1,console.warn("The key '"+t+"' was not found in the data: ",e)),e[t]})),this.yData=r.map((function(t){return e.map((function(e){o&&!(e in t)&&(o=!1,console.warn("The key '"+e+"' was not found in the data: ",t));var r=t[e];return isFinite(r)&&n.get(e)?r:0}))}));var i,s,a=this.yData,l=this.normalizedTo,u=a.map((function(t){return li(t)})),c=this.findLargestMinMax(u);return l&&isFinite(l)?(i=c.min<0?-l:0,s=l,a.forEach((function(t,e){return t.forEach((function(n,r){t[r]=n<0?-n/u[e].min*l:n/u[e].max*l}))}))):(i=c.min,s=c.max),0===i&&0===s&&(s=1),this.yDomain=this.fixNumericExtent([i,s],"y"),this.fireEvent({type:"dataProcessed"}),!0},e.prototype.findLargestMinMax=function(t){for(var e=0,n=0,r=0,o=t;r<o.length;r++){var i=o[r];i.min<e&&(e=i.min),i.max>n&&(n=i.max)}return{min:e,max:n}},e.prototype.getDomain=function(t){return t===Ho.X?this.xData:this.yDomain},e.prototype.update=function(){var t=this,e=t.visible,n=t.chart,r=t.xAxis,o=t.yAxis,i=t.xData,s=t.yData;if(this.group.visible=e&&!(!i.length||!s.length),r&&o&&e&&n&&!n.layoutPending&&!n.dataPending&&i.length&&s.length){var a=this.generateSelectionData();if(a){var l=a.areaSelectionData,u=a.markerSelectionData;this.updateAreaSelection(l),this.updateStrokeSelection(l),this.updateMarkerSelection(u),this.updateMarkerNodes(),this.markerSelectionData=u}}},e.prototype.generateSelectionData=function(){var t=this;if(this.data){var e=this,n=e.yKeys,r=e.data,o=e.xData,i=e.yData,s=e.marker,a=e.fills,l=e.strokes,u=e.xAxis.scale,c=e.yAxis.scale,p=(u.bandwidth||0)/2,h=(c.bandwidth||0)/2,d=[],f=[],g=2*o.length-1;return o.forEach((function(e,o){var y=i[o],v=r[o],m=u.convert(e)+p,C=0,b=0;y.forEach((function(e,r){var i=e<0?C:b,u=c.convert(i+e)+h,p=n[r];s&&f.push({series:t,seriesDatum:v,yValue:v[p],yKey:p,point:{x:m,y:u},fill:a[r%a.length],stroke:l[r%l.length]});var y=(d[r]||(d[r]={yKey:p,points:[]})).points;y[o]={x:m,y:u},y[g-o]={x:m,y:c.convert(i)+h},e<0?C+=e:b+=e}))})),{areaSelectionData:d,markerSelectionData:f}}},e.prototype.updateAreaSelection=function(t){var e=this,n=this,r=n.fills,o=n.fillOpacity,i=n.strokes,s=n.strokeOpacity,a=n.strokeWidth,l=n.seriesItemEnabled,u=n.shadow,c=this.areaSelection.setData(t);c.exit.remove();var p=c.enter.append(Fo).each((function(t){t.lineJoin="round",t.stroke=void 0,t.pointerEvents=qn.None})),h=c.merge(p);h.each((function(t,n,c){var p=t.path;t.fill=r[c%r.length],t.fillOpacity=o,t.stroke=i[c%i.length],t.strokeOpacity=s,t.strokeWidth=a,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=u,t.visible=!!l.get(n.yKey),p.clear(),n.points.forEach((function(t,e){var n=t.x,r=t.y;e>0?p.lineTo(n,r):p.moveTo(n,r)})),p.closePath()})),this.areaSelection=h},e.prototype.updateStrokeSelection=function(t){var e=this;if(this.data){var n=this,r=n.strokes,o=n.strokeWidth,i=n.strokeOpacity,s=n.data,a=n.seriesItemEnabled,l=this.strokeSelection.setData(t);l.exit.remove();var u=l.enter.append(Fo).each((function(t){t.fill=void 0,t.lineJoin=t.lineCap="round",t.pointerEvents=qn.None})),c=l.merge(u);c.each((function(t,n,l){var u=t.path;t.stroke=r[l%r.length],t.strokeWidth=o,t.visible=!!a.get(n.yKey),t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,u.clear();for(var c=n.points,p=0;p<s.length;p++){var h=c[p],d=h.x,f=h.y;p>0?u.lineTo(d,f):u.moveTo(d,f)}})),this.strokeSelection=c}},e.prototype.updateMarkerSelection=function(t){var e=this.marker,n=e.shape?t:[],r=Gs(e.shape),o=this.markerSelection.setData(n);o.exit.remove();var i=o.enter.append(r);this.markerSelection=o.merge(i)},e.prototype.updateMarkerNodes=function(){if(this.chart){var t=this.marker,e=t.formatter,n=void 0!==t.strokeWidth?t.strokeWidth:this.strokeWidth,r=t.size,o=this.xKey,i=this.seriesItemEnabled,s=this.chart.highlightedDatum,a=this.highlightStyle,l=a.fill,u=a.stroke;this.markerSelection.each((function(a,c){var p=c===s,h=p&&void 0!==l?l:t.fill||c.fill,d=p&&void 0!==u?u:t.stroke||c.stroke,f=void 0;e&&(f=e({datum:c.seriesDatum,xKey:o,yKey:c.yKey,fill:h,stroke:d,strokeWidth:n,size:r,highlighted:p})),a.fill=f&&f.fill||h,a.stroke=f&&f.stroke||d,a.strokeWidth=f&&void 0!==f.strokeWidth?f.strokeWidth:n,a.size=f&&void 0!==f.size?f.size:r,a.translationX=c.point.x,a.translationY=c.point.y,a.visible=t.enabled&&a.size>0&&!!i.get(c.yKey)}))}},e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:e.yKey})},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=t.yKey;if(!e||!n)return"";var r=this,o=r.xName,i=r.yNames,s=r.fills,a=r.tooltip,l=a.renderer,u=void 0===l?this.tooltipRenderer:l,c=a.format,p=t.seriesDatum,h=p[e],d=p[n],f=r.yKeys.indexOf(n),g=i[f],y=s[f%s.length],v={title:g,backgroundColor:y,content:("number"==typeof h?Lo(h):String(h))+": "+("number"==typeof d?Lo(d):String(d))};if(c||u){var m={datum:p,xKey:e,xName:o,xValue:h,yKey:n,yValue:d,yName:g,color:y};if(c)return da({content:Ka(c,m)},v);if(u)return da(u(m),v)}return da(v)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,r=e.id,o=e.yKeys,i=e.yNames,s=e.seriesItemEnabled,a=e.marker,l=e.fills,u=e.strokes,c=e.fillOpacity,p=e.strokeOpacity;n&&n.length&&e.xKey&&o.length&&o.forEach((function(e,n){t.push({id:r,itemId:e,enabled:s.get(e)||!1,label:{text:i[n]||o[n]},marker:{shape:a.shape,fill:a.fill||l[n%l.length],stroke:a.stroke||u[n%u.length],fillOpacity:c,strokeOpacity:p}})}))},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled.set(t,e),this.scheduleData()},e.className="AreaSeries",e.type="area",Ja([Ur("dataChange")],e.prototype,"fills",void 0),Ja([Ur("dataChange")],e.prototype,"strokes",void 0),Ja([Ur("update")],e.prototype,"fillOpacity",void 0),Ja([Ur("update")],e.prototype,"strokeOpacity",void 0),Ja([Ur("update")],e.prototype,"lineDash",void 0),Ja([Ur("update")],e.prototype,"lineDashOffset",void 0),Ja([Ur("update")],e.prototype,"xName",void 0),Ja([Ur("update")],e.prototype,"yNames",void 0),Ja([Ur("update")],e.prototype,"strokeWidth",void 0),Ja([Ur("update")],e.prototype,"shadow",void 0),e}(la),el=(Xa=function(t,e){return(Xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rl=function(t){function e(){var e=t.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return el(e,t),nl([Ur("change","dataChange")],e.prototype,"enabled",void 0),nl([Ur("change")],e.prototype,"fontStyle",void 0),nl([Ur("change")],e.prototype,"fontWeight",void 0),nl([Ur("change")],e.prototype,"fontSize",void 0),nl([Ur("change")],e.prototype,"fontFamily",void 0),nl([Ur("change")],e.prototype,"color",void 0),e}(zr),ol=(qa=function(t,e){return(qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),il=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(Ya||(Ya={}));var sl,al,ll,ul,cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ol(e,t),il([Ur("change")],e.prototype,"formatter",void 0),e}(rl),pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ol(e,t),il([Ur("change")],e.prototype,"renderer",void 0),e}(na),hl=function(t){function e(){var e,n=t.call(this)||this;return n.rectGroup=n.group.appendChild(new bo),n.textGroup=n.group.appendChild(new bo),n.rectSelection=_o.select(n.rectGroup).selectAll(),n.textSelection=_o.select(n.textGroup).selectAll(),n.xData=[],n.yData=[],n.yDomain=[],n.label=new cl,n.seriesItemEnabled=new Map,n.tooltip=new pl,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.groupScale=new ni,n.directionKeys=((e={})[Ho.X]=["xKey"],e[Ho.Y]=["yKeys"],e),n._xKey="",n._xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._grouped=!1,n._yNames={},n._strokeWidth=1,n.highlightStyle={fill:"yellow"},n.addEventListener("update",n.update),n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return ol(e,t),e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,r=n&&n[this.flipXY?Qo(t):t],o=[];return r&&r.forEach((function(t){var n=e[t];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))})),o},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey!==t&&(this._xKey=t,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xName",{get:function(){return this._xName},set:function(t){this._xName!==t&&(this._xName=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){var e=this;if(!za(this._yKeys,t)){if(t.length&&!Array.isArray(t[0])){var n=this.flatYKeys=t;t=this.grouped?n.map((function(t){return[t]})):[n]}else this.flatYKeys=void 0;this._yKeys=t;var r=0;this.cumYKeyCount=[];var o=[];t.forEach((function(t,n){t.length>0&&o.push(String(n)),e.cumYKeyCount.push(r),r+=t.length})),this.yData=[];var i=this.seriesItemEnabled;i.clear(),t.forEach((function(t){t.forEach((function(t){return i.set(t,!0)}))}));var s=this.groupScale;s.domain=o,s.padding=.1,s.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grouped",{get:function(){return this._grouped},set:function(t){this._grouped!==t&&(this._grouped=t,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yNames",{get:function(){return this._yNames},set:function(t){if(Array.isArray(t)&&this.flatYKeys){var e={};this.flatYKeys.forEach((function(n,r){e[n]=t[r]})),t=e}this._yNames=t,this.scheduleData()},enumerable:!0,configurable:!0}),e.prototype.setColors=function(t,e){this.fills=t,this.strokes=e},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadow",{get:function(){return this._shadow},set:function(t){this._shadow!==t&&(this._shadow=t,this.update())},enumerable:!0,configurable:!0}),e.prototype.onHighlightChange=function(){this.updateRectNodes()},e.prototype.processData=function(){var t=this.xKey,e=this.yKeys,n=this.seriesItemEnabled,r=t&&e.length&&this.data?this.data:[],o=!0;this.xData=r.map((function(e){return o&&!(t in e)&&(o=!1,console.warn("The key '"+t+"' was not found in the data: ",e)),e[t]})),this.yData=r.map((function(t){return e.map((function(e){return e.map((function(e){o&&!(e in t)&&(o=!1,console.warn("The key '"+e+"' was not found in the data: ",t));var r=t[e];return isFinite(r)&&n.get(e)?r:0}))}))}));var i,s,a=this.yData.map((function(t){return t.map((function(t){return li(t)}))})),l=this.yData,u=this.normalizedTo,c=this.findLargestMinMax(a);return u&&isFinite(u)?(i=c.min<0?-u:0,s=u,l.forEach((function(t,e){t.forEach((function(t,n){t.forEach((function(r,o){t[o]=r<0?-r/a[e][n].min*u:r/a[e][n].max*u}))}))}))):(i=c.min,s=c.max),this.yDomain=this.fixNumericExtent([i,s],"y"),this.fireEvent({type:"dataProcessed"}),!0},e.prototype.findLargestMinMax=function(t){for(var e=0,n=0,r=0,o=t;r<o.length;r++)for(var i=0,s=o[r];i<s.length;i++){var a=s[i];a.min<e&&(e=a.min),a.max>n&&(n=a.max)}return{min:e,max:n}},e.prototype.getDomain=function(t){return this.flipXY&&(t=Qo(t)),t===Ho.X?this.xData:this.yDomain},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:e.yKey})},e.prototype.generateNodeData=function(){var t=this;if(!this.data)return[];var e=this.flipXY,n=e?this.yAxis:this.xAxis,r=n.scale,o=(e?this.xAxis:this.yAxis).scale,i=this,s=i.groupScale,a=i.yKeys,l=i.cumYKeyCount,u=i.fills,c=i.strokes,p=i.strokeWidth,h=i.seriesItemEnabled,d=i.data,f=i.xData,g=i.yData,y=this.label,v=y.fontStyle,m=y.fontWeight,C=y.fontSize,b=y.fontFamily,w=y.color,_=y.formatter;s.range=[0,r.bandwidth];var O=s.bandwidth,E=[];return f.forEach((function(i,f){for(var y=d[f],S=r.convert(i),P=g[f],T=0;T<P.length;T++)for(var R=P[T],k=0,A=0,D=0;D<R.length;D++){var x=R[D],N=a[T][D],I=S+s.convert(String(T));if(n.inRange(I,O)){var F,M=x<0?k:A,L=o.convert(M+x),j=o.convert(M),G=y[N],V="number"==typeof G;F=_?_({value:V?G:void 0}):V&&isFinite(G)?G.toFixed(2):"";var W=l[T]+D;E.push({series:t,seriesDatum:y,yValue:G,yKey:N,x:e?Math.min(L,j):I,y:e?I:Math.min(L,j),width:e?Math.abs(j-L):O,height:e?O:Math.abs(j-L),fill:u[W%u.length],stroke:c[W%c.length],strokeWidth:p,label:h.get(N)&&F?{text:F,fontStyle:v,fontWeight:m,fontSize:C,fontFamily:b,fill:w,x:e?L+(G>=0?-1:1)*Math.abs(j-L)/2:I+O/2,y:e?I+O/2:L+(G>=0?1:-1)*Math.abs(j-L)/2}:void 0}),x<0?k+=x:A+=x}}})),E},e.prototype.update=function(){var t=this,e=t.visible,n=t.chart,r=t.xAxis,o=t.yAxis,i=t.xData,s=t.yData;if(this.group.visible=e,n&&!n.layoutPending&&!n.dataPending&&r&&o&&e&&i.length&&s.length){var a=this.generateNodeData();this.updateRectSelection(a),this.updateRectNodes(),this.updateTextSelection(a),this.updateTextNodes()}},e.prototype.updateRectSelection=function(t){var e=this.rectSelection.setData(t);e.exit.remove();var n=e.enter.append(bs).each((function(t){t.tag=Ya.Bar,t.crisp=!0}));this.rectSelection=e.merge(n)},e.prototype.updateRectNodes=function(){var t=this;if(this.chart){var e=this,n=e.fillOpacity,r=e.strokeOpacity,o=e.highlightStyle,i=o.fill,s=o.stroke,a=e.shadow,l=e.formatter,u=e.xKey,c=e.flipXY,p=this.chart.highlightedDatum;this.rectSelection.each((function(e,o){var h=o===p,d=h&&void 0!==i?i:o.fill,f=h&&void 0!==s?s:o.stroke,g=void 0;l&&(g=l({datum:o.seriesDatum,fill:d,stroke:f,strokeWidth:o.strokeWidth,highlighted:h,xKey:u,yKey:o.yKey})),e.x=o.x,e.y=o.y,e.width=o.width,e.height=o.height,e.fill=g&&g.fill||d,e.stroke=g&&g.stroke||f,e.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:o.strokeWidth,e.fillOpacity=n,e.strokeOpacity=r,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=a,e.visible=c?o.width>0:o.height>0}))}},e.prototype.updateTextSelection=function(t){var e=this.textSelection.setData(t);e.exit.remove();var n=e.enter.append(Br).each((function(t){t.tag=Ya.Label,t.pointerEvents=qn.None,t.textAlign="center",t.textBaseline="middle"}));this.textSelection=e.merge(n)},e.prototype.updateTextNodes=function(){var t=this.label.enabled;this.textSelection.each((function(e,n){var r=n.label;r&&t?(e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.text=r.text,e.x=r.x,e.y=r.y,e.fill=r.fill,e.visible=!0):e.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=t.yKey;if(!e||!n)return"";for(var r=0,o=0,i=this.yKeys;o<i.length;o++){var s=i[o],a=s.indexOf(n);if(a>=0){r+=a;break}r+=s.length}var l=this.xName,u=this.fills,c=this.tooltip.renderer,p=void 0===c?this.tooltipRenderer:c,h=t.seriesDatum,d=this.yNames[n],f=u[r%u.length],g=h[e],y=h[n],v={title:d,backgroundColor:f,content:("number"==typeof g?Lo(g):String(g))+": "+("number"==typeof y?Lo(y):String(y))};return p?da(p({datum:h,xKey:e,xValue:g,xName:l,yKey:n,yValue:y,yName:d,color:f}),v):da(v)},e.prototype.listSeriesItems=function(t){var e=this,n=e.id,r=e.data,o=e.yNames,i=e.cumYKeyCount,s=e.seriesItemEnabled,a=e.hideInLegend,l=e.fills,u=e.strokes,c=e.fillOpacity,p=e.strokeOpacity;r&&r.length&&e.xKey&&e.yKeys.length&&this.yKeys.forEach((function(e,r){e.forEach((function(e,h){if(a.indexOf(e)<0){var d=i[r]+h;t.push({id:n,itemId:e,enabled:s.get(e)||!1,label:{text:o[e]||e},marker:{fill:l[d%l.length],stroke:u[d%u.length],fillOpacity:c,strokeOpacity:p}})}}))}))},e.prototype.toggleSeriesItem=function(t,e){var n=this.seriesItemEnabled;n.set(t,e);var r=this.yKeys.map((function(t){return t.slice()}));n.forEach((function(t,e){t||r.forEach((function(t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}))}));var o=[];r.forEach((function(t,e){t.length>0&&o.push(String(e))})),this.groupScale.domain=o,this.scheduleData()},e.className="BarSeries",e.type="bar",il([Ur("layoutChange")],e.prototype,"flipXY",void 0),il([Ur("dataChange")],e.prototype,"fills",void 0),il([Ur("dataChange")],e.prototype,"strokes",void 0),il([Ur("layoutChange")],e.prototype,"fillOpacity",void 0),il([Ur("layoutChange")],e.prototype,"strokeOpacity",void 0),il([Ur("update")],e.prototype,"lineDash",void 0),il([Ur("update")],e.prototype,"lineDashOffset",void 0),il([Ur("update")],e.prototype,"formatter",void 0),il([Ur("layoutChange")],e.prototype,"hideInLegend",void 0),e}(la),dl=(ul=function(t,e){return(ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ul(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dl(e,t),fl([Ur("change")],e.prototype,"renderer",void 0),fl([Ur("change")],e.prototype,"format",void 0),e}(na),yl=function(t){function e(){var e=t.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new Fo,e.nodeSelection=_o.select(e.group).selectAll(),e.nodeData=[],e.marker=new ua,e.stroke="#874349",e.lineDash=void 0,e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new gl,e._xKey="",e.xName="",e._yKey="",e.yName="",e.highlightStyle={fill:"yellow"};var n=e.lineNode;n.fill=void 0,n.lineJoin="round",n.pointerEvents=qn.None,e.group.append(n),e.addEventListener("update",e.update);var r=e.marker;return r.fill="#c16068",r.stroke="#874349",r.addPropertyListener("shape",e.onMarkerShapeChange,e),r.addPropertyListener("enabled",e.onMarkerEnabledChange,e),r.addEventListener("change",e.update,e),e}return dl(e,t),e.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},e.prototype.onMarkerEnabledChange=function(t){t.value||(this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove())},e.prototype.setColors=function(t,e){this.stroke=t[0],this.marker.stroke=e[0],this.marker.fill=t[0]},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey!==t&&(this._xKey=t,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey!==t&&(this._yKey=t,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),e.prototype.processData=function(){var t=this,e=t.xAxis,n=t.xKey,r=t.yKey,o=t.xData,i=t.yData,s=n&&r&&this.data?this.data:[];if(!e)return!1;var a=e.scale instanceof oo,l=t.yAxis.scale instanceof oo;o.length=0,i.length=0;for(var u=0,c=s.length;u<c;u++){var p=s[u],h=p[r];o.push(p[n]),i.push(h)}return this.xDomain=a?this.fixNumericExtent(ai(o),"x"):o,this.yDomain=l?this.fixNumericExtent(ai(i),"y"):i,!0},e.prototype.getDomain=function(t){return t===Ho.X?this.xDomain:this.yDomain},e.prototype.onHighlightChange=function(){this.updateNodes()},e.prototype.update=function(){this.group.visible=this.visible;var t=this.chart;t&&!t.layoutPending&&!t.dataPending&&this.xAxis&&this.yAxis&&(this.updateLinePath(),this.updateNodeSelection(),this.updateNodes())},e.prototype.getXYDatums=function(t,e,n,r,o){var i=r instanceof oo,s=e[t],a=n[t];return null==a||o instanceof oo&&(isNaN(a)||!isFinite(a))||null==s||i&&(isNaN(s)||!isFinite(s))?void 0:[s,a]},e.prototype.updateLinePath=function(){if(this.data){var t=this,e=t.xAxis,n=t.data,r=t.xData,o=t.yData,i=t.lineNode,s=e.scale,a=t.yAxis.scale,l=(s.bandwidth||0)/2,u=(a.bandwidth||0)/2,c=i.path,p=[];c.clear();for(var h=!0,d=void 0,f=void 0,g=0;g<r.length;g++){var y=f||this.getXYDatums(g,r,o,s,a);if(y){var v=y[1],m=s.convert(y[0])+l,C=(s.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;f=this.getXYDatums(g+1,r,o,s,a);var b=e.inRangeEx(m,0,C),w=f&&e.inRangeEx(s.convert(f[0])+l,0,C);if(-1===b&&-1===w){h=!0;continue}if(1===b&&1===d){h=!0;continue}d=b;var _=a.convert(v)+u;h?(c.moveTo(m,_),h=!1):c.lineTo(m,_),p.push({series:this,seriesDatum:n[g],point:{x:m,y:_}})}else d=void 0,h=!0}i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,i.strokeOpacity=this.strokeOpacity,this.nodeData=p}},e.prototype.updateNodeSelection=function(){var t=this.marker,e=t.shape?this.nodeData:[],n=Gs(t.shape),r=this.nodeSelection.setData(e);r.exit.remove();var o=r.enter.append(bo);o.append(n),this.nodeSelection=r.merge(o)},e.prototype.updateNodes=function(){if(this.chart){var t=this,e=t.marker,n=t.xKey,r=t.yKey,o=t.stroke,i=t.strokeWidth,s=Gs(e.shape),a=this.chart.highlightedDatum,l=this.highlightStyle,u=l.fill,c=l.stroke,p=e.formatter,h=e.size,d=void 0!==e.strokeWidth?e.strokeWidth:i;this.nodeSelection.selectByClass(s).each((function(t,i){var s=i===a,l=s&&void 0!==u?u:e.fill,f=s&&void 0!==c?c:e.stroke||o,g=void 0;p&&(g=p({datum:i.seriesDatum,xKey:n,yKey:r,fill:l,stroke:f,strokeWidth:d,size:h,highlighted:s})),t.fill=g&&g.fill||l,t.stroke=g&&g.stroke||f,t.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:d,t.size=g&&void 0!==g.size?g.size:h,t.translationX=i.point.x,t.translationY=i.point.y,t.visible=e.enabled&&t.size>0}))}},e.prototype.getNodeData=function(){return this.nodeData},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:this.yKey})},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=this.yKey;if(!e||!n)return"";var r=this.xName,o=this.yName,i=this.stroke,s=this.tooltip,a=s.renderer,l=void 0===a?this.tooltipRenderer:a,u=s.format,c=t.seriesDatum,p=c[e],h=c[n],d="number"==typeof p?Lo(p):String(p),f="number"==typeof h?Lo(h):String(h),g=this.title||o,y={title:g,backgroundColor:i,content:d+": "+f};if(u||l){var v={datum:c,xKey:e,xValue:p,xName:r,yKey:n,yValue:h,yName:o,title:g,color:i};if(u)return da({content:Ka(u,v)},y);if(l)return da(l(v),y)}return da(y)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,r=e.yKey,o=e.marker;n&&n.length&&e.xKey&&r&&t.push({id:e.id,itemId:void 0,enabled:e.visible,label:{text:e.title||e.yName||r},marker:{shape:o.shape,fill:o.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:e.strokeOpacity}})},e.className="LineSeries",e.type="line",fl([Ur("layoutChange")],e.prototype,"title",void 0),fl([Ur("update")],e.prototype,"stroke",void 0),fl([Ur("update")],e.prototype,"lineDash",void 0),fl([Ur("update")],e.prototype,"lineDashOffset",void 0),fl([Ur("update")],e.prototype,"strokeWidth",void 0),fl([Ur("update")],e.prototype,"strokeOpacity",void 0),fl([Ur("update")],e.prototype,"xName",void 0),fl([Ur("update")],e.prototype,"yName",void 0),e}(la),vl=(ll=function(t,e){return(ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ll(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ml=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vl(e,t),ml([Ur("change")],e.prototype,"renderer",void 0),e}(na),bl=function(t){function e(){var e=t.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.sizeData=[],e.sizeScale=new mo,e.nodeSelection=_o.select(e.group).selectAll(),e.nodeData=[],e.marker=new ua,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.highlightStyle={fill:"yellow"},e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new Cl;var n=e.marker;return n.addPropertyListener("shape",e.onMarkerShapeChange,e),n.addEventListener("change",e.update,e),e.addPropertyListener("xKey",(function(){return e.xData=[]})),e.addPropertyListener("yKey",(function(){return e.yData=[]})),e.addPropertyListener("sizeKey",(function(){return e.sizeData=[]})),e}return vl(e,t),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill!==t&&(this._fill=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!==t&&(this._stroke=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(t){this._fillOpacity!==t&&(this._fillOpacity=t,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(t){this._strokeOpacity!==t&&(this._strokeOpacity=t,this.scheduleLayout())},enumerable:!0,configurable:!0}),e.prototype.onHighlightChange=function(){this.updateNodes()},e.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},e.prototype.setColors=function(t,e){this.fill=t[0],this.stroke=e[0],this.marker.fill=t[0],this.marker.stroke=e[0]},e.prototype.processData=function(){var t=this,e=t.xKey,n=t.yKey,r=t.sizeKey,o=t.xAxis,i=t.yAxis,s=t.marker,a=e&&n&&this.data?this.data:[];return this.xData=a.map((function(t){return t[e]})),this.yData=a.map((function(t){return t[n]})),this.sizeData=r?a.map((function(t){return t[r]})):[],this.sizeScale.domain=s.domain?s.domain:si(this.sizeData)||[1,1],this.xDomain=o.scale instanceof oo?this.fixNumericExtent(si(this.xData),"x"):this.xData,this.yDomain=i.scale instanceof oo?this.fixNumericExtent(si(this.yData),"y"):this.yData,!0},e.prototype.getDomain=function(t){return t===Ho.X?this.xDomain:this.yDomain},e.prototype.getNodeData=function(){return this.nodeData},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},e.prototype.generateNodeData=function(){if(!this.data)return[];var t=this.xAxis,e=t.scale,n=this.yAxis.scale,r=e instanceof oo,o=n instanceof oo,i=(e.bandwidth||0)/2,s=(n.bandwidth||0)/2,a=this,l=a.data,u=a.xData,c=a.yData,p=a.sizeData,h=a.sizeScale,d=a.marker;h.range=[d.size,d.maxSize];for(var f=[],g=0;g<u.length;g++){var y=u[g],v=c[g];if(null!=v&&(!o||!isNaN(v)&&isFinite(v))&&null!=y&&(!r||!isNaN(y)&&isFinite(y))){var m=e.convert(y)+i;t.inRange(m)&&f.push({series:this,seriesDatum:l[g],point:{x:m,y:n.convert(c[g])+s},size:p.length?h.convert(p[g]):d.size})}}return f},e.prototype.update=function(){var t=this.visible,e=this.chart,n=this.xAxis,r=this.yAxis;if(this.group.visible=t,t&&e&&!e.layoutPending&&!e.dataPending&&n&&r){var o=this.nodeData=this.generateNodeData();this.updateNodeSelection(o),this.updateNodes()}},e.prototype.updateNodeSelection=function(t){var e=Gs(this.marker.shape),n=this.nodeSelection.setData(t);n.exit.remove();var r=n.enter.append(bo);r.append(e),this.nodeSelection=n.merge(r)},e.prototype.updateNodes=function(){if(this.chart){var t=this.chart.highlightedDatum,e=this,n=e.marker,r=e.xKey,o=e.yKey,i=e.fill,s=e.stroke,a=e.fillOpacity,l=e.strokeOpacity,u=this.highlightStyle,c=u.fill,p=u.stroke,h=void 0!==n.strokeWidth?n.strokeWidth:e.strokeWidth,d=Gs(n.shape),f=n.formatter;this.nodeSelection.selectByClass(d).each((function(e,u){var d=u===t,g=d&&void 0!==c?c:n.fill||i,y=d&&void 0!==p?p:n.stroke||s,v=void 0;f&&(v=f({datum:u.seriesDatum,xKey:r,yKey:o,fill:g,stroke:y,strokeWidth:h,size:u.size,highlighted:d})),e.fill=v&&v.fill||g,e.stroke=v&&v.stroke||y,e.strokeWidth=v&&void 0!==v.strokeWidth?v.strokeWidth:h,e.size=v&&void 0!==v.size?v.size:u.size,e.fillOpacity=a,e.strokeOpacity=l,e.translationX=u.point.x,e.translationY=u.point.y,e.visible=n.enabled&&e.size>0}))}},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=this.yKey;if(!e||!n)return"";var r=this,o=r.xName,i=r.yName,s=r.sizeKey,a=r.sizeName,l=r.labelKey,u=r.labelName,c=r.tooltip.renderer,p=void 0===c?this.tooltipRenderer:c,h=r.fill||"gray",d=this.title||i,f=t.seriesDatum,g=f[e],y=f[n],v="<b>"+(o||e)+"</b>: "+("number"==typeof g?Lo(g):g)+"<br><b>"+(i||n)+"</b>: "+("number"==typeof y?Lo(y):y);s&&(v+="<br><b>"+a+"</b>: "+f[s]),l&&(v="<b>"+u+"</b>: "+f[l]+"<br>"+v);var m={title:d,backgroundColor:h,content:v};return p?da(p({datum:f,xKey:e,xValue:g,xName:o,yKey:n,yValue:y,yName:i,sizeKey:s,sizeName:a,labelKey:l,labelName:u,title:d,color:h}),m):da(m)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,r=e.yKey,o=e.marker;n&&n.length&&e.xKey&&r&&t.push({id:e.id,itemId:void 0,enabled:e.visible,label:{text:e.title||e.yName||r},marker:{shape:o.shape,fill:o.fill||e.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})},e.className="ScatterSeries",e.type="scatter",ml([Ur("layoutChange")],e.prototype,"title",void 0),ml([Ur("dataChange")],e.prototype,"xKey",void 0),ml([Ur("dataChange")],e.prototype,"yKey",void 0),ml([Ur("dataChange")],e.prototype,"sizeKey",void 0),ml([Ur("dataChange")],e.prototype,"labelKey",void 0),e}(la),wl=(al=function(t,e){return(al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}al(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_l=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(sl||(sl={}));var Ol,El,Sl,Pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wl(e,t),_l([Ur("change")],e.prototype,"formatter",void 0),e}(rl),Tl={count:function(t){return t.data.length},sum:function(t,e){return t.data.reduce((function(t,n){return t+n[e]}),0)},mean:function(t,e){return Tl.sum(t,e)/Tl.count(t,e)}},Rl=function(){function t(t){var e=t[0],n=t[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[e,n]}return t.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(t.prototype,"domainWidth",{get:function(){var t=this.domain;return t[1]-t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),t.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,Tl[t])(this,e)},t.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},t}(),kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wl(e,t),_l([Ur("change")],e.prototype,"renderer",void 0),e}(na),Al=function(t){function e(){var e,n=t.call(this)||this;return n.rectGroup=n.group.appendChild(new bo),n.textGroup=n.group.appendChild(new bo),n.rectSelection=_o.select(n.rectGroup).selectAll(),n.textSelection=_o.select(n.textGroup).selectAll(),n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new Pl,n.seriesItemEnabled=!0,n.tooltip=new kl,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.directionKeys=((e={})[Ho.X]=["xKey"],e[Ho.Y]=["yKey"],e),n._xKey="",n._areaPlot=!1,n._bins=void 0,n._aggregation="count",n._binCount=void 0,n._xName="",n._yKey="",n._yName="",n._strokeWidth=1,n.highlightStyle={fill:"yellow"},n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return wl(e,t),e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,r=n&&n[t],o=[];return r&&r.forEach((function(t){var n=e[t];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))})),o},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey!==t&&(this._xKey=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(t){this._areaPlot=t,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bins",{get:function(){return this._bins},set:function(t){this._bins=t,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregation",{get:function(){return this._aggregation},set:function(t){this._aggregation=t,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binCount",{get:function(){return this._binCount},set:function(t){this._binCount=t,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xName",{get:function(){return this._xName},set:function(t){this._xName!==t&&(this._xName=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yName",{get:function(){return this._yName},set:function(t){this._yName=t,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadow",{get:function(){return this._shadow},set:function(t){this._shadow!==t&&(this._shadow=t,this.update())},enumerable:!0,configurable:!0}),e.prototype.onHighlightChange=function(){this.updateRectNodes()},e.prototype.setColors=function(t,e){this.fill=t[0],this.stroke=e[0]},e.prototype.deriveBins=function(){var t=this,e=this.bins;if(!this.data)return[];if(e&&this.binCount&&console.warn("bins and bitCount are mutually exclusive properties."),e)return e;var n=this.data.map((function(e){return e[t.xKey]})),r=this.fixNumericExtent(si(n),"x"),o=so(r[0],r[1],this.binCount||10),i=co(r[0],r[1],this.binCount||10),s=o[0];return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}([[s-i,s]],o.map((function(t){return[t,t+i]})))},e.prototype.placeDataInBins=function(t){var e=this,n=this.xKey,r=this.deriveBins(),o=t.slice().sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0})),i=0,s=[new Rl(r[0])];t:for(var a=0,l=o.length;a<l;a++){for(var u=o[a];u[n]>r[i][1];){var c=r[++i];if(!c)break t;s.push(new Rl(c))}s[i].addDatum(u)}return s.forEach((function(t){return t.calculateAggregatedValue(e._aggregation,e.yKey)})),s},Object.defineProperty(e.prototype,"xMax",{get:function(){var t=this;return this.data&&this.data.reduce((function(e,n){return Math.max(e,n[t.xKey])}),Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),e.prototype.processData=function(){var t=this,e=this.data;this.binnedData=this.placeDataInBins(this.xKey&&e?e:[]);var n=ai(this.binnedData.map((function(e){return e.getY(t.areaPlot)})));return this.yDomain=this.fixNumericExtent([0,n?n[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},e.prototype.getDomain=function(t){return t===Ho.X?this.xDomain:this.yDomain},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.seriesDatum,xKey:this.xKey})},e.prototype.update=function(){var t=this.visible,e=this.chart,n=this.xAxis,r=this.yAxis;if(this.group.visible=t,n&&r&&t&&e&&!e.layoutPending&&!e.dataPending){var o=this.generateNodeData();this.updateRectSelection(o),this.updateRectNodes(),this.updateTextSelection(o),this.updateTextNodes()}},e.prototype.generateNodeData=function(){var t=this;if(!this.seriesItemEnabled)return[];var e=this,n=e.xAxis.scale,r=e.yAxis.scale,o=e.fill,i=e.stroke,s=e.strokeWidth,a=[],l=this.label,u=l.formatter,c=void 0===u?function(t){return String(t.value)}:u,p=l.fontStyle,h=l.fontWeight,d=l.fontSize,f=l.fontFamily,g=l.color;return this.binnedData.forEach((function(e){var l=e.aggregatedValue,u=e.frequency,y=e.domain,v=y[1],m=e.relativeHeight,C=n.convert(y[0]),b=n.convert(v),w=t.areaPlot?m:t.yKey?l:u,_=r.convert(0),O=r.convert(w),E=b-C,S=Math.abs(O-_),P=0!==w?{text:c({value:e.aggregatedValue}),fontStyle:p,fontWeight:h,fontSize:d,fontFamily:f,fill:g,x:C+E/2,y:O+S/2}:void 0;a.push({series:t,seriesDatum:e,x:C,y:O,width:E,height:S,fill:o,stroke:i,strokeWidth:s,label:P})})),a},e.prototype.updateRectSelection=function(t){var e=this.rectSelection.setData(t);e.exit.remove();var n=e.enter.append(bs).each((function(t){t.tag=sl.Bin,t.crisp=!0}));this.rectSelection=e.merge(n)},e.prototype.updateRectNodes=function(){var t=this;if(this.chart){var e=this.chart.highlightedDatum,n=this.fillOpacity,r=this.strokeOpacity,o=this.shadow,i=this.highlightStyle,s=i.fill,a=i.stroke;this.rectSelection.each((function(i,l){var u=l===e;i.x=l.x,i.y=l.y,i.width=l.width,i.height=l.height,i.fill=u&&void 0!==s?s:l.fill,i.stroke=u&&void 0!==a?a:l.stroke,i.fillOpacity=n,i.strokeOpacity=r,i.strokeWidth=l.strokeWidth,i.lineDash=t.lineDash,i.lineDashOffset=t.lineDashOffset,i.fillShadow=o,i.visible=l.height>0}))}},e.prototype.updateTextSelection=function(t){var e=this.textSelection.setData(t);e.exit.remove();var n=e.enter.append(Br).each((function(t){t.tag=sl.Label,t.pointerEvents=qn.None,t.textAlign="center",t.textBaseline="middle"}));this.textSelection=e.merge(n)},e.prototype.updateTextNodes=function(){var t=this.label.enabled;this.textSelection.each((function(e,n){var r=n.label;r&&t?(e.text=r.text,e.x=r.x,e.y=r.y,e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.fill=r.fill,e.visible=!0):e.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=this.yKey;if(!e)return"";var r=this,o=r.xName,i=r.yName,s=r.fill,a=r.aggregation,l=r.tooltip.renderer,u=void 0===l?this.tooltipRenderer:l,c=t.seriesDatum,p=c.aggregatedValue,h=c.frequency,d=c.domain,f=d[1],g=(o||e)+": "+Lo(d[0])+" - "+Lo(f),y=n?"<b>"+(i||n)+" ("+a+")</b>: "+Lo(p)+"<br>":"",v={title:g,backgroundColor:s,content:y+="<b>Frequency</b>: "+h};return u?da(u({datum:c,xKey:e,xValue:c.domain,xName:o,yKey:n,yValue:c.aggregatedValue,yName:i,color:s}),v):da(v)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,r=e.yKey;n&&n.length&&t.push({id:e.id,itemId:r,enabled:e.seriesItemEnabled,label:{text:e.yName||r||"Frequency"},marker:{fill:e.fill||"rgba(0, 0, 0, 0)",stroke:e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})},e.prototype.toggleSeriesItem=function(t,e){t===this.yKey&&(this.seriesItemEnabled=e),this.scheduleData()},e.className="HistogramSeries",e.type="histogram",_l([Ur("dataChange")],e.prototype,"fill",void 0),_l([Ur("dataChange")],e.prototype,"stroke",void 0),_l([Ur("layoutChange")],e.prototype,"fillOpacity",void 0),_l([Ur("layoutChange")],e.prototype,"strokeOpacity",void 0),_l([Ur("update")],e.prototype,"lineDash",void 0),_l([Ur("update")],e.prototype,"lineDashOffset",void 0),e}(la),Dl=(Sl=function(t,e){return(Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new No,e._dirtyPath=!0,e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=2*Math.PI,e._angleOffset=0,e}return Dl(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(t){this._centerOffset!==t&&(this._centerOffset=Math.max(0,t),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){this._innerRadius!==t&&(this._innerRadius=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(t){this._outerRadius!==t&&(this._outerRadius=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){this._startAngle!==t&&(this._startAngle=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this._endAngle},set:function(t){this._endAngle!==t&&(this._endAngle=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(t){this._angleOffset!==t&&(this._angleOffset=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){var t=this.outerRadius;return new Or(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.isPointInPath(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},Object.defineProperty(e.prototype,"fullPie",{get:function(){return Mo(Po(this.startAngle),Po(this.endAngle))},enumerable:!0,configurable:!0}),e.prototype.updatePath=function(){if(this.dirtyPath){var t=this.path,e=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+e,r=Math.max(this.startAngle,this.endAngle)+e,o=.5*(n+r),i=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.centerOffset,l=this.fullPie,u=this.centerX,c=this.centerY;if(t.clear(),a&&(u+=a*Math.cos(o),c+=a*Math.sin(o)),l||(t.moveTo(u+i*Math.cos(n),c+i*Math.sin(n)),t.lineTo(u+s*Math.cos(n),c+s*Math.sin(n))),t.cubicArc(u,c,s,s,0,n,r,0),l)t.moveTo(u+i*Math.cos(r),c+i*Math.sin(r));else{var p=u+i*Math.cos(r);t.lineTo(Math.abs(p)<1e-8?0:p,c+i*Math.sin(r))}t.cubicArc(u,c,i,i,0,r,n,1),t.closePath(),this.dirtyPath=!1}},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t),this.updatePath(),this.scene.appendPath(this.path),this.fillStroke(t),this.dirty=!1},e.className="Sector",e}(Gr),Nl=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.fromHexString=function(e){var n=e.match(t.hexRe);if(n)return new t((r=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=e.match(t.shortHexRe)){var r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new t((r+=16*r)/255,(o+=16*o)/255,(i+=16*i)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.fromRgbaString=function(e){var n=e.match(t.rgbRe);if(n)return new t(+n[1]/255,+n[2]/255,+n[3]/255);if(n=e.match(t.rgbaRe))return new t(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,o){void 0===o&&(o=1);var i=t.HSBtoRGB(e,n,r);return new t(i[0],i[1],i[2],o)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),o=Math.max(t,e,n),i=NaN;if(r!==o){var s=o-r,a=(o-t)/s,l=(o-e)/s,u=(o-n)/s;i=t===o?u-l:e===o?2+a-u:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-r)/o:0,o]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,o=0,i=0;if(0===e)r=o=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),u=n*(1-e*a),c=n*(1-e*(1-a));switch(s>>0){case 0:r=n,o=c,i=l;break;case 1:r=u,o=n,i=l;break;case 2:r=l,o=n,i=c;break;case 3:r=l,o=u,i=n;break;case 4:r=c,o=l,i=n;break;case 5:r=n,o=l,i=u}}return[r,o,i]},t.prototype.derive=function(e,n,r,o){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&r>1&&(s=.05);var a=((i[0]+e)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*r,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=t.HSBtoRGB(a,l,s);return c.push(u),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,t.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,t.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,t.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}(),Il=(El=function(t,e){return(El=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}El(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(Ol||(Ol={}));var Ml,Ll=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return Il(e,t),Fl([Ur("change")],e.prototype,"offset",void 0),Fl([Ur("dataChange")],e.prototype,"minAngle",void 0),e}(rl),jl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colors=[],e.length=10,e.strokeWidth=1,e}return Il(e,t),Fl([Ur("change")],e.prototype,"colors",void 0),Fl([Ur("change")],e.prototype,"length",void 0),Fl([Ur("change")],e.prototype,"strokeWidth",void 0),e}(zr),Gl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Il(e,t),Fl([Ur("change")],e.prototype,"renderer",void 0),e}(na),Vl=function(t){function e(){var e,n=t.call(this)||this;return n.radiusScale=new mo,n.groupSelection=_o.select(n.group).selectAll(),n.groupSelectionData=[],n.angleScale=((e=new mo).domain=[0,1],e.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),e),n.seriesItemEnabled=[],n.label=new Ll,n.callout=new jl,n.tooltip=new Gl,n.angleKey="",n.angleName="",n._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.rotation=0,n.outerRadiusOffset=0,n.innerRadiusOffset=0,n.strokeWidth=1,n.highlightStyle={fill:"yellow"},n.addEventListener("update",n.update,n),n.label.addEventListener("change",n.scheduleLayout,n),n.label.addEventListener("dataChange",n.scheduleData,n),n.callout.addEventListener("change",n.scheduleLayout,n),n.callout.colors=n.strokes,n.addPropertyListener("data",(function(t){t.value&&(t.source.seriesItemEnabled=t.value.map((function(){return!0})))})),n}return Il(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&(e.removeEventListener("change",this.scheduleLayout),this.group.removeChild(e.node)),t&&(t.node.textBaseline="bottom",t.addEventListener("change",this.scheduleLayout),this.group.appendChild(t.node)),this._title=t,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fills",{get:function(){return this._fills},set:function(t){this._fills=t,this.strokes=t.map((function(t){return Nl.fromString(t).darker().toHexString()})),this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokes",{get:function(){return this._strokes},set:function(t){this._strokes=t,this.callout.colors=t,this.scheduleData()},enumerable:!0,configurable:!0}),e.prototype.onHighlightChange=function(){this.updateNodes()},e.prototype.setColors=function(t,e){this.fills=t,this.strokes=e,this.callout.colors=e},e.prototype.getDomain=function(t){return t===Ho.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(){var t,e=this,n=this,r=n.angleKey,o=n.radiusKey,i=n.seriesItemEnabled,s=n.angleScale,a=n.groupSelectionData,l=r&&this.data?this.data:[],u=l.map((function(t,e){return i[e]&&Math.abs(+t[r])||0})),c=u.reduce((function(t,e){return t+e}),0),p=(t=0,u.map((function(e){return t+=e/c}))),h=this.label.enabled&&this.labelKey,d=h?l.map((function(t){return String(t[h])})):[],f=[];if(o){var g=this.radiusMin,y=this.radiusMax,v=l.map((function(t){return Math.abs(t[o])})),m=void 0!==g?g:Math.min.apply(Math,v),C=(void 0!==y?y:Math.max.apply(Math,v))-m;f=v.map((function(t){return C?(t-m)/C:1}))}a.length=0;var b=To(this.rotation),w=Math.PI/2,_=0;return p.reduce((function(t,n){var r,i,u,c=o?f[_]:1,p=s.convert(t)+b,g=s.convert(n)+b,y=(p+g)/2,v=Math.abs(g-p),m=Math.cos(y),C=Math.sin(y),O=To(e.label.minAngle),E=(r=y,(r%=So)<-Math.PI?r+=So:r>=Math.PI&&(r-=So),r),S=-3*Math.PI/4;return E>=S&&E<(S+=w)?(i="center",u="bottom"):E>=S&&E<(S+=w)?(i="left",u="middle"):E>=S&&E<(S+=w)?(i="center",u="hanging"):(i="right",u="middle"),a.push({series:e,seriesDatum:l[_],index:_,radius:c,startAngle:p,endAngle:g,midAngle:y,midCos:m,midSin:C,label:h&&v>O?{text:d[_],textAlign:i,textBaseline:u}:void 0}),_++,n}),0),!0},e.prototype.update=function(){var t=this.chart;if((this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0)&&t&&!t.dataPending&&!t.layoutPending){var e=this.radius,n=this.innerRadiusOffset,r=this.outerRadiusOffset,o=this.title;this.radiusScale.range=[n?e+n:0,e+(r||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,o&&(o.node.translationY=-e-r-2,o.node.visible=o.enabled),this.updateGroupSelection(),this.updateNodes()}},e.prototype.updateGroupSelection=function(){var t=this.groupSelection.setData(this.groupSelectionData);t.exit.remove();var e=t.enter.append(bo);e.append(xl).each((function(t){return t.tag=Ol.Sector})),e.append(Eo).each((function(t){t.tag=Ol.Callout,t.pointerEvents=qn.None})),e.append(Br).each((function(t){t.tag=Ol.Label,t.pointerEvents=qn.None})),this.groupSelection=t.merge(e)},e.prototype.updateNodes=function(){var t=this;if(this.chart){var e=this,n=e.fills,r=e.strokes,o=e.fillOpacity,i=e.strokeOpacity,s=e.strokeWidth,a=e.outerRadiusOffset,l=e.radiusScale,u=e.callout,c=e.shadow,p=e.highlightStyle,h=p.fill,d=p.stroke,f=p.centerOffset,g=e.angleKey,y=e.radiusKey,v=e.formatter,m=this.chart.highlightedDatum,C=[],b=l.convert(0);this.groupSelection.selectByTag(Ol.Sector).each((function(e,u,p){var w=l.convert(u.radius),_=(Math.max(0,w+a),u===m),O=_&&void 0!==h?h:n[p%n.length],E=_&&void 0!==d?d:r[p%r.length],S=void 0;v&&(S=v({datum:u.seriesDatum,fill:O,stroke:E,strokeWidth:s,highlighted:_,angleKey:g,radiusKey:y})),e.innerRadius=b,e.outerRadius=w,e.startAngle=u.startAngle,e.endAngle=u.endAngle,e.fill=S&&S.fill||O,e.stroke=S&&S.stroke||E,e.strokeWidth=S&&void 0!==S.strokeWidth?S.strokeWidth:s,e.fillOpacity=o,e.strokeOpacity=i,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.centerOffset=_&&void 0!==f?f:0,e.fillShadow=c,e.lineJoin="round",C.push(e.centerOffset)}));var w=u.colors,_=u.length,O=u.strokeWidth;this.groupSelection.selectByTag(Ol.Callout).each((function(t,e,n){if(e.label){var r=l.convert(e.radius);t.strokeWidth=O,t.stroke=w[n%w.length],t.x1=e.midCos*r,t.y1=e.midSin*r,t.x2=e.midCos*(r+_),t.y2=e.midSin*(r+_)}else t.stroke=void 0}));var E=this.label,S=E.offset,P=E.fontStyle,T=E.fontWeight,R=E.fontSize,k=E.fontFamily,A=E.color;this.groupSelection.selectByTag(Ol.Label).each((function(t,e,n){var r=e.label;if(r){var o=l.convert(e.radius),i=C[n]+o+_+S;t.fontStyle=P,t.fontWeight=T,t.fontSize=R,t.fontFamily=k,t.text=r.text,t.x=e.midCos*i,t.y=e.midSin*i,t.fill=A,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline}else t.fill=void 0}))}},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.seriesDatum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},e.prototype.getTooltipHtml=function(t){var e=this.angleKey;if(!e)return"";var n=this,r=n.fills,o=n.angleName,i=n.radiusKey,s=n.radiusName,a=n.labelKey,l=n.labelName,u=n.tooltip.renderer,c=void 0===u?this.tooltipRenderer:u,p=r[t.index%r.length],h=t.seriesDatum,d=a?h[a]+": ":"",f=h[e],g="number"==typeof f?Lo(f):f.toString(),y=this.title?this.title.text:void 0,v={title:y,backgroundColor:p,content:d+g};return c?da(c({datum:h,angleKey:e,angleValue:f,angleName:o,radiusKey:i,radiusValue:i?h[i]:void 0,radiusName:s,labelKey:a,labelName:l,title:y,color:p}),v):da(v)},e.prototype.listSeriesItems=function(t){var e=this,n=this.labelKey,r=this.data;if(r&&r.length&&n){var o=this.fills,i=this.strokes,s=this.id;r.forEach((function(r,a){t.push({id:s,itemId:a,enabled:e.seriesItemEnabled[a],label:{text:String(r[n])},marker:{fill:o[a%o.length],stroke:i[a%i.length],fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})}))}},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.scheduleData()},e.className="PieSeries",e.type="pie",Fl([Ur("dataChange")],e.prototype,"angleKey",void 0),Fl([Ur("update")],e.prototype,"angleName",void 0),Fl([Ur("dataChange")],e.prototype,"radiusKey",void 0),Fl([Ur("update")],e.prototype,"radiusName",void 0),Fl([Ur("dataChange")],e.prototype,"radiusMin",void 0),Fl([Ur("dataChange")],e.prototype,"radiusMax",void 0),Fl([Ur("dataChange")],e.prototype,"labelKey",void 0),Fl([Ur("update")],e.prototype,"labelName",void 0),Fl([Ur("layoutChange")],e.prototype,"fillOpacity",void 0),Fl([Ur("layoutChange")],e.prototype,"strokeOpacity",void 0),Fl([Ur("update")],e.prototype,"lineDash",void 0),Fl([Ur("update")],e.prototype,"lineDashOffset",void 0),Fl([Ur("update")],e.prototype,"formatter",void 0),Fl([Ur("dataChange")],e.prototype,"rotation",void 0),Fl([Ur("layoutChange")],e.prototype,"outerRadiusOffset",void 0),Fl([Ur("dataChange")],e.prototype,"innerRadiusOffset",void 0),Fl([Ur("layoutChange")],e.prototype,"strokeWidth",void 0),Fl([Ur("layoutChange")],e.prototype,"shadow",void 0),e}(Wa),Wl=(Ml=function(t,e){return(Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ml(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return Wl(e,t),Bl([Ur("change")],e.prototype,"enabled",void 0),Bl([Ur("change")],e.prototype,"color",void 0),Bl([Ur("change")],e.prototype,"xOffset",void 0),Bl([Ur("change")],e.prototype,"yOffset",void 0),Bl([Ur("change")],e.prototype,"blur",void 0),e}(zr);new Oi((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(t.getTime()+6e4*e)}),(function(t,e){return(e.getTime()-t.getTime())/6e4}),(function(t){return t.getUTCMinutes()})),new Oi((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(t.getTime()+36e5*e)}),(function(t,e){return(e.getTime()-t.getTime())/36e5}),(function(t){return t.getUTCHours()})),new Oi((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));var zl=function(){return(zl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ul={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Kl=function(){function t(e){var n=this.createChartConfigPerSeries(this.getDefaults());if(Fr(e)){var r={arrayMerge:Yl},o=(e=Ir({},e,r)).overrides;o&&(Fr(o.common)&&t.seriesTypes.concat(["cartesian","polar"]).forEach((function(t){n[t]=Ir(n[t],o.common,r)})),o.cartesian&&(n.cartesian=Ir(n.cartesian,o.cartesian,r),t.cartesianSeriesTypes.forEach((function(t){n[t]=Ir(n[t],o.cartesian,r)}))),o.polar&&(n.polar=Ir(n.polar,o.polar,r),t.polarSeriesTypes.forEach((function(t){n[t]=Ir(n[t],o.polar,r)}))),t.seriesTypes.forEach((function(t){var e,i=o[t];i&&(i.series&&(i.series=((e={})[t]=i.series,e)),n[t]=Ir(n[t],i,r))})))}this.palette=e&&e.palette?e.palette:this.getPalette(),this.config=Object.freeze(n)}return t.prototype.getPalette=function(){return Ul},t.getAxisDefaults=function(){return{title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0,format:void 0},visible:!0,showInLegend:!0}},t.getBarSeriesDefaults=function(){return zl(zl({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:Ea.defaultTooltipClass}}},t.prototype.createChartConfigPerSeries=function(e){var n={cartesian:t.cartesianSeriesTypes,polar:t.polarSeriesTypes},r=function(t){n[t].forEach((function(n){e[n]||(e[n]=Ir({},e[t],{arrayMerge:Yl}))}))};for(var o in n)r(o);return e},t.prototype.getConfig=function(t){return Rr(this.config,t)},t.prototype.getDefaults=function(){return Ir({},t.defaults,{arrayMerge:Yl})},t.prototype.mergeWithParentDefaults=function(e){var n={arrayMerge:Yl},r=Object.getPrototypeOf(Object.getPrototypeOf(this));if(r===Object.prototype){var o=Ir({},t.defaults,n);return Ir(o,e,n)}return Ir(r.getDefaults(),e,n)},t.prototype.setSeriesColors=function(t,e,n){var r=this.palette,o=this.getSeriesColorCount(e);if(o===1/0)t.setColors(r.fills,r.strokes);else{var i=ui(r.fills,n,o),s=ui(r.strokes,n,o);t.setColors(i,s),n+=o}return n},t.prototype.getSeriesColorCount=function(t){switch(t.type){case"bar":case"column":case"area":return t.yKeys?t.yKeys.length:0;case"pie":return 1/0;default:return 1}},t.fontFamily="Verdana, sans-serif",t.cartesianDefaults=zl(zl({},t.getChartDefaults()),{axes:{number:zl({},t.getAxisDefaults()),category:zl({},t.getAxisDefaults()),groupedCategory:zl({},t.getAxisDefaults()),time:zl({},t.getAxisDefaults())},series:{column:zl(zl({},t.getBarSeriesDefaults()),{flipXY:!1}),bar:zl(zl({},t.getBarSeriesDefaults()),{flipXY:!0}),line:zl(zl({},t.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},marker:zl({},t.getCartesianSeriesMarkerDefaults())}),scatter:zl(zl({},t.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},marker:zl({},t.getCartesianSeriesMarkerDefaults())}),area:zl(zl({},t.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},marker:zl(zl({},t.getCartesianSeriesMarkerDefaults()),{enabled:!1})}),histogram:zl(zl({},t.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum",tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,min:0,max:1,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:zl(zl({},t.getChartDefaults()),{series:{pie:zl(zl({},t.getSeriesDefaults()),{title:{enabled:!0,padding:new _r(0),text:"",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:void 0,lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,highlightStyle:{fill:"yellow"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}})},t.seriesTypes=(t.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"]).concat(t.polarSeriesTypes=["pie"]),t}();function Yl(t,e,n){return e}var ql,Xl,Ql,Zl,Jl,$l,tu,eu,nu,ru,ou,iu,su,au=(su=function(t,e){return(su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}su(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lu=function(){return(lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},uu=function(t){function e(e){return t.call(this,e)||this}return au(e,t),e.prototype.getDefaults=function(){var t="rgb(200, 200, 200)",e={title:{color:t},label:{color:t},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},n={label:{color:t}},r={background:{fill:"rgb(34, 38, 41)"},title:{color:t},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:lu({},e),category:lu({},e),time:lu({},e)},legend:{item:{label:{color:t}}}};return this.mergeWithParentDefaults({cartesian:lu(lu({},r),{series:{bar:lu({},n),column:lu({},n),histogram:lu({},n)}}),polar:lu(lu({},r),{series:{pie:lu(lu({},n),{title:{color:t}})}})})},e}(Kl),cu=(iu=function(t,e){return(iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}iu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pu={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cu(e,t),e.prototype.getPalette=function(){return pu},e}(Kl),du=(ou=function(t,e){return(ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ou(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fu={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return du(e,t),e.prototype.getPalette=function(){return fu},e}(uu),yu=(ru=function(t,e){return(ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ru(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vu={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yu(e,t),e.prototype.getPalette=function(){return vu},e}(Kl),Cu=(nu=function(t,e){return(nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bu={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.getPalette=function(){return bu},e}(uu),_u=(eu=function(t,e){return(eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}eu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ou={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.getPalette=function(){return Ou},e}(Kl),Su=(tu=function(t,e){return(tu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pu={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Su(e,t),e.prototype.getPalette=function(){return Pu},e}(uu),Ru=($l=function(t,e){return($l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ku={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ru(e,t),e.prototype.getPalette=function(){return ku},e}(Kl),Du=(Jl=function(t,e){return(Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xu={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Du(e,t),e.prototype.getPalette=function(){return xu},e}(uu),Iu=function(){return(Iu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fu={background:{meta:{defaults:{visible:!0,fill:"white"}}},padding:{meta:{constructor:_r,defaults:{top:20,right:20,bottom:20,left:20}}},tooltip:{meta:{defaults:{enabled:!0,tracking:!0,delay:0,class:Ea.defaultTooltipClass}}},title:{meta:{constructor:Xr,defaults:{enabled:!0,padding:{meta:{constructor:_r,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},subtitle:{meta:{constructor:Xr,defaults:{enabled:!0,padding:{meta:{constructor:_r,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"}}},legend:{meta:{constructor:Js,defaults:{enabled:!0,position:Ws.Right,spacing:20}},item:{meta:{constructor:Zs,defaults:{paddingX:16,paddingY:8}},marker:{meta:{constructor:Qs,defaults:{shape:void 0,size:15,strokeWidth:1,padding:8}}},label:{meta:{constructor:Xs,defaults:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif"}}}}}},Mu={container:void 0,autoSize:!0,width:600,height:300,data:[],title:void 0,subtitle:void 0,padding:{},background:{},legend:{item:{marker:{},label:{}}},navigator:{mask:{},minHandle:{},maxHandle:{}},listeners:void 0},Lu={constructorParams:["document"],setAsIs:["container","data","tooltipOffset"],nonSerializable:["container","data"]},ju={defaults:{visibleRange:[0,1],label:{},tick:{},title:{},line:{},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},Gu={visible:!0,showInLegend:!0,listeners:void 0},Vu={fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0,highlightStyle:{fill:"yellow"}},Wu={shadow:{meta:{constructor:Hl,defaults:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}}}},Bu={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},Hu={label:{meta:{defaults:Iu(Iu({},Bu),{formatter:void 0})}}},zu={tooltip:{meta:{defaults:{enabled:!0,renderer:void 0,format:void 0}}}},Uu={line:{meta:{defaults:{width:1,color:"rgb(195, 195, 195)"}}},title:{meta:{constructor:Xr,defaults:{enabled:!0,padding:{meta:{constructor:_r,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},label:{meta:{constructor:Yo,defaults:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}}},tick:{meta:{constructor:Ko,defaults:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}}}},Ku=((ql={})[La.type]=Iu(Iu({meta:Iu(Iu({constructor:La},Lu),{defaults:Iu(Iu({},Mu),{axes:[{type:ei.type,position:"left"},{type:oi.type,position:"bottom"}]})})},Fu),{axes:(Xl={},Xl[ei.type]=Iu({meta:Iu({constructor:ei,setAsIs:["gridStyle","visibleRange"]},ju)},Uu),Xl[oi.type]=Iu({meta:Iu({constructor:oi,setAsIs:["gridStyle","visibleRange"]},ju)},Uu),Xl[Ci.type]=Iu({meta:Iu({constructor:Ci,setAsIs:["gridStyle","visibleRange"]},ju)},Uu),Xl[ls.type]=Iu({meta:Iu({constructor:ls,setAsIs:["gridStyle","visibleRange"]},ju)},Uu),Xl),series:(Ql={column:Iu(Iu(Iu({meta:{constructor:hl,setAsIs:["lineDash"],defaults:Iu(Iu({flipXY:!1},Gu),Vu)},highlightStyle:{}},zu),Hu),Wu)},Ql[hl.type]=Iu(Iu(Iu({meta:{constructor:hl,setAsIs:["lineDash"],defaults:Iu(Iu({flipXY:!0},Gu),Vu)},highlightStyle:{}},zu),Hu),Wu),Ql[yl.type]=Iu(Iu({meta:{constructor:yl,setAsIs:["lineDash"],defaults:Iu(Iu({},Gu),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,highlightStyle:{fill:"yellow"}})}},zu),{highlightStyle:{},marker:{meta:{constructor:ua,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),Ql[bl.type]=Iu(Iu({meta:{constructor:bl,defaults:Iu(Iu({},Gu),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,highlightStyle:{fill:"yellow"}})}},zu),{highlightStyle:{},marker:{meta:{constructor:ua,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),Ql[tl.type]=Iu(Iu(Iu({meta:{constructor:tl,setAsIs:["lineDash"],defaults:Iu(Iu({},Gu),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:void 0,highlightStyle:{fill:"yellow"}})}},zu),{highlightStyle:{},marker:{meta:{constructor:ua,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),Wu),Ql[Al.type]=Iu(Iu(Iu({meta:{constructor:Al,setAsIs:["lineDash"],defaults:Iu(Iu({},Gu),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum",highlightStyle:{fill:"yellow"}})}},zu),{highlightStyle:{},label:{meta:{defaults:Iu(Iu({},Bu),{formatter:void 0})}}}),Wu),Ql),navigator:{meta:{constructor:Fa,defaults:{enabled:!1,height:30,min:0,max:1}},mask:{meta:{constructor:Na,defaults:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2}}},minHandle:{meta:{constructor:Ia,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}},maxHandle:{meta:{constructor:Ia,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}),ql[Ha.type]=Iu(Iu({meta:Iu(Iu({constructor:Ha},Lu),{defaults:Iu(Iu({},Mu),{padding:{meta:{constructor:_r,defaults:{top:40,right:40,bottom:40,left:40}}}})})},Fu),{series:(Zl={},Zl[Vl.type]=Iu(Iu(Iu({meta:{constructor:Vl,setAsIs:["lineDash"],defaults:Iu(Iu({},Gu),{title:void 0,angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,callout:{},fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0})}},zu),{highlightStyle:{},title:{meta:{constructor:Xr,defaults:{enabled:!0,padding:{meta:{constructor:_r,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"}}},label:{meta:{defaults:Iu(Iu({},Bu),{offset:3,minAngle:20})}},callout:{meta:{defaults:{length:10,strokeWidth:1}}}}),Wu),Zl)}),ql),Yu={cartesian:["line","area","bar","column"],polar:["pie"]},qu=function(t){Yu[t].forEach((function(e){Ku[e]=Ku[t]}))};for(var Xu in Yu)qu(Xu);Ku.scatter=Ku.histogram=Iu(Iu({},Ku.cartesian),{meta:Iu(Iu({},Ku.cartesian.meta),{defaults:Iu(Iu({},Mu),{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]})})});var Qu=Object.create(Ku[La.type]),Zu=Object.create(Qu.meta);Zu.constructor=Ga,Qu.meta=Zu,Ku[Ga.type]=Qu;var Ju=Ku,$u=function(){return($u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},tc=new Kl,ec=new uu,nc={undefined:tc,null:tc,"ag-default":tc,"ag-material":new hu,"ag-pastel":new mu,"ag-solar":new Eu,"ag-vivid":new Au},rc={undefined:ec,null:ec,"ag-default-dark":ec,"ag-material-dark":new gu,"ag-pastel-dark":new wu,"ag-solar-dark":new Tu,"ag-vivid-dark":new Nu},oc=$u($u({},rc),nc);function ic(t){return t instanceof Kl?t:oc[t]||((t=t).baseTheme||t.overrides||t.palette?new(ic(t.baseTheme).constructor)(t):tc)}var sc,ac=0,lc=function(){function t(){}return t.create=function(t,e,n){t=Object.create(t),e&&(t.container=e),n&&(t.data=n);var r=t&&!1!==t.autoSize,o=ic(t.theme);ac=0;var i=pc(t,void 0,void 0,o);return i&&r&&(i.autoSize=!0),i},t.update=function(t,e,n,r){if(t&&e){e=Object.create(e),n&&(e.container=n),r&&(e.data=r);var o=e&&!1!==e.autoSize,i=ic(e.theme);ac=0,hc(t,e,void 0,i),o&&(t.autoSize=!0)}},t.save=function(t){var e={};return function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=Ju),t.constructor&&t.constructor.type&&!n.meta&&(n=n[t.constructor.type]),Object.keys(n&&n.meta&&n.meta.defaults).forEach((function(r){var o=t[r];Fr(o)&&(!n.meta.nonSerializable||n.meta.nonSerializable.indexOf(r)<0)?e[r]={}:Array.isArray(o)||(e[r]=t[r])}))}(t,e),e},t.createComponent=pc,t}(),uc={"cartesian.series":"line","line.series":"line","area.series":"area","bar.series":"bar","column.series":"column","histogram.series":"histogram","scatter.series":"scatter","polar.series":"pie","pie.series":"pie"},cc=(sc={},["area","bar","histogram","line","pie","scatter"].forEach((function(t){return sc[t]=t})),sc.column="bar",sc);function pc(t,e,n,r){var o;if(t=Object.create(t),n instanceof Qs?t.type&&(t.shape=t.type):(t=gc(t,e),e?t.type&&(e=e+"."+t.type):e=t.type),e){var i=Rr(Ju,e);if(i){t=vc(e,t,i,r);var s=i.meta||{},a=s.constructorParams||[],l=["type","listeners"].concat(a),u=a.map((function(e){return t[e]})).filter((function(t){return void 0!==t}));n||(n=new((o=s.constructor).bind.apply(o,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}([void 0],u))),r&&n instanceof ra&&(ac=r.setSeriesColors(n,t,ac)));var c=function(o){if(l.indexOf(o)<0){var a=t[o];if(!a||!(o in i)||s.setAsIs&&s.setAsIs.indexOf(o)>=0)n[o]=a;else if(Array.isArray(a)){var u=a.map((function(t){return pc(t,e+"."+o,void 0,r)})).filter((function(t){return!!t}));n[o]=u}else if(i[o]&&n[o])pc(a,e+"."+o,n[o],r);else{var c=pc(a,a.type?e:e+"."+o,void 0,r);c&&(n[o]=c)}}};for(var p in t)c(p);var h=t.listeners;if(n&&n.addEventListener&&h)for(var p in h)if(h.hasOwnProperty(p)){var d=h[p];"function"==typeof d&&n.addEventListener(p,d)}return n}}}function hc(t,e,n,r){if(e&&Fr(e)&&(t instanceof Qs?e.type&&(e.shape=e.type):(e=gc(e,n),n?e.type&&(n=n+"."+e.type):n=e.type),n)){var o=n in Ju?t:void 0,i=Rr(Ju,n);if(i){e=vc(n,e,i,r);var s=i.meta||{},a=["type"].concat(s&&s.constructorParams||[]);for(var l in e)if(a.indexOf(l)<0){var u=e[l],c=n+"."+l;if(s.setAsIs&&s.setAsIs.indexOf(l)>=0)t[l]=u;else{var p=t[l];if(Array.isArray(p)&&Array.isArray(u))o?"series"===l?dc(t,u,c,r):"axes"===l&&fc(t,u,c,r):t[l]=u;else if(Fr(p))u?hc(p,u,u.type?n:c,r):l in e&&(t[l]=u);else{var h=Fr(u)&&pc(u,u.type?n:c,void 0,r);if(h)t[l]=h;else{if(o&&e.autoSize&&("width"===l||"height"===l))continue;t[l]=u}}}}}o&&(o.layoutPending=!0)}}function dc(t,e,n,r){for(var o,i=t.series.slice(),s=0;s<e.length;s++){var a=e[s];if(u=i[s])if(a=gc(a,n),u.type===cc[a.type])r&&(ac=r.setSeriesColors(u,a,ac)),hc(u,a,n,r);else{var l=pc(a,n,void 0,r);t.removeSeries(u),t.addSeriesAfter(l,o),u=l}else l=pc(a,n,void 0,r),t.addSeries(l);o=u}for(;s<i.length;s++){var u;(u=i[s])&&t.removeSeries(u)}}function fc(t,e,n,r){for(var o=t.axes,i=[],s=[],a=function(t){var e=ii(o,(function(e){return e.type===t.type&&e.position===t.position}));if(e)s.push(e),hc(e,t,n,r);else{var a=pc(t,n,void 0,r);a&&i.push(a)}},l=0,u=e;l<u.length;l++)a(u[l]);t.axes=s.concat(i)}function gc(t,e){if(e||(e="",t=function(t){if(t.type)return t;var e=t.series&&t.series[0];if(e&&e.type)t:for(var n in Ju)for(var r in Ju[n].series)if(e.type===r){(t=Object.create(t)).type=n;break t}return t.type||((t=Object.create(t)).type="cartesian"),t}(t)),!t.type){var n=uc[e];n&&((t=Object.create(t)).type=n)}return t}function yc(t){return["axes","series"].indexOf(t)>=0}function vc(t,e,n,r){var o=t.indexOf(".")<0,i=r&&r.getConfig(t),s=n&&n.meta&&n.meta.defaults,a=!1===e.enabled;for(var l in(s||i)&&(e=Object.create(e)),i)o&&yc(l)||l in e||(e[l]=i[l]);for(var l in s)i&&l in i&&!yc(l)||l in e||(e[l]=s[l]);return(i&&"enabled"in i||s&&"enabled"in s)&&!a&&(e.enabled=!0),e}var mc,Cc,bc,wc,_c,Oc=(_c=function(t,e){return(_c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ec=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sc=function(t){function e(e){var n=t.call(this)||this;return n.model=e,n}return Oc(e,t),e.prototype.init=function(){var t=this;this.setChartRange(),this.addManagedListener(this.eventService,c.A.EVENT_RANGE_SELECTION_CHANGED,(function(e){e.id&&e.id===t.model.getChartId()&&t.updateForRangeChange()})),this.model.isUnlinked()&&this.rangeController&&this.rangeController.setCellRanges([]),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},e.prototype.updateForGridChange=function(){this.model.isUnlinked()||(this.model.updateCellRanges(),this.setChartRange())},e.prototype.updateForDataChange=function(){this.model.isUnlinked()||(this.model.updateData(),this.raiseChartUpdatedEvent())},e.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.updateForPanelChange=function(t){this.model.updateCellRanges(t),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.getChartModel=function(){var t=this;return{modelType:this.model.isPivotChart()?"pivot":"range",chartId:this.model.getChartId(),chartType:this.model.getChartType(),chartThemeName:this.getThemeName(),chartOptions:this.chartProxy.getChartOptions(),cellRange:this.model.getCellRangeParams(),chart:this.chartProxy.getChart(),getChartImageDataURL:function(e){return t.chartProxy.getChartImageDataURL(e.type)},suppressChartRanges:this.model.isSuppressChartRanges(),aggFunc:this.model.getAggFunc(),unlinkChart:this.model.isUnlinked()}},e.prototype.getChartType=function(){return this.model.getChartType()},e.prototype.isPivotChart=function(){return this.model.isPivotChart()},e.prototype.isGrouping=function(){return this.model.isGrouping()},e.prototype.getThemeName=function(){return this.model.getChartThemeName()},e.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},e.prototype.getPalettes=function(){var t=this,e=this.chartProxy.getCustomPalette();return e?[e]:this.gridOptionsWrapper.getChartThemes().map((function(e){return ic(t.chartProxy.isStockTheme(e)?e:t.chartProxy.lookupCustomChartTheme(e)).palette}))},e.prototype.setChartType=function(t){this.model.setChartType(t),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.setChartThemeName=function(t){this.model.setChartThemeName(t),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.getDimensionColState(),valueCols:this.model.getValueColState()}},e.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===wr.DEFAULT_CATEGORY},e.prototype.setChartRange=function(t){void 0===t&&(t=!1),!this.rangeController||this.model.isSuppressChartRanges()||this.model.isUnlinked()||this.rangeController.setCellRanges(this.model.getCellRanges()),t||this.raiseChartUpdatedEvent()},e.prototype.detachChartRange=function(){this.model.toggleUnlinked(),this.model.isUnlinked()?this.rangeController&&this.rangeController.setCellRanges([]):this.updateForGridChange()},e.prototype.setChartProxy=function(t){this.chartProxy=t},e.prototype.getChartProxy=function(){return this.chartProxy},e.prototype.isActiveXYChart=function(){return c.ib.includes([c.q.Scatter,c.q.Bubble],this.getChartType())},e.prototype.isChartLinked=function(){return!this.model.isUnlinked()},e.prototype.raiseChartUpdatedEvent=function(){var t=Object.freeze({type:e.EVENT_CHART_UPDATED});this.dispatchEvent(t)},e.prototype.raiseChartOptionsChangedEvent=function(){this.chartProxy.raiseChartOptionsChangedEvent()},e.prototype.raiseChartRangeSelectionChangedEvent=function(){var t=Object.freeze({type:c.A.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.getChartId(),chartId:this.model.getChartId(),cellRange:this.model.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.rangeController&&this.rangeController.setCellRanges([])},e.EVENT_CHART_UPDATED="chartUpdated",Ec([Object(c.k)("rangeController")],e.prototype,"rangeController",void 0),Ec([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Ec([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Ec([c.Q],e.prototype,"init",null),e}(c.n),Pc=(wc=function(t,e){return(wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rc=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},kc=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.columnComps=new Map,r.chartController=n,r}return Pc(e,t),e.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Sc.EVENT_CHART_UPDATED,this.updatePanels.bind(this))},e.prototype.destroy=function(){this.clearComponents(),t.prototype.destroy.call(this)},e.prototype.updatePanels=function(){var t=this,e=this.chartType,n=this.chartController.getColStateForMenu(),r=n.dimensionCols,o=n.valueCols,i=r.map((function(t){return t.colId})).concat(o.map((function(t){return t.colId})));if(this.chartType=this.chartController.getChartType(),c.ib.areEqual(c.ib.keys(this.columnComps),i)&&this.chartType===e){if(Rc(r,o).forEach((function(e){t.columnComps.get(e.colId).setValue(e.selected,!0)})),this.chartController.isActiveXYChart()){var s=this.generateGetSeriesLabel();o.forEach((function(e){t.columnComps.get(e.colId).setLabel(s(e))}))}}else this.clearComponents(),this.createCategoriesGroupComponent(r),this.createSeriesGroupComponent(o)},e.prototype.addComponent=function(t,e){var n=document.createElement("div");n.className="ag-chart-data-section",n.appendChild(e.getGui()),t.appendChild(n)},e.prototype.addChangeListener=function(t,e){var n=this;this.addManagedListener(t,c.a.EVENT_CHANGED,(function(){e.selected=t.getValue(),n.chartController.updateForPanelChange(e)}))},e.prototype.createCategoriesGroupComponent=function(t){var e=this;this.categoriesGroupComp=this.createBean(new c.e({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();t.forEach((function(t){var r=e.categoriesGroupComp.createManagedBean(new c.h);r.setLabel(c.ib.escapeString(t.displayName)),r.setValue(t.selected),r.setInputName(n),e.addChangeListener(r,t),e.categoriesGroupComp.addItem(r),e.columnComps.set(t.colId,r)})),this.addComponent(this.getGui(),this.categoriesGroupComp)},e.prototype.createSeriesGroupComponent=function(t){var e=this;if(this.seriesGroupComp=this.createManagedBean(new c.e({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new c.j),r=this.chartController.getChartProxy();n.setLabel(this.chartTranslator.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(r.getSeriesOption("paired")||!1).onValueChange((function(t){r.setSeriesOption("paired",t),e.chartController.updateForGridChange()})),this.seriesGroupComp.addItem(n)}var o=this.generateGetSeriesLabel();t.forEach((function(t){var n=e.seriesGroupComp.createManagedBean(new c.c);n.addCssClass("ag-data-select-checkbox");var r=o(t);n.setLabel(r),n.setValue(t.selected),e.addChangeListener(n,t),e.seriesGroupComp.addItem(n),e.columnComps.set(t.colId,n),e.addDragHandle(n,t)})),this.addComponent(this.getGui(),this.seriesGroupComp);var i={getContainer:this.getGui.bind(this),onDragging:this.onDragging.bind(this),isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(i)},e.prototype.addDragHandle=function(t,e){var n=this,r=c.ib.createIconNoSpan("columnDrag",this.gridOptionsWrapper);c.ib.addCssClass(r,"ag-drag-handle"),c.ib.addCssClass(r,"ag-chart-data-column-drag-handle"),t.getGui().insertAdjacentElement("beforeend",r);var o={type:c.y.ChartPanel,eElement:r,dragItemName:e.displayName,defaultIconName:c.x.ICON_MOVE,getDragItem:function(){return{columns:[e.column]}},onDragStopped:function(){n.insertIndex=void 0}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(o)}))},e.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(t){return c.ib.escapeString(t.displayName)};var t=this.chartType===c.q.Bubble,e=this.isInPairedMode(),n=0,r=new Map;return r.set(0,"X"),r.set(1,"Y"),r.set(2,"size"),function(o){var i,s=c.ib.escapeString(o.displayName);return o.selected?(i=e?r.get(n%(t?3:2)):0===n?"X":t&&n%2==0?"size":"Y",n++,s+" ("+i+")"):s}},e.prototype.getCategoryGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"labels":"categories")},e.prototype.getSeriesGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},e.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartController.getChartProxy().getSeriesOption("paired")},e.prototype.clearComponents=function(){c.ib.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.columnComps.clear()},e.prototype.onDragging=function(t){var e=this;if(this.checkInsertIndex(t)){var n=t.dragItem.columns[0],r=this.chartController.getColStateForMenu();Rc(r.dimensionCols,r.valueCols).filter((function(t){return t.column===n})).forEach((function(t){t.order=e.insertIndex,e.chartController.updateForPanelChange(t)}))}},e.prototype.checkInsertIndex=function(t){if(c.ib.missing(t.vDirection))return!1;var e=0,n=t.event;this.columnComps.forEach((function(r){var o=r.getGui().getBoundingClientRect();n.clientY>=(t.vDirection===c.gb.Down?o.top:o.bottom)&&e++}));var r=void 0!==this.insertIndex&&e!==this.insertIndex;return this.insertIndex=e,r},e.prototype.isInterestedIn=function(t){return t===c.y.ChartPanel},e.TEMPLATE='<div class="ag-chart-data-wrapper"></div>',Tc([Object(c.k)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Tc([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Tc([c.Q],e.prototype,"init",null),e}(c.t),Ac=(bc=function(t,e){return(bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xc=function(t){function e(e){var n=t.call(this)||this;return n.activeComps=[],n.params=e,n}return Ac(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},e.prototype.addCompToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.setEnabled=function(t){this.fontGroup.setEnabled(t)},e.prototype.initGroup=function(){var t=this;this.fontGroup.setTitle(this.params.name||this.chartTranslator.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange((function(e){t.params.setEnabled&&t.params.setEnabled(e)}))},e.prototype.initFontFamilySelect=function(){var t=this,e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,r=e[0];if(n){var o=e.map((function(t){return t.toLowerCase()})).indexOf(n.toLowerCase());if(o>=0)r=e[o];else{var i=c.ib.capitalise(n);e.push(i),r=i}}var s=e.sort().map((function(t){return{value:t,text:t}}));this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+r).onValueChange((function(e){return t.params.setFont({family:e})}))},e.prototype.initFontSizeSelect=function(){var t=this,e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;c.ib.includes(e,n)||e.push(n);var r=e.sort((function(t,e){return t-e})).map((function(t){return{value:""+t,text:""+t}}));this.sizeSelect.addOptions(r).setInputWidth("flex").setValue(""+n).onValueChange((function(e){return t.params.setFont({size:parseInt(e,10)})})),this.sizeSelect.setLabel(this.chartTranslator.translate("size"))},e.prototype.initFontWeightStyleSelect=function(){var t=this,e=this.params.initialFont,n=e.weight,r=void 0===n?"normal":n,o=e.style,i=void 0===o?"normal":o,s=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],a=c.ib.find(s,(function(t){return t.weight===r&&t.style===i}));a||s.unshift(a={name:"predefined",weight:r,style:i});var l=s.map((function(e){return{value:e.name,text:t.chartTranslator.translate(e.name)}}));this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(a.name).onValueChange((function(e){var n=c.ib.find(s,(function(t){return t.name===e}));t.params.setFont({weight:n.weight,style:n.style})}))},e.prototype.initFontColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange((function(e){return t.params.setFont({color:e})}))},e.prototype.destroyActiveComps=function(){var t=this;this.activeComps.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActiveComps(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Dc([Object(c.V)("fontGroup")],e.prototype,"fontGroup",void 0),Dc([Object(c.V)("familySelect")],e.prototype,"familySelect",void 0),Dc([Object(c.V)("weightStyleSelect")],e.prototype,"weightStyleSelect",void 0),Dc([Object(c.V)("sizeSelect")],e.prototype,"sizeSelect",void 0),Dc([Object(c.V)("colorPicker")],e.prototype,"colorPicker",void 0),Dc([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Dc([c.Q],e.prototype,"init",null),e}(c.t),Nc=(Cc=function(t,e){return(Cc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ic=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fc=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return Nc(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},e.prototype.initLegendGroup=function(){var t=this;this.legendGroup.setTitle(this.chartTranslator.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartController.getChartProxy().getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange((function(e){t.chartController.getChartProxy().setChartOption("legend.enabled",e),t.legendGroup.toggleGroupExpand(!0)}))},e.prototype.initLegendPosition=function(){var t=this,e=[c.I.Top,c.I.Right,c.I.Bottom,c.I.Left];this.legendPositionSelect.setLabel(this.chartTranslator.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(e.map((function(e){return{value:e,text:t.chartTranslator.translate(e)}}))).setValue(this.chartController.getChartProxy().getChartOption("legend.position")).onValueChange((function(e){return t.chartController.getChartProxy().setChartOption("legend.position",e)}))},e.prototype.initLegendPadding=function(){var t=this;this.legendPaddingSlider.setLabel(this.chartTranslator.translate("spacing")).setValue(this.chartController.getChartProxy().getChartOption("legend.spacing")).setTextFieldWidth(45).setMaxValue(200).onValueChange((function(e){return t.chartController.getChartProxy().setChartOption("legend.spacing",e)}))},e.prototype.initLegendItems=function(){var t=this,e=function(e,n,r,o){r.setLabel(t.chartTranslator.translate(n)).setValue(t.chartController.getChartProxy().getChartOption("legend."+e)).setMaxValue(o).setTextFieldWidth(45).onValueChange((function(n){return t.chartController.getChartProxy().setChartOption("legend."+e,n)}))};e("item.marker.size","markerSize",this.markerSizeSlider,40),e("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),e("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),e("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),e("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},e.prototype.initLabelPanel=function(){var t=this,e=this.chartController.getChartProxy(),n={family:e.getChartOption("legend.item.label.fontFamily"),style:e.getChartOption("legend.item.label.fontStyle"),weight:e.getChartOption("legend.item.label.fontWeight"),size:e.getChartOption("legend.item.label.fontSize"),color:e.getChartOption("legend.item.label.color")},r=this.createBean(new xc({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(e){var n=t.chartController.getChartProxy();e.family&&n.setChartOption("legend.item.label.fontFamily",e.family),e.weight&&n.setChartOption("legend.item.label.fontWeight",e.weight),e.style&&n.setChartOption("legend.item.label.fontStyle",e.style),e.size&&n.setChartOption("legend.item.label.fontSize",e.size),e.color&&n.setChartOption("legend.item.label.color",e.color)}}));this.legendGroup.addItem(r),this.activePanels.push(r)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Ic([Object(c.V)("legendGroup")],e.prototype,"legendGroup",void 0),Ic([Object(c.V)("legendPositionSelect")],e.prototype,"legendPositionSelect",void 0),Ic([Object(c.V)("legendPaddingSlider")],e.prototype,"legendPaddingSlider",void 0),Ic([Object(c.V)("markerSizeSlider")],e.prototype,"markerSizeSlider",void 0),Ic([Object(c.V)("markerStrokeSlider")],e.prototype,"markerStrokeSlider",void 0),Ic([Object(c.V)("markerPaddingSlider")],e.prototype,"markerPaddingSlider",void 0),Ic([Object(c.V)("itemPaddingXSlider")],e.prototype,"itemPaddingXSlider",void 0),Ic([Object(c.V)("itemPaddingYSlider")],e.prototype,"itemPaddingYSlider",void 0),Ic([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Ic([c.Q],e.prototype,"init",null),e}(c.t),Mc=(mc=function(t,e){return(mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jc=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return Mc(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},e.prototype.initSeriesShadow=function(){var t=this;this.shadowGroup.setTitle(this.chartTranslator.translate("shadow")).setEnabled(this.chartController.getChartProxy().getShadowEnabled()).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartController.getChartProxy().setShadowProperty("enabled",e)})),this.shadowColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue("rgba(0,0,0,0.5)").onValueChange((function(e){return t.chartController.getChartProxy().setShadowProperty("color",e)}));var e=function(e,n,r,o){e.setLabel(t.chartTranslator.translate(n)).setValue(t.chartController.getChartProxy().getShadowProperty(n)).setMinValue(r).setMaxValue(o).onValueChange((function(e){return t.chartController.getChartProxy().setShadowProperty(n,e)}))};e(this.shadowBlurSlider,"blur",0,20),e(this.shadowXOffsetSlider,"xOffset",-10,10),e(this.shadowYOffsetSlider,"yOffset",-10,10)},e.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Lc([Object(c.V)("shadowGroup")],e.prototype,"shadowGroup",void 0),Lc([Object(c.V)("shadowColorPicker")],e.prototype,"shadowColorPicker",void 0),Lc([Object(c.V)("shadowBlurSlider")],e.prototype,"shadowBlurSlider",void 0),Lc([Object(c.V)("shadowXOffsetSlider")],e.prototype,"shadowXOffsetSlider",void 0),Lc([Object(c.V)("shadowYOffsetSlider")],e.prototype,"shadowYOffsetSlider",void 0),Lc([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Lc([c.Q],e.prototype,"init",null),e}(c.t);function Gc(t,e,n){t.setLabel(e.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("stroke.opacity")||"1").onValueChange((function(t){return n.setSeriesOption("stroke.opacity",t)}))}function Vc(t,e,n){t.setLabel(e.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("fill.opacity")||"1").onValueChange((function(t){return n.setSeriesOption("fill.opacity",t)}))}function Wc(t,e){var n={family:e.getSeriesOption("label.fontFamily"),style:e.getSeriesOption("label.fontStyle"),weight:e.getSeriesOption("label.fontWeight"),size:e.getSeriesOption("label.fontSize"),color:e.getSeriesOption("label.color")};return{name:t.translate("labels"),enabled:e.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(t){t.family&&e.setSeriesOption("label.fontFamily",t.family),t.weight&&e.setSeriesOption("label.fontWeight",t.weight),t.style&&e.setSeriesOption("label.fontStyle",t.style),t.size&&e.setSeriesOption("label.fontSize",t.size),t.color&&e.setSeriesOption("label.color",t.color)}}}var Bc,Hc,zc,Uc,Kc=(Uc=function(t,e){return(Uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qc=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return Kc(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},e.prototype.initSeriesTooltips=function(){var t=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.getChartProxy().setSeriesOption("tooltip.enabled",e)}))},e.prototype.initSeriesStrokeWidth=function(){var t=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("stroke.width",e)}))},e.prototype.initSeriesLineDash=function(){var t=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("lineDash",[e])}))},e.prototype.initOpacity=function(){Gc(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),Vc(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},e.prototype.initLabelPanel=function(){var t=Wc(this.chartTranslator,this.getChartProxy()),e=this.createBean(new xc(t));this.activePanels.push(e),this.seriesGroup.addItem(e)},e.prototype.initShadowPanel=function(){var t=this.createBean(new jc(this.chartController));this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Yc([Object(c.V)("seriesGroup")],e.prototype,"seriesGroup",void 0),Yc([Object(c.V)("seriesTooltipsToggle")],e.prototype,"seriesTooltipsToggle",void 0),Yc([Object(c.V)("seriesStrokeWidthSlider")],e.prototype,"seriesStrokeWidthSlider",void 0),Yc([Object(c.V)("seriesLineDashSlider")],e.prototype,"seriesLineDashSlider",void 0),Yc([Object(c.V)("seriesLineOpacitySlider")],e.prototype,"seriesLineOpacitySlider",void 0),Yc([Object(c.V)("seriesFillOpacitySlider")],e.prototype,"seriesFillOpacitySlider",void 0),Yc([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Yc([c.Q],e.prototype,"init",null),e}(c.t),Xc=(zc=function(t,e){return(zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zc=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return Xc(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},e.prototype.initAxisTicks=function(){var t=this;this.axisTicksGroup.setTitle(this.chartTranslator.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("tick.color")).onValueChange((function(e){return t.getChartProxy().setAxisProperty("tick.color",e)}));var e=function(e,n,r,o){n.setLabel(r).setValue(t.getChartProxy().getAxisProperty(e)).setMaxValue(o).setTextFieldWidth(45).onValueChange((function(n){return t.getChartProxy().setAxisProperty(e,n)}))};e("tick.width",this.axisTicksWidthSlider,this.chartTranslator.translate("width"),10),e("tick.size",this.axisTicksSizeSlider,this.chartTranslator.translate("length"),30)},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Qc([Object(c.V)("axisTicksGroup")],e.prototype,"axisTicksGroup",void 0),Qc([Object(c.V)("axisTicksColorPicker")],e.prototype,"axisTicksColorPicker",void 0),Qc([Object(c.V)("axisTicksWidthSlider")],e.prototype,"axisTicksWidthSlider",void 0),Qc([Object(c.V)("axisTicksSizeSlider")],e.prototype,"axisTicksSizeSlider",void 0),Qc([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Qc([c.Q],e.prototype,"init",null),e}(c.t),Jc=(Hc=function(t,e){return(Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$c=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tp=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return Jc(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels()},e.prototype.initAxis=function(){var t=this,e=this.chartTranslator;if(this.axisGroup.setTitle(e.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(e.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("line.color")).onValueChange((function(e){return t.getChartProxy().setAxisProperty("line.color",e)})),this.axisLineWidthSlider.setLabel(e.translate("thickness")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getAxisProperty("line.width")).onValueChange((function(e){return t.getChartProxy().setAxisProperty("line.width",e)})),c.ib.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var n=[{value:"",text:e.translate("automatic")}];["category","time","number"].forEach((function(t){n.push({value:t,text:e.translate(t)})})),this.xAxisTypeSelect.setLabel(e.translate("xType")).setLabelWidth("flex").addOptions(n).setValue(this.getChartProxy().getChartOption("xAxis.type")||"").onValueChange((function(e){t.getChartProxy().setChartOption("xAxis.type","string"==typeof e&&e.length&&e),t.chartController.updateForDataChange()}))}else this.xAxisTypeSelect.setDisplayed(!1)},e.prototype.initAxisTicks=function(){var t=this.createBean(new Zc(this.chartController));this.axisGroup.addItem(t),this.activePanels.push(t)},e.prototype.initAxisLabels=function(){var t=this,e=this.getChartProxy(),n={family:e.getAxisProperty("label.fontFamily"),style:e.getAxisProperty("label.fontStyle"),weight:e.getAxisProperty("label.fontWeight"),size:e.getAxisProperty("label.fontSize"),color:e.getAxisProperty("label.color")},r=this.createBean(new xc({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(e){var n=t.getChartProxy();e.family&&n.setAxisProperty("label.fontFamily",e.family),e.weight&&n.setAxisProperty("label.fontWeight",e.weight),e.style&&n.setAxisProperty("label.fontStyle",e.style),e.size&&n.setAxisProperty("label.fontSize",e.size),e.color&&n.setAxisProperty("label.color",e.color),n.getChart().performLayout()}}));this.axisGroup.addItem(r),this.activePanels.push(r),this.addAdditionalLabelComps(r)},e.prototype.addAdditionalLabelComps=function(t){var e=this,n=function(n,r,o){var i=e.createBean((new c.b).setLabel(n).setLabelWidth("flex").setValue(r||0).onValueChange(o));t.addCompToPanel(i)},r=String.fromCharCode(176),o=function(t){return function(n){var r=e.getChartProxy().getChart(),o=ii(r.axes,(function(e){return e.position===t}));o&&(o.label.rotation=n,r.performLayout())}},i=this.chartTranslator.translate("xRotation")+" "+r,s=this.chartTranslator.translate("yRotation")+" "+r;n(i,this.getChartProxy().getChartOption("xAxis.label.rotation"),o(zo.Bottom)),n(s,this.getChartProxy().getChartOption("yAxis.label.rotation"),o(zo.Left));var a=this.createBean(new c.i);a.setLabel(this.chartTranslator.translate("padding")).setValue(this.getChartProxy().getAxisProperty("label.padding")).setMaxValue(30).setTextFieldWidth(45).onValueChange((function(t){return e.getChartProxy().setAxisProperty("label.padding",t)})),t.addCompToPanel(a)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',$c([Object(c.V)("axisGroup")],e.prototype,"axisGroup",void 0),$c([Object(c.V)("axisColorInput")],e.prototype,"axisColorInput",void 0),$c([Object(c.V)("axisLineWidthSlider")],e.prototype,"axisLineWidthSlider",void 0),$c([Object(c.V)("xAxisTypeSelect")],e.prototype,"xAxisTypeSelect",void 0),$c([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),$c([c.Q],e.prototype,"init",null),e}(c.t),ep=(Bc=function(t,e){return(Bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),np=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rp=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return ep(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},e.prototype.initNavigator=function(){var t=this,e=this.chartTranslator;this.navigatorGroup.setTitle(e.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.getChartProxy().getChartOption("navigator.enabled")||!1).onEnableChange((function(e){t.getChartProxy().setChartOption("navigator.enabled",e),t.navigatorGroup.toggleGroupExpand(!0)})),this.navigatorHeightSlider.setLabel(e.translate("height")).setMinValue(10).setMaxValue(60).setTextFieldWidth(45).setValue(String(this.getChartProxy().getChartOption("navigator.height")||"30")).onValueChange((function(e){return t.getChartProxy().setChartOption("navigator.height",e)}))},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',np([Object(c.V)("navigatorGroup")],e.prototype,"navigatorGroup",void 0),np([Object(c.V)("navigatorHeightSlider")],e.prototype,"navigatorHeightSlider",void 0),np([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),np([c.Q],e.prototype,"init",null),e}(c.t);function op(t,e){return!1!==e.clone&&e.isMergeableObject(t)?up(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function ip(t,e,n){return t.concat(e).map((function(t){return op(t,n)}))}function sp(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function ap(t,e){try{return e in t}catch(n){return!1}}function lp(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}(t)}function up(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||ip,n.isMergeableObject=n.isMergeableObject||lp,n.cloneUnlessOtherwiseSpecified=op;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&sp(t).forEach((function(e){r[e]=op(t[e],n)})),sp(e).forEach((function(o){(function(t,e){return ap(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(r[o]=ap(t,o)&&n.isMergeableObject(e[o])?function(t,e){if(!e.customMerge)return up;var n=e.customMerge(t);return"function"==typeof n?n:up}(o,n)(t[o],e[o],n):op(e[o],n))})),r}(t,e,n):op(e,n)}var cp,pp,hp,dp,fp,gp,yp,vp,mp,Cp,bp,wp,_p,Op,Ep,Sp,Pp,Tp,Rp,kp,Ap,Dp,xp,Np,Ip,Fp,Mp,Lp,jp,Gp,Vp,Wp,Bp,Hp,zp,Up,Kp,Yp,qp,Xp,Qp,Zp,Jp,$p,th,eh,nh,rh,oh,ih,sh,ah,lh,uh,ch,ph,hh,dh,fh,gh,yh,vh,mh,Ch,bh,wh,_h,Oh,Eh,Sh,Ph,Th,Rh,kh=function(){return(kh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ah=function(){function t(t){var e=this;this.chartProxyParams=t,this.isDarkTheme=function(){return e.chartProxyParams.isDarkTheme()},this.getFontColor=function(){return e.isDarkTheme()?"rgb(221, 221, 221)":"rgb(87, 87, 87)"},this.getAxisGridColor=function(){return e.isDarkTheme()?"rgb(100, 100, 100)":"rgb(219, 219, 219)"},this.getBackgroundColor=function(){return e.isDarkTheme()?"#2d3436":"white"},this.getChartPaddingOption=function(t){return e.chartOptions.padding?""+e.chartOptions.padding[t]:""},this.getShadowEnabled=function(){return!!e.getShadowProperty("enabled")},this.chartId=t.chartId,this.chartType=t.chartType,this.eventService=t.eventService,this.gridApi=t.gridApi,this.columnApi=t.columnApi,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback}return t.prototype.recreateChart=function(t){var e=this;this.chart&&this.destroyChart(),this.chart=this.createChart(t),this.crossFiltering&&this.chart.addEventListener("click",(function(t){return e.crossFilterCallback(t,!0)}))},t.prototype.getChart=function(){return this.chart},t.prototype.downloadChart=function(){var t=this.chart;t.scene.download(t.title?t.title.text:"chart")},t.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},t.prototype.initChartOptions=function(){this.initChartTheme(),this.chartOptions=this.getDefaultOptionsFromTheme(this.chartTheme);var t=this.chartProxyParams.processChartOptions;if(t){var e=up({},this.chartOptions),n=t({type:this.chartType,options:this.chartOptions}),r=this.getDefaultOptions();c.ib.mergeDeep(r,n,!1),this.overridePalette(e,r),this.chartOptions=r}},t.prototype.paletteOverridden=function(t,e){return!c.ib.areEqual(t.seriesDefaults.fill.colors,e.seriesDefaults.fill.colors)||!c.ib.areEqual(t.seriesDefaults.stroke.colors,e.seriesDefaults.stroke.colors)},t.prototype.initChartTheme=function(){var t=this.getSelectedTheme(),e=this.isStockTheme(t),n=this.chartProxyParams.getGridOptionsChartThemeOverrides(),r=this.chartProxyParams.apiChartThemeOverrides;if(n||r){var o={overrides:this.mergeThemeOverrides(n,r)},i=e?kh({baseTheme:t},o):up(this.lookupCustomChartTheme(t),o);this.chartTheme=ic(i)}else this.chartTheme=ic(e?t:this.lookupCustomChartTheme(t))},t.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,n=e&&e[t];return n||console.warn("ag-Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},t.prototype.isStockTheme=function(t){return c.ib.includes(Object.keys(oc),t)},t.prototype.mergeThemeOverrides=function(t,e){return t?e?up(t,e):t:e},t.prototype.integratedToStandaloneChartType=function(t){switch(t){case c.q.GroupedBar:case c.q.StackedBar:case c.q.NormalizedBar:return"bar";case c.q.GroupedColumn:case c.q.StackedColumn:case c.q.NormalizedColumn:return"column";case c.q.Line:return"line";case c.q.Area:case c.q.StackedArea:case c.q.NormalizedArea:return"area";case c.q.Scatter:case c.q.Bubble:return"scatter";case c.q.Histogram:return"histogram";case c.q.Pie:case c.q.Doughnut:return"pie";default:return"cartesian"}},t.prototype.overridePalette=function(t,e){if(this.chartProxyParams.allowPaletteOverride&&this.paletteOverridden(t,e)){var n=e.seriesDefaults,r=n.fill.colors,o=n.stroke.colors;if(r||o){var i=c.ib.includes(r,void 0),s=c.ib.includes(o,void 0);if(i||s)return;this.customPalette={fills:r,strokes:o}}}},t.prototype.getStandaloneChartType=function(){return this.integratedToStandaloneChartType(this.chartType)},t.prototype.getDefaultOptionsFromTheme=function(t){var e={},n=this.getStandaloneChartType();return e.title=t.getConfig(n+".title"),e.subtitle=t.getConfig(n+".subtitle"),e.background=t.getConfig(n+".background"),e.legend=t.getConfig(n+".legend"),e.navigator=t.getConfig(n+".navigator"),e.tooltip={enabled:t.getConfig(n+".tooltip.enabled"),tracking:t.getConfig(n+".tooltip.tracking"),class:t.getConfig(n+".tooltip.class"),delay:t.getConfig(n+".tooltip.delay")},e.listeners=t.getConfig(n+".listeners"),e.padding=t.getConfig(n+".padding"),e},t.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return c.ib.includes(e,t)||(t=e[0]),t},t.prototype.getChartOptions=function(){return this.chartOptions},t.prototype.getCustomPalette=function(){return this.customPalette},t.prototype.getChartOption=function(t){return c.ib.get(this.chartOptions,t,void 0)},t.prototype.setChartOption=function(t,e){c.ib.get(this.chartOptions,t,void 0)!==e&&(c.ib.set(this.chartOptions,t,e),c.ib.set(this.chart,{"legend.item.marker.strokeWidth":"legend.strokeWidth","legend.item.marker.size":"legend.markerSize","legend.item.marker.padding":"legend.itemSpacing","legend.item.label.fontFamily":"legend.fontFamily","legend.item.label.fontStyle":"legend.fontStyle","legend.item.label.fontWeight":"legend.fontWeight","legend.item.label.fontSize":"legend.fontSize","legend.item.label.color":"legend.color","legend.item.paddingX":"legend.layoutHorizontalSpacing","legend.item.paddingY":"legend.layoutVerticalSpacing"}[t]||t,e),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(t){return c.ib.get(this.chartOptions.seriesDefaults,t,void 0)},t.prototype.setSeriesOption=function(t,e){if(c.ib.get(this.chartOptions.seriesDefaults,t,void 0)!==e){c.ib.set(this.chartOptions.seriesDefaults,t,e);var n={"stroke.width":"strokeWidth","stroke.opacity":"strokeOpacity","fill.opacity":"fillOpacity","callout.colors":"calloutColors"};this.chart.series.forEach((function(r){return c.ib.set(r,n[t]||t,e)})),this.raiseChartOptionsChangedEvent()}},t.prototype.setTitleOption=function(t,e){c.ib.get(this.chartOptions.title,t,void 0)!==e&&(this.chartOptions.title[t]=e,this.chart.title||(this.chart.title={}),this.chart.title[t]=e,"text"===t&&this.setTitleOption("enabled",c.ib.exists(e)),this.raiseChartOptionsChangedEvent())},t.prototype.getTitleOption=function(t){return this.chartOptions.title[t]},t.prototype.setChartPaddingOption=function(t,e){var n=this.chartOptions.padding;c.ib.get(n,t,void 0)!==e&&(n||(n=this.chartOptions.padding={top:0,right:0,bottom:0,left:0},this.chart.padding=new _r(0)),n[t]=e,this.chart.padding[t]=e,this.chart.performLayout(),this.raiseChartOptionsChangedEvent())},t.prototype.getShadowProperty=function(t){var e=this.chartOptions.seriesDefaults;return e.shadow?e.shadow[t]:""},t.prototype.setShadowProperty=function(t,e){var n=this.chartOptions.seriesDefaults;c.ib.get(n.shadow,t,void 0)!==e&&(n.shadow||(n.shadow={enabled:!1,blur:0,xOffset:0,yOffset:0,color:"rgba(0,0,0,0.5)"}),n.shadow[t]=e,this.getChart().series.forEach((function(n){if(!n.shadow){var r=new Hl;r.enabled=!1,r.blur=0,r.xOffset=0,r.yOffset=0,r.color="rgba(0,0,0,0.5)",n.shadow=r}n.shadow[t]=e})),this.raiseChartOptionsChangedEvent())},t.prototype.raiseChartOptionsChangedEvent=function(){var t=Object.freeze({type:c.A.EVENT_CHART_OPTIONS_CHANGED,chartId:this.chartId,chartType:this.chartType,chartThemeName:this.chartProxyParams.getChartThemeName(),chartOptions:this.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},t.prototype.getDefaultFontOptions=function(){return{fontStyle:"normal",fontWeight:"normal",fontSize:12,fontFamily:"Verdana, sans-serif",color:this.getFontColor()}},t.prototype.getDefaultDropShadowOptions=function(){return{enabled:!1,blur:5,xOffset:3,yOffset:3,color:"rgba(0, 0, 0, 0.5)"}},t.prototype.getPredefinedPalette=function(){return this.chartTheme.palette},t.prototype.getPalette=function(){return this.customPalette||this.chartTheme.palette},t.prototype.getDefaultChartOptions=function(){return{background:{},padding:{},title:{},subtitle:{},legend:{},navigator:{},seriesDefaults:{},listeners:{}}},t.prototype.transformData=function(t,e){return this.chart.axes.filter((function(t){return t instanceof oi})).length<1?t:t.map((function(t,n){var r=t[e],o=r&&r.toString?r.toString():"",i=kh({},t);return i[e]={id:n,value:r,toString:function(){return o}},i}))},t.prototype.hexToRGBA=function(t,e){var n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+r+", "+o+", "+e+")":"rgba("+n+", "+r+", "+o+")"},t.prototype.destroy=function(){this.destroyChart()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t}(),Dh=(Rh=function(t,e){return(Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xh=function(){return(xh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Nh=function(t){function e(e){var n=t.call(this,e)||this;return n.axisTypeToClassMap={number:ei,category:oi,groupedCategory:Ci,time:ls},n}return Dh(e,t),e.prototype.getDefaultOptionsFromTheme=function(e){var n,r=t.prototype.getDefaultOptionsFromTheme.call(this,e),o=this.getStandaloneChartType(),i="scatter"===o||"histogram"===o?"number":"category",s="number";return"bar"===o&&(i=(n=[s,i])[0],s=n[1]),r.xAxis=e.getConfig(o+".axes."+i),r.yAxis=e.getConfig(o+".axes."+s),r},e.prototype.getAxisProperty=function(t){return c.ib.get(this.chartOptions.xAxis,t,void 0)},e.prototype.setAxisProperty=function(t,e){c.ib.set(this.chartOptions.xAxis,t,e),c.ib.set(this.chartOptions.yAxis,t,e);var n=this.chart;this.chart.axes.forEach((function(n){return c.ib.set(n,t,e)})),n.performLayout(),this.raiseChartOptionsChangedEvent()},e.prototype.updateLabelRotation=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="category");var r,o=0,i=e?"yAxis":"xAxis",s=this.chartProxyParams.getGridOptionsChartThemeOverrides(),a=this.getStandaloneChartType(),l=c.ib.get(s,"common.axes."+n+".label.rotation",void 0),u=c.ib.get(s,"cartesian.axes."+n+".label.rotation",void 0),p=c.ib.get(s,a+".axes."+n+".label.rotation",void 0);if("number"==typeof p&&isFinite(p)?r=p:"number"==typeof u&&isFinite(u)?r=u:"number"==typeof l&&isFinite(l)&&(r=l),t!==wr.DEFAULT_CATEGORY&&!this.chartProxyParams.grouping){var h=this.chartOptions[i].label;h&&(o=void 0!==r?r:h.rotation||335)}var d=e?zo.Left:zo.Bottom,f=ii(this.chart.axes,(function(t){return t.position===d}));f&&(f.label.rotation=o)},e.prototype.getDefaultAxisOptions=function(){var t=this.getDefaultFontOptions(),e=this.getAxisGridColor();return{title:xh(xh({},t),{enabled:!1,fontSize:14}),line:{color:"rgba(195, 195, 195, 1)",width:1},tick:{color:"rgba(195, 195, 195, 1)",size:6,width:1},label:xh(xh({},t),{padding:5,rotation:0}),gridStyle:[{stroke:e,lineDash:[4,2]}]}},e.prototype.getDefaultCartesianChartOptions=function(){var t=this.getDefaultChartOptions();return t.xAxis=this.getDefaultAxisOptions(),t.yAxis=this.getDefaultAxisOptions(),t},e.prototype.getAxisClass=function(t){return this.axisTypeToClassMap[t]},e.prototype.updateAxes=function(t,e){void 0===t&&(t="category"),void 0===e&&(e=!1);var n=e?this.getYAxis():this.getXAxis();if(n)if(this.chartProxyParams.grouping)n instanceof Ci||this.recreateChart();else if(!(n instanceof this.axisTypeToClassMap[t])){var r=this.chartOptions;e&&!r.yAxis.type?r=xh(xh({},r),{yAxis:xh({type:t},r.yAxis)}):e||r.xAxis.type||(r=xh(xh({},r),{xAxis:xh({type:t},r.xAxis)})),this.recreateChart(r)}},e.prototype.isTimeAxis=function(t){if(t.category&&t.category.chartDataType)return"time"===t.category.chartDataType;var e=t.data[0];return(e&&e[t.category.id])instanceof Date},e.prototype.getXAxisDefaults=function(t,e){return"time"===t?this.chartTheme.getConfig(this.getStandaloneChartType()+".axes.time"):e.xAxis},e.prototype.getXAxis=function(){return ii(this.chart.axes,(function(t){return t.position===zo.Bottom}))},e.prototype.getYAxis=function(){return ii(this.chart.axes,(function(t){return t.position===zo.Left}))},e.prototype.processDataForCrossFiltering=function(t,e,n){var r=e,o=!1;return this.crossFiltering&&(t.forEach((function(t){t[e+"-total"]=t[e]+t[e+"-filtered-out"],t[e+"-filtered-out"]>0&&(o=!0)})),n.getCrossFilteringContext().lastSelectedChartId===n.chartId&&(r=e+"-total")),{yKey:r,atLeastOneSelectedPoint:o}},e.prototype.updateSeriesForCrossFiltering=function(t,e,n,r,o){if(this.crossFiltering){t.marker.enabled=!0,t.marker.formatter=function(t){return{fill:t.highlighted?"yellow":t.fill,size:t.highlighted?12:t.datum[e]>0?8:0}},n.tooltip.delay=500;var i=r.getCrossFilteringContext().lastSelectedChartId===r.chartId&&o;t instanceof tl&&(t.fillOpacity=i?.3:1),t instanceof yl&&(t.strokeOpacity=i?.3:1),t.addEventListener("nodeClick",this.crossFilterCallback)}},e}(Ah),Ih=(Th=function(t,e){return(Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Th(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fh=function(){return(Fh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mh=function(t){function e(e){var n=t.call(this,e)||this;return n.getMarkersEnabled=function(){return!0},n.initChartOptions(),n.recreateChart(),n}return Ih(e,t),e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=e.getConfig("scatter.series.scatter");return n.seriesDefaults={tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:e.palette.fills,opacity:r.fillOpacity},stroke:{colors:e.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},marker:{enabled:r.marker.enabled,shape:r.marker.shape,size:r.marker.size,strokeWidth:r.marker.strokeWidth},highlightStyle:r.highlightStyle,listeners:r.listeners,paired:!0},n},e.prototype.createChart=function(t){var e=t=t||this.chartOptions;return e.autoSize=!0,e.axes=[Fh({type:"number",position:"bottom"},t.xAxis),Fh({type:"number",position:"left"},t.yAxis)],lc.create(e,this.chartProxyParams.parentElement)},e.prototype.update=function(t){var e=this;if(t.fields.length<2)this.chart.removeAllSeries();else{var n=t.fields;this.crossFiltering&&n.forEach((function(t){var e=Fh({},t);e.colId=t.colId+"-filtered-out",n.push(e)}));var r,o=this.chartOptions.seriesDefaults,i=this.getSeriesDefinitions(n,o.paired);this.crossFiltering&&(r=this.getCrossFilteringDataDomain(i,t));var s=this.chart,a=s.series.reduceRight((function(t,e,n){return c.ib.findIndex(i,(function(t){return t.xField.colId===e.xKey&&t.yField.colId===e.yKey&&(!t.sizeField&&!e.sizeKey||t.sizeField&&t.sizeField.colId===e.sizeKey)}))===n?t.set(e.yKey,e):s.removeSeries(e),t}),new Map),l=this.getPalette(),u=l.fills,p=l.strokes;if(this.crossFiltering){var h=[];u.forEach((function(t){h.push(t),h.push(e.hexToRGBA(t,"0.3"))})),u=h;var d=[];p.forEach((function(t){d.push(t),d.push(e.hexToRGBA(t,"0.3"))})),p=d}var f,g=t.category.id===wr.DEFAULT_CATEGORY?void 0:t.category;i.forEach((function(n,i){var l=a.get(n.yField.colId),c=Fh({},o.marker);c.type&&(c.shape=c.type,delete c.type);var h=l||lc.createComponent(Fh(Fh({},o),{type:"scatter",fillOpacity:o.fill.opacity,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,marker:c,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.enabled&&o.tooltip.renderer}}),"scatter.series");if(h){var d=n.xField,y=n.yField,v=n.sizeField;h.title=y.displayName+" vs "+d.displayName,h.xKey=d.colId,h.xName=d.displayName,h.yKey=y.colId,h.yName=y.displayName,h.data=t.data,h.fill=u[i%u.length],h.stroke=p[i%p.length],v?(h.sizeKey=v.colId,h.sizeName=v.displayName):h.sizeKey=h.sizeName=void 0,g?(h.labelKey=g.id,h.labelName=g.name):h.labelKey=h.labelName=void 0;var m=y.colId.indexOf("-filtered-out")>-1;e.crossFiltering&&(m||s.legend.addEventListener("click",(function(t){h.toggleSeriesItem(t.itemId+"-filtered-out",t.enabled)})),r&&(h.marker.domain=r),s.tooltip.delay=500,m&&(h.showInLegend=!1),h.addEventListener("nodeClick",e.crossFilterCallback)),l||s.addSeriesAfter(h,f),f=h}}))}},e.prototype.getTooltipsEnabled=function(){return null!=this.chartOptions.seriesDefaults.tooltip&&!!this.chartOptions.seriesDefaults.tooltip.enabled},e.prototype.getDefaultOptions=function(){var t=this.chartType===c.q.Bubble,e=this.getDefaultCartesianChartOptions();return e.seriesDefaults=Fh(Fh({},e.seriesDefaults),{fill:Fh(Fh({},e.seriesDefaults.fill),{opacity:t?.7:1}),stroke:Fh(Fh({},e.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,maxSize:30,strokeWidth:1},tooltip:{enabled:!0},paired:!0}),e},e.prototype.getSeriesDefinitions=function(t,e){if(t.length<2)return[];var n=this.chartType===c.q.Bubble;if(e)return n?t.map((function(e,n){return n%3==0?{xField:e,yField:t[n+1],sizeField:t[n+2]}:null})).filter((function(t){return t&&t.yField&&t.sizeField})):t.map((function(e,n){return n%2==0?{xField:e,yField:t[n+1]}:null})).filter((function(t){return t&&t.yField}));var r=t[0];return n?t.map((function(e,n){return n%2==1?{xField:r,yField:e,sizeField:t[n+1]}:null})).filter((function(t){return t&&t.sizeField})):t.filter((function(t,e){return e>0})).map((function(t){return{xField:r,yField:t}}))},e.prototype.getCrossFilteringDataDomain=function(t,e){var n;if(t[0]&&t[0].sizeField){var r=t[0].sizeField.colId,o=[];e.data.forEach((function(t){void 0!==t[r]&&o.push(t[r]),void 0!==t[r+"-filtered-out"]&&o.push(t[r+"-filtered-out"])})),o.length>0&&(n=[Math.min.apply(Math,o),Math.max.apply(Math,o)])}return n},e}(Nh),Lh=(Ph=function(t,e){return(Ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ph(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gh=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return Lh(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},e.prototype.initMarkers=function(){var t=this,e=this.chartController.getChartProxy()instanceof Mh;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslator.translate("shape")).setValue(this.chartController.getChartProxy().getSeriesOption("marker.shape")).onValueChange((function(e){return t.chartController.getChartProxy().setSeriesOption("marker.shape",e)})),this.seriesMarkersGroup.setTitle(this.chartTranslator.translate("markers")).hideEnabledCheckbox(e).setEnabled(this.chartController.getChartProxy().getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange((function(e){return t.chartController.getChartProxy().setSeriesOption("marker.enabled",e)}));var n=function(e,n,r,o){n.setLabel(t.chartTranslator.translate(r)).setValue(t.chartController.getChartProxy().getSeriesOption(e)).setMaxValue(o).setTextFieldWidth(45).onValueChange((function(n){return t.chartController.getChartProxy().setSeriesOption(e,n)}))};this.chartController.getChartType()===c.q.Bubble?(n("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),n("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),n("marker.size",this.seriesMarkerSizeSlider,"size",60)),n("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',jh([Object(c.V)("seriesMarkersGroup")],e.prototype,"seriesMarkersGroup",void 0),jh([Object(c.V)("seriesMarkerShapeSelect")],e.prototype,"seriesMarkerShapeSelect",void 0),jh([Object(c.V)("seriesMarkerSizeSlider")],e.prototype,"seriesMarkerSizeSlider",void 0),jh([Object(c.V)("seriesMarkerMinSizeSlider")],e.prototype,"seriesMarkerMinSizeSlider",void 0),jh([Object(c.V)("seriesMarkerStrokeWidthSlider")],e.prototype,"seriesMarkerStrokeWidthSlider",void 0),jh([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),jh([c.Q],e.prototype,"init",null),e}(c.t),Vh=(Sh=function(t,e){return(Sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bh=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return Vh(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initSeriesLineDash(),this.initMarkersPanel()},e.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},e.prototype.initSeriesTooltips=function(){var t=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.getChartProxy().setSeriesOption("tooltip.enabled",e)}))},e.prototype.initSeriesLineWidth=function(){var t=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("stroke.width",e)}))},e.prototype.initSeriesLineDash=function(){var t=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("lineDash",[e])}))},e.prototype.initMarkersPanel=function(){var t=this.createBean(new Gh(this.chartController));this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Wh([Object(c.V)("seriesGroup")],e.prototype,"seriesGroup",void 0),Wh([Object(c.V)("seriesTooltipsToggle")],e.prototype,"seriesTooltipsToggle",void 0),Wh([Object(c.V)("seriesLineWidthSlider")],e.prototype,"seriesLineWidthSlider",void 0),Wh([Object(c.V)("seriesLineDashSlider")],e.prototype,"seriesLineDashSlider",void 0),Wh([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Wh([c.Q],e.prototype,"init",null),e}(c.t),Hh=(Eh=function(t,e){return(Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Eh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uh=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return Hh(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},e.prototype.initCalloutOptions=function(){var t=this;this.calloutGroup.setTitle(this.chartTranslator.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var e=function(e,n,r,o){n.setLabel(t.chartTranslator.translate(r)).setValue(t.chartController.getChartProxy().getSeriesOption(e)).setMaxValue(o).setTextFieldWidth(45).onValueChange((function(n){return t.chartController.getChartProxy().setSeriesOption(e,n)}))};e("callout.length",this.calloutLengthSlider,"length",40),e("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),e("label.offset",this.labelOffsetSlider,"offset",30)},e.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',zh([Object(c.V)("calloutGroup")],e.prototype,"calloutGroup",void 0),zh([Object(c.V)("calloutLengthSlider")],e.prototype,"calloutLengthSlider",void 0),zh([Object(c.V)("calloutStrokeWidthSlider")],e.prototype,"calloutStrokeWidthSlider",void 0),zh([Object(c.V)("labelOffsetSlider")],e.prototype,"labelOffsetSlider",void 0),zh([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),zh([c.Q],e.prototype,"init",null),e}(c.t),Kh=(Oh=function(t,e){return(Oh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Oh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qh=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return Kh(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},e.prototype.initGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},e.prototype.initSeriesTooltips=function(){var t=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.getChartProxy().setSeriesOption("tooltip.enabled",e)}))},e.prototype.initSeriesStrokeWidth=function(){var t=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("stroke.width",e)}))},e.prototype.initOpacity=function(){var t=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange((function(e){return t.getChartProxy().setSeriesOption("stroke.opacity",e)})),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fillOpacity")||"1").onValueChange((function(e){return t.getChartProxy().setSeriesOption("fillOpacity",e)}))},e.prototype.initLabelPanel=function(){var t=this,e=this.getChartProxy(),n={family:e.getSeriesOption("label.fontFamily"),style:e.getSeriesOption("label.fontStyle"),weight:e.getSeriesOption("label.fontWeight"),size:e.getSeriesOption("label.fontSize"),color:e.getSeriesOption("label.color")},r={name:this.chartTranslator.translate("labels"),enabled:e.getSeriesOption("label.enabled")||!1,setEnabled:function(e){return t.getChartProxy().setSeriesOption("label.enabled",e)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(e){var n=t.getChartProxy();e.family&&n.setSeriesOption("label.fontFamily",e.family),e.weight&&n.setSeriesOption("label.fontWeight",e.weight),e.style&&n.setSeriesOption("label.fontStyle",e.style),e.size&&n.setSeriesOption("label.fontSize",e.size),e.color&&n.setSeriesOption("label.color",e.color)}},o=this.createBean(new xc(r));this.activePanels.push(o);var i=this.createBean(new Uh(this.chartController));o.addCompToPanel(i),this.activePanels.push(i),this.seriesGroup.addItem(o)},e.prototype.initShadowPanel=function(){var t=this.createBean(new jc(this.chartController));this.seriesGroup.getGui().appendChild(t.getGui()),this.seriesGroup.addItem(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Yh([Object(c.V)("seriesGroup")],e.prototype,"seriesGroup",void 0),Yh([Object(c.V)("seriesTooltipsToggle")],e.prototype,"seriesTooltipsToggle",void 0),Yh([Object(c.V)("seriesStrokeWidthSlider")],e.prototype,"seriesStrokeWidthSlider",void 0),Yh([Object(c.V)("seriesLineOpacitySlider")],e.prototype,"seriesLineOpacitySlider",void 0),Yh([Object(c.V)("seriesFillOpacitySlider")],e.prototype,"seriesFillOpacitySlider",void 0),Yh([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Yh([c.Q],e.prototype,"init",null),e}(c.t),Xh=(_h=function(t,e){return(_h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zh=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return Xh(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},e.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslator.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},e.prototype.initChartPaddingItems=function(){var t=this,e=function(e,n){n.setLabel(t.chartTranslator.translate(e)).setValue(t.chartController.getChartProxy().getChartPaddingOption(e)).setMaxValue(200).setTextFieldWidth(45).onValueChange((function(n){return t.chartController.getChartProxy().setChartPaddingOption(e,n)}))};e("top",this.paddingTopSlider),e("right",this.paddingRightSlider),e("bottom",this.paddingBottomSlider),e("left",this.paddingLeftSlider)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',Qh([Object(c.V)("chartPaddingGroup")],e.prototype,"chartPaddingGroup",void 0),Qh([Object(c.V)("paddingTopSlider")],e.prototype,"paddingTopSlider",void 0),Qh([Object(c.V)("paddingRightSlider")],e.prototype,"paddingRightSlider",void 0),Qh([Object(c.V)("paddingBottomSlider")],e.prototype,"paddingBottomSlider",void 0),Qh([Object(c.V)("paddingLeftSlider")],e.prototype,"paddingLeftSlider",void 0),Qh([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Qh([c.Q],e.prototype,"init",null),e}(c.t),Jh=(wh=function(t,e){return(wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$h=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},td=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return Jh(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},e.prototype.initGroup=function(){var t=this;this.group.setTitle(this.chartTranslator.translate("background")).setEnabled(this.chartController.getChartProxy().getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartController.getChartProxy().setChartOption("background.visible",e)}))},e.prototype.initColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartController.getChartProxy().getChartOption("background.fill")).onValueChange((function(e){return t.chartController.getChartProxy().setChartOption("background.fill",e)}))},e.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',$h([Object(c.V)("chartBackgroundGroup")],e.prototype,"group",void 0),$h([Object(c.V)("colorPicker")],e.prototype,"colorPicker",void 0),$h([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),$h([c.Q],e.prototype,"init",null),e}(c.t),ed=(bh=function(t,e){return(bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rd=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.activePanels=[],r.chartController=n,r}return ed(e,t),e.prototype.init=function(){this.initFontPanel()},e.prototype.hasTitle=function(){var t=this.chartController.getChartProxy().getChartOption("title");return t&&t.enabled&&t.text&&t.text.length>0},e.prototype.initFontPanel=function(){var t=this,e=this.chartController.getChartProxy(),n=this.hasTitle,r=function(e){var n=t.chartController.getChartProxy();e.family&&n.setTitleOption("fontFamily",e.family),e.weight&&n.setTitleOption("fontWeight",e.weight),e.style&&n.setTitleOption("fontStyle",e.style),e.size&&n.setTitleOption("fontSize",e.size),e.color&&n.setTitleOption("color",e.color)},o={family:e.getChartOption("title.fontFamily"),style:e.getChartOption("title.fontStyle"),weight:e.getChartOption("title.fontWeight"),size:e.getChartOption("title.fontSize"),color:e.getChartOption("title.color")};n||r(o);var i={name:this.chartTranslator.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:o,setFont:r,setEnabled:function(e){var n=t.chartController.getChartProxy();if(e){var r=t.disabledTitle||t.chartTranslator.translate("titlePlaceholder");n.setTitleOption("text",r),t.disabledTitle=""}else t.disabledTitle=n.getTitleOption("text"),n.setTitleOption("text","")}},s=this.createBean(new xc(i));this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",(function(){s.setEnabled(t.hasTitle())}))},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE="<div></div>",nd([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),nd([c.Q],e.prototype,"init",null),e}(c.t),od=(Ch=function(t,e){return(Ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ch(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),id=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sd=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return od(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},e.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslator.translate("chart")).toggleGroupExpand(!0).hideEnabledCheckbox(!0)},e.prototype.initTitles=function(){var t=this.createBean(new rd(this.chartController));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initPaddingPanel=function(){var t=this.createBean(new Zh(this.chartController));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initBackgroundPanel=function(){var t=this.createBean(new td(this.chartController));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',id([Object(c.V)("chartGroup")],e.prototype,"chartGroup",void 0),id([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),id([c.Q],e.prototype,"init",null),e}(c.t),ad=(mh=function(t,e){return(mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ld=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ud=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return ad(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initMarkersPanel(),this.initShadowPanel()},e.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},e.prototype.initSeriesTooltips=function(){var t=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.getChartProxy().setSeriesOption("tooltip.enabled",e)}))},e.prototype.initSeriesLineWidth=function(){var t=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("stroke.width",e)}))},e.prototype.initSeriesLineDash=function(){var t=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("lineDash",[e])}))},e.prototype.initOpacity=function(){Gc(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),Vc(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},e.prototype.initMarkersPanel=function(){var t=this.createBean(new Gh(this.chartController));this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.initShadowPanel=function(){var t=this.createBean(new jc(this.chartController));this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',ld([Object(c.V)("seriesGroup")],e.prototype,"seriesGroup",void 0),ld([Object(c.V)("seriesTooltipsToggle")],e.prototype,"seriesTooltipsToggle",void 0),ld([Object(c.V)("seriesLineWidthSlider")],e.prototype,"seriesLineWidthSlider",void 0),ld([Object(c.V)("seriesLineDashSlider")],e.prototype,"seriesLineDashSlider",void 0),ld([Object(c.V)("seriesLineOpacitySlider")],e.prototype,"seriesLineOpacitySlider",void 0),ld([Object(c.V)("seriesFillOpacitySlider")],e.prototype,"seriesFillOpacitySlider",void 0),ld([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),ld([c.Q],e.prototype,"init",null),e}(c.t),cd=(vh=function(t,e){return(vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hd=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return cd(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initMarkersPanel()},e.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},e.prototype.initSeriesTooltips=function(){var t=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.getChartProxy().setSeriesOption("tooltip.enabled",e)}))},e.prototype.initMarkersPanel=function(){var t=this.createBean(new Gh(this.chartController));this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n            </ag-group-component>\n        </div>',pd([Object(c.V)("seriesGroup")],e.prototype,"seriesGroup",void 0),pd([Object(c.V)("seriesTooltipsToggle")],e.prototype,"seriesTooltipsToggle",void 0),pd([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),pd([c.Q],e.prototype,"init",null),e}(c.t),dd=(yh=function(t,e){return(yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gd=function(t){function e(e){var n=t.call(this)||this;return n.activePanels=[],n.chartController=e,n}return dd(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel(),this.initBins()},e.prototype.initSeriesTooltips=function(){var t=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.getChartProxy().setSeriesOption("tooltip.enabled",e)}))},e.prototype.initSeriesStrokeWidth=function(){var t=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("stroke.width",e)}))},e.prototype.initSeriesLineDash=function(){var t=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("lineDash",[e])}))},e.prototype.initOpacity=function(){Gc(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),Vc(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},e.prototype.initBins=function(){var t=this;this.seriesBinCountSlider.setLabel(this.chartTranslator.translate("histogramBinCount")).setMinValue(4).setMaxValue(100).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("binCount")).onValueChange((function(e){return t.getChartProxy().setSeriesOption("binCount",e)}))},e.prototype.initLabelPanel=function(){var t=Wc(this.chartTranslator,this.getChartProxy()),e=this.createBean(new xc(t));this.activePanels.push(e),this.seriesGroup.addItem(e)},e.prototype.initShadowPanel=function(){var t=this.createBean(new jc(this.chartController));this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="binCountSlider"></ag-slider>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',fd([Object(c.V)("seriesGroup")],e.prototype,"seriesGroup",void 0),fd([Object(c.V)("seriesTooltipsToggle")],e.prototype,"seriesTooltipsToggle",void 0),fd([Object(c.V)("binCountSlider")],e.prototype,"seriesBinCountSlider",void 0),fd([Object(c.V)("seriesStrokeWidthSlider")],e.prototype,"seriesStrokeWidthSlider",void 0),fd([Object(c.V)("seriesLineOpacitySlider")],e.prototype,"seriesLineOpacitySlider",void 0),fd([Object(c.V)("seriesLineDashSlider")],e.prototype,"seriesLineDashSlider",void 0),fd([Object(c.V)("seriesFillOpacitySlider")],e.prototype,"seriesFillOpacitySlider",void 0),fd([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),fd([c.Q],e.prototype,"init",null),e}(c.t),yd=(gh=function(t,e){return(gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vd=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.panels=[],r.chartController=n,r}return yd(e,t),e.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,Sc.EVENT_CHART_UPDATED,this.createPanels.bind(this))},e.prototype.createPanels=function(){var t=this.chartController.getChartType(),e=this.chartController.isGrouping();if(t!==this.chartType||e!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new sd(this.chartController)),this.addComponent(new Fc(this.chartController)),t){case c.q.GroupedColumn:case c.q.StackedColumn:case c.q.NormalizedColumn:case c.q.GroupedBar:case c.q.StackedBar:case c.q.NormalizedBar:this.addComponent(new tp(this.chartController)),this.addComponent(new rp(this.chartController)),this.addComponent(new qc(this.chartController));break;case c.q.Pie:case c.q.Doughnut:this.addComponent(new qh(this.chartController));break;case c.q.Line:this.addComponent(new tp(this.chartController)),this.addComponent(new rp(this.chartController)),this.addComponent(new Bh(this.chartController));break;case c.q.Scatter:case c.q.Bubble:this.addComponent(new tp(this.chartController)),this.addComponent(new rp(this.chartController)),this.addComponent(new hd(this.chartController));break;case c.q.Area:case c.q.StackedArea:case c.q.NormalizedArea:this.addComponent(new tp(this.chartController)),this.addComponent(new rp(this.chartController)),this.addComponent(new ud(this.chartController));break;case c.q.Histogram:this.addComponent(new tp(this.chartController)),this.addComponent(new rp(this.chartController)),this.addComponent(new gd(this.chartController));break;default:console.warn("ag-Grid: ChartFormattingPanel - unexpected chart type index: "+t+" supplied")}this.chartType=t,this.isGrouping=e}},e.prototype.addComponent=function(t){this.createBean(t),this.panels.push(t),c.ib.addCssClass(t.getGui(),"ag-chart-format-section"),this.getGui().appendChild(t.getGui())},e.prototype.destroyPanels=function(){var t=this;this.panels.forEach((function(e){c.ib.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyPanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([c.Q],e.prototype,"init",null),e}(c.t),md=(fh=function(t,e){return(fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bd=function(t){function e(e,n){var r=t.call(this)||this;r.size=58,r.padding=5,r.root=new bo;var o=new us(window.document,r.size,r.size);return c.ib.addCssClass(o.canvas.element,"ag-chart-mini-thumbnail-canvas"),o.root=r.root,o.container=e,r.scene=o,r.tooltipName=n,r}return md(e,t),e.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslator.translate(this.tooltipName)},Cd([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Cd([c.Q],e.prototype,"init",null),e}(c.t),wd=(dh=function(t,e){return(dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_d=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.stroke="gray",r.axisOvershoot=3,r}return wd(e,t),e.prototype.addAxes=function(){var t=this.size,e=this.padding,n=new Eo;n.x1=e,n.y1=e,n.x2=e,n.y2=t-e+this.axisOvershoot,n.stroke=this.stroke;var r=new Eo;r.x1=e-this.axisOvershoot+1,r.y1=t-e,r.x2=t-e+1,r.y2=t-e,r.stroke=this.stroke;var o=this.root;o.append(n),o.append(r)},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([c.Q],e.prototype,"addAxes",null),e}(bd),Od=(hh=function(t,e){return(hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ed=function(t){function e(e,n,r){var o=t.call(this,e,"groupedColumnTooltip")||this,i=o.padding,s=o.size,a=new ni;a.domain=[0,1,2],a.range=[i,s-i],a.paddingInner=.3,a.paddingOuter=.3;var l=new mo;l.domain=[0,4],l.range=[s-i,i];var u=l.convert(0),c=a.bandwidth;return o.bars=[2,3,4].map((function(t,e){var n=l.convert(t),r=new bs;return r.x=a.convert(e),r.y=n,r.width=c,r.height=u-n,r.strokeWidth=1,r.crisp=!0,r})),o.updateColors(n,r),o.root.append(o.bars),o}return Od(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,r){n.fill=t[r],n.stroke=e[r]}))},e.chartType=c.q.GroupedColumn,e}(_d),Sd=(ph=function(t,e){return(ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ph(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pd=function(t){function e(n,r,o,i,s,a){void 0===i&&(i=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=t.call(this,n,a)||this,u=l.padding,c=l.size,p=new ni;p.domain=[0,1,2],p.range=[u,c-u],p.paddingInner=.3,p.paddingOuter=.3;var h=new mo;h.domain=s,h.range=[c-u,u];var d=h.convert(0),f=p.bandwidth;return l.bars=i.map((function(t){return t.map((function(t,e){var n=h.convert(t),r=new bs;return r.x=p.convert(e),r.y=n,r.width=f,r.height=d-n,r.strokeWidth=1,r.crisp=!0,r}))})),l.updateColors(r,o),l.root.append([].concat.apply([],l.bars)),l}return Sd(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,r){return n.forEach((function(n){n.fill=t[r],n.stroke=e[r]}))}))},e.chartType=c.q.StackedColumn,e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(_d),Td=(ch=function(t,e){return(ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ch(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rd=function(t){function e(n,r,o){return t.call(this,n,r,o,e.data,[0,10],"normalizedColumnTooltip")||this}return Td(e,t),e.chartType=c.q.NormalizedColumn,e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(Pd),kd=(uh=function(t,e){return(uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}uh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ad=function(t){function e(e,n,r){var o=t.call(this,e,"groupedBarTooltip")||this,i=o.padding,s=o.size,a=new ni;a.domain=[0,1,2],a.range=[i,s-i],a.paddingInner=.3,a.paddingOuter=.3;var l=new mo;l.domain=[0,4],l.range=[s-i,i];var u=l.convert(0),c=a.bandwidth;return o.bars=[2,3,4].map((function(t,e){var n=new bs;return n.x=i,n.y=a.convert(e),n.width=u-l.convert(t),n.height=c,n.strokeWidth=1,n.crisp=!0,n})),o.updateColors(n,r),o.root.append(o.bars),o}return kd(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,r){n.fill=t[r],n.stroke=e[r]}))},e.chartType=c.q.GroupedBar,e}(_d),Dd=(lh=function(t,e){return(lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}lh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xd=function(t){function e(n,r,o,i,s,a){void 0===i&&(i=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=t.call(this,n,a)||this,u=l.size,c=l.padding,p=new ni;p.domain=[0,1,2],p.range=[c,u-c],p.paddingInner=.3,p.paddingOuter=.3;var h=new mo;h.domain=s,h.range=[u-c,c];var d=h.convert(0),f=p.bandwidth;return l.bars=i.map((function(t){return t.map((function(t,e){var n=new bs;return n.x=c,n.y=p.convert(e),n.width=d-h.convert(t),n.height=f,n.strokeWidth=1,n.crisp=!0,n}))})),l.updateColors(r,o),l.root.append([].concat.apply([],l.bars)),l}return Dd(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,r){return n.forEach((function(n){n.fill=t[r],n.stroke=e[r]}))}))},e.chartType=c.q.StackedBar,e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(_d),Nd=(ah=function(t,e){return(ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ah(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Id=function(t){function e(n,r,o){return t.call(this,n,r,o,e.data,[0,10],"normalizedBarTooltip")||this}return Nd(e,t),e.chartType=c.q.NormalizedBar,e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(xd),Fd=(sh=function(t,e){return(sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Md=function(t){function e(e,n,r,o,i){void 0===o&&(o=.6),void 0===i&&(i="doughnutTooltip");var s=t.call(this,e,i)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,u=[[To(-90),To(30)],[To(30),To(120)],[To(120),To(180)],[To(180),To(210)],[To(210),To(240)],[To(240),To(270)]];return s.sectors=u.map((function(t){var e=t[0],n=t[1],r=new xl;return r.centerX=l,r.centerY=l,r.innerRadius=a*o,r.outerRadius=a,r.startAngle=e,r.endAngle=n,r.stroke=void 0,r.strokeWidth=1,r})),s.updateColors(n,r),s.root.append(s.sectors),s}return Fd(e,t),e.prototype.updateColors=function(t,e){this.sectors.forEach((function(n,r){n.fill=t[r%t.length],n.stroke=e[r%e.length]}))},e.chartType=c.q.Doughnut,e}(bd),Ld=(ih=function(t,e){return(ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ih(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jd=function(t){function e(e,n,r){return t.call(this,e,n,r,0,"pieTooltip")||this}return Ld(e,t),e.chartType=c.q.Pie,e}(Md),Gd=(oh=function(t,e){return(oh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vd=function(t){function e(e,n,r){var o=t.call(this,e,"lineTooltip")||this,i=o.size,s=o.padding,a=new mo;a.domain=[0,4],a.range=[s,i-s];var l=new mo;l.domain=[0,10],l.range=[i-s,s],o.lines=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]].map((function(t){var e=new Fo;return e.strokeWidth=3,e.lineCap="round",e.fill=void 0,t.forEach((function(t,n){e.path[n>0?"lineTo":"moveTo"](a.convert(n),l.convert(t))})),e})),o.updateColors(n,r);var u=new Pa;return u.x=u.y=s,u.width=u.height=i-2*s,u.append(o.lines),o.root.append(u),o}return Gd(e,t),e.prototype.updateColors=function(t,e){this.lines.forEach((function(e,n){e.stroke=t[n]}))},e.chartType=c.q.Line,e}(_d),Wd=(rh=function(t,e){return(rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bd=function(t){function e(e,n,r){var o=t.call(this,e,"scatterTooltip")||this,i=o.size,s=o.padding,a=new mo;a.domain=[-.5,4],a.range=[2*s,i-s];var l=new mo;l.domain=[-.5,3.5],l.range=[i-s,s];var u=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((function(t){t.forEach((function(t){var e=t[0],n=t[1],r=new Bo;r.strokeWidth=1,r.centerX=a.convert(e),r.centerY=l.convert(n),r.radiusX=r.radiusY=2.5,u.push(r)}))})),o.points=u,o.updateColors(n,r);var c=new Pa;return c.x=c.y=s,c.width=c.height=i-2*s,c.append(o.points),o.root.append(c),o}return Wd(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(n,r){n.stroke=e[r%e.length],n.fill=t[r%t.length]}))},e.chartType=c.q.Scatter,e}(_d),Hd=(nh=function(t,e){return(nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zd=function(t){function e(e,n,r){var o=t.call(this,e,"bubbleTooltip")||this,i=o.size,s=o.padding,a=new mo;a.domain=[0,1],a.range=[2*s,i-s];var l=new mo;l.domain=[0,1],l.range=[i-s,s];var u=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((function(t){t.forEach((function(t){var e=t[0],n=t[1],r=t[2],o=new Bo;o.strokeWidth=1,o.centerX=a.convert(e),o.centerY=l.convert(n),o.radiusX=o.radiusY=r,o.fillOpacity=.7,u.push(o)}))})),o.points=u,o.updateColors(n,r);var c=new Pa;return c.x=s,c.y=s,c.width=i-2*s,c.height=i-2*s,c.append(o.points),o.root.append(c),o}return Hd(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(n,r){n.stroke=e[r%e.length],n.fill=t[r%t.length]}))},e.chartType=c.q.Bubble,e}(_d),Ud=(eh=function(t,e){return(eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}eh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kd=function(t){function e(n,r,o,i){void 0===i&&(i=e.data);var s=t.call(this,n,"groupedAreaTooltip")||this,a=s.size,l=s.padding,u=new ni;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[l+.5,a-l-.5];var c=new mo;c.domain=[0,6],c.range=[a-l+.5,l];var p=2*i.length-1,h=[],d=c.convert(0);return i.forEach((function(t,e){var n=u.convert(e);t.forEach((function(t,r){var o=c.convert(t),i=h[r]||(h[r]=[]);i[e]={x:n,y:o},i[p-e]={x:n,y:d}}))})),s.areas=h.reverse().map((function(t){var e=new Fo;e.strokeWidth=1,e.fillOpacity=.7;var n=e.path;return n.clear(),t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),n.closePath(),e})),s.updateColors(r,o),s.root.append(s.areas),s}return Ud(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,r){n.fill=t[r],n.stroke=e[r]}))},e.chartType=c.q.Area,e.data=[[1,3,5],[2,6,4],[5,3,1]],e}(_d),Yd=(th=function(t,e){return(th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}th(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qd=function(t){function e(n,r,o,i,s){void 0===i&&(i=e.data),void 0===s&&(s="stackedAreaTooltip");var a=t.call(this,n,s)||this,l=a.size,u=a.padding,c=new ni;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[u+.5,l-u-.5];var p=new mo;p.domain=[0,16],p.range=[l-u+.5,u+.5];var h=2*i.length-1,d=[];return i.forEach((function(t,e){var n=c.convert(e),r=0;t.forEach((function(t,o){var i=p.convert(r+t),s=d[o]||(d[o]=[]);s[e]={x:n,y:i},s[h-e]={x:n,y:p.convert(r)},r+=t}))})),a.areas=d.map((function(t){var e=new Fo;e.strokeWidth=1;var n=e.path;return n.clear(),t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),n.closePath(),e})),a.updateColors(r,o),a.root.append(a.areas),a}return Yd(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,r){n.fill=t[r],n.stroke=e[r]}))},e.chartType=c.q.StackedArea,e.data=[[2,3,2],[3,6,5],[6,2,2]],e}(_d),Xd=($p=function(t,e){return($p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qd=function(t){function e(n,r,o,i){return void 0===i&&(i=e.data),t.call(this,n,r,o,i,"normalizedAreaTooltip")||this}return Xd(e,t),e.chartType=c.q.NormalizedArea,e.data=qd.data.map((function(t){var e=t.reduce((function(t,e){return t+e}),0);return t.map((function(t){return t/e*16}))})),e}(qd),Zd=(Jp=function(t,e){return(Jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jd=function(t){function e(e,n,r){var o=t.call(this,e,"histogramTooltip")||this,i=o.padding,s=o.size,a=[2,5,11,13,10,6,1],l=new mo;l.domain=[0,a.length],l.range=[i,s-i];var u=new mo;u.domain=[0,a.reduce((function(t,e){return Math.max(t,e)}),0)],u.range=[s-i,i];var c=u.convert(0);return o.bars=a.map((function(t,e){var n=u.convert(t),r=l.convert(e),o=l.convert(e+1),i=new bs;return i.x=r,i.y=n,i.width=o-r,i.height=c-n,i.strokeWidth=1,i.crisp=!0,i})),o.updateColors(n,r),o.root.append(o.bars),o}return Zd(e,t),e.prototype.updateColors=function(t,e){var n=t[0],r=e[0];this.bars.forEach((function(t){t.fill=n,t.stroke=r}))},e.chartType=c.q.Histogram,e}(_d),$d=(Zp=function(t,e){return(Zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ef=function(t){function e(n,r,o){var i=t.call(this,e.TEMPLATE)||this;return i.wrappers={},i.chartController=n,i.fills=r,i.strokes=o,i}return $d(e,t),e.prototype.init=function(){var t=this,e={columnGroup:[Ed,Pd,Rd],barGroup:[Ad,xd,Id],pieGroup:[jd,Md],lineGroup:[Vd],scatterGroup:[Bd,zd],areaGroup:[Kd,qd,Qd],histogramGroup:[Jd]},n=this.getGui();Object.keys(e).forEach((function(r){var o=e[r],i=t.createBean(new c.e({title:t.chartTranslator.translate(r),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach((function(e){var n=document.createElement("div");c.ib.addCssClass(n,"ag-chart-mini-thumbnail"),t.addManagedListener(n,"click",(function(){t.chartController.setChartType(e.chartType),t.refreshSelected()})),t.wrappers[e.chartType]=n,t.createBean(new e(n,t.fills,t.strokes)),i.addItem(n)})),n.appendChild(i.getGui())})),this.refreshSelected()},e.prototype.refreshSelected=function(){var t=this.chartController.getChartType();for(var e in this.wrappers)c.ib.addOrRemoveCssClass(this.wrappers[e],"ag-selected",e===t)},e.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',tf([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),tf([c.Q],e.prototype,"init",null),e}(c.t),nf=(Qp=function(t,e){return(Qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},of=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.miniCharts=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=n,r}return nf(e,t),e.prototype.postConstruct=function(){var t=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",c.ib.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",c.ib.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",(function(){return t.setActivePalette(t.getPrev(),"left")})),this.addManagedListener(this.eNextBtn,"click",(function(){return t.setActivePalette(t.getNext(),"right")})),this.addManagedListener(this.chartController,Sc.EVENT_CHART_UPDATED,this.resetPalettes.bind(this))},e.prototype.resetPalettes=function(){var t=this,e=this.chartController.getPalettes();c.ib.shallowCompare(e,this.palettes)||(this.palettes=e,this.themes=this.chartController.getThemes(),this.activePaletteIndex=c.ib.findIndex(this.themes,(function(e){return e===t.chartController.getThemeName()})),this.cardItems=[],c.ib.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach((function(e,n){var r=t.activePaletteIndex===n,o=t.createBean(new ef(t.chartController,e.fills,e.strokes));t.miniCharts.push(o),t.eMiniChartsContainer.appendChild(o.getGui()),t.addCardLink(n),r?o.refreshSelected():c.ib.addCssClass(o.getGui(),"ag-hidden")})),c.ib.addOrRemoveCssClass(this.eNavBar,"ag-hidden",this.palettes.length<=1),c.ib.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},e.prototype.addCardLink=function(t){var e=this,n=document.createElement("div");c.ib.addCssClass(n,"ag-chart-settings-card-item"),this.addManagedListener(n,"click",(function(){e.setActivePalette(t,t<e.activePaletteIndex?"left":"right")})),this.eCardSelector.appendChild(n),this.cardItems.push(n)},e.prototype.getPrev=function(){var t=this.activePaletteIndex-1;return t<0&&(t=this.palettes.length-1),t},e.prototype.getNext=function(){var t=this.activePaletteIndex+1;return t>=this.palettes.length&&(t=0),t},e.prototype.setActivePalette=function(t,e){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==t){c.ib.radioCssClass(this.cardItems[t],"ag-selected","ag-not-selected");var r=this.miniCharts[this.activePaletteIndex],o=r.getGui(),i=this.miniCharts[t],s=i.getGui();r.refreshSelected(),i.refreshSelected();var a="left"===e?-1:1,l=s.style.left=c.ib.getAbsoluteWidth(this.getGui())*a+"px";c.ib.removeCssClass(s,"ag-hidden"),c.ib.addCssClass(o,"ag-animating"),c.ib.addCssClass(s,"ag-animating"),this.activePaletteIndex=t,this.chartController.setChartThemeName(this.themes[t]),this.isAnimating=!0,window.setTimeout((function(){o.style.left=-parseFloat(l)+"px",s.style.left="0px"}),0),window.setTimeout((function(){n.isAnimating=!1,c.ib.removeCssClass(o,"ag-animating"),c.ib.removeCssClass(s,"ag-animating"),c.ib.addCssClass(o,"ag-hidden")}),300)}},e.prototype.destroyMiniCharts=function(){c.ib.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},e.prototype.destroy=function(){this.destroyMiniCharts(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',rf([Object(c.V)("eMiniChartsContainer")],e.prototype,"eMiniChartsContainer",void 0),rf([Object(c.V)("eNavBar")],e.prototype,"eNavBar",void 0),rf([Object(c.V)("eCardSelector")],e.prototype,"eCardSelector",void 0),rf([Object(c.V)("ePrevBtn")],e.prototype,"ePrevBtn",void 0),rf([Object(c.V)("eNextBtn")],e.prototype,"eNextBtn",void 0),rf([c.Q],e.prototype,"postConstruct",null),e}(c.t),sf=(Xp=function(t,e){return(Xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),af=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lf=function(t){function e(e){var n=t.call(this)||this;n.tabs=[],n.chartIcons={};var r=e.type,o=e.panels;return n.chartController=e.controller,n.currentChartType=r,n.panels=o,n}return sf(e,t),e.prototype.init=function(){var t=this;this.panels.forEach((function(e){var n=e.replace("chart","").toLowerCase(),r=t.createTab(e,n,t.getPanelClass(n)),o=r.comp;t.tabs.push(r.tab),t.addDestroyFunc((function(){return t.destroyBean(o)}))})),this.tabbedLayout=new c.bb({items:this.tabs,cssClass:"ag-chart-tabbed-menu"}),this.getContext().createBean(this.tabbedLayout)},e.prototype.createTab=function(t,e,n){var r=document.createElement("div");c.ib.addCssClass(r,"ag-chart-tab"),c.ib.addCssClass(r,"ag-chart-"+e);var o=new n(this.chartController);this.getContext().createBean(o),r.appendChild(o.getGui());var i=document.createElement("div"),s=this.chartTranslator.translate(e);return i.innerText=s,{comp:o,tab:{title:i,titleLabel:s,bodyPromise:c.g.resolve(r),name:t}}},e.prototype.getMinDimensions=function(){return this.tabbedLayout.getMinDimensions()},e.prototype.updateCurrentChartType=function(t){c.ib.removeCssClass(this.chartIcons[this.currentChartType],"ag-selected"),this.currentChartType=t,c.ib.addCssClass(this.chartIcons[t],"ag-selected")},e.prototype.showTab=function(t){this.tabbedLayout.showItem(this.tabs[t])},e.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},e.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),t.prototype.destroy.call(this)},e.prototype.getPanelClass=function(t){switch(t){case e.TAB_DATA:return kc;case e.TAB_FORMAT:return vd;default:return of}},e.EVENT_TAB_SELECTED="tabSelected",e.TAB_MAIN="settings",e.TAB_DATA="data",e.TAB_FORMAT="format",af([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),af([c.Q],e.prototype,"init",null),e}(c.t),uf=(qp=function(t,e){return(qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pf=function(t){function e(n,r,o){var i=t.call(this,e.TEMPLATE)||this;return i.eChartContainer=n,i.eMenuPanelContainer=r,i.chartController=o,i.buttons={chartSettings:["menu",function(){return i.showMenu("chartSettings")}],chartData:["menu",function(){return i.showMenu("chartData")}],chartFormat:["menu",function(){return i.showMenu("chartFormat")}],chartLink:["linked",function(t){return i.toggleDetached(t)}],chartUnlink:["unlinked",function(t){return i.toggleDetached(t)}],chartDownload:["save",function(){return i.saveChart()}]},i.tabs=[],i.menuVisible=!1,i}return uf(e,t),e.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},e.prototype.isVisible=function(){return this.menuVisible},e.prototype.getToolbarOptions=function(){var t=this,e=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],n=this.gridOptionsWrapper.getChartToolbarItemsFunc();n&&(e=n({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:e}).filter((function(e){return!!t.buttons[e]||(console.warn("ag-Grid: '"+e+" is not a valid Chart Toolbar Option"),!1)}))),this.chartController.isPivotChart()&&(e=e.filter((function(t){return"chartData"!==t})));var r=["chartUnlink","chartLink","chartDownload"];return this.tabs=e.filter((function(t){return-1===r.indexOf(t)})),e.filter((function(e){return-1!==r.indexOf(e)||t.tabs.length&&e===t.tabs[0]}))},e.prototype.toggleDetached=function(t){var e=t.target,n=c.ib.containsClass(e,"ag-icon-linked");c.ib.addOrRemoveCssClass(e,"ag-icon-linked",!n),c.ib.addOrRemoveCssClass(e,"ag-icon-unlinked",n);var r=this.chartTranslator.translate(n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");r&&(e.title=r),this.chartController.detachChartRange()},e.prototype.createButtons=function(){var t=this,e=this.getToolbarOptions(),n=this.getGui();e.forEach((function(e){var r=t.buttons[e],o=r[1],i=c.ib.createIconNoSpan(r[0],t.gridOptionsWrapper,void 0,!0);c.ib.addCssClass(i,"ag-chart-menu-icon");var s=t.chartTranslator.translate(e+"ToolbarTooltip");s&&(i.title=s),t.addManagedListener(i,"click",o),n.appendChild(i)}))},e.prototype.saveChart=function(){this.dispatchEvent({type:e.EVENT_DOWNLOAD_CHART})},e.prototype.createMenuPanel=function(t){var e=this,n=this.gridOptionsWrapper.chartMenuPanelWidth(),r=this.menuPanel=this.createBean(new c.f({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return r.setParentComponent(this),this.eMenuPanelContainer.appendChild(r.getGui()),this.tabbedMenu=this.createBean(new lf({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs})),this.addManagedListener(r,c.t.EVENT_DESTROYED,(function(){return e.destroyBean(e.tabbedMenu)})),new c.g((function(n){window.setTimeout((function(){r.setBodyComponent(e.tabbedMenu),e.tabbedMenu.showTab(t),e.addManagedListener(e.eChartContainer,"click",(function(t){e.getGui().contains(t.target)||e.menuVisible&&e.hideMenu()})),n(r)}),100)}))},e.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},e.prototype.showMenu=function(t){var e=this.tabs.indexOf(t);this.menuPanel?this.showContainer():this.createMenuPanel(e).then(this.showContainer.bind(this))},e.prototype.hideMenu=function(){var t=this;this.hideParent(),window.setTimeout((function(){t.menuVisible=!1,t.refreshMenuClasses()}),500)},e.prototype.refreshMenuClasses=function(){c.ib.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-visible",this.menuVisible),c.ib.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-hidden",!this.menuVisible)},e.prototype.showParent=function(t){this.eMenuPanelContainer.style.minWidth=t+"px"},e.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},e.EVENT_DOWNLOAD_CHART="downloadChart",e.TEMPLATE='<div class="ag-chart-menu"></div>',cf([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),cf([c.Q],e.prototype,"postConstruct",null),e}(c.t),hf=(Yp=function(t,e){return(Yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),df=function(){return(df=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ff=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gf=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.chartMenu=n,r}return hf(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.getGui(),"keypress",(function(e){"Enter"===e.key&&t.endEditing()})),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},e.prototype.setChartProxy=function(t){var e=this;if(this.chartProxy){for(var n=0;n++;n<this.destroyableChartListeners.length)this.destroyableChartListeners[n]();this.destroyableChartListeners=[]}this.chartProxy=t;var r=this.chartProxy.getChart(),o=r.scene.canvas.element,i=this.addManagedListener(o,"dblclick",(function(t){var n=r.title;if(n&&n.node.containsPoint(t.offsetX,t.offsetY)){var o=n.node.computeBBox(),i=n.node.inverseTransformPoint(o.x,o.y);e.startEditing(df(df({},o),i))}})),s=this.addManagedListener(o,"mousemove",(function(t){var e=r.title,n=e&&e.node.containsPoint(t.offsetX,t.offsetY);o.style.cursor=n?"pointer":""}));this.destroyableChartListeners=[i,s]},e.prototype.startEditing=function(t){if(!this.chartMenu||!this.chartMenu.isVisible()){var e=this.chartProxy.getChart().width,n=Math.max(Math.min(t.width+20,e),300),r=this.getGui();c.ib.addCssClass(r,"currently-editing");var o=r.style;o.fontFamily=this.chartProxy.getTitleOption("fontFamily"),o.fontWeight=this.chartProxy.getTitleOption("fontWeight"),o.fontStyle=this.chartProxy.getTitleOption("fontStyle"),o.fontSize=this.chartProxy.getTitleOption("fontSize")+"px",o.color=this.chartProxy.getTitleOption("color");var i=this.chartProxy.getTitleOption("text"),s=i===this.chartTranslator.translate("titlePlaceholder")?"":i;r.value=s;var a=r.getBoundingClientRect();o.left=Math.round(t.x+t.width/2-n/2)+"px",o.top=Math.round(t.y+t.height/2-a.height/2)+"px",o.width=Math.round(n)+"px",r.focus()}},e.prototype.endEditing=function(){var t=this.getGui().value;this.chartProxy.setTitleOption("text",t),this.eventService.dispatchEvent({type:"chartTitleEdit"}),c.ib.removeCssClass(this.getGui(),"currently-editing")},e.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',ff([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),ff([c.Q],e.prototype,"init",null),e}(c.t),yf=(Kp=function(t,e){return(Kp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vf=function(){return(vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},mf=function(t){function e(e){var n=t.call(this,e)||this;return n.initChartOptions(),n.recreateChart(),n}return yf(e,t),e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=this.chartType,o=this.getStandaloneChartType(),i=e.getConfig(o+".series."+(r===c.q.GroupedBar||r===c.q.StackedBar||r===c.q.NormalizedBar?"bar":"column"));return n.seriesDefaults={shadow:i.shadow,label:i.label,tooltip:{enabled:i.tooltip&&i.tooltip.enabled,renderer:i.tooltip&&i.tooltip.renderer},fill:{colors:i.fills||e.palette.fills,opacity:i.fillOpacity},stroke:{colors:i.strokes||e.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},lineDash:i.lineDash?i.lineDash:[0],lineDashOffset:i.lineDashOffset,highlightStyle:i.highlightStyle,listeners:i.listeners},n},e.prototype.createChart=function(t){var e=this.chartProxyParams,n=e.grouping,r=e.parentElement,o=this.isColumnChart(),i=(t=t||this.chartOptions).seriesDefaults,s=t;return n&&(s.type="groupedCategory"),s.autoSize=!0,s.axes=[vf(vf({},o?t.xAxis:t.yAxis),{position:o?"bottom":"left",type:n?"groupedCategory":"category"}),vf(vf({},o?t.yAxis:t.xAxis),{position:o?"left":"bottom",type:"number"})],s.series=[vf(vf({},this.getSeriesDefaults()),{fills:i.fill.colors,fillOpacity:i.fill.opacity,strokes:i.stroke.colors,strokeOpacity:i.stroke.opacity,strokeWidth:i.stroke.width,tooltip:{enabled:i.tooltip&&i.tooltip.enabled,renderer:i.tooltip&&i.tooltip.enabled&&i.tooltip.renderer}})],s.container=r,lc.create(s)},e.prototype.update=function(t){var e=this;this.chartProxyParams.grouping=t.grouping,this.updateAxes("category",!this.isColumnChart());var n=this.chart,r=n.series[0],o=this.getPalette(),i=t.fields;if(this.crossFiltering){i.forEach((function(t){var e=vf({},t);e.colId=t.colId+"-filtered-out",i.push(e)}));var s=[];o.fills.forEach((function(t){s.push(t),s.push(e.hexToRGBA(t,"0.3"))})),r.fills=s,o.strokes.forEach((function(t){s.push(t),s.push(e.hexToRGBA(t,"0.3"))})),r.strokes=[],r.highlightStyle.fill=void 0;var a=t.fields.map((function(t){return t.colId}));r.hideInLegend=a.filter((function(t){return t.includes("-filtered-out")})),n.legend.addEventListener("click",(function(t){r.toggleSeriesItem(t.itemId+"-filtered-out",t.enabled)})),n.tooltip.delay=500,r.addEventListener("nodeClick",this.crossFilterCallback)}else r.fills=o.fills,r.strokes=o.strokes;r.data=this.transformData(t.data,t.category.id),r.xKey=t.category.id,r.xName=t.category.name,r.yKeys=t.fields.map((function(t){return t.colId})),r.yNames=t.fields.map((function(t){return t.displayName})),this.updateLabelRotation(t.category.id,!this.isColumnChart())},e.prototype.getDefaultOptions=function(){var t=this.getDefaultFontOptions(),e=this.getDefaultCartesianChartOptions();return e.seriesDefaults=vf(vf({},e.seriesDefaults),{tooltip:{enabled:!0},label:vf(vf({},t),{enabled:!1}),shadow:this.getDefaultDropShadowOptions()}),e},e.prototype.isColumnChart=function(){return c.ib.includes([c.q.Column,c.q.GroupedColumn,c.q.StackedColumn,c.q.NormalizedColumn],this.chartType)},e.prototype.getSeriesDefaults=function(){var t=this.chartType,e=this.isColumnChart(),n=!this.crossFiltering&&(t===c.q.GroupedColumn||t===c.q.GroupedBar),r=!this.crossFiltering&&(t===c.q.NormalizedColumn||t===c.q.NormalizedBar);return vf(vf({},this.chartOptions.seriesDefaults),{type:e?"column":"bar",grouped:n,normalizedTo:r?100:void 0})},e}(Nh),Cf=(Up=function(t,e){return(Up=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Up(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bf=function(){return(bf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wf=function(t){function e(e){var n=t.call(this,e)||this;return n.initChartOptions(),n.recreateChart(),n}return Cf(e,t),e.prototype.createChart=function(t){var e=this.chartProxyParams,n=e.grouping,r=e.parentElement,o=this.getSeriesDefaults(),i=bf({},o.marker);i.type&&(i.shape=i.type,delete i.type);var s=t=t||this.chartOptions,a=t.xAxis.type?t.xAxis.type:"category";return n&&(s.type="groupedCategory"),s.autoSize=!0,s.axes=[bf({type:n?"groupedCategory":a,position:"bottom",paddingInner:1,paddingOuter:0},this.getXAxisDefaults(a,t)),bf({type:"number",position:"left"},t.yAxis)],s.series=[bf(bf({},o),{type:"area",fills:o.fill.colors,fillOpacity:o.fill.opacity,strokes:o.stroke.colors,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},marker:i})],lc.create(s,r)},e.prototype.update=function(t){this.chartProxyParams.grouping=t.grouping;var e=this.isTimeAxis(t)?"time":"category";if(this.updateAxes(e),this.chartType===c.q.Area)this.updateAreaChart(t);else{var n=this.chart.series[0];if(!n){var r=this.getSeriesDefaults(),o=bf({},r.marker);if(o.type&&(o.shape=o.type,delete o.type),!(n=lc.createComponent(bf(bf({},r),{fills:r.fill.colors,fillOpacity:r.fill.opacity,strokes:r.stroke.colors,strokeOpacity:r.stroke.opacity,strokeWidth:r.stroke.width,marker:o}),"area.series")))return;this.chart.addSeries(n)}var i=this.getPalette(),s=i.fills,a=i.strokes;n.data=this.transformData(t.data,t.category.id),n.xKey=t.category.id,n.xName=t.category.name,n.yKeys=t.fields.map((function(t){return t.colId})),n.yNames=t.fields.map((function(t){return t.displayName})),n.fills=s,n.strokes=a}this.updateLabelRotation(t.category.id,!1,e)},e.prototype.updateAreaChart=function(t){var e=this,n=this.chart;if(0!==t.fields.length){var r,o=t.fields.map((function(t){return t.colId})),i=n.series.reduceRight((function(t,e,r){var i=e.yKeys[0];return o.indexOf(i)===r?t.set(i,e):n.removeSeries(e),t}),new Map),s=this.transformData(t.data,t.category.id),a=this.getPalette(),l=a.fills,u=a.strokes;t.fields.forEach((function(o,a){var c=e.processDataForCrossFiltering(s,o.colId,t),p=c.yKey,h=c.atLeastOneSelectedPoint,d=i.get(o.colId),f=l[a%l.length],g=u[a%u.length];if(d)d.data=s,d.xKey=t.category.id,d.xName=t.category.name,d.yKeys=[p],d.yNames=[o.displayName],d.fills=[f],d.strokes=[g];else{var y=e.getSeriesDefaults(),v=bf({},y.marker);v.type&&(v.shape=v.type,delete v.type);var m=bf(bf({},y),{data:s,xKey:t.category.id,xName:t.category.name,yKeys:[p],yNames:[o.displayName],fills:[f],strokes:[g],fillOpacity:y.fill.opacity,strokeOpacity:y.stroke.opacity,strokeWidth:y.stroke.width,marker:v});d=lc.createComponent(m,"area.series"),n.addSeriesAfter(d,r)}e.updateSeriesForCrossFiltering(d,o.colId,n,t,h),r=d}))}else n.removeAllSeries()},e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=e.getConfig("area.series.area");return n.seriesDefaults={shadow:r.shadow,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:e.palette.fills,opacity:r.fillOpacity},stroke:{colors:e.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},marker:{enabled:r.marker.enabled,shape:r.marker.shape,size:r.marker.size,strokeWidth:r.marker.strokeWidth,formatter:r.marker.formatter},lineDash:r.lineDash?r.lineDash:[0],lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},e.prototype.getDefaultOptions=function(){var t=this.getDefaultCartesianChartOptions();return t.xAxis.label.rotation=335,t.seriesDefaults=bf(bf({},t.seriesDefaults),{fill:bf(bf({},t.seriesDefaults.fill),{opacity:this.chartType===c.q.Area?.7:1}),stroke:bf(bf({},t.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,strokeWidth:1},tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},e.prototype.getSeriesDefaults=function(){return bf(bf({},this.chartOptions.seriesDefaults),{type:"area",normalizedTo:this.chartType===c.q.NormalizedArea?100:void 0})},e}(Nh),_f=(zp=function(t,e){return(zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Of=function(){return(Of=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ef=function(t){function e(e){var n=t.call(this,e)||this;return n.initChartOptions(),n.recreateChart(),n}return _f(e,t),e.prototype.createChart=function(t){var e=this.chartProxyParams,n=e.grouping,r=e.parentElement,o=t=t||this.chartOptions;o.autoSize=!0;var i=t.xAxis.type?t.xAxis.type:"category";return n&&(o.type="groupedCategory"),o.axes=[Of({type:n?"groupedCategory":i,position:"bottom"},this.getXAxisDefaults(i,t)),Of({type:"number",position:"left"},t.yAxis)],lc.create(o,r)},e.prototype.update=function(t){var e=this;if(this.chartProxyParams.grouping=t.grouping,0!==t.fields.length){var n=this.isTimeAxis(t)?"time":"category";this.updateAxes(n);var r,o=this.chart,i=t.fields,s=i.map((function(t){return t.colId})),a=this.transformData(t.data,t.category.id),l=o.series.reduceRight((function(t,e,n){var r=e.yKey;return s.indexOf(r)===n?t.set(r,e):o.removeSeries(e),t}),new Map),u=this.getPalette(),c=u.fills,p=u.strokes;i.forEach((function(n,i){var s=e.processDataForCrossFiltering(a,n.colId,t),u=s.yKey,h=s.atLeastOneSelectedPoint,d=l.get(n.colId),f=c[i%c.length],g=p[i%p.length];if(d)d.title=n.displayName,d.data=a,d.xKey=t.category.id,d.xName=t.category.name,d.yKey=u,d.yName=n.displayName,d.marker.fill=f,d.marker.stroke=g,d.stroke=f;else{var y=e.chartOptions.seriesDefaults,v=Of(Of({},y.marker),{fill:f,stroke:g});v.type&&(v.shape=v.type,delete v.type);var m=Of(Of({},y),{type:"line",title:n.displayName,data:a,xKey:t.category.id,xName:t.category.name,yKey:u,yName:n.displayName,fill:f,stroke:f,fillOpacity:y.fill.opacity,strokeOpacity:y.stroke.opacity,strokeWidth:y.stroke.width,tooltip:{enabled:y.tooltip&&y.tooltip.enabled,renderer:y.tooltip&&y.tooltip.enabled&&y.tooltip.renderer},marker:v});d=lc.createComponent(m,"line.series"),o.addSeriesAfter(d,r)}e.updateSeriesForCrossFiltering(d,n.colId,o,t,h),r=d})),this.updateLabelRotation(t.category.id,!1,n)}else this.chart.removeAllSeries()},e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=e.getConfig("line.series.line");return n.seriesDefaults={tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:[],opacity:1},stroke:{colors:e.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},marker:{enabled:r.marker.enabled,shape:r.marker.shape,size:r.marker.size,strokeWidth:r.marker.strokeWidth,formatter:r.marker.formatter},lineDash:r.lineDash?r.lineDash:[0],lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},e.prototype.getDefaultOptions=function(){var t=this.getDefaultCartesianChartOptions();return t.xAxis.label.rotation=335,t.seriesDefaults=Of(Of({},t.seriesDefaults),{stroke:Of(Of({},t.seriesDefaults.stroke),{width:3}),marker:{enabled:!0,shape:"circle",size:6,strokeWidth:1},tooltip:{enabled:!0}}),t},e}(Nh),Sf=(Hp=function(t,e){return(Hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pf=function(t){function e(e){return t.call(this,e)||this}return Sf(e,t),e}(Ah),Tf=(Bp=function(t,e){return(Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rf=function(){return(Rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kf=function(t){function e(e){var n=t.call(this,e)||this;return n.initChartOptions(),n.recreateChart(),n}return Tf(e,t),e.prototype.createChart=function(t){var e=(t=t||this.chartOptions).seriesDefaults,n=t;return n.autoSize=!0,n.series=[Rf(Rf({},e),{fills:e.fill.colors,fillOpacity:e.fill.opacity,strokes:e.stroke.colors,strokeOpacity:e.stroke.opacity,strokeWidth:e.stroke.width,type:"pie"})],lc.create(n,this.chartProxyParams.parentElement)},e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=e.getConfig("pie.series.pie");return n.seriesDefaults={title:r.title,label:Rf(Rf({},r.label),{minRequiredAngle:r.label.minAngle}),callout:r.callout,shadow:r.shadow,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:e.palette.fills,opacity:r.fillOpacity},stroke:{colors:e.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},e.prototype.update=function(t){var e=this.chart;if(0!==t.fields.length){var n=t.fields[0],r=n;if(this.crossFiltering){var o=t.fields;o.forEach((function(t){var e=Rf({},t);e.colId=t.colId+"-filtered-out",o.push(e)}));var i=o[1];t.data.forEach((function(t){t[n.colId+"-total"]=t[n.colId]+t[i.colId],t[n.colId]=t[n.colId]/t[n.colId+"-total"],t[i.colId]=1}));var s=e.series[1],a=i;s=this.updateSeries(e,s,r,a,t,void 0),this.updateSeries(e,e.series[0],r,a=r,t,s)}else this.updateSeries(e,e.series[0],r,r,t,void 0)}else e.removeAllSeries()},e.prototype.updateSeries=function(t,e,n,r,o,i){var s=this,a=e&&e.angleKey,l=this.getPalette(),u=l.fills,c=l.strokes,p=this.chartOptions.seriesDefaults,h=e,d=p.callout&&p.callout.colors;return a!==r.colId&&(t.removeSeries(e),h=lc.createComponent(Rf(Rf({},p),{type:"pie",angleKey:this.crossFiltering?n.colId+"-total":n.colId,radiusKey:this.crossFiltering?r.colId:void 0,title:Rf(Rf({},p.title),{text:p.title.text||o.fields[0].displayName}),fills:p.fill.colors,fillOpacity:p.fill.opacity,strokes:p.stroke.colors,strokeOpacity:p.stroke.opacity,strokeWidth:p.stroke.width,tooltip:{enabled:p.tooltip&&p.tooltip.enabled,renderer:p.tooltip&&p.tooltip.enabled&&p.tooltip.renderer}}),"pie.series")),h.angleName=r.displayName,h.labelKey=o.category.id,h.labelName=o.category.name,h.data=o.data,this.crossFiltering?(h.radiusMin=0,h.radiusMax=1,i?(t.legend.addEventListener("click",(function(t){i&&i.toggleSeriesItem(t.itemId,t.enabled)})),h.fills=u,h.strokes=c,d&&(h.callout.colors=c)):(h.fills=u.map((function(t){return s.hexToRGBA(t,"0.3")})),h.strokes=c.map((function(t){return s.hexToRGBA(t,"0.3")})),h.showInLegend=!1),t.tooltip.delay=500,h.highlightStyle.fill=void 0,h.addEventListener("nodeClick",this.crossFilterCallback)):(h.fills=u,h.strokes=c,d&&(h.callout.colors=c)),t.addSeries(h),h},e.prototype.getDefaultOptions=function(){var t=this.getPredefinedPalette().strokes,e=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return e.seriesDefaults=Rf(Rf({},e.seriesDefaults),{title:Rf(Rf({},n),{enabled:!1,fontSize:12,fontWeight:"bold"}),callout:{colors:t,length:10,strokeWidth:2},label:Rf(Rf({},n),{enabled:!1,offset:3,minRequiredAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),e},e}(Pf),Af=(Wp=function(t,e){return(Wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Df=function(){return(Df=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xf=function(t){function e(e){var n=t.call(this,e)||this;return n.initChartOptions(),n.recreateChart(),n}return Af(e,t),e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=e.getConfig("pie.series.pie");return n.seriesDefaults={title:r.title,label:Df(Df({},r.label),{minRequiredAngle:r.label.minAngle}),callout:r.callout,shadow:r.shadow,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:e.palette.fills,opacity:r.fillOpacity},stroke:{colors:e.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},e.prototype.createChart=function(t){var e=t=t||this.chartOptions;return e.type="pie",e.autoSize=!0,e.series=[],lc.create(e,this.chartProxyParams.parentElement)},e.prototype.update=function(t){var e=this;if(0!==t.fields.length){var n=this.chart,r=t.fields.map((function(t){return t.colId})),o={};n.series.forEach((function(t){var e=t,n=e.angleKey;c.ib.includes(r,n)&&(o[n]=e)}));var i=this.chartOptions.seriesDefaults,s=this.getPalette(),a=s.fills,l=s.strokes,u=t.fields.length,p=0;t.fields.forEach(this.crossFiltering?function(r,s){var c=Df({},r);c.colId=r.colId+"-filtered-out",t.data.forEach((function(t){t[r.colId+"-total"]=t[r.colId]+t[c.colId],t[r.colId]=t[r.colId]/t[r.colId+"-total"],t[c.colId]=1}));var h=e.updateSeries({seriesMap:o,angleField:r,field:c,seriesDefaults:i,index:s,params:t,fills:a,strokes:l,doughnutChart:n,offset:p,numFields:u,opaqueSeries:void 0}),d=h.updatedOffset;e.updateSeries({seriesMap:o,angleField:r,field:r,seriesDefaults:i,index:s,params:t,fills:a,strokes:l,doughnutChart:n,offset:p,numFields:u,opaqueSeries:h.pieSeries}),p=d}:function(r,s){var c=e.updateSeries({seriesMap:o,angleField:r,field:r,seriesDefaults:i,index:s,params:t,fills:a,strokes:l,doughnutChart:n,offset:p,numFields:u,opaqueSeries:void 0}).updatedOffset;p=c}),n.series=c.ib.values(o)}else this.chart.removeAllSeries()},e.prototype.updateSeries=function(t){var e=this,n=t.seriesMap[t.field.colId],r=Df(Df({},t.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?t.angleField.colId+"-total":t.angleField.colId,radiusKey:this.crossFiltering?t.field.colId:void 0,showInLegend:0===t.index,title:Df(Df({},t.seriesDefaults.title),{text:t.seriesDefaults.title.text||t.field.displayName}),fills:t.seriesDefaults.fill.colors,fillOpacity:t.seriesDefaults.fill.opacity,strokes:t.seriesDefaults.stroke.colors,strokeOpacity:t.seriesDefaults.stroke.opacity,strokeWidth:t.seriesDefaults.stroke.width,tooltip:{enabled:t.seriesDefaults.tooltip&&t.seriesDefaults.tooltip.enabled,renderer:t.seriesDefaults.tooltip&&t.seriesDefaults.tooltip.enabled&&t.seriesDefaults.tooltip.renderer||void 0}}),o=r.callout&&r.callout.colors,i=n||lc.createComponent(r,"pie.series");i.angleName=t.field.displayName,i.labelKey=t.params.category.id,i.labelName=t.params.category.name,i.data=t.params.data,0===t.index&&(i.toggleSeriesItem=function(e,n){t.doughnutChart&&t.doughnutChart.series.forEach((function(t){t.seriesItemEnabled[e]=n})),i.scheduleData()}),this.crossFiltering?(i.radiusMin=0,i.radiusMax=1,t.opaqueSeries?(t.doughnutChart.legend.addEventListener("click",(function(e){t.opaqueSeries&&t.opaqueSeries.toggleSeriesItem(e.itemId,e.enabled)})),i.fills=t.fills,i.strokes=t.strokes,o&&(i.callout.colors=t.strokes)):(i.fills=t.fills.map((function(t){return e.hexToRGBA(t,"0.3")})),i.strokes=t.strokes.map((function(t){return e.hexToRGBA(t,"0.3")})),i.showInLegend=!1),i.highlightStyle.fill=void 0,i.addEventListener("nodeClick",this.crossFilterCallback),t.doughnutChart.tooltip.delay=500):(i.fills=t.fills,i.strokes=t.strokes,o&&(i.callout.colors=t.strokes));var s=t.numFields>1?20:40;return i.outerRadiusOffset=t.offset,t.offset-=s,i.innerRadiusOffset=t.offset,t.offset-=s,n||(t.seriesMap[t.field.colId]=i),{updatedOffset:t.offset,pieSeries:i}},e.prototype.getDefaultOptions=function(){var t=this.getPredefinedPalette().strokes,e=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return e.seriesDefaults=Df(Df({},e.seriesDefaults),{title:Df(Df({},n),{enabled:!0,fontSize:12,fontWeight:"bold"}),callout:{colors:t,length:10,strokeWidth:2},label:Df(Df({},n),{enabled:!1,offset:3,minRequiredAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),e},e}(Pf),Nf=(Vp=function(t,e){return(Vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),If=function(){return(If=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ff=function(t){function e(e){var n=t.call(this,e)||this;return n.initChartOptions(),n.recreateChart(),n}return Nf(e,t),e.prototype.getDefaultOptionsFromTheme=function(e){var n=t.prototype.getDefaultOptionsFromTheme.call(this,e),r=e.getConfig("histogram.series.histogram");return n.seriesDefaults={shadow:this.getDefaultDropShadowOptions(),label:r.label,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:e.palette.fills,opacity:r.fillOpacity},stroke:{colors:e.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},lineDash:r.lineDash?r.lineDash:[0],lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},e.prototype.createChart=function(t){var e=this.chartProxyParams.parentElement,n=this.getSeriesDefaults(),r=t=t||this.chartOptions;return r.autoSize=!0,r.axes=[If({type:"number",position:"bottom"},t.xAxis),If({type:"number",position:"left"},t.yAxis)],r.series=[If(If({},n),{fill:n.fill.colors[0],fillOpacity:n.fill.opacity,stroke:n.stroke.colors[0],strokeOpacity:n.stroke.opacity,strokeWidth:n.stroke.width,tooltip:{enabled:n.tooltip&&n.tooltip.enabled,renderer:n.tooltip&&n.tooltip.enabled&&n.tooltip.renderer||void 0},type:"histogram"})],lc.create(r,e)},e.prototype.update=function(t){var e=t.fields[0],n=this.chart.series[0];n.data=t.data,n.xKey=e.colId,n.xName=e.displayName,n.areaPlot=!1;var r=this.getPalette(),o=r.strokes;n.fill=r.fills[0],n.stroke=o[0]},e.prototype.getDefaultOptions=function(){var t=this.getDefaultFontOptions(),e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=0,e.yAxis.label.rotation=0,e.seriesDefaults=If(If({},e.seriesDefaults),{tooltip:{enabled:!0},label:If(If({},t),{enabled:!1}),shadow:this.getDefaultDropShadowOptions(),binCount:10}),e},e.prototype.getSeriesDefaults=function(){return If({},this.chartOptions.seriesDefaults)},e}(Nh),Mf=(Gp=function(t,e){return(Gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jf=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.params=n,r}return Mf(e,t),e.prototype.init=function(){var t=this.gridOptionsWrapper.getChartThemes();if(t.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var e=this.params.chartThemeName;c.ib.includes(t,e)||(e=t[0]);var n={pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:e,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering},r=this.gridOptionsWrapper.isEnableRtl();c.ib.addCssClass(this.getGui(),r?"ag-rtl":"ag-ltr"),this.model=this.createBean(new wr(n)),this.chartController=this.createManagedBean(new Sc(this.model)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Sc.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,pf.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},e.prototype.validateCustomThemes=function(){var t=this.gridOptionsWrapper.getChartThemes(),e=this.gridOptionsWrapper.getCustomChartThemes();e&&c.ib.getAllKeysInObjects([e]).forEach((function(e){c.ib.includes(t,e)||console.warn("ag-Grid: a custom chart theme with the name '"+e+"' has been supplied but not added to the 'chartThemes' list")}))},e.prototype.createChart=function(){var t,n,r=this;if(this.chartProxy){var o=this.chartProxy.getChart();o&&(t=o.width,n=o.height),this.chartProxy.destroy()}var i=this.params.processChartOptions||this.gridOptionsWrapper.getProcessChartOptionsFunc(),s=this.gridOptionsWrapper.getCustomChartThemes(),a=this.model.getChartType(),l=this.model.isGrouping(),u={chartId:this.model.getChartId(),chartType:a,chartThemeName:this.model.getChartThemeName(),processChartOptions:i,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:s,getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,allowPaletteOverride:!this.params.chartThemeName,isDarkTheme:this.environment.isThemeDark.bind(this.environment),crossFiltering:this.params.crossFiltering,crossFilterCallback:function(t,e){r.params.crossFilteringContext.lastSelectedChartId=e?"":r.model.getChartId(),r.crossFilter.filter(t,e)},parentElement:this.eChart,width:t,height:n,grouping:l,document:this.gridOptionsWrapper.getDocument(),eventService:this.eventService,gridApi:this.gridApi,columnApi:this.columnApi};if(this.chartType=a,this.chartThemeName=this.model.getChartThemeName(),this.chartProxy=e.createChartProxy(u),this.chartProxy){this.titleEdit&&this.titleEdit.setChartProxy(this.chartProxy);var p=this.eChart.querySelector("canvas");p&&c.ib.addCssClass(p,"ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy)}else console.warn("ag-Grid: invalid chart type supplied: ",u.chartType)},e.prototype.getChartThemeName=function(){return this.chartController.getThemeName()},e.prototype.getChartThemes=function(){return this.chartController.getThemes()},e.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},e.createChartProxy=function(t){switch(t.chartType){case c.q.Column:case c.q.Bar:case c.q.GroupedColumn:case c.q.StackedColumn:case c.q.NormalizedColumn:case c.q.GroupedBar:case c.q.StackedBar:case c.q.NormalizedBar:return new mf(t);case c.q.Pie:return new kf(t);case c.q.Doughnut:return new xf(t);case c.q.Area:case c.q.StackedArea:case c.q.NormalizedArea:return new wf(t);case c.q.Line:return new Ef(t);case c.q.Scatter:case c.q.Bubble:return new Mh(t);case c.q.Histogram:return new Ff(t)}},e.prototype.addDialog=function(){var t=this,e=this.chartTranslator.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize();this.chartDialog=new c.d({resizable:!0,movable:!0,maximizable:!0,title:e,width:n.width,height:n.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(c.d.EVENT_DESTROYED,(function(){return t.destroy()}))},e.prototype.getBestDialogSize=function(){var t=this.popupService.getPopupParent(),e=.75*c.ib.getAbsoluteWidth(t),n=.75*c.ib.getAbsoluteHeight(t),r=this.chartProxy.getChartOptions(),o=r.width,i=r.height;if(o&&i)return{width:o,height:i};var s=this.chartProxy.getChart();return i=this.params.insideDialog?470:s.height,((o=this.params.insideDialog?850:s.width)>e||i>n)&&(o=Math.min(o,e),(i=Math.round(.553*o))>n&&(i=n,o=Math.min(o,Math.round(i/.553)))),{width:o,height:i}},e.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new pf(this.eChartContainer,this.eMenuContainer,this.chartController)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},e.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new gf(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.setChartProxy(this.chartProxy)},e.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},e.prototype.shouldRecreateChart=function(){return this.chartType!==this.model.getChartType()||this.chartThemeName!==this.model.getChartThemeName()},e.prototype.getCurrentChartType=function(){return this.chartType},e.prototype.getChartModel=function(){return this.chartController.getChartModel()},e.prototype.updateChart=function(){var t=this,e=this.model,n=this.chartProxy,r=e.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),o=e.getData();if(!this.handleEmptyChart(o,r)){var i=e.getSelectedDimension(),s={data:o,grouping:e.isGrouping(),category:{id:i.colId,name:i.displayName,chartDataType:this.getChartDataType(i.colId)},fields:r,chartId:this.model.getChartId(),getCrossFilteringContext:function(){return t.params.crossFilteringContext}};n.update(s),this.titleEdit.setChartProxy(this.chartProxy)}},e.prototype.getChartDataType=function(t){var e=this.columnController.getPrimaryColumn(t);return e?e.getColDef().chartDataType:void 0},e.prototype.handleEmptyChart=function(t,e){var n=this.chartProxy.getChart().container,r=this.model.isPivotChart()&&!this.model.isPivotMode(),o=1;this.chartController.isActiveXYChart()&&(o=this.model.getChartType()===c.q.Bubble?3:2);var i=e.length<o||0===t.length;if(n){var s=r||i;c.ib.setDisplayed(this.eChart,!s),c.ib.setDisplayed(this.eEmpty,s)}return r?(this.eEmpty.innerText=this.chartTranslator.translate("pivotChartRequiresPivotMode"),!0):!!i&&(this.eEmpty.innerText=this.chartTranslator.translate("noDataToChart"),!0)},e.prototype.downloadChart=function(){this.chartProxy.downloadChart()},e.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},e.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var t=this.chartProxy,e=this.eChart;if(this.chartMenu.isVisible()){var n=this.chartProxy.getChart();n.height=c.ib.getInnerHeight(e),n.width=c.ib.getInnerWidth(e)}else t.setChartOption("width",c.ib.getInnerWidth(e)),t.setChartOption("height",c.ib.getInnerHeight(e))}},e.prototype.setActiveChartCellRange=function(t){this.getGui().contains(t.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusController.clearFocusedCell())},e.prototype.raiseChartCreatedEvent=function(){var t=this.chartController.getChartModel(),e=Object.freeze({type:c.A.EVENT_CHART_CREATED,chartId:t.chartId,chartModel:t,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.prototype.raiseChartDestroyedEvent=function(){var t=Object.freeze({type:c.A.EVENT_CHART_DESTROYED,chartId:this.model.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();c.ib.clearElement(e),c.ib.removeFromParent(e),this.raiseChartDestroyedEvent()},e.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Lf([Object(c.V)("eChart")],e.prototype,"eChart",void 0),Lf([Object(c.V)("eChartContainer")],e.prototype,"eChartContainer",void 0),Lf([Object(c.V)("eMenuContainer")],e.prototype,"eMenuContainer",void 0),Lf([Object(c.V)("eEmpty")],e.prototype,"eEmpty",void 0),Lf([Object(c.V)("eTitleEditContainer")],e.prototype,"eTitleEditContainer",void 0),Lf([Object(c.k)("environment")],e.prototype,"environment",void 0),Lf([Object(c.k)("chartTranslator")],e.prototype,"chartTranslator",void 0),Lf([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Lf([Object(c.k)("chartCrossFilter")],e.prototype,"crossFilter",void 0),Lf([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Lf([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Lf([Object(c.k)("popupService")],e.prototype,"popupService",void 0),Lf([c.Q],e.prototype,"init",null),e}(c.t),Gf=(jp=function(t,e){return(jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return Gf(e,t),e.prototype.getChartModels=function(){var t=[];return this.activeChartComps.forEach((function(e){return t.push(e.getChartModel())})),t},e.prototype.createChartFromCurrentRange=function(t){void 0===t&&(t=c.q.GroupedColumn);var e=this.getSelectedRange();return this.createChart(e,t)},e.prototype.restoreChart=function(t,e){if(t)return t.modelType&&"pivot"===t.modelType?this.createPivotChart(this.mapToPivotParams(t,e)):this.createRangeChart(this.mapToRangeParam(t,e));console.warn("ag-Grid - unable to restore chart as no chart model is provided")},e.prototype.createRangeChart=function(t){var e=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,t.processChartOptions);console.warn("ag-Grid - unable to create chart as no range is selected")},e.prototype.createPivotChart=function(t){this.columnController.isPivotMode()||this.columnController.setPivotMode(!0,"pivotChart");var e={columns:this.columnController.getAllDisplayedColumns().map((function(t){return t.getColId()}))},n=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(e):void 0;if(n)return this.createChart(n,t.chartType,t.chartThemeName,!0,!0,t.chartContainer,void 0,t.chartThemeOverrides,t.unlinkChart,t.processChartOptions);console.warn("ag-Grid - unable to create chart as there are no columns in the grid.")},e.prototype.createCrossFilterChart=function(t){var e=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,!(null!=t.suppressChartRanges)||t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,void 0,!0);console.warn("ag-Grid - unable to create chart as no range is selected")},e.prototype.createChart=function(t,e,n,r,o,i,s,a,l,u,p){var h=this;void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===l&&(l=!1),void 0===p&&(p=!1);var d=this.gridOptionsWrapper.getCreateChartContainerFunc(),f=new jf({pivotChart:r,cellRange:t,chartType:e,chartThemeName:n,insideDialog:!(i||d),suppressChartRanges:o,aggFunc:s,chartThemeOverrides:a,processChartOptions:u,unlinkChart:l,crossFiltering:p,crossFilteringContext:this.crossFilteringContext});this.context.createBean(f);var g=this.createChartRef(f);if(i){i.appendChild(f.getGui());var y=this.environment.getTheme();y.el&&!y.el.contains(i)&&c.ib.addCssClass(i,y.theme)}else d?d(g):f.addEventListener(jf.EVENT_DESTROYED,(function(){h.activeChartComps.delete(f),h.activeCharts.delete(g)}));return g},e.prototype.createChartRef=function(t){var e=this,n={destroyChart:function(){e.activeCharts.has(n)&&(e.context.destroyBean(t),e.activeChartComps.delete(t),e.activeCharts.delete(n))},chartElement:t.getGui(),chart:t.getUnderlyingChart()};return this.activeCharts.add(n),this.activeChartComps.add(t),n},e.prototype.getSelectedRange=function(){var t=this.rangeController.getCellRanges();return t.length>0?t[0]:{}},e.prototype.mapToRangeParam=function(t,e){return{cellRange:t.cellRange,chartType:t.chartType,chartThemeName:t.chartThemeName,chartContainer:e,suppressChartRanges:t.suppressChartRanges,aggFunc:t.aggFunc,unlinkChart:t.unlinkChart,processChartOptions:function(){return t.chartOptions}}},e.prototype.mapToPivotParams=function(t,e){return{chartType:t.chartType,chartThemeName:t.chartThemeName,chartContainer:e,unlinkChart:t.unlinkChart,processChartOptions:function(){return t.chartOptions}}},e.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach((function(t){return t.destroyChart()}))},Vf([Object(c.N)("rangeController")],e.prototype,"rangeController",void 0),Vf([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Vf([Object(c.k)("environment")],e.prototype,"environment",void 0),Vf([c.S],e.prototype,"destroyAllActiveCharts",null),Vf([Object(c.m)("chartService")],e)}(c.n),Bf=(Lp=function(t,e){return(Lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Bf(e,t),n=e,e.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,n.DEFAULT_TRANSLATIONS[t])},e.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart"},n=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Object(c.m)("chartTranslator")],e)}(c.n),zf=(Mp=function(t,e){return(Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Uf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return zf(e,t),n=e,e.prototype.filter=function(t,e){void 0===e&&(e=!1);var r=this.gridApi.getFilterModel();if(e)this.resetFilters(r);else{var o=n.extractFilterColId(t);this.isValidColumnFilter(o)?this.updateFilters(r,t):console.warn("ag-Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+o+"'")}},e.prototype.resetFilters=function(t){Object.keys(t).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},e.prototype.updateFilters=function(t,e){var r,o=n.extractFilterColId(e),i=e.datum[o];if(void 0!==i){var s=i.toString(),a=o.replace("-filtered-out","");if(e.event.metaKey||e.event.ctrlKey){var l=this.getCurrentGridValuesForCategory(a),u=void 0;c.ib.includes(l,s)?u=l.filter((function(t){return t!==s})):(u=l).push(s),t[a]=this.getUpdatedFilterModel(a,u)}else(r={})[a]=this.getUpdatedFilterModel(a,u=[s]),t=r;this.gridApi.setFilterModel(t)}},e.prototype.getUpdatedFilterModel=function(t,e){return"agMultiColumnFilter"===this.getColumnFilterType(t)?{filterType:"multi",filterModels:[null,{filterType:"set",values:e}]}:{filterType:"set",values:e}},e.prototype.getCurrentGridValuesForCategory=function(t){var e=[],n=c.ib.includes;return this.gridApi.forEachNodeAfterFilter((function(r){if(!r.group){var o=r.data[t]+"";n(e,o)||e.push(o)}})),e},e.extractFilterColId=function(t){return t.xKey?t.xKey:t.labelKey},e.prototype.isValidColumnFilter=function(t){t.indexOf("-filtered-out")&&(t=t.replace("-filtered-out",""));var e=this.getColumnFilterType(t);return"boolean"==typeof e?e:c.ib.includes(["agSetColumnFilter","agMultiColumnFilter"],e)},e.prototype.getColumnFilterType=function(t){var e=this.columnController.getGridColumn(t);return e?e.getColDef().filter:void 0},Uf([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Uf([Object(c.k)("columnController")],e.prototype,"columnController",void 0),n=Uf([Object(c.m)("chartCrossFilter")],e)}(c.n),Yf=(Fp=function(t,e){return(Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qf=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xf=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Qf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return Yf(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t,this.autoScrollService=new Zf(this.gridPanel,this.gridOptionsWrapper)},e.prototype.init=function(){this.logger=this.loggerFactory.create("RangeController"),this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this))},e.prototype.onColumnVisibleChange=function(){var t=this;this.refreshLastRangeStart(),this.cellRanges.forEach((function(e){var n=e.columns;e.columns=e.columns.filter((function(t){return t.isVisible()})),!c.ib.areEqual(n,e.columns)&&t.dispatchChangedEvent(!1,!0,e.id)}))},e.prototype.refreshLastRangeStart=function(){var t=c.ib.last(this.cellRanges);t&&this.refreshRangeStart(t)},e.prototype.isContiguousRange=function(t){var e=t.columns;if(!e.length)return!1;var n=this.columnController.getAllDisplayedColumns(),r=e.map((function(t){return n.indexOf(t)})).sort((function(t,e){return t-e}));return c.ib.last(r)-r[0]+1===e.length},e.prototype.getRangeStartRow=function(t){return t.startRow&&t.endRow?this.rowPositionUtils.before(t.startRow,t.endRow)?t.startRow:t.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?c.v.PINNED_TOP:void 0}},e.prototype.getRangeEndRow=function(t){if(t.startRow&&t.endRow)return this.rowPositionUtils.before(t.startRow,t.endRow)?t.endRow:t.startRow;var e=this.pinnedRowModel.getPinnedBottomRowCount();return e>0?{rowIndex:e-1,rowPinned:c.v.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:void 0}},e.prototype.setRangeToCell=function(t,e){if(void 0===e&&(e=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.calculateColumnsBetween(t.column,t.column);if(n){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!e||c.ib.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var r,o={rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=0;i<this.cellRanges.length;i++){var s=this.cellRanges[i];if(s.columns&&1===s.columns.length&&s.columns[0]===t.column&&this.rowPositionUtils.sameRow(o,s.startRow)&&this.rowPositionUtils.sameRow(o,s.endRow)){r=s;break}}r?c.ib.last(this.cellRanges)!==r&&(c.ib.removeFromArray(this.cellRanges,r),this.cellRanges.push(r)):this.cellRanges.push(r={startRow:o,endRow:o,columns:n,startColumn:t.column}),this.newestRangeStartCell=t,this.onDragStop(),this.dispatchChangedEvent(!0,!0,r.id)}}},e.prototype.extendLatestRangeToCell=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=c.ib.last(this.cellRanges);this.updateRangeEnd(e,t)}},e.prototype.updateRangeEnd=function(t,e,n){void 0===n&&(n=!1);var r=this.calculateColumnsBetween(t.startColumn,e.column);r&&!this.isLastCellOfRange(t,e)&&(t.columns=r,t.endRow={rowIndex:e.rowIndex,rowPinned:e.rowPinned},n||this.dispatchChangedEvent(!0,!0,t.id))},e.prototype.refreshRangeStart=function(t){var e=t.startColumn,n=t.columns,r=function(e,n){var r=t.columns.filter((function(t){return t!==e}));e?(t.startColumn=e,t.columns=n?Xf([e],r):Xf(r,[e])):t.columns=r},o=this.getRangeEdgeColumns(t),i=o.left,s=o.right;e===n[0]&&e!==i?r(i,!0):e===c.ib.last(n)&&e===s&&r(s,!1)},e.prototype.getRangeEdgeColumns=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.columns.map((function(t){return e.indexOf(t)})).filter((function(t){return t>-1})).sort((function(t,e){return t-e}));return{left:e[n[0]],right:e[c.ib.last(n)]}},e.prototype.extendLatestRangeInDirection=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=c.ib.last(this.cellRanges),n=this.newestRangeStartCell,r=e.columns[0],o=c.ib.last(e.columns),i=this.cellNavigationService.getNextCellToFocus(t,{column:n.column===r?o:r,rowIndex:e.endRow.rowIndex,rowPinned:e.endRow.rowPinned});if(i)return this.setCellRange({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:i.rowIndex,rowEndPinned:i.rowPinned,columnStart:n.column,columnEnd:i.column}),i}},e.prototype.setCellRange=function(t){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(t))},e.prototype.setCellRanges=function(t){var e=this;c.ib.shallowCompare(this.cellRanges,t)||(this.removeAllCellRanges(!0),t.forEach((function(t){t.columns&&t.startRow&&(e.newestRangeStartCell={rowIndex:t.startRow.rowIndex,rowPinned:t.startRow.rowPinned,column:t.columns[0]}),e.cellRanges.push(t)})),this.dispatchChangedEvent(!1,!0))},e.prototype.createCellRangeFromCellRangeParams=function(t){var e,n=this;if(t.columns)e=t.columns.map((function(t){return n.columnController.getColumnWithValidation(t)})).filter((function(t){return t}));else{var r=this.columnController.getColumnWithValidation(t.columnStart),o=this.columnController.getColumnWithValidation(t.columnEnd);if(!r||!o)return;e=this.calculateColumnsBetween(r,o)}if(e)return{startRow:null!=t.rowStartIndex?{rowIndex:t.rowStartIndex,rowPinned:t.rowStartPinned}:void 0,endRow:null!=t.rowEndIndex?{rowIndex:t.rowEndIndex,rowPinned:t.rowEndPinned}:void 0,columns:e,startColumn:e[0]}},e.prototype.addCellRange=function(t){if(this.gridOptionsWrapper.isEnableRangeSelection()){var e=this.createCellRangeFromCellRangeParams(t);e&&(this.cellRanges.push(e),this.dispatchChangedEvent(!1,!0,e.id))}},e.prototype.getCellRanges=function(){return this.cellRanges},e.prototype.isEmpty=function(){return 0===this.cellRanges.length},e.prototype.isMoreThanOneCell=function(){if(0===this.cellRanges.length)return!1;if(this.cellRanges.length>1)return!0;var t=this.cellRanges[0],e=this.getRangeStartRow(t),n=this.getRangeEndRow(t);return e.rowPinned!==n.rowPinned||e.rowIndex!==n.rowIndex||1!==t.columns.length},e.prototype.removeAllCellRanges=function(t){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,t||this.dispatchChangedEvent(!1,!0))},e.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},e.prototype.isCellInAnyRange=function(t){return this.getCellRangeCount(t)>0},e.prototype.isCellInSpecificRange=function(t,e){var n=null!==e.columns&&c.ib.includes(e.columns,t.column),r=this.isRowInRange(t.rowIndex,t.rowPinned,e);return n&&r},e.prototype.isLastCellOfRange=function(t,e){var n=t.startRow,r=t.endRow,o=this.rowPositionUtils.before(n,r)?r:n,i=e.rowIndex===o.rowIndex&&e.rowPinned===o.rowPinned,s=t.columns[0],a=c.ib.last(t.columns);return e.column===(t.startColumn===s?a:s)&&i},e.prototype.isBottomRightCell=function(t,e){var n=this.columnController.getAllDisplayedColumns(),r=t.columns.map((function(t){return n.indexOf(t)})).sort((function(t,e){return t-e})),o=t.startRow,i=t.endRow,s=this.rowPositionUtils.before(o,i)?i:o,a=n.indexOf(e.column)===c.ib.last(r),l=e.rowIndex===s.rowIndex&&c.ib.makeNull(e.rowPinned)===c.ib.makeNull(s.rowPinned);return a&&l},e.prototype.getCellRangeCount=function(t){var e=this;return this.isEmpty()?0:this.cellRanges.filter((function(n){return e.isCellInSpecificRange(t,n)})).length},e.prototype.isRowInRange=function(t,e,n){var r=this.getRangeStartRow(n),o=this.getRangeEndRow(n),i={rowIndex:t,rowPinned:e};if(i.rowIndex===r.rowIndex&&i.rowPinned==r.rowPinned||i.rowIndex===o.rowIndex&&i.rowPinned==o.rowPinned)return!0;var s=!this.rowPositionUtils.before(i,r),a=this.rowPositionUtils.before(i,o);return s&&a},e.prototype.getDraggingRange=function(){return this.draggingRange},e.prototype.onDragStart=function(t){if(this.gridOptionsWrapper.isEnableRangeSelection()){var e=t.shiftKey,n=t.ctrlKey||t.metaKey,r=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&n,o=this.mouseEventService.getCellPositionForEvent(t),i=e&&c.ib.existsAndNotEmpty(this.cellRanges);if(!c.ib.missing(o)){if(r||i&&!c.ib.exists(c.ib.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.dragging=!0,this.draggingCell=o,this.lastMouseEvent=t,i||(this.newestRangeStartCell=o),this.cellRanges.length>0)this.draggingRange=c.ib.last(this.cellRanges);else{var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned};this.draggingRange={startRow:s,endRow:s,columns:[o.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.gridPanel.addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},e.prototype.onDragging=function(t){var e=this;if(this.dragging&&t){this.lastMouseEvent=t;var n=this.mouseEventService.getCellPositionForEvent(t),r=function(t){return n&&n.rowPinned===t&&e.newestRangeStartCell.rowPinned===t},o=r("top")||r("bottom");if(this.autoScrollService.check(t,o),n&&this.draggingCell&&!this.cellPositionUtils.equals(this.draggingCell,n)){var i=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);i&&(this.draggingCell=n,this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=i,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},e.prototype.onDragStop=function(){if(this.dragging){var t=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.gridPanel.removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.draggingCell=void 0,this.dispatchChangedEvent(!1,!0,t)}},e.prototype.dispatchChangedEvent=function(t,e,n){var r=Object.freeze({type:c.A.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:t,finished:e,id:n});this.eventService.dispatchEvent(r)},e.prototype.calculateColumnsBetween=function(t,e){var n=this.columnController.getAllDisplayedColumns(),r=t===e,o=n.indexOf(t);if(o<0)console.warn("ag-Grid: column "+t.getId()+" is not visible");else{var i=r?o:n.indexOf(e);if(!(i<0)){if(r)return[t];for(var s=Math.min(o,i),a=s===o?i:o,l=[],u=s;u<=a;u++)l.push(n[u]);return l}console.warn("ag-Grid: column "+e.getId()+" is not visible")}},qf([Object(c.k)("loggerFactory")],e.prototype,"loggerFactory",void 0),qf([Object(c.k)("rowModel")],e.prototype,"rowModel",void 0),qf([Object(c.k)("columnController")],e.prototype,"columnController",void 0),qf([Object(c.k)("mouseEventService")],e.prototype,"mouseEventService",void 0),qf([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),qf([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),qf([Object(c.k)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),qf([Object(c.k)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),qf([Object(c.k)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),qf([Object(c.k)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),qf([c.Q],e.prototype,"init",null),qf([Object(c.m)("rangeController")],e)}(c.n),Zf=function(){function t(t,e){this.tickingInterval=null,this.gridPanel=t,this.gridOptionsWrapper=e}return t.prototype.check=function(t,e){void 0===e&&(e=!1);var n=this.gridPanel.getBodyClientRect();(e=e||this.gridOptionsWrapper.getDomLayout()!==c.v.DOM_LAYOUT_NORMAL)&&!this.gridPanel.isHorizontalScrollShowing()||(this.tickLeft=t.clientX<n.left+20,this.tickRight=t.clientX>n.right-20,this.tickUp=t.clientY<n.top+20&&!e,this.tickDown=t.clientY>n.bottom-20&&!e,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared())},t.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},t.prototype.doTick=function(){this.tickCount++;var t,e=this.gridPanel.getVScrollPosition(),n=this.gridPanel.getHScrollPosition();t=this.tickCount>20?200:this.tickCount>10?80:40,this.tickUp&&this.gridPanel.setVerticalScrollPosition(e.top-t),this.tickDown&&this.gridPanel.setVerticalScrollPosition(e.top+t),this.tickLeft&&this.gridPanel.setHorizontalScrollPosition(n.left-t),this.tickRight&&this.gridPanel.setHorizontalScrollPosition(n.left+t)},t.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},t}(),Jf=(Ip=function(t,e){return(Ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ip(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$f=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return Jf(e,t),e.prototype.init=function(){var t=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(e){t.dragging=!0,t.rangeController.autoScrollService.check(e),t.changedCalculatedValues&&(t.onDrag(e),t.changedCalculatedValues=!1)},onDragStop:function(e){t.dragging=!1,t.onDragEnd(e),t.clearValues(),t.rangeController.autoScrollService.ensureCleared(),c.ib.removeCssClass(document.body,t.getDraggingCssClass()),t.shouldDestroyOnEndDragging&&t.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},e.prototype.isDragging=function(){return this.dragging},e.prototype.getCellComp=function(){return this.cellComp},e.prototype.setCellComp=function(t){this.cellComp=t},e.prototype.getCellRange=function(){return this.cellRange},e.prototype.setCellRange=function(t){this.cellRange=t},e.prototype.getRangeStartRow=function(){return this.rangeStartRow},e.prototype.setRangeStartRow=function(t){this.rangeStartRow=t},e.prototype.getRangeEndRow=function(){return this.rangeEndRow},e.prototype.setRangeEndRow=function(t){this.rangeEndRow=t},e.prototype.getLastCellHovered=function(){return this.lastCellHovered},e.prototype.preventRangeExtension=function(t){t.preventDefault(),t.stopPropagation()},e.prototype.onDragStart=function(t){this.cellHoverListener=this.addManagedListener(this.rowRenderer.getGridCore().getRootGui(),"mousemove",this.updateValuesOnMove.bind(this)),c.ib.addCssClass(document.body,this.getDraggingCssClass())},e.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===c.Y.FILL?"fill":"range")+"-handle"},e.prototype.updateValuesOnMove=function(t){var e=this.mouseEventService.getCellPositionForEvent(t);e!==this.lastCellHovered&&(this.lastCellHovered=e,this.changedCalculatedValues=!0)},e.prototype.getType=function(){return this.type},e.prototype.refresh=function(t){var e=this,n=this.getCellComp(),r=this.getGui(),o=c.ib.last(this.rangeController.getCellRanges()),i=o.startRow,s=o.endRow;i&&s&&(this.rowPositionUtils.before(s,i)?(this.setRangeStartRow(s),this.setRangeEndRow(i)):(this.setRangeStartRow(i),this.setRangeEndRow(s))),n===t&&c.ib.isVisible(r)||(this.setCellComp(t),window.setTimeout((function(){e.isAlive()&&t.appendChild(r)}),1)),this.setCellRange(o)},e.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},e.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},e.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return c.ib.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,t.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},$f([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),$f([Object(c.k)("dragService")],e.prototype,"dragService",void 0),$f([Object(c.k)("rangeController")],e.prototype,"rangeController",void 0),$f([Object(c.k)("mouseEventService")],e.prototype,"mouseEventService",void 0),$f([Object(c.k)("columnController")],e.prototype,"columnController",void 0),$f([Object(c.k)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),$f([Object(c.k)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),$f([c.Q],e.prototype,"init",null),e}(c.t),eg=(Np=function(t,e){return(Np=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Np(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ng=function(){return(ng=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rg=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.markedCellComps=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=c.Y.FILL,n}return eg(e,t),e.prototype.updateValuesOnMove=function(e){t.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var n,r=this.initialXY,o=r.x,i=r.y,s=this.mouseEventService.getNormalisedPosition(e),a=s.y,l=Math.abs(o-s.x),u=Math.abs(i-a),c=this.gridOptionsWrapper.getFillHandleDirection();(n="xy"===c?l>u?"x":"y":c)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},e.prototype.onDrag=function(t){if(!this.initialPosition){var e=this.getCellComp();if(!e)return;this.initialPosition=e.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},e.prototype.onDragEnd=function(t){if(this.initialXY=null,this.markedCellComps.length){var e,n="x"===this.dragAxis,r=this.getCellRange(),o=r.columns.length,i=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=n?i:this.lastCellMarked;e=this.rangeController.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:n?this.lastCellMarked.column:r.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:r.columns[o-1]})}else e=this.rangeController.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:r.columns[0],rowEndIndex:n?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:r.columns[o-1]});e&&(this.raiseFillStartEvent(),this.handleValueChanged(r,e,t),this.rangeController.setCellRanges([e]),this.raiseFillEndEvent(r,e))}},e.prototype.raiseFillStartEvent=function(){var t={type:c.A.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(t)},e.prototype.raiseFillEndEvent=function(t,e){var n={type:c.A.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:t,finalRange:e};this.eventService.dispatchEvent(n)},e.prototype.handleValueChanged=function(t,e,n){var r=this,o=this.rangeController.getRangeEndRow(t),i=this.rangeController.getRangeStartRow(t),s=this.rangeController.getRangeEndRow(e),a=this.rangeController.getRangeStartRow(e),l="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var u=!0,p=[],h=[],d=0,f=function(){p.length=0,h.length=0,d=0},g=function(e,n){var h=r.isUp?o:i,d=!1;l&&(u=!0,f());for(var g=function(){var g=r.rowPositionUtils.getRowNode(h);if(!g)return"break";l&&e?y(p,e,g,(function(){return!r.rowPositionUtils.sameRow(h,r.isUp?i:o)})):n&&(u=!0,f(),n.forEach((function(e){return y(p,e,g,(function(){return e!==(r.isLeft?t.columns[0]:c.ib.last(t.columns))}))}))),d=r.rowPositionUtils.sameRow(h,r.isUp?a:s),h=r.isUp?r.cellNavigationService.getRowAbove(h):r.cellNavigationService.getRowBelow(h)};!d&&h&&"break"!==g(););},y=function(t,e,o,i){var s;u?(s=r.valueService.getValue(e,o),h.push(s),u=i()):(s=r.processValues(n,t,h,e,o,d++),e.isCellEditable(o)&&o.setDataValue(e,s)),t.push(s)};l?t.columns.forEach((function(t){g(t)})):(v=this.isLeft?function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(e.columns).reverse():e.columns,g(void 0,v))}else{var v=l?t.columns:t.columns.filter((function(t){return e.columns.indexOf(t)<0})),m=l?this.cellNavigationService.getRowBelow(s):a;m&&this.clearCellsInRange(m,o,v)}},e.prototype.clearCellsInRange=function(t,e,n){for(var r=this,o=t,i=!1,s=function(){var t=a.rowPositionUtils.getRowNode(o);if(!t)return"break";n.forEach((function(e){e.isCellEditable(t)&&r.valueService.setValue(t,e,null)})),i=a.rowPositionUtils.sameRow(o,e),o=a.cellNavigationService.getRowBelow(o)},a=this;!i&&o&&"break"!==s(););},e.prototype.processValues=function(t,e,n,r,o,i){var s,a=this.gridOptionsWrapper.getFillOperation(),l="y"===this.dragAxis;if(s=l?this.isUp?"up":"down":this.isLeft?"left":"right",a){var u=a({event:t,values:e,initialValues:n,currentIndex:i,currentCellValue:this.valueService.getValue(r,o),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:s,column:l?r:void 0,rowNode:l?void 0:o});if(!1!==u)return u}var p=!e.some((function(t){var e=parseFloat(t);return isNaN(e)||e.toString()!==t.toString()}));if(t.altKey||!p){if(p&&1===n.length){var h=this.isUp||this.isLeft?-1:1;return parseFloat(c.ib.last(e))+1*h}return e[i%e.length]}return c.ib.last(c.ib.findLineByLeastSquares(e.map(Number)))},e.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,t.prototype.clearValues.call(this)},e.prototype.clearMarkedPath=function(){this.markedCellComps.forEach((function(t){var e=t.getGui();c.ib.removeCssClass(e,"ag-selection-fill-top"),c.ib.removeCssClass(e,"ag-selection-fill-right"),c.ib.removeCssClass(e,"ag-selection-fill-bottom"),c.ib.removeCssClass(e,"ag-selection-fill-left")})),this.markedCellComps.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},e.prototype.clearCellValues=function(){this.cellValues.length=0},e.prototype.markPathFrom=function(t,e){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(e,t))return;var n=this.rowPositionUtils.before(e,t),r=this.getRangeStartRow(),o=this.getRangeEndRow();n&&(e.rowPinned==r.rowPinned&&e.rowIndex>=r.rowIndex||r.rowPinned!=o.rowPinned&&e.rowPinned==o.rowPinned&&e.rowIndex<=o.rowIndex)?(this.reduceVertical(t,e),this.isReduce=!0):(this.extendVertical(t,e,n),this.isReduce=!1)}else{var i=t.column,s=e.column;if(i===s)return;var a=this.columnController.getAllDisplayedColumns(),l=a.indexOf(i),u=a.indexOf(s);u<=l&&u>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(t,e),this.isReduce=!0):(this.extendHorizontal(t,e,u<l),this.isReduce=!1)}this.lastCellMarked=e},e.prototype.extendVertical=function(t,e,n){var r=this.rowRenderer,o=this.rangeController,i=t;do{for(var s=this.getCellRange(),a=s.columns.length,l=0;l<a;l++){var u=s.columns[l],p=ng(ng({},{rowIndex:i.rowIndex,rowPinned:i.rowPinned}),{column:u}),h=o.isCellInSpecificRange(p,s),d=this.rowPositionUtils.sameRow(i,t);if(n&&(this.isUp=!0),!d){var f=r.getComponentForCell(p);if(f){this.markedCellComps.push(f);var g=f.getGui();h||(c.ib.addOrRemoveCssClass(g,"ag-selection-fill-left",0===l),c.ib.addOrRemoveCssClass(g,"ag-selection-fill-right",l===a-1)),c.ib.addOrRemoveCssClass(g,n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,e))}}}if(this.rowPositionUtils.sameRow(i,e))break}while(i=n?this.cellNavigationService.getRowAbove(i):this.cellNavigationService.getRowBelow(i))},e.prototype.reduceVertical=function(t,e){var n=t;do{for(var r=this.getCellRange(),o=r.columns.length,i=this.rowPositionUtils.sameRow(n,e),s=0;s<o;s++){var a=ng(ng({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{column:r.columns[s]}),l=this.rowRenderer.getComponentForCell(a);if(l){this.markedCellComps.push(l);var u=l.getGui();c.ib.addOrRemoveCssClass(u,"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,e))}}if(i)break}while(n=this.cellNavigationService.getRowAbove(n))},e.prototype.extendHorizontal=function(t,e,n){var r=this,o=this.columnController.getAllDisplayedColumns(),i=o.indexOf(n?e.column:t.column),s=o.indexOf(n?this.getCellRange().columns[0]:e.column),a=n?0:1,l=o.slice(i+a,s+a),u=this.getRangeStartRow(),p=this.getRangeEndRow();l.forEach((function(t){var e=u,o=!1;do{o=r.rowPositionUtils.sameRow(e,p);var i=r.rowRenderer.getComponentForCell({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(i){r.markedCellComps.push(i);var s=i.getGui();c.ib.addOrRemoveCssClass(s,"ag-selection-fill-top",r.rowPositionUtils.sameRow(e,u)),c.ib.addOrRemoveCssClass(s,"ag-selection-fill-bottom",r.rowPositionUtils.sameRow(e,p)),n?(r.isLeft=!0,c.ib.addOrRemoveCssClass(s,"ag-selection-fill-left",t===l[0])):c.ib.addOrRemoveCssClass(s,"ag-selection-fill-right",t===c.ib.last(l))}e=r.cellNavigationService.getRowBelow(e)}while(!o)}))},e.prototype.reduceHorizontal=function(t,e){var n=this,r=this.columnController.getAllDisplayedColumns(),o=r.indexOf(e.column),i=r.indexOf(t.column),s=r.slice(o,i),a=this.getRangeStartRow(),l=this.getRangeEndRow();s.forEach((function(t){var e=a,r=!1;do{r=n.rowPositionUtils.sameRow(e,l);var o=n.rowRenderer.getComponentForCell({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(o){n.markedCellComps.push(o);var i=o.getGui();c.ib.addOrRemoveCssClass(i,"ag-selection-fill-right",t===s[0])}e=n.cellNavigationService.getRowBelow(e)}while(!r)}))},e.prototype.refresh=function(e){var n=this.rangeController.getCellRanges()[0];n.startRow&&n.endRow?t.prototype.refresh.call(this,e):this.destroy()},e.TEMPLATE='<div class="ag-fill-handle"></div>',function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Object(c.k)("valueService")],e.prototype,"valueService",void 0),e}(tg),og=(xp=function(t,e){return(xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ig=function(){return(ig=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},sg=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.type=c.Y.RANGE,n.rangeFixed=!1,n}return og(e,t),e.prototype.onDrag=function(t){var e=this.getLastCellHovered();if(e){var n=this.rangeController.getCellRanges(),r=c.ib.last(n);this.rangeFixed||(this.fixRangeStartEnd(r),this.rangeFixed=!0),this.endPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column},2===n.length&&n[0].type===c.o.DIMENSION&&r.type===c.o.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeController.getRangeEndRow(r))&&this.rangeController.updateRangeEnd(n[0],ig(ig({},this.endPosition),{column:n[0].columns[0]}),!0),this.rangeController.extendLatestRangeToCell(this.endPosition)}},e.prototype.onDragEnd=function(t){var e=c.ib.last(this.rangeController.getCellRanges());this.fixRangeStartEnd(e),this.rangeFixed=!1},e.prototype.fixRangeStartEnd=function(t){var e=this.rangeController.getRangeStartRow(t),n=this.rangeController.getRangeEndRow(t),r=t.columns[0];t.startRow=e,t.endRow=n,t.startColumn=r},e.TEMPLATE='<div class="ag-range-handle"></div>',e}(tg),ag=(Dp=function(t,e){return(Dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ag(e,t),e.prototype.createSelectionHandle=function(t){return this.createBean(t===c.Y.RANGE?new sg:new rg)},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Object(c.m)("selectionHandleFactory")],e)}(c.n),ug={moduleName:c.K.RangeSelectionModule,beans:[Qf,lg],agStackComponents:[{componentName:"AgFillHandle",componentClass:rg},{componentName:"AgRangeHandle",componentClass:sg}],dependantModules:[b]},cg={moduleName:c.K.GridChartsModule,beans:[Wf,Hf,Kf],dependantModules:[ug,b]},pg=(Ap=function(t,e){return(Ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ap(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.needRefresh=!1,e.loadRowDataVersion=0,e}return pg(e,t),e.prototype.init=function(t){var e=this;if(t.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{this.params=t;var n=this.gridOptionsWrapper.isDetailRowAutoHeight();this.checkForDeprecations(),this.ensureValidRefreshStrategy(),this.selectAndSetTemplate(n),c.ib.exists(this.eDetailGrid)?(this.addThemeToDetailGrid(),this.createDetailsGrid(n),this.registerDetailWithMaster(),this.loadRowData(),window.setTimeout((function(){e.detailGridOptions.api&&e.detailGridOptions.api.doLayout()}),0)):console.warn('ag-Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.'),this.addManagedListener(t.node.parent,c.W.EVENT_DATA_CHANGED,(function(){e.needRefresh=!0}))}},e.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.params.refreshStrategy||(this.needRefresh=!1,"everything"!==this.params.refreshStrategy&&(this.loadRowData(),!0))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.checkForDeprecations=function(){this.params.suppressRefresh&&(console.warn("ag-Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.params.refreshStrategy="nothing")},e.prototype.ensureValidRefreshStrategy=function(){switch(this.params.refreshStrategy){case"rows":case"nothing":case"everything":return}this.params.refreshStrategy&&console.warn("ag-Grid: invalid cellRendererParams.refreshStrategy = '"+this.params.refreshStrategy+"' supplied, defaulting to refreshStrategy = 'rows'."),this.params.refreshStrategy="rows"},e.prototype.addThemeToDetailGrid=function(){var t=this.environment.getTheme().theme;t&&c.ib.addCssClass(this.eDetailGrid,t)},e.prototype.registerDetailWithMaster=function(){var t=this.params.node.id,e=this.params.api,n={id:t,api:this.detailGridOptions.api,columnApi:this.detailGridOptions.columnApi},r=this.params.node;e.addDetailGridInfo(t,n),r.detailGridInfo=n,this.addDestroyFunc((function(){e.removeDetailGridInfo(t),r.detailGridInfo=null}))},e.prototype.selectAndSetTemplate=function(t){var n=this,r=function(){n.setTemplate(e.TEMPLATE),n.addCssClass(t?"ag-details-row-auto-height":"ag-details-row-fixed-height"),c.ib.addCssClass(n.eDetailGrid,t?"ag-details-grid-auto-height":"ag-details-grid-fixed-height")};if(c.ib.missing(this.params.template))r();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("ag-Grid: detailCellRendererParams.template should be function or string"),r()},e.prototype.createDetailsGrid=function(t){var e=this,n=this.params.detailGridOptions;c.ib.missing(n)&&console.warn("ag-Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions"),this.detailGridOptions=c.ib.cloneObject(n),t&&(this.detailGridOptions.domLayout="autoHeight"),new c.C(this.eDetailGrid,this.detailGridOptions,{$scope:this.params.$scope,$compile:this.params.$compile,providedBeanInstances:{agGridReact:this.params.agGridReact,frameworkComponentWrapper:this.params.frameworkComponentWrapper}}),this.addDestroyFunc((function(){e.detailGridOptions.api&&e.detailGridOptions.api.destroy()}))},e.prototype.loadRowData=function(){var t=this;this.loadRowDataVersion++;var e=this.loadRowDataVersion,n=this.params.getDetailRowData;n?n({node:this.params.node,data:this.params.node.data,successCallback:function(n){t.loadRowDataVersion===e&&t.setRowData(n)},context:this.gridOptionsWrapper.getContext()}):console.warn("ag-Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},e.prototype.setRowData=function(t){this.detailGridOptions.api&&this.detailGridOptions.api.setRowData(t)},e.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',hg([Object(c.k)("environment")],e.prototype,"environment",void 0),hg([Object(c.V)("eDetailGrid")],e.prototype,"eDetailGrid",void 0),e}(c.t),fg={moduleName:c.K.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:dg}],dependantModules:[b]},gg=(kp=function(t,e){return(kp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}kp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yg=function(t){function e(e){var n=t.call(this,void 0,!0)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return gg(e,t),e.prototype.handleKeyDown=function(t){t.keyCode===c.G.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(e){t.prototype.onTabKeyDown.call(this,e),e.defaultPrevented||(this.closePanel(),e.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout((function(){return t.getGui().focus()}),0)},e}(c.J),vg=(Rp=function(t,e){return(Rp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cg=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return vg(e,t),e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),c.ib.setAriaDisabled(e,!0)):(this.addGuiEventListener("click",(function(e){return t.onItemSelected(e)})),this.addGuiEventListener("keydown",(function(e){e.keyCode!==c.G.ENTER&&e.keyCode!==c.G.SPACE||t.onItemSelected(e)})),this.addGuiEventListener("mouseenter",(function(){return t.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return t.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(t){return c.ib.addCssClass(e,t)}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var r,o=c.ib.loadTemplate('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=c.ib.getAriaLevel(this.getGui()),s=isNaN(i)?1:i+1,a=this.createBean(new _g(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),o.appendChild(a.getGui()),this.addManagedListener(a,e.EVENT_MENU_ITEM_SELECTED,(function(t){return n.dispatchEvent(t)})),a.addGuiEventListener("mouseenter",(function(){return n.cancelDeactivate()})),r=function(){return n.destroyBean(a)},t&&setTimeout((function(){return a.activateFirstItem()}),0)}else{var l=this.params.subMenu,u=this.createBean(new yg(l));u.setParentComponent(this);var p=u.getGui(),h=function(){return n.cancelDeactivate()};p.addEventListener("mouseenter",h),r=function(){return p.removeEventListener("mouseenter",h)},o.appendChild(p),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var d=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:d,ePopup:o}),g=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:f,anchorToElement:d});this.subMenuIsOpen=!0,c.ib.setAriaExpanded(d,!0),this.hideSubMenu=function(){g&&g.hideFunc(),n.subMenuIsOpen=!1,c.ib.setAriaExpanded(d,!1),r()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,c.ib.setAriaExpanded(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var e=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout((function(){e.isAlive()&&e.isActive&&e.openSubMenu()}),300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=c.ib.loadTemplate('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(c.ib.createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon&&(c.ib.isNodeOrElement(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("ag-Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=c.ib.loadTemplate('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new c.db(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=c.ib.loadTemplate('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=c.ib.loadTemplate('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),e=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";c.ib.setAriaExpanded(e,!1),t.appendChild(c.ib.createIconNoSpan(n,this.gridOptionsWrapper))}e.appendChild(t)}},e.prototype.onItemSelected=function(t){this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t})},e.prototype.onItemActivated=function(){this.dispatchEvent({type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return t.activate(!0)}),e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return t.deactivate()}),e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var e=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?e+"-"+t:e},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,mg([Object(c.k)("popupService")],e.prototype,"popupService",void 0),mg([c.Q],e.prototype,"init",null),e}(c.t),bg=(Tp=function(t,e){return(Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wg=function(){return(wg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_g=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,'<div class="ag-menu-list" role="tree"></div>',!0)||this;return n.level=e,n.menuItems=[],n}return bg(e,t),e.prototype.onTabKeyDown=function(t){var e=this.getParentComponent();e&&e instanceof c.J||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case c.G.UP:case c.G.RIGHT:case c.G.DOWN:case c.G.LEFT:t.preventDefault(),this.handleNavKey(t.keyCode);break;case c.G.ESCAPE:var e=this.findTopMenu();e&&this.focusController.focusInto(e.getGui())}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var e=this;null!=t&&t.forEach((function(t){"separator"===t?e.addSeparator():"string"==typeof t?console.warn("ag-Grid: unrecognised menu item "+t):e.addItem(t)}))},e.prototype.addItem=function(t){var e=this,n=this.createManagedBean(new Cg(wg(wg({},t),{isAnotherSubMenuOpen:function(){return c.ib.some(e.menuItems,(function(t){return t.isSubMenuOpen()}))}})));n.setParentComponent(this),c.ib.setAriaLevel(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,Cg.EVENT_MENU_ITEM_SELECTED,(function(t){e.dispatchEvent(t)})),this.addManagedListener(n,Cg.EVENT_MENU_ITEM_ACTIVATED,(function(t){e.activeMenuItem&&e.activeMenuItem!==t.menuItem&&e.activeMenuItem.deactivate(),e.activeMenuItem=t.menuItem}))},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter((function(t){return!t.isDisabled()}))[0];t&&t.activate()},e.prototype.addSeparator=function(){this.appendChild(c.ib.loadTemplate('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof Cg))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case c.G.UP:case c.G.DOWN:var e=this.findNextItem(t===c.G.UP);return void(e&&e!==this.activeMenuItem&&e.activate())}t===(this.gridOptionsWrapper.isEnableRtl()?c.G.RIGHT:c.G.LEFT)?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var e=this.getParentComponent();e&&e instanceof Cg&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var e=this.menuItems.filter((function(t){return!t.isDisabled()}));if(e.length){if(!this.activeMenuItem)return t?c.ib.last(e):e[0];var n;t&&e.reverse();for(var r=!1,o=0;o<e.length;o++){var i=e[o];if(r){n=i;break}i===this.activeMenuItem&&(r=!0)}return n||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),t.prototype.destroy.call(this)},e}(c.J),Og=(Pp=function(t,e){return(Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Eg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Og(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.showMenuAfterMouseEvent=function(t,e,n){var r=this;this.showMenu(t,(function(o){var i=o.getGui();r.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:t,mouseEvent:e,ePopup:i}),n&&o.showTab(n)}),n,void 0,e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n,r){var o=this,i=-1,s="left";this.gridOptionsWrapper.isEnableRtl()&&(i=1,s="right"),this.showMenu(t,(function(r){var a=r.getMinDimensions(),l=a.width,u=a.height,c=r.getGui();o.popupService.positionPopupUnderComponent({type:"columnMenu",column:t,eventSource:e,ePopup:c,minWidth:l,minHeight:u,alignSide:s,nudgeX:9*i,nudgeY:-23,keepWithinBounds:!0}),n&&r.showTab(n)}),n,r,e)},e.prototype.showMenu=function(t,e,n,r,o){var i=this,s=this.createBean(new Pg(t,this.lastSelectedTab,r)),a=s.getGui(),l=o||this.gridPanel.getGui(),u=[];u.push((function(e){if(i.destroyBean(s),t.setMenuVisible(!1,"contextMenu"),e instanceof KeyboardEvent&&o&&c.ib.isVisible(o)){var n=i.focusController.findTabbableParent(o);n&&n.focus()}}));var p=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(t){u.forEach((function(e){return e(t)}))},afterGuiAttached:function(t){return s.afterGuiAttached(t)},positionCallback:function(){return e(s)},anchorToElement:l});if(p){var h=p.stopAnchoringFunc;h&&(t.addEventListener(c.r.EVENT_LEFT_CHANGED,h),t.addEventListener(c.r.EVENT_VISIBLE_CHANGED,h),u.push((function(){t.removeEventListener(c.r.EVENT_LEFT_CHANGED,h),t.removeEventListener(c.r.EVENT_VISIBLE_CHANGED,h)})))}n||s.showTabBasedOnPreviousSelection(),s.addEventListener(Pg.EVENT_TAB_SELECTED,(function(t){i.lastSelectedTab=t.key})),t.setMenuVisible(!0,"contextMenu"),this.activeMenu=s,s.addEventListener(c.n.EVENT_DESTROYED,(function(){i.activeMenu===s&&(i.activeMenu=null)}))},e.prototype.isMenuEnabled=function(t){return t.getMenuTabs(Pg.TABS_DEFAULT).length>0},Eg([Object(c.k)("popupService")],e.prototype,"popupService",void 0),Eg([Object(c.k)("focusController")],e.prototype,"focusController",void 0),Eg([Object(c.m)("menuFactory")],e)}(c.n),Pg=function(t){function e(n,r,o){var i=t.call(this)||this;return i.tabFactories={},i.includeChecks={},i.timeOfLastColumnChange=Date.now(),i.column=n,i.initialSelection=r,i.tabFactories[e.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[e.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[e.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[e.TAB_GENERAL]=function(){return!0},i.includeChecks[e.TAB_FILTER]=function(){return n.isFilterAllowed()},i.includeChecks[e.TAB_COLUMNS]=function(){return!0},i.restrictTo=o,i}return Og(e,t),e.prototype.getMinDimensions=function(){return this.tabbedLayout.getMinDimensions()},e.prototype.init=function(){var t=this,e=this.getTabsToCreate().map((function(e){return t.createTab(e)}));this.tabbedLayout=new c.bb({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addManagedListener(this.eventService,c.A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},e.prototype.getTabsToCreate=function(){var t=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(e.TABS_DEFAULT).filter((function(e){return t.isValidMenuTabItem(e)})).filter((function(e){return t.isNotSuppressed(e)})).filter((function(e){return t.isModuleLoaded(e)}))},e.prototype.isModuleLoaded=function(t){return t!==e.TAB_COLUMNS||c.L.isRegistered(c.K.ColumnToolPanelModule)},e.prototype.isValidMenuTabItem=function(t){var n=!0,r=e.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(t)>-1,r=this.restrictTo),(n=n&&e.TABS_DEFAULT.indexOf(t)>-1)||console.warn("Trying to render an invalid menu item '"+t+"'. Check that your 'menuTabs' contains one of ["+r+"]"),n},e.prototype.isNotSuppressed=function(t){return this.includeChecks[t]()},e.prototype.createTab=function(t){return this.tabFactories[t]()},e.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},e.prototype.showTab=function(t){this.tabItemColumns&&t===e.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&t===e.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&t===e.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},e.prototype.onTabItemClicked=function(t){var n=null;switch(t.item){case this.tabItemColumns:n=e.TAB_COLUMNS;break;case this.tabItemFilter:n=e.TAB_FILTER;break;case this.tabItemGeneral:n=e.TAB_GENERAL}n&&this.activateTab(n)},e.prototype.activateTab=function(t){this.dispatchEvent({type:e.EVENT_TAB_SELECTED,key:t})},e.prototype.getMenuItems=function(){var t,n=this.getDefaultMenuOptions(),r=this.gridOptionsWrapper.getMainMenuItemsFunc();return t=r?r({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:n}):n,c.ib.removeRepeatsFromArray(t,e.MENU_ITEM_SEPARATOR),t},e.prototype.getDefaultMenuOptions=function(){var t=[],n=!this.column.getColDef().lockPinned,r=this.columnController.getRowGroupColumns().length,o=r>0,i=this.columnController.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),u=this.columnController.isPivotMode(),p=this.rowModel.getType()===c.v.ROW_MODEL_TYPE_CLIENT_SIDE,h=this.gridOptionsWrapper.isTreeData(),d=l&&o&&s||!l;return n&&t.push("pinSubMenu"),d&&t.push("valueAggSubMenu"),(n||d)&&t.push(e.MENU_ITEM_SEPARATOR),t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(e.MENU_ITEM_SEPARATOR),a&&this.column.isPrimary()&&t.push(i?"rowUnGroup":"rowGroup"),t.push(e.MENU_ITEM_SEPARATOR),t.push("resetColumns"),p&&(h||r>(u?1:0))&&(t.push("expandAll"),t.push("contractAll")),t},e.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new _g);var t=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(t,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(Cg.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:c.ib.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:e.TAB_GENERAL.replace("MenuTab",""),bodyPromise:c.g.resolve(this.mainMenuList.getGui()),name:e.TAB_GENERAL},this.tabItemGeneral},e.prototype.onHidePopup=function(){this.hidePopupFunc();var t=this.focusController.getFocusedCell();t&&this.focusController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},e.prototype.createFilterPanel=function(){var t=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");return this.tabItemFilter={title:c.ib.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:e.TAB_FILTER.replace("MenuTab",""),bodyPromise:t.guiPromise,afterAttachedCallback:function(e){t.filterPromise&&t.filterPromise.then((function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)}))},name:e.TAB_FILTER},this.tabItemFilter},e.prototype.createColumnsPanel=function(){var t=document.createElement("div");c.ib.addCssClass(t,"ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new ve);var n=this.column.getColDef().columnsMenuParams;return n||(n={}),this.columnSelectPanel.init(!1,{suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSideButtons:!1,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu"),c.ib.addCssClass(this.columnSelectPanel.getGui(),"ag-menu-column-select"),t.appendChild(this.columnSelectPanel.getGui()),this.tabItemColumns={title:c.ib.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:e.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:c.g.resolve(t),name:e.TAB_COLUMNS},this.tabItemColumns},e.prototype.afterGuiAttached=function(t){var e=t.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:"columnMenu",hidePopup:e}),this.hidePopupFunc=e,this.addDestroyFunc(e)},e.prototype.getGui=function(){return this.tabbedLayout.getGui()},e.prototype.onDisplayedColumnsChanged=function(){this.timeOfLastColumnChange=Date.now()},e.EVENT_TAB_SELECTED="tabSelected",e.TAB_FILTER="filterMenuTab",e.TABS_DEFAULT=[e.TAB_GENERAL="generalMenuTab",e.TAB_FILTER,e.TAB_COLUMNS="columnsMenuTab"],e.MENU_ITEM_SEPARATOR="separator",Eg([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Eg([Object(c.k)("filterManager")],e.prototype,"filterManager",void 0),Eg([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Eg([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Eg([Object(c.k)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),Eg([Object(c.k)("rowModel")],e.prototype,"rowModel",void 0),Eg([Object(c.k)("focusController")],e.prototype,"focusController",void 0),Eg([c.Q],e.prototype,"init",null),e}(c.n),Tg=(Sp=function(t,e){return(Sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tg(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.getMenuItems=function(t,e,n){var r=[];if(c.ib.exists(t)&&c.L.isRegistered(c.K.ClipboardModule)&&e&&r.push("copy","copyWithHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&c.L.isRegistered(c.K.RangeSelectionModule)&&c.L.isRegistered(c.K.GridChartsModule)&&(this.columnController.isPivotMode()&&r.push("pivotChart"),this.rangeController&&!this.rangeController.isEmpty()&&r.push("chartRange")),c.ib.exists(t)){var o=!c.L.isRegistered(c.K.CsvExportModule),i=!c.L.isRegistered(c.K.ExcelExportModule),s=this.gridOptionsWrapper.isSuppressExcelExport()||i,a=this.gridOptionsWrapper.isSuppressCsvExport()||o;!(c.ib.isIOSUserAgent()||s&&a)&&r.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var l=this.gridOptionsWrapper.getContextMenuItemsFunc(),u={node:t,column:e,value:n,defaultItems:r.length?r:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return l?l(u):void 0}return r},e.prototype.showMenu=function(t,e,n,r,o){var i=this,s=this.getMenuItems(t,e,n);if(void 0===s||c.ib.missingOrEmpty(s))return!1;var a=new Ag(s);this.createBean(a);var l=a.getGui(),u=this.popupService.positionPopupUnderMouseEvent.bind(this.popupService,{column:e,rowNode:t,type:"contextMenu",mouseEvent:r,ePopup:l,nudgeX:1,nudgeY:1}),p=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(){c.ib.removeCssClass(o," ag-context-menu-open"),i.destroyBean(a)},click:r,positionCallback:u,anchorToElement:o});return p&&(c.ib.addCssClass(o," ag-context-menu-open"),a.afterGuiAttached({container:"contextMenu",hidePopup:p.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=a,a.addEventListener(c.n.EVENT_DESTROYED,(function(){i.activeMenu===a&&(i.activeMenu=null)})),p&&a.addEventListener(Cg.EVENT_MENU_ITEM_SELECTED,p.hideFunc),!0},Rg([Object(c.k)("popupService")],e.prototype,"popupService",void 0),Rg([Object(c.N)("rangeController")],e.prototype,"rangeController",void 0),Rg([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Rg([Object(c.m)("contextMenuFactory")],e)}(c.n),Ag=function(t){function e(e){var n=t.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return Tg(e,t),e.prototype.addMenuItems=function(){var t=this,e=this.createBean(new _g),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(n),this.appendChild(e),this.menuList=e,e.addEventListener(Cg.EVENT_MENU_ITEM_SELECTED,(function(e){return t.dispatchEvent(e)}))},e.prototype.afterGuiAttached=function(t){t.hidePopup&&this.addDestroyFunc(t.hidePopup),this.focusedCell=this.focusController.getFocusedCell(),this.menuList&&this.focusController.focusInto(this.menuList.getGui())},e.prototype.destroy=function(){var e=this.focusController.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var n=this.focusedCell;this.focusController.setFocusedCell(n.rowIndex,n.column,n.rowPinned,!0)}t.prototype.destroy.call(this)},Rg([Object(c.k)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),Rg([Object(c.k)("focusController")],e.prototype,"focusController",void 0),Rg([Object(c.k)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Rg([c.Q],e.prototype,"addMenuItems",null),e}(c.t),Dg=(Ep=function(t,e){return(Ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ep(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dg(e,t),e.prototype.mapWithStockItems=function(t,e){var n=this;if(!t)return[];var r=[];return t.forEach((function(t){var o;if(o="string"==typeof t?n.getStockMenuItem(t,e):t){var i=o.subMenu;i&&i instanceof Array&&(o.subMenu=n.mapWithStockItems(o.subMenu,e)),null!=o&&r.push(o)}})),r},e.prototype.getStockMenuItem=function(t,e){var n=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(t){case"pinSubMenu":return{name:r("pinColumn","Pin Column"),icon:c.ib.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:r("pinLeft","Pin Left"),action:function(){return n.columnController.setColumnPinned(e,c.v.PINNED_LEFT,"contextMenu")},checked:!!e&&e.isPinnedLeft()};case"pinRight":return{name:r("pinRight","Pin Right"),action:function(){return n.columnController.setColumnPinned(e,c.v.PINNED_RIGHT,"contextMenu")},checked:!!e&&e.isPinnedRight()};case"clearPinned":return{name:r("noPin","No Pin"),action:function(){return n.columnController.setColumnPinned(e,null,"contextMenu")},checked:!!e&&!e.isPinned()};case"valueAggSubMenu":return c.L.assertRegistered(c.K.RowGroupingModule,"Aggregation from Menu")?{name:r("valueAggregation","Value Aggregation"),icon:c.ib.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(e)}:null;case"autoSizeThis":return{name:r("autosizeThiscolumn","Autosize This Column"),action:function(){return n.columnController.autoSizeColumn(e,o,"contextMenu")}};case"autoSizeAll":return{name:r("autosizeAllColumns","Autosize All Columns"),action:function(){return n.columnController.autoSizeAllColumns(o,"contextMenu")}};case"rowGroup":return{name:r("groupBy","Group by")+" "+c.ib.escapeString(this.columnController.getDisplayNameForColumn(e,"header")),action:function(){return n.columnController.addRowGroupColumn(e,"contextMenu")},icon:c.ib.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:r("ungroupBy","Un-Group by")+" "+c.ib.escapeString(this.columnController.getDisplayNameForColumn(e,"header")),action:function(){return n.columnController.removeRowGroupColumn(e,"contextMenu")},icon:c.ib.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:r("resetColumns","Reset Columns"),action:function(){return n.columnController.resetColumnState(!1,"contextMenu")}};case"expandAll":return{name:r("expandAll","Expand All"),action:function(){return n.gridApi.expandAll()}};case"contractAll":return{name:r("collapseAll","Collapse All"),action:function(){return n.gridApi.collapseAll()}};case"copy":return c.L.assertRegistered(c.K.ClipboardModule,"Copy from Menu")?{name:r("copy","Copy"),shortcut:r("ctrlC","Ctrl+C"),icon:c.ib.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!1)}}:null;case"copyWithHeaders":return c.L.assertRegistered(c.K.ClipboardModule,"Copy with Headers from Menu")?{name:r("copyWithHeaders","Copy with Headers"),icon:c.ib.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!0)}}:null;case"paste":return c.L.assertRegistered(c.K.ClipboardModule,"Copy with Headers from Menu")?{name:r("paste","Paste"),shortcut:r("ctrlV","Ctrl+V"),disabled:!0,icon:c.ib.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.pasteFromClipboard()}}:null;case"export":var i=[],s=c.L.isRegistered(c.K.CsvExportModule),a=c.L.isRegistered(c.K.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&s&&i.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&a&&(i.push("excelExport"),i.push("excelXmlExport")),{name:r("export","Export"),subMenu:i,icon:c.ib.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:r("csvExport","CSV Export"),action:function(){return n.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:r("excelExport","Excel Export (.xlsx)&lrm;"),action:function(){return n.gridApi.exportDataAsExcel({exportMode:"xlsx"})}};case"excelXmlExport":return{name:r("excelXmlExport","Excel Export (.xml)&lrm;"),action:function(){return n.gridApi.exportDataAsExcel({exportMode:"xml"})}};case"separator":return"separator";default:return this.getChartItems(t)||(console.warn("ag-Grid: unknown menu item type "+t),null)}},e.prototype.getChartItems=function(t){var e=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),r=function(t,r,o){return{name:n(t,r),action:function(){return e.chartService.createPivotChart({chartType:o})}}},o=function(t,r,o){return{name:n(t,r),action:function(){return e.chartService.createChartFromCurrentRange(o)}}};switch(t){case"pivotChart":return{name:n("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:c.ib.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:n("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart"],icon:c.ib.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:n("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return r("groupedColumn","Grouped&lrm;",c.q.GroupedColumn);case"pivotStackedColumn":return r("stackedColumn","Stacked&lrm;",c.q.StackedColumn);case"pivotNormalizedColumn":return r("normalizedColumn","100% Stacked&lrm;",c.q.NormalizedColumn);case"rangeColumnChart":return{name:n("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return o("groupedColumn","Grouped&lrm;",c.q.GroupedColumn);case"rangeStackedColumn":return o("stackedColumn","Stacked&lrm;",c.q.StackedColumn);case"rangeNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;",c.q.NormalizedColumn);case"pivotBarChart":return{name:n("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return r("groupedBar","Grouped&lrm;",c.q.GroupedBar);case"pivotStackedBar":return r("stackedBar","Stacked&lrm;",c.q.StackedBar);case"pivotNormalizedBar":return r("normalizedBar","100% Stacked&lrm;",c.q.NormalizedBar);case"rangeBarChart":return{name:n("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return o("groupedBar","Grouped&lrm;",c.q.GroupedBar);case"rangeStackedBar":return o("stackedBar","Stacked&lrm;",c.q.StackedBar);case"rangeNormalizedBar":return o("normalizedBar","100% Stacked&lrm;",c.q.NormalizedBar);case"pivotPieChart":return{name:n("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return r("pie","Pie&lrm;",c.q.Pie);case"pivotDoughnut":return r("doughnut","Doughnut&lrm;",c.q.Doughnut);case"rangePieChart":return{name:n("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return o("pie","Pie&lrm;",c.q.Pie);case"rangeDoughnut":return o("doughnut","Doughnut&lrm;",c.q.Doughnut);case"pivotLineChart":return r("line","Line&lrm;",c.q.Line);case"rangeLineChart":return o("line","Line&lrm;",c.q.Line);case"pivotXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return r("scatter","Scatter&lrm;",c.q.Scatter);case"pivotBubble":return r("bubble","Bubble&lrm;",c.q.Bubble);case"rangeXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return o("scatter","Scatter&lrm;",c.q.Scatter);case"rangeBubble":return o("bubble","Bubble&lrm;",c.q.Bubble);case"pivotAreaChart":return{name:n("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return r("area","Area&lrm;",c.q.Area);case"pivotStackedArea":return r("stackedArea","Stacked&lrm;",c.q.StackedArea);case"pivotNormalizedArea":return r("normalizedArea","100% Stacked&lrm;",c.q.NormalizedArea);case"rangeAreaChart":return{name:n("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return o("area","Area&lrm;",c.q.Area);case"rangeStackedArea":return o("stackedArea","Stacked&lrm;",c.q.StackedArea);case"rangeNormalizedArea":return o("normalizedArea","100% Stacked&lrm;",c.q.NormalizedArea);case"rangeHistogramChart":return o("histogramChart","Histogram&lrm;",c.q.Histogram);default:return null}},e.prototype.createAggregationSubMenu=function(t){var e,n=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.isValueActive(),i=this.aggFuncService.getFuncNames(t);if(t.isPrimary())e=t;else{var s=t.getColDef().pivotValueColumn;e=c.ib.exists(s)?s:void 0}var a=[];return i.forEach((function(t){a.push({name:r(t,t),action:function(){n.columnController.setColumnAggFunc(e,t,"contextMenu"),n.columnController.addValueColumn(e,"contextMenu")},checked:o&&e.getAggFunc()===t})})),a},xg([Object(c.k)("columnController")],e.prototype,"columnController",void 0),xg([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),xg([Object(c.N)("clipboardService")],e.prototype,"clipboardService",void 0),xg([Object(c.N)("aggFuncService")],e.prototype,"aggFuncService",void 0),xg([Object(c.N)("chartService")],e.prototype,"chartService",void 0),xg([Object(c.m)("menuItemMapper")],e)}(c.n),Ig={moduleName:c.K.MenuModule,beans:[Sg,kg,Ng],dependantModules:[b]},Fg=(Op=function(t,e){return(Op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Op(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mg=function(){return(Mg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Lg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jg=function(t){function e(){var e=t.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>',!0)||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e}return Fg(e,t),e.getFilterDefs=function(t){var e=t.filters;return e&&e.length>0?e:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},e.prototype.init=function(t){var n=this;this.params=t,this.filterDefs=e.getFilterDefs(t);var r=t.filterChangedCallback;this.column=t.column,this.filterChangedCallback=r;var o=[];return c.ib.forEach(this.filterDefs,(function(t,e){var r=n.createFilter(t,e);null!=r&&o.push(r)})),c.g.all(o).then((function(t){n.filters=t,n.refreshGui("columnMenu")}))},e.prototype.refreshGui=function(t){var e=this;t!==this.lastOpenedInContainer&&(this.clearGui(),this.destroyChildren(),c.ib.forEach(this.filters,(function(n,r){r>0&&e.appendChild(c.ib.loadTemplate('<div class="ag-filter-separator"></div>'));var o,i=e.filterDefs[r],s=e.getFilterTitle(n,i);o="subMenu"===i.display&&"toolPanel"!==t?e.insertFilterMenu(n,s).getGui():"subMenu"===i.display||"accordion"===i.display?e.insertFilterGroup(n,s).getGui():n.getGui(),e.appendChild(o)})),this.lastOpenedInContainer=t)},e.prototype.getFilterTitle=function(t,e){return null!=e.title?e.title:"function"==typeof t.getFilterTitle?t.getFilterTitle():"Filter"},e.prototype.destroyChildren=function(){c.ib.forEach(this.guiDestroyFuncs,(function(t){return t()})),this.guiDestroyFuncs.length=0},e.prototype.insertFilterMenu=function(t,e){var n=this,r=this.createBean(new Cg({name:e,subMenu:t,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return r.setParentComponent(this),this.guiDestroyFuncs.push((function(){return n.destroyBean(r)})),this.addManagedListener(r,Cg.EVENT_MENU_ITEM_ACTIVATED,(function(t){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==t.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=t.menuItem})),r.addGuiEventListener("focusin",(function(){return r.activate()})),r.addGuiEventListener("focusout",(function(){r.isSubMenuOpen()||r.deactivate()})),r},e.prototype.insertFilterGroup=function(t,e){var n=this,r=this.createBean(new c.e({title:e,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push((function(){return n.destroyBean(r)})),r.addItem(t.getGui()),r.toggleGroupExpand(!1),t.afterGuiAttached){var o={container:this.lastOpenedInContainer,suppressFocus:!0};r.addManagedListener(r,c.e.EVENT_EXPANDED,(function(){return t.afterGuiAttached(o)}))}return r},e.prototype.isFilterActive=function(){return c.ib.some(this.filters,(function(t){return t.isFilterActive()}))},e.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},e.prototype.doesFilterPass=function(t,e){var n=!0;return this.filters.forEach((function(r){n&&r!==e&&r.isFilterActive()&&(n=r.doesFilterPass(t))})),n},e.prototype.getFilterType=function(){return"multi"},e.prototype.getModelFromUi=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:c.ib.map(this.filters,(function(t){var e=t;return t.isFilterActive()&&"function"==typeof e.getModelFromUi?e.getModelFromUi():null}))}:null},e.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:c.ib.map(this.filters,(function(t){return t.isFilterActive()?t.getModel():null}))}:null},e.prototype.setModel=function(t){var e=function(t,e){return new c.g((function(n){var r=t.setModel(e);r?r.then((function(){return n()})):n()}))},n=[];return null==t?n=c.ib.map(this.filters,(function(t){return e(t,null)})):c.ib.forEach(this.filters,(function(r,o){n.push(e(r,t.filterModels.length>o?t.filterModels[o]:null))})),c.g.all(n).then((function(){}))},e.prototype.getChildFilterInstance=function(t){return this.filters[t]},e.prototype.afterGuiAttached=function(t){t&&this.refreshGui(t.container);var e=this.params.filters,n=e&&c.ib.some(e,(function(t){return t.display&&"inline"!==t.display}));this.executeFunctionIfExists("afterGuiAttached",Mg(Mg({},t||{}),{suppressFocus:n})),n&&this.forceFocusOutOfContainer(!0)},e.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},e.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},e.prototype.destroy=function(){var e=this;c.ib.forEach(this.filters,(function(t){t.setModel(null),e.destroyBean(t)})),this.filters.length=0,this.destroyChildren(),t.prototype.destroy.call(this)},e.prototype.executeFunctionIfExists=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.ib.forEachReverse(this.filters,(function(n){var r=n[t];"function"==typeof r&&r.apply(n,e)}))},e.prototype.createFilter=function(t,e){var n,r=this,o=this.params,i=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,a=Mg(Mg({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:i,filterChangedCallback:function(){return r.filterChanged(e)},doesRowPassOtherFilter:function(t){return s(t)&&r.doesFilterPass({node:t,data:t.data},n)}}),l=this.userComponentFactory.newFilterComponent(t,a,"agTextColumnFilter");return null!=l?l.then((function(t){return n=t})):l},e.prototype.filterChanged=function(t){var e=this.filters[t];c.ib.removeFromArray(this.activeFilterIndices,t),e.isFilterActive()&&this.activeFilterIndices.push(t),this.filterChangedCallback(),c.ib.forEach(this.filters,(function(t){t!==e&&"function"==typeof t.onAnyFilterChanged&&t.onAnyFilterChanged()}))},e.prototype.onFocusIn=function(t){null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(t.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},Lg([Object(c.k)("filterManager")],e.prototype,"filterManager",void 0),Lg([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(c.J),Gg=(_p=function(t,e){return(_p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vg=function(){return(Vg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wg=function(t){function e(){var e=t.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return Gg(e,t),e.prototype.init=function(t){var e=this;this.params=t;var n=[];return c.ib.forEach(jg.getFilterDefs(t.filterParams),(function(r,o){var i=Vg(Vg({},t),{parentFilterInstance:function(e){t.parentFilterInstance((function(t){var n=t.getChildFilterInstance(o);e(n)}))}}),s=e.createFloatingFilter(r,i);null!=s&&n.push(s)})),c.g.all(n).then((function(t){c.ib.forEach(t,(function(t,n){e.floatingFilters.push(t);var r=t.getGui();e.appendChild(r),n>0&&c.ib.setDisplayed(r,!1)}))}))},e.prototype.onParentModelChanged=function(t,e){var n=this;e&&e.afterFloatingFilter||this.params.parentFilterInstance((function(r){if(null==t)c.ib.forEach(n.floatingFilters,(function(t,n){t.onParentModelChanged(null,e),c.ib.setDisplayed(t.getGui(),0===n)}));else{var o=r.getLastActiveFilterIndex();c.ib.forEach(n.floatingFilters,(function(n,r){n.onParentModelChanged(t.filterModels.length>r?t.filterModels[r]:null,e);var i=null==o?0===r:r===o;c.ib.setDisplayed(n.getGui(),i)}))}}))},e.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,t.prototype.destroy.call(this)},e.prototype.createFloatingFilter=function(t,e){var n=c.B.getDefaultFloatingFilterType(t)||"agTextColumnFloatingFilter";return this.userComponentFactory.newFloatingFilterComponent(t,e,n)},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(c.t),Bg={moduleName:c.K.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:jg},{componentName:"agMultiColumnFloatingFilter",componentClass:Wg}],dependantModules:[b]},Hg=(wp=function(t,e){return(wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zg=function(t){function e(e){var n=t.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=e,n}return Hg(e,t),e.prototype.setState=function(t,e,n){this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),c.ib.addOrRemoveCssClass(this.getGui(),"ag-rich-select-row-selected",n)},e.prototype.populateWithoutRenderer=function(t,e){var n=null!=e?e:t;c.ib.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},e.prototype.populateWithRenderer=function(t,e){var n=this,r={value:t,valueFormatted:e,api:this.gridOptionsWrapper.getApi()},o=this.userComponentFactory.newCellRenderer(this.params,r);return null!=o?c.ib.bindCellRendererToHtmlElement(o,this.getGui()):this.getGui().innerText=null!=r.valueFormatted?r.valueFormatted:r.value,!!o&&(o.then((function(t){n.addDestroyFunc((function(){n.getContext().destroyBean(t)}))})),!0)},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(c.t),Ug=(bp=function(t,e){return(bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yg=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return Ug(e,t),e.prototype.init=function(t){this.params=t,this.selectedValue=t.value,this.originalSelectedValue=t.value,this.focusAfterAttached=t.cellStartedEdit;var e=c.ib.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(c.ib.addCssClass(e,"ag-rich-select-value-icon"),this.eValue.appendChild(e),this.virtualList=this.getContext().createBean(new c.hb("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),c.ib.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),c.ib.missing(t.values))console.warn("ag-Grid: richSelectCellEditor requires values for it to work");else{var n=t.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(t){return n[t]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var r=this.virtualList.getGui();this.addManagedListener(r,"click",this.onClick.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this));var o=c.ib.exists(t.searchDebounceDelay)?t.searchDebounceDelay:300;this.clearSearchString=c.ib.debounce(this.clearSearchString,o),c.ib.exists(t.charPress)&&this.searchText(t.charPress)}},e.prototype.onKeyDown=function(t){var e=t.key;switch(e){case c.H.ENTER:this.onEnterKeyDown();break;case c.H.DOWN:case c.H.UP:this.onNavigationKeyPressed(t,e);break;default:this.searchText(t)}},e.prototype.onEnterKeyDown=function(){this.selectionConfirmed=!0,this.params.stopEditing()},e.prototype.onNavigationKeyPressed=function(t,e){t.preventDefault();var n=this.params.values.indexOf(this.selectedValue),r=e===c.H.UP?n-1:n+1;r>=0&&r<this.params.values.length&&this.setSelectedValue(this.params.values[r])},e.prototype.searchText=function(t){if("string"==typeof t)this.searchString+=t,this.runSearch(),this.clearSearchString();else{var e=t.key;if(e===c.H.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!c.ib.isEventFromPrintableCharacter(t))return;this.searchText(e)}},e.prototype.runSearch=function(){var t,e=this.params.values;if("number"!=typeof e[0]&&"string"!=typeof e[0]||(t=e.map(String)),"object"==typeof e[0]&&this.params.colDef.keyCreator&&(t=e.map(this.params.colDef.keyCreator)),t){var n=c.ib.fuzzySuggestions(this.searchString,t,!0,!0)[0];if(n){var r=t.indexOf(n);this.setSelectedValue(e[r])}}},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.renderSelectedValue=function(){var t=this,e=this.params.formatValue(this.selectedValue),n=this.eValue,r={value:this.selectedValue,valueFormatted:e,api:this.gridOptionsWrapper.getApi()},o=this.userComponentFactory.newCellRenderer(this.params,r);c.ib.exists(o)?(c.ib.bindCellRendererToHtmlElement(o,n),o.then((function(e){t.addDestroyFunc((function(){return t.getContext().destroyBean(e)}))}))):c.ib.exists(this.selectedValue)?n.innerHTML=e:c.ib.clearElement(n)},e.prototype.setSelectedValue=function(t){if(this.selectedValue!==t){var e=this.params.values.indexOf(t);-1!==e&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.refresh())}},e.prototype.createRowComponent=function(t){var e=this.params.formatValue(t),n=new zg(this.params);return this.getContext().createBean(n),n.setState(t,e,t===this.selectedValue),n},e.prototype.onMouseMove=function(t){var e=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),r=Math.floor((t.clientY-e.top+n)/this.virtualList.getRowHeight()),o=this.params.values[r];void 0!==o&&this.setSelectedValue(o)},e.prototype.onClick=function(){this.selectionConfirmed=!0,this.params.stopEditing()},e.prototype.afterGuiAttached=function(){var t=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),t>=0&&this.virtualList.ensureIndexVisible(t),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},e.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},e.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',Kg([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Kg([Object(c.V)("eValue")],e.prototype,"eValue",void 0),Kg([Object(c.V)("eList")],e.prototype,"eList",void 0),e}(c.P),qg={moduleName:c.K.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:Yg},{componentName:"agRichSelectCellEditor",componentClass:Yg}],dependantModules:[b]},Xg=(Cp=function(t,e){return(Cp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qg=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e}return Xg(e,t),e.prototype.ensureRowHeightsValid=function(){return!1},e.prototype.start=function(){var t=this.gridOptionsWrapper.getServerSideDatasource();t&&this.setDatasource(t)},e.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},e.prototype.setBeans=function(t){this.logger=t.create("ServerSideRowModel")},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,c.A.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var t=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_VALUE_CHANGED,t),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_CHANGED,t),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,c.A.EVENT_COLUMN_PIVOT_MODE_CHANGED,t)},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,this.resetRootStore()},e.prototype.isLastRowIndexKnown=function(){var t=this.getRootStore();return!!t&&t.isLastRowIndexKnown()},e.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns())if(this.storeParams){var t=this.columnsToValueObjects(this.columnController.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnController.getValueColumns()),n=this.columnsToValueObjects(this.columnController.getPivotColumns()),r=!c.ib.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),o=!c.ib.jsonEquals(this.storeParams.rowGroupCols,t),i=!c.ib.jsonEquals(this.storeParams.pivotCols,n),s=!c.ib.jsonEquals(this.storeParams.valueCols,e);(r||o||i||s)&&this.resetRootStore()}else this.resetRootStore()},e.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},e.prototype.refreshAfterSort=function(t,e){this.storeParams&&(this.storeParams.sortModel=t);var n=this.getRootStore();n&&(n.refreshAfterSort(e),this.onStoreUpdated())},e.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new c.W,this.rootNode.group=!0,this.rootNode.level=-1,this.createBean(this.rootNode),this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:c.A.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},e.prototype.columnsToValueObjects=function(t){var e=this;return t.map((function(t){return{id:t.getId(),aggFunc:t.getAggFunc(),displayName:e.columnController.getDisplayNameForColumn(t,"model"),field:t.getColDef().field}}))},e.prototype.createStoreParams=function(){var t=this.columnsToValueObjects(this.columnController.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnController.getValueColumns()),n=this.columnsToValueObjects(this.columnController.getPivotColumns()),r=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:e,rowGroupCols:t,pivotCols:n,pivotMode:this.columnController.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new c.M,dynamicRowHeight:r}},e.prototype.getParams=function(){return this.storeParams},e.prototype.dispatchModelUpdated=function(t){void 0===t&&(t=!1),this.eventService.dispatchEvent({type:c.A.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!t,keepRenderedRows:!t,newPage:!1,newData:!1})},e.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},e.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},e.prototype.updateRowIndexesAndBounds=function(){var t=this.getRootStore();t&&t.setDisplayIndexes(new c.M,{value:0})},e.prototype.retryLoads=function(){var t=this.getRootStore();t&&(t.retryLoads(),this.onStoreUpdated())},e.prototype.getRow=function(t){var e=this.getRootStore();return e?e.getRowUsingDisplayIndex(t):null},e.prototype.expandAll=function(t){this.pauseStoreUpdateListening=!0,this.forEachNode((function(e){e.group&&e.setExpanded(t)})),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},e.prototype.refreshAfterFilter=function(t,e){this.storeParams&&(this.storeParams.filterModel=t);var n=this.getRootStore();n&&(n.refreshAfterFilter(e),this.onStoreUpdated())},e.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},e.prototype.getRowCount=function(){var t=this.getRootStore();return t?t.getDisplayIndexEnd():1},e.prototype.getTopLevelRowCount=function(){var t=this.getRootStore();return t?t.getRowCount():1},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.getRootStore();return e?e.getTopLevelRowDisplayedIndex(t):t},e.prototype.getRowBounds=function(t){var e=this.getRootStore();return e?e.getRowBounds(t):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},e.prototype.getRowIndexAtPixel=function(t){var e=this.getRootStore();return t<=0||!e?0:e.getRowIndexAtPixel(t)},e.prototype.isEmpty=function(){return!1},e.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},e.prototype.getType=function(){return c.v.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.forEachNode=function(t){var e=this.getRootStore();e&&e.forEachNodeDeep(t)},e.prototype.executeOnStore=function(t,e){var n=this.getRootStore();if(n){var r=n.getChildStore(t);r&&e(r)}},e.prototype.refreshStore=function(t){void 0===t&&(t={}),this.executeOnStore(t.route?t.route:[],(function(e){return e.refreshStore(1==t.purge)}))},e.prototype.getStoreState=function(){var t=[],e=this.getRootStore();return e&&e.addStoreStates(t),t},e.prototype.getNodesInRangeForSelection=function(t,e){return c.ib.exists(e)&&t.parent!==e.parent?[]:t.parent.childStore.getRowNodesInRange(e,t)},e.prototype.getRowNode=function(t){var e=null;return this.forEachNode((function(n){n.id===t&&(e=n),n.detailNode&&n.detailNode.id===t&&(e=n.detailNode)})),e},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},Qg([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Qg([Object(c.k)("filterManager")],e.prototype,"filterManager",void 0),Qg([Object(c.k)("sortController")],e.prototype,"sortController",void 0),Qg([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Qg([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Qg([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),Qg([Object(c.k)("ssrmSortService")],e.prototype,"sortListener",void 0),Qg([Object(c.k)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),Qg([Object(c.k)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),Qg([c.S],e.prototype,"destroyDatasource",null),Qg([(n=Object(c.U)("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Qg([c.Q],e.prototype,"addEventListeners",null),Qg([c.S],e.prototype,"destroyRootStore",null),Qg([Object(c.m)("rowModel")],e);var n}(c.n),Jg=(mp=function(t,e){return(mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$g=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jg(e,t),e.prototype.createGroupKeys=function(t){for(var e=[],n=t;n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},e.prototype.loadFromDatasource=function(t){var e=this.createGroupKeys(t.parentNode),n=t.storeParams;if(n.datasource){var r={successCallback:t.successCallback,success:t.success,failCallback:t.failCallback,fail:t.fail,request:{startRow:t.startRow,endRow:t.endRow,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:e,filterModel:n.filterModel,sortModel:n.sortModel},parentNode:t.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){n.datasource&&n.datasource.getRows(r)}),0)}},e.prototype.getChildStore=function(t,e,n){if(c.ib.missingOrEmpty(t))return e;var r=n(t[0]);if(r){var o=t.slice(1,t.length),i=r.childStore;return i?i.getChildStore(o):null}return null},e.prototype.isServerRefreshNeeded=function(t,e,n){if(n.alwaysReset||n.valueColChanged||n.secondaryColChanged)return!0;var r=t.level+1;return!(r<e.length&&!(n.changedColumns.indexOf(e[r].id)>-1))},$g([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),$g([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),$g([Object(c.m)("ssrmCacheUtils")],e)}(c.n),ey=(vp=function(t,e){return(vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ny=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ry=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ey(e,t),e.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.createRowNode=function(t){var e=this.getContext().createBean(new c.W);return e.setRowHeight(this.rowHeight),e.group=t.group,e.leafGroup=t.leafGroup,e.level=t.level,e.uiLevel=t.level,e.parent=t.parent,e.stub=!0,e.group&&(e.expanded=!1,e.field=t.field,e.rowGroupColumn=t.rowGroupColumn),e},e.prototype.destroyRowNodes=function(t){t&&t.forEach(this.destroyRowNode.bind(this))},e.prototype.destroyRowNode=function(t){t.childStore&&(this.destroyBean(t.childStore),t.childStore=null),t.clearRowTop(),null!=t.id&&this.nodeManager.removeNode(t)},e.prototype.setDataIntoRowNode=function(t,e,n){if(t.stub=!1,c.ib.exists(e)){if(t.setDataAndId(e,n),this.usingTreeData){var r=this.gridOptionsWrapper.getIsServerSideGroupFunc(),o=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=r&&(t.group=r(t.data),t.group&&null!=o&&(t.key=o(t.data)))}else if(t.group)t.key=this.valueService.getValue(t.rowGroupColumn,t),null==t.key&&c.ib.doOnce((function(){console.warn("null and undefined values are not allowed for server side row model keys"),t.rowGroupColumn&&console.warn("column = "+t.rowGroupColumn.getId()),console.warn("data is ",t.data)}),"ServerSideBlock-CannotHaveNullOrUndefinedForKey");else if(this.usingMasterDetail){var i=this.gridOptionsWrapper.getIsRowMasterFunc();t.master=null==i||i(t.data)}}else t.setDataAndId(void 0,void 0),t.key=null;(this.usingTreeData||t.group)&&(this.setGroupDataIntoRowNode(t),this.setChildCountIntoRowNode(t)),c.ib.exists(e)&&t.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(t).height)},e.prototype.setChildCountIntoRowNode=function(t){var e=this.gridOptionsWrapper.getChildCountFunc();e&&(t.allChildrenCount=e(t.data))},e.prototype.setGroupDataIntoRowNode=function(t){var e=this,n=this.columnController.getGroupDisplayColumns(),r=this.gridOptionsWrapper.isTreeData();n.forEach((function(n){if(null==t.groupData&&(t.groupData={}),r)t.groupData[n.getColId()]=t.key;else if(n.isRowGroupDisplayed(t.rowGroupColumn.getId())){var o=e.valueService.getValue(t.rowGroupColumn,t);t.groupData[n.getColId()]=o}}))},e.prototype.clearDisplayIndex=function(t){t.clearRowTop(),t.setRowIndex(),t.group&&c.ib.exists(t.childStore)&&t.childStore.clearDisplayIndexes(),t.master&&t.detailNode&&(t.detailNode.clearRowTop(),t.detailNode.setRowIndex())},e.prototype.setDisplayIndex=function(t,e,n){if(t.setRowIndex(e.next()),t.setRowTop(n.value),n.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(n.value),n.value+=t.detailNode.rowHeight):t.detailNode&&(t.detailNode.clearRowTop(),t.detailNode.setRowIndex())),t.group&&c.ib.exists(t.childStore)){var r=t.childStore;t.expanded?r.setDisplayIndexes(e,n):r.clearDisplayIndexes()}},e.prototype.binarySearchForDisplayIndex=function(t,e){var n=0,r=e.length-1;if(c.ib.missing(r)||c.ib.missing(n))return console.warn("ag-grid: error: topPointer = "+r+", bottomPointer = "+n),null;for(;;){var o=Math.floor((n+r)/2),i=e[o];if(i.rowIndex===t)return i;if(i.master&&i.expanded&&i.detailNode.rowIndex===t)return i.detailNode;var s=i.childStore;if(i.expanded&&s&&s.isDisplayIndexInStore(t))return s.getRowUsingDisplayIndex(t);if(i.rowIndex<t)n=o+1;else{if(!(i.rowIndex>t))return console.warn("ag-Grid: error: unable to locate rowIndex = "+t+" in cache"),null;r=o-1}}},e.prototype.extractRowBounds=function(t,e){var n=function(t){return{rowHeight:t.rowHeight,rowTop:t.rowTop}};if(t.rowIndex===e)return n(t);if(t.group&&t.expanded&&c.ib.exists(t.childStore)){var r=t.childStore;if(r.isDisplayIndexInStore(e))return r.getRowBounds(e)}else if(t.master&&t.expanded&&c.ib.exists(t.detailNode)&&t.detailNode.rowIndex===e)return n(t.detailNode)},e.prototype.getIndexAtPixel=function(t,e){if(t.isPixelInRange(e))return t.rowIndex;if(t.master&&t.expanded&&t.detailNode.isPixelInRange(e))return t.detailNode.rowIndex;if(t.group&&t.expanded&&c.ib.exists(t.childStore)){var n=t.childStore;if(n.isPixelInRange(e))return n.getRowIndexAtPixel(e)}},e.prototype.createNodeIdPrefix=function(t){for(var e=[],n=t;n&&n.level>=0;)e.push(n.key),n=n.parent;return e.length>0?e.reverse().join("-"):void 0},e.prototype.checkOpenByDefault=function(t){if(t.isExpandable()){var e=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();e&&e({data:t.data,rowNode:t})&&window.setTimeout((function(){return t.setExpanded(!0)}),0)}},ny([Object(c.k)("valueService")],e.prototype,"valueService",void 0),ny([Object(c.k)("columnController")],e.prototype,"columnController",void 0),ny([Object(c.k)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),ny([c.Q],e.prototype,"postConstruct",null),ny([Object(c.m)("ssrmBlockUtils")],e)}(c.n),oy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},iy=function(){function t(){this.rowNodes={}}return t.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("ag-Grid: duplicate node id "+t.id),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},t.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},t.prototype.clear=function(){this.rowNodes={}},oy([c.S],t.prototype,"clear",null),oy([Object(c.m)("ssrmNodeManager")],t)}(),sy=(yp=function(t,e){return(yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ay=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ly=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asyncTransactions=[],e}return sy(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},e.prototype.applyTransactionAsync=function(t,e){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:t,callback:e})},e.prototype.scheduleExecuteAsync=function(){var t=this,e=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout((function(){t.executeAsyncTransactions()}),e)},e.prototype.executeAsyncTransactions=function(){var t=this;if(this.asyncTransactions){var e=[],n=[],r=[],o=!1;if(this.asyncTransactions.forEach((function(i){var s;t.serverSideRowModel.executeOnStore(i.transaction.route,(function(t){s=t.applyTransaction(i.transaction)})),null==s&&(s={status:c.ab.StoreNotFound}),n.push(s),s.status==c.ab.StoreLoading?r.push(i):(i.callback&&e.push((function(){return i.callback(s)})),s.status===c.ab.Applied&&(o=!0))})),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=r,o&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:c.A.EVENT_STORE_UPDATED})),n.length>0){var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:c.A.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(i)}}},e.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},e.prototype.applyTransaction=function(t){var e;return this.serverSideRowModel.executeOnStore(t.route,(function(n){e=n.applyTransaction(t)})),e?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:c.A.EVENT_STORE_UPDATED}),e):{status:c.ab.StoreNotFound}},ay([Object(c.k)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),ay([Object(c.k)("valueCache")],e.prototype,"valueCache",void 0),ay([Object(c.k)("rowModel")],e.prototype,"serverSideRowModel",void 0),ay([c.Q],e.prototype,"postConstruct",null),ay([Object(c.m)("ssrmTransactionManager")],e)}(c.n),uy=(gp=function(t,e){return(gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uy(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,c.A.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},e.prototype.onRowGroupOpened=function(t){var e=t.node;if(e.expanded){if(e.master)this.createDetailNode(e);else if(c.ib.missing(e.childStore)){var n=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(n,e))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&c.ib.exists(e.childStore)&&(e.childStore=this.destroyBean(e.childStore));this.eventService.dispatchEvent({type:c.A.EVENT_STORE_UPDATED})},e.prototype.createDetailNode=function(t){if(c.ib.exists(t.detailNode))return t.detailNode;var e=new c.W;this.getContext().createBean(e),e.detail=!0,e.selectable=!1,e.parent=t,c.ib.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1;var n=this.gridOptionsWrapper.getRowHeightForNode(e).height;return e.rowHeight=n||200,t.detailNode=e,e},cy([Object(c.k)("rowModel")],e.prototype,"serverSideRowModel",void 0),cy([Object(c.k)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),cy([c.Q],e.prototype,"postConstruct",null),cy([Object(c.m)("ssrmExpandListener")],e)}(c.n),hy=(fp=function(t,e){return(fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hy(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,c.A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},e.prototype.extractSortModel=function(){var t=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(t),this.removeMultiColumnPrefixOnColumnIds(t)),t},e.prototype.removeMultiColumnPrefixOnColumnIds=function(t){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var e=c.v.GROUP_AUTO_COLUMN_ID+"-",n=0;n<t.length;++n)t[n].colId.indexOf(e)>-1&&(t[n].colId=t[n].colId.substr(e.length))},e.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(t){var e=c.ib.find(t,(function(t){return t.colId==c.v.GROUP_AUTO_COLUMN_ID}));if(e){var n=t.indexOf(e);c.ib.removeFromArray(t,e);var r=this.columnController.getRowGroupColumns().filter((function(e){return 0==t.filter((function(t){return t.colId===e.getColId()})).length})).map((function(t){return{colId:t.getId(),sort:e.sort}}));c.ib.insertArrayIntoArray(t,r,n)}},e.prototype.onSortChanged=function(){var t=this.serverSideRowModel.getParams(),e=this.extractSortModel(),n=this.findChangedColumnsInSort(e,t.sortModel),r=this.listenerUtils.isSortingWithValueColumn(n),o=this.listenerUtils.isSortingWithSecondaryColumn(n),i=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(e,{valueColChanged:r,secondaryColChanged:o,alwaysReset:i,changedColumns:n})},e.prototype.findChangedColumnsInSort=function(t,e){var n=[];return[t,e].forEach((function(t){if(t){var e=t.map((function(t){return t.colId}));n=n.concat(e)}})),n.filter((function(n){var r=c.ib.find(e,(function(t){return t.colId===n})),o=c.ib.find(t,(function(t){return t.colId===n}));return function(t,e){return(t?t.sort:null)!==(e?e.sort:null)}(r,o)||function(n,r){return e.indexOf(n)!==t.indexOf(r)}(r,o)}))},dy([Object(c.k)("sortController")],e.prototype,"sortController",void 0),dy([Object(c.k)("columnController")],e.prototype,"columnController",void 0),dy([Object(c.k)("rowModel")],e.prototype,"serverSideRowModel",void 0),dy([Object(c.k)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),dy([c.Q],e.prototype,"postConstruct",null),dy([Object(c.m)("ssrmSortService")],e)}(c.n),gy=(dp=function(t,e){return(dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gy(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,c.A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.onFilterChanged=function(){var t=this.filterManager.getFilterModel(),e=this.serverSideRowModel.getParams(),n=this.findChangedColumns(t,e.filterModel),r=this.listenerUtils.isSortingWithValueColumn(n),o=this.listenerUtils.isSortingWithSecondaryColumn(n),i=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(t,{valueColChanged:r,secondaryColChanged:o,alwaysReset:i,changedColumns:n})},e.prototype.findChangedColumns=function(t,e){var n={};Object.keys(t).forEach((function(t){return n[t]=!0})),Object.keys(e).forEach((function(t){return n[t]=!0}));var r=[];return Object.keys(n).forEach((function(n){JSON.stringify(t[n])!=JSON.stringify(e[n])&&r.push(n)})),r},yy([Object(c.k)("rowModel")],e.prototype,"serverSideRowModel",void 0),yy([Object(c.k)("filterManager")],e.prototype,"filterManager",void 0),yy([Object(c.k)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),yy([c.Q],e.prototype,"postConstruct",null),yy([Object(c.m)("ssrmFilterListener")],e)}(c.n),my=(hp=function(t,e){return(hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},by=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.ssrmParams=r,s.storeParams=o,s.parentRowNode=n,s.startRow=e*o.cacheBlockSize,s.parentStore=i,s.level=n.level+1,s.groupLevel=r.rowGroupCols?s.level<r.rowGroupCols.length:void 0,s.leafGroup=!!r.rowGroupCols&&s.level===r.rowGroupCols.length-1,s}return my(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnController.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},e.prototype.isDisplayIndexInBlock=function(t){return t>=this.displayIndexStart&&t<this.displayIndexEnd},e.prototype.isBlockBefore=function(t){return t>=this.displayIndexEnd},e.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.getBlockHeightPx=function(){return this.blockHeightPx},e.prototype.getBlockTopPx=function(){return this.blockTopPx},e.prototype.isGroupLevel=function(){return this.groupLevel},e.prototype.getGroupField=function(){return this.groupField},e.prototype.prefixId=function(t){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},e.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter((function(t){return t.expanded})).length>0},e.prototype.forEachNode=function(t,e,n){void 0===e&&(e=new c.M),this.rowNodes.forEach((function(r){t(r,e.next()),n&&r.childStore&&r.childStore.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){this.forEachNode(t,e,!0)},e.prototype.forEachNodeShallow=function(t,e){this.forEachNode(t,e,!1)},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRowUsingLocalIndex=function(t){return this.rowNodes[t-this.startRow]},e.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},e.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},e.prototype.retryLoads=function(){this.getState()===c.X.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow((function(t){t.childStore&&t.childStore.retryLoads()}))},e.prototype.processServerResult=function(t){this.parentStore.onBlockLoaded(this,t)},e.prototype.setData=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1),this.destroyRowNodes();for(var n=this.parentStore.getRowCount(),r=this.getId()*this.storeParams.cacheBlockSize,o=Math.min(r+this.storeParams.cacheBlockSize,n)-r,i=0;i<o;i++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});if(i<t.length){var a=t[i],l=this.prefixId(this.startRow+i);this.blockUtils.setDataIntoRowNode(s,a,l),this.parentStore.removeDuplicateNode(s.id),this.nodeManager.addRowNode(s),this.allNodesMap[s.id]=s}this.rowNodes.push(s),e&&(s.failedLoad=!0)}},e.prototype.removeDuplicateNode=function(t){var e=this.allNodesMap[t];if(e){this.blockUtils.destroyRowNode(e);var n=this.rowNodes.indexOf(e),r=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[n]=r}},e.prototype.refresh=function(){this.getState()!==c.X.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},e.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},e.prototype.setBeans=function(t){this.logger=t.create("ServerSideBlock")},e.prototype.getRowUsingDisplayIndex=function(t){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(t,this.rowNodes)},e.prototype.loadFromDatasource=function(){this.cacheUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.isPixelInRange=function(t){return t>=this.blockTopPx&&t<this.blockTopPx+this.blockHeightPx},e.prototype.getRowBounds=function(t){var e,n=this;return this.touchLastAccessed(),c.ib.find(this.rowNodes,(function(r){return null!=(e=n.blockUtils.extractRowBounds(r,t))})),e},e.prototype.getRowIndexAtPixel=function(t){var e,n=this;return this.touchLastAccessed(),c.ib.find(this.rowNodes,(function(r){return null!=(e=n.blockUtils.getIndexAtPixel(r,t))})),e},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach((function(e){return t.blockUtils.clearDisplayIndex(e)}))},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.blockTopPx=e.value,this.rowNodes.forEach((function(r){return n.blockUtils.setDisplayIndex(r,t,e)})),this.displayIndexEnd=t.peek(),this.blockHeightPx=e.value-this.blockTopPx},Cy([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),Cy([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Cy([Object(c.k)("valueService")],e.prototype,"valueService",void 0),Cy([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Cy([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Cy([Object(c.k)("ssrmCacheUtils")],e.prototype,"cacheUtils",void 0),Cy([Object(c.k)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),Cy([Object(c.k)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),Cy([Object(c.k)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Cy([c.Q],e.prototype,"postConstruct",null),Cy([c.S],e.prototype,"destroyRowNodes",null),Cy([(n=Object(c.U)("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),e;var n}(c.X),wy=(pp=function(t,e){return(pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_y=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.FOUND=0]="FOUND",t[t.CONTINUE_FIND=1]="CONTINUE_FIND",t[t.BREAK_FIND=2]="BREAK_FIND"}(cp||(cp={}));var Oy,Ey,Sy=function(t){function e(n,r,o){var i=t.call(this)||this;return i.blocks={},i.blockHeights={},i.blockCount=0,i.lastRowIndexKnown=!1,i.displayIndexStart=0,i.displayIndexEnd=0,i.cacheTopPixel=0,i.info={},i.ssrmParams=n,i.storeParams=r,i.parentRowNode=o,i.rowCount=e.INITIAL_ROW_COUNT,i}return wy(e,t),e.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.destroyBlock(e)}))},e.prototype.setBeans=function(t){this.logger=t.create("ServerSideCache")},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.retryLoads=function(){this.getBlocksInOrder().forEach((function(t){return t.retryLoads()}))},e.prototype.onBlockLoadFailed=function(t){t.setData([],!0),this.fireCacheUpdatedEvent()},e.prototype.onBlockLoaded=function(t,e){this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e.rowCount),e.storeInfo&&c.ib.assign(this.info,e.storeInfo),e.rowData||c.ib.doOnce((function(){return console.warn('ag-Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',e)}),"InfiniteStore.noData");var n=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.isAlive()&&(this.checkRowCount(t,n),t.setData(e.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,r=this.getBlocksInOrder().filter((function(e){return e!=t}));r.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var o=this.storeParams.maxBlocksInCache>0,i=o?this.storeParams.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((function(t,e){if(t.getState()===by.STATE_WAITING_TO_LOAD&&e>=s||o&&e>=i){if(t.isAnyNodeOpen())return;if(n.isBlockCurrentlyDisplayed(t))return;n.destroyBlock(t)}}))},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getDisplayIndexStart(),n=t.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeDuplicateNode=function(t){this.getBlocksInOrder().forEach((function(e){return e.removeDuplicateNode(t)}))},e.prototype.checkRowCount=function(t,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(t.getId()+1)*this.storeParams.cacheBlockSize+e.OVERFLOW_SIZE;this.rowCount<r&&(this.rowCount=r)}},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new c.M),this.getBlocksInOrder().forEach((function(n){return n.forEachNodeDeep(t,e)}))},e.prototype.getBlocksInOrder=function(){return c.ib.getAllValuesInObject(this.blocks).sort((function(t,e){return t.getId()-e.getId()}))},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.rowNodeBlockLoader.removeBlock(t)},e.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:c.A.EVENT_STORE_UPDATED})},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach((function(n){n.getId()*t.storeParams.cacheBlockSize>=t.rowCount&&e.push(n)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.refreshStore=function(t){t?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},e.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach((function(t){t.refresh()})),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=e.INITIAL_ROW_COUNT)},e.prototype.getRowNodesInRange=function(t,e){var n=[],r=-1,o=!1;c.ib.missing(t)&&(o=!0);var i=!1;return this.getBlocksInOrder().forEach((function(s){i||(o&&r+1!==s.getId()?i=!0:(r=s.getId(),s.forEachNodeShallow((function(r){var i=r===t||r===e;(o||i)&&n.push(r),i&&(o=!o)}))))})),i||o?[]:n},e.prototype.findBlockAndExecute=function(t,e,n){var r,o=!1,i=!1,s=null;return this.getBlocksInOrder().forEach((function(n){if(!o&&!i){var a=t(n);a==cp.FOUND?(r=e(n),o=!0):a==cp.CONTINUE_FIND?s=n:a==cp.BREAK_FIND&&(i=!0)}})),o||(r=n(s)),r},e.prototype.getRowBounds=function(t){var e=this;return this.findBlockAndExecute((function(e){return e.isDisplayIndexInBlock(t)?cp.FOUND:e.isBlockBefore(t)?cp.CONTINUE_FIND:cp.BREAK_FIND}),(function(e){return e.getRowBounds(t)}),(function(n){var r,o;return null!==n?(r=n.getBlockTopPx()+n.getBlockHeightPx(),o=n.getDisplayIndexEnd()):(r=e.cacheTopPixel,o=e.displayIndexStart),{rowHeight:e.defaultRowHeight,rowTop:r+(t-o)*e.defaultRowHeight}}))},e.prototype.getRowIndexAtPixel=function(t){var e=this,n=this.findBlockAndExecute((function(e){return e.isPixelInRange(t)?cp.FOUND:e.getBlockTopPx()<t?cp.CONTINUE_FIND:cp.BREAK_FIND}),(function(e){return e.getRowIndexAtPixel(t)}),(function(n){var r,o;return n?(r=n.getBlockTopPx()+n.getBlockHeightPx(),o=n.getDisplayIndexEnd()):(r=e.cacheTopPixel,o=e.displayIndexStart),o+((t-r)/e.defaultRowHeight|0)})),r=this.getDisplayIndexEnd()-1;return Math.min(n,r)},e.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach((function(t){return t.clearDisplayIndexes()}))},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.cacheTopPixel=e.value;var r=-1,o=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach((function(i){var s=i.getId(),a=s-r-1,l=a*o;l>0&&t.skip(l);for(var u=1;u<=a;u++){var p=s-u;c.ib.exists(n.blockHeights[p])?e.value+=n.blockHeights[p]:e.value+=o*n.defaultRowHeight}r=s,i.setDisplayIndexes(t,e),n.blockHeights[s]=i.getBlockHeightPx()}));var i=(r+1)*o-1,s=this.getRowCount()-i-1;s>0&&(t.skip(s),e.value+=s*this.defaultRowHeight),this.displayIndexEnd=t.peek(),this.cacheHeightPixels=e.value-this.cacheTopPixel},e.prototype.getRowUsingDisplayIndex=function(t,e){var n=this;return void 0===e&&(e=!1),this.isDisplayIndexInStore(t)?this.findBlockAndExecute((function(e){return e.isDisplayIndexInBlock(t)?cp.FOUND:e.isBlockBefore(t)?cp.CONTINUE_FIND:cp.BREAK_FIND}),(function(e){return e.getRowUsingDisplayIndex(t)}),(function(r){if(!e){var o,i,s,a=n.storeParams.cacheBlockSize;if(r)for(o=r.getId()+1,i=r.getDisplayIndexEnd(),s=r.getBlockHeightPx()+r.getBlockTopPx();!(t>=i&&t<i+a);){i+=a;var l=n.blockHeights[o];c.ib.exists(l)?s+=l:s+=n.defaultRowHeight*a,o++}else o=Math.floor((t-n.displayIndexStart)/a),i=n.displayIndexStart+o*a,s=n.cacheTopPixel+o*a*n.defaultRowHeight;return n.logger.log("block missing, rowIndex = "+t+", creating #"+o+", displayIndexStart = "+i),n.createBlock(o,i,{value:s}).getRowUsingDisplayIndex(t)}})):null},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.storeParams.cacheBlockSize,n=Math.floor(t/e);return this.findBlockAndExecute((function(t){return t.getId()===n?cp.FOUND:t.getId()<n?cp.CONTINUE_FIND:cp.BREAK_FIND}),(function(e){return e.getRowUsingLocalIndex(t).rowIndex}),(function(n){if(!n)return t;var r=e*(n.getId()+1)-1,o=n.getRowUsingLocalIndex(r);return(o.expanded&&o.childStore?o.childStore.getDisplayIndexEnd()-1:o.expanded&&o.detailNode?o.detailNode.rowIndex:o.rowIndex)+(t-r)}))},e.prototype.addStoreStates=function(t){t.push({type:c.Z.Partial,route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.createBlock=function(t,e,n){var r=this.createBean(new by(t,this.parentRowNode,this.ssrmParams,this.storeParams,this));return r.setDisplayIndexes(new c.M(e),n),this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.rowNodeBlockLoader.addBlock(r),r},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&t>=this.displayIndexStart&&t<this.displayIndexEnd},e.prototype.applyTransaction=function(t){return{status:c.ab.StoreWrongType}},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){var n=null;return e.getBlocksInOrder().forEach((function(e){e.forEachNodeShallow((function(e){e.key===t&&(n=e)}),new c.M)})),n}))},e.prototype.isPixelInRange=function(t){return 0!==this.getRowCount()&&t>=this.cacheTopPixel&&t<this.cacheTopPixel+this.cacheHeightPixels},e.prototype.refreshAfterFilter=function(t){this.resetStore()},e.prototype.refreshAfterSort=function(t){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)?this.resetStore():this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.forEachChildStoreShallow=function(t){this.getBlocksInOrder().forEach((function(e){e.isGroupLevel()&&e.forEachNodeShallow((function(e){var n=e.childStore;n&&t(n)}),new c.M)}))},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,e.INITIAL_ROW_COUNT=1,e.OVERFLOW_SIZE=1,_y([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),_y([Object(c.k)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),_y([Object(c.k)("ssrmCacheUtils")],e.prototype,"storeUtils",void 0),_y([Object(c.k)("columnController")],e.prototype,"columnController",void 0),_y([c.Q],e.prototype,"postConstruct",null),_y([c.S],e.prototype,"destroyAllBlocks",null),_y([(n=Object(c.U)("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),e;var n}(c.n),Py=(Ey=function(t,e){return(Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ey(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ty=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ry=function(t){function e(e,n,r){var o=t.call(this,0)||this;return o.nodeIdSequence=new c.M,o.info={},o.ssrmParams=e,o.storeParams=n,o.parentRowNode=r,o.level=r.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o}return Py(e,t),e.prototype.postConstruct=function(){var t=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnController.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc((function(){return t.rowNodeBlockLoader.removeBlock(t)}))},e.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},e.prototype.initialiseRowNodes=function(t,e){void 0===t&&(t=1),void 0===e&&(e=!1),this.destroyRowNodes();for(var n=0;n<t;n++){var r=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});e&&(r.failedLoad=!0),this.allRowNodes.push(r),this.nodesAfterFilter.push(r),this.nodesAfterSort.push(r)}},e.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},e.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.getStartRow=function(){return 0},e.prototype.getEndRow=function(){return this.nodesAfterSort.length},e.prototype.createDataNode=function(t,e){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=e?c.ib.insertIntoArray(this.allRowNodes,n,e):this.allRowNodes.push(n);var r=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,t,r),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},e.prototype.prefixId=function(t){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},e.prototype.processServerResult=function(t){if(this.isAlive()){t.storeInfo&&c.ib.assign(this.info,t.storeInfo);var e=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},t.rowData||c.ib.doOnce((function(){return console.warn('ag-Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',t)}),"FullStore.noData"),this.createOrRecycleNodes(e,t.rowData),e&&this.blockUtils.destroyRowNodes(c.ib.getAllValuesInObject(e)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},e.prototype.createOrRecycleNodes=function(t,e){var n=this;e&&e.forEach((function(e){var r=function(e){if(t){var r=n.gridOptionsWrapper.getRowNodeIdFunc();if(r){var o=r(e),i=t[o];if(i)return delete t[o],i}}}(e);r?function(t,e){n.allNodesMap[t.id]=t,t.updateData(e),n.allRowNodes.push(t)}(r,e):n.createDataNode(e)}))},e.prototype.flushAsyncTransactions=function(){var t=this;window.setTimeout((function(){return t.transactionManager.flushAsyncTransactions()}),0)},e.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},e.prototype.sortRowNodes=function(){var t=this.sortController.getSortOptions();this.nodesAfterSort=t&&0!=t.length?this.rowNodeSorter.doFullSort(this.nodesAfterFilter,t):this.nodesAfterFilter},e.prototype.filterRowNodes=function(){var t=this;this.nodesAfterFilter=this.groupLevel?this.allRowNodes:this.allRowNodes.filter((function(e){return t.filterManager.doesRowPassFilter({rowNode:e})}))},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach((function(e){return t.blockUtils.clearDisplayIndex(e)}))},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&t>=this.displayIndexStart&&t<this.displayIndexEnd},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.topPx=e.value;var r={};this.nodesAfterSort.forEach((function(o){n.blockUtils.setDisplayIndex(o,t,e),r[o.id]=!0})),this.allRowNodes.forEach((function(t){r[t.id]||n.blockUtils.clearDisplayIndex(t)})),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new c.M),this.allRowNodes.forEach((function(n){t(n,e.next());var r=n.childStore;r&&r.forEachNodeDeep(t,e)}))},e.prototype.getRowUsingDisplayIndex=function(t){return this.blockUtils.binarySearchForDisplayIndex(t,this.nodesAfterSort)},e.prototype.getRowBounds=function(t){for(var e=0;e<this.nodesAfterSort.length;e++){var n=this.blockUtils.extractRowBounds(this.nodesAfterSort[e],t);if(n)return n}return null},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){var e,n=this;if(t<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(t>=this.topPx+this.heightPx){var r=this.nodesAfterSort[this.nodesAfterSort.length-1];return t>=r.rowTop+r.rowHeight&&r.expanded&&r.childStore?r.childStore.getRowIndexAtPixel(t):r.rowIndex}return this.nodesAfterSort.forEach((function(r){var o=n.blockUtils.getIndexAtPixel(r,t);null!=o&&(e=o)})),null==e?this.displayIndexEnd-1:e},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){return c.ib.find(e.allRowNodes,(function(e){return e.key===t}))}))},e.prototype.forEachChildStoreShallow=function(t){this.allRowNodes.forEach((function(e){var n=e.childStore;n&&t(n)}))},e.prototype.refreshAfterFilter=function(t){t.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)})))},e.prototype.refreshAfterSort=function(t){t.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)})))},e.prototype.applyTransaction=function(t){switch(this.getState()){case c.X.STATE_FAILED:return{status:c.ab.StoreLoadingFailed};case c.X.STATE_LOADING:return{status:c.ab.StoreLoading};case c.X.STATE_WAITING_TO_LOAD:return{status:c.ab.StoreWaitingToLoad}}var e=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(e&&!e({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:c.ab.Cancelled};var n={status:c.ab.Applied,remove:[],update:[],add:[]},r=[];return this.executeAdd(t,n),this.executeRemove(t,n,r),this.executeUpdate(t,n,r),this.filterAndSortNodes(),this.updateSelection(r),n},e.prototype.updateSelection=function(t){if(t.length>0){t.forEach((function(t){t.setSelected(!1,!1,!0)}));var e={type:c.A.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(e)}},e.prototype.executeAdd=function(t,e){var n=this,r=t.add,o=t.addIndex;c.ib.missingOrEmpty(r)||("number"==typeof o&&o>=0?r.reverse().forEach((function(t){var r=n.createDataNode(t,o);e.add.push(r)})):r.forEach((function(t){var r=n.createDataNode(t);e.add.push(r)})))},e.prototype.executeRemove=function(t,e,n){var r=this,o=t.remove;if(null!=o){var i={};o.forEach((function(t){var o=r.lookupRowNode(t);o&&(o.isSelected()&&n.push(o),o.clearRowTop(),i[o.id]=!0,delete r.allNodesMap[o.id],e.remove.push(o))})),this.allRowNodes=this.allRowNodes.filter((function(t){return!i[t.id]}))}},e.prototype.executeUpdate=function(t,e,n){var r=this,o=t.update;null!=o&&o.forEach((function(t){var o=r.lookupRowNode(t);o&&(o.updateData(t),!o.selectable&&o.isSelected()&&n.push(o),e.update.push(o))}))},e.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(c.ib.exists(n)){var r=n(t);if(!(e=this.allNodesMap[r]))return console.error("ag-Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(e=c.ib.find(this.allRowNodes,(function(e){return e.data===t}))))return console.error("ag-Grid: could not find data item as object was not found",t),null;return e},e.prototype.addStoreStates=function(t){t.push({type:c.Z.Full,route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.refreshStore=function(t){t&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},e.prototype.retryLoads=function(){this.getState()===c.X.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow((function(t){return t.retryLoads()}))},e.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:c.A.EVENT_STORE_UPDATED})},e.prototype.getRowCount=function(){return this.nodesAfterSort.length},e.prototype.getTopLevelRowDisplayedIndex=function(t){return this.nodesAfterSort[t].rowIndex},e.prototype.isLastRowIndexKnown=function(){return this.getState()==c.X.STATE_LOADED},e.prototype.getRowNodesInRange=function(t,e){var n=[],r=!1;return c.ib.missing(t)&&(r=!0),this.nodesAfterSort.forEach((function(o){var i=o===t||o===e;(r||i)&&n.push(o),i&&(r=!r)})),r?[]:n},Ty([Object(c.k)("ssrmCacheUtils")],e.prototype,"storeUtils",void 0),Ty([Object(c.k)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),Ty([Object(c.k)("columnController")],e.prototype,"columnController",void 0),Ty([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),Ty([Object(c.k)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Ty([Object(c.k)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Ty([Object(c.k)("sortController")],e.prototype,"sortController",void 0),Ty([Object(c.k)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),Ty([Object(c.k)("filterManager")],e.prototype,"filterManager",void 0),Ty([Object(c.k)("ssrmTransactionManager")],e.prototype,"transactionManager",void 0),Ty([c.Q],e.prototype,"postConstruct",null),Ty([c.S],e.prototype,"destroyRowNodes",null),e}(c.X),ky=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ay=function(){function t(){}return t.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new(n.storeType===c.Z.Partial?Sy:Ry)(t,n,e)},t.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),r=this.getStoreType(n);return{storeType:r,cacheBlockSize:this.getBlockSize(r,n),maxBlocksInCache:this.getMaxBlocksInCache(r,t,n)}},t.prototype.getMaxBlocksInCache=function(t,e,n){if(t!=c.Z.Full){var r=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=r&&r>=0)if(e.dynamicRowHeight)c.ib.doOnce((function(){return console.warn("ag-Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.dynamicRowHeight");else{if(!this.columnController.isAutoRowHeightActive())return r;c.ib.doOnce((function(){return console.warn("ag-Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},t.prototype.getBlockSize=function(t,e){if(t!=c.Z.Full){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=n&&n>0?n:100}},t.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnController.getRowGroupColumns(),pivotColumns:this.columnController.getPivotColumns(),pivotMode:this.columnController.isPivotMode()})},t.prototype.getStoreType=function(t){var e=t&&null!=t.storeType?t.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case c.Z.Partial:case c.Z.Full:return e;case null:case void 0:return c.Z.Full;default:var n=Object.keys(c.Z).join(", ");return console.warn("ag-Grid: invalid Server Side Store Type "+e+", valid types are ["+n+"]"),c.Z.Partial}},ky([Object(c.k)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ky([Object(c.k)("columnController")],t.prototype,"columnController",void 0),ky([Object(c.m)("ssrmStoreFactory")],t)}(),Dy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xy=function(){function t(){}return t.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnController.getValueColumns().map((function(t){return t.getColId()})),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnController.getSecondaryColumns())return!1;for(var e=this.columnController.getSecondaryColumns().map((function(t){return t.getColId()})),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},Dy([Object(c.k)("columnController")],t.prototype,"columnController",void 0),Dy([Object(c.m)("ssrmListenerUtils")],t)}(),Ny={moduleName:c.K.ServerSideRowModelModule,rowModels:{serverSide:Zg},beans:[py,fy,ty,ry,iy,ly,vy,Ay,xy],dependantModules:[b]},Iy=function(){function t(t,e,n){this.rowModel=t,this.colDef=e,this.valueGetter=n}return t.prototype.extractUniqueValues=function(t){var e=this,n=new Set,r=this.colDef.keyCreator;return this.rowModel.forEachLeafNode((function(o){if(o.data&&t(o)){var i=e.valueGetter(o);r&&(i=r({value:i})),null!=(i=c.ib.makeNull(i))&&Array.isArray(i)?c.ib.forEach(i,(function(t){var e=c.ib.toStringOrNull(c.ib.makeNull(t));n.add(e)})):n.add(c.ib.toStringOrNull(i))}})),c.ib.values(n)},t}();!function(t){t[t.PROVIDED_LIST=0]="PROVIDED_LIST",t[t.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",t[t.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(Oy||(Oy={}));var Fy,My,Ly,jy,Gy,Vy,Wy,By,Hy,zy,Uy,Ky,Yy,qy,Xy=function(){function t(t,e,n,r){var o=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=n,this.translate=r,this.localEventService=new c.z,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set;var i=t.colDef,s=t.textFormatter,a=t.doesRowPassOtherFilter,l=t.suppressSorting,u=t.comparator,p=t.rowModel,h=t.valueGetter,d=t.values;this.column=t.column,this.colDef=i,this.formatter=s||c.cb.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=a,this.suppressSorting=l||!1,this.comparator=u||i.comparator||c.ib.defaultComparator,p.getType()===c.v.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new Iy(p,i,h)),null==d?this.valuesType=Oy.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(d)?Oy.PROVIDED_LIST:Oy.PROVIDED_CALLBACK,this.providedValues=d),this.updateAllValues().then((function(t){return o.resetSelectionState(t||[])}))}return t.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},t.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},t.prototype.refreshValues=function(t){void 0===t&&(t=!0);var e=this.getModel();return this.updateAllValues(),this.setModel(t?e:null)},t.prototype.overrideValues=function(t,e){var n=this;return void 0===e&&(e=!0),new c.g((function(r){n.allValuesPromise.then((function(){n.valuesType=Oy.PROVIDED_LIST,n.providedValues=t,n.refreshValues(e).then((function(){return r()}))}))}))},t.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then((function(e){return t.updateAvailableValues(e||[])})):c.g.resolve()},t.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new c.g((function(e){switch(t.valuesType){case Oy.TAKEN_FROM_GRID_VALUES:case Oy.PROVIDED_LIST:var n=t.valuesType===Oy.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):c.ib.toStrings(t.providedValues),r=t.sortValues(n||[]);t.allValues=r,e(r);break;case Oy.PROVIDED_CALLBACK:t.setIsLoading(!0);var o=t.providedValues,i={success:function(n){var r=c.ib.toStrings(n);t.setIsLoading(!1);var o=t.sortValues(r||[]);t.allValues=o,e(o)},colDef:t.colDef};window.setTimeout((function(){return o(i)}),0);break;default:throw new Error("Unrecognised valuesType")}})),this.allValuesPromise.then((function(e){return t.updateAvailableValues(e||[])})),this.allValuesPromise},t.prototype.setValuesType=function(t){this.valuesType=t},t.prototype.getValuesType=function(){return this.valuesType},t.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},t.prototype.showAvailableOnly=function(){return this.valuesType===Oy.TAKEN_FROM_GRID_VALUES&&!this.filterParams.suppressRemoveEntries},t.prototype.updateAvailableValues=function(e){var n=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):e;this.availableValues=c.ib.convertToSet(n),this.localEventService.dispatchEvent({type:t.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},t.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):c.ib.filter(t,(function(t){return null!=t})).sort(this.comparator).concat(null)},t.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues((function(n){return!t||e.doesRowPassOtherFilters(n)})):(console.error("ag-Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},t.prototype.setMiniFilter=function(t){return t=c.ib.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues(),!0)},t.prototype.getMiniFilter=function(){return this.miniFilterText},t.prototype.updateDisplayedValues=function(){var t=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=(this.formatter(this.miniFilterText)||"").toUpperCase(),n=function(t){return null!=t&&t.toUpperCase().indexOf(e)>=0};this.availableValues.forEach((function(e){if(null==e)t.filterParams.excelMode&&n(t.translate("blanks"))&&t.displayedValues.push(e);else{var r=t.formatter(e),o=t.valueFormatterService.formatValue(t.column,null,null,r,t.filterParams.valueFormatter,!1);(n(r)||n(o))&&t.displayedValues.push(e)}}))}else this.displayedValues=c.ib.values(this.availableValues)},t.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},t.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},t.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},t.prototype.getUniqueValueCount=function(){return this.allValues.length},t.prototype.getUniqueValue=function(t){return this.allValues[t]},t.prototype.getValues=function(){return this.allValues.slice()},t.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedValues=c.ib.convertToSet(this.allValues):(t&&this.selectedValues.clear(),c.ib.forEach(this.displayedValues,(function(t){return e.selectedValues.add(t)})))},t.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedValues.clear():c.ib.forEach(this.displayedValues,(function(e){return t.selectedValues.delete(e)}))},t.prototype.selectValue=function(t){this.selectedValues.add(t)},t.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},t.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},t.prototype.isEverythingVisibleSelected=function(){var t=this;return c.ib.filter(this.displayedValues,(function(e){return t.isValueSelected(e)})).length===this.displayedValues.length},t.prototype.isNothingVisibleSelected=function(){var t=this;return 0===c.ib.filter(this.displayedValues,(function(e){return t.isValueSelected(e)})).length},t.prototype.getModel=function(){return this.hasSelections()?c.ib.values(this.selectedValues):null},t.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then((function(n){if(null==t)e.resetSelectionState(n||[]);else{e.selectedValues.clear();var r=c.ib.convertToSet(n||[]);c.ib.forEach(t,(function(t){r.has(t)&&e.selectedValues.add(t)}))}}))},t.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=c.ib.convertToSet(t||[])},t.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",t}(),Qy=(qy=function(t,e){return(qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zy=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jy=function(t){function e(n,r,o,i){var s=t.call(this,e.TEMPLATE)||this;return s.value=n,s.params=r,s.translate=o,s.isSelected=i,s}return Qy(e,t),e.prototype.init=function(){var t=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.onValueChange((function(n){var r=n||!1;t.isSelected=r,t.dispatchEvent({type:e.EVENT_SELECTION_CHANGED,isSelected:r})}))},e.prototype.toggleSelected=function(){this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected)},e.prototype.render=function(){var t=this.params.column,e=this.value,n=null;if("function"==typeof e?e=e():n=this.getFormattedValue(this.params,t,e),this.params.showTooltips){var r=c.ib.escapeString(null!=n?n:e);this.setTooltip(null==r?void 0:r)}var o={value:e,valueFormatted:n,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};this.renderCell(o)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},e.prototype.getFormattedValue=function(t,e,n){return this.valueFormatterService.formatValue(e,null,null,n,t&&t.valueFormatter,!1)},e.prototype.renderCell=function(t){var e=this,n=this.userComponentFactory.newSetFilterCellRenderer(this.params,t);if(null!=n)n.then((function(t){t&&(e.eCheckbox.setLabel(t.getGui()),e.addDestroyFunc((function(){return e.destroyBean(t)})))}));else{var r=null==t.valueFormatted?t.value:t.valueFormatted;this.eCheckbox.setLabel(null==r?this.translate("blanks"):r)}},e.prototype.getComponentHolder=function(){return this.params.column.getColDef()},e.EVENT_SELECTION_CHANGED="selectionChanged",e.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',Zy([Object(c.k)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Zy([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Zy([Object(c.V)("eCheckbox")],e.prototype,"eCheckbox",void 0),Zy([c.Q],e.prototype,"init",null),e}(c.t),$y={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},tv=(Yy=function(t,e){return(Yy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ev=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},nv=function(t){function e(){var e=t.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.appliedModelValues=null,e}return tv(e,t),e.prototype.updateUiVisibility=function(){},e.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},e.prototype.handleKeyDown=function(t){if(!t.defaultPrevented)switch(t.which||t.keyCode){case c.G.SPACE:this.handleKeySpace(t);break;case c.G.ENTER:this.handleKeyEnter(t)}},e.prototype.handleKeySpace=function(t){if(this.eSetFilterList.contains(document.activeElement)&&this.virtualList){var e=this.virtualList.getLastFocusedRow();if(null!=e){var n=this.virtualList.getComponentAt(e);n&&(t.preventDefault(),n.toggleSelected())}}},e.prototype.handleKeyEnter=function(t){this.setFilterParams&&this.setFilterParams.excelMode&&(t.preventDefault(),this.onBtApply(!1,!1,t),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())},e.prototype.getCssIdentifier=function(){return"set-filter"},e.prototype.setModelAndRefresh=function(t){var e=this;return this.valueModel?this.valueModel.setModel(t).then((function(){return e.refresh()})):c.g.resolve()},e.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},e.prototype.setModelIntoUi=function(t){return this.setMiniFilter(null),t instanceof Array&&c.ib.doOnce((function(){return console.warn("ag-Grid: The Set Filter Model is no longer an array and models as arrays are deprecated. Please check the docs on what the set filter model looks like. Future versions of ag-Grid will have the array version of the model removed.")}),"setFilter.modelAsArray"),this.setModelAndRefresh(null==t?null:t instanceof Array?t:t.values)},e.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.valueModel.getModel();return t?this.gridOptionsWrapper.isEnableOldSetFilterModel()?t:{values:t,filterType:this.getFilterType()}:null},e.prototype.getModel=function(){return t.prototype.getModel.call(this)},e.prototype.getFilterType=function(){return"set"},e.prototype.getValueModel=function(){return this.valueModel},e.prototype.areModelsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&c.ib.areEqual(t.values,e.values)},e.prototype.setParams=function(e){var n=this;this.applyExcelModeOptions(e),t.prototype.setParams.call(this,e),this.checkSetFilterDeprecatedParams(e),this.setFilterParams=e,this.valueModel=new Xy(e,(function(t){return n.showOrHideLoadingScreen(t)}),this.valueFormatterService,(function(t){return n.translateForSetFilter(t)})),this.initialiseFilterBodyUi(),e.rowModel.getType()!==c.v.ROW_MODEL_TYPE_CLIENT_SIDE||e.values||e.suppressSyncValuesAfterDataChange||this.addEventListenersForDataChanges()},e.prototype.applyExcelModeOptions=function(t){"windows"===t.excelMode?(t.buttons||(t.buttons=["apply","cancel"]),null==t.closeOnApply&&(t.closeOnApply=!0)):"mac"===t.excelMode&&(t.buttons||(t.buttons=["reset"]),null==t.applyMiniFilterWhileTyping&&(t.applyMiniFilterWhileTyping=!0),null==t.debounceMs&&(t.debounceMs=500))},e.prototype.checkSetFilterDeprecatedParams=function(t){t.syncValuesLikeExcel&&c.ib.doOnce((function(){return console.warn("ag-Grid: since version 22.x, the Set Filter param syncValuesLikeExcel is no longer used as this is the default behaviour. To turn this default behaviour off, use the param suppressSyncValuesAfterDataChange")}),"syncValuesLikeExcel deprecated"),t.selectAllOnMiniFilter&&c.ib.doOnce((function(){return console.warn("ag-Grid: since version 22.x, the Set Filter param selectAllOnMiniFilter is no longer used as this is the default behaviour.")}),"selectAllOnMiniFilter deprecated"),t.suppressSyncValuesAfterDataChange&&c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.1, the Set Filter param suppressSyncValuesAfterDataChange has been deprecated and will be removed in a future major release.")}),"suppressSyncValuesAfterDataChange deprecated"),t.suppressRemoveEntries&&c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.1, the Set Filter param suppressRemoveEntries has been deprecated and will be removed in a future major release.")}),"suppressRemoveEntries deprecated")},e.prototype.addEventListenersForDataChanges=function(){var t=this;this.addManagedListener(this.eventService,c.A.EVENT_ROW_DATA_UPDATED,(function(){return t.syncAfterDataChange()})),this.addManagedListener(this.eventService,c.A.EVENT_CELL_VALUE_CHANGED,(function(e){t.setFilterParams&&e.column===t.setFilterParams.column&&t.syncAfterDataChange()}))},e.prototype.syncAfterDataChange=function(t,e){var n=this;if(void 0===t&&(t=!0),void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var r=c.g.resolve();return t?r=this.valueModel.refreshValues(e):e||(r=this.valueModel.setModel(null)),r.then((function(){n.refresh(),n.onBtApply(!1,!0)}))},e.prototype.setLoading=function(t){c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, setLoading has been deprecated. The loading screen is displayed automatically when the set filter is retrieving values.")}),"setFilter.setLoading"),this.showOrHideLoadingScreen(t)},e.prototype.showOrHideLoadingScreen=function(t){c.ib.setDisplayed(this.eFilterLoading,t)},e.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},e.prototype.initVirtualList=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.virtualList=this.createBean(new c.hb("filter")),n=this.getRefElement("eSetFilterList");n&&n.appendChild(e.getGui());var r,o=this.setFilterParams.cellHeight;null!=o&&e.setRowHeight(o),e.setComponentCreator((function(e){return t.createSetListItem(e)})),r=this.setFilterParams.suppressSelectAll?new rv(this.valueModel):new ov(this.valueModel,(function(){return t.isSelectAllSelected()})),e.setModel(r)},e.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(t)},e.prototype.createSetListItem=function(t){var n,r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return t===e.SELECT_ALL_VALUE?((n=this.createBean(new Jy((function(){return r.getSelectAllLabel()}),this.setFilterParams,(function(t){return r.translateForSetFilter(t)}),this.isSelectAllSelected()))).addEventListener(Jy.EVENT_SELECTION_CHANGED,(function(t){return r.onSelectAll(t.isSelected)})),n):((n=this.createBean(new Jy(t,this.setFilterParams,(function(t){return r.translateForSetFilter(t)}),this.valueModel.isValueSelected(t)))).addEventListener(Jy.EVENT_SELECTION_CHANGED,(function(e){return r.onItemSelected(t,e.isSelected)})),n)},e.prototype.initMiniFilter=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter,n=this.gridOptionsWrapper.getLocaleTextFunc();c.ib.setDisplayed(e.getGui(),!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange((function(){return t.onMiniFilterInput()})),e.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keypress",(function(e){return t.onMiniFilterKeyPress(e)}))},e.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");t.prototype.afterGuiAttached.call(this,e),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),e&&e.suppressFocus||n.getFocusableElement().focus()},e.prototype.applyModel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var e=t.prototype.applyModel.call(this);if(e){var n=this.getModel();this.appliedModelValues=n?c.ib.reduce(n.values,(function(t,e){return t[String(e)]=!0,t}),{}):null}return e},e.prototype.isModelValid=function(t){return!this.setFilterParams||!this.setFilterParams.excelMode||null==t||t.values.length>0},e.prototype.doesFilterPass=function(t){var e=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var n=this.setFilterParams,r=n.colDef.keyCreator,o=(0,n.valueGetter)(t.node);return r&&(o=r({value:o})),o=c.ib.makeNull(o),Array.isArray(o)?c.ib.some(o,(function(t){return!0===e.appliedModelValues[c.ib.makeNull(t)]})):!0===this.appliedModelValues[o]},e.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.valueModel.getValuesType(),e=this.isNewRowsActionKeep();this.syncAfterDataChange(t===Oy.TAKEN_FROM_GRID_VALUES,e)},e.prototype.setFilterValues=function(t){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(t,this.isNewRowsActionKeep()).then((function(){e.refresh(),e.onUiChanged()}))},e.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Oy.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0,this.isNewRowsActionKeep())},e.prototype.refreshFilterValues=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.refreshValues().then((function(){t.refresh(),t.onUiChanged()}))},e.prototype.onAnyFilterChanged=function(){var t=this;setTimeout((function(){if(!t.valueModel)throw new Error("Value model has not been created.");t.valueModel.refreshAfterAnyFilterChanged().then((function(){return t.refresh()}))}),0)},e.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setMiniFilter(this.eMiniFilter.getValue())&&(this.setFilterParams.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange())},e.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode?null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()):this.refresh(),this.showOrHideResults()},e.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;c.ib.setDisplayed(this.eNoMatches,t),c.ib.setDisplayed(this.eSetFilterList,!t)},e.prototype.resetUiToActiveModel=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then((function(){return t.onUiChanged(!1,"prevent")}))},e.prototype.onMiniFilterKeyPress=function(t){!c.ib.isKeyPressed(t,c.G.ENTER)||this.setFilterParams&&this.setFilterParams.excelMode||this.filterOnAllVisibleValues()},e.prototype.filterOnAllVisibleValues=function(t){if(void 0===t&&(t=!0),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,t?"immediately":"debounce"),this.showOrHideResults()},e.prototype.focusRowIfAlive=function(t){var e=this;null!=t&&window.setTimeout((function(){if(!e.virtualList)throw new Error("Virtual list has not been created.");e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.onSelectAll=function(t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var e=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(e)},e.prototype.onItemSelected=function(t,e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectValue(t):this.valueModel.deselectValue(t);var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},e.prototype.setMiniFilter=function(t){this.eMiniFilter.setValue(t),this.onMiniFilterInput()},e.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},e.prototype.selectEverything=function(){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, selectEverything has been deprecated. Please use setModel instead.")}),"setFilter.selectEverything"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectAllMatchingMiniFilter(),this.refresh()},e.prototype.selectNothing=function(){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, selectNothing has been deprecated. Please use setModel instead.")}),"setFilter.selectNothing"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.deselectAllMatchingMiniFilter(),this.refresh()},e.prototype.unselectValue=function(t){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, unselectValue has been deprecated. Please use setModel instead.")}),"setFilter.unselectValue"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.deselectValue(t),this.refresh()},e.prototype.selectValue=function(t){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, selectValue has been deprecated. Please use setModel instead.")}),"setFilter.selectValue"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectValue(t),this.refresh()},e.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},e.prototype.isValueSelected=function(t){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, isValueSelected has been deprecated. Please use getModel instead.")}),"setFilter.isValueSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isValueSelected(t)},e.prototype.isEverythingSelected=function(){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, isEverythingSelected has been deprecated. Please use getModel instead.")}),"setFilter.isEverythingSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isEverythingVisibleSelected()},e.prototype.isNothingSelected=function(){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, isNothingSelected has been deprecated. Please use getModel instead.")}),"setFilter.isNothingSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isNothingVisibleSelected()},e.prototype.getUniqueValueCount=function(){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, getUniqueValueCount has been deprecated. Please use getValues instead.")}),"setFilter.getUniqueValueCount"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.getUniqueValueCount()},e.prototype.getUniqueValue=function(t){if(c.ib.doOnce((function(){return console.warn("ag-Grid: since version 23.2, getUniqueValue has been deprecated. Please use getValues instead.")}),"setFilter.getUniqueValue"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.getUniqueValue(t)},e.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},e.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},e.prototype.translateForSetFilter=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,$y[t])},e.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}return!1},e.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),t.prototype.destroy.call(this)},e.SELECT_ALL_VALUE="__AG_SELECT_ALL__",ev([Object(c.V)("eMiniFilter")],e.prototype,"eMiniFilter",void 0),ev([Object(c.V)("eFilterLoading")],e.prototype,"eFilterLoading",void 0),ev([Object(c.V)("eSetFilterList")],e.prototype,"eSetFilterList",void 0),ev([Object(c.V)("eFilterNoMatches")],e.prototype,"eNoMatches",void 0),ev([Object(c.k)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),e}(c.T),rv=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},t.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},t.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},t}(),ov=function(){function t(t,e){this.model=t,this.isSelectAllSelected=e}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},t.prototype.getRow=function(t){return 0===t?nv.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},t.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t-1))},t}(),iv=(Ky=function(t,e){return(Ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ky(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},av=function(t){function e(){var e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return iv(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this.columnController.getDisplayNameForColumn(t.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.showParentFilter()})),this.params=t},e.prototype.onParentModelChanged=function(t){this.lastKnownModel=t,this.updateFloatingFilterText()},e.prototype.addAvailableValuesListener=function(){var t=this;this.params.parentFilterInstance((function(e){var n=e.getValueModel();n&&t.addManagedListener(n,Xy.EVENT_AVAILABLE_VALUES_CHANGED,(function(){return t.updateFloatingFilterText()}))})),this.availableValuesListenerAdded=!0},e.prototype.updateFloatingFilterText=function(){var t=this;if(this.lastKnownModel){this.availableValuesListenerAdded||this.addAvailableValuesListener();var e=this.lastKnownModel instanceof Array?this.lastKnownModel:this.lastKnownModel.values;e?this.params.parentFilterInstance((function(n){var r=n.getValueModel();if(r){var o=c.ib.filter(e,(function(t){return r.isValueAvailable(t)})),i=t.gridOptionsWrapper.getLocaleTextFunc(),s=c.ib.map(o,(function(e){var n=t.params,r=t.valueFormatterService.formatValue(n.column,null,null,e,n.filterParams.valueFormatter,!1),o=null!=r?r:e;return null==o?i("blanks",$y.blanks):o})),a=s.length>10?s.slice(0,10).concat("..."):s,l="("+s.length+") "+a.join(",");t.eFloatingFilterText.setValue(l)}})):this.eFloatingFilterText.setValue("")}else this.eFloatingFilterText.setValue("")},sv([Object(c.V)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),sv([Object(c.k)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),sv([Object(c.k)("columnController")],e.prototype,"columnController",void 0),e}(c.t),lv={moduleName:c.K.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:nv},{componentName:"agSetColumnFloatingFilter",componentClass:av}],dependantModules:[b]},uv=(Uy=function(t,e){return(Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cv=function(t){function e(){var e=t.call(this)||this;return e.allComponents={},e}return uv(e,t),e.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},e.prototype.getStatusPanel=function(t){return this.allComponents[t]},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Object(c.m)("statusBarService")],e)}(c.n),pv=(zy=function(t,e){return(zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dv=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return pv(e,t),e.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var t=this.gridOptions.statusBar.statusPanels.filter((function(t){return"left"===t.align}));this.createAndRenderComponents(t,this.eStatusBarLeft);var e=this.gridOptions.statusBar.statusPanels.filter((function(t){return"center"===t.align}));this.createAndRenderComponents(e,this.eStatusBarCenter);var n=this.gridOptions.statusBar.statusPanels.filter((function(t){return!t.align||"right"===t.align}));this.createAndRenderComponents(n,this.eStatusBarRight)}else this.setDisplayed(!1)},e.prototype.createAndRenderComponents=function(t,e){var n=this,r=[];t.forEach((function(t){var e={api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()},o=n.userComponentFactory.newStatusPanelComponent(t,e);r.push({key:t.key||t.statusPanel,promise:o})})),c.g.all(r.map((function(t){return t.promise}))).then((function(){r.forEach((function(t){t.promise.then((function(r){var o=function(){n.getContext().destroyBean(r)};n.isAlive()?(n.statusBarService.registerStatusPanel(t.key,r),e.appendChild(r.getGui()),n.addDestroyFunc(o)):o()}))}))}))},e.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right"></div>\n        </div>',hv([Object(c.k)("gridOptions")],e.prototype,"gridOptions",void 0),hv([Object(c.k)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),hv([Object(c.k)("statusBarService")],e.prototype,"statusBarService",void 0),hv([Object(c.V)("eStatusBarLeft")],e.prototype,"eStatusBarLeft",void 0),hv([Object(c.V)("eStatusBarCenter")],e.prototype,"eStatusBarCenter",void 0),hv([Object(c.V)("eStatusBarRight")],e.prototype,"eStatusBarRight",void 0),hv([c.Q],e.prototype,"postConstruct",null),e}(c.t),fv=(Hy=function(t,e){return(Hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yv=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return fv(e,t),e.prototype.setLabel=function(t,e){this.setDisplayed(!1);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=n(t,e)},e.prototype.setValue=function(t){this.eValue.innerHTML=t},e.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',gv([Object(c.V)("eLabel")],e.prototype,"eLabel",void 0),gv([Object(c.V)("eValue")],e.prototype,"eValue",void 0),e}(c.t),vv=(By=function(t,e){return(By=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}By(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vv(e,t),e.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,c.A.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("ag-Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=c.ib.formatNumberCommas(this.getFilteredRowCountValue()),e=c.ib.formatNumberCommas(this.getTotalRowCount());if(t===e)this.setValue(t);else{var n=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(t+" "+n("of","of")+" "+e)}},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||t++})),t},e.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode((function(e){e.group||t++})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},mv([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),mv([c.Q],e.prototype,"postConstruct",null),e}(yv),bv=(Wy=function(t,e){return(Wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bv(e,t),e.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,c.A.EVENT_MODEL_UPDATED,t)}else console.warn("ag-Grid: agFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),e=this.getFilteredRowCountValue();this.setValue(c.ib.formatNumberCommas(e)),this.setDisplayed(t!==e)},e.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode((function(e){return t+=1})),t},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||(t+=1)})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},wv([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),wv([c.Q],e.prototype,"postConstruct",null),e}(yv),Ov=(Vy=function(t,e){return(Vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ev=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ov(e,t),e.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,c.A.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("ag-Grid: agTotalRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){this.setValue(c.ib.formatNumberCommas(this.getRowCountValue()))},e.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode((function(e){return t+=1})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},Ev([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Ev([c.Q],e.prototype,"postConstruct",null),e}(yv),Pv=(Gy=function(t,e){return(Gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pv(e,t),e.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var t=this.gridApi.getSelectedRows().length;this.setValue(c.ib.formatNumberCommas(t)),this.setDisplayed(t>0);var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,c.A.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,c.A.EVENT_SELECTION_CHANGED,e)}else console.warn("ag-Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.onRowSelectionChanged=function(){var t=this.gridApi.getSelectedRows().length;this.setValue(c.ib.formatNumberCommas(t)),this.setDisplayed(t>0)},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},Tv([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Tv([c.Q],e.prototype,"postConstruct",null),e}(yv),kv=(jy=function(t,e){return(jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Av=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dv=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return kv(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("average","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,c.A.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,c.A.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("ag-Grid: agAggregationComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.init=function(){},e.prototype.setAggregationComponentValue=function(t,e,n){var r=this.getAggregationValueComponent(t);c.ib.exists(r)&&r&&(r.setValue(c.ib.formatNumberTwoDecimalPlacesAndCommas(e)),r.setDisplayed(n))},e.prototype.getAggregationValueComponent=function(t){var e=t+"AggregationComp",n=null,r=c.ib.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?c.ib.find(this.gridOptions.statusBar.statusPanels,(function(t){return"agAggregationComponent"===t.statusPanel})):null;return c.ib.exists(r)&&r?(!c.ib.exists(r.statusPanelParams)||c.ib.exists(r.statusPanelParams)&&c.ib.exists(r.statusPanelParams.aggFuncs)&&c.ib.exists(c.ib.find(r.statusPanelParams.aggFuncs,(function(e){return e===t}))))&&(n=this[e]):n=this[e],n},e.prototype.onRangeSelectionChanged=function(){var t=this,e=this.rangeController?this.rangeController.getCellRanges():void 0,n=0,r=0,o=0,i=null,s=null,a={};e&&!c.ib.missingOrEmpty(e)&&e.forEach((function(e){for(var l=t.rangeController.getRangeStartRow(e),u=t.rangeController.getRangeEndRow(e);!c.ib.missing(l)&&l&&!t.rowPositionUtils.before(u,l)&&l&&e.columns;)e.columns.forEach((function(e){if(null!==l){var u=t.cellPositionUtils.createId({rowPinned:l.rowPinned,column:e,rowIndex:l.rowIndex});if(!a[u]){a[u]=!0;var p=t.rowRenderer.getRowNode(l);if(!c.ib.missing(p)){var h=t.valueService.getValue(e,p);c.ib.missing(h)||""===h||(h.value&&(h=h.value),"string"==typeof h&&(h=Number(h)),"number"!=typeof h||isNaN(h)||(n+=h,(null===s||h>s)&&(s=h),(null===i||h<i)&&(i=h),o++),r++)}}}})),l=t.cellNavigationService.getRowBelow(l)}));var l=o>1;this.setAggregationComponentValue("count",r,r>1),this.setAggregationComponentValue("sum",n,l),this.setAggregationComponentValue("min",i,l),this.setAggregationComponentValue("max",s,l),this.setAggregationComponentValue("avg",n/o,l)},e.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Av([Object(c.N)("rangeController")],e.prototype,"rangeController",void 0),Av([Object(c.k)("valueService")],e.prototype,"valueService",void 0),Av([Object(c.k)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Av([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),Av([Object(c.k)("gridOptions")],e.prototype,"gridOptions",void 0),Av([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Av([Object(c.k)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Av([Object(c.k)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Av([Object(c.V)("sumAggregationComp")],e.prototype,"sumAggregationComp",void 0),Av([Object(c.V)("countAggregationComp")],e.prototype,"countAggregationComp",void 0),Av([Object(c.V)("minAggregationComp")],e.prototype,"minAggregationComp",void 0),Av([Object(c.V)("maxAggregationComp")],e.prototype,"maxAggregationComp",void 0),Av([Object(c.V)("avgAggregationComp")],e.prototype,"avgAggregationComp",void 0),Av([c.Q],e.prototype,"postConstruct",null),e}(c.t),xv={moduleName:c.K.StatusBarModule,beans:[cv],agStackComponents:[{componentName:"AgStatusBar",componentClass:dv},{componentName:"AgNameValue",componentClass:yv}],userComponents:[{componentName:"agAggregationComponent",componentClass:Dv},{componentName:"agSelectedRowCountComponent",componentClass:Rv},{componentName:"agTotalRowCountComponent",componentClass:Sv},{componentName:"agFilteredRowCountComponent",componentClass:_v},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:Cv}],dependantModules:[b]},Nv=(Ly=function(t,e){return(Ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ly(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Iv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return Nv(e,t),e.prototype.ensureRowHeightsValid=function(t,e,n,r){return!1},e.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,c.A.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},e.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},e.prototype.calculateFirstRow=function(t){var e=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),r=t-e;return r<0?0:Math.floor(r/n)*n},e.prototype.calculateLastRow=function(t){if(-1===t)return t;var e=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),r=Math.ceil((t+e)/n)*n;return Math.min(r,this.rowCount-1)},e.prototype.onViewportChanged=function(t){var e=this.calculateFirstRow(t.firstRow),n=this.calculateLastRow(t.lastRow);this.firstRow===e&&this.lastRow===n||(this.firstRow=e,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},e.prototype.purgeRowsNotInViewport=function(){var t=this;Object.keys(this.rowNodesByIndex).forEach((function(e){var n=parseInt(e,10);(n<t.firstRow||n>t.lastRow)&&delete t.rowNodesByIndex[n]}))},e.prototype.setViewportDatasource=function(t){this.destroyDatasource(),this.viewportDatasource=t,this.rowCount=0,t.init?t.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("ag-Grid: viewport is missing init method.")},e.prototype.getType=function(){return c.v.ROW_MODEL_TYPE_VIEWPORT},e.prototype.getRow=function(t){return this.rowNodesByIndex[t]||(this.rowNodesByIndex[t]=this.createBlankRowNode(t)),this.rowNodesByIndex[t]},e.prototype.getRowNode=function(t){var e=null;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowIndexAtPixel=function(t){return 0!==this.rowHeight?Math.floor(t/this.rowHeight):0},e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.isEmpty=function(){return this.rowCount>0},e.prototype.isRowsToRender=function(){return this.rowCount>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n=c.ib.missing(t)?0:t.rowIndex,r=e.rowIndex;if(n<this.firstRow||n>this.lastRow||r<this.firstRow||r>this.lastRow)return[];for(var o=[],i=n<=r?r:n,s=n<=r?n:r;s<=i;s++)o.push(this.rowNodesByIndex[s]);return o},e.prototype.forEachNode=function(t){var e=this,n=0;Object.keys(this.rowNodesByIndex).forEach((function(r){var o=parseInt(r,10);t(e.rowNodesByIndex[o],n),n++}))},e.prototype.setRowData=function(t){var e=this;c.ib.iterateObject(t,(function(t,n){var r=parseInt(t,10);if(r>=e.firstRow&&r<=e.lastRow){var o=e.rowNodesByIndex[r];c.ib.missing(o)&&(o=e.createBlankRowNode(r),e.rowNodesByIndex[r]=o),o.setDataAndId(n,r.toString())}}))},e.prototype.createBlankRowNode=function(t){var e=new c.W;return this.createBean(e),e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*t),e.setRowIndex(t),e},e.prototype.setRowCount=function(t,e){void 0===e&&(e=!1),t!==this.rowCount&&(this.rowCount=t,this.eventService.dispatchEvent({type:c.A.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:e,animate:!1}))},e.prototype.isRowPresent=function(t){return!1},Iv([Object(c.k)("gridApi")],e.prototype,"gridApi",void 0),Iv([Object(c.k)("columnApi")],e.prototype,"columnApi",void 0),Iv([Object(c.k)("rowRenderer")],e.prototype,"rowRenderer",void 0),Iv([c.Q],e.prototype,"init",null),Iv([c.S],e.prototype,"destroyDatasource",null),Iv([Object(c.m)("rowModel")],e)}(c.n),Mv={moduleName:c.K.ViewportRowModelModule,rowModels:{viewport:Fv},dependantModules:[b]},Lv={startOfPeriod:function(t,e){return new Date(t.getFullYear(),t.getMonth()+e,1)},roundToValue:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},valueInPeriod:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},periodLength:function(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},entryLabel:function(t){return new Intl.DateTimeFormat("default",{day:"numeric"}).format(t)},columnCount:function(){return 7},columnForValue:function(t){return(t.getDay()+6)%7},columnTitle:function(t){return new Intl.DateTimeFormat("default",{weekday:"narrow"}).format(t)}},jv=function(){function t(t){void 0===t&&(t=Lv),this.options=t}return t.prototype.getPage=function(t,e){for(var n=this.options,r=[],o=n.startOfPeriod(t,e),i=n.columnCount(o),s=Gv(n.columnForValue(o),i),a=n.periodLength(o),l=n.valueInPeriod(o,a-1),u=a-1+(i-(Gv(n.columnForValue(l),i)+1)),c=-s;c<=u;c++){var p=n.valueInPeriod(o,c);r.push({value:p,label:n.entryLabel(p),isPadding:c<0||c>=a})}var h=Array(n.columnCount(o)).fill(null).map((function(t,e){return{label:n.columnTitle(r[e].value)}})),d=new Intl.DateTimeFormat("default",{month:"long",year:"numeric"});return{entries:Vv(r,h.length),columns:h,title:d.format(o)}},t.prototype.roundToValue=function(t){return this.options.roundToValue(t)},t}(),Gv=function(t,e){return(t%e+e)%e},Vv=function(t,e){var n=[];return t.forEach((function(t,r){var o=Math.floor(r/e);n[o]=n[o]||[],n[o].push(t)})),n},Wv=(My=function(t,e){return(My=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}My(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bv=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hv=function(t){function e(e){var n=t.call(this)||this;return n.currentPageNumber=0,n.model=new jv,n.columnLabels=[],n.rowComps=[],n.onValueSelect=e.onValueSelect,n.initialValue=n.model.roundToValue(e.initialValue||new Date),n}return Wv(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE),this.addManagedListener(this.ePrevPageButton,"click",this.navigatePage.bind(this,-1)),this.addManagedListener(this.eNextPageButton,"click",this.navigatePage.bind(this,1)),this.addManagedListener(this.getGui(),"focus",this.handleFocusChange.bind(this,!0)),this.addManagedListener(this.getGui(),"blur",this.handleFocusChange.bind(this,!1)),this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this)),this.showPage(0)},e.prototype.focus=function(){this.getGui().focus(),this.handleFocusChange(!0)},e.prototype.showPage=function(t){var e=this;this.currentPageNumber=t;var n=this.model.getPage(this.initialValue,t);this.eTitle.textContent=n.title,n.entries.forEach((function(t,n){return e.getRowComp(n).setEntries(t)})),this.rowComps.forEach((function(t,e){return t.setDisplayed(e<n.entries.length)})),n.columns.forEach((function(t,n){return e.getColumnLabel(n).textContent=t.label})),this.columnLabels.forEach((function(t,e){return c.ib.setDisplayed(t,e<n.columns.length)}))},e.prototype.getRowComp=function(t){if(!this.rowComps[t]){var e=new zv(this.onValueSelect);this.appendChild(e,this.eEntriesTable),this.rowComps[t]=e}return this.rowComps[t]},e.prototype.getColumnLabel=function(t){if(!this.columnLabels[t]){var e=c.ib.loadTemplate('<div class="ag-date-time-list-page-column-label"></div>');this.appendChild(e,this.eLabelsRow),this.columnLabels[t]=e}return this.columnLabels[t]},e.prototype.handleKeyDown=function(t){t.preventDefault(),"ArrowUp"===t.key&&this.navigateCurrentCell(0,-1),"ArrowDown"===t.key&&this.navigateCurrentCell(0,1),"ArrowLeft"===t.key&&this.navigateCurrentCell(-1,0),"ArrowRight"===t.key&&this.navigateCurrentCell(1,0)},e.prototype.handleFocusChange=function(t){c.ib.addOrRemoveCssClass(this.getGui(),"ag-has-focus",t)},e.prototype.navigatePage=function(t){this.showPage(this.currentPageNumber+t)},e.prototype.navigateCurrentCell=function(t,e){throw new Error("not implemented")},e.TEMPLATE='<div class="ag-date-time-list" tabindex="-1">\n            <div class="ag-date-time-list-page">\n                <div class="ag-date-time-list-page-title-bar">\n                    <button ref="ePrevPageButton" class="ag-date-time-list-page-prev-button">&lt;</button>\n                    <div ref="eTitle" class="ag-date-time-list-page-title"></div>\n                    <button ref="eNextPageButton" class="ag-date-time-list-page-next-button">&gt;</button>\n                </div>\n                <div ref="eLabelsRow" class="ag-date-time-list-page-column-labels-row"></div>\n                <div ref="eEntriesTable" class="ag-date-time-list-page-entries"></div>\n            </div>\n        </div>\n    ',Bv([Object(c.V)("ePrevPageButton")],e.prototype,"ePrevPageButton",void 0),Bv([Object(c.V)("eTitle")],e.prototype,"eTitle",void 0),Bv([Object(c.V)("eNextPageButton")],e.prototype,"eNextPageButton",void 0),Bv([Object(c.V)("eLabelsRow")],e.prototype,"eLabelsRow",void 0),Bv([Object(c.V)("eEntriesTable")],e.prototype,"eEntriesTable",void 0),Bv([c.Q],e.prototype,"init",null),e}(c.t),zv=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.onValueSelect=n,r.entryComps=[],r}return Wv(e,t),e.prototype.setEntries=function(t,e){var n=this;t.forEach((function(t,r){return n.getEntryComponent(r).setEntry(t,e)})),this.entryComps.forEach((function(e,n){return e.setDisplayed(n<t.length)}))},e.prototype.setCurrentValue=function(t){this.entryComps.forEach((function(e){return e.setCurrentValue(t)}))},e.prototype.getEntryComponent=function(t){return this.entryComps[t]||(this.entryComps[t]=new Uv(this.onValueSelect),this.appendChild(this.entryComps[t])),this.entryComps[t]},e.TEMPLATE='<div class="ag-date-time-list-page-entries-row"></div>',e}(c.t),Uv=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.onValueSelect=n,r.addManagedListener(r.getGui(),"click",r.handleClick.bind(r)),r}return Wv(e,t),e.prototype.setEntry=function(t,e){e&&(this.currentValue=e),this.entry=t,this.getGui().textContent=t.label,c.ib.addOrRemoveCssClass(this.getGui(),"ag-date-time-list-page-entry-is-padding",!!t.isPadding),this.onDataChange()},e.prototype.setCurrentValue=function(t){this.currentValue=t,this.onDataChange()},e.prototype.handleClick=function(){this.onValueSelect(this.entry.value)},e.prototype.onDataChange=function(){c.ib.addOrRemoveCssClass(this.getGui(),"ag-date-time-list-page-entry-is-current",this.entry.value&&this.currentValue&&this.entry.value.getTime()===this.currentValue.getTime())},e.TEMPLATE='<div class="ag-date-time-list-page-entry"></div>',e}(c.t),Kv=(Fy=function(t,e){return(Fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yv=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.cancelled=!1,n}return Kv(e,t),e.prototype.init=function(t){this.params=t,this.originalValue=t.value;var e=t.valueToDate?t.valueToDate(t.value):new Date(t.value);if(isNaN(e.getTime())){var n=t.defaultDate;e=n?"function"==typeof n?n():n:new Date}this.editor=new Hv({onValueSelect:this.handleValueSelect.bind(this),initialValue:e}),this.createBean(this.editor),this.appendChild(this.editor)},e.prototype.afterGuiAttached=function(){this.editor.getGui().focus()},e.prototype.handleValueSelect=function(t){this.selectedDate=t,this.params.stopEditing()},e.prototype.isPopup=function(){return!0},e.prototype.getPopupPosition=function(){return"under"},e.prototype.isCancelAfterEnd=function(){return this.cancelled},e.prototype.getValue=function(){return this.params.dateToValue&&this.selectedDate?this.params.dateToValue(this.selectedDate):this.selectedDate||this.originalValue},e.TEMPLATE='<div class="ag-date-time-cell-editor" tabindex="-1"></div>',e}(c.P),qv=u.a.concat([S,Ve,Un,fr,cg,fg,Ig,Bg,ug,qg,pe,Ny,lv,Le,xv,Mv,{moduleName:c.K.DateTimeCellEditorModule,beans:[],userComponents:[{componentName:"agDateTimeCellEditor",componentClass:Yv}],dependantModules:[b]}])},cJ9h:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("mW0F"),o=n("pBDD"),i=n("r9RI"),s=n("YtkY"),l=n("GoAz");function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(c((function(n,r){return Object(l.a)(t(n,r)).pipe(Object(s.a)((function(t,o){return e(n,t,r,o)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new p(t,n))})}var p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))}}]),t}(),h=function(t){a(n,t);var e=u(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(o=e.call(this,t)).project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return y(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var o=new i.a(this,e,n),s=this.destination;s.add(o);var a=Object(r.a)(this,t,void 0,void 0,o);a!==o&&s.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,o){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.a)},cZZj:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return d}));var r,o=n("EM62"),i=n("2kYt");try{r="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(v){r=!1}var s,a,l,u,c=function(){var t=function t(e){f(this,t),this._platformId=e,this.isBrowser=this._platformId?Object(i.z)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.B))},t.\u0275prov=Object(o.Jb)({factory:function(){return new t(Object(o.Xb)(o.B))},token:t,providedIn:"root"}),t}(),p=function(){var t=function t(){f(this,t)};return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)}}),t}();function h(t){return function(){if(null==s&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return s=!0}}))}finally{s=s||!1}return s}()?t:!!t.capture}function d(){if(null==l)if("object"==typeof document&&document||(l=!1),"scrollBehavior"in document.documentElement.style)l=!0;else{var t=Element.prototype.scrollTo;l=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}return l}function g(){if("object"!=typeof document||!document)return 0;if(null==a){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),a=0,0===t.scrollLeft&&(t.scrollLeft=1,a=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return a}function y(t){if(function(){if(null==u){var t="undefined"!=typeof document?document.head:null;u=!(!t||!t.createShadowRoot&&!t.attachShadow)}return u}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}},ckkg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("IdLP"),o=n("dUuy"),i=n("czMQ");function s(t,e){return e?Object(i.a)(t,e):new r.a(Object(o.a)(t))}},czMQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("IdLP"),o=n("bwdy");function i(t,e){return new r.a((function(n){var r=new o.a,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},dUuy:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},duTG:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return O}));var r=n("D57K"),o=n("EM62"),i=n("UPS/"),s=n("UZJT"),a=n("7ucf"),l=n("JbzU"),u=n("ZTXN"),c=n("kuMc"),p=n("jIqt"),h=n("xVbo"),d=n("2kYt"),g=n("1spV"),v=n("ZTwM"),m=["nz-button",""];function C(t,e){1&t&&o.Ob(0,"i",1)}var b=["*"],w=function(){var t=function(){function t(e,n,r,o){var i=this;f(this,t),this.elementRef=e,this.cdr=n,this.renderer=r,this.nzConfigService=o,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.destroy$=new u.a,this.loading$=new u.a,this.elementRef.nativeElement.classList.add("ant-btn"),this.nzConfigService.getConfigChangeEventForComponent("button").pipe(Object(c.a)(this.destroy$)).subscribe((function(){i.cdr.markForCheck()}))}return y(t,[{key:"insertSpan",value:function(t,e){t.forEach((function(t){if("#text"===t.nodeName){var n=e.createElement("span"),r=e.parentNode(t);e.insertBefore(r,n,t),e.appendChild(n,t)}}))}},{key:"assertIconOnly",value:function(t,e){var n=Array.from(t.childNodes),r=n.filter((function(t){return"I"===t.nodeName})).length,o=n.every((function(t){return"#text"!==t.nodeName}));n.every((function(t){return"SPAN"!==t.nodeName}))&&o&&r>=1&&e.addClass(t,"ant-btn-icon-only")}},{key:"ngOnChanges",value:function(t){var e=t.nzLoading,n=t.nzType;e&&this.loading$.next(this.nzLoading),"danger"===(null==n?void 0:n.currentValue)&&Object(s.c)("'danger' value of 'nzType' in Button is going to be removed in 12.0.0. Please use 'nzDanger' instead.")}},{key:"ngAfterViewInit",value:function(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}},{key:"ngAfterContentInit",value:function(){var t=this;this.loading$.pipe(Object(p.a)(this.nzLoading),Object(h.a)((function(){return!!t.nzIconDirectiveElement})),Object(c.a)(this.destroy$)).subscribe((function(e){var n=t.nzIconDirectiveElement.nativeElement;e?t.renderer.setStyle(n,"display","none"):t.renderer.removeStyle(n,"display")}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Nb(o.l),o.Nb(o.h),o.Nb(o.E),o.Nb(i.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,e,n){var r;1&t&&o.Gb(n,l.a,!0,o.l),2&t&&o.qc(r=o.bc())&&(e.nzIconDirectiveElement=r.first)},hostVars:30,hostBindings:function(t,e){2&t&&(o.Ab("tabindex",e.disabled?-1:null===e.tabIndex?null:e.tabIndex)("disabled",e.disabled||null),o.Fb("ant-btn-primary","primary"===e.nzType)("ant-btn-dashed","dashed"===e.nzType)("ant-btn-link","link"===e.nzType)("ant-btn-text","text"===e.nzType)("ant-btn-danger","danger"===e.nzType)("ant-btn-circle","circle"===e.nzShape)("ant-btn-round","round"===e.nzShape)("ant-btn-lg","large"===e.nzSize)("ant-btn-sm","small"===e.nzSize)("ant-btn-dangerous",e.nzDanger)("ant-btn-loading",e.nzLoading)("ant-btn-background-ghost",e.nzGhost)("ant-btn-block",e.nzBlock)("ant-input-search-button",e.nzSearch))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[o.xb],attrs:m,ngContentSelectors:b,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,e){1&t&&(o.ic(),o.Bc(0,C,1,0,"i",0),o.hc(1)),2&t&&o.jc("ngIf",e.nzLoading)},directives:[d.n,l.a,g.a],encapsulation:2,changeDetection:0}),Object(r.b)([Object(a.a)(),Object(r.c)("design:type",Boolean)],t.prototype,"nzBlock",void 0),Object(r.b)([Object(a.a)(),Object(r.c)("design:type",Boolean)],t.prototype,"nzGhost",void 0),Object(r.b)([Object(a.a)(),Object(r.c)("design:type",Boolean)],t.prototype,"nzSearch",void 0),Object(r.b)([Object(a.a)(),Object(r.c)("design:type",Boolean)],t.prototype,"nzLoading",void 0),Object(r.b)([Object(a.a)(),Object(r.c)("design:type",Boolean)],t.prototype,"nzDanger",void 0),Object(r.b)([Object(a.a)(),Object(r.c)("design:type",Boolean)],t.prototype,"disabled",void 0),Object(r.b)([Object(i.b)(),Object(r.c)("design:type",String)],t.prototype,"nzSize",void 0),t}(),_=function(){var t=function t(e){f(this,t),this.elementRef=e,this.nzSize="default",this.elementRef.nativeElement.classList.add("ant-btn-group")};return t.\u0275fac=function(e){return new(e||t)(o.Nb(o.l))},t.\u0275cmp=o.Hb({type:t,selectors:[["nz-button-group"]],hostVars:4,hostBindings:function(t,e){2&t&&o.Fb("ant-btn-group-lg","large"===e.nzSize)("ant-btn-group-sm","small"===e.nzSize)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],ngContentSelectors:b,decls:1,vars:0,template:function(t,e){1&t&&(o.ic(),o.hc(0))},encapsulation:2,changeDetection:0}),t}(),O=function(){var t=function t(){f(this,t)};return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[d.b,v.b,l.b,g.b],g.b,v.b]}),t}()},e4iD:function(t,e,r){"use strict";r.d(e,"a",(function(){return B})),r.d(e,"b",(function(){return M})),r.d(e,"c",(function(){return V})),r.d(e,"d",(function(){return P}));var o,i=r("2kYt"),s=r("EM62"),l=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=c||(c=document.querySelector("base"))?c.getAttribute("href"):null;return null==n?null:(e=n,o||(o=document.createElement("a")),o.setAttribute("href",e),"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname)}},{key:"resetBaseElement",value:function(){c=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(i.D)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(i.E)(new n)}}]),n}(function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.call(this)}return y(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(i.A)),c=null,p=new s.q("TRANSITION_ID"),h=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then((function(){var n=Object(i.C)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[p,i.c,s.r],multi:!0}],g=function(){function t(){f(this,t)}return y(t,[{key:"addToWindow",value:function(t){s.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},s.ob.frameworkStabilizers||(s.ob.frameworkStabilizers=[]),s.ob.frameworkStabilizers.push((function(t){var e=s.ob.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Object(i.C)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.X)(new t)}}]),t}(),v=new s.q("EventManagerPlugins"),m=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return y(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Xb(v),s.Xb(s.z))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t}(),C=function(){function t(e){f(this,t),this._doc=e}return y(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Object(i.C)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),b=function(){var t=function(){function t(){f(this,t),this._stylesSet=new Set}return y(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t}(),w=function(){var t=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return y(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Object(i.C)().remove(t)}))}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(s.Xb(i.c))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t}(),_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=/%COMP%/g;function E(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?E(t,o,n):(o=o.replace(O,t),n.push(o))}return n}function S(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var P=function(){var t=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new T(e)}return y(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new R(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case s.Q.Native:case s.Q.ShadowDom:return new k(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=E(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Xb(m),s.Xb(w),s.Xb(s.c))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t}(),T=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return y(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(_[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var o=_[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=_[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&s.G.DashCase?t.style.setProperty(e,n,r&s.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,S(n)):this.eventManager.addEventListener(t,e,S(n))}}]),t}(),R=function(t){a(r,t);var e=u(r);function r(t,n,o,i){var s;f(this,r),(s=e.call(this,t)).component=o;var a,l=E(i+"-"+o.id,o.styles,[]);return n.addStyles(l),s.contentAttr="_ngcontent-%COMP%".replace(O,i+"-"+o.id),s.hostAttr=(a=i+"-"+o.id,"_nghost-%COMP%".replace(O,a)),s}return y(r,[{key:"applyToHost",value:function(t){n(d(r.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var o=n(d(r.prototype),"createElement",this).call(this,t,e);return n(d(r.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),r}(T),k=function(t){a(r,t);var e=u(r);function r(t,n,o,i){var a;f(this,r),(a=e.call(this,t)).sharedStylesHost=n,a.hostEl=o,a.component=i,a.shadowRoot=i.encapsulation===s.Q.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var l=E(i.id,i.styles,[]),u=0;u<l.length;u++){var c=document.createElement("style");c.textContent=l[u],a.shadowRoot.appendChild(c)}return a}return y(r,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return n(d(r.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,o){return n(d(r.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,o)}},{key:"removeChild",value:function(t,e){return n(d(r.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(n(d(r.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),r}(T),A=function(){var t=function(t){a(n,t);var e=u(n);function n(t){return f(this,n),e.call(this,t)}return y(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(C);return t.\u0275fac=function(e){return new(e||t)(s.Xb(i.c))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t}(),D=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},F=function(){var t=function(t){a(n,t);var e=u(n);function n(t){return f(this,n),e.call(this,t)}return y(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var o=n.parseEventName(e),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(i.C)().onAndCancel(t,o.domEventName,s)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var o=n._normalizeKey(e.pop()),i="";if(D.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")})),i+=o,0!=e.length||0===o.length)return null;var s={};return s.domEventName=r,s.fullKey=i,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&N.hasOwnProperty(e)&&(e=N[e]))}return x[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),D.forEach((function(r){r!=n&&(0,I[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(o){n.getEventFullKey(o)===t&&r.runGuarded((function(){return e(o)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(C);return t.\u0275fac=function(e){return new(e||t)(s.Xb(i.c))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t}(),M=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Jb)({factory:function(){return Object(s.Xb)(j)},token:t,providedIn:"root"}),t}();function L(t){return new j(t.get(i.c))}var j=function(){var t=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r}return y(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case s.I.NONE:return e;case s.I.HTML:return Object(s.db)(e,"HTML")?Object(s.vb)(e):Object(s.bb)(this._doc,String(e));case s.I.STYLE:return Object(s.db)(e,"Style")?Object(s.vb)(e):e;case s.I.SCRIPT:if(Object(s.db)(e,"Script"))return Object(s.vb)(e);throw new Error("unsafe value used in a script context");case s.I.URL:return Object(s.nb)(e),Object(s.db)(e,"URL")?Object(s.vb)(e):Object(s.cb)(String(e));case s.I.RESOURCE_URL:if(Object(s.db)(e,"ResourceURL"))return Object(s.vb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return Object(s.eb)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return Object(s.hb)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return Object(s.gb)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return Object(s.ib)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return Object(s.fb)(t)}}]),n}(M);return t.\u0275fac=function(e){return new(e||t)(s.Xb(i.c))},t.\u0275prov=Object(s.Jb)({factory:function(){return L(Object(s.Xb)(s.o))},token:t,providedIn:"root"}),t}(),G=[{provide:s.B,useValue:i.B},{provide:s.C,useValue:function(){l.makeCurrent(),g.init()},multi:!0},{provide:i.c,useFactory:function(){return Object(s.tb)(document),document},deps:[]}],V=Object(s.R)(s.W,"browser",G),W=[[],{provide:s.Z,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:v,useClass:A,multi:!0,deps:[i.c,s.z,s.B]},{provide:v,useClass:F,multi:!0,deps:[i.c]},[],{provide:P,useClass:P,deps:[m,w,s.c]},{provide:s.F,useExisting:P},{provide:b,useExisting:w},{provide:w,useClass:w,deps:[i.c]},{provide:s.M,useClass:s.M,deps:[s.z]},{provide:m,useClass:m,deps:[v,s.z]},[]],B=function(){var t=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return y(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:p,useExisting:s.c},h]}}}]),t}();return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)(s.Xb(t,12))},providers:W,imports:[i.b,s.f]}),t}();"undefined"!=typeof window&&window},"eY+9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"f7+R":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return s})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return C}));var r=function t(){f(this,t)},o=function t(){f(this,t)},i="*";function s(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function u(t){return{type:6,styles:t,offset:null}}function c(t,e,n){return{type:0,name:t,styles:e,options:n}}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}function d(t,e){return{type:12,timings:t,animation:e}}function g(t){Promise.resolve(null).then(t)}var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return y(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;g((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),m=function(){function t(e){var n=this;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,o=0,i=0,s=this.players.length;0==s?g((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++o==s&&n._onDestroy()})),t.onStart((function(){++i==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return y(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),C="!"},fAiE:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return o})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return v})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return m}));var r=8,o=9,i=13,s=27,a=32,l=35,u=36,c=37,p=38,h=39,d=40,f=48,g=57,y=65,v=90;function m(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},fbWu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("VxHp"),o=n("5uGe");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(e){return e.lift(new s(t))}}var s=function(){function t(e){f(this,t),this.errorFactory=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.errorFactory))}}]),t}(),l=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).errorFactory=r,o.hasValue=!1,o}return y(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(o.a);function c(){return new r.a}},g6G6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("IdLP"),o=n("gBlb"),i=n("3lSR"),s=n("ckkg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=Number.POSITIVE_INFINITY,l=null,u=e[e.length-1];return Object(o.a)(u)?(l=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(a=e.pop())):"number"==typeof u&&(a=e.pop()),null===l&&1===e.length&&e[0]instanceof r.a?e[0]:Object(i.a)(a)(Object(s.a)(e,l))}},gBlb:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},"i9P/":function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},i9xl:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("IdLP"),o=n("GoAz"),i=n("6Oco");function s(t){return new r.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(o.a)(n):Object(i.b)()).subscribe(e)}))}},iqFP:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5uGe");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new i(t))}}var i=function(){function t(e){f(this,t),this.defaultValue=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.defaultValue))}}]),t}(),s=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).defaultValue=r,o.isEmpty=!0,o}return y(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},"it/K":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("JuBR"),o=n("mrqE");function i(t){Object(o.a)(1,arguments);var e=Object(r.a)(t);return!isNaN(e)}},iy3P:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("K8Gv"),o=function(){function t(){f(this,t)}return y(t,[{key:"init",value:function(){return this}},{key:"assign",value:function(t,e){return Object.assign(this,t)}},{key:"saveBy",value:function(t){return t.setByKey("AppConfig",this),this}},{key:"getApiUrl",value:function(){var t=this[this.api_key];return console.log(t),t}},{key:"fixUrl",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=[].concat(e).filter((function(t){return!Object(r.l)(t)})).map((function(t){return t.endsWith("/")?t.substring(0,t.length-1):t}));return Object(r.n)(o[0])?o.join("/"):"".concat(this.getApiUrl(),"/").concat(o.join("/"))}},{key:"clear",value:function(t){}}],[{key:"readBy",value:function(t){return t.getAppConfig()}}]),t}()},jIqt:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("qZtG"),o=n("gBlb");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return Object(o.a)(i)?(e.pop(),function(t){return Object(r.a)(e,t,i)}):function(t){return Object(r.a)(e,t)}}},jOdJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("VxHp"),o=n("xVbo"),i=n("J+dc"),s=n("iqFP"),a=n("fbWu"),l=n("5E2i");function u(t,e){var n=arguments.length>=2;return function(u){return u.pipe(t?Object(o.a)((function(e,n){return t(e,n,u)})):l.a,Object(i.a)(1),n?Object(s.a)(e):Object(a.a)((function(){return new r.a})))}}},kZKz:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s}));var o=n("2kYt"),i=n("EM62"),s=function(){var t=function(){function t(e,n){f(this,t),this.viewContainer=e,this.templateRef=n,this.embeddedViewRef=null,this.context=new a,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}return y(t,[{key:"recreateView",value:function(){this.viewContainer.clear();var t=this.nzStringTemplateOutlet instanceof i.L;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}},{key:"updateContext",value:function(){var t=this.nzStringTemplateOutlet instanceof i.L?this.nzStringTemplateOutletContext:this.context,e=this.embeddedViewRef.context;if(t)for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e[o]=t[o]}}},{key:"ngOnChanges",value:function(t){var e=t.nzStringTemplateOutletContext,n=t.nzStringTemplateOutlet;n&&(this.context.$implicit=n.currentValue),function(){var t=!1;if(n)if(n.firstChange)t=!0;else{var o=n.currentValue instanceof i.L;t=n.previousValue instanceof i.L||o}return e&&function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var o,i=r(n);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(-1===e.indexOf(s))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}(e)||t}()?this.recreateView():this.updateContext()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.P),i.Nb(i.L))},t.\u0275dir=i.Ib({type:t,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[i.xb]}),t}(),a=function t(){f(this,t)},l=function(){var t=function t(){f(this,t)};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[o.b]]}),t}()},kuMc:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("pBDD"),o=n("mW0F");function i(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(e){f(this,t),this.notifier=e}return y(t,[{key:"call",value:function(t,e){var n=new l(t),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),l=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).seenValue=!1,r}return y(n,[{key:"notifyNext",value:function(t,e,n,r,o){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(r.a)},mW0F:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("r9RI"),o=n("1MAX"),i=n("IdLP");function s(t,e,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,s);if(!a.closed)return e instanceof i.a?e.subscribe(a):Object(o.a)(e)(a)}},mWib:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5uGe"),o=n("Efrr");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;return function(n){return n.lift(new s(t,e))}}var s=function(){function t(e,n){f(this,t),this.dueTime=e,this.scheduler=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.dueTime,this.scheduler))}}]),t}(),l=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t)).dueTime=r,i.scheduler=o,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return y(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(r.a);function c(t){t.debouncedNext()}},mawV:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("3lSR");function o(){return Object(r.a)(1)}},mrqE:function(t,e,n){"use strict";function r(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,"a",(function(){return r}))},nIj0:function(t,n,o){"use strict";o.d(n,"a",(function(){return Bt})),o.d(n,"b",(function(){return P})),o.d(n,"c",(function(){return E})),o.d(n,"d",(function(){return T})),o.d(n,"e",(function(){return Se})),o.d(n,"f",(function(){return se})),o.d(n,"g",(function(){return we})),o.d(n,"h",(function(){return le})),o.d(n,"i",(function(){return Pe})),o.d(n,"j",(function(){return _})),o.d(n,"k",(function(){return I})),o.d(n,"l",(function(){return M})),o.d(n,"m",(function(){return L})),o.d(n,"n",(function(){return qt})),o.d(n,"o",(function(){return ne})),o.d(n,"p",(function(){return nt})),o.d(n,"q",(function(){return Te})),o.d(n,"r",(function(){return Oe})),o.d(n,"s",(function(){return H})),o.d(n,"t",(function(){return re}));var i=o("EM62"),s=o("2kYt"),l=o("IdLP"),c=o("FU6l"),h=o("YtkY"),d=o("X0qr"),g=o("GoAz");function v(t,e){return new l.a((function(n){var r=t.length;if(0!==r)for(var o=new Array(r),i=0,s=0,a=function(a){var l=Object(g.a)(t[a]),u=!1;n.add(l.subscribe({next:function(t){u||(u=!0,s++),o[a]=t},error:function(t){return n.error(t)},complete:function(){++i!==r&&u||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=o[n],t}),{}):o),n.complete())}}))},l=0;l<r;l++)a(l);else n.complete()}))}var m,C,b,w,_=new i.q("NgValueAccessor"),O={provide:_,useExisting:Object(i.T)((function(){return E})),multi:!0},E=((m=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return y(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||m)(i.Nb(i.E),i.Nb(i.l))},m.\u0275dir=i.Ib({type:m,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[i.yb([O])]}),m),S={provide:_,useExisting:Object(i.T)((function(){return T})),multi:!0},P=new i.q("CompositionEventMode"),T=((w=function(){function t(e,n,r){var o;f(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(s.C)()?Object(s.C)().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return y(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||w)(i.Nb(i.E),i.Nb(i.l),i.Nb(P,8))},w.\u0275dir=i.Ib({type:w,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[i.yb([S])]}),w),R=((b=function(){function t(){f(this,t)}return y(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||b)},b.\u0275dir=i.Ib({type:b}),b),k=((C=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(R)).\u0275fac=function(t){return A(t||C)},C.\u0275dir=i.Ib({type:C,features:[i.wb]}),C),A=i.Vb(k);function D(){throw new Error("unimplemented")}var x,N,I=function(t){a(n,t);var e=u(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return y(n,[{key:"validator",get:function(){return D()}},{key:"asyncValidator",get:function(){return D()}}]),n}(R),F=function(){function t(e){f(this,t),this._cd=e}return y(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),M=((N=function(t){a(n,t);var e=u(n);function n(t){return f(this,n),e.call(this,t)}return n}(F)).\u0275fac=function(t){return new(t||N)(i.Nb(I,2))},N.\u0275dir=i.Ib({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Fb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.wb]}),N),L=((x=function(t){a(n,t);var e=u(n);function n(t){return f(this,n),e.call(this,t)}return n}(F)).\u0275fac=function(t){return new(t||x)(i.Nb(k,2))},x.\u0275dir=i.Ib({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Fb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.wb]}),x);function j(t){return null==t||0===t.length}function G(t){return null!=t&&"number"==typeof t.length}var V=new i.q("NgValidators"),W=new i.q("NgAsyncValidators"),B=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,H=function(){function t(){f(this,t)}return y(t,null,[{key:"min",value:function(t){return function(e){if(j(e.value)||j(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(j(e.value)||j(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return j(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return j(t.value)||B.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return j(e.value)||!G(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return G(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(j(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(z);return 0==e.length?null:function(t){return K(Y(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var n=t.filter(z);return 0==n.length?null:function(t){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(1===n.length){var o=n[0];if(Object(c.a)(o))return v(o,null);if(Object(d.a)(o)&&Object.getPrototypeOf(o)===Object.prototype){var i=Object.keys(o);return v(i.map((function(t){return o[t]})),i)}}if("function"==typeof n[n.length-1]){var s=n.pop();return v(n=1===n.length&&Object(c.a)(n[0])?n[0]:n,null).pipe(Object(h.a)((function(t){return s.apply(void 0,e(t))})))}return v(n,null)}(Y(t,n).map(U)).pipe(Object(h.a)(K))}}}]),t}();function z(t){return null!=t}function U(t){var e=Object(i.rb)(t)?Object(g.a)(t):t;if(!Object(i.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function K(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Y(t,e){return e.map((function(e){return e(t)}))}function q(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var X,Q,Z,J,$,tt,et={provide:_,useExisting:Object(i.T)((function(){return nt})),multi:!0},nt=((X=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return y(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||X)(i.Nb(i.E),i.Nb(i.l))},X.\u0275dir=i.Ib({type:X,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.ac("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.yb([et])]}),X),rt={provide:_,useExisting:Object(i.T)((function(){return it})),multi:!0},ot=((Z=function(){function t(){f(this,t),this._accessors=[]}return y(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Z)},Z.\u0275prov=i.Jb({token:Z,factory:Z.\u0275fac}),Z),it=((Q=function(){function t(e,n,r,o){f(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return y(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(I),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||Q)(i.Nb(i.E),i.Nb(i.l),i.Nb(ot),i.Nb(i.r))},Q.\u0275dir=i.Ib({type:Q,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.yb([rt])]}),Q),st={provide:_,useExisting:Object(i.T)((function(){return at})),multi:!0},at=((J=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return y(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||J)(i.Nb(i.E),i.Nb(i.l))},J.\u0275dir=i.Ib({type:J,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.yb([st])]}),J),lt='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ut='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ct='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',pt=function(){function t(){f(this,t)}return y(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+lt)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(ut,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(ct))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+lt)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ut)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,".\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),ht={provide:_,useExisting:Object(i.T)((function(){return dt})),multi:!0},dt=(($=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return y(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||$)(i.Nb(i.E),i.Nb(i.l))},$.\u0275dir=i.Ib({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.yb([ht])]}),$),ft={provide:_,useExisting:Object(i.T)((function(){return gt})),multi:!0},gt=((tt=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return y(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var o=n.selectedOptions,i=0;i<o.length;i++){var s=o.item(i),a=e._getOptionValue(s.value);r.push(a)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var p=e._getOptionValue(c.value);r.push(p)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||tt)(i.Nb(i.E),i.Nb(i.l))},tt.\u0275dir=i.Ib({type:tt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.yb([ft])]}),tt);function yt(t,n){return[].concat(e(n.path),[t])}function vt(t,e){t||wt(e,"Cannot find control with"),e.valueAccessor||wt(e,"No value accessor for form control with"),t.validator=H.compose([t.validator,e.validator]),t.asyncValidator=H.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mt(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mt(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function mt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ct(t,e){null==t&&wt(e,"Cannot find control with"),t.validator=H.compose([t.validator,e.validator]),t.asyncValidator=H.composeAsync([t.asyncValidator,e.asyncValidator])}function bt(t){return wt(t,"There is no FormControl instance attached to form control element with")}function wt(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function _t(t){return null!=t?H.compose(q(t)):null}function Ot(t){return null!=t?H.composeAsync(q(t)):null}function Et(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}var St=[E,at,nt,dt,gt,it];function Pt(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Tt(t,e){if(!e)return null;Array.isArray(e)||wt(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,o=void 0;return e.forEach((function(e){var i;e.constructor===T?n=e:(i=e,St.some((function(t){return i.constructor===t}))?(r&&wt(t,"More than one built-in value accessor matches form control with"),r=e):(o&&wt(t,"More than one custom value accessor matches form control with"),o=e))})),o||r||n||(wt(t,"No valid value accessor for form control with"),null)}function Rt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function kt(t,e,n,r){Object(i.V)()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(pt.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function At(t){var e=xt(t)?t.validators:t;return Array.isArray(e)?_t(e):e||null}function Dt(t,e){var n=xt(e)?e.asyncValidators:t;return Array.isArray(n)?Ot(n):n||null}function xt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Nt,It,Ft,Mt,Lt,jt,Gt,Vt,Wt,Bt=function(){function t(e,n){f(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return y(t,[{key:"setValidators",value:function(t){this.validator=At(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Dt(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=U(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof zt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ut&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new i.n,this.statusChanges=new i.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){xt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Ht=function(t){a(n,t);var e=u(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,At(o),Dt(i,o)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(o),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return y(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Bt),zt=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,At(r),Dt(o,r))).controls=t,i._initObservables(),i._setUpdateStrategy(r),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return y(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Ht?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],o=this.controls[r];if(this.contains(r)&&t(o))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Bt),Ut=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,At(r),Dt(o,r))).controls=t,i._initObservables(),i._setUpdateStrategy(r),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return y(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Ht?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=r(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Bt),Kt={provide:k,useExisting:Object(i.T)((function(){return qt}))},Yt=Promise.resolve(null),qt=((It=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new i.n,o.form=new zt({},_t(t),Ot(r)),o}return y(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Yt.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),vt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Yt.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Rt(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;Yt.then((function(){var n=e._findContainer(t.path),r=new zt({});Ct(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Yt.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Yt.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Pt(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(k)).\u0275fac=function(t){return new(t||It)(i.Nb(V,10),i.Nb(W,10))},It.\u0275dir=i.Ib({type:It,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.yb([Kt]),i.wb]}),It),Xt=((Nt=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return yt(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return _t(this._validators)}},{key:"asyncValidator",get:function(){return Ot(this._asyncValidators)}}]),n}(k)).\u0275fac=function(t){return Qt(t||Nt)},Nt.\u0275dir=i.Ib({type:Nt,features:[i.wb]}),Nt),Qt=i.Vb(Xt),Zt=function(){function t(){f(this,t)}return y(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(lt,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(ut,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(ct))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(ut,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(ct))}}]),t}(),Jt={provide:k,useExisting:Object(i.T)((function(){return $t}))},$t=((Ft=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this))._parent=t,i._validators=r,i._asyncValidators=o,i}return y(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof qt||Zt.modelGroupParentException()}}]),n}(Xt)).\u0275fac=function(t){return new(t||Ft)(i.Nb(k,5),i.Nb(V,10),i.Nb(W,10))},Ft.\u0275dir=i.Ib({type:Ft,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.yb([Jt]),i.wb]}),Ft),te={provide:I,useExisting:Object(i.T)((function(){return ne}))},ee=Promise.resolve(null),ne=((Lt=function(t){a(n,t);var e=u(n);function n(t,r,o,s){var a;return f(this,n),(a=e.call(this)).control=new Ht,a._registered=!1,a.update=new i.n,a._parent=t,a._rawValidators=r||[],a._rawAsyncValidators=o||[],a.valueAccessor=Tt(p(a),s),a}return y(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Et(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){vt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof $t)&&this._parent instanceof Xt?Zt.formGroupNameException():this._parent instanceof $t||this._parent instanceof qt||Zt.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Zt.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;ee.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;ee.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?yt(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return _t(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ot(this._rawAsyncValidators)}}]),n}(I)).\u0275fac=function(t){return new(t||Lt)(i.Nb(k,9),i.Nb(V,10),i.Nb(W,10),i.Nb(_,10))},Lt.\u0275dir=i.Ib({type:Lt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.yb([te]),i.wb,i.xb]}),Lt),re=((Mt=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Mt)},Mt.\u0275dir=i.Ib({type:Mt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Mt),oe=new i.q("NgModelWithFormControlWarning"),ie={provide:I,useExisting:Object(i.T)((function(){return se}))},se=((jt=function(t){a(n,t);var e=u(n);function n(t,r,o,s){var a;return f(this,n),(a=e.call(this))._ngModelWarningConfig=s,a.update=new i.n,a._ngModelWarningSent=!1,a._rawValidators=t||[],a._rawAsyncValidators=r||[],a.valueAccessor=Tt(p(a),o),a}return y(n,[{key:"ngOnChanges",value:function(t){this._isControlChanged(t)&&(vt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Et(t,this.viewModel)&&(kt("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}},{key:"isDisabled",set:function(t){pt.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return _t(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ot(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(I)).\u0275fac=function(t){return new(t||jt)(i.Nb(V,10),i.Nb(W,10),i.Nb(_,10),i.Nb(oe,8))},jt.\u0275dir=i.Ib({type:jt,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.yb([ie]),i.wb,i.xb]}),jt._ngModelWarningSentOnce=!1,jt),ae={provide:k,useExisting:Object(i.T)((function(){return le}))},le=((Gt=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this))._validators=t,o._asyncValidators=r,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new i.n,o}return y(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return vt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Rt(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Ct(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Ct(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Pt(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return bt(e)})),e.valueAccessor.registerOnTouched((function(){return bt(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&vt(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=_t(this._validators);this.form.validator=H.compose([this.form.validator,t]);var e=Ot(this._asyncValidators);this.form.asyncValidator=H.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||pt.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(k)).\u0275fac=function(t){return new(t||Gt)(i.Nb(V,10),i.Nb(W,10))},Gt.\u0275dir=i.Ib({type:Gt,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.yb([ae]),i.wb,i.xb]}),Gt),ue={provide:k,useExisting:Object(i.T)((function(){return ce}))},ce=((Vt=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this))._parent=t,i._validators=r,i._asyncValidators=o,i}return y(n,[{key:"_checkParentType",value:function(){de(this._parent)&&pt.groupParentException()}}]),n}(Xt)).\u0275fac=function(t){return new(t||Vt)(i.Nb(k,13),i.Nb(V,10),i.Nb(W,10))},Vt.\u0275dir=i.Ib({type:Vt,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.yb([ue]),i.wb]}),Vt),pe={provide:k,useExisting:Object(i.T)((function(){return he}))},he=((Wt=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this))._parent=t,i._validators=r,i._asyncValidators=o,i}return y(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){de(this._parent)&&pt.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return yt(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return _t(this._validators)}},{key:"asyncValidator",get:function(){return Ot(this._asyncValidators)}}]),n}(k)).\u0275fac=function(t){return new(t||Wt)(i.Nb(k,13),i.Nb(V,10),i.Nb(W,10))},Wt.\u0275dir=i.Ib({type:Wt,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.yb([pe]),i.wb]}),Wt);function de(t){return!(t instanceof ce||t instanceof le||t instanceof he)}var fe,ge,ye,ve,me,Ce,be={provide:I,useExisting:Object(i.T)((function(){return we}))},we=((fe=function(t){a(n,t);var e=u(n);function n(t,r,o,s,a){var l;return f(this,n),(l=e.call(this))._ngModelWarningConfig=a,l._added=!1,l.update=new i.n,l._ngModelWarningSent=!1,l._parent=t,l._rawValidators=r||[],l._rawAsyncValidators=o||[],l.valueAccessor=Tt(p(l),s),l}return y(n,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),Et(t,this.viewModel)&&(kt("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof ce)&&this._parent instanceof Xt?pt.ngModelGroupException():this._parent instanceof ce||this._parent instanceof le||this._parent instanceof he||pt.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){pt.disabledAttrWarning()}},{key:"path",get:function(){return yt(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return _t(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ot(this._rawAsyncValidators)}}]),n}(I)).\u0275fac=function(t){return new(t||fe)(i.Nb(k,13),i.Nb(V,10),i.Nb(W,10),i.Nb(_,10),i.Nb(oe,8))},fe.\u0275dir=i.Ib({type:fe,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.yb([be]),i.wb,i.xb]}),fe._ngModelWarningSentOnce=!1,fe),_e={provide:V,useExisting:Object(i.T)((function(){return Oe})),multi:!0},Oe=((Ce=function(){function t(){f(this,t),this._required=!1}return y(t,[{key:"validate",value:function(t){return this.required?H.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||Ce)},Ce.\u0275dir=i.Ib({type:Ce,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Ab("required",e.required?"":null)},inputs:{required:"required"},features:[i.yb([_e])]}),Ce),Ee=((me=function t(){f(this,t)}).\u0275mod=i.Lb({type:me}),me.\u0275inj=i.Kb({factory:function(t){return new(t||me)}}),me),Se=((ve=function(){function t(){f(this,t)}return y(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,o=null,i=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new zt(n,{asyncValidators:o,updateOn:i,validators:r})}},{key:"control",value:function(t,e,n){return new Ht(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,o=t.map((function(t){return r._createControl(t)}));return new Ut(o,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Ht||t instanceof zt||t instanceof Ut?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||ve)},ve.\u0275prov=i.Jb({token:ve,factory:ve.\u0275fac}),ve),Pe=((ye=function t(){f(this,t)}).\u0275mod=i.Lb({type:ye}),ye.\u0275inj=i.Kb({factory:function(t){return new(t||ye)},providers:[ot],imports:[Ee]}),ye),Te=((ge=function(){function t(){f(this,t)}return y(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:oe,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=i.Lb({type:ge}),ge.\u0275inj=i.Kb({factory:function(t){return new(t||ge)},providers:[Se,ot],imports:[Ee]}),ge)},njY1:function(t,e,n){"use strict";function r(t){return t.getTime()%6e4}function o(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+r(e))%6e4:r(e))}n.d(e,"a",(function(){return o}))},pBDD:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(t,e,n,r,o){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("5uGe").a)},prE9:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n("Efrr"),o=n("pBDD"),i=n("mW0F"),s=function(){function t(e){f(this,t),this.durationSelector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.durationSelector))}}]),t}(),l=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).durationSelector=r,o.hasValue=!1,o}return y(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(i.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(o.a),c=n("IdLP"),p=n("KRZI"),h=n("gBlb");function d(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function g(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=-1;return Object(p.a)(e)?o=Number(e)<1?1:Number(e):Object(h.a)(e)&&(n=e),Object(h.a)(n)||(n=r.a),new c.a((function(e){var r=Object(p.a)(t)?t:+t-n.now();return n.schedule(d,r,{index:0,period:o,subscriber:e})}))}(t,n)},function(t){return t.lift(new s(e))}}},qBiZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("TLy2"),o=n("ROBh"),i=n("iy3P"),s=n("8SNO"),a=n("X5xC"),l=n("K8Gv"),u=n("EM62"),c=function(){var t=function(){function t(e){f(this,t),this.injector=e}return y(t,[{key:"http",value:function(){return this.injector.get(a.a)}},{key:"read",value:function(){return i.a.readBy(this.shared)}},{key:"load",value:function(t){var e=this;return new Promise((function(n,r){t=t||"assets/app.config.json",e.http().get(t).subscribe((function(t){var r=e.read().assign(t);r.saveBy(e.shared),console.log("API URL: "+r.api_url),n(r)}),(function(t){return r(t)}))}))}},{key:"initLoad",value:function(){}},{key:"loadApi",value:function(t){var e=this,n=this.read(),i=n.fixUrl("config/"+t);return this.http().sendGet(i).pipe(Object(r.a)((function(t){return n.cors_url=Object(l.l)(t.cors_url)?n.cors_url:t.cors_url,delete t.cors_url,n.api_ticket=t,n.saveBy(e.shared),Object(o.a)(t)})))}},{key:"loadAgGridCfig",value:function(){var t=this,e=this.read(),n=e.fixUrl("config/ag_grid");return this.http().sendGet(n).pipe(Object(r.a)((function(n){return e.aggrid={columns:n.columns},e.saveBy(t.shared),Object(o.a)(n)})))}},{key:"clearAllCache",value:function(){var t=""+this.read().fixUrl("cache/remove-all");return this.http().sendGet(t)}},{key:"shared",get:function(){return this.injector.get(s.a)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Xb(u.r))},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},qEfY:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},qZtG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("ROBh"),o=n("mawV");function i(){return Object(o.a)()(Object(r.a).apply(void 0,arguments))}},qvOF:function(t,e,i){"use strict";i.d(e,"a",(function(){return Y})),i.d(e,"b",(function(){return ot})),i.d(e,"c",(function(){return rt})),i.d(e,"d",(function(){return J})),i.d(e,"e",(function(){return q})),i.d(e,"f",(function(){return it})),i.d(e,"g",(function(){return Q}));var s=i("5XID"),l=i("EM62"),c=i("ZTXN"),p=i("ROBh"),h=i("IdLP"),g=i("KTx3"),v=i("VvXq"),m=i("vT4p"),C=i("bwdy"),b=i("9bRT"),w=i("Ohay"),_=i("prE9"),O=i("xVbo"),E=i("kuMc"),S=i("jIqt"),P=i("5uGe"),T=function(){function t(){f(this,t)}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new R(t))}}]),t}(),R=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasPrev=!1,r}return y(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(P.a),k=i("TLy2"),A=i("QQZH"),D=i("cZZj"),x=i("2kYt"),N=i("E5oP"),I=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this))._data=t,r}return y(n,[{key:"connect",value:function(){return Object(b.a)(this._data)?this._data:Object(p.a)(this._data)}},{key:"disconnect",value:function(){}}]),n}(function(){return function t(){f(this,t)}}()),F=function(){function t(){f(this,t),this.viewCacheSize=20,this._viewCache=[]}return y(t,[{key:"applyChanges",value:function(t,e,n,r,o){var i=this;t.forEachOperation((function(t,s,a){var l,u;null==t.previousIndex?u=(l=i._insertView((function(){return n(t,s,a)}),a,e,r(t)))?1:0:null==a?(i._detachAndCacheView(s,e),u=3):(l=i._moveView(s,a,e,r(t)),u=2),o&&o({context:null==l?void 0:l.context,operation:u,record:t})}))}},{key:"detach",value:function(){var t,e=r(this._viewCache);try{for(e.s();!(t=e.n()).done;){t.value.destroy()}}catch(n){e.e(n)}finally{e.f()}}},{key:"_insertView",value:function(t,e,n,r){var o=this._insertViewFromCache(e,n);if(!o){var i=t();return n.createEmbeddedView(i.templateRef,i.context,i.index)}o.context.$implicit=r}},{key:"_detachAndCacheView",value:function(t,e){var n=this._detachView(t,e);this._maybeCacheView(n,e)}},{key:"_moveView",value:function(t,e,n,r){var o=n.get(t);return n.move(o,e),o.context.$implicit=r,o}},{key:"_maybeCacheView",value:function(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{var n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}},{key:"_insertViewFromCache",value:function(t,e){var n=this._viewCache.pop();return n&&e.insert(n,t),n||null}},{key:"_detachView",value:function(t,e){return e.detach(t)}}]),t}(),M=new l.q("_ViewRepeater"),L=["contentWrapper"],j=["*"],G=new l.q("VIRTUAL_SCROLL_STRATEGY"),V=function(){function t(e,n,r){f(this,t),this._scrolledIndexChange=new c.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Object(w.a)()),this._viewport=null,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=r}return y(t,[{key:"attach",value:function(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}},{key:"_updateTotalContentSize",value:function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),r=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),i=o/this._itemSize;if(e.end>r){var s=Math.ceil(n/this._itemSize),a=Math.max(0,Math.min(i,r-s));i!=a&&(i=a,o=a*this._itemSize,e.start=Math.floor(i)),e.end=Math.max(0,Math.min(r,e.start+s))}var l=o-e.start*this._itemSize;if(l<this._minBufferPx&&0!=e.start){var u=Math.ceil((this._maxBufferPx-l)/this._itemSize);e.start=Math.max(0,e.start-u),e.end=Math.min(r,Math.ceil(i+(n+this._minBufferPx)/this._itemSize))}else{var c=e.end*this._itemSize-(o+n);if(c<this._minBufferPx&&e.end!=r){var p=Math.ceil((this._maxBufferPx-c)/this._itemSize);p>0&&(e.end=Math.min(r,e.end+p),e.start=Math.max(0,Math.floor(i-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(i))}}}]),t}();function W(t){return t._scrollStrategy}var B,H,z,U,K,Y=((U=function(){function t(){f(this,t),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new V(this.itemSize,this.minBufferPx,this.maxBufferPx)}return y(t,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}},{key:"itemSize",get:function(){return this._itemSize},set:function(t){this._itemSize=Object(s.f)(t)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(t){this._minBufferPx=Object(s.f)(t)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(t){this._maxBufferPx=Object(s.f)(t)}}]),t}()).\u0275fac=function(t){return new(t||U)},U.\u0275dir=l.Ib({type:U,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[l.yb([{provide:G,useFactory:W,deps:[Object(l.T)((function(){return U}))]}]),l.xb]}),U),q=((z=function(){function t(e,n,r){f(this,t),this._ngZone=e,this._platform=n,this._scrolled=new c.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return y(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new h.a((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Object(_.a)(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(p.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(O.a)((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,o){e._scrollableContainsElement(o,t)&&n.push(o)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var e=t._getWindow();return Object(g.a)(e.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||z)(l.Xb(l.z),l.Xb(D.a),l.Xb(x.c,8))},z.\u0275prov=Object(l.Jb)({factory:function(){return new z(Object(l.Xb)(l.z),Object(l.Xb)(D.a),Object(l.Xb)(x.c,8))},token:z,providedIn:"root"}),z),X=((H=function(){function t(e,n,r,o){var i=this;f(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new c.a,this._elementScrolled=new h.a((function(t){return i.ngZone.runOutsideAngular((function(){return Object(g.a)(i.elementRef.nativeElement,"scroll").pipe(Object(E.a)(i._destroyed)).subscribe(t)}))}))}return y(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Object(D.d)()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Object(D.d)()?t.left=t.right:1==Object(D.d)()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;Object(D.f)()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==Object(D.d)()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==Object(D.d)()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}()).\u0275fac=function(t){return new(t||H)(l.Nb(l.l),l.Nb(q),l.Nb(l.z),l.Nb(N.b,8))},H.\u0275dir=l.Ib({type:H,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),H),Q=((B=function(){function t(e,n,r){var o=this;f(this,t),this._platform=e,this._change=new c.a,this._changeListener=function(t){o._change.next(t)},this._document=r,n.runOutsideAngular((function(){if(e.isBrowser){var t=o._getWindow();t.addEventListener("resize",o._changeListener),t.addEventListener("orientationchange",o._changeListener)}o.change().subscribe((function(){return o._updateViewportSize()}))}))}return y(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Object(_.a)(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||B)(l.Xb(D.a),l.Xb(l.z),l.Xb(x.c,8))},B.\u0275prov=Object(l.Jb)({factory:function(){return new B(Object(l.Xb)(D.a),Object(l.Xb)(l.z),Object(l.Xb)(x.c,8))},token:B,providedIn:"root"}),B),Z="undefined"!=typeof requestAnimationFrame?v.a:m.a,J=((K=function(t){a(o,t);var e=u(o);function o(t,n,r,i,s,a,l){var u;return f(this,o),(u=e.call(this,t,a,r,s)).elementRef=t,u._changeDetectorRef=n,u._scrollStrategy=i,u._detachedSubject=new c.a,u._renderedRangeSubject=new c.a,u._orientation="vertical",u.scrolledIndexChange=new h.a((function(t){return u._scrollStrategy.scrolledIndexChange.subscribe((function(e){return Promise.resolve().then((function(){return u.ngZone.run((function(){return t.next(e)}))}))}))})),u.renderedRangeStream=u._renderedRangeSubject,u._totalContentSize=0,u._totalContentWidth="",u._totalContentHeight="",u._renderedRange={start:0,end:0},u._dataLength=0,u._viewportSize=0,u._renderedContentOffset=0,u._renderedContentOffsetNeedsRewrite=!1,u._isChangeDetectionPending=!1,u._runAfterChangeDetection=[],u._viewportChanges=C.a.EMPTY,l&&(u._viewportChanges=l.change().subscribe((function(){u.checkViewportSize()}))),u}return y(o,[{key:"ngOnInit",value:function(){var t=this;n(d(o.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){t._measureViewportSize(),t._scrollStrategy.attach(t),t.elementScrolled().pipe(Object(S.a)(null),Object(_.a)(0,Z)).subscribe((function(){return t._scrollStrategy.onContentScrolled()})),t._markChangeDetectionNeeded()}))}))}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),n(d(o.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(t){var e=this;this.ngZone.runOutsideAngular((function(){e._forOf=t,e._forOf.dataStream.pipe(Object(E.a)(e._detachedSubject)).subscribe((function(t){var n=t.length;n!==e._dataLength&&(e._dataLength=n,e._scrollStrategy.onDataLengthChanged()),e._doChangeDetection()}))}))}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(t){var e,n,r=this;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded((function(){return r._scrollStrategy.onContentRendered()})))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",r="horizontal"==this.orientation,o=r?"X":"Y",i="translate".concat(o,"(").concat(Number((r&&this.dir&&"rtl"==this.dir.value?-1:1)*t),"px)");this._renderedContentOffset=t,"to-end"===n&&(i+=" translate".concat(o,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=i&&(this._renderedContentTransform=i,this._markChangeDetectionNeeded((function(){e._renderedContentOffsetNeedsRewrite?(e._renderedContentOffset-=e.measureRenderedContentSize(),e._renderedContentOffsetNeedsRewrite=!1,e.setRenderedContentOffset(e._renderedContentOffset)):e._scrollStrategy.onRenderedOffsetChanged()})))}},{key:"scrollToOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}},{key:"scrollToIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(t,e)}},{key:"measureScrollOffset",value:function(t){return n(d(o.prototype),"measureScrollOffset",this).call(this,t||("horizontal"===this.orientation?"start":"top"))}},{key:"measureRenderedContentSize",value:function(){var t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}},{key:"measureRangeSize",value:function(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(t){var e=this;t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){e._doChangeDetection()}))})))}},{key:"_doChangeDetection",value:function(){var t=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run((function(){return t._changeDetectorRef.markForCheck()}));var e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var n,o=r(e);try{for(o.s();!(n=o.n()).done;)(0,n.value)()}catch(i){o.e(i)}finally{o.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}}]),o}(X)).\u0275fac=function(t){return new(t||K)(l.Nb(l.l),l.Nb(l.h),l.Nb(l.z),l.Nb(G,8),l.Nb(N.b,8),l.Nb(q),l.Nb(Q))},K.\u0275cmp=l.Hb({type:K,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;1&t&&l.xc(L,!0),2&t&&l.qc(n=l.bc())&&(e._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&l.Fb("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[l.yb([{provide:X,useExisting:K}]),l.wb],ngContentSelectors:j,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(l.ic(),l.Tb(0,"div",0,1),l.hc(2),l.Sb(),l.Ob(3,"div",2)),2&t&&(l.zb(3),l.yc("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),K);function $(t,e,n){if(!n.getBoundingClientRect)return 0;var r=n.getBoundingClientRect();return"horizontal"===t?"start"===e?r.left:r.right:"start"===e?r.top:r.bottom}var tt,et,nt,rt=((nt=function(){function t(e,n,r,i,s,a){var l,u=this;f(this,t),this._viewContainerRef=e,this._template=n,this._differs=r,this._viewRepeater=i,this._viewport=s,this.viewChange=new c.a,this._dataSourceChanges=new c.a,this.dataStream=this._dataSourceChanges.pipe(Object(S.a)(null),(function(t){return t.lift(new T)}),Object(k.a)((function(t){var e=o(t,2),n=e[0],r=e[1];return u._changeDataSource(n,r)})),(l={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,i=t.windowTime,s=void 0===i?Number.POSITIVE_INFINITY:i,a=t.refCount,l=t.scheduler,u=0,c=!1,p=!1;return function(t){u++,e&&!c||(c=!1,e=new A.a(o,s,l),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){p=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){u--,r.unsubscribe(),n&&!p&&a&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(l))})),this._differ=null,this._needsUpdate=!1,this._destroyed=new c.a,this.dataStream.subscribe((function(t){u._data=t,u._onRenderedDataChange()})),this._viewport.renderedRangeStream.pipe(Object(E.a)(this._destroyed)).subscribe((function(t){u._renderedRange=t,a.run((function(){return u.viewChange.next(u._renderedRange)})),u._onRenderedDataChange()})),this._viewport.attach(this)}return y(t,[{key:"measureRangeSize",value:function(t,e){if(t.start>=t.end)return 0;for(var n,r,o=t.start-this._renderedRange.start,i=t.end-t.start,s=0;s<i;s++){var a=this._viewContainerRef.get(s+o);if(a&&a.rootNodes.length){n=r=a.rootNodes[0];break}}for(var l=i-1;l>-1;l--){var u=this._viewContainerRef.get(l+o);if(u&&u.rootNodes.length){r=u.rootNodes[u.rootNodes.length-1];break}}return n&&r?$(e,"end",r)-$(e,"start",n):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Object(p.a)()}},{key:"_updateContext",value:function(){for(var t=this._data.length,e=this._viewContainerRef.length;e--;){var n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}},{key:"_applyChanges",value:function(t){var e=this;this._viewRepeater.applyChanges(t,this._viewContainerRef,(function(t,n,r){return e._getEmbeddedViewArgs(t,r)}),(function(t){return t.item})),t.forEachIdentityChange((function(t){e._viewContainerRef.get(t.currentIndex).context.$implicit=t.item}));for(var n=this._data.length,r=this._viewContainerRef.length;r--;){var o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=n,this._updateComputedContextProperties(o.context)}}},{key:"_updateComputedContextProperties",value:function(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}},{key:"_getEmbeddedViewArgs",value:function(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}},{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(t){this._cdkVirtualForOf=t,function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new I(Object(b.a)(t)?t:Array.from(t||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(t){var e=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?function(n,r){return t(n+(e._renderedRange?e._renderedRange.start:0),r)}:void 0}},{key:"cdkVirtualForTemplate",set:function(t){t&&(this._needsUpdate=!0,this._template=t)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(t){this._viewRepeater.viewCacheSize=Object(s.f)(t)}}]),t}()).\u0275fac=function(t){return new(t||nt)(l.Nb(l.P),l.Nb(l.L),l.Nb(l.s),l.Nb(M),l.Nb(J,4),l.Nb(l.z))},nt.\u0275dir=l.Ib({type:nt,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[l.yb([{provide:M,useClass:F}])]}),nt),ot=((et=function t(){f(this,t)}).\u0275mod=l.Lb({type:et}),et.\u0275inj=l.Kb({factory:function(t){return new(t||et)}}),et),it=((tt=function t(){f(this,t)}).\u0275mod=l.Lb({type:tt}),tt.\u0275inj=l.Kb({factory:function(t){return new(t||tt)},imports:[[N.a,D.b,ot],N.a,ot]}),tt)},r9RI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this)).parent=t,i.outerValue=r,i.outerIndex=o,i.index=0,i}return y(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("5uGe").a)},rWo0:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HgnN"),o=n("i9P/"),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},ruxD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5uGe"),o=n("bwdy");function i(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(e){f(this,t),this.callback=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.callback))}}]),t}(),l=function(t){a(n,t);var e=u(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).add(new o.a(r)),i}return n}(r.a)},ryP2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("6Oco"),o=n("ROBh"),i=n("47ST"),s=function(){var t=function(){function t(e,n,r){f(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return y(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(i.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},sEIs:function(t,n,o){"use strict";o.d(n,"a",(function(){return Yt})),o.d(n,"b",(function(){return q})),o.d(n,"c",(function(){return _n})),o.d(n,"d",(function(){return hn})),o.d(n,"e",(function(){return dn})),o.d(n,"f",(function(){return fn})),o.d(n,"g",(function(){return Dn})),o.d(n,"h",(function(){return Cn}));var i=o("2kYt"),s=o("EM62"),l=o("ROBh"),c=o("GoAz"),h=o("C05f"),d=o("IdLP"),g=o("VxHp"),v=o("HM3f"),m=o("i9xl"),C=o("6Oco"),b=o("ZTXN"),w=o("YtkY"),_=o("mawV"),O=o("xVbo"),E=o("5uGe"),S=o("PNff");function P(t){return function(e){return 0===t?Object(C.b)():e.lift(new T(t))}}var T=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new S.a}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new R(t,this.total))}}]),t}(),R=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).total=r,o.ring=new Array,o.count=0,o}return y(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()}}]),n}(E.a),k=o("fbWu"),A=o("iqFP"),D=o("5E2i"),x=o("4e/d"),N=o("jOdJ"),I=o("cJ9h"),F=o("8j5Y"),M=function(){function t(e,n,r){f(this,t),this.predicate=e,this.thisArg=n,this.source=r}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new L(t,this.predicate,this.thisArg,this.source))}}]),t}(),L=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,t)).predicate=r,s.thisArg=o,s.source=i,s.index=0,s.thisArg=o||p(s),s}return y(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(E.a),j=o("TLy2"),G=o("J+dc"),V=o("jIqt"),W=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new B(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),B=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,t)).accumulator=r,s._seed=o,s.hasSeed=i,s.index=0,s}return y(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(E.a),H=o("5uDM"),z=o("ruxD"),U=o("3lSR"),K=function t(e,n){f(this,t),this.id=e,this.url=n},Y=function(t){a(n,t);var e=u(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(o=e.call(this,t,r)).navigationTrigger=i,o.restoredState=s,o}return y(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(K),q=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t,r)).urlAfterRedirects=o,i}return y(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(K),X=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t,r)).reason=o,i}return y(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(K),Q=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t,r)).error=o,i}return y(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(K),Z=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=o,s.state=i,s}return y(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(K),J=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=o,s.state=i,s}return y(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(K),$=function(t){a(n,t);var e=u(n);function n(t,r,o,i,s){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=o,a.state=i,a.shouldActivate=s,a}return y(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(K),tt=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=o,s.state=i,s}return y(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(K),et=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=o,s.state=i,s}return y(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(K),nt=function(){function t(e){f(this,t),this.route=e}return y(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),rt=function(){function t(e){f(this,t),this.route=e}return y(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),ot=function(){function t(e){f(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),it=function(){function t(e){f(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),st=function(){function t(e){f(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),at=function(){function t(e){f(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),lt=function(){function t(e,n,r){f(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return y(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),ut=function(){function t(e){f(this,t),this.params=e||{}}return y(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function ct(t){return new ut(t)}function pt(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ht(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function dt(t,e){var n,r=Object.keys(t),o=Object.keys(e);if(!r||!o||r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(!ft(t[n=r[i]],e[n]))return!1;return!0}function ft(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function gt(t){return Array.prototype.concat.apply([],t)}function yt(t){return t.length>0?t[t.length-1]:null}function vt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mt(t){return Object(s.qb)(t)?t:Object(s.rb)(t)?Object(c.a)(Promise.resolve(t)):Object(l.a)(t)}function Ct(t,e,n){return n?function(t,e){return dt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ot(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return ft(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!Ot(n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!Ot(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!t(n.children[i],r.children[i]))return!1}return!0}var s=o.slice(0,n.segments.length),a=o.slice(n.segments.length);return!!Ot(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var bt=function(){function t(e,n,r){f(this,t),this.root=e,this.queryParams=n,this.fragment=r}return y(t,[{key:"toString",value:function(){return Tt.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}}]),t}(),wt=function(){function t(e,n){var r=this;f(this,t),this.segments=e,this.children=n,this.parent=null,vt(n,(function(t,e){return t.parent=r}))}return y(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Rt(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),_t=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return y(t,[{key:"toString",value:function(){return It(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}}]),t}();function Ot(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Et(t,e){var n=[];return vt(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),vt(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var St=function t(){f(this,t)},Pt=function(){function t(){f(this,t)}return y(t,[{key:"parse",value:function(t){var e=new Gt(t);return new bt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Rt(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",o=[];return vt(e.children,(function(e,n){"primary"!==n&&o.push("".concat(n,":").concat(t(e,!1)))})),o.length>0?"".concat(r,"(").concat(o.join("//"),")"):r}var i=Et(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Rt(e),"/(").concat(i.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(At(t),"=").concat(At(e))})).join("&"):"".concat(At(t),"=").concat(At(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Tt=new Pt;function Rt(t){return t.segments.map((function(t){return It(t)})).join("/")}function kt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function At(t){return kt(t).replace(/%3B/gi,";")}function Dt(t){return kt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(t){return decodeURIComponent(t)}function Nt(t){return xt(t.replace(/\+/g,"%20"))}function It(t){return"".concat(Dt(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Dt(t),"=").concat(Dt(e[t]))})).join("")));var e}var Ft=/^[^\/()?;=#]+/;function Mt(t){var e=t.match(Ft);return e?e[0]:""}var Lt=/^[^=?&#]+/,jt=/^[^?&#]+/,Gt=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return y(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new wt(t,e)),n}},{key:"parseSegment",value:function(){var t=Mt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new _t(xt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Mt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Mt(this.remaining);r&&(n=r,this.capture(n))}t[xt(e)]=xt(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Lt);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(jt);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var o=Nt(e),i=Nt(n);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Mt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o="primary");var i=this.parseChildren();e[o]=1===Object.keys(i).length?i.primary:new wt([],i),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Vt=function(){function t(e){f(this,t),this._root=e}return y(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Wt(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Wt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Bt(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Bt(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Wt(t,e){if(t===e.value)return e;var n,o=r(e.children);try{for(o.s();!(n=o.n()).done;){var i=Wt(t,n.value);if(i)return i}}catch(s){o.e(s)}finally{o.f()}return null}function Bt(t,e){if(t===e.value)return[e];var n,o=r(e.children);try{for(o.s();!(n=o.n()).done;){var i=Bt(t,n.value);if(i.length)return i.unshift(e),i}}catch(s){o.e(s)}finally{o.f()}return[]}var Ht=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return y(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function zt(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Ut=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).snapshot=r,Zt(p(o),t),o}return y(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Vt);function Kt(t,e){var n=function(t,e){var n=new Xt([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Qt("",new Ht(n,[]))}(t,e),r=new h.a([new _t("",{})]),o=new h.a({}),i=new h.a({}),s=new h.a({}),a=new h.a(""),l=new Yt(r,o,s,a,i,"primary",e,n.root);return l.snapshot=n.root,new Ut(new Ht(l,[]),n)}var Yt=function(){function t(e,n,r,o,i,s,a,l){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=l}return y(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(w.a)((function(t){return ct(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(w.a)((function(t){return ct(t)})))),this._queryParamMap}}]),t}();function qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Xt=function(){function t(e,n,r,o,i,s,a,l,u,c,p){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=p}return y(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}}]),t}(),Qt=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this,r)).url=t,Zt(p(o),r),o}return y(n,[{key:"toString",value:function(){return Jt(this._root)}}]),n}(Vt);function Zt(t,e){e.value._routerState=t,e.children.forEach((function(e){return Zt(t,e)}))}function Jt(t){var e=t.children.length>0?" { ".concat(t.children.map(Jt).join(", ")," } "):"";return"".concat(t.value).concat(e)}function $t(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!dt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function te(t,e){var n,r;return dt(t.params,e.params)&&Ot(n=t.url,r=e.url)&&n.every((function(t,e){return dt(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||te(t.parent,e.parent))}function ee(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ne(t,e,n,r,o){var i={};return r&&vt(r,(function(t,e){i[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new bt(n.root===t?e:function t(e,n,r){var o={};return vt(e.children,(function(e,i){o[i]=e===n?r:t(e,n,r)})),new wt(e.segments,o)}(n.root,t,e),i,o)}var re=function(){function t(e,n,r){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ee(r[0]))throw new Error("Root segment cannot have matrix parameters");var o=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(o&&o!==yt(r))throw new Error("{outlets:{}} has to be the last command")}return y(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),oe=function t(e,n,r){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ie(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function se(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return ae(t,e,n);var r=function(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var s=t.segments[o],a=ie(n[r]),l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!pe(a,l,s))return i;r+=2}else{if(!pe(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new wt(t.segments.slice(0,r.pathIndex),{});return i.children.primary=new wt(t.segments.slice(r.pathIndex),t.children),ae(i,0,o)}return r.match&&0===o.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?le(t,e,n):r.match?ae(t,0,o):le(t,e,n)}function ae(t,e,n){if(0===n.length)return new wt(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),o={};return vt(r,(function(n,r){null!==n&&(o[r]=se(t.children[r],e,n))})),vt(t.children,(function(t,e){void 0===r[e]&&(o[e]=t)})),new wt(t.segments,o)}function le(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&null!==n[o]&&void 0!==n[o].outlets){var i=ue(n[o].outlets);return new wt(r,i)}if(0===o&&ee(n[0]))r.push(new _t(t.segments[e].path,n[0])),o++;else{var s=ie(n[o]),a=o<n.length-1?n[o+1]:null;s&&a&&ee(a)?(r.push(new _t(s,ce(a))),o+=2):(r.push(new _t(s,{})),o++)}}return new wt(r,{})}function ue(t){var e={};return vt(t,(function(t,n){null!==t&&(e[n]=le(new wt([],{}),0,t))})),e}function ce(t){var e={};return vt(t,(function(t,n){return e[n]=""+t})),e}function pe(t,e,n){return t==n.path&&dt(e,n.parameters)}var he=function(){function t(e,n,r,o){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o}return y(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$t(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,o=zt(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]})),vt(o,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=zt(t),i=t.value.component?r.children:e;vt(o,(function(t,e){return n.deactivateRouteAndItsChildren(t,i)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,o=zt(e);t.children.forEach((function(t){r.activateRoutes(t,o[t.value.outlet],n),r.forwardEvent(new at(t.value.snapshot))})),t.children.length&&this.forwardEvent(new it(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,o=e?e.value:null;if($t(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),de(a.route)}else{var l=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=l?l.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=u,s.outlet&&s.outlet.activateWith(r,u),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function de(t){$t(t.value),t.children.forEach(de)}var fe=function t(e,n){f(this,t),this.routes=e,this.module=n};function ge(t){return"function"==typeof t}function ye(t){return t instanceof bt}var ve=function t(e){f(this,t),this.segmentGroup=e||null},me=function t(e){f(this,t),this.urlTree=e};function Ce(t){return new d.a((function(e){return e.error(new ve(t))}))}function be(t){return new d.a((function(e){return e.error(new me(t))}))}function we(t){return new d.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var _e=function(){function t(e,n,r,o,i){f(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(s.x)}return y(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(w.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Object(x.a)((function(e){if(e instanceof me)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ve)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(w.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Object(x.a)((function(t){if(t instanceof ve)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new wt([],{primary:t}):t;return new bt(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(w.a)((function(t){return new wt([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return Object(l.a)({});var i=[],s=[],a={};return vt(n,(function(n,o){var l,u,c=(l=o,u=n,r.expandSegmentGroup(t,e,u,l)).pipe(Object(w.a)((function(t){return a[o]=t})));"primary"===o?i.push(c):s.push(c)})),l.a.apply(null,i.concat(s)).pipe(Object(_.a)(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(O.a)((function(e,n){return t(e,n,r)})):D.a,P(1),n?Object(A.a)(e):Object(k.a)((function(){return new g.a})))}}(),Object(w.a)((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,n,r,o,i,s){var a=this;return Object(l.a).apply(void 0,e(r)).pipe(Object(w.a)((function(e){return a.expandSegmentAgainstRoute(t,n,r,e,o,i,s).pipe(Object(x.a)((function(t){if(t instanceof ve)return Object(l.a)(null);throw t})))})),Object(_.a)(),Object(N.a)((function(t){return!!t})),Object(x.a)((function(t,e){if(t instanceof g.a||"EmptyError"===t.name){if(a.noLeftoversInUrl(n,o,i))return Object(l.a)(new wt([],{}));throw new ve(n)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,o,i,s){return Pe(r)!==i?Ce(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):Ce(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?be(i):this.lineralizeSegments(n,i).pipe(Object(I.a)((function(n){var i=new wt(n,{});return o.expandSegment(t,i,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,o,i){var s=this,a=Oe(e,r,o),l=a.matched,u=a.consumedSegments,c=a.lastChild,p=a.positionalParamSegments;if(!l)return Ce(e);var h=this.applyRedirectCommands(u,r.redirectTo,p);return r.redirectTo.startsWith("/")?be(h):this.lineralizeSegments(r,h).pipe(Object(I.a)((function(r){return s.expandSegment(t,e,n,r.concat(o.slice(c)),i,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,o){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(w.a)((function(t){return n._loadedConfig=t,new wt(o,{})}))):Object(l.a)(new wt(o,{}));var s=Oe(e,n,o),a=s.matched,u=s.consumedSegments,c=s.lastChild;if(!a)return Ce(e);var p=o.slice(c);return this.getChildConfig(t,n,o).pipe(Object(I.a)((function(t){var n=t.module,o=t.routes,s=function(t,e,n,o){return n.length>0&&function(t,e,n){return n.some((function(n){return Se(t,e,n)&&"primary"!==Pe(n)}))}(t,n,o)?{segmentGroup:Ee(new wt(e,function(t,e){var n={};n.primary=e;var o,i=r(t);try{for(i.s();!(o=i.n()).done;){var s=o.value;""===s.path&&"primary"!==Pe(s)&&(n[Pe(s)]=new wt([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(o,new wt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Se(t,e,n)}))}(t,n,o)?{segmentGroup:Ee(new wt(t.segments,function(t,e,n,o){var i,s={},a=r(n);try{for(a.s();!(i=a.n()).done;){var l=i.value;Se(t,e,l)&&!o[Pe(l)]&&(s[Pe(l)]=new wt([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},o),s)}(t,n,o,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,p,o),a=s.segmentGroup,c=s.slicedSegments;return 0===c.length&&a.hasChildren()?i.expandChildren(n,o,a).pipe(Object(w.a)((function(t){return new wt(u,t)}))):0===o.length&&0===c.length?Object(l.a)(new wt(u,{})):i.expandSegment(n,a,o,c,"primary",!0).pipe(Object(w.a)((function(t){return new wt(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(l.a)(new fe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(l.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(I.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(w.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new d.a((function(e){return e.error(pt("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(l.a)(new fe([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r,o=this,i=e.canLoad;return i&&0!==i.length?Object(c.a)(i).pipe(Object(w.a)((function(r){var o,i=t.get(r);if(function(t){return t&&ge(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ge(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return mt(o)}))).pipe(Object(_.a)(),Object(F.a)((function(t){if(ye(t)){var e=pt('Redirecting to "'.concat(o.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),(r=function(t){return!0===t},function(t){return t.lift(new M(r,void 0,t))})):Object(l.a)(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(l.a)(n);if(r.numberOfChildren>1||!r.children.primary)return we(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new bt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return vt(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),s={};return vt(e.children,(function(e,i){s[i]=o.createSegmentGroup(t,e,n,r)})),new wt(i,s)}},{key:"createSegments",value:function(t,e,n,r){var o=this;return e.map((function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,o=0,i=r(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.path===t.path)return e.splice(o),s;o++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Oe(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ht)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ee(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new wt(t.segments.concat(e.segments),e.children)}return t}function Se(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Pe(t){return t.outlet||"primary"}var Te=function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]},Re=function t(e,n){f(this,t),this.component=e,this.route=n};function ke(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ae(t,e,n){var r=zt(t),o=t.value;vt(r,(function(t,r){Ae(t,o.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Re(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}var De=Symbol("INITIAL_VALUE");function xe(){return Object(j.a)((function(t){return Object(v.a).apply(void 0,e(t.map((function(t){return t.pipe(Object(G.a)(1),Object(V.a)(De))})))).pipe(function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new W(t,e,n))}}((function(t,e){var n=!1;return e.reduce((function(t,r,o){if(t!==De)return t;if(r===De&&(n=!0),!n){if(!1===r)return r;if(o===e.length-1||ye(r))return r}return t}),t)}),De),Object(O.a)((function(t){return t!==De})),Object(w.a)((function(t){return ye(t)?t:!0===t})),Object(G.a)(1))}))}function Ne(t,e){return null!==t&&e&&e(new st(t)),Object(l.a)(!0)}function Ie(t,e){return null!==t&&e&&e(new ot(t)),Object(l.a)(!0)}function Fe(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(l.a)(!0);var o=r.map((function(r){return Object(m.a)((function(){var o,i=ke(r,e,n);if(function(t){return t&&ge(t.canActivate)}(i))o=mt(i.canActivate(e,t));else{if(!ge(i))throw new Error("Invalid CanActivate guard");o=mt(i(e,t))}return o.pipe(Object(N.a)())}))}));return Object(l.a)(o).pipe(xe())}function Me(t,e,n){var r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Object(m.a)((function(){var o=e.guards.map((function(o){var i,s=ke(o,e.node,n);if(function(t){return t&&ge(t.canActivateChild)}(s))i=mt(s.canActivateChild(r,t));else{if(!ge(s))throw new Error("Invalid CanActivateChild guard");i=mt(s(r,t))}return i.pipe(Object(N.a)())}));return Object(l.a)(o).pipe(xe())}))}));return Object(l.a)(o).pipe(xe())}var Le=function t(){f(this,t)},je=function(){function t(e,n,r,o,i,s){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}return y(t,[{key:"recognize",value:function(){try{var t=We(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Xt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ht(n,e),o=new Qt(this.url,r);return this.inheritParamsAndData(o._root),Object(l.a)(o)}catch(i){return new d.a((function(t){return t.error(i)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=qt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,o=Et(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},o.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),o=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(o,"'."))}n[t.value.outlet]=t.value})),o.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),o}},{key:"processSegment",value:function(t,e,n,o){var i,s=r(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,o)}catch(l){if(!(l instanceof Le))throw l}}}catch(u){s.e(u)}finally{s.f()}if(this.noLeftoversInUrl(e,n,o))return[];throw new Le}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Le;if((t.outlet||"primary")!==r)throw new Le;var o,i=[],s=[];if("**"===t.path){var a=n.length>0?yt(n).parameters:{};o=new Xt(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(t),r,t.component,t,Ge(e),Ve(e)+n.length,Ue(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Le;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||ht)(n,t,e);if(!r)throw new Le;var o={};vt(r.posParams,(function(t,e){o[e]=t.path}));var i=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(e,t,n);i=l.consumedSegments,s=n.slice(l.lastChild),o=new Xt(i,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(t),r,t.component,t,Ge(e),Ve(e)+i.length,Ue(t))}var u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=We(e,i,s,u,this.relativeLinkResolution),p=c.segmentGroup,h=c.slicedSegments;if(0===h.length&&p.hasChildren()){var d=this.processChildren(u,p);return[new Ht(o,d)]}if(0===u.length&&0===h.length)return[new Ht(o,[])];var f=this.processSegment(u,p,h,"primary");return[new Ht(o,f)]}}]),t}();function Ge(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ve(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function We(t,e,n,o,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Be(t,e,n)&&"primary"!==He(n)}))}(t,n,o)){var s=new wt(e,function(t,e,n,o){var i={};i.primary=o,o._sourceSegment=t,o._segmentIndexShift=e.length;var s,a=r(n);try{for(a.s();!(s=a.n()).done;){var l=s.value;if(""===l.path&&"primary"!==He(l)){var u=new wt([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[He(l)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,o,new wt(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Be(t,e,n)}))}(t,n,o)){var a=new wt(t.segments,function(t,e,n,o,i,s){var a,l={},u=r(o);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Be(t,n,c)&&!i[He(c)]){var p=new wt([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===s?t.segments.length:e.length,l[He(c)]=p}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),l)}(t,e,n,o,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var l=new wt(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}function Be(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function He(t){return t.outlet||"primary"}function ze(t){return t.data||{}}function Ue(t){return t.resolve||{}}function Ke(t){return function(e){return e.pipe(Object(j.a)((function(e){var n=t(e);return n?Object(c.a)(n).pipe(Object(w.a)((function(){return e}))):Object(c.a)([e])})))}}var Ye,qe=function(){function t(){f(this,t)}return y(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Xe=((Ye=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Ye)},Ye.\u0275cmp=s.Hb({type:Ye,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ob(0,"router-outlet")},directives:function(){return[Cn]},encapsulation:2}),Ye);function Qe(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Ze(r,Je(e,r))}}function Ze(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Qe(t.children,e)}function Je(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function $e(t){var e=t.children&&t.children.map($e),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Xe),n}var tn=new s.q("ROUTES"),en=function(){function t(e,n,r,o){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=o}return y(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(w.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new fe(gt(o.injector.get(tn)).map($e),o)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(c.a)(this.loader.load(t)):mt(t()).pipe(Object(I.a)((function(t){return t instanceof s.v?Object(l.a)(t):Object(c.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),nn=function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new rn,this.attachRef=null},rn=function(){function t(){f(this,t),this.contexts=new Map}return y(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new nn,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),on=function(){function t(){f(this,t)}return y(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function sn(t){throw t}function an(t,e,n){return e.parse("/")}function ln(t,e){return Object(l.a)(null)}var un,cn,pn,hn=((pn=function(){function t(e,n,r,o,i,a,l,u){var c=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new b.a,this.errorHandler=sn,this.malformedUriErrorHandler=an,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ln,afterPreactivation:ln},this.urlHandlingStrategy=new on,this.routeReuseStrategy=new qe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(s.x),this.console=i.get(s.Y);var p=i.get(s.z);this.isNgZoneEnabled=p instanceof s.z,this.resetConfig(u),this.currentUrlTree=new bt(new wt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new en(a,l,(function(t){return c.triggerEvent(new nt(t))}),(function(t){return c.triggerEvent(new rt(t))})),this.routerState=Kt(this.currentUrlTree,this.rootComponentType),this.transitions=new h.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return y(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(O.a)((function(t){return 0!==t.id})),Object(w.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Object(j.a)((function(t){var o,i,s,a=!1,u=!1;return Object(l.a)(t).pipe(Object(F.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(j.a)((function(t){var r,o,i,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(l.a)(t).pipe(Object(j.a)((function(t){var r=e.transitions.getValue();return n.next(new Y(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?C.a:[t]})),Object(j.a)((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,o=e.configLoader,i=e.urlSerializer,s=e.config,function(t){return t.pipe(Object(j.a)((function(t){return function(t,e,n,r,o){return new _e(t,e,n,r,o).apply()}(r,o,i,t.extractedUrl,s).pipe(Object(w.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(F.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,o,i){return function(r){return r.pipe(Object(I.a)((function(r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new je(t,e,n,r,o,i).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),o,i).pipe(Object(w.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(F.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(F.a)((function(t){var r=new Z(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,p=t.source,h=t.restoredState,d=t.extras,f=new Y(u,e.serializeUrl(c),p,h);n.next(f);var g=Kt(c,e.rootComponentType).snapshot;return Object(l.a)(Object.assign(Object.assign({},t),{targetSnapshot:g,urlAfterRedirects:c,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),C.a})),Ke((function(t){var n=t.targetSnapshot,r=t.id,o=t.extractedUrl,i=t.rawUrl,s=t.extras,a=s.skipLocationChange,l=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:o,rawUrlTree:i,skipLocationChange:!!a,replaceUrl:!!l})})),Object(F.a)((function(t){var n=new J(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(w.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,o=e.rootContexts,i=n._root,function t(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=zt(n);return e.children.forEach((function(e){!function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ot(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ot(t.url,e.url)||!dt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!te(t,e)||!dt(t.queryParams,e.queryParams);case"paramsChange":default:return!te(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Te(o)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:r,o,i),u&&i.canDeactivateChecks.push(new Re(l&&l.outlet&&l.outlet.component||null,a))}else a&&Ae(n,l,i),i.canActivateChecks.push(new Te(o)),t(e,null,s.component?l?l.children:null:r,o,i)}(e,s[e.value.outlet],r,o.concat([e.value]),i),delete s[e.value.outlet]})),vt(s,(function(t,e){return Ae(t,r.getContext(e),i)})),i}(i,r?r._root:null,o,[i.value]))});var n,r,o,i})),function(t,e){return function(n){return n.pipe(Object(I.a)((function(n){var r=n.targetSnapshot,o=n.currentSnapshot,i=n.guards,s=i.canActivateChecks,a=i.canDeactivateChecks;return 0===a.length&&0===s.length?Object(l.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(c.a)(t).pipe(Object(I.a)((function(t){return function(t,e,n,r,o){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||0===i.length)return Object(l.a)(!0);var s=i.map((function(i){var s,a=ke(i,e,o);if(function(t){return t&&ge(t.canDeactivate)}(a))s=mt(a.canDeactivate(t,e,n,r));else{if(!ge(a))throw new Error("Invalid CanDeactivate guard");s=mt(a(t,e,n,r))}return s.pipe(Object(N.a)())}));return Object(l.a)(s).pipe(xe())}(t.component,t.route,n,e,r)})),Object(N.a)((function(t){return!0!==t}),!0))}(a,r,o,t).pipe(Object(I.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(c.a)(e).pipe(Object(H.a)((function(e){return Object(c.a)([Ie(e.route.parent,r),Ne(e.route,r),Me(t,e.path,n),Fe(t,e.route,n)]).pipe(Object(_.a)(),Object(N.a)((function(t){return!0!==t}),!0))})),Object(N.a)((function(t){return!0!==t}),!0))}(r,s,t,e):Object(l.a)(n)})),Object(w.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(F.a)((function(t){if(ye(t.guardsResult)){var n=pt('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(F.a)((function(t){var n=new $(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Object(O.a)((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new X(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Ke((function(t){if(t.guards.canActivateChecks.length)return Object(l.a)(t).pipe(Object(F.a)((function(t){var n=new tt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(j.a)((function(t){var r,o,i=!1;return Object(l.a)(t).pipe((r=e.paramsInheritanceStrategy,o=e.ngModule.injector,function(t){return t.pipe(Object(I.a)((function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(l.a)(t);var i=0;return Object(c.a)(n).pipe(Object(H.a)((function(t){return function(t,e,n,r){return function(t,e,n,r){var o=Object.keys(t);if(0===o.length)return Object(l.a)({});var i={};return Object(c.a)(o).pipe(Object(I.a)((function(o){return function(t,e,n,r){var o=ke(t,e,r);return mt(o.resolve?o.resolve(e,n):o(e,n))}(t[o],e,n,r).pipe(Object(F.a)((function(t){i[o]=t})))})),P(1),Object(I.a)((function(){return Object.keys(i).length===o.length?Object(l.a)(i):C.a})))}(t._resolve,t,e,r).pipe(Object(w.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),qt(t,n).resolve),null})))}(t.route,e,r,o)})),Object(F.a)((function(){return i++})),P(1),Object(I.a)((function(e){return i===n.length?Object(l.a)(t):C.a})))})))}),Object(F.a)({next:function(){return i=!0},complete:function(){if(!i){var r=new X(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))})),Object(F.a)((function(t){var n=new et(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Ke((function(t){var n=t.targetSnapshot,r=t.id,o=t.extractedUrl,i=t.rawUrl,s=t.extras,a=s.skipLocationChange,l=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:o,rawUrlTree:i,skipLocationChange:!!a,replaceUrl:!!l})})),Object(w.a)((function(t){var n=function(t,e,n){var o=function t(e,n,o){if(o&&e.shouldReuseRoute(n.value,o.value.snapshot)){var i=o.value;i._futureSnapshot=n.value;var s=function(e,n,o){return n.children.map((function(n){var i,s=r(o.children);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(l){s.e(l)}finally{s.f()}return t(e,n)}))}(e,n,o);return new Ht(i,s)}var a=e.retrieve(n.value);if(a){var l=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,l),l}var u,c=new Yt(new h.a((u=n.value).url),new h.a(u.params),new h.a(u.queryParams),new h.a(u.fragment),new h.a(u.data),u.outlet,u.component,u),p=n.children.map((function(n){return t(e,n)}));return new Ht(c,p)}(t,e._root,n?n._root:void 0);return new Ut(o,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(F.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(o=e.rootContexts,i=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},Object(w.a)((function(t){return new he(i,t.targetRouterState,t.currentRouterState,s).activate(o),t}))),Object(F.a)({next:function(){a=!0},complete:function(){a=!0}}),Object(z.a)((function(){if(!a&&!u){e.resetUrlToCurrentUrlTree();var r=new X(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null})),Object(x.a)((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var o=ye(r.url);o||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var i=new X(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(i),o?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Q(t.id,e.serializeUrl(t.extractedUrl),r);n.next(s);try{t.resolve(e.errorHandler(r))}catch(l){t.reject(l)}}var a;return C.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",o=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,o,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Qe(t),this.config=t.map($e),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.relativeTo,o=n.queryParams,i=n.fragment,a=n.preserveQueryParams,l=n.queryParamsHandling,u=n.preserveFragment;Object(s.V)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=r||this.routerState.root,p=u?this.currentUrlTree.fragment:i,h=null;if(l)switch(l){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}else h=a?this.currentUrlTree.queryParams:o||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,n,r,o,i){if(0===r.length)return ne(n.root,n.root,n,o,i);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new re(!0,0,t);var n=0,r=!1,o=t.reduce((function(t,o,i){if("object"==typeof o&&null!=o){if(o.outlets){var s={};return vt(o.outlets,(function(t,e){s[e]="string"==typeof t?t.split("/"):t})),[].concat(e(t),[{outlets:s}])}if(o.segmentPath)return[].concat(e(t),[o.segmentPath])}return"string"!=typeof o?[].concat(e(t),[o]):0===i?(o.split("/").forEach((function(e,o){0==o&&"."===e||(0==o&&""===e?r=!0:".."===e?n++:""!=e&&t.push(e))})),t):[].concat(e(t),[o])}),[]);return new re(r,n,o)}(r);if(s.toRoot())return ne(n.root,new wt([],{}),n,o,i);var a=function(t,e,n){if(t.isAbsolute)return new oe(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new oe(r,r===e.root,0)}var o=ee(t.commands[0])?0:1;return function(t,e,n){for(var r=t,o=e,i=n;i>o;){if(i-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new oe(r,!1,o-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+o,t.numberOfDoubleDots)}(s,n,t),l=a.processChildren?ae(a.segmentGroup,a.index,s.commands):se(a.segmentGroup,a.index,s.commands);return ne(a.segmentGroup,l,n,o,i)}(c,this.currentUrlTree,t,h,p)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(s.V)()&&this.isNgZoneEnabled&&!s.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ye(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(ye(t))return Ct(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Ct(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new q(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,o){var i,s,a,l=this.getTransition();if(l&&"imperative"!==e&&"imperative"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"hashchange"==e&&"popstate"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"popstate"==e&&"hashchange"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);o?(i=o.resolve,s=o.reject,a=o.promise):a=new Promise((function(t,e){i=t,s=e}));var u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:i,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var o=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||pn)(s.Xb(s.N),s.Xb(St),s.Xb(rn),s.Xb(i.j),s.Xb(s.r),s.Xb(s.w),s.Xb(s.i),s.Xb(void 0))},pn.\u0275prov=s.Jb({token:pn,factory:pn.\u0275fac}),pn),dn=((cn=function(){function t(e,n,r,o,i){f(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new b.a,null==r&&o.setAttribute(i.nativeElement,"tabindex","0")}return y(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:gn(this.skipLocationChange),replaceUrl:gn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(s.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:gn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:gn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||cn)(s.Nb(hn),s.Nb(Yt),s.Yb("tabindex"),s.Nb(s.E),s.Nb(s.l))},cn.\u0275dir=s.Ib({type:cn,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&s.ac("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[s.xb]}),cn),fn=((un=function(){function t(e,n,r){var o=this;f(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new b.a,this.subscription=e.events.subscribe((function(t){t instanceof q&&o.updateTargetUrlAndHref()}))}return y(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:gn(this.skipLocationChange),replaceUrl:gn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(s.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:gn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:gn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||un)(s.Nb(hn),s.Nb(Yt),s.Nb(i.k))},un.\u0275dir=s.Ib({type:un,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&s.ac("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(s.Wb("href",e.href,s.uc),s.Ab("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[s.xb]}),un);function gn(t){return""===t||!!t}var yn,vn,mn,Cn=((yn=function(){function t(e,n,r,o,i){f(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.n,this.deactivateEvents=new s.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return y(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new bn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||yn)(s.Nb(rn),s.Nb(s.P),s.Nb(s.j),s.Yb("name"),s.Nb(s.h))},yn.\u0275dir=s.Ib({type:yn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),yn),bn=function(){function t(e,n,r){f(this,t),this.route=e,this.childContexts=n,this.parent=r}return y(t,[{key:"get",value:function(t,e){return t===Yt?this.route:t===rn?this.childContexts:this.parent.get(t,e)}}]),t}(),wn=function t(){f(this,t)},_n=function(){function t(){f(this,t)}return y(t,[{key:"preload",value:function(t,e){return e().pipe(Object(x.a)((function(){return Object(l.a)(null)})))}}]),t}(),On=function(){function t(){f(this,t)}return y(t,[{key:"preload",value:function(t,e){return Object(l.a)(null)}}]),t}(),En=((mn=function(){function t(e,n,r,o,i){f(this,t),this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=new en(n,r,(function(t){return e.triggerEvent(new nt(t))}),(function(t){return e.triggerEvent(new rt(t))}))}return y(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(O.a)((function(t){return t instanceof q})),Object(H.a)((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(s.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,o=[],i=r(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;o.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?o.push(this.preloadConfig(t,s)):s.children&&o.push(this.processRoutes(t,s.children))}}catch(l){i.e(l)}finally{i.f()}return Object(c.a)(o).pipe(Object(U.a)(),Object(w.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(I.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||mn)(s.Xb(hn),s.Xb(s.w),s.Xb(s.i),s.Xb(s.r),s.Xb(wn))},mn.\u0275prov=s.Jb({token:mn,factory:mn.\u0275fac}),mn),Sn=((vn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return y(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Y?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof q&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof lt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new lt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||vn)(s.Xb(hn),s.Xb(i.w),s.Xb(void 0))},vn.\u0275prov=s.Jb({token:vn,factory:vn.\u0275fac}),vn),Pn=new s.q("ROUTER_CONFIGURATION"),Tn=new s.q("ROUTER_FORROOT_GUARD"),Rn=[i.j,{provide:St,useClass:Pt},{provide:hn,useFactory:function(t,e,n,r,o,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,p=new hn(null,t,e,n,r,o,s,gt(a));if(u&&(p.urlHandlingStrategy=u),c&&(p.routeReuseStrategy=c),l.errorHandler&&(p.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(p.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var h=Object(i.C)();p.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return l.onSameUrlNavigation&&(p.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(p.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(p.relativeLinkResolution=l.relativeLinkResolution),p},deps:[St,rn,i.j,s.r,s.w,s.i,tn,Pn,[function(){return function t(){f(this,t)}}(),new s.A],[function(){return function t(){f(this,t)}}(),new s.A]]},rn,{provide:Yt,useFactory:function(t){return t.routerState.root},deps:[hn]},{provide:s.w,useClass:s.K},En,On,_n,{provide:Pn,useValue:{enableTracing:!1}}];function kn(){return new s.y("Router",hn)}var An,Dn=((An=function(){function t(e,n){f(this,t)}return y(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Rn,Fn(e),{provide:Tn,useFactory:In,deps:[[hn,new s.A,new s.J]]},{provide:Pn,useValue:n||{}},{provide:i.k,useFactory:Nn,deps:[i.u,[new s.p(i.a),new s.A],Pn]},{provide:Sn,useFactory:xn,deps:[hn,i.w,Pn]},{provide:wn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:On},{provide:s.y,multi:!0,useFactory:kn},[Ln,{provide:s.d,multi:!0,useFactory:jn,deps:[Ln]},{provide:Vn,useFactory:Gn,deps:[Ln]},{provide:s.b,multi:!0,useExisting:Vn}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Fn(e)]}}}]),t}()).\u0275mod=s.Lb({type:An}),An.\u0275inj=s.Kb({factory:function(t){return new(t||An)(s.Xb(Tn,8),s.Xb(hn,8))}}),An);function xn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sn(t,e,n)}function Nn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new i.g(t,e):new i.t(t,e)}function In(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fn(t){return[{provide:s.a,multi:!0,useValue:t},{provide:tn,multi:!0,useValue:t}]}var Mn,Ln=((Mn=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new b.a}return y(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(i.i,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(hn),o=t.injector.get(Pn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(o.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(l.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Pn),n=this.injector.get(En),r=this.injector.get(Sn),o=this.injector.get(hn),i=this.injector.get(s.g);t===i.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Mn)(s.Xb(s.r))},Mn.\u0275prov=s.Jb({token:Mn,factory:Mn.\u0275fac}),Mn);function jn(t){return t.appInitializer.bind(t)}function Gn(t){return t.bootstrapListener.bind(t)}var Vn=new s.q("Router Initializer")},sWLk:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},"sg/T":function(t,e,r){"use strict";r.d(e,"a",(function(){return F})),r.d(e,"b",(function(){return N})),r.d(e,"c",(function(){return O})),r.d(e,"d",(function(){return D})),r.d(e,"e",(function(){return R}));var o=r("2kYt"),i=r("EM62"),s=r("cZZj"),l=r("ZTXN"),c=r("bwdy"),p=r("ROBh"),h=r("fAiE"),g=r("8j5Y"),v=r("mWib"),m=r("xVbo"),C=r("YtkY"),b=r("J+dc"),w=r("5XID"),_=r("TKFd"),O=function(t){a(r,t);var e=u(r);function r(){var t;return f(this,r),(t=e.apply(this,arguments))._origin="program",t}return y(r,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){n(d(r.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),r}(function(){function t(e){var n=this;f(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new l.a,this._typeaheadSubscription=c.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new l.a,this.change=new l.a,e instanceof i.D&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return y(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(g.a)((function(e){return t._pressedLetters.push(e)})),Object(v.a)(e),Object(m.a)((function(){return t._pressedLetters.length>0})),Object(C.a)((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),r=1;r<n.length+1;r++){var o=(t._activeItemIndex+r)%n.length,i=n[o];if(!t._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(o);break}}t._pressedLetters=[]})),this}},{key:"withHomeAndEnd",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=t,this}},{key:"setActiveItem",value:function(t){var e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case h.l:return void this.tabOut.next();case h.c:if(this._vertical&&r){this.setNextItemActive();break}return;case h.m:if(this._vertical&&r){this.setPreviousItemActive();break}return;case h.j:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case h.h:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case h.g:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case h.d:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Object(h.p)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=h.a&&n<=h.n||n>=h.o&&n<=h.i)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof i.D?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}()),E=function(){var t=function(){function t(e){f(this,t),this._platform=e}return y(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(e){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){if(-1===P(n))return!1;if(!this.isVisible(n))return!1}var r=t.nodeName.toLowerCase(),o=P(t);return t.hasAttribute("contenteditable")?-1!==o:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}},{key:"isFocusable",value:function(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||S(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(s.a))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(s.a))},token:t,providedIn:"root"}),t}();function S(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function P(t){if(!S(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var T=function(){function t(e,n,r,o){var i=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=function(){return i.focusLastTabbableElement()},this.endAnchorListener=function(){return i.focusFirstTabbableElement()},this._enabled=!0,s||this.attachAnchors()}return y(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Object(b.a)(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),R=function(){var t=function(){function t(e,n,r){f(this,t),this._checker=e,this._ngZone=n,this._document=r}return y(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new T(t,this._checker,this._ngZone,this._document,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(E),i.Xb(i.z),i.Xb(o.c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(E),Object(i.Xb)(i.z),Object(i.Xb)(o.c))},token:t,providedIn:"root"}),t}();"undefined"!=typeof Element&&Element;var k=new i.q("cdk-focus-monitor-default-options"),A=Object(s.e)({passive:!0,capture:!0}),D=function(){var t=function(){function t(e,n,r,o){var i=this;f(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!i._lastTouchTarget){var e=function(t){return 0===t.buttons}(t)?"keyboard":"mouse";i._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=i._touchTimeoutId&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=x(t),i._touchTimeoutId=setTimeout((function(){return i._lastTouchTarget=null}),650)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout((function(){return i._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(t){for(var e=x(t),n="focus"===t.type?i._onFocus:i._onBlur,r=e;r;r=r.parentElement)n.call(i,t,r)},this._document=r,this._detectionMode=(null==o?void 0:o.detectionMode)||0}return y(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(w.e)(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(p.a)(null);var r=Object(s.c)(n)||this._getDocument(),o=this._elementInfo.get(n);if(o)return e&&(o.checkChildren=!0),o.subject;var i={checkChildren:e,subject:new l.a,rootNode:r};return this._elementInfo.set(n,i),this._registerGlobalListeners(i),i.subject}},{key:"stopMonitoring",value:function(t){var e=Object(w.e)(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var r=Object(w.e)(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(t){var e=x(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===x(t))){var r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,A),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,A)})),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,A),t.addEventListener("mousedown",e._documentMousedownListener,A),t.addEventListener("touchstart",e._documentTouchstartListener,A),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,A),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,A),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var r=this._getDocument(),o=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,A),r.removeEventListener("mousedown",this._documentMousedownListener,A),r.removeEventListener("touchstart",this._documentTouchstartListener,A),o.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(i.z),i.Xb(s.a),i.Xb(o.c,8),i.Xb(k,8))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(i.z),Object(i.Xb)(s.a),Object(i.Xb)(o.c,8),Object(i.Xb)(k,8))},token:t,providedIn:"root"}),t}();function x(t){return t.composedPath?t.composedPath()[0]:t.target}var N=function(){var t=function(){function t(e,n){f(this,t),this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new i.n}return y(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe((function(e){return t.cdkFocusChange.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(D))},t.\u0275dir=i.Ib({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t}(),I=function(){var t=function(){function t(e,n){f(this,t),this._platform=e,this._document=n}return y(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(s.a),i.Xb(o.c))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.Xb)(s.a),Object(i.Xb)(o.c))},token:t,providedIn:"root"}),t}(),F=function(){var t=function t(e){f(this,t),e._applyBodyHighContrastModeCssClasses()};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.Xb(I))},imports:[[s.b,_.b]]}),t}()},v7EJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=["moz","ms","webkit"];var o=function(){if("undefined"==typeof window)return function(){return 0};if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);var t,e=r.filter((function(t){return t+"RequestAnimationFrame"in window}))[0];return e?window[e+"RequestAnimationFrame"]:(t=0,function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),o=setTimeout((function(){e(n+r)}),r);return t=n+r,o})}()},vT4p:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var o=1,i=Promise.resolve(),s={};function l(t){return t in s&&(delete s[t],!0)}var c=function(t){var e=o++;return s[e]=!0,i.then((function(){return l(e)&&t()})),e},p=function(t){l(t)},h=function(t){a(r,t);var e=u(r);function r(t,n){var o;return f(this,r),(o=e.call(this,t,n)).scheduler=t,o.work=n,o}return y(r,[{key:"requestAsyncId",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?n(d(r.prototype),"requestAsyncId",this).call(this,t,e,o):(t.actions.push(this),t.scheduled||(t.scheduled=c(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==o&&o>0||null===o&&this.delay>0)return n(d(r.prototype),"recycleAsyncId",this).call(this,t,e,o);0===t.actions.length&&(p(e),t.scheduled=void 0)}}]),r}(r("EWqr").a),g=new(function(t){a(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return y(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(r("DG/E").a))(h)},vobO:function(t,n,r){"use strict";r.d(n,"a",(function(){return I})),r.d(n,"b",(function(){return v})),r.d(n,"c",(function(){return x})),r.d(n,"d",(function(){return Y})),r.d(n,"e",(function(){return P})),r.d(n,"f",(function(){return g})),r.d(n,"g",(function(){return m})),r.d(n,"h",(function(){return S})),r.d(n,"i",(function(){return k}));var i=r("EM62"),s=r("ROBh"),l=r("IdLP"),c=r("5uDM"),p=r("xVbo"),h=r("YtkY"),d=r("2kYt"),g=function t(){f(this,t)},v=function t(){f(this,t)},m=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),o=r.toLowerCase(),i=t.slice(e+1).trim();n.maybeSetNormalizedName(r,o),n.headers.has(o)?n.headers.get(o).push(i):n.headers.set(o,[i])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(o,r),n.maybeSetNormalizedName(t,o))}))}:this.headers=new Map}return y(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var n=t.name.toLowerCase();switch(t.op){case"a":case"s":var r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);var o=("a"===t.op?this.headers.get(n):void 0)||[];o.push.apply(o,e(r)),this.headers.set(n,o);break;case"d":var i=t.value;if(i){var s=this.headers.get(n);if(!s)return;0===(s=s.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),C=function(){function t(){f(this,t)}return y(t,[{key:"encodeKey",value:function(t){return b(t)}},{key:"encodeValue",value:function(t){return b(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function b(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var w=function(){function t(){var e,n,r,i=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=s.encoder||new C,s.fromString){if(s.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=s.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach((function(t){var e=t.indexOf("="),i=o(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),s=i[0],a=i[1],l=r.get(s)||[];l.push(a),r.set(s,l)})),r)}else s.fromObject?(this.map=new Map,Object.keys(s.fromObject).forEach((function(t){var e=s.fromObject[t];i.map.set(t,Array.isArray(e)?e:[e])}))):this.map=null}return y(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],o=r.indexOf(e.value);-1!==o&&r.splice(o,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function _(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function O(t){return"undefined"!=typeof Blob&&t instanceof Blob}function E(t){return"undefined"!=typeof FormData&&t instanceof FormData}var S=function(){function t(e,n,r,o){var i;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new m),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new w,this.urlWithParams=n}return y(t,[{key:"serializeBody",value:function(){return null===this.body?null:_(this.body)||O(this.body)||E(this.body)||"string"==typeof this.body?this.body:this.body instanceof w?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||E(this.body)?null:O(this.body)?this.body.type||null:_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof w?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),u)),new t(n,r,i,{params:u,headers:l,reportProgress:a,responseType:o,withCredentials:s})}}]),t}(),P=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),T=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new m,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},R=function(t){a(n,t);var e=u(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=P.ResponseHeader,t}return y(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(T),k=function(t){a(n,t);var e=u(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=P.Response,t.body=void 0!==r.body?r.body:null,t}return y(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(T),A=function(t){a(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(T);function D(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var x=function(){var t=function(){function t(e){f(this,t),this.handler=e}return y(t,[{key:"request",value:function(t,e){var n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof S)n=t;else{var i=void 0;i=o.headers instanceof m?o.headers:new m(o.headers);var a=void 0;o.params&&(a=o.params instanceof w?o.params:new w({fromObject:o.params})),n=new S(t,e,void 0!==o.body?o.body:null,{headers:i,params:a,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var l=Object(s.a)(n).pipe(Object(c.a)((function(t){return r.handler.handle(t)})));if(t instanceof S||"events"===o.observe)return l;var u=l.pipe(Object(p.a)((function(t){return t instanceof k})));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(h.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(Object(h.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(Object(h.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(Object(h.a)((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new w).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,D(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,D(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,D(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(g))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),N=function(){function t(e,n){f(this,t),this.next=e,this.interceptor=n}return y(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),I=new i.q("HTTP_INTERCEPTORS"),F=function(){var t=function(){function t(){f(this,t)}return y(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),M=/^\)\]\}',?\n/,L=function t(){f(this,t)},j=function(){var t=function(){function t(){f(this,t)}return y(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),G=function(){var t=function(){function t(e){f(this,t),this.xhrFactory=e}return y(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new l.a((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var o=t.detectContentTypeHeader();null!==o&&r.setRequestHeader("Content-Type",o)}if(t.responseType){var i=t.responseType.toLowerCase();r.responseType="json"!==i?i:"text"}var s=t.serializeBody(),a=null,l=function(){if(null!==a)return a;var e=1223===r.status?204:r.status,n=r.statusText||"OK",o=new m(r.getAllResponseHeaders()),i=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new R({headers:o,status:e,statusText:n,url:i})},u=function(){var e=l(),o=e.headers,i=e.status,s=e.statusText,a=e.url,u=null;204!==i&&(u=void 0===r.response?r.responseText:r.response),0===i&&(i=u?200:0);var c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){var p=u;u=u.replace(M,"");try{u=""!==u?JSON.parse(u):null}catch(h){u=p,c&&(c=!1,u={error:h,text:u})}}c?(n.next(new k({body:u,headers:o,status:i,statusText:s,url:a||void 0})),n.complete()):n.error(new A({error:u,headers:o,status:i,statusText:s,url:a||void 0}))},c=function(t){var e=l().url,o=new A({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(o)},p=!1,h=function(e){p||(n.next(l()),p=!0);var o={type:P.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(o.total=e.total),"text"===t.responseType&&r.responseText&&(o.partialText=r.responseText),n.next(o)},d=function(t){var e={type:P.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",u),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",h),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:P.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",u),t.reportProgress&&(r.removeEventListener("progress",h),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(L))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),V=new i.q("XSRF_COOKIE_NAME"),W=new i.q("XSRF_HEADER_NAME"),B=function t(){f(this,t)},H=function(){var t=function(){function t(e,n,r){f(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return y(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(d.D)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(d.c),i.Xb(i.B),i.Xb(V))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),z=function(){var t=function(){function t(e,n){f(this,t),this.tokenService=e,this.headerName=n}return y(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(B),i.Xb(W))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),U=function(){var t=function(){function t(e,n){f(this,t),this.backend=e,this.injector=n,this.chain=null}return y(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(I,[]);this.chain=e.reduceRight((function(t,e){return new N(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(v),i.Xb(i.r))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t}(),K=function(){var t=function(){function t(){f(this,t)}return y(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:z,useClass:F}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:V,useValue:e.cookieName}:[],e.headerName?{provide:W,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[z,{provide:I,useExisting:z,multi:!0},{provide:B,useClass:H},{provide:V,useValue:"XSRF-TOKEN"},{provide:W,useValue:"X-XSRF-TOKEN"}]}),t}(),Y=function(){var t=function t(){f(this,t)};return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[x,{provide:g,useClass:U},G,{provide:v,useExisting:G},j,{provide:L,useExisting:j}],imports:[[K.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}()},xVbo:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5uGe");function o(t,e){return function(n){return n.lift(new i(t,e))}}var i=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}]),t}(),s=function(t){a(n,t);var e=u(n);function n(t,r,o){var i;return f(this,n),(i=e.call(this,t)).predicate=r,i.thisArg=o,i.count=0,i}return y(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(r.a)},yTkW:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){a(n,t);var e=u(n);function n(t,r){var o;return f(this,n),(o=e.call(this)).subject=t,o.subscriber=r,o.closed=!1,o}return y(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("bwdy").a)},zUnb:function(t,e,n){"use strict";n.r(e);var o,i,s,a=n("EM62"),l=n("cHbk"),u=n("e4iD"),c=n("sEIs"),p=n("5lCh"),h=n("vobO"),d=n("Ux30"),g=n("5VY1"),v=n("FP8e"),m=n("U6NZ"),C=n("nIj0"),b=((o=function t(){f(this,t),this.title="reportkpiv2"}).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=a.Hb({type:o,selectors:[["cy-root"]],decls:1,vars:0,template:function(t,e){1&t&&a.Ob(0,"router-outlet")},directives:[c.h],styles:[""]}),o),w=n("Tu4v"),_=n("qBiZ"),O=n("J50X"),E=n("ICOb"),S=n("IdLP"),P=((s=function(){function t(e,n,r,o){f(this,t),this.appVersion=e,this.config=n,this.user=r,this.router=o,this.logger=new E.a(t)}return y(t,[{key:"canActivate",value:function(t,e){var n=this;return new S.a((function(t){n.user.read().isAuthenticated()?(t.next(!0),t.complete()):(n.config.read(),n.user.shared.navigateLogin(n.router),t.next(!1),t.complete())}))}},{key:"checkAppVersion",value:function(t,e){var n=this;return new S.a((function(r){t===n.appVersion?(r.next(!0),r.complete()):n.config.shared.modal.create({nzTitle:"C\u1ea3nh b\xe1o - V."+n.appVersion,nzContent:"Phi\xean b\u1ea3n \u1ee9ng d\u1ee5ng \u0111\xe3 l\u1ed7i th\u1eddi -> Vui l\xf2ng \u0111\u0103ng xu\u1ea5t v\xe0 \u0111\u0103ng nh\u1eadp l\u1ea1i.",nzCancelText:"\u0110\u1ec3 sau",nzOkText:"\u0110\u0103ng xu\u1ea5t",nzOnCancel:function(){return"close"},nzOnOk:function(){return"ok"}}).afterClose.subscribe((function(t){var o="ok"===t;o&&n.user.shared.navigateLogin(n.router,e),r.next(!o),r.complete()}))}))}}]),t}()).\u0275fac=function(t){return new(t||s)(a.Xb(O.c),a.Xb(_.a),a.Xb(w.a),a.Xb(c.d))},s.\u0275prov=a.Jb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),T=((i=function(){function t(){f(this,t)}return y(t,[{key:"intercept",value:function(t,e){return this.handleAccess(t,e)}},{key:"handleAccess",value:function(t,e){var n,o={},i=t.headers.keys(),s=i.indexOf("cookie");-1!==s&&i.splice(s,1);var a,l=r(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;o[u]=t.headers.getAll(u)}}catch(p){l.e(p)}finally{l.f()}var c=new h.g(o);return n=t.clone({headers:c}),e.handle(n)}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275prov=a.Jb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),R=[{path:"excel",loadChildren:function(){return Promise.all([n.e(3),n.e(12)]).then(n.bind(null,"EVzS")).then((function(t){return t.ExcelModule}))}},{path:"user-config",loadChildren:function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"wik/")).then((function(t){return t.UserConfigModule}))}},{path:"signup",loadChildren:function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"OHUZ")).then((function(t){return t.SignupModule}))}},{path:"login",loadChildren:function(){return Promise.all([n.e(0),n.e(4),n.e(6),n.e(11)]).then(n.bind(null,"fp1I")).then((function(t){return t.LoginFormModule}))}},{path:"send-report",canActivate:[P],loadChildren:function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(5),n.e(14)]).then(n.bind(null,"LB2t")).then((function(t){return t.SendReportModule}))}},{path:"admin",canActivate:[P],loadChildren:function(){return Promise.all([n.e(2),n.e(4),n.e(13)]).then(n.bind(null,"CG4r")).then((function(t){return t.AdminModule}))}},{path:"user-detail",canActivate:[P],loadChildren:function(){return n.e(18).then(n.bind(null,"bhdK")).then((function(t){return t.UserDetailModule}))}},{path:"tickets",canActivate:[P],loadChildren:function(){return Promise.all([n.e(0),n.e(2),n.e(4),n.e(3),n.e(5),n.e(6),n.e(16)]).then(n.bind(null,"zl81")).then((function(t){return t.TicketListModule}))}},{path:"**",redirectTo:"/tickets",pathMatch:"full"}];function k(t){return function(){return t.load().catch((function(t){return console.error(t)}))}}var A,D=((A=function t(){f(this,t)}).\u0275mod=a.Lb({type:A,bootstrap:[b]}),A.\u0275inj=a.Kb({factory:function(t){return new(t||A)},providers:[{provide:h.a,useClass:T,multi:!0},{provide:a.d,useFactory:k,deps:[_.a],multi:!0},{provide:O.c,useValue:Date.now()},{provide:d.b,useValue:d.f}],imports:[[u.a,c.g.forRoot(R,{preloadingStrategy:c.c,useHash:!0}),p.b,h.d,C.q,C.i,g.a,m.a,v.a]]}),A);Object(a.S)(),l.b.setLicenseKey("_MjU1NTk0NjAwMDAwMA==3d4e805d480235845d58b32b2dae76d0"),u.c().bootstrapModule(D).catch((function(t){return console.error(t)}))},zYp8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("JuBR"),o=n("N1LS"),i=n("mrqE");function s(t,e){Object(i.a)(1,arguments);var n=e||{},s=n.locale,a=s&&s.options&&s.options.weekStartsOn,l=null==a?0:Object(o.a)(a),u=null==n.weekStartsOn?l:Object(o.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(r.a)(t),p=c.getDay(),h=(p<u?7:0)+p-u;return c.setDate(c.getDate()-h),c.setHours(0,0,0,0),c}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,1]]])}();