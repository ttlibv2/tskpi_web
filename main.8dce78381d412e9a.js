"use strict";(self.webpackChunkTS24AppWeb=self.webpackChunkTS24AppWeb||[]).push([[179],{8267:(Dn,ht,I)=>{I.d(ht,{J8Z:()=>rc,nv3:()=>Cp,jkc:()=>cu,$zI:()=>Sc,H1u:()=>Bf,sJC:()=>xp,O_3:()=>Ka,wSp:()=>mp,j_S:()=>os,LQq:()=>yc,wGv:()=>A1,h7_:()=>Yf,nN0:()=>$f,Cvn:()=>Af,fsG:()=>oe,Nk3:()=>J2,Vu6:()=>mn,AS9:()=>wn,StC:()=>ma,Dkq:()=>Q1,j_r:()=>ls,Ilk:()=>Uo,sgG:()=>Dt,Exx:()=>Pr,wA2:()=>di,plv:()=>jo,gTE:()=>xe,fQL:()=>rp,jUB:()=>Pa,rvo:()=>Hs,POd:()=>Be,zW2:()=>qe,nPL:()=>wi,rjZ:()=>$2,wfB:()=>lr,fkf:()=>No,poj:()=>Gs,VDZ:()=>Nn,D_6:()=>zo,GXE:()=>Nt,O3h:()=>an,at1:()=>Ed,FiY:()=>er,RXH:()=>Fu,Gxm:()=>Wf,NqP:()=>Vt,$j7:()=>br,FXL:()=>fn,KTm:()=>cr,AGU:()=>$p,qaB:()=>Er,cqo:()=>Fn,oh5:()=>eu,Fxk:()=>vi,NlK:()=>Sp,Lm6:()=>oa,Qk6:()=>Si,BxR:()=>up,WD6:()=>cm,QVL:()=>N1,rwP:()=>_s,vA3:()=>kf,HO_:()=>zu,CPJ:()=>Q2,_:()=>Pc});var x={};I.r(x),I.d(x,{attrToBoolean:()=>ze,attrToNumber:()=>gt,attrToString:()=>mt,defaultComparator:()=>$t,exists:()=>se,jsonEquals:()=>It,makeNull:()=>Yt,missing:()=>ot,missingOrEmpty:()=>De,referenceCompare:()=>Ft,toStringOrNull:()=>et,values:()=>ut});var G={};I.r(G),I.d(G,{cloneObject:()=>en,copyPropertiesIfPresent:()=>_r,copyPropertyIfPresent:()=>gr,deepCloneDefinition:()=>jt,deepCloneObject:()=>xt,deepFreeze:()=>rr,get:()=>Ni,getAllKeysInObjects:()=>xi,getAllValuesInObject:()=>oi,getProperty:()=>Hn,getValueUsingField:()=>pr,isNonNullObject:()=>mi,iterateObject:()=>tt,mergeDeep:()=>Or,missingOrEmptyObject:()=>bi,removeAllReferences:()=>Mi,set:()=>Ui,setProperty:()=>or});var z={};I.r(z),I.d(z,{callIfPresent:()=>bn,compose:()=>Pn,debounce:()=>Ie,doOnce:()=>ue,executeAfter:()=>ve,executeInAWhile:()=>dt,executeNextVMTurn:()=>We,getFunctionName:()=>Ye,getFunctionParameters:()=>At,isFunction:()=>Xt,waitUntil:()=>Tt});var Se={};I.r(Se),I.d(Se,{areEqual:()=>je,compareArrays:()=>kt,existsAndNotEmpty:()=>Ke,firstExistingValue:()=>Ct,flatten:()=>Vn,forEachReverse:()=>so,includes:()=>$r,insertArrayIntoArray:()=>Br,insertIntoArray:()=>Mr,last:()=>ft,moveInArray:()=>Pi,pushAll:()=>Rr,removeAllFromArray:()=>sr,removeFromArray:()=>zn,removeRepeatsFromArray:()=>yn,shallowCompare:()=>pe,sortNumerically:()=>St,toStrings:()=>hi});var Ee={};I.r(Ee),I.d(Ee,{addAgGridEventPath:()=>lo,addChangeListener:()=>$i,addSafePassiveEventListener:()=>xn,createEventPath:()=>Go,getCtrlForEvent:()=>to,getEventPath:()=>ri,isElementInEventPath:()=>Ei,isEventSupported:()=>go,isStopPropagationForAgGrid:()=>Ki,stopPropagationForAgGrid:()=>Qi});var Fe={};I.r(Fe),I.d(Fe,{camelCaseToHumanText:()=>Na,camelCaseToHyphen:()=>Al,capitalise:()=>gs,escapeString:()=>Oo,hyphenToCamelCase:()=>Wo,utf8_encode:()=>vo});var ke={};I.r(ke),I.d(ke,{convertToMap:()=>Zo,keys:()=>Tc,mapById:()=>qa});var Ae={};I.r(Ae),I.d(Ae,{getBodyHeight:()=>B,getBodyWidth:()=>$,getMaxDivHeight:()=>si,getScrollbarWidth:()=>Ji,getTabIndex:()=>Zr,hasOverflowScrolling:()=>ee,isBrowserChrome:()=>Xn,isBrowserEdge:()=>tn,isBrowserFirefox:()=>Di,isBrowserSafari:()=>gn,isIOSUserAgent:()=>ai,isInvisibleScrollbar:()=>Ai});var Ve={};I.r(Ve),I.d(Ve,{addOrRemoveAttribute:()=>yo,addStylesToElement:()=>Ge,appendHtml:()=>nn,clearElement:()=>j,copyNodeList:()=>ui,ensureDomOrder:()=>P,formatSize:()=>mr,getAbsoluteHeight:()=>uo,getAbsoluteWidth:()=>Jl,getElementAttribute:()=>tr,getElementSize:()=>Mn,getInnerHeight:()=>li,getInnerWidth:()=>Ql,getScrollLeft:()=>na,insertWithDomOrder:()=>K,isElement:()=>Dr,isElementChildOfClass:()=>es,isFocusableFormField:()=>Zn,isHorizontalScrollShowing:()=>pt,isNode:()=>Wr,isNodeOrElement:()=>Nr,isRtlNegativeScroll:()=>ts,isVerticalScrollShowing:()=>vt,isVisible:()=>He,iterateNamedNodeMap:()=>qi,loadTemplate:()=>_t,nodeListForEach:()=>pi,offsetHeight:()=>Jr,offsetWidth:()=>re,prependDC:()=>ge,radioCssClass:()=>un,removeElement:()=>ne,removeFromParent:()=>q,setCheckboxState:()=>mo,setDisabled:()=>Oa,setDisplayed:()=>Ar,setDomChildOrder:()=>F,setElementHeight:()=>Gn,setElementWidth:()=>Ht,setFixedHeight:()=>Bn,setFixedWidth:()=>Qt,setScrollLeft:()=>sl,setVisible:()=>wo});var Pe={};I.r(Pe),I.d(Pe,{bindCellRendererToHtmlElement:()=>fi,cssStyleObjectToMarkup:()=>Co,findLineByLeastSquares:()=>Ci,getNameOfClass:()=>To,message:()=>fa});var Oe={};I.r(Oe),I.d(Oe,{getAriaDescribedBy:()=>Sr,getAriaLevel:()=>ec,getAriaPosInSet:()=>ur,getAriaSortState:()=>ns,removeAriaExpanded:()=>Wi,removeAriaSort:()=>Mh,setAriaChecked:()=>jp,setAriaColCount:()=>Ns,setAriaColIndex:()=>ll,setAriaColSpan:()=>xo,setAriaDescribedBy:()=>Fr,setAriaDisabled:()=>ko,setAriaExpanded:()=>Vi,setAriaLabel:()=>xr,setAriaLabelledBy:()=>ei,setAriaLevel:()=>Ta,setAriaMultiSelectable:()=>ra,setAriaPosInSet:()=>xc,setAriaRole:()=>Xi,setAriaRowCount:()=>Il,setAriaRowIndex:()=>xa,setAriaSelected:()=>is,setAriaSetSize:()=>rs,setAriaSort:()=>xh});var be={};I.r(be),I.d(be,{stringToArray:()=>Zc});var Xe={};I.r(Xe),I.d(Xe,{cleanNumber:()=>W,createArrayOfNumbers:()=>Ma,decToHex:()=>V,formatNumberCommas:()=>Q,formatNumberTwoDecimalPlacesAndCommas:()=>k,isNumeric:()=>Up,padStartWidthZeros:()=>ks,sum:()=>te});var Je={};I.r(Je),I.d(Je,{parseDateTimeFromString:()=>yt,serialiseDate:()=>at});var lt={};I.r(lt),I.d(lt,{fuzzyCheckStrings:()=>hn,fuzzySuggestions:()=>ir,get_bigrams:()=>ti,string_distances:()=>yr,string_weighted_distances:()=>ji});var Lt={};I.r(Lt),I.d(Lt,{createIcon:()=>So,createIconNoSpan:()=>io,iconNameClassMap:()=>Li});var ct={};I.r(ct),I.d(ct,{isEventFromPrintableCharacter:()=>Qc,isUserSuppressingHeaderKeyboardEvent:()=>Yp,isUserSuppressingKeyboardEvent:()=>nc});var Jt={};I.r(Jt),I.d(Jt,{areEventsNear:()=>Ph});var On={};I.r(On),I.d(On,{sortRowNodesByOrder:()=>S1,traverseNodesWithKey:()=>b1});var w={};function Yt(u){return null==u||""===u?null:u}function se(u,i){return void 0===i&&(i=!1),null!=u&&(""!==u||i)}function ot(u){return!se(u)}function De(u){return null==u||0===u.length}function et(u){return null!=u&&"function"==typeof u.toString?u.toString():null}function gt(u){if(void 0!==u){if(null===u||""===u)return null;if("number"==typeof u)return isNaN(u)?void 0:u;var i=parseInt(u,10);return isNaN(i)?void 0:i}}function ze(u){if(void 0!==u)return null!==u&&""!==u&&("boolean"==typeof u?u:/true/i.test(u))}function mt(u){if(null!=u&&""!==u)return u}function Ft(u,i){return null==u&&null==i||!(null==u&&null!=i||null!=u&&null==i)&&u===i}function It(u,i){return(u?JSON.stringify(u):null)===(i?JSON.stringify(i):null)}function $t(u,i,n){void 0===n&&(n=!1);var a=null==u,c=null==i;if(u&&u.toNumber&&(u=u.toNumber()),i&&i.toNumber&&(i=i.toNumber()),a&&c)return 0;if(a)return-1;if(c)return 1;function d(v,C){return v>C?1:v<C?-1:0}if("string"!=typeof u||!n)return d(u,i);try{return u.localeCompare(i)}catch(v){return d(u,i)}}function ut(u){if(u instanceof Set||u instanceof Map){var i=[];return u.forEach(function(n){return i.push(n)}),i}return Object.values(u)}I.r(w),I.d(w,{convertToSet:()=>Nl});var pn=function(){function u(){this.existingKeys={}}return u.prototype.addExistingKeys=function(i){for(var n=0;n<i.length;n++)this.existingKeys[i[n]]=!0},u.prototype.getUniqueKey=function(i,n){i=et(i);for(var a=0;;){var c=void 0;if(i?(c=i,0!==a&&(c+="_"+a)):n?(c=n,0!==a&&(c+="_"+a)):c=""+a,!this.existingKeys[c])return this.existingKeys[c]=!0,c;a++}},u}();function tt(u,i){null!=u&&(Array.isArray(u)?u.forEach(function(n,a){return i(""+a,n)}):Object.keys(u).forEach(function(n){return i(n,u[n])}))}function en(u){for(var i={},n=Object.keys(u),a=0;a<n.length;a++){var c=n[a];i[c]=u[c]}return i}function xt(u){return JSON.parse(JSON.stringify(u))}function jt(u,i){if(u){var n=u,a={};return Object.keys(n).forEach(function(c){if(!(i&&i.indexOf(c)>=0)){var d=n[c],v=mi(d)&&d.constructor===Object;a[c]=v?jt(d):d}}),a}}function Hn(u,i){return u[i]}function or(u,i,n){u[i]=n}function _r(u,i){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];n.forEach(function(c){return gr(u,i,c)})}function gr(u,i,n,a){var c=Hn(u,n);void 0!==c&&or(i,n,a?a(c):c)}function xi(u){var i={};return u.filter(function(n){return null!=n}).forEach(function(n){Object.keys(n).forEach(function(a){return i[a]=null})}),Object.keys(i)}function oi(u){if(!u)return[];var i=Object;if("function"==typeof i.values)return i.values(u);var n=[];for(var a in u)u.hasOwnProperty(a)&&u.propertyIsEnumerable(a)&&n.push(u[a]);return n}function Or(u,i,n,a){void 0===n&&(n=!0),void 0===a&&(a=!1),se(i)&&tt(i,function(c,d){var v=u[c];v!==d&&(a&&null==v&&null!=d&&"object"==typeof d&&d.constructor===Object&&(u[c]=v={}),mi(d)&&mi(v)&&!Array.isArray(v)?Or(v,d,n,a):(n||void 0!==d)&&(u[c]=d))})}function bi(u){return ot(u)||0===Object.keys(u).length}function Ni(u,i,n){if(null==u)return n;for(var a=i.split("."),c=u;a.length>1;)if(null==(c=c[a.shift()]))return n;var d=c[a[0]];return null!=d?d:n}function Ui(u,i,n){if(null!=u){for(var a=i.split("."),c=u;a.length>1;)if(null==(c=c[a.shift()]))return;c[a[0]]=n}}function rr(u){return Object.freeze(u),ut(u).forEach(function(i){(mi(i)||"function"==typeof i)&&rr(i)}),u}function pr(u,i,n){if(i&&u){if(!n)return u[i];for(var a=i.split("."),c=u,d=0;d<a.length;d++){if(null==c)return;c=c[a[d]]}return c}}function Mi(u,i){Object.keys(u).forEach(function(c){"object"==typeof u[c]&&(u[c]=void 0)});var n=Object.getPrototypeOf(u),a={};Object.keys(n).forEach(function(c){"function"==typeof n[c]&&(a[c]={value:function(){console.warn("AG Grid: "+i+" function "+c+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(u,a)}function mi(u){return"object"==typeof u&&null!==u}var ao=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Kn=/([^\s,]+)/g,qt={};function ue(u,i){qt[i]||(u(),qt[i]=!0)}function Ye(u){if(u.name)return u.name;var i=/function\s+([^\(]+)/.exec(u.toString());return i&&2===i.length?i[1].trim():null}function At(u){var i=u.toString().replace(ao,"");return i.slice(i.indexOf("(")+1,i.indexOf(")")).match(Kn)||[]}function Xt(u){return!!(u&&u.constructor&&u.call&&u.apply)}function dt(u){ve(u,400)}var $e=[],fe=!1;function We(u){$e.push(u),!fe&&(fe=!0,window.setTimeout(function(){var i=$e.slice();$e.length=0,fe=!1,i.forEach(function(n){return n()})},0))}function ve(u,i){void 0===i&&(i=0),u.length>0&&window.setTimeout(function(){return u.forEach(function(n){return n()})},i)}function Ie(u,i,n){var a;return void 0===n&&(n=!1),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var v=this,C=n&&!a;window.clearTimeout(a),a=window.setTimeout(function(){a=null,n||u.apply(v,c)},i),C&&u.apply(v,c)}}function Tt(u,i,n,a){void 0===n&&(n=100);var c=(new Date).getTime(),d=null,v=!1,C=function(){var M=(new Date).getTime()-c>n;(u()||M)&&(i(),v=!0,null!=d&&(window.clearInterval(d),d=null),M&&a&&console.warn(a))};C(),v||(d=window.setInterval(C,10))}function Pn(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];return function(n){return u.reduce(function(a,c){return c(a)},n)}}function bn(u){u&&u()}var Tn=function(){function u(i,n){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=n,this.logger.log(">> creating ag-Application Context"),this.createBeans();var a=this.getBeanInstances();this.wireBeans(a),this.logger.log(">> ag-Application Context ready - component is alive")}}return u.prototype.getBeanInstances=function(){return ut(this.beanWrappers).map(function(i){return i.beanInstance})},u.prototype.createBean=function(i,n){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],n),i},u.prototype.wireBeans=function(i,n){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),se(n)&&i.forEach(n),this.callLifeCycleMethods(i,"postConstructMethods")},u.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),tt(this.beanWrappers,function(a,c){var d;c.bean.__agBeanMetaData&&c.bean.__agBeanMetaData.autowireMethods&&c.bean.__agBeanMetaData.autowireMethods.agConstructor&&(d=c.bean.__agBeanMetaData.autowireMethods.agConstructor);var v=i.getBeansForParameters(d,c.bean.name),C=function ar(u,i){var n=[null].concat(i);return new(u.bind.apply(u,n))}(c.bean,v);c.beanInstance=C});var n=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+n)},u.prototype.createBeanWrapper=function(i){var n=i.__agBeanMetaData;if(!n){var a;return a=i.prototype.constructor?Ye(i.prototype.constructor):""+i,void console.error("Context item "+a+" is not a bean")}this.beanWrappers[n.beanName]={bean:i,beanInstance:null,beanName:n.beanName}},u.prototype.autoWireBeans=function(i){var n=this;i.forEach(function(a){n.forEachMetaDataInHierarchy(a,function(c,d){var v=c.agClassAttributes;!v||v.forEach(function(C){var M=n.lookupBeanInstance(d,C.beanName,C.optional);a[C.attributeName]=M})})})},u.prototype.methodWireBeans=function(i){var n=this;i.forEach(function(a){n.forEachMetaDataInHierarchy(a,function(c,d){tt(c.autowireMethods,function(v,C){if("agConstructor"!==v){var M=n.getBeansForParameters(C,d);a[v].apply(a,M)}})})})},u.prototype.forEachMetaDataInHierarchy=function(i,n){for(var a=Object.getPrototypeOf(i);null!=a;){var c=a.constructor;c.hasOwnProperty("__agBeanMetaData")&&n(c.__agBeanMetaData,this.getBeanName(c)),a=Object.getPrototypeOf(a)}},u.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var n=i.toString();return n.substring(9,n.indexOf("("))},u.prototype.getBeansForParameters=function(i,n){var a=this,c=[];return i&&tt(i,function(d,v){var C=a.lookupBeanInstance(n,v);c[Number(d)]=C}),c},u.prototype.lookupBeanInstance=function(i,n,a){if(void 0===a&&(a=!1),"context"===n)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(n))return this.contextParams.providedBeanInstances[n];var c=this.beanWrappers[n];return c?c.beanInstance:(a||console.error("AG Grid: unable to find bean reference "+n+" while initialising "+i),null)},u.prototype.callLifeCycleMethods=function(i,n){var a=this;i.forEach(function(c){return a.callLifeCycleMethodsOnBean(c,n)})},u.prototype.callLifeCycleMethodsOnBean=function(i,n,a){var c={};this.forEachMetaDataInHierarchy(i,function(v){var C=v[n];C&&C.forEach(function(M){M!=a&&(c[M]=!0)})}),Object.keys(c).forEach(function(v){return i[v]()})},u.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},u.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},u.prototype.destroyBean=function(i){!i||this.destroyBeans([i])},u.prototype.destroyBeans=function(i){var n=this;return i?(i.forEach(function(a){n.callLifeCycleMethodsOnBean(a,"preDestroyMethods","destroy"),"function"==typeof a.destroy&&a.destroy()}),[]):[]},u}();function br(u,i,n){var a=dr(u.constructor);a.preConstructMethods||(a.preConstructMethods=[]),a.preConstructMethods.push(i)}function Vt(u,i,n){var a=dr(u.constructor);a.postConstructMethods||(a.postConstructMethods=[]),a.postConstructMethods.push(i)}function fn(u,i,n){var a=dr(u.constructor);a.preDestroyMethods||(a.preDestroyMethods=[]),a.preDestroyMethods.push(i)}function mn(u){return function(i){dr(i).beanName=u}}function oe(u){return function(i,n,a){Lr(i,u,!1,0,n,null)}}function er(u){return function(i,n,a){Lr(i,u,!0,0,n,null)}}function Lr(u,i,n,a,c,d){if(null!==i)if("number"!=typeof d){var v=dr(u.constructor);v.agClassAttributes||(v.agClassAttributes=[]),v.agClassAttributes.push({attributeName:c,beanName:i,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Er(u){return function(i,n,a){var d,c="function"==typeof i?i:i.constructor;if("number"==typeof a){var v=void 0;n?(d=dr(c),v=n):(d=dr(c),v="agConstructor"),d.autowireMethods||(d.autowireMethods={}),d.autowireMethods[v]||(d.autowireMethods[v]={}),d.autowireMethods[v][a]=u}}}function dr(u){return u.hasOwnProperty("__agBeanMetaData")||(u.__agBeanMetaData={}),u.__agBeanMetaData}var Bt=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},wt=function(u,i){return function(n,a){i(n,a,u)}},Be=function(){function u(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return u.prototype.setBeans=function(i,n,a,c){if(void 0===c&&(c=null),this.frameworkOverrides=a,c){var d=n.useAsyncEvents();this.addGlobalListener(c,d)}},u.prototype.getListeners=function(i,n,a){var c=n?this.allAsyncListeners:this.allSyncListeners,d=c.get(i);return!d&&a&&c.set(i,d=new Set),d},u.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},u.prototype.addEventListener=function(i,n,a){void 0===a&&(a=!1),this.getListeners(i,a,!0).add(n)},u.prototype.removeEventListener=function(i,n,a){void 0===a&&(a=!1);var c=this.getListeners(i,a,!1);c&&(c.delete(n),0===c.size)&&(a?this.allAsyncListeners:this.allSyncListeners).delete(i)},u.prototype.addGlobalListener=function(i,n){void 0===n&&(n=!1),(n?this.globalAsyncListeners:this.globalSyncListeners).add(i)},u.prototype.removeGlobalListener=function(i,n){void 0===n&&(n=!1),(n?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},u.prototype.dispatchEvent=function(i){this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0},u.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},u.prototype.dispatchToListeners=function(i,n){var a=this,c=i.type,v=this.getListeners(c,n,!1);v&&v.forEach(function(L){n?a.dispatchAsync(function(){return L(i)}):L(i)}),(n?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(M){n?a.dispatchAsync(function(){return a.frameworkOverrides.dispatchEvent(c,function(){return M(c,i)},!0)}):a.frameworkOverrides.dispatchEvent(c,function(){return M(c,i)},!0)})},u.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},u.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(n){return n()})},Bt([wt(0,Er("loggerFactory")),wt(1,Er("gridOptionsWrapper")),wt(2,Er("frameworkOverrides")),wt(3,Er("globalEventListener"))],u.prototype,"setBeans",null),Bt([mn("eventService")],u)}(),xe=function(){function u(){}return u.ROW_BUFFER_SIZE=10,u.LAYOUT_INTERVAL=500,u.BATCH_WAIT_MILLIS=50,u.EXPORT_TYPE_DRAG_COPY="dragCopy",u.EXPORT_TYPE_CLIPBOARD="clipboard",u.EXPORT_TYPE_EXCEL="excel",u.EXPORT_TYPE_CSV="csv",u.ROW_MODEL_TYPE_INFINITE="infinite",u.ROW_MODEL_TYPE_VIEWPORT="viewport",u.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",u.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",u.ALWAYS="always",u.ONLY_WHEN_GROUPING="onlyWhenGrouping",u.PINNED_TOP="top",u.PINNED_BOTTOM="bottom",u.DOM_LAYOUT_NORMAL="normal",u.DOM_LAYOUT_PRINT="print",u.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",u.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",u.SOURCE_PASTE="paste",u.PINNED_RIGHT="right",u.PINNED_LEFT="left",u.SORT_ASC="asc",u.SORT_DESC="desc",u.INPUT_SELECTOR="input, select, button, textarea",u.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",u.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",u}(),Nt=(()=>{return(u=Nt||(Nt={})).CommunityCoreModule="@ag-grid-community/core",u.CommunityAllModules="@ag-grid-community/all",u.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",u.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",u.CsvExportModule="@ag-grid-community/csv-export",u.EnterpriseCoreModule="@ag-grid-enterprise/core",u.EnterpriseAllModules="@ag-grid-enterprise/all",u.RowGroupingModule="@ag-grid-enterprise/row-grouping",u.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",u.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",u.MenuModule="@ag-grid-enterprise/menu",u.SetFilterModule="@ag-grid-enterprise/set-filter",u.MultiFilterModule="@ag-grid-enterprise/multi-filter",u.StatusBarModule="@ag-grid-enterprise/status-bar",u.SideBarModule="@ag-grid-enterprise/side-bar",u.RangeSelectionModule="@ag-grid-enterprise/range-selection",u.MasterDetailModule="@ag-grid-enterprise/master-detail",u.RichSelectModule="@ag-grid-enterprise/rich-select",u.GridChartsModule="@ag-grid-enterprise/charts",u.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",u.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",u.ExcelExportModule="@ag-grid-enterprise/excel-export",u.ClipboardModule="@ag-grid-enterprise/clipboard",u.SparklinesModule="@ag-grid-enterprise/sparklines",u.AngularModule="@ag-grid-community/angular",u.ReactModule="@ag-grid-community/react",u.VueModule="@ag-grid-community/vue",u.PolymerModule="@ag-grid-community/polymer",Nt;var u})(),an=function(){function u(){}return u.register=function(i,n){void 0===n&&(n=!0),u.modulesMap[i.moduleName]=i,void 0===u.moduleBased?u.moduleBased=n:u.moduleBased!==n&&ue(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},u.registerModules=function(i,n){void 0===n&&(n=!0),i&&i.forEach(function(a){return u.register(a,n)})},u.assertRegistered=function(i,n){return!!this.isRegistered(i)||(c=u.moduleBased?"AG Grid: unable to use "+n+" as module "+i+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+n+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",ue(function(){console.warn(c)},n+i),!1);var c},u.isRegistered=function(i){return!!u.modulesMap[i]},u.getRegisteredModules=function(){return ut(u.modulesMap)},u.isPackageBased=function(){return!u.moduleBased},u.modulesMap={},u}(),vr=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},hr=0,Dt=function(){function u(i,n,a,c){this.instanceId=hr++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Be,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=n,this.colId=a,this.primary=c,this.setState(i)}return u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.setState=function(i){void 0!==i.sort?(i.sort===xe.SORT_ASC||i.sort===xe.SORT_DESC)&&(this.sort=i.sort):(i.initialSort===xe.SORT_ASC||i.initialSort===xe.SORT_DESC)&&(this.sort=i.initialSort);var n=gt(i.sortIndex),a=gt(i.initialSortIndex);void 0!==n?null!==n&&(this.sortIndex=n):null!==a&&(this.sortIndex=a);var c=ze(i.hide),d=ze(i.initialHide);this.visible=void 0!==c?!c:!d,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var v=gt(i.flex),C=gt(i.initialFlex);void 0!==v?this.flex=v:void 0!==C&&(this.flex=C)},u.prototype.setColDef=function(i,n){this.colDef=i,this.userProvidedColDef=n,this.initMinAndMaxWidths(),this.initDotNotation()},u.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},u.prototype.setParent=function(i){this.parent=i},u.prototype.getParent=function(){return this.parent},u.prototype.setOriginalParent=function(i){this.originalParent=i},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},u.prototype.initDotNotation=function(){var i=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=se(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=se(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},u.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},u.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var n=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(n,i,!0)},u.prototype.isEmptyGroup=function(){return!1},u.prototype.isRowGroupDisplayed=function(i){return!(ot(this.colDef)||ot(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},u.prototype.isPrimary=function(){return this.primary},u.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},u.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},u.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},u.prototype.validate=function(){var i=this.colDef;function n(v,C,M){ue(function(){M?console.warn(v,M):ue(function(){return console.warn(v)},C)},C)}this.gridOptionsWrapper.isRowModelDefault()&&!an.isRegistered(Nt.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(v){se(i[v])&&(an.isPackageBased()?n("AG Grid: "+v+" is only valid in ag-grid-enterprise, your column definition should not have "+v,"ColumnRowGroupingMissing"+v):n("AG Grid: "+v+" is only valid with AG Grid Enterprise Module "+Nt.RowGroupingModule+" - your column definition should not have "+v,"ColumnRowGroupingMissing"+v))}),an.isRegistered(Nt.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(an.isPackageBased()?n("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):n("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+Nt.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(v){se(i[v])&&n("AG Grid: "+v+" is not possible when doing tree data, your column definition should not have "+v,"TreeDataCannotRowGroup")}),se(this.colDef.width)&&"number"!=typeof this.colDef.width&&n("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),i.pinnedRowCellRenderer&&n("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererParams&&n("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererFramework&&n("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowValueGetter&&n("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},u.prototype.addEventListener=function(i,n){this.eventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.eventService.removeEventListener(i,n)},u.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},u.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var n=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(n)}return!1},u.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(i,this.colDef.editable)},u.prototype.isSuppressFillHandle=function(){return!!ze(this.colDef.suppressFillHandle)},u.prototype.isAutoHeight=function(){return!!ze(this.colDef.autoHeight)},u.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},u.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},u.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},u.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},u.prototype.isResizable=function(){return!!ze(this.colDef.resizable)},u.prototype.isColumnFunc=function(i,n){return"boolean"==typeof n?n:"function"==typeof n&&n(this.createColumnFunctionCallbackParams(i))},u.prototype.setMoving=function(i,n){void 0===n&&(n="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MOVING_CHANGED,n))},u.prototype.createColumnEvent=function(i,n){return{api:this.gridApi,columnApi:this.columnApi,type:i,column:this,columns:[this],source:n}},u.prototype.isMoving=function(){return this.moving},u.prototype.getSort=function(){return this.sort},u.prototype.setSort=function(i,n){void 0===n&&(n="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_SORT_CHANGED,n)))},u.prototype.setMenuVisible=function(i,n){void 0===n&&(n="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MENU_VISIBLE_CHANGED,n)))},u.prototype.isMenuVisible=function(){return this.menuVisible},u.prototype.isSortAscending=function(){return this.sort===xe.SORT_ASC},u.prototype.isSortDescending=function(){return this.sort===xe.SORT_DESC},u.prototype.isSortNone=function(){return ot(this.sort)},u.prototype.isSorting=function(){return se(this.sort)},u.prototype.getSortIndex=function(){return this.sortIndex},u.prototype.setSortIndex=function(i){this.sortIndex=i},u.prototype.setAggFunc=function(i){this.aggFunc=i},u.prototype.getAggFunc=function(){return this.aggFunc},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.getRight=function(){return this.left+this.actualWidth},u.prototype.setLeft=function(i,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LEFT_CHANGED,n)))},u.prototype.isFilterActive=function(){return this.filterActive},u.prototype.setFilterActive=function(i,n,a){void 0===n&&(n="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FILTER_ACTIVE_CHANGED,n)));var c=this.createColumnEvent(u.EVENT_FILTER_CHANGED,n);a&&Or(c,a),this.eventService.dispatchEvent(c)},u.prototype.setPinned=function(i){this.pinned=!0===i||i===xe.PINNED_LEFT?xe.PINNED_LEFT:i===xe.PINNED_RIGHT?xe.PINNED_RIGHT:null},u.prototype.setFirstRightPinned=function(i,n){void 0===n&&(n="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},u.prototype.setLastLeftPinned=function(i,n){void 0===n&&(n="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},u.prototype.isFirstRightPinned=function(){return this.firstRightPinned},u.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},u.prototype.isPinned=function(){return this.pinned===xe.PINNED_LEFT||this.pinned===xe.PINNED_RIGHT},u.prototype.isPinnedLeft=function(){return this.pinned===xe.PINNED_LEFT},u.prototype.isPinnedRight=function(){return this.pinned===xe.PINNED_RIGHT},u.prototype.getPinned=function(){return this.pinned},u.prototype.setVisible=function(i,n){void 0===n&&(n="api");var a=!0===i;this.visible!==a&&(this.visible=a,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VISIBLE_CHANGED,n)))},u.prototype.isVisible=function(){return this.visible},u.prototype.getColDef=function(){return this.colDef},u.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},u.prototype.getColId=function(){return this.colId},u.prototype.getId=function(){return this.getColId()},u.prototype.getUniqueId=function(){return this.getId()},u.prototype.getDefinition=function(){return this.colDef},u.prototype.getActualWidth=function(){return this.actualWidth},u.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},u.prototype.getColSpan=function(i){if(ot(this.colDef.colSpan))return 1;var n=this.createBaseColDefParams(i),a=this.colDef.colSpan(n);return Math.max(a,1)},u.prototype.getRowSpan=function(i){if(ot(this.colDef.rowSpan))return 1;var n=this.createBaseColDefParams(i),a=this.colDef.rowSpan(n);return Math.max(a,1)},u.prototype.setActualWidth=function(i,n,a){void 0===n&&(n="api"),void 0===a&&(a=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==n&&"gridInitializing"!==n&&(this.flex=null),a||this.fireColumnWidthChangedEvent(n))},u.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_WIDTH_CHANGED,i))},u.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},u.prototype.getMinWidth=function(){return this.minWidth},u.prototype.getMaxWidth=function(){return this.maxWidth},u.prototype.getFlex=function(){return this.flex||0},u.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},u.prototype.setMinimum=function(i){void 0===i&&(i="api"),se(this.minWidth)&&this.setActualWidth(this.minWidth,i)},u.prototype.setRowGroupActive=function(i,n){void 0===n&&(n="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_ROW_GROUP_CHANGED,n)))},u.prototype.isRowGroupActive=function(){return this.rowGroupActive},u.prototype.setPivotActive=function(i,n){void 0===n&&(n="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_PIVOT_CHANGED,n)))},u.prototype.isPivotActive=function(){return this.pivotActive},u.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},u.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},u.prototype.setValueActive=function(i,n){void 0===n&&(n="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VALUE_CHANGED,n)))},u.prototype.isValueActive=function(){return this.aggregationActive},u.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},u.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},u.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},u.prototype.getMenuTabs=function(i){var n=this.getColDef().menuTabs;return null==n&&(n=i),n},u.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},u.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},u.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},u.EVENT_MOVING_CHANGED="movingChanged",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_WIDTH_CHANGED="widthChanged",u.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",u.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",u.EVENT_VISIBLE_CHANGED="visibleChanged",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",u.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_PIVOT_CHANGED="columnPivotChanged",u.EVENT_VALUE_CHANGED="columnValueChanged",vr([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),vr([oe("columnUtils")],u.prototype,"columnUtils",void 0),vr([oe("columnApi")],u.prototype,"columnApi",void 0),vr([oe("gridApi")],u.prototype,"gridApi",void 0),vr([oe("context")],u.prototype,"context",void 0),vr([Vt],u.prototype,"initialise",null),u}();function Ct(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];for(var n=0;n<u.length;n++){var a=u[n];if(se(a))return a}return null}function Ke(u){return null!=u&&u.length>0}function ft(u){if(u&&u.length)return u[u.length-1]}function je(u,i,n){return null==u&&null==i||null!=u&&null!=i&&u.length===i.length&&u.every(function(a,c){return n?n(a,i[c]):i[c]===a})}function kt(u,i){return je(u,i)}function pe(u,i){return je(u,i)}function St(u){return u.sort(function(i,n){return i-n})}function yn(u,i){if(u)for(var n=u.length-2;n>=0;n--)u[n]===i&&u[n+1]===i&&u.splice(n+1,1)}function zn(u,i){var n=u.indexOf(i);n>=0&&u.splice(n,1)}function sr(u,i){i.forEach(function(n){return zn(u,n)})}function Mr(u,i,n){u.splice(n,0,i)}function Br(u,i,n){if(null!=u&&null!=i)for(var a=i.length-1;a>=0;a--)Mr(u,i[a],n)}function Pi(u,i,n){sr(u,i),i.slice().reverse().forEach(function(a){return Mr(u,a,n)})}function $r(u,i){return u.indexOf(i)>-1}function Vn(u){return[].concat.apply([],u)}function Rr(u,i){null==i||null==u||i.forEach(function(n){return u.push(n)})}function hi(u){return u.map(et)}function so(u,i){if(null!=u)for(var n=u.length-1;n>=0;n--)i(u[n],n)}var Pr=function(){function u(i,n,a,c){this.displayedChildren=[],this.localEventService=new Be,this.groupId=n,this.instanceId=a,this.providedColumnGroup=i,this.pinned=c}return u.createUniqueId=function(i,n){return i+"_"+n},u.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},u.prototype.getParent=function(){return this.parent},u.prototype.setParent=function(i){this.parent=i},u.prototype.getUniqueId=function(){return u.createUniqueId(this.groupId,this.instanceId)},u.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},u.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(n){return n.isMoving()})},u.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(c){c instanceof u&&c.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var n=ft(this.displayedChildren).getLeft();this.setLeft(n)}else{var a=this.displayedChildren[0].getLeft();this.setLeft(a)}else this.setLeft(null)},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_LEFT_CHANGED)))},u.prototype.getPinned=function(){return this.pinned},u.prototype.createAgEvent=function(i){return{type:i}},u.prototype.addEventListener=function(i,n){this.localEventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.localEventService.removeEventListener(i,n)},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.isChildInThisGroupDeepSearch=function(i){var n=!1;return this.children.forEach(function(a){i===a&&(n=!0),a instanceof u&&a.isChildInThisGroupDeepSearch(i)&&(n=!0)}),n},u.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(n){i+=n.getActualWidth()}),i},u.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(n){n.isResizable()&&(i=!0)}),i},u.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(n){i+=n.getMinWidth()||0}),i},u.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},u.prototype.getDisplayedChildren=function(){return this.displayedChildren},u.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},u.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},u.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},u.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},u.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},u.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},u.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(n){n instanceof Dt?i.push(n):n instanceof u&&n.addDisplayedLeafColumns(i)})},u.prototype.addLeafColumns=function(i){this.children.forEach(function(n){n instanceof Dt?i.push(n):n instanceof u&&n.addLeafColumns(i)})},u.prototype.getChildren=function(){return this.children},u.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},u.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},u.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},u.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},u.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!n||!n.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(c){if(!(c instanceof u)||c.displayedChildren&&c.displayedChildren.length)switch(c.getColumnGroupShow()){case u.HEADER_GROUP_SHOW_OPEN:n.providedColumnGroup.isExpanded()&&i.displayedChildren.push(c);break;case u.HEADER_GROUP_SHOW_CLOSED:n.providedColumnGroup.isExpanded()||i.displayedChildren.push(c);break;default:i.displayedChildren.push(c)}}),this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED))},u.HEADER_GROUP_SHOW_OPEN="open",u.HEADER_GROUP_SHOW_CLOSED="closed",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),cr=function(){function u(i,n,a,c){this.localEventService=new Be,this.expandable=!1,this.colGroupDef=i,this.groupId=n,this.expanded=!!i&&!!i.openByDefault,this.padding=a,this.level=c}return u.prototype.setOriginalParent=function(i){this.originalParent=i},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.getLevel=function(){return this.level},u.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},u.prototype.isPadding=function(){return this.padding},u.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDED_CHANGED})},u.prototype.isExpandable=function(){return this.expandable},u.prototype.isExpanded=function(){return this.expanded},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getId=function(){return this.getGroupId()},u.prototype.setChildren=function(i){this.children=i},u.prototype.getChildren=function(){return this.children},u.prototype.getColGroupDef=function(){return this.colGroupDef},u.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},u.prototype.addLeafColumns=function(i){!this.children||this.children.forEach(function(n){n instanceof Dt?i.push(n):n instanceof u&&n.addLeafColumns(i)})},u.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},u.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.getLeafColumns().forEach(function(n){return n.addEventListener(Dt.EVENT_VISIBLE_CHANGED,i.onColumnVisibilityChanged.bind(i))})},u.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,n=!1,a=!1,c=this.findChildrenRemovingPadding(),d=0,v=c.length;d<v;d++){var C=c[d];if(C.isVisible()){var M=C.getColumnGroupShow();M===Pr.HEADER_GROUP_SHOW_OPEN?(i=!0,a=!0):M===Pr.HEADER_GROUP_SHOW_CLOSED?(n=!0,a=!0):(i=!0,n=!0)}}var L=i&&n&&a;this.expandable!==L&&(this.expandable=L,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDABLE_CHANGED}))}},u.prototype.findChildrenRemovingPadding=function(){var i=[],n=function(a){a.forEach(function(c){c instanceof u&&c.isPadding()?n(c.children):i.push(c)})};return n(this.children),i},u.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},u.prototype.addEventListener=function(i,n){this.localEventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.localEventService.removeEventListener(i,n)},u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_EXPANDABLE_CHANGED="expandableChanged",u}(),Xr={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Bi="__ag_Grid_Stop_Propagation",Yr=["touchstart","touchend","touchmove","touchcancel"],wr={};function Qi(u){u[Bi]=!0}function Ki(u){return!0===u[Bi]}var u,go=(u={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(n){if("boolean"==typeof wr[n])return wr[n];var a=document.createElement(u[n]||"div");return wr[n="on"+n]=n in a});function to(u,i,n){for(var a=i.target;a;){var c=u.getDomData(a,n);if(c)return c;a=a.parentElement}return null}function $i(u,i){u.addEventListener("changed",i),u.addEventListener("paste",i),u.addEventListener("input",i)}function Ei(u,i){return!(!i||!u)&&ri(i).indexOf(u)>=0}function Go(u){for(var i=[],n=u.target;n;)i.push(n),n=n.parentElement;return i}function lo(u){u.__agGridEventPath=ri(u)}function ri(u){var i=u;return i.path?i.path:i.composedPath?i.composedPath():i.__agGridEventPath?i.__agGridEventPath:Go(u)}function xn(u,i,n,a){var c=$r(Yr,n);u&&u.addEventListener&&u.addEventListener(i,n,a,c?{passive:!0}:void 0)}var Do=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},wn=function(){function u(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return u.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},u.prototype.getContext=function(){return this.context},u.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:u.EVENT_DESTROYED})},u.prototype.addEventListener=function(i,n){this.localEventService||(this.localEventService=new Be),this.localEventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.localEventService&&this.localEventService.removeEventListener(i,n)},u.prototype.dispatchEventAsync=function(i){var n=this;window.setTimeout(function(){return n.dispatchEvent(i)},0)},u.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},u.prototype.addManagedListener=function(i,n,a){var c=this;if(!this.destroyed){i instanceof HTMLElement?xn(this.getFrameworkOverrides(),i,n,a):i.addEventListener(n,a);var d=function(){return i.removeEventListener(n,a),c.destroyFunctions=c.destroyFunctions.filter(function(v){return v!==d}),null};return this.destroyFunctions.push(d),d}},u.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},u.prototype.createManagedBean=function(i,n){var a=this.createBean(i,n);return this.addDestroyFunc(this.destroyBean.bind(this,i,n)),a},u.prototype.createBean=function(i,n,a){return(n||this.getContext()).createBean(i,a)},u.prototype.destroyBean=function(i,n){return(n||this.getContext()).destroyBean(i)},u.prototype.destroyBeans=function(i,n){var a=this;return i&&i.forEach(function(c){return a.destroyBean(c,n)}),[]},u.EVENT_DESTROYED="destroyed",Do([oe("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),Do([oe("context")],u.prototype,"context",void 0),Do([oe("eventService")],u.prototype,"eventService",void 0),Do([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Do([fn],u.prototype,"destroy",null),u}(),ki=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),no=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Bo=function(u,i){return function(n,a){i(n,a,u)}},Xo=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return ki(i,u),i.prototype.setBeans=function(n){this.logger=n.create("ColumnFactory")},i.prototype.createColumnTree=function(n,a,c){var d=new pn,v=this.extractExistingTreeData(c),C=v.existingCols,M=v.existingGroups;d.addExistingKeys(v.existingColKeys);var U=this.recursivelyCreateColumns(n,0,a,C,d,M),ce=this.findMaxDept(U,0);this.logger.log("Number of levels for grouped columns is "+ce);var ye=this.balanceColumnTree(U,0,ce,d);return this.columnUtils.depthFirstOriginalTreeSearch(null,ye,function(bt,Wt){bt instanceof cr&&bt.setupExpandable(),bt.setOriginalParent(Wt)}),{columnTree:ye,treeDept:ce}},i.prototype.extractExistingTreeData=function(n){var a=[],c=[],d=[];return n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(v){if(v instanceof cr)c.push(v);else{var M=v;d.push(M.getId()),a.push(M)}}),{existingCols:a,existingGroups:c,existingColKeys:d}},i.prototype.createForAutoGroups=function(n,a){var c=this,d=[];return n.forEach(function(v){var C=c.createAutoGroupTreeItem(a,v);d.push(C)}),d},i.prototype.createAutoGroupTreeItem=function(n,a){for(var d=a,v=this.findDepth(n)-1;v>=0;v--){var C=new cr(null,"FAKE_PATH_"+a.getId()+"}_"+v,!0,v);this.context.createBean(C),C.setChildren([d]),d.setOriginalParent(C),d=C}return d},i.prototype.findDepth=function(n){for(var a=0,c=n;c&&c[0]&&c[0]instanceof cr;)a++,c=c[0].getChildren();return a},i.prototype.balanceColumnTree=function(n,a,c,d){for(var v=[],C=0;C<n.length;C++){var M=n[C];if(M instanceof cr){var L=M,U=this.balanceColumnTree(L.getChildren(),a+1,c,d);L.setChildren(U),v.push(L)}else{for(var ce=void 0,ye=void 0,it=c-1;it>=a;it--){var bt=d.getUniqueKey(null,null),Wt=this.createMergedColGroupDef(null),cn=new cr(Wt,bt,!0,a);this.context.createBean(cn),ye&&ye.setChildren([cn]),ye=cn,ce||(ce=ye)}if(ce&&ye){if(v.push(ce),n.some(function(_n){return _n instanceof cr})){ye.setChildren([M]);continue}ye.setChildren(n);break}v.push(M)}}return v},i.prototype.findMaxDept=function(n,a){for(var c=a,d=0;d<n.length;d++){var v=n[d];if(v instanceof cr){var M=this.findMaxDept(v.getChildren(),a+1);c<M&&(c=M)}}return c},i.prototype.recursivelyCreateColumns=function(n,a,c,d,v,C){var M=this,L=[];return n&&n.forEach(function(U){var ce;ce=M.isColumnGroup(U)?M.createColumnGroup(c,U,a,d,v,C):M.createColumn(c,U,d,v),L.push(ce)}),L},i.prototype.createColumnGroup=function(n,a,c,d,v,C){var M=this.createMergedColGroupDef(a),L=v.getUniqueKey(M.groupId||null,null),U=new cr(M,L,!1,c);this.context.createBean(U);var ce=this.findExistingGroup(a,C);ce&&ce.isExpanded()&&U.setExpanded(!0);var ye=this.recursivelyCreateColumns(M.children,c+1,n,d,v,C);return U.setChildren(ye),U},i.prototype.createMergedColGroupDef=function(n){var a={};return Object.assign(a,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(a,n),this.checkForDeprecatedItems(a),a},i.prototype.createColumn=function(n,a,c,d){var v=this.mergeColDefs(a);this.checkForDeprecatedItems(v);var C=this.findExistingColumn(a,c);if(C)C.setColDef(v,a),this.applyColumnState(C,v);else{var M=d.getUniqueKey(v.colId,v.field);C=new Dt(v,a,M,n),this.context.createBean(C)}return C},i.prototype.applyColumnState=function(n,a){var c=gt(a.flex);if(void 0!==c&&n.setFlex(c),n.getFlex()<=0){var v=gt(a.width);if(null!=v)n.setActualWidth(v);else{var C=n.getActualWidth();n.setActualWidth(C)}}void 0!==a.sort&&n.setSort(a.sort==xe.SORT_ASC||a.sort==xe.SORT_DESC?a.sort:void 0);var M=gt(a.sortIndex);void 0!==M&&n.setSortIndex(M);var L=ze(a.hide);void 0!==L&&n.setVisible(!L),void 0!==a.pinned&&n.setPinned(a.pinned)},i.prototype.findExistingColumn=function(n,a){var c=(a||[]).find(function(d){var v=d.getUserProvidedColDef();if(!v)return!1;var M=null!=n.field;return null!=n.colId?d.getId()===n.colId:M?v.field===n.field:v===n});return a&&c&&zn(a,c),c||null},i.prototype.findExistingGroup=function(n,a){var c=a.find(function(d){return!(!d.getColGroupDef()||null==n.groupId||d.getId()!==n.groupId)});return c&&zn(a,c),c||null},i.prototype.mergeColDefs=function(n){var a={},c=this.gridOptionsWrapper.getDefaultColDef();Or(a,c,!1,!0);var d=n.type;return d||(d=c&&c.type),d&&this.assignColumnTypes(d,a),Or(a,n,!1,!0),a},i.prototype.assignColumnTypes=function(n,a){var c=[];if(n instanceof Array)n.some(function(M){return"string"!=typeof M})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):c=n;else{if("string"!=typeof n)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");c=n.split(",")}var v=Object.assign({},Xr);tt(this.gridOptionsWrapper.getColumnTypes()||{},function(M,L){M in v?console.warn("AG Grid: the column type '"+M+"' is a default column type and cannot be overridden."):v[M]=L}),c.forEach(function(M){var L=v[M.trim()];L?Or(a,L,!1,!0):console.warn("AG Grid: colDef.type '"+M+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.checkForDeprecatedItems=function(n){if(n){var a=n;void 0!==a.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==a.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(a.suppressRowGroup||a.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),a.displayName&&(console.warn("AG Grid: Found displayName "+a.displayName+", please use headerName instead, displayName is deprecated."),a.headerName=a.displayName)}},i.prototype.isColumnGroup=function(n){return void 0!==n.children},no([oe("columnUtils")],i.prototype,"columnUtils",void 0),no([Bo(0,Er("loggerFactory"))],i.prototype,"setBeans",null),no([mn("columnFactory")],i)}(wn),qe=function(){function u(){}return u.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",u.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",u.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",u.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",u.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",u.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",u.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",u.EVENT_COLUMN_MOVED="columnMoved",u.EVENT_COLUMN_VISIBLE="columnVisible",u.EVENT_COLUMN_PINNED="columnPinned",u.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",u.EVENT_COLUMN_RESIZED="columnResized",u.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",u.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",u.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",u.EVENT_ROW_GROUP_OPENED="rowGroupOpened",u.EVENT_ROW_DATA_CHANGED="rowDataChanged",u.EVENT_ROW_DATA_UPDATED="rowDataUpdated",u.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",u.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",u.EVENT_CHART_CREATED="chartCreated",u.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",u.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",u.EVENT_CHART_DESTROYED="chartDestroyed",u.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",u.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",u.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",u.EVENT_MODEL_UPDATED="modelUpdated",u.EVENT_PASTE_START="pasteStart",u.EVENT_PASTE_END="pasteEnd",u.EVENT_FILL_START="fillStart",u.EVENT_FILL_END="fillEnd",u.EVENT_CELL_CLICKED="cellClicked",u.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",u.EVENT_CELL_MOUSE_DOWN="cellMouseDown",u.EVENT_CELL_CONTEXT_MENU="cellContextMenu",u.EVENT_CELL_VALUE_CHANGED="cellValueChanged",u.EVENT_CELL_EDIT_REQUEST="cellEditRequest",u.EVENT_ROW_VALUE_CHANGED="rowValueChanged",u.EVENT_CELL_FOCUSED="cellFocused",u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_SELECTION_CHANGED="selectionChanged",u.EVENT_CELL_KEY_DOWN="cellKeyDown",u.EVENT_CELL_KEY_PRESS="cellKeyPress",u.EVENT_CELL_MOUSE_OVER="cellMouseOver",u.EVENT_CELL_MOUSE_OUT="cellMouseOut",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_MODIFIED="filterModified",u.EVENT_FILTER_OPENED="filterOpened",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",u.EVENT_ROW_CLICKED="rowClicked",u.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",u.EVENT_GRID_READY="gridReady",u.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",u.EVENT_VIEWPORT_CHANGED="viewportChanged",u.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",u.EVENT_FIRST_DATA_RENDERED="firstDataRendered",u.EVENT_DRAG_STARTED="dragStarted",u.EVENT_DRAG_STOPPED="dragStopped",u.EVENT_CHECKBOX_CHANGED="checkboxChanged",u.EVENT_ROW_EDITING_STARTED="rowEditingStarted",u.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",u.EVENT_CELL_EDITING_STARTED="cellEditingStarted",u.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",u.EVENT_BODY_SCROLL="bodyScroll",u.EVENT_BODY_SCROLL_END="bodyScrollEnd",u.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",u.EVENT_PAGINATION_CHANGED="paginationChanged",u.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",u.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",u.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",u.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",u.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",u.EVENT_FLASH_CELLS="flashCells",u.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",u.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",u.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",u.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",u.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",u.EVENT_ROW_DRAG_ENTER="rowDragEnter",u.EVENT_ROW_DRAG_MOVE="rowDragMove",u.EVENT_ROW_DRAG_LEAVE="rowDragLeave",u.EVENT_ROW_DRAG_END="rowDragEnd",u.EVENT_POPUP_TO_FRONT="popupToFront",u.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",u.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",u.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",u.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",u.EVENT_KEYBOARD_FOCUS="keyboardFocus",u.EVENT_MOUSE_FOCUS="mouseFocus",u.EVENT_STORE_UPDATED="storeUpdated",u}(),No=function(){function u(){this.existingIds={}}return u.prototype.getInstanceIdForKey=function(i){var a,n=this.existingIds[i];return this.existingIds[i]=a="number"!=typeof n?0:n+1,a},u}(),Ia=/[&<>"']/g,ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vo(u){var i=String.fromCharCode;function c(ce,ye){return i(ce>>ye&63|128)}function d(ce){if(ce>=0&&ce<=31&&10!==ce)return"_x"+ce.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&ce))return i(ce);var bt="";return 0==(4294965248&ce)?bt=i(ce>>6&31|192):0==(4294901760&ce)?(function a(ce){if(ce>=55296&&ce<=57343)throw Error("Lone surrogate U+"+ce.toString(16).toUpperCase()+" is not a scalar value")}(ce),bt=i(ce>>12&15|224),bt+=c(ce,6)):0==(4292870144&ce)&&(bt=i(ce>>18&7|240),bt+=c(ce,12),bt+=c(ce,6)),bt+i(63&ce|128)}for(var v=function n(ce){var ye=[];if(!ce)return[];for(var Wt,cn,it=ce.length,bt=0;bt<it;)(Wt=ce.charCodeAt(bt++))>=55296&&Wt<=56319&&bt<it?56320==(64512&(cn=ce.charCodeAt(bt++)))?ye.push(((1023&Wt)<<10)+(1023&cn)+65536):(ye.push(Wt),bt--):ye.push(Wt);return ye}(u),C=v.length,M=-1,U="";++M<C;)U+=d(v[M]);return U}function Al(u){return null==u?null:u.replace(/([A-Z])/g,function(i){return"-"+i[0].toLowerCase()})}function Wo(u){return null==u?null:u.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}function gs(u){return u[0].toUpperCase()+u.substr(1).toLowerCase()}function Oo(u){return null==u?null:u.toString().toString().replace(Ia,function(i){return ql[i]})}function Na(u){return u&&null!=u?u.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(a){return a.substring(0,1).toUpperCase()+(a.length>1?a.substring(1,a.length):"")}).join(" "):null}function Zo(u){var i=new Map;return u.forEach(function(n){return i.set(n[0],n[1])}),i}function qa(u,i){var n=new Map;return u.forEach(function(a){return n.set(i(a),a)}),n}function Tc(u){var i=[];return u.forEach(function(n,a){return i.push(a)}),i}var Qo=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),co=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},vs=function(u,i){return function(n,a){i(n,a,u)}},Rl=function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],a=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&a>=u.length&&(u=void 0),{value:u&&u[a++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Fl=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},rl=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Fl(arguments[i]));return u},Ls=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.primaryHeaderRowCount=0,n.secondaryHeaderRowCount=0,n.secondaryColumnsPresent=!1,n.gridHeaderRowCount=0,n.displayedColumnsLeft=[],n.displayedColumnsRight=[],n.displayedColumnsCenter=[],n.displayedColumns=[],n.displayedColumnsAndGroupsMap={},n.viewportColumns=[],n.viewportColumnsCenter=[],n.autoHeightActiveAtLeastOnce=!1,n.rowGroupColumns=[],n.valueColumns=[],n.pivotColumns=[],n.ready=!1,n.autoGroupsNeedBuilding=!1,n.forceRecreateAutoGroups=!1,n.pivotMode=!1,n.bodyWidth=0,n.leftWidth=0,n.rightWidth=0,n.bodyWidthDirty=!0,n.colDefVersion=0,n.flexColsCalculatedAtLestOnce=!1,n}return Qo(i,u),i.prototype.init=function(){var n=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var a=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(a)&&(this.pivotMode=a),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return n.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return n.onDefaultColDefChanged()})},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},i.prototype.getColDefVersion=function(){return this.colDefVersion},i.prototype.setColumnDefs=function(n,a){void 0===a&&(a="api");var c=!!this.columnDefs;this.colDefVersion++,this.columnDefs=n,this.createColumnsFromColumnDefs(c,a)},i.prototype.createColumnsFromColumnDefs=function(n,a){var c=this;void 0===a&&(a="api");var d=n?this.compareColumnStatesAndRaiseEvents(a):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var v=this.primaryColumns,M=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=M.columnTree,this.primaryHeaderRowCount=M.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(ce){return c.primaryColumnsMap[ce.getId()]=ce}),this.extractRowGroupColumns(a,v),this.extractPivotColumns(a,v),this.extractValueColumns(a,v),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),n&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(a),this.checkViewportColumns()),this.dispatchEverythingChanged(a),d&&d(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:qe.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.dispatchEverythingChanged=function(n){void 0===n&&(n="api"),this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:n})},i.prototype.orderGridColumnsLikePrimary=function(){var n=this,a=this.primaryColumns;!a||this.gridColumns.sort(function(c,d){var v=a.indexOf(c),C=a.indexOf(d),M=v>=0,L=C>=0;return M&&L?v-C:M?1:L?-1:n.gridColumns.indexOf(c)-n.gridColumns.indexOf(d)})},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(n){for(var a=n,c=[];null!=a;)c.push(a),a=this.getDisplayedColAfter(a);return c},i.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var n=this.viewportColumns.map(function(d){return d.getId()}).join("#");this.extractViewport(),n!==this.viewportColumns.map(function(d){return d.getId()}).join("#")&&this.eventService.dispatchEvent({type:qe.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.setViewportPosition=function(n,a){(n!==this.scrollWidth||a!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=n,this.scrollPosition=a,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(n){return!n||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(n,a){void 0===a&&(a="api"),n!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=n,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getSecondaryPivotColumn=function(n,a){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var c=this.getPrimaryColumn(a),d=null;return this.secondaryColumns.forEach(function(v){var C=v.getColDef().pivotKeys,M=v.getColDef().pivotValueColumn;je(C,n)&&M===c&&(d=v)}),d},i.prototype.setBeans=function(n){this.logger=n.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(n){var a,c;this.gridOptionsWrapper.isEnableRtl()?(a=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,c=this.displayedColumnsRight?ft(this.displayedColumnsRight):null):(a=this.displayedColumnsLeft?ft(this.displayedColumnsLeft):null,c=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(d){d.setLastLeftPinned(d===a,n),d.setFirstRightPinned(d===c,n)})},i.prototype.autoSizeColumns=function(n){var a=this,c=n.columns,d=n.skipHeader,v=n.skipHeaderGroups,C=n.stopAtGroup,M=n.source,L=void 0===M?"api":M;this.animationFrameService.flushAllFrames();for(var U=[],ce=-1,ye=null!=d?d:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),it=null!=v?v:ye;0!==ce;)ce=0,this.actionOnGridColumns(c,function(bt){if(U.indexOf(bt)>=0)return!1;var Wt=a.autoWidthCalculator.getPreferredWidthForColumn(bt,ye);if(Wt>0){var cn=a.normaliseColumnWidth(bt,Wt);bt.setActualWidth(cn,L),U.push(bt),ce++}return!0},L);it||this.autoSizeColumnGroupsByColumns(c,C),this.fireColumnResizedEvent(U,!0,"autosizeColumns")},i.prototype.fireColumnResizedEvent=function(n,a,c,d){void 0===d&&(d=null),n&&n.length&&this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_RESIZED,columns:n,column:1===n.length?n[0]:null,flexColumns:d,finished:a,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.autoSizeColumn=function(n,a,c){void 0===c&&(c="api"),n&&this.autoSizeColumns({columns:[n],skipHeader:a,skipHeaderGroups:!0,source:c})},i.prototype.autoSizeColumnGroupsByColumns=function(n,a){var c,d,v,C,U,M=new Set;this.getGridColumns(n).forEach(function(_n){for(var An=_n.getParent();An&&An!=a;)An.isPadding()||M.add(An),An=An.getParent()});try{for(var ye=Rl(M),it=ye.next();!it.done;it=ye.next()){var bt=it.value;try{for(var Wt=(v=void 0,Rl(this.ctrlsService.getHeaderRowContainerCtrls())),cn=Wt.next();!cn.done&&!(U=cn.value.getHeaderCtrlForColumn(bt));cn=Wt.next());}catch(_n){v={error:_n}}finally{try{cn&&!cn.done&&(C=Wt.return)&&C.call(Wt)}finally{if(v)throw v.error}}U&&U.resizeLeafColumnsToFit()}}catch(_n){c={error:_n}}finally{try{it&&!it.done&&(d=ye.return)&&d.call(ye)}finally{if(c)throw c.error}}return[]},i.prototype.autoSizeAllColumns=function(n,a){void 0===a&&(a="api");var c=this.getAllDisplayedColumns();this.autoSizeColumns({columns:c,skipHeader:n,source:a})},i.prototype.getColumnsFromTree=function(n){var a=[],c=function(d){for(var v=0;v<d.length;v++){var C=d[v];C instanceof Dt?a.push(C):C instanceof cr&&c(C.getChildren())}};return c(n),a},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(n){return this.getAllDisplayedColumns().indexOf(n)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(n){return this.colSpanActive?this.getDisplayedColumnsForRow(n,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(n){return this.colSpanActive?this.getDisplayedColumnsForRow(n,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.getDisplayedColumnsForRow=function(n,a,c,d){for(var L,v=[],C=null,M=function(ce){var _n,ye=a[ce],it=a.length-ce,bt=Math.min(ye.getColSpan(n),it),Wt=[ye];if(bt>1){for(var cn=bt-1,Kt=1;Kt<=cn;Kt++)Wt.push(a[ce+Kt]);ce+=cn}c?(_n=!1,Wt.forEach(function(qn){c(qn)&&(_n=!0)})):_n=!0,_n&&(0===v.length&&C&&d&&d(ye)&&v.push(C),v.push(ye)),C=ye,L=ce},U=0;U<a.length;U++)M(U),U=L;return v},i.prototype.getViewportCenterColumnsForRow=function(n){var a=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var d=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(n,this.displayedColumnsCenter,d,function(v){var C=v.getLeft();return se(C)&&C>a.viewportLeft})},i.prototype.getAriaColumnIndex=function(n){return this.getAllGridColumns().indexOf(n)+1},i.prototype.isColumnInViewport=function(n){if(n.isAutoHeight())return!0;var a=n.getLeft()||0,c=a+n.getActualWidth(),d=this.viewportLeft-200,v=this.viewportRight+200;return!(a<d&&c<d||a>v&&c>v)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(n,a,c,d,v,C){var M=this;if(void 0===C&&(C="api"),n&&!De(n)){var L=!1;n.forEach(function(ce){var ye=M.getPrimaryColumn(ce);if(ye){if(c){if(a.indexOf(ye)>=0)return;a.push(ye)}else{if(a.indexOf(ye)<0)return;zn(a,ye)}d(ye),L=!0}}),L&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(C),this.eventService.dispatchEvent({type:v,columns:a,column:1===a.length?a[0]:null,api:this.gridApi,columnApi:this.columnApi,source:C}))}},i.prototype.setRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(n,this.rowGroupColumns,qe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),a)},i.prototype.setRowGroupActive=function(n,a,c){n!==a.isRowGroupActive()&&(a.setRowGroupActive(n,c),!n&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&a.setVisible(!0,c))},i.prototype.addRowGroupColumn=function(n,a){void 0===a&&(a="api"),n&&this.addRowGroupColumns([n],a)},i.prototype.addRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(n,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),qe.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(n,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),qe.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumn=function(n,a){void 0===a&&(a="api"),n&&this.removeRowGroupColumns([n],a)},i.prototype.addPivotColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.pivotColumns,!0,function(c){return c.setPivotActive(!0,a)},qe.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.setPivotColumns=function(n,a){void 0===a&&(a="api"),this.setPrimaryColumnList(n,this.pivotColumns,qe.EVENT_COLUMN_PIVOT_CHANGED,function(c,d){d.setPivotActive(c,a)},a)},i.prototype.addPivotColumn=function(n,a){void 0===a&&(a="api"),this.addPivotColumns([n],a)},i.prototype.removePivotColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.pivotColumns,!1,function(c){return c.setPivotActive(!1,a)},qe.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.removePivotColumn=function(n,a){void 0===a&&(a="api"),this.removePivotColumns([n],a)},i.prototype.setPrimaryColumnList=function(n,a,c,d,v){var C=this;a.length=0,se(n)&&n.forEach(function(M){var L=C.getPrimaryColumn(M);L&&a.push(L)}),(this.primaryColumns||[]).forEach(function(M){var L=a.indexOf(M)>=0;d(L,M)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(v),this.fireColumnEvent(c,a,v)},i.prototype.setValueColumns=function(n,a){void 0===a&&(a="api"),this.setPrimaryColumnList(n,this.valueColumns,qe.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),a)},i.prototype.setValueActive=function(n,a,c){if(n!==a.isValueActive()&&(a.setValueActive(n,c),n&&!a.getAggFunc())){var d=this.aggFuncService.getDefaultAggFunc(a);a.setAggFunc(d)}},i.prototype.addValueColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.valueColumns,!0,this.setValueActive.bind(this,!0),qe.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.addValueColumn=function(n,a){void 0===a&&(a="api"),n&&this.addValueColumns([n],a)},i.prototype.removeValueColumn=function(n,a){void 0===a&&(a="api"),this.removeValueColumns([n],a)},i.prototype.removeValueColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.valueColumns,!1,this.setValueActive.bind(this,!1),qe.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.normaliseColumnWidth=function(n,a){var c=n.getMinWidth();se(c)&&a<c&&(a=c);var d=n.getMaxWidth();return se(d)&&n.isGreaterThanMax(a)&&(a=d),a},i.prototype.getPrimaryOrGridColumn=function(n){return this.getPrimaryColumn(n)||this.getGridColumn(n)},i.prototype.setColumnWidths=function(n,a,c,d){var v=this;void 0===d&&(d="api");var C=[];n.forEach(function(M){var L=v.getPrimaryOrGridColumn(M.key);if(L&&(C.push({width:M.newWidth,ratios:[1],columns:[L]}),"shift"===v.gridOptionsWrapper.getColResizeDefault()&&(a=!a),a)){var ce=v.getDisplayedColAfter(L);if(!ce)return;var ye=L.getActualWidth()-M.newWidth,it=ce.getActualWidth()+ye;C.push({width:it,ratios:[1],columns:[ce]})}}),0!==C.length&&this.resizeColumnSets({resizeSets:C,finished:c,source:d})},i.prototype.checkMinAndMaxWidthsForSet=function(n){var c=n.width,d=0,v=0,C=!0;return n.columns.forEach(function(U){var ce=U.getMinWidth();d+=ce||0;var ye=U.getMaxWidth();se(ye)&&ye>0?v+=ye:C=!1}),c>=d&&(!C||c<=v)},i.prototype.resizeColumnSets=function(n){var a=this,c=n.resizeSets,d=n.finished,v=n.source;if(!c||c.every(function(bt){return a.checkMinAndMaxWidthsForSet(bt)})){var L=[],U=[];c.forEach(function(bt){var Wt=bt.width,cn=bt.columns,Kt=bt.ratios,_n={},An={};cn.forEach(function(ii){return U.push(ii)});for(var qn=!0,Ir=0,_i=function(){if(++Ir>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";qn=!1;var ii=[],kr=0,Oi=Wt;cn.forEach(function(ba,yu){An[ba.getId()]?Oi-=_n[ba.getId()]:(ii.push(ba),kr+=Kt[yu])});var Fa=1/kr;ii.forEach(function(ba,yu){var bc;yu===ii.length-1?bc=Oi:(bc=Math.round(Kt[yu]*Wt*Fa),Oi-=bc);var jc=ba.getMinWidth(),Mp=ba.getMaxWidth();se(jc)&&bc<jc?(bc=jc,An[ba.getId()]=!0,qn=!0):se(Mp)&&Mp>0&&bc>Mp&&(bc=Mp,An[ba.getId()]=!0,qn=!0),_n[ba.getId()]=bc})};qn&&"break"!==_i(););cn.forEach(function(ii){var kr=_n[ii.getId()];ii.getActualWidth()!==kr&&(ii.setActualWidth(kr,v),L.push(ii))})});var ce=L.length>0,ye=this.refreshFlexedColumns({resizingCols:U,skipSetLeft:!0});ce&&(this.setLeftValues(v),this.updateBodyWidths(),this.checkViewportColumns());var it=U.concat(ye);(ce||d)&&this.fireColumnResizedEvent(it,d,v,ye)}else d&&this.fireColumnResizedEvent(c&&c.length>0?c[0].columns:null,d,v)},i.prototype.setColumnAggFunc=function(n,a,c){if(void 0===c&&(c="api"),n){var d=this.getPrimaryColumn(n);!d||(d.setAggFunc(a),this.fireColumnEvent(qe.EVENT_COLUMN_VALUE_CHANGED,[d],c))}},i.prototype.fireColumnEvent=function(n,a,c){this.eventService.dispatchEvent({type:n,columns:a,column:a&&1==a.length?a[0]:null,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.moveRowGroupColumn=function(n,a,c){void 0===c&&(c="api");var d=this.rowGroupColumns[n];this.rowGroupColumns.splice(n,1),this.rowGroupColumns.splice(a,0,d),this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.moveColumns=function(n,a,c){if(void 0===c&&(c="api"),this.columnAnimationService.start(),a>this.gridColumns.length-n.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+a),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var d=this.getGridColumns(n);!this.doesMovePassRules(d,a)||(Pi(this.gridColumns,d,a),this.updateDisplayedColumns(c),this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_MOVED,columns:d,column:1===d.length?d[0]:null,toIndex:a,api:this.gridApi,columnApi:this.columnApi,source:c}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(n,a){var c=this.gridColumns.slice();return Pi(c,n,a),!(!this.doesMovePassMarryChildren(c)||!this.doesMovePassLockedPositions(c))},i.prototype.sortColumnsLikeGridColumns=function(n){var a=this;!n||n.length<=1||n.filter(function(d){return a.gridColumns.indexOf(d)<0}).length>0||n.sort(function(d,v){return a.gridColumns.indexOf(d)-a.gridColumns.indexOf(v)})},i.prototype.doesMovePassLockedPositions=function(n){var a=!1,c=!0;return n.forEach(function(d){d.getColDef().lockPosition?a&&(c=!1):a=!0}),c},i.prototype.doesMovePassMarryChildren=function(n){var a=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){if(c instanceof cr){var d=c,v=d.getColGroupDef();if(v&&v.marryChildren){var M=[];d.getLeafColumns().forEach(function(it){var bt=n.indexOf(it);M.push(bt)}),Math.max.apply(Math,M)-Math.min.apply(Math,M)>d.getLeafColumns().length-1&&(a=!1)}}}),a},i.prototype.moveColumn=function(n,a,c){void 0===c&&(c="api"),this.moveColumns([n],a,c)},i.prototype.moveColumnByIndex=function(n,a,c){void 0===c&&(c="api"),this.moveColumn(this.gridColumns[n],a,c)},i.prototype.getColumnDefs=function(){var n=this;if(this.primaryColumns){var a=this.primaryColumns.slice();return this.gridColsArePrimary?a.sort(function(c,d){return n.gridColumns.indexOf(c)-n.gridColumns.indexOf(d)}):this.lastPrimaryOrder&&a.sort(function(c,d){return n.lastPrimaryOrder.indexOf(c)-n.lastPrimaryOrder.indexOf(d)}),this.columnDefFactory.buildColumnDefs(a,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(n){switch(n){case xe.PINNED_LEFT:return this.leftWidth;case xe.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var n=this.getWidthOfColsInList(this.displayedColumnsCenter),a=this.getWidthOfColsInList(this.displayedColumnsLeft),c=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==n,(this.bodyWidth!==n||this.leftWidth!==a||this.rightWidth!==c)&&(this.bodyWidth=n,this.leftWidth=a,this.rightWidth=c,this.eventService.dispatchEvent({type:qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(n){switch(n){case xe.PINNED_LEFT:return this.getDisplayedLeftColumns();case xe.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return De(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return De(this.rowGroupColumns)},i.prototype.setColumnVisible=function(n,a,c){void 0===c&&(c="api"),this.setColumnsVisible([n],a,c)},i.prototype.setColumnsVisible=function(n,a,c){var d=this;void 0===a&&(a=!1),void 0===c&&(c="api"),this.columnAnimationService.start(),this.actionOnGridColumns(n,function(v){return v.isVisible()!==a&&(v.setVisible(a,c),!0)},c,function(){return{type:qe.EVENT_COLUMN_VISIBLE,visible:a,column:null,columns:null,api:d.gridApi,columnApi:d.columnApi,source:c}}),this.columnAnimationService.finish()},i.prototype.setColumnPinned=function(n,a,c){void 0===c&&(c="api"),n&&this.setColumnsPinned([n],a,c)},i.prototype.setColumnsPinned=function(n,a,c){var v,d=this;void 0===c&&(c="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),v=!0===a||a===xe.PINNED_LEFT?xe.PINNED_LEFT:a===xe.PINNED_RIGHT?xe.PINNED_RIGHT:null,this.actionOnGridColumns(n,function(C){return C.getPinned()!==v&&(C.setPinned(v),!0)},c,function(){return{type:qe.EVENT_COLUMN_PINNED,pinned:v,column:null,columns:null,api:d.gridApi,columnApi:d.columnApi,source:c}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},i.prototype.actionOnGridColumns=function(n,a,c,d){var v=this;if(!De(n)){var C=[];if(n.forEach(function(L){var U=v.getGridColumn(L);U&&!1!==a(U)&&C.push(U)}),C.length&&(this.updateDisplayedColumns(c),se(d)&&d)){var M=d();M.columns=C,M.column=1===C.length?C[0]:null,this.eventService.dispatchEvent(M)}}},i.prototype.getDisplayedColBefore=function(n){var a=this.getAllDisplayedColumns(),c=a.indexOf(n);return c>0?a[c-1]:null},i.prototype.getDisplayedColAfter=function(n){var a=this.getAllDisplayedColumns(),c=a.indexOf(n);return c<a.length-1?a[c+1]:null},i.prototype.getDisplayedGroupAfter=function(n){return this.getDisplayedGroupAtDirection(n,"After")},i.prototype.getDisplayedGroupBefore=function(n){return this.getDisplayedGroupAtDirection(n,"Before")},i.prototype.getDisplayedGroupAtDirection=function(n,a){for(var c=n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel(),d=n.getDisplayedLeafColumns(),v="After"===a?ft(d):d[0],C="getDisplayedCol"+a;;){var M=this[C](v);if(!M)return null;var L=this.getColumnGroupAtLevel(M,c);if(L!==n)return L}},i.prototype.getColumnGroupAtLevel=function(n,a){for(var c=n.getParent();!(c.getProvidedColumnGroup().getLevel()+c.getPaddingLevel()<=a);)c=c.getParent();return c},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var n=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&se(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(a){return n.push(a)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(a){return n.push(a)}),n},i.prototype.createStateItemFromColumn=function(n){var a=n.isRowGroupActive()?this.rowGroupColumns.indexOf(n):null,c=n.isPivotActive()?this.pivotColumns.indexOf(n):null,d=n.isValueActive()?n.getAggFunc():null,v=null!=n.getSort()?n.getSort():null,C=null!=n.getSortIndex()?n.getSortIndex():null,M=null!=n.getFlex()&&n.getFlex()>0?n.getFlex():null;return{colId:n.getColId(),width:n.getActualWidth(),hide:!n.isVisible(),pinned:n.getPinned(),sort:v,sortIndex:C,aggFunc:d,rowGroup:n.isRowGroupActive(),rowGroupIndex:a,pivot:n.isPivotActive(),pivotIndex:c,flex:M}},i.prototype.getColumnState=function(){if(ot(this.primaryColumns)||!this.isAlive())return[];var a=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(a),a},i.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?rl(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},i.prototype.orderColumnStateList=function(n){var a=Zo(this.gridColumns.map(function(c,d){return[c.getColId(),d]}));n.sort(function(c,d){return(a.has(c.colId)?a.get(c.colId):-1)-(a.has(d.colId)?a.get(d.colId):-1)})},i.prototype.resetColumnState=function(n){void 0===n&&(n="api");var a=this.getColumnsFromTree(this.primaryColumnTree),c=[],d=1e3,v=1e3,C=[];this.groupAutoColumns&&(C=C.concat(this.groupAutoColumns)),a&&(C=C.concat(a)),C.forEach(function(M){var L=function(ni,ii){return null!=ni?ni:null!=ii?ii:null},U=M.getColDef(),ce=L(U.sort,U.initialSort),ye=L(U.sortIndex,U.initialSortIndex),it=L(U.hide,U.initialHide),bt=L(U.pinned,U.initialPinned),Wt=L(U.width,U.initialWidth),cn=L(U.flex,U.initialFlex),Kt=L(U.rowGroupIndex,U.initialRowGroupIndex),_n=L(U.rowGroup,U.initialRowGroup);null==Kt&&(null==_n||0==_n)&&(Kt=null,_n=null);var An=L(U.pivotIndex,U.initialPivotIndex),qn=L(U.pivot,U.initialPivot);null==An&&(null==qn||0==qn)&&(An=null,qn=null);var Ir=L(U.aggFunc,U.initialAggFunc),_i={colId:M.getColId(),sort:ce,sortIndex:ye,hide:it,pinned:bt,width:Wt,flex:cn,rowGroup:_n,rowGroupIndex:Kt,pivot:qn,pivotIndex:An,aggFunc:Ir};ot(Kt)&&_n&&(_i.rowGroupIndex=d++),ot(An)&&qn&&(_i.pivotIndex=v++),c.push(_i)}),this.applyColumnState({state:c,applyOrder:!0},n)},i.prototype.applyColumnState=function(n,a){var c=this;if(void 0===a&&(a="api"),De(this.primaryColumns))return!1;if(n&&n.state&&!n.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var d=this.compareColumnStatesAndRaiseEvents(a);this.autoGroupsNeedBuilding=!0;var v=this.primaryColumns.slice(),C=!0,M={},L={},U=[],ce=this.rowGroupColumns.slice(),ye=this.pivotColumns.slice();n.state&&n.state.forEach(function(cn){var _n=cn.colId||"";if(_n.startsWith(xe.GROUP_AUTO_COLUMN_ID))U.push(cn);else{var qn=c.getPrimaryColumn(_n);qn?(c.syncColumnWithStateItem(qn,cn,n.defaultState,M,L,!1,a),zn(v,qn)):C=!1}});var it=function(cn){return c.syncColumnWithStateItem(cn,null,n.defaultState,M,L,!1,a)};v.forEach(it);var bt=function(cn,Kt,_n,An){var qn=cn[_n.getId()],Ir=cn[An.getId()],_i=null!=qn,ni=null!=Ir;if(_i&&ni)return qn-Ir;if(_i)return-1;if(ni)return 1;var ii=Kt.indexOf(_n),kr=Kt.indexOf(An),Oi=ii>=0;return Oi&&kr>=0?ii-kr:Oi?-1:1};this.rowGroupColumns.sort(bt.bind(this,M,ce)),this.pivotColumns.sort(bt.bind(this,L,ye)),this.updateGridColumns();var Wt=this.groupAutoColumns?this.groupAutoColumns.slice():[];return U.forEach(function(cn){var Kt=c.getAutoColumn(cn.colId);zn(Wt,Kt),c.syncColumnWithStateItem(Kt,cn,n.defaultState,null,null,!0,a)}),Wt.forEach(it),this.applyOrderAfterApplyState(n),this.updateDisplayedColumns(a),this.dispatchEverythingChanged(a),d(),this.columnAnimationService.finish(),C},i.prototype.applyOrderAfterApplyState=function(n){if(this.gridColsArePrimary&&n.applyOrder&&n.state){var a=[],c={},d={};this.gridColumns.forEach(function(C){return d[C.getId()]=C}),n.state.forEach(function(C){if(C.colId&&!c[C.colId]){var M=d[C.colId];M&&(a.push(M),c[C.colId]=!0)}});var v=0;if(this.gridColumns.forEach(function(C){var M=C.getColId();null!=c[M]||(M.startsWith(xe.GROUP_AUTO_COLUMN_ID)?Mr(a,C,v++):a.push(C))}),a=this.putFixedColumnsFirst(a),!this.doesMovePassMarryChildren(a))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=a}},i.prototype.compareColumnStatesAndRaiseEvents=function(n){var a=this,c={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},d=this.getColumnState(),v={};return d.forEach(function(C){v[C.colId]=C}),function(){if(!a.gridOptionsWrapper.isSuppressColumnStateEvents()){var C=a.getPrimaryAndAutoGroupCols(),M=function(Kt,_n,An,qn){je(_n.map(qn),An.map(qn))||a.eventService.dispatchEvent({type:Kt,columns:An,column:1===An.length?An[0]:null,api:a.gridApi,columnApi:a.columnApi,source:n})},L=function(Kt){var _n=[];return(C||[]).forEach(function(An){var qn=v[An.getColId()];qn&&Kt(qn,An)&&_n.push(An)}),_n},U=function(Kt){return Kt.getColId()};M(qe.EVENT_COLUMN_ROW_GROUP_CHANGED,c.rowGroupColumns,a.rowGroupColumns,U),M(qe.EVENT_COLUMN_PIVOT_CHANGED,c.pivotColumns,a.pivotColumns,U),L(function(Kt,_n){var An=null!=Kt.aggFunc,qn=An!=_n.isValueActive(),Ir=An&&Kt.aggFunc!=_n.getAggFunc();return qn||Ir}).length>0&&a.fireColumnEvent(qe.EVENT_COLUMN_VALUE_CHANGED,a.valueColumns,n),a.fireColumnResizedEvent(L(function(Kt,_n){return Kt.width!=_n.getActualWidth()}),!0,n),a.raiseColumnPinnedEvent(L(function(Kt,_n){return Kt.pinned!=_n.getPinned()}),n),a.raiseColumnVisibleEvent(L(function(Kt,_n){return Kt.hide==_n.isVisible()}),n),L(function(Kt,_n){return Kt.sort!=_n.getSort()||Kt.sortIndex!=_n.getSortIndex()}).length>0&&a.sortController.dispatchSortChangedEvents(),a.raiseColumnMovedEvent(d,n)}}},i.prototype.raiseColumnPinnedEvent=function(n,a){if(n.length){var c=1===n.length?n[0]:null,d=this.getCommonValue(n,function(C){return C.getPinned()});this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_PINNED,pinned:null!=d?d:null,columns:n,column:c,api:this.gridApi,columnApi:this.columnApi,source:a})}},i.prototype.getCommonValue=function(n,a){if(n&&0!=n.length){for(var c=a(n[0]),d=1;d<n.length;d++)if(c!==a(n[d]))return;return c}},i.prototype.raiseColumnVisibleEvent=function(n,a){if(n.length){var c=1===n.length?n[0]:null,d=this.getCommonValue(n,function(C){return C.isVisible()});this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_VISIBLE,visible:d,columns:n,column:c,api:this.gridApi,columnApi:this.columnApi,source:a})}},i.prototype.raiseColumnMovedEvent=function(n,a){var c=this,d=this.getColumnState(),v={};d.forEach(function(ye){return v[ye.colId]=ye});var C={};n.forEach(function(ye){v[ye.colId]&&(C[ye.colId]=!0)});var M=n.filter(function(ye){return C[ye.colId]}),L=d.filter(function(ye){return C[ye.colId]}),U=[];L.forEach(function(ye,it){var bt=M&&M[it];if(bt&&bt.colId!==ye.colId){var Wt=c.getGridColumn(bt.colId);Wt&&U.push(Wt)}}),U.length&&this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_MOVED,columns:U,column:null,api:this.gridApi,columnApi:this.columnApi,source:a})},i.prototype.syncColumnWithStateItem=function(n,a,c,d,v,C,M){if(n){var L=function(kr,Oi){var Fa={value1:void 0,value2:void 0},ba=!1;return a&&(void 0!==a[kr]&&(Fa.value1=a[kr],ba=!0),se(Oi)&&void 0!==a[Oi]&&(Fa.value2=a[Oi],ba=!0)),!ba&&c&&(void 0!==c[kr]&&(Fa.value1=c[kr]),se(Oi)&&void 0!==c[Oi]&&(Fa.value2=c[Oi])),Fa},U=L("hide").value1;void 0!==U&&n.setVisible(!U,M);var ce=L("pinned").value1;void 0!==ce&&n.setPinned(ce);var ye=this.columnUtils.calculateColMinWidth(n.getColDef()),it=L("flex").value1;if(void 0!==it&&n.setFlex(it),n.getFlex()<=0){var Wt=L("width").value1;null!=Wt&&null!=ye&&Wt>=ye&&n.setActualWidth(Wt,M)}var cn=L("sort").value1;void 0!==cn&&n.setSort(cn===xe.SORT_DESC||cn===xe.SORT_ASC?cn:void 0);var Kt=L("sortIndex").value1;if(void 0!==Kt&&n.setSortIndex(Kt),!C){var _n=L("aggFunc").value1;void 0!==_n&&("string"==typeof _n?(n.setAggFunc(_n),n.isValueActive()||(n.setValueActive(!0,M),this.valueColumns.push(n))):(se(_n)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),n.isValueActive()&&(n.setValueActive(!1,M),zn(this.valueColumns,n))));var An=L("rowGroup","rowGroupIndex"),qn=An.value1,Ir=An.value2;(void 0!==qn||void 0!==Ir)&&("number"==typeof Ir||qn?(n.isRowGroupActive()||(n.setRowGroupActive(!0,M),this.rowGroupColumns.push(n)),d&&"number"==typeof Ir&&(d[n.getId()]=Ir)):n.isRowGroupActive()&&(n.setRowGroupActive(!1,M),zn(this.rowGroupColumns,n)));var _i=L("pivot","pivotIndex"),ni=_i.value1,ii=_i.value2;(void 0!==ni||void 0!==ii)&&("number"==typeof ii||ni?(n.isPivotActive()||(n.setPivotActive(!0,M),this.pivotColumns.push(n)),v&&"number"==typeof ii&&(v[n.getId()]=ii)):n.isPivotActive()&&(n.setPivotActive(!1,M),zn(this.pivotColumns,n)))}}},i.prototype.getGridColumns=function(n){return this.getColumns(n,this.getGridColumn.bind(this))},i.prototype.getColumns=function(n,a){var c=[];return n&&n.forEach(function(d){var v=a(d);v&&c.push(v)}),c},i.prototype.getColumnWithValidation=function(n){if(null==n)return null;var a=this.getGridColumn(n);return a||console.warn("AG Grid: could not find column "+n),a},i.prototype.getPrimaryColumn=function(n){return this.primaryColumns?this.getColumn(n,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(n){return this.getColumn(n,this.gridColumns,this.gridColumnsMap)},i.prototype.getColumn=function(n,a,c){if(!n)return null;if("string"==typeof n&&c[n])return c[n];for(var d=0;d<a.length;d++)if(this.columnsMatch(a[d],n))return a[d];return this.getAutoColumn(n)},i.prototype.getAutoColumn=function(n){var a=this;return this.groupAutoColumns&&se(this.groupAutoColumns)&&!ot(this.groupAutoColumns)&&this.groupAutoColumns.find(function(c){return a.columnsMatch(c,n)})||null},i.prototype.columnsMatch=function(n,a){var c=n===a,d=n.getColDef()===a,v=n.getColId()==a;return c||d||v},i.prototype.getDisplayNameForColumn=function(n,a,c){if(void 0===c&&(c=!1),!n)return null;var d=this.getHeaderName(n.getColDef(),n,null,null,a);return c?this.wrapHeaderNameWithAggFunc(n,d):d},i.prototype.getDisplayNameForProvidedColumnGroup=function(n,a,c){var d=a?a.getColGroupDef():null;return d?this.getHeaderName(d,null,n,a,c):null},i.prototype.getDisplayNameForColumnGroup=function(n,a){return this.getDisplayNameForProvidedColumnGroup(n,n.getProvidedColumnGroup(),a)},i.prototype.getHeaderName=function(n,a,c,d,v){var C=n.headerValueGetter;if(C){var M={colDef:n,column:a,columnGroup:c,providedColumnGroup:d,location:v,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof C?C(M):"string"==typeof C?this.expressionService.evaluate(C,M):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=n.headerName?n.headerName:n.field?Na(n.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(n,a){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return a;var C,c=n.getColDef().pivotValueColumn,v=null;if(se(c))v=c?c.getAggFunc():null,C=!0;else{var M=n.isValueActive(),L=this.pivotMode||!this.isRowGroupEmpty();M&&L?(v=n.getAggFunc(),C=!0):C=!1}if(C){var U="string"==typeof v?v:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(U,U)+"("+a+")"}return a},i.prototype.getColumnGroup=function(n,a){if(!n)return null;if(n instanceof Pr)return n;var c=this.getAllDisplayedTrees(),d="number"==typeof a,v=null;return this.columnUtils.depthFirstAllColumnTreeSearch(c,function(C){if(C instanceof Pr){var M=C;(d?n===M.getGroupId()&&a===M.getInstanceId():n===M.getGroupId())&&(v=M)}}),v},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(n,a){this.valueColumns=this.extractColumns(a,this.valueColumns,function(c,d){return c.setValueActive(d,n)},function(){},function(){},function(c){var d=c.aggFunc;return null===d||""===d?null:void 0!==d?!!d:void 0},function(c){return null!=c.initialAggFunc&&""!=c.initialAggFunc}),this.valueColumns.forEach(function(c){var d=c.getColDef();null!=d.aggFunc&&""!=d.aggFunc?c.setAggFunc(d.aggFunc):c.getAggFunc()||c.setAggFunc(d.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(n,a){this.rowGroupColumns=this.extractColumns(a,this.rowGroupColumns,function(c,d){return c.setRowGroupActive(d,n)},function(c){return c.rowGroupIndex},function(c){return c.initialRowGroupIndex},function(c){return c.rowGroup},function(c){return c.initialRowGroup})},i.prototype.extractColumns=function(n,a,c,d,v,C,M){void 0===n&&(n=[]),void 0===a&&(a=[]);var L=[],U=[];(this.primaryColumns||[]).forEach(function(it){var bt=n.indexOf(it)<0,Wt=it.getColDef(),cn=ze(C(Wt)),Kt=ze(M(Wt)),_n=gt(d(Wt)),An=gt(v(Wt));(void 0!==cn?cn:void 0!==_n?null!==_n&&_n>=0:bt?void 0!==Kt?Kt:void 0!==An&&null!=An&&An>=0:a.indexOf(it)>=0)&&((bt?null!=_n||null!=An:null!=_n)?L.push(it):U.push(it))});var ce=function(it){var bt=d(it.getColDef()),Wt=v(it.getColDef());return null!=bt?bt:Wt};L.sort(function(it,bt){var Wt=ce(it),cn=ce(bt);return Wt===cn?0:Wt<cn?-1:1});var ye=[].concat(L);return a.forEach(function(it){U.indexOf(it)>=0&&ye.push(it)}),U.forEach(function(it){ye.indexOf(it)<0&&ye.push(it)}),a.forEach(function(it){ye.indexOf(it)<0&&c(it,!1)}),ye.forEach(function(it){a.indexOf(it)<0&&c(it,!0)}),ye},i.prototype.extractPivotColumns=function(n,a){this.pivotColumns=this.extractColumns(a,this.pivotColumns,function(c,d){return c.setPivotActive(d,n)},function(c){return c.pivotIndex},function(c){return c.initialPivotIndex},function(c){return c.pivot},function(c){return c.initialPivot})},i.prototype.resetColumnGroupState=function(n){void 0===n&&(n="api");var a=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(c){if(c instanceof cr){var d=c.getColGroupDef(),v={groupId:c.getGroupId(),open:d?d.openByDefault:void 0};a.push(v)}}),this.setColumnGroupState(a,n)},i.prototype.getColumnGroupState=function(){var n=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(a){if(a instanceof cr){var c=a;n.push({groupId:c.getGroupId(),open:c.isExpanded()})}}),n},i.prototype.setColumnGroupState=function(n,a){var c=this;void 0===a&&(a="api"),this.columnAnimationService.start();var d=[];n.forEach(function(v){var M=v.open,L=c.getProvidedColumnGroup(v.groupId);!L||L.isExpanded()!==M&&(c.logger.log("columnGroupOpened("+L.getGroupId()+","+M+")"),L.setExpanded(M),d.push(L))}),this.updateGroupsAndDisplayedColumns(a),this.setFirstRightAndLastLeftPinned(a),d.forEach(function(v){c.eventService.dispatchEvent({type:qe.EVENT_COLUMN_GROUP_OPENED,columnGroup:v,api:c.gridApi,columnApi:c.columnApi})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(n,a,c){var d;void 0===c&&(c="api"),d=n instanceof cr?n.getId():n||"",this.setColumnGroupState([{groupId:d,open:a}],c)},i.prototype.getProvidedColumnGroup=function(n){"string"!=typeof n&&console.error("AG Grid: group key must be a string");var a=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){if(c instanceof cr){var d=c;d.getId()===n&&(a=d)}}),a},i.prototype.calculateColumnsForDisplay=function(){var n=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(c){var d=n.groupAutoColumns&&$r(n.groupAutoColumns,c),v=n.valueColumns&&$r(n.valueColumns,c);return d||v}:function(c){return n.groupAutoColumns&&$r(n.groupAutoColumns,c)||c.isVisible()})},i.prototype.checkColSpanActiveInCols=function(n){var a=!1;return n.forEach(function(c){se(c.getColDef().colSpan)&&(a=!0)}),a},i.prototype.calculateColumnsForGroupDisplay=function(){var n=this;this.groupDisplayColumns=[];var a=function(c){var d=c.getColDef();d&&se(d.showRowGroup)&&n.groupDisplayColumns.push(c)};this.gridColumns.forEach(a),this.groupAutoColumns&&this.groupAutoColumns.forEach(a)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.updateDisplayedColumns=function(n){var a=this.calculateColumnsForDisplay();this.buildDisplayedTrees(a),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n)},i.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},i.prototype.setSecondaryColumns=function(n,a){void 0===a&&(a="api");var c=n&&n.length>0;if(c||this.secondaryColumnsPresent){if(c){this.processSecondaryColumnDefinitions(n);var d=this.columnFactory.createColumnTree(n,!1);this.secondaryBalancedTree=d.columnTree,this.secondaryHeaderRowCount=d.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(a)}},i.prototype.processSecondaryColumnDefinitions=function(n){var a=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),c=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(a||c){var d=function(v){v.forEach(function(C){if(se(C.children)){var L=C;c&&c(L),d(L.children)}else a&&a(C)})};n&&d(n)}},i.prototype.updateGridColumns=function(){var n=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return n.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:qe.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(d){return d.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var n=this.rowModel.getType();n!==xe.ROW_MODEL_TYPE_CLIENT_SIDE&&n!==xe.ROW_MODEL_TYPE_SERVER_SIDE&&ue(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},i.prototype.orderGridColsLikeLastPrimary=function(){if(!ot(this.lastPrimaryOrder)){var n=Zo(this.lastPrimaryOrder.map(function(L,U){return[L,U]})),a=!0;if(this.gridColumns.forEach(function(L){n.has(L)&&(a=!1)}),!a){var c=Zo(this.gridColumns.map(function(L){return[L,!0]})),d=this.lastPrimaryOrder.filter(function(L){return c.has(L)}),v=Zo(d.map(function(L){return[L,!0]})),C=this.gridColumns.filter(function(L){return!v.has(L)}),M=d.slice();C.forEach(function(L){var U=L.getOriginalParent();if(U){for(var ce=[];!ce.length&&U;)U.getLeafColumns().forEach(function(Wt){var cn=M.indexOf(Wt)>=0,Kt=ce.indexOf(Wt)<0;cn&&Kt&&ce.push(Wt)}),U=U.getOriginalParent();if(ce.length){var it=ce.map(function(Wt){return M.indexOf(Wt)}),bt=Math.max.apply(Math,rl(it));Mr(M,L,bt+1)}else M.push(L)}else M.push(L)}),this.gridColumns=M}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},i.prototype.putFixedColumnsFirst=function(n){var a=n.filter(function(d){return d.getColDef().lockPosition}),c=n.filter(function(d){return!d.getColDef().lockPosition});return a.concat(c)},i.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!ot(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var n=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=n.concat(this.gridBalancedTree)}},i.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},i.prototype.updateGroupsAndDisplayedColumns=function(n){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(n),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:qe.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.deriveDisplayedColumns=function(n){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(n),this.displayedAutoHeightCols=this.displayedColumns.filter(function(a){return a.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(n){this.setLeftValuesOfColumns(n),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(n){var a=this;if(this.primaryColumns){var c=this.primaryColumns.slice(0),d=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(v){if(d){var C=a.getWidthOfColsInList(v);v.forEach(function(L){C-=L.getActualWidth(),L.setLeft(C,n)})}else{var M=0;v.forEach(function(L){L.setLeft(M,n),M+=L.getActualWidth()})}sr(c,v)}),c.forEach(function(v){v.setLeft(null,n)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(n){n.forEach(function(a){a instanceof Pr&&a.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(n,a){a.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(n,function(c){c instanceof Dt&&a.push(c)})},i.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(n,a){var c;switch(n){case xe.PINNED_LEFT:c=this.viewportRowLeft[a];break;case xe.PINNED_RIGHT:c=this.viewportRowRight[a];break;default:c=this.viewportRowCenter[a]}return ot(c)&&(c=[]),c},i.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var n={};this.viewportColumns.forEach(function(c){return n[c.getId()]=!0});var a=function(c,d,v){for(var C=!1,M=0;M<c.length;M++){var L=c[M],U=!1;if(L instanceof Dt)U=!0===n[L.getId()];else{var ye=L.getDisplayedChildren();ye&&(U=a(ye,d,v+1))}U&&(C=!0,d[v]||(d[v]=[]),d[v].push(L))}return C};a(this.displayedTreeLeft,this.viewportRowLeft,0),a(this.displayedTreeRight,this.viewportRowRight,0),a(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},i.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},i.prototype.refreshFlexedColumns=function(n){var a=this;void 0===n&&(n={});var c=n.source?n.source:"flex";if(null!=n.viewportWidth&&(this.flexViewportWidth=n.viewportWidth),!this.flexViewportWidth)return[];var d=-1;n.resizingCols&&n.resizingCols.forEach(function(qn){var Ir=a.displayedColumnsCenter.indexOf(qn);d<Ir&&(d=Ir)});var v=function(qn){var Ir=a.displayedColumnsCenter.indexOf(qn)>d;return qn.getFlex()&&Ir},C=this.displayedColumnsCenter.filter(function(qn){return!v(qn)}),M=this.displayedColumnsCenter.filter(function(qn){return v(qn)}),L=[];if(!M.length)return[];var ce,U=[];e:for(;;){var ye=M.reduce(function(qn,Ir){return qn+Ir.getFlex()},0);ce=this.flexViewportWidth-this.getWidthOfColsInList(C);for(var it=0;it<M.length;it++){var bt=M[it],Wt=ce*bt.getFlex()/ye,cn=0,Kt=bt.getMinWidth(),_n=bt.getMaxWidth();if(se(Kt)&&Wt<Kt?cn=Kt:se(_n)&&Wt>_n&&(cn=_n),cn){bt.setActualWidth(cn,c),zn(M,bt),L.push(bt),C.push(bt);continue e}U[it]=Math.round(Wt)}break}var An=ce;return M.forEach(function(qn,Ir){qn.setActualWidth(Math.min(U[Ir],An),c),L.push(qn),An-=U[Ir]}),n.skipSetLeft||this.setLeftValues(c),n.updateBodyWidths&&this.updateBodyWidths(),n.fireResizedEvent&&this.fireColumnResizedEvent(L,!0,c,M),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),M},i.prototype.sizeColumnsToFit=function(n,a,c){void 0===a&&(a="sizeColumnsToFit");var d=this.getAllDisplayedColumns();if(!(n<=0)&&d.length){var v=[],C=[];d.forEach(function(An){!0===An.getColDef().suppressSizeToFit?C.push(An):v.push(An)});var M=v.slice(0),L=!1,U=function(An){zn(v,An),C.push(An)};for(v.forEach(function(An){return An.resetActualWidth(a)});!L;){L=!0;var ce=n-this.getWidthOfColsInList(C);if(ce<=0)v.forEach(function(An){An.setMinimum(a)});else for(var ye=ce/this.getWidthOfColsInList(v),it=ce,bt=v.length-1;bt>=0;bt--){var Wt=v[bt],cn=Wt.getMinWidth(),Kt=Wt.getMaxWidth(),_n=Math.round(Wt.getActualWidth()*ye);se(cn)&&_n<cn?(_n=cn,U(Wt),L=!1):se(Kt)&&Wt.isGreaterThanMax(_n)?(_n=Kt,U(Wt),L=!1):0===bt&&(_n=it),Wt.setActualWidth(_n,a,!0),it-=_n}}M.forEach(function(An){An.fireColumnWidthChangedEvent(a)}),this.setLeftValues(a),this.updateBodyWidths(),!c&&this.fireColumnResizedEvent(M,!0,a)}},i.prototype.buildDisplayedTrees=function(n){var a=[],c=[],d=[];n.forEach(function(C){switch(C.getPinned()){case"left":a.push(C);break;case"right":c.push(C);break;default:d.push(C)}});var v=new No;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(a,this.gridBalancedTree,v,xe.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,v,xe.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(d,this.gridBalancedTree,v,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var n=this;this.displayedColumnsAndGroupsMap={};var a=function(c){n.displayedColumnsAndGroupsMap[c.getUniqueId()]=c};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,a)},i.prototype.isDisplayed=function(n){return this.displayedColumnsAndGroupsMap[n.getUniqueId()]===n},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var n=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(n,function(a){a instanceof Pr&&a.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),a=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||a||n)this.groupAutoColumns=null;else{var v=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(v,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=v)}}},i.prototype.autoColsEqual=function(n,a){return je(n,a,function(c,d){return c.getColId()===d.getColId()})},i.prototype.getWidthOfColsInList=function(n){return n.reduce(function(a,c){return a+c.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(a){return a.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var n=this.gridOptionsWrapper.isEnableRtl(),a=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];n&&a.reverse();for(var c=0;c<a.length;c++){var d=this[a[c]]();if(d.length)return n?ft(d):d[0]}return null},co([oe("expressionService")],i.prototype,"expressionService",void 0),co([oe("columnFactory")],i.prototype,"columnFactory",void 0),co([oe("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),co([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),co([oe("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),co([oe("columnUtils")],i.prototype,"columnUtils",void 0),co([oe("columnAnimationService")],i.prototype,"columnAnimationService",void 0),co([oe("autoGroupColService")],i.prototype,"autoGroupColService",void 0),co([er("aggFuncService")],i.prototype,"aggFuncService",void 0),co([er("valueCache")],i.prototype,"valueCache",void 0),co([er("animationFrameService")],i.prototype,"animationFrameService",void 0),co([oe("rowModel")],i.prototype,"rowModel",void 0),co([oe("columnApi")],i.prototype,"columnApi",void 0),co([oe("gridApi")],i.prototype,"gridApi",void 0),co([oe("sortController")],i.prototype,"sortController",void 0),co([oe("columnDefFactory")],i.prototype,"columnDefFactory",void 0),co([Vt],i.prototype,"init",null),co([vs(0,Er("loggerFactory"))],i.prototype,"setBeans",null),co([mn("columnModel")],i)}(wn),Da=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ll=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Da(i,u),i.prototype.calculateColMinWidth=function(n){return null!=n.minWidth?n.minWidth:this.gridOptionsWrapper.getMinColWidth()},i.prototype.calculateColMaxWidth=function(n){return null!=n.maxWidth?n.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(n){var d,a=this.calculateColMinWidth(n),c=this.calculateColMaxWidth(n),v=gt(n.width),C=gt(n.initialWidth);return d=null!=v?v:null!=C?C:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(d,c),a)},i.prototype.getOriginalPathForColumn=function(n,a){var c=[],d=!1,v=function(C,M){for(var L=0;L<C.length;L++){if(d)return;var U=C[L];U instanceof cr?(v(U.getChildren(),M+1),c[M]=U):U===n&&(d=!0)}};return v(a,0),d?c:null},i.prototype.depthFirstOriginalTreeSearch=function(n,a,c){var d=this;!a||a.forEach(function(v){v instanceof cr&&d.depthFirstOriginalTreeSearch(v,v.getChildren(),c),c(v,n)})},i.prototype.depthFirstAllColumnTreeSearch=function(n,a){var c=this;!n||n.forEach(function(d){d instanceof Pr&&c.depthFirstAllColumnTreeSearch(d.getChildren(),a),a(d)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(n,a){var c=this;!n||n.forEach(function(d){d instanceof Pr&&c.depthFirstDisplayedColumnTreeSearch(d.getDisplayedChildren(),a),a(d)})},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("columnUtils")],i),i}(wn),za=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xl=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return za(i,u),i.prototype.createDisplayedGroups=function(n,a,c,d,v){var L,U,C=this,M=[],ce=this.mapOldGroupsById(v);return n.forEach(function(ye){for(var it=C.getOriginalPathForColumn(a,ye),bt=[],Wt=!U,cn=0;cn<it.length;cn++)if(Wt||it[cn]!==U[cn]){var Kt=C.createColumnGroup(it[cn],c,ce,d);bt[cn]=Kt,0==cn?M.push(Kt):bt[cn-1].addChild(Kt)}else bt[cn]=L[cn];0===bt.length?M.push(ye):ft(bt).addChild(ye),L=bt,U=it}),this.setupParentsIntoColumns(M,null),M},i.prototype.createColumnGroup=function(n,a,c,d){var v=n.getGroupId(),C=a.getInstanceIdForKey(v),L=c[Pr.createUniqueId(v,C)];return L&&L.getProvidedColumnGroup()!==n&&(L=null),se(L)?L.reset():(L=new Pr(n,v,C,d),this.context.createBean(L)),L},i.prototype.mapOldGroupsById=function(n){var a={},c=function(d){d.forEach(function(v){if(v instanceof Pr){var C=v;a[v.getUniqueId()]=C,c(C.getChildren())}})};return n&&c(n),a},i.prototype.setupParentsIntoColumns=function(n,a){var c=this;n.forEach(function(d){if(d.setParent(a),d instanceof Pr){var v=d;c.setupParentsIntoColumns(v.getChildren(),v)}})},i.prototype.getOriginalPathForColumn=function(n,a){var c=[],d=!1,v=function(C,M){for(var L=0;L<C.length;L++){if(d)return;var U=C[L];U instanceof cr?(v(U.getChildren(),M+1),c[M]=U):U===a&&(d=!0)}};return v(n,0),d?c:(console.warn("AG Grid: could not get path"),null)},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("displayedGroupCreator")],i),i}(wn),Xa=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Fo=function(){function u(){}return u.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],u.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],u.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],u.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],u.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation"],u.ALL_PROPERTIES=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Xa(arguments[i]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector","getRowId"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),Za=function(){return Za=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Za.apply(this,arguments)},Is=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},ea=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Is(arguments[i]));return u},jo=function(){function u(){}return u.getEventCallbacks=function(){return u.EVENT_CALLBACKS||(u.EVENT_CALLBACKS=u.EVENTS.map(function(i){return u.getCallbackForEvent(i)})),u.EVENT_CALLBACKS},u.copyAttributesToGridOptions=function(i,n,a){void 0===a&&(a=!1),"object"!=typeof i&&(i={});var c=i,d=function(v){return void 0!==n[v]};return ea(u.ARRAY_PROPERTIES,u.STRING_PROPERTIES,u.OBJECT_PROPERTIES,u.FUNCTION_PROPERTIES,u.getEventCallbacks()).filter(d).forEach(function(v){return c[v]=n[v]}),u.BOOLEAN_PROPERTIES.filter(d).forEach(function(v){return c[v]=u.toBoolean(n[v])}),u.NUMBER_PROPERTIES.filter(d).forEach(function(v){return c[v]=u.toNumber(n[v])}),i},u.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},u.processOnChange=function(i,n,a,c){if(i){var d=Za({},i),v=n,C=function(U){return d[U]};ea(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.getEventCallbacks()).filter(C).forEach(function(U){return v[U]=d[U].currentValue}),u.BOOLEAN_PROPERTIES.filter(C).forEach(function(U){return v[U]=u.toBoolean(d[U].currentValue)}),u.NUMBER_PROPERTIES.filter(C).forEach(function(U){return v[U]=u.toNumber(d[U].currentValue)}),d.enableCellTextSelection&&(a.setEnableCellTextSelection(u.toBoolean(d.enableCellTextSelection.currentValue)),delete d.enableCellTextSelection),d.quickFilterText&&(a.setQuickFilter(d.quickFilterText.currentValue),delete d.quickFilterText),d.autoGroupColumnDef&&(a.setAutoGroupColumnDef(d.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete d.autoGroupColumnDef),d.columnDefs&&(a.setColumnDefs(d.columnDefs.currentValue,"gridOptionsChanged"),delete d.columnDefs),d.defaultColDef&&(a.setDefaultColDef(d.defaultColDef.currentValue,"gridOptionsChanged"),delete d.defaultColDef),d.paginationPageSize&&(a.paginationSetPageSize(u.toNumber(d.paginationPageSize.currentValue)),delete d.paginationPageSize),d.pivotMode&&(c.setPivotMode(u.toBoolean(d.pivotMode.currentValue)),delete d.pivotMode),d.groupRemoveSingleChildren&&(a.setGroupRemoveSingleChildren(u.toBoolean(d.groupRemoveSingleChildren.currentValue)),delete d.groupRemoveSingleChildren),d.suppressRowDrag&&(a.setSuppressRowDrag(u.toBoolean(d.suppressRowDrag.currentValue)),delete d.suppressRowDrag),d.suppressMoveWhenRowDragging&&(a.setSuppressMoveWhenRowDragging(u.toBoolean(d.suppressMoveWhenRowDragging.currentValue)),delete d.suppressMoveWhenRowDragging),d.suppressRowClickSelection&&(a.setSuppressRowClickSelection(u.toBoolean(d.suppressRowClickSelection.currentValue)),delete d.suppressRowClickSelection),d.suppressClipboardPaste&&(a.setSuppressClipboardPaste(u.toBoolean(d.suppressClipboardPaste.currentValue)),delete d.suppressClipboardPaste),d.headerHeight&&(a.setHeaderHeight(u.toNumber(d.headerHeight.currentValue)),delete d.headerHeight);var M=a;Object.keys(d).forEach(function(U){var ce="set"+U.charAt(0).toUpperCase()+U.substring(1);M[ce]&&M[ce](i[U].currentValue)});var L={type:qe.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};tt(i,function(U,ce){L[U]=ce}),a.dispatchEvent(L)}},u.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},u.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},u.EVENTS=[],u.PUBLIC_EVENTS=[],u.EXCLUDED_INTERNAL_EVENTS=[],u.STRING_PROPERTIES=Fo.STRING_PROPERTIES,u.OBJECT_PROPERTIES=Fo.OBJECT_PROPERTIES,u.ARRAY_PROPERTIES=Fo.ARRAY_PROPERTIES,u.NUMBER_PROPERTIES=Fo.NUMBER_PROPERTIES,u.BOOLEAN_PROPERTIES=Fo.BOOLEAN_PROPERTIES,u.FUNCTION_PROPERTIES=Fo.FUNCTION_PROPERTIES,u.ALL_PROPERTIES=Fo.ALL_PROPERTIES,u}();jo.EVENTS=ut(qe),jo.EXCLUDED_INTERNAL_EVENTS=[qe.EVENT_SCROLLBAR_WIDTH_CHANGED,qe.EVENT_CHECKBOX_CHANGED,qe.EVENT_HEIGHT_SCALE_CHANGED,qe.EVENT_BODY_HEIGHT_CHANGED,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,qe.EVENT_SCROLL_VISIBILITY_CHANGED,qe.EVENT_COLUMN_HOVER_CHANGED,qe.EVENT_FLASH_CELLS,qe.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,qe.EVENT_DISPLAYED_ROWS_CHANGED,qe.EVENT_LEFT_PINNED_WIDTH_CHANGED,qe.EVENT_RIGHT_PINNED_WIDTH_CHANGED,qe.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,qe.EVENT_POPUP_TO_FRONT,qe.EVENT_KEYBOARD_FOCUS,qe.EVENT_MOUSE_FOCUS,qe.EVENT_STORE_UPDATED,qe.EVENT_COLUMN_PANEL_ITEM_DRAG_START,qe.EVENT_COLUMN_PANEL_ITEM_DRAG_END,qe.EVENT_FILL_START,qe.EVENT_FILL_END],jo.PUBLIC_EVENTS=jo.EVENTS.filter(function(u){return!$r(jo.EXCLUDED_INTERNAL_EVENTS,u)});var ta,pa,al,zi,J,we,Z,Re,Ce,il=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fi=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.componentsMappedByName={},n}return il(i,u),i.prototype.setupComponents=function(n){var a=this;n&&n.forEach(function(c){return a.addComponent(c)})},i.prototype.addComponent=function(n){var c=n.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[c]=n.componentClass},i.prototype.getComponentClass=function(n){return this.componentsMappedByName[n]},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("agStackComponentsRegistry")],i),i}(wn),Qa=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},_o=function(){function u(){}return u.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],u.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],u.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],u.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],u.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],u.ALL_PROPERTIES=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Qa(arguments[i]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),ro=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Uo=function(){function u(i,n,a,c){void 0===c&&(c=1),this.r=Math.min(1,Math.max(0,i||0)),this.g=Math.min(1,Math.max(0,n||0)),this.b=Math.min(1,Math.max(0,a||0)),this.a=Math.min(1,Math.max(0,c||0))}return u.fromString=function(i){if(i.indexOf("#")>=0)return u.fromHexString(i);var n=u.nameToHex[i];if(n)return u.fromHexString(n);if(i.indexOf("rgb")>=0)return u.fromRgbaString(i);throw new Error("Invalid color string: '"+i+"'")},u.parseHex=function(i){var n;switch((i=i.replace(/ /g,"").slice(1)).length){case 6:case 8:n=[];for(var a=0;a<i.length;a+=2)n.push(parseInt(""+i[a]+i[a+1],16));break;case 3:case 4:n=i.split("").map(function(c){return parseInt(c,16)}).map(function(c){return c+16*c})}if(n.length>=3&&n.every(function(c){return c>=0}))return 3===n.length&&n.push(255),n},u.fromHexString=function(i){var n=u.parseHex(i);if(n){var a=ro(n,4);return new u(a[0]/255,a[1]/255,a[2]/255,a[3]/255)}throw new Error("Malformed hexadecimal color string: '"+i+"'")},u.stringToRgba=function(i){for(var n=ro([NaN,NaN],2),a=n[0],c=n[1],d=0;d<i.length;d++){var v=i[d];if(a||"("!==v){if(")"===v){c=d;break}}else a=d}var C=a&&c&&i.substring(a+1,c);if(C){var M=C.split(","),L=[];for(d=0;d<M.length;d++){var U=M[d],ce=parseFloat(U);if(isNaN(ce))return;U.indexOf("%")>=0?(ce=Math.max(0,Math.min(100,ce)),ce/=100):3===d?ce=Math.max(0,Math.min(1,ce)):(ce=Math.max(0,Math.min(255,ce)),ce/=255),L.push(ce)}return L}},u.fromRgbaString=function(i){var n=u.stringToRgba(i);if(n){if(3===n.length)return new u(n[0],n[1],n[2]);if(4===n.length)return new u(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+i+"'")},u.fromArray=function(i){if(4===i.length)return new u(i[0],i[1],i[2],i[3]);if(3===i.length)return new u(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(i,n,a,c){void 0===c&&(c=1);var d=u.HSBtoRGB(i,n,a);return new u(d[0],d[1],d[2],c)},u.padHex=function(i){return 1===i.length?"0"+i:i},u.prototype.toHexString=function(){var i="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(i+=u.padHex(Math.round(255*this.a).toString(16))),i},u.prototype.toRgbaString=function(i){void 0===i&&(i=3);var n=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],a=Math.pow(10,i);return 1!==this.a?(n.push(Math.round(this.a*a)/a),"rgba("+n.join(", ")+")"):"rgb("+n.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(i,n,a){var c=Math.min(i,n,a),d=Math.max(i,n,a),C=NaN;if(c!==d){var M=d-c,L=(d-i)/M,U=(d-n)/M,ce=(d-a)/M;C=i===d?ce-U:n===d?2+L-ce:4+U-L,(C/=6)<0&&(C+=1)}return[360*C,0!==d?(d-c)/d:0,d]},u.HSBtoRGB=function(i,n,a){isNaN(i)&&(i=0),i=(i%360+360)%360/360;var c=0,d=0,v=0;if(0===n)c=d=v=a;else{var C=6*(i-Math.floor(i)),M=C-Math.floor(C),L=a*(1-n),U=a*(1-n*M),ce=a*(1-n*(1-M));switch(C>>0){case 0:c=a,d=ce,v=L;break;case 1:c=U,d=a,v=L;break;case 2:c=L,d=a,v=ce;break;case 3:c=L,d=U,v=a;break;case 4:c=ce,d=L,v=a;break;case 5:c=a,d=L,v=U}}return[c,d,v]},u.prototype.derive=function(i,n,a,c){var d=u.RGBtoHSB(this.r,this.g,this.b),v=d[2];0==v&&a>1&&(v=.05);var C=((d[0]+i)%360+360)%360,M=Math.max(Math.min(d[1]*n,1),0);v=Math.max(Math.min(v*a,1),0);var L=Math.max(Math.min(this.a*c,1),0),U=u.HSBtoRGB(C,M,v);return U.push(L),u.fromArray(U)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();function tn(){return void 0===al&&(al=!function Ot(){return void 0===pa&&(pa=!!document.documentMode),pa}()&&!!window.StyleMedia),al}function gn(){return void 0===ta&&(ta=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ta}function Xn(){if(void 0===zi){var u=window;zi=!!u.chrome&&(!!u.chrome.webstore||!!u.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return zi}function Di(){if(void 0===J){var u=window;J=void 0!==u.InstallTrigger}return J}function ai(){return void 0===we&&(we=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),we}function Zr(u){if(!u)return null;var i=u.tabIndex,n=u.getAttribute("tabIndex");return-1!==i||null!==n&&(""!==n||Di())?i.toString():null}function si(){if(!document.body)return-1;var u=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var a=2*u;if(n.style.height=a+"px",a>i||n.clientHeight!==a)break;u=a}return document.body.removeChild(n),u}function Ji(){return null==Re&&yi(),Re}function yi(){var u=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",u.appendChild(i);var n=i.offsetWidth-i.clientWidth;0===n&&0===i.clientWidth&&(n=null),i.parentNode&&i.parentNode.removeChild(i),null!=n&&(Re=n,Z=0===n)}function Ai(){return null==Z&&yi(),Z}function ee(){var u,i,n=["webkit","moz","o","ms"],a=document.createElement("div"),d=!1;document.getElementsByTagName("body")[0].appendChild(a),a.setAttribute("style",n.map(function(U){return"-"+U+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var C=window.getComputedStyle(a);if("touch"===C.overflowScrolling&&(d=!0),!d)try{for(var M=function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],a=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&a>=u.length&&(u=void 0),{value:u&&u[a++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),L=M.next();!L.done;L=M.next())if("touch"===C[L.value+"OverflowScrolling"]){d=!0;break}}catch(U){u={error:U}}finally{try{L&&!L.done&&(i=M.return)&&i.call(M)}finally{if(u)throw u.error}}return a.parentNode&&a.parentNode.removeChild(a),d}function $(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function B(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}function un(u,i,n){for(var a=u.parentElement,c=a&&a.firstChild;c;)i&&c.classList.toggle(i,c===u),n&&c.classList.toggle(n,c!==u),c=c.nextSibling}function Zn(u){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,n=i.call(u,xe.INPUT_SELECTOR),a=i.call(u,xe.FOCUSABLE_EXCLUDE),c=He(u);return n&&!a&&c}function Ar(u,i){u.classList.toggle("ag-hidden",!i)}function wo(u,i){u.classList.toggle("ag-invisible",!i)}function Oa(u,i){var n="disabled",a=i?function(c){return c.setAttribute(n,"")}:function(c){return c.removeAttribute(n)};a(u),pi(u.querySelectorAll("input"),function(c){return a(c)})}function es(u,i,n){for(var a=0;u;){if(u.classList.contains(i))return!0;if(u=u.parentElement,n&&++a>n)break}return!1}function Mn(u){var i=window.getComputedStyle(u),a=i.width,c=i.paddingTop,d=i.paddingRight,v=i.paddingBottom,C=i.paddingLeft,M=i.marginTop,L=i.marginRight,U=i.marginBottom,ce=i.marginLeft,ye=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(a),paddingTop:parseFloat(c),paddingRight:parseFloat(d),paddingBottom:parseFloat(v),paddingLeft:parseFloat(C),marginTop:parseFloat(M),marginRight:parseFloat(L),marginBottom:parseFloat(U),marginLeft:parseFloat(ce),boxSizing:ye}}function li(u){var i=Mn(u);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function Ql(u){var i=Mn(u);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function uo(u){var i=Mn(u);return Math.ceil(u.offsetHeight+(i.marginBottom+i.marginTop))}function Jl(u){var i=Mn(u);return Math.ceil(u.offsetWidth+(i.marginLeft+i.marginRight))}function ts(){if("boolean"==typeof Ce)return Ce;var u=document.createElement("div");return u.style.direction="rtl",u.style.width="1px",u.style.height="1px",u.style.position="fixed",u.style.top="0px",u.style.overflow="hidden",u.dir="rtl",u.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(u),u.scrollLeft=1,Ce=0===Math.floor(u.scrollLeft),document.body.removeChild(u),Ce}function na(u,i){var n=u.scrollLeft;return i&&(n=Math.abs(n),Xn()&&!ts()&&(n=u.scrollWidth-u.clientWidth-n)),n}function sl(u,i,n){n&&(ts()?i*=-1:(gn()||Xn())&&(i=u.scrollWidth-u.clientWidth-i)),u.scrollLeft=i}function j(u){for(;u&&u.firstChild;)u.removeChild(u.firstChild)}function ne(u,i){q(u.querySelector(i))}function q(u){u&&u.parentNode&&u.parentNode.removeChild(u)}function He(u){return null!==u.offsetParent}function _t(u){if(null!==DOMParser)return(new DOMParser).parseFromString(u,"text/html").body.firstChild;var a=document.createElement("div");return a.innerHTML=(u||"").trim(),a.firstChild}function nn(u,i){u.lastChild?u.insertAdjacentHTML("afterbegin",i):u.innerHTML=i}function tr(u,i){return u.attributes&&u.attributes[i]?u.attributes[i].value:null}function Jr(u){return u&&u.clientHeight?u.clientHeight:0}function re(u){return u&&u.clientWidth?u.clientWidth:0}function P(u,i,n){n&&n.nextSibling===i||(n?n.nextSibling?u.insertBefore(i,n.nextSibling):u.appendChild(i):u.firstChild&&u.firstChild!==i&&u.insertAdjacentElement("afterbegin",i))}function F(u,i){for(var n=0;n<i.length;n++){var a=i[n],c=u.children[n];c!==a&&u.insertBefore(a,c)}}function K(u,i,n){n?n.insertAdjacentElement("afterend",i):u.firstChild?u.insertAdjacentElement("afterbegin",i):u.appendChild(i)}function ge(u,i){se(u.firstChild)?u.insertBefore(i,u.firstChild):u.appendChild(i)}function Ge(u,i){!i||Object.keys(i).forEach(function(n){var a=Wo(n);a&&(u.style[a]=i[n])})}function pt(u){return u.clientWidth<u.scrollWidth}function vt(u){return u.clientHeight<u.scrollHeight}function Ht(u,i){"flex"===i?(u.style.removeProperty("width"),u.style.removeProperty("minWidth"),u.style.removeProperty("maxWidth"),u.style.flex="1 1 auto"):Qt(u,i)}function Qt(u,i){i=mr(i),u.style.width=i.toString(),u.style.maxWidth=i.toString(),u.style.minWidth=i.toString()}function Gn(u,i){"flex"===i?(u.style.removeProperty("height"),u.style.removeProperty("minHeight"),u.style.removeProperty("maxHeight"),u.style.flex="1 1 auto"):Bn(u,i)}function Bn(u,i){i=mr(i),u.style.height=i.toString(),u.style.maxHeight=i.toString(),u.style.minHeight=i.toString()}function mr(u){return"number"==typeof u?u+"px":u}function Wr(u){return"function"==typeof Node?u instanceof Node:u&&"object"==typeof u&&"number"==typeof u.nodeType&&"string"==typeof u.nodeName}function Dr(u){return"function"==typeof HTMLElement?u instanceof HTMLElement:u&&mi(u)&&1===u.nodeType&&"string"==typeof u.nodeName}function Nr(u){return Wr(u)||Dr(u)}function ui(u){if(null==u)return[];var i=[];return pi(u,function(n){return i.push(n)}),i}function qi(u,i){if(u)for(var n=0;n<u.length;n++){var a=u[n];i(a.name,a.value)}}function mo(u,i){"boolean"==typeof i?(u.checked=i,u.indeterminate=!1):u.indeterminate=!0}function yo(u,i,n){null==n?u.removeAttribute(i):u.setAttribute(i,n.toString())}function pi(u,i){if(null!=u)for(var n=0;n<u.length;n++)i(u[n])}function To(u){var n=u.toString(),a=/function (.{1,})\(/.exec(n);return a&&a.length>1?a[1]:""}function Ci(u){var i=u.length,n=0;if(i<=1)return u;for(var a=0;a<u.length;a++){var c=u[a],d=c.toString().split("e-");d.length>1?n=Math.max(n,parseInt(d[1],10)):Math.floor(c)!==c&&(n=Math.max(n,c.toString().split(".")[1].length))}for(var v=0,C=0,M=0,L=0,U=0,ce=0;ce<i;ce++)v+=ce,C+=U=u[ce],L+=ce*ce,M+=ce*U;var ye=(i*M-v*C)/(i*L-v*v),it=C/i-ye*v/i,bt=[];for(ce=0;ce<=i;ce++)bt.push(parseFloat((ce*ye+it).toFixed(n)));return bt}function Co(u){if(!u)return"";var i=[];return tt(u,function(n,a){var c=Al(n);i.push(c+": "+a+";")}),i.join(" ")}function fa(u){var i=document.createElement("div"),n=document.querySelector("#__ag__message");i.innerHTML=u,n||(n=_t('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)),n.insertBefore(i,n.children[0])}function fi(u,i){u.then(function(n){var a=n.getGui();null!=a&&("object"==typeof a?i.appendChild(a):i.innerHTML=a)})}function gi(u,i,n){u.setAttribute(ys(i),n.toString())}function ga(u,i){u.removeAttribute(ys(i))}function ys(u){return"aria-"+u}function Xi(u,i){i?u.setAttribute("role",i):u.removeAttribute("role")}function ns(u){return u.isSortAscending()?"ascending":u.isSortDescending()?"descending":"none"}function ec(u){return parseInt(u.getAttribute("aria-level"),10)}function ur(u){return parseInt(u.getAttribute("aria-posinset"),10)}function Sr(u){return u.getAttribute("aria-describedby")||""}function xr(u,i){var n="label";i?gi(u,n,i):ga(u,n)}function ei(u,i){var n="labelledby";i?gi(u,n,i):ga(u,n)}function Fr(u,i){var n="describedby";i?gi(u,n,i):ga(u,n)}function Ta(u,i){gi(u,"level",i)}function ko(u,i){gi(u,"disabled",i)}function Vi(u,i){gi(u,"expanded",i)}function Wi(u){ga(u,"expanded")}function rs(u,i){gi(u,"setsize",i)}function xc(u,i){gi(u,"posinset",i)}function ra(u,i){gi(u,"multiselectable",i)}function Il(u,i){gi(u,"rowcount",i)}function xa(u,i){gi(u,"rowindex",i)}function Ns(u,i){gi(u,"colcount",i)}function ll(u,i){gi(u,"colindex",i)}function xo(u,i){gi(u,"colspan",i)}function xh(u,i){gi(u,"sort",i)}function Mh(u){ga(u,"sort")}function is(u,i){var n="selected";i?gi(u,n,i):ga(u,n)}function jp(u,i){gi(u,"checked",void 0===i?"mixed":i)}function Zc(u,i){void 0===i&&(i=",");var n=[],a=function(ye){return"\r"===ye||"\n"===ye},c=!1;if(""===u)return[[""]];for(var v,C,M,d=function(ye,it,bt){var Wt=u[bt-1],cn=u[bt],Kt=u[bt+1],_n=function(){n[ye]||(n[ye]=[]),n[ye][it]||(n[ye][it]="")};if(_n(),'"'===cn){if(c)return'"'===Kt?(n[ye][it]+='"',bt++):c=!1,v=ye,C=it,M=bt,"continue";if(void 0===Wt||Wt===i||a(Wt))return c=!0,v=ye,C=it,M=bt,"continue"}if(!c){if(cn===i)return it++,_n(),v=ye,C=it,M=bt,"continue";if(a(cn))return it=0,ye++,_n(),"\r"===cn&&"\n"===Kt&&bt++,v=ye,C=it,M=bt,"continue"}n[ye][it]+=cn,v=ye,C=it,M=bt},L=0,U=0,ce=0;ce<u.length;ce++)d(L,U,ce),L=v,U=C,ce=M;return n}function ks(u,i){return u.toString().padStart(i,"0")}function Ma(u,i){for(var n=[],a=u;a<=i;a++)n.push(a);return n}function Up(u){return""!==u&&!isNaN(parseFloat(u))&&isFinite(u)}function W(u){return"string"==typeof u&&(u=parseInt(u,10)),"number"==typeof u?Math.floor(u):null}function V(u,i){for(var n="",a=0;a<i;a++)n+=String.fromCharCode(255&u),u>>>=8;return n}function k(u,i,n){return"number"!=typeof u?"":Q(Math.round(100*u)/100,i,n)}function Q(u,i,n){return"number"!=typeof u?"":u.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}function te(u){return null==u?null:u.reduce(function(i,n){return i+n},0)}var Te=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d};function at(u,i,n){if(void 0===i&&(i=!0),void 0===n&&(n="-"),!u)return null;var a=[u.getFullYear(),u.getMonth()+1,u.getDate()].map(function(c){return ks(c,2)}).join(n);return i&&(a+=" "+[u.getHours(),u.getMinutes(),u.getSeconds()].map(function(c){return ks(c,2)}).join(":")),a}function yt(u){if(!u)return null;var i=Te(u.split(" "),2),n=i[0],a=i[1];if(!n)return null;var c=n.split("-").map(function(bt){return parseInt(bt,10)});if(3!==c.filter(function(bt){return!isNaN(bt)}).length)return null;var d=Te(c,3),v=d[0],C=d[1],M=d[2],L=new Date(v,C-1,M);if(L.getFullYear()!==v||L.getMonth()!==C-1||L.getDate()!==M)return null;if(!a||"00:00:00"===a)return L;var U=Te(a.split(":").map(function(bt){return parseInt(bt,10)}),3),ce=U[0],ye=U[1],it=U[2];return ce>=0&&ce<24&&L.setHours(ce),ye>=0&&ye<60&&L.setMinutes(ye),it>=0&&it<60&&L.setSeconds(it),L}function hn(u,i,n){var a={},c=u.filter(function(d){return!i.some(function(v){return v===d})});return c.length>0&&c.forEach(function(d){return a[d]=ir(d,n)}),a}function ir(u,i,n,a){var c=a?ji:yr,d=i.map(function(v){return{value:v,relevance:c(u.toLowerCase(),v.toLocaleLowerCase())}});return d.sort(function(v,C){return C.relevance-v.relevance}),n&&(d=d.filter(function(v){return 0!==v.relevance})),d.map(function(v){return v.value})}function ti(u){var a,c,d,i=u.toLowerCase(),n=new Array(i.length-1);for(a=c=0,d=n.length;c<=d;a=c+=1)n[a]=i.slice(a,a+2);return n}function yr(u,i){if(0===u.length&&0===i.length)return 0;var v,C,n=ti(u),a=ti(i),c=n.length+a.length,d=0;for(v=0,C=n.length;v<C;v++){var U,M=n[v],L=void 0;for(L=0,U=a.length;L<U;L++)M===a[L]&&d++}return d>0?2*d/c:0}function ji(u,i){for(var n=u.replace(/\s/g,""),a=i.replace(/\s/g,""),c=0,d=0,v=0;v<n.length;v++){var C=a.indexOf(n[v],d);-1!==C&&(c+=100-100*(d=C)/1e4*100)}return c}var Li={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function So(u,i,n){var a=io(u,i,n);if(a&&a.className.indexOf("ag-icon")>-1)return a;var c=document.createElement("span");return c.appendChild(a),c}function io(u,i,n,a){var c=null,d=n&&n.getColDef().icons;if(d&&(c=d[u]),i&&!c){var v=i.getIcons();v&&(c=v[u])}if(!c){var M=document.createElement("span"),L=Li[u];return L||(a?L=u:(console.warn("AG Grid: Did not find icon "+u),L="")),M.setAttribute("class","ag-icon ag-icon-"+L),M.setAttribute("unselectable","on"),Xi(M,"presentation"),M}var C=void 0;if("function"==typeof c)C=c();else{if("string"!=typeof c)throw new Error("icon from grid options needs to be a string or a function");C=c}return"string"==typeof C?_t(C):Nr(C)?C:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}function Qc(u){if(u.altKey||u.ctrlKey||u.metaKey)return!1;var i=1===u.key.length,n=function Sd(u){return tn()&&"Del"===u.key&&46===u.charCode}(u);return i||n}function nc(u,i,n,a,c){var d=u.getSuppressKeyboardEventFunc(),v=a?a.getColDef().suppressKeyboardEvent:void 0;if(!d&&!v)return!1;var C={event:i,editing:c,column:a,api:u.getApi(),node:n,data:n.data,colDef:a.getColDef(),context:u.getContext(),columnApi:u.getColumnApi()};return!(!v||!v(C))||!!d&&d(C)}function Yp(u,i,n,a){var c=a.getDefinition(),d=c&&c.suppressHeaderKeyboardEvent;return!!se(d)&&!!d({api:u.getApi(),columnApi:u.getColumnApi(),context:u.getContext(),colDef:c,column:a,headerRowIndex:n,event:i})}function Ph(u,i,n){if(0===n)return!1;var a=Math.abs(u.clientX-i.clientX),c=Math.abs(u.clientY-i.clientY);return Math.max(a,c)<=n}function S1(u,i){if(u){for(var n=function(C,M){var L=i[C.id],U=i[M.id],ce=void 0!==L,ye=void 0!==U;return ce&&ye?L-U:ce||ye?ce?1:-1:C.__objectId-M.__objectId},d=!1,v=0;v<u.length-1;v++)if(n(u[v],u[v+1])>0){d=!0;break}d&&u.sort(n)}}function b1(u,i){var n=[];!function a(c){!c||c.forEach(function(d){if(d.group||d.hasChildren()){n.push(d.key);var v=n.join("|");i(d,v),a(d.childrenAfterGroup),n.pop()}})}(u)}function Nl(u){var i=new Set;return u.forEach(function(n){return i.add(n)}),i}var ho=function(){return ho=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},ho.apply(this,arguments)},Pc=ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho(ho({},Pe),Oe),Se),Ae),be),Je),Ve),Ee),z),lt),x),Lt),ct),ke),Jt),Xe),G),On),w),Fe),Ed=function(){function u(i,n){void 0===i&&(i=0),void 0===n&&(n=1),this.nextValue=i,this.step=n}return u.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},u.prototype.peek=function(){return this.nextValue},u.prototype.skip=function(i){this.nextValue+=i},u}(),Cs=(()=>(function(u){u[u.IN_PROGRESS=0]="IN_PROGRESS",u[u.RESOLVED=1]="RESOLVED"}(Cs||(Cs={})),Cs))(),os=function(){function u(i){var n=this;this.status=Cs.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(a){return n.onDone(a)},function(a){return n.onReject(a)})}return u.all=function(i){return new u(function(n){var a=i.length,c=new Array(a);i.forEach(function(d,v){d.then(function(C){c[v]=C,0==--a&&n(c)})})})},u.resolve=function(i){return void 0===i&&(i=null),new u(function(n){return n(i)})},u.prototype.then=function(i){var n=this;return new u(function(a){n.status===Cs.RESOLVED?a(i(n.resolution)):n.waiters.push(function(c){return a(i(c))})})},u.prototype.resolveNow=function(i,n){return this.status===Cs.RESOLVED?n(this.resolution):i},u.prototype.onDone=function(i){this.status=Cs.RESOLVED,this.resolution=i,this.waiters.forEach(function(n){return n(i)})},u.prototype.onReject=function(i){console.warn("TBI")},u}(),Mo=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E1=function(){return E1=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},E1.apply(this,arguments)},Dd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cl=(()=>(function(u){u[u.NOTHING=0]="NOTHING",u[u.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",u[u.SHOWING=2]="SHOWING"}(cl||(cl={})),cl))(),D1=function(u){function i(n){var a=u.call(this)||this;return a.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,a.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,a.SHOW_QUICK_TOOLTIP_DIFF=1e3,a.FADE_OUT_TOOLTIP_TIMEOUT=1e3,a.state=cl.NOTHING,a.tooltipInstanceCount=0,a.tooltipMouseTrack=!1,a.parentComp=n,a}return Mo(i,u),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var n=this.parentComp.getGui();this.addManagedListener(n,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(n,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),u.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(n){if(!ai()&&this.state==cl.NOTHING){var a=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.lastMouseEvent=n,this.state=cl.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===cl.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=cl.NOTHING},i.prototype.onMouseMove=function(n){this.lastMouseEvent=n,this.tooltipMouseTrack&&this.state===cl.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=cl.NOTHING},i.prototype.destroyTooltipComp=function(){var n=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var a=this.tooltipPopupDestroyFunc,c=this.tooltipComp;window.setTimeout(function(){a(),n.getContext().destroyBean(c)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var n=E1({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(se(n.value)){this.state=cl.SHOWING,this.tooltipInstanceCount++;var a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(n).newAgStackInstance().then(a)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(n,a){if(this.state!==cl.SHOWING||this.tooltipInstanceCount!==n)this.getContext().destroyBean(a);else{var d=a.getGui();this.tooltipComp=a,d.classList.contains("ag-tooltip")||d.classList.add("ag-tooltip-custom");var v=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({eChild:d,ariaLabel:v("ariaLabelTooltip","Tooltip")});C&&(this.tooltipPopupDestroyFunc=C.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Dd([oe("popupService")],i.prototype,"popupService",void 0),Dd([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Dd([oe("columnApi")],i.prototype,"columnApi",void 0),Dd([oe("gridApi")],i.prototype,"gridApi",void 0),Dd([Vt],i.prototype,"postConstruct",null),i}(wn),B3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},W3=new Ed,Va=function(){function u(i){this.cssClassStates={},this.getGui=i}return u.prototype.addCssClass=function(i){!0!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.add(i),this.cssClassStates[i]=!0)},u.prototype.removeCssClass=function(i){!1!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.remove(i),this.cssClassStates[i]=!1)},u.prototype.containsCssClass=function(i){return this.getGui().classList.contains(i)},u.prototype.addOrRemoveCssClass=function(i,n){this.cssClassStates[i]!==n&&i.length&&(this.getGui().classList.toggle(i,n),this.cssClassStates[i]=n)},u}(),di=function(u){function i(n){var a=u.call(this)||this;return a.displayed=!0,a.visible=!0,a.compId=W3.next(),a.cssClassManager=new Va(function(){return a.eGui}),n&&a.setTemplate(n),a}return B3(i,u),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(n){var a=this;this.tooltipText!=n&&(this.tooltipText&&(a.usingBrowserTooltips?a.getGui().removeAttribute("title"):a.tooltipFeature=a.destroyBean(a.tooltipFeature)),null!=n&&(this.tooltipText=n,this.tooltipText&&(a.usingBrowserTooltips?a.getGui().setAttribute("title",a.tooltipText):a.tooltipFeature=a.createBean(new D1(a)))))},i.prototype.createChildComponentsFromTags=function(n,a){var c=this;ui(n.childNodes).forEach(function(v){if(v instanceof HTMLElement){var C=c.createComponentFromElement(v,function(L){L.getGui()&&c.copyAttributesFromNode(v,L.getGui())},a);if(C){if(C.addItems&&v.children.length){c.createChildComponentsFromTags(v,a);var M=Array.prototype.slice.call(v.children);C.addItems(M)}c.swapComponentForNode(C,n,v)}else v.childNodes&&c.createChildComponentsFromTags(v,a)}})},i.prototype.createComponentFromElement=function(n,a,c){var d=n.nodeName,v=c?c[n.getAttribute("ref")]:void 0,C=this.agStackComponentsRegistry.getComponentClass(d);if(C){i.elementGettingCreated=n;var M=new C(v);return M.setParentComponent(this),this.createBean(M,null,a),M}return null},i.prototype.copyAttributesFromNode=function(n,a){qi(n.attributes,function(c,d){return a.setAttribute(c,d)})},i.prototype.swapComponentForNode=function(n,a,c){var d=n.getGui();a.replaceChild(d,c),a.insertBefore(document.createComment(c.nodeName),d),this.addDestroyFunc(this.destroyBean.bind(this,n)),this.swapInComponentForQuerySelectors(n,c)},i.prototype.swapInComponentForQuerySelectors=function(n,a){var c=this;this.iterateOverQuerySelectors(function(d){c[d.attributeName]===a&&(c[d.attributeName]=n)})},i.prototype.iterateOverQuerySelectors=function(n){for(var a=Object.getPrototypeOf(this);null!=a;){var c=a.__agComponentMetaData,d=Ye(a.constructor);c&&c[d]&&c[d].querySelectors&&c[d].querySelectors.forEach(function(v){return n(v)}),a=Object.getPrototypeOf(a)}},i.prototype.setTemplate=function(n,a){var c=_t(n);this.setTemplateFromElement(c,a)},i.prototype.setTemplateFromElement=function(n,a){this.eGui=n,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),a)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var n=this;if(this.eGui){var a=this;this.iterateOverQuerySelectors(function(c){var d=function(M){return a[c.attributeName]=M};if(c.refSelector&&n.eGui.getAttribute("ref")===c.refSelector)d(n.eGui);else{var C=n.eGui.querySelector(c.querySelector);C&&d(C.__agComponent||C)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(n){this.parentComponent=n},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(n){this.eGui=n},i.prototype.queryForHtmlElement=function(n){return this.eGui.querySelector(n)},i.prototype.queryForHtmlInputElement=function(n){return this.eGui.querySelector(n)},i.prototype.appendChild=function(n,a){if(a||(a=this.eGui),null!=n)if(Nr(n))a.appendChild(n);else{var c=n;a.appendChild(c.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,c))}},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(n){n!==this.visible&&(this.visible=n,wo(this.eGui,n))},i.prototype.setDisplayed=function(n){n!==this.displayed&&(this.displayed=n,Ar(this.eGui,n),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),u.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(n,a){var c=this;this.eGui.addEventListener(n,a),this.addDestroyFunc(function(){return c.eGui.removeEventListener(n,a)})},i.prototype.addCssClass=function(n){this.cssClassManager.addCssClass(n)},i.prototype.removeCssClass=function(n){this.cssClassManager.removeCssClass(n)},i.prototype.containsCssClass=function(n){return this.cssClassManager.containsCssClass(n)},i.prototype.addOrRemoveCssClass=function(n,a){this.cssClassManager.addOrRemoveCssClass(n,a)},i.prototype.getAttribute=function(n){var a=this.eGui;return a?a.getAttribute(n):null},i.prototype.getRefElement=function(n){return this.queryForHtmlElement('[ref="'+n+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",gv([oe("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),gv([br],i.prototype,"preConstructOnComponent",null),gv([br],i.prototype,"createChildComponentsPreConstruct",null),i}(wn);function Fn(u){return Od.bind(this,"[ref="+u+"]",u)}function Od(u,i,n,a,c){null!==u?"number"!=typeof c?function j3(u,i,n){var a=function ul(u,i){return u.__agComponentMetaData||(u.__agComponentMetaData={}),u.__agComponentMetaData[i]||(u.__agComponentMetaData[i]={}),u.__agComponentMetaData[i]}(u,Ye(u.constructor));a[i]||(a[i]=[]),a[i].push(n)}(n,"querySelectors",{attributeName:a,querySelector:u,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var zs=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),kl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Jc=function(u){function i(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return zs(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){this.params=n;var a=this.columnModel.getDisplayNameForColumn(n.column,"header",!0),c=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(a+" "+c("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(n){var a=this;n?this.params.parentFilterInstance(function(c){if(c.getModelAsString){var d=c.getModelAsString(n);a.eFloatingFilterText.setValue(d)}}):this.eFloatingFilterText.setValue("")},kl([Fn("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),kl([oe("columnModel")],i.prototype,"columnModel",void 0),i}(di),Ah=function(){function u(i,n,a,c){var d=this;this.alive=!0,this.context=i,this.eParent=c,n.getDateCompDetails(a).newAgStackInstance().then(function(M){d.alive?(d.dateComp=M,M&&(c.appendChild(M.getGui()),M.afterGuiAttached&&M.afterGuiAttached(),d.tempValue&&M.setDate(d.tempValue),null!=d.disabled&&d.setDateCompDisabled(d.disabled))):i.destroyBean(M)})}return u.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},u.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},u.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},u.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},u.prototype.setDisplayed=function(i){Ar(this.eParent,i)},u.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},u.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},u.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},u.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},u}(),xu=function(){return xu=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},xu.apply(this,arguments)},O1=function(){function u(){this.customFilterOptions={}}return u.prototype.init=function(i,n){this.filterOptions=i.filterOptions||n,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},u.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},u.prototype.getFilterOptions=function(){return this.filterOptions},u.prototype.mapCustomOptions=function(){var i=this;!this.filterOptions||this.filterOptions.forEach(function(n){if("string"!=typeof n){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(C){return!!C.some(function(M){return null!=n[M]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+C+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(C){return C===n})||[]);var d=n.test,v=xu({},n);null!=d&&null==n.predicate&&(v.predicate=function(C,M){return d(C[0],M)},delete v.test),v.hideFilterInput&&null==v.numberOfInputs&&(v.numberOfInputs=0,delete v.hideFilterInput),i.customFilterOptions[n.displayKey]=v}})},u.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var n=this.filterOptions[0];"string"==typeof n?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},u.prototype.getDefaultOption=function(){return this.defaultOption},u.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},u}(),vv={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Nn=function(){function u(){}return u.BACKSPACE="Backspace",u.TAB="Tab",u.ENTER="Enter",u.ESCAPE="Escape",u.SPACE=" ",u.LEFT="ArrowLeft",u.UP="ArrowUp",u.RIGHT="ArrowRight",u.DOWN="ArrowDown",u.DELETE="Delete",u.A="A",u.C="C",u.V="V",u.D="D",u.Z="Z",u.Y="Y",u.F2="F2",u.PAGE_UP="PageUp",u.PAGE_DOWN="PageDown",u.PAGE_HOME="Home",u.PAGE_END="End",u}(),T1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),x1=function(){return x1=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},x1.apply(this,arguments)},M1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},zo=function(u){function i(n,a){void 0===a&&(a={});var c=u.call(this)||this;return c.eFocusableElement=n,c.callbacks=a,c.callbacks=x1({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(d){if(!d.defaultPrevented){var v=c.focusService.findNextFocusableElement(c.eFocusableElement,!1,d.shiftKey);!v||(v.focus(),d.preventDefault())}}},a),c}return T1(i,u),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(n){var a=this;this.addManagedListener(n,"keydown",function(c){if(!c.defaultPrevented&&!Ki(c)){if(a.callbacks.shouldStopEventPropagation(c))return void Qi(c);c.key===Nn.TAB?a.callbacks.onTabKeyDown(c):a.callbacks.handleKeyDown&&a.callbacks.handleKeyDown(c)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",M1([oe("focusService")],i.prototype,"focusService",void 0),M1([Vt],i.prototype,"postConstruct",null),i}(wn),Kp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ac=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$p=function(u){function i(n){var a=u.call(this)||this;return a.filterNameKey=n,a.applyActive=!1,a.hidePopup=null,a.appliedModel=null,a}return Kp(i,u),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new zo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},i.prototype.handleKeyDown=function(n){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(n){var a='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(a,n)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(n){var a=this;this.setParams(n),this.resetUiToDefaults(!0).then(function(){a.updateUiVisibility(),a.setupOnBtApplyDebounce()})},i.prototype.setParams=function(n){this.providedFilterParams=n,this.applyActive=i.isUseApplyButton(n),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var n=this,a=this.providedFilterParams.buttons;if(!(!a||a.length<1||this.isReadOnly())){var c=document.createElement("div");c.classList.add("ag-filter-apply-panel"),Nl(a).forEach(function(v){return function(v){var C,M;switch(v){case"apply":C=n.translate("applyFilter"),M=function(U){return n.onBtApply(!1,!1,U)};break;case"clear":C=n.translate("clearFilter"),M=function(){return n.onBtClear()};break;case"reset":C=n.translate("resetFilter"),M=function(){return n.onBtReset()};break;case"cancel":C=n.translate("cancelFilter"),M=function(U){n.onBtCancel(U)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var L=_t('<button\n                    type="button"\n                    ref="'+v+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+C+"\n                </button>");c.appendChild(L),n.addManagedListener(L,"click",M)}(v)}),this.getGui().appendChild(c)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var n=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Ie(this.onBtApply.bind(this),n)},i.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},i.prototype.setModel=function(n){var a=this;return(null!=n?this.setModelIntoUi(n):this.resetUiToDefaults()).then(function(){a.updateUiVisibility(),a.applyModel()})},i.prototype.onBtCancel=function(n){var a=this,c=this.getModel(),d=function(){a.onUiChanged(!1,"prevent"),a.providedFilterParams.closeOnApply&&a.close(n)};null!=c?this.setModelIntoUi(c).then(d):this.resetUiToDefaults().then(d)},i.prototype.onBtClear=function(){var n=this;this.resetUiToDefaults().then(function(){return n.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var a=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(a,n)},i.prototype.isModelValid=function(n){return!0},i.prototype.onBtApply=function(n,a,c){void 0===n&&(n=!1),void 0===a&&(a=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:n,afterDataChange:a}),this.providedFilterParams.closeOnApply&&this.applyActive&&!n&&!a&&this.close(c)},i.prototype.onNewRowsLoaded=function(){},i.prototype.close=function(n){if(this.hidePopup){var d,c=n&&n.key;("Enter"===c||"Space"===c)&&(d={keyboardEvent:n}),this.hidePopup(d),this.hidePopup=null}},i.prototype.onUiChanged=function(n,a){if(void 0===n&&(n=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var c=this.isModelValid(this.getModelFromUi());Oa(this.getRefElement("applyFilterButton"),!c)}n&&!a||"immediately"===a?this.onBtApply(n):(!this.applyActive&&!a||"debounce"===a)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(n){null!=n&&(this.hidePopup=n.hidePopup)},i.getDebounceMs=function(n,a){return i.isUseApplyButton(n)?(null!=n.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=n.debounceMs?n.debounceMs:a},i.isUseApplyButton=function(n){return!!n.buttons&&n.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){this.hidePopup=null,u.prototype.destroy.call(this)},i.prototype.translate=function(n){return this.gridOptionsWrapper.getLocaleTextFunc()(n,vv[n])},i.prototype.getCellValue=function(n){var a=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:a.api,colDef:a.colDef,column:a.column,columnApi:a.columnApi,context:a.context,data:n.data,getValue:function(L){return n.data[L]},node:n})},Ac([oe("rowModel")],i.prototype,"rowModel",void 0),Ac([oe("valueService")],i.prototype,"valueService",void 0),Ac([Vt],i.prototype,"postConstruct",null),i}(di),Mu=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),P1=function(u){function i(n,a){var c=u.call(this,a)||this;return c.labelSeparator="",c.labelAlignment="left",c.label="",c.config=n||{},c}return Mu(i,u),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var n=this.config,a=n.labelSeparator,c=n.label,d=n.labelWidth,v=n.labelAlignment;null!=a&&this.setLabelSeparator(a),null!=c&&this.setLabel(c),null!=d&&this.setLabelWidth(d),this.setLabelAlignment(v||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){j(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Xi(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Xi(this.eLabel,null))},i.prototype.setLabelSeparator=function(n){return this.labelSeparator===n||(this.labelSeparator=n,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(n){return this.label===n||(this.label=n,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(n){var c=this.getGui().classList;return c.toggle("ag-label-align-left","left"===n),c.toggle("ag-label-align-right","right"===n),c.toggle("ag-label-align-top","top"===n),this},i.prototype.setLabelWidth=function(n){return null==this.label||Ht(this.eLabel,n),this},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(di),Td=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rc=function(u){function i(n,a,c){var d=u.call(this,n,a)||this;return d.className=c,d.disabled=!1,d}return Td(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(n){var a=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return n(a.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(n){return Qt(this.getGui(),n),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(n,a){return this.value===n||(this.previousValue=this.value,this.value=n,a||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.prototype.setDisabled=function(n){n=!!n;var a=this.getGui();return Oa(a,n),a.classList.toggle("ag-disabled",n),this.disabled=n,this},i.prototype.isDisabled=function(){return!!this.disabled},i.EVENT_CHANGED="valueChange",i}(P1),qp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Rh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Xp=function(u){function i(n,a,c,d){var v=u.call(this,n,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(d?'role="'+d+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',a)||this;return v.pickerIcon=c,v.isPickerDisplayed=!1,v.isDestroyingPicker=!1,v.skipClick=!1,v}return qp(i,u),i.prototype.postConstruct=function(){var n=this;u.prototype.postConstruct.call(this);var a=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",a),Fr(this.eWrapper,a);var c=function(){n.skipClick?n.skipClick=!1:n.isDisabled()||(n.pickerComponent=n.showPicker())},d=this.getGui();if(this.addManagedListener(d,"mousedown",function(C){!n.skipClick&&n.pickerComponent&&n.pickerComponent.isAlive()&&He(n.pickerComponent.getGui())&&d.contains(C.target)&&(n.skipClick=!0)}),this.addManagedListener(d,"keydown",function(C){switch(C.key){case Nn.UP:case Nn.DOWN:case Nn.ENTER:case Nn.SPACE:c();case Nn.ESCAPE:n.isPickerDisplayed&&C.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",c),this.addManagedListener(this.eLabel,"click",c),this.pickerIcon){var v=io(this.pickerIcon,this.gridOptionsWrapper);v&&this.eIcon.appendChild(v)}},i.prototype.refreshLabel=function(){se(this.getLabel())?ei(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(n){return xr(this.eWrapper,n),this},i.prototype.setInputWidth=function(n){return Ht(this.eWrapper,n),this},i.prototype.getFocusableElement=function(){return this.eWrapper},Rh([Fn("eLabel")],i.prototype,"eLabel",void 0),Rh([Fn("eWrapper")],i.prototype,"eWrapper",void 0),Rh([Fn("eDisplayField")],i.prototype,"eDisplayField",void 0),Rh([Fn("eIcon")],i.prototype,"eIcon",void 0),i}(rc),Zp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),xd=function(u){function i(n){void 0===n&&(n="default");var a=u.call(this,'<div class="ag-list ag-'+n+'-list" role="listbox"></div>')||this;return a.cssIdentifier=n,a.options=[],a.itemEls=[],a}return Zp(i,u),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(n){var a=n.key;switch(a){case Nn.ENTER:if(this.highlightedEl){var c=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(c)}else this.setValue(this.getValue());break;case Nn.DOWN:case Nn.UP:var d=a===Nn.DOWN,v=void 0;if(n.preventDefault(),this.highlightedEl){var M=this.itemEls.indexOf(this.highlightedEl)+(d?1:-1);M=Math.min(Math.max(M,0),this.itemEls.length-1),v=this.itemEls[M]}else v=this.itemEls[d?0:this.itemEls.length-1];this.highlightItem(v)}},i.prototype.addOptions=function(n){var a=this;return n.forEach(function(c){return a.addOption(c)}),this},i.prototype.addOption=function(n){var a=n.value,d=Oo(n.text||a);return this.options.push({value:a,text:d}),this.renderOption(a,d),this.updateIndices(),this},i.prototype.updateIndices=function(){var n=this.getGui().querySelectorAll(".ag-list-item");n.forEach(function(a,c){xc(a,c+1),rs(a,n.length)})},i.prototype.renderOption=function(n,a){var c=this,d=document.createElement("div");Xi(d,"option"),d.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),d.innerHTML="<span>"+a+"</span>",d.tabIndex=-1,this.itemEls.push(d),this.addManagedListener(d,"mouseover",function(){return c.highlightItem(d)}),this.addManagedListener(d,"mouseleave",function(){return c.clearHighlighted()}),this.addManagedListener(d,"click",function(){return c.setValue(n)}),this.getGui().appendChild(d)},i.prototype.setValue=function(n,a){if(this.value===n)return this.fireItemSelected(),this;if(null==n)return this.reset(),this;var c=this.options.findIndex(function(v){return v.value===n});if(-1!==c){var d=this.options[c];this.value=d.value,this.displayValue=null!=d.text?d.text:d.value,this.highlightItem(this.itemEls[c]),a||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(n){return this.setValue(this.options[n].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var n=this;this.clearHighlighted();var a=this.options.findIndex(function(c){return c.value===n.value});-1!==a&&this.highlightItem(this.itemEls[a])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(n){!n.offsetParent||(this.clearHighlighted(),this.highlightedEl=n,this.highlightedEl.classList.add(i.ACTIVE_CLASS),is(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),is(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:rc.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"init",null),i}(di),Vl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Md=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},A1=function(u){function i(n){return u.call(this,n,"ag-select","smallDown","listbox")||this}return Vl(i,u),i.prototype.init=function(){var n=this;this.listComponent=this.createBean(new xd("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,xd.EVENT_ITEM_SELECTED,function(){n.hideList&&n.hideList()}),this.listComponent.addManagedListener(this.listComponent,rc.EVENT_CHANGED,function(){n.setValue(n.listComponent.getValue(),!1,!0),n.hideList&&n.hideList()})},i.prototype.showPicker=function(){var n=this,a=this.listComponent.getGui(),c=this.gridOptionsWrapper.getDocument(),d=this.addManagedListener(c.body,"wheel",function(L){!a.contains(L.target)&&n.hideList&&n.hideList()}),v=this.addManagedListener(a,"focusout",function(L){!a.contains(L.relatedTarget)&&n.hideList&&n.hideList()}),C=this.gridOptionsWrapper.getLocaleTextFunc(),M=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(){n.hideList=null,n.isPickerDisplayed=!1,v(),d(),n.isAlive()&&(Vi(n.eWrapper,!1),n.getFocusableElement().focus())},ariaLabel:C("ariaLabelSelectField","Select Field")});return M&&(this.hideList=M.hideFunc),this.isPickerDisplayed=!0,Ht(a,Jl(this.eWrapper)),Vi(this.eWrapper,!0),a.style.maxHeight=li(this.popupService.getPopupParent())+"px",a.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:a,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(n){var a=this;return n.forEach(function(c){return a.addOption(c)}),this},i.prototype.addOption=function(n){return this.listComponent.addOption(n),this},i.prototype.setValue=function(n,a,c){return this.value===n?this:(c||this.listComponent.setValue(n,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),u.prototype.setValue.call(this,n,a)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),u.prototype.destroy.call(this)},Md([oe("popupService")],i.prototype,"popupService",void 0),Md([Vt],i.prototype,"init",null),i}(Xp),R1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ic=function(u){function i(n,a,c,d){void 0===c&&(c="text"),void 0===d&&(d="input");var v=u.call(this,n,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+d+' ref="eInput" class="ag-input-field-input"></'+d+">\n                </div>\n            </div>",a)||this;return v.inputType=c,v.displayFieldTag=d,v}return R1(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var n=this.config,a=n.width,c=n.value;null!=a&&this.setWidth(a),null!=c&&this.setValue(c),this.addInputListeners()},i.prototype.refreshLabel=function(){se(this.getLabel())?ei(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var n=this;this.addManagedListener(this.eInput,"input",function(a){return n.setValue(a.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(n){return Ht(this.eWrapper,n),this},i.prototype.setInputName=function(n){return this.getInputElement().setAttribute("name",n),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(n){return this.eInput.maxLength=n,this},i.prototype.setInputPlaceholder=function(n){return yo(this.eInput,"placeholder",n),this},i.prototype.setInputAriaLabel=function(n){return xr(this.eInput,n),this},i.prototype.setDisabled=function(n){return Oa(this.eInput,n),u.prototype.setDisabled.call(this,n)},Fh([Fn("eLabel")],i.prototype,"eLabel",void 0),Fh([Fn("eWrapper")],i.prototype,"eWrapper",void 0),Fh([Fn("eInput")],i.prototype,"eInput",void 0),i}(rc),w4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ha=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},va=(()=>(function(u){u[u.One=0]="One",u[u.Two=1]="Two"}(va||(va={})),va))(),Vo=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return w4(i,u),i.prototype.getNumberOfInputs=function(n){var a=this.optionsFactory.getCustomOption(n);if(a){var c=a.numberOfInputs;return null!=c?c:1}return n&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(n)>=0?0:n===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(n,a){this.setTypeFromFloatingFilter(n),this.setValueFromFloatingFilter(a),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(n){this.eType1.setValue(n),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},i.prototype.getModelFromUi=function(){return this.isConditionUiComplete(va.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(va.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(va.One),condition2:this.createCondition(va.Two)}:this.createCondition(va.One):null},i.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},i.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(n,a){if(!n&&!a)return!0;if(!n&&a||n&&!a)return!1;var C,c=!n.operator,d=!a.operator;if(!c&&d||c&&!d)return!1;if(c)C=this.areSimpleModelsEqual(n,a);else{var U=n,ce=a;C=U.operator===ce.operator&&this.areSimpleModelsEqual(U.condition1,ce.condition1)&&this.areSimpleModelsEqual(U.condition2,ce.condition2)}return C},i.prototype.setModelIntoUi=function(n){if(n.operator){var c=n,d="OR"===c.operator;this.eJoinOperatorAnd.setValue(!d),this.eJoinOperatorOr.setValue(d),this.eType1.setValue(c.condition1.type),this.eType2.setValue(c.condition2.type),this.setConditionIntoUi(c.condition1,va.One),this.setConditionIntoUi(c.condition2,va.Two)}else{var v=n;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(v.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(v,va.One),this.setConditionIntoUi(null,va.Two)}return os.resolve()},i.prototype.doesFilterPass=function(n){var a=this,c=this.getModel();if(null==c)return!0;var d=c.operator,v=[];return d?v.push(c.condition1,c.condition2):v.push(c),v[d&&"OR"===d?"some":"every"](function(L){return a.individualConditionPasses(n,L)})},i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.optionsFactory=new O1,this.optionsFactory.init(n,this.getDefaultFilterOptions()),this.allowTwoConditions=!n.suppressAndOrCondition,this.alwaysShowBothConditions=!!n.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(n.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},i.prototype.getDefaultJoinOperator=function(n){return $r(["AND","OR"],n)?n:"AND"},i.prototype.putOptionsIntoDropdown=function(){var n=this,a=this.optionsFactory.getFilterOptions(),c=[this.eType1,this.eType2];a.forEach(function(d){var v="string"==typeof d?n.createBoilerplateListOption(d):n.createCustomListOption(d);c.forEach(function(C){return C.addOption(v)})}),c.forEach(function(d){return d.setDisabled(a.length<=1)})},i.prototype.createBoilerplateListOption=function(n){return{value:n,text:this.translate(n)}},i.prototype.createCustomListOption=function(n){var a=n.displayKey,c=this.optionsFactory.getCustomOption(n.displayKey);return{value:a,text:c?this.gridOptionsWrapper.getLocaleTextFunc()(c.displayKey,c.displayName):this.translate(a)}},i.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},i.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(va.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(va.Two)},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var n=this,c=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(d,v){var C=n.isConditionVisible(v),M=n.isConditionDisabled(v);d.forEach(function(L){L instanceof ic||L instanceof A1?(L.setDisabled(M),L.setDisplayed(C)):(Oa(L,M),Ar(L,C))})}),c.forEach(function(d,v){Ar(d,n.isConditionBodyVisible(v))}),this.forEachInput(function(d,v,C,M){n.setElementDisplayed(d,v<M),n.setElementDisabled(d,n.isConditionDisabled(C))}),this.resetPlaceholder()},i.prototype.afterGuiAttached=function(n){if(u.prototype.afterGuiAttached.call(this,n),this.resetPlaceholder(),!n||!n.suppressFocus&&!this.isReadOnly()){var a=this.getInputs()[0][0];if(!a)return;a instanceof ic&&a.getInputElement().focus()}},i.prototype.resetPlaceholder=function(){var n=this,a=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(c,d,v,C){if(c instanceof ic){var M=0===d&&C>1?"inRangeStart":0===d?"filterOoo":"inRangeEnd",L=0===d&&C>1?a("ariaFilterFromValue","Filter from value"):0===d?a("ariaFilterValue","Filter Value"):a("ariaFilterToValue","Filter to Value");c.setInputPlaceholder(n.translate(M)),c.setInputAriaLabel(L)}})},i.prototype.setElementValue=function(n,a,c){n instanceof ic&&n.setValue(null!=a?String(a):null,c)},i.prototype.setElementDisplayed=function(n,a){n instanceof di&&Ar(n.getGui(),a)},i.prototype.setElementDisabled=function(n,a){n instanceof di&&Oa(n.getGui(),a)},i.prototype.attachElementOnChange=function(n,a){n instanceof ic&&n.onValueChange(a)},i.prototype.forEachInput=function(n){var a=this,c=this.getInputs();this.getConditionTypes().forEach(function(d,v){for(var C=a.getNumberOfInputs(d),M=0;M<c[v].length;M++){var L=c[v][M];null!=L&&n(L,M,v,C)}})},i.prototype.isConditionVisible=function(n){return 0===n||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(n):!!this.alwaysShowBothConditions||this.isConditionUiComplete(n-1))},i.prototype.isConditionDisabled=function(n){return!(!this.isReadOnly()&&this.isConditionVisible(n))||0!==n&&!this.isConditionUiComplete(n-1)},i.prototype.isConditionBodyVisible=function(n){if(!this.isConditionVisible(n))return!1;var a=this.getConditionTypes()[n];return this.getNumberOfInputs(a)>0},i.prototype.isConditionUiComplete=function(n){return!(this.getConditionTypes()[n]===i.EMPTY||this.getValues(n).some(function(c){return null==c}))},i.prototype.resetUiToDefaults=function(n){var a=this,d=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),v="ag-simple-filter-and-or-"+this.getCompId(),C=this.optionsFactory.getDefaultOption();return this.eType1.setValue(C,n).setAriaLabel(d).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),n).setAriaLabel(d).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),n).setName(v).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),n).setName(v).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(M){a.setElementValue(M,null,n),a.setElementDisabled(M,a.isReadOnly())}),this.resetPlaceholder(),os.resolve()},i.prototype.setConditionIntoUi=function(n,a){var c=this,d=this.mapValuesFromModel(n);this.forEachInput(function(v,C,M,L){M===a&&c.setElementValue(v,null!=d[C]?d[C]:null)})},i.prototype.setValueFromFloatingFilter=function(n){var a=this;this.forEachInput(function(c,d,v,C){a.setElementValue(c,0===d&&0===v?n:null)})},i.prototype.isDefaultOperator=function(n){return n===this.defaultJoinOperator},i.prototype.addChangedListeners=function(){var n=this;if(!this.isReadOnly()){var a=function(){return n.onUiChanged()};this.eType1.onValueChange(a),this.eType2.onValueChange(a),this.eJoinOperatorOr.onValueChange(a),this.eJoinOperatorAnd.onValueChange(a),this.forEachInput(function(c){n.attachElementOnChange(c,a)})}},i.prototype.individualConditionPasses=function(n,a){var c=this.getCellValue(n.node),d=this.mapValuesFromModel(a),v=this.optionsFactory.getCustomOption(a.type),C=this.evaluateCustomFilter(v,d,c);return null!=C?C:null==c?this.evaluateNullValue(a.type):this.evaluateNonNullValue(d,c,a,n)},i.prototype.evaluateCustomFilter=function(n,a,c){if(null!=n){var d=n.predicate;if(null!=d&&!a.some(function(v){return null==v}))return d(a,c)}},i.prototype.isBlank=function(n){return null==n||"string"==typeof n&&0===n.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",Ha([Fn("eOptions1")],i.prototype,"eType1",void 0),Ha([Fn("eOptions2")],i.prototype,"eType2",void 0),Ha([Fn("eJoinOperatorPanel")],i.prototype,"eJoinOperatorPanel",void 0),Ha([Fn("eJoinOperatorAnd")],i.prototype,"eJoinOperatorAnd",void 0),Ha([Fn("eJoinOperatorOr")],i.prototype,"eJoinOperatorOr",void 0),Ha([Fn("eCondition1Body")],i.prototype,"eCondition1Body",void 0),Ha([Fn("eCondition2Body")],i.prototype,"eCondition2Body",void 0),i}($p),Ho=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ko=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Ho(i,u),i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.scalarFilterParams=n},i.prototype.evaluateNullValue=function(n){switch(n){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(n,a,c){var d=this.comparator(),v=null!=n[0]?d(n[0],a):0;switch(c.type){case i.EQUALS:return 0===v;case i.NOT_EQUAL:return 0!==v;case i.GREATER_THAN:return v>0;case i.GREATER_THAN_OR_EQUAL:return v>=0;case i.LESS_THAN:return v<0;case i.LESS_THAN_OR_EQUAL:return v<=0;case i.IN_RANGE:var C=d(n[1],a);return this.scalarFilterParams.inRangeInclusive?v>=0&&C<=0:v>0&&C<0;case i.BLANK:return this.isBlank(a);case i.NOT_BLANK:return!this.isBlank(a);default:return console.warn('AG Grid: Unexpected type of filter "'+c.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(Vo),mv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lh=function(){return Lh=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Lh.apply(this,arguments)},Rc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},yv=function(u){function i(){var n=u.call(this,"dateFilter")||this;return n.minValidYear=1e3,n.maxValidYear=1/0,n}return mv(i,u),i.prototype.afterGuiAttached=function(n){u.prototype.afterGuiAttached.call(this,n),this.dateCondition1FromComp.afterGuiAttached(n)},i.prototype.mapValuesFromModel=function(n){var a=n||{},c=a.dateFrom,d=a.dateTo,v=a.type;return[c&&yt(c)||null,d&&yt(d)||null].slice(0,this.getNumberOfInputs(v))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(n,a){return null==a||a<n?-1:a>n?1:0},i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.dateFilterParams=n;var a=function(c,d){if(null!=n[c]){if(!isNaN(n[c]))return null==n[c]?d:Number(n[c]);console.warn("AG Grid: DateFilter "+c+" is not a number")}return d};this.minValidYear=a("minValidYear",1e3),this.maxValidYear=a("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},i.prototype.createDateComponents=function(){var n=this,a=function(c){return new Ah(n.getContext(),n.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:n.dateFilterParams},c)};this.dateCondition1FromComp=a(this.eCondition1PanelFrom),this.dateCondition1ToComp=a(this.eCondition1PanelTo),this.dateCondition2FromComp=a(this.eCondition2PanelFrom),this.dateCondition2ToComp=a(this.eCondition2PanelTo),this.addDestroyFunc(function(){n.forEachInput(function(c){return c.destroy()})})},i.prototype.setElementValue=function(n,a,c){n.setDate(a)},i.prototype.setElementDisplayed=function(n,a){n.setDisplayed(a)},i.prototype.setElementDisabled=function(n,a){n.setDisabled(a)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(n){var a=n===va.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+a+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+a+'PanelTo"></div>\n            </div>'},i.prototype.isConditionUiComplete=function(n){var a=this;if(!u.prototype.isConditionUiComplete.call(this,n))return!1;var d=!0;return this.forEachInput(function(v,C,M,L){M!==n||!d||C>=L||(d=d&&function(v){return null!=v&&v.getUTCFullYear()>=a.minValidYear&&v.getUTCFullYear()<=a.maxValidYear}(v.getDate()))}),d},i.prototype.areSimpleModelsEqual=function(n,a){return n.dateFrom===a.dateFrom&&n.dateTo===a.dateTo&&n.type===a.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(n){var a=this.getConditionTypes()[n],c={},d=this.getValues(n);return d.length>0&&(c.dateFrom=at(d[0])),d.length>1&&(c.dateTo=at(d[1])),Lh({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:a},c)},i.prototype.resetPlaceholder=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.translate("dateFormatOoo"),c=n("ariaFilterValue","Filter Value");this.forEachInput(function(d){d.setInputPlaceholder(a),d.setInputAriaLabel(c)})},i.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},i.prototype.getValues=function(n){var a=[];return this.forEachInput(function(c,d,v,C){n===v&&d<C&&a.push(c.getDate())}),a},i.DEFAULT_FILTER_OPTIONS=[Ko.EQUALS,Ko.GREATER_THAN,Ko.LESS_THAN,Ko.NOT_EQUAL,Ko.IN_RANGE,Ko.BLANK,Ko.NOT_BLANK],Rc([Fn("eCondition1PanelFrom")],i.prototype,"eCondition1PanelFrom",void 0),Rc([Fn("eCondition1PanelTo")],i.prototype,"eCondition1PanelTo",void 0),Rc([Fn("eCondition2PanelFrom")],i.prototype,"eCondition2PanelFrom",void 0),Rc([Fn("eCondition2PanelTo")],i.prototype,"eCondition2PanelTo",void 0),Rc([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(Ko),oc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pd=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return oc(i,u),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.getTextFromModel=function(n){if(!n)return null;if(null!=n.operator){var c=n,d=c||{},v=d.condition1,C=d.condition2,M=this.optionsFactory.getCustomOption(v.type),L=this.optionsFactory.getCustomOption(C.type);return[this.conditionToString(v,M),c.operator,this.conditionToString(C,L)].join(" ")}var U=n,ce=this.optionsFactory.getCustomOption(U.type),ye=ce||{},it=ye.displayKey,bt=ye.displayName;return it&&bt&&0===ye.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(it,bt),bt):this.conditionToString(U,ce)},i.prototype.isEventFromFloatingFilter=function(n){return n&&n.afterFloatingFilter},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(n){n?this.lastType=(n.operator?n.condition1:n).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(n){return n?!n.operator&&this.isTypeEditable(n.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(n){this.optionsFactory=new O1,this.optionsFactory.init(n.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!n.filterParams.readOnly;var a=this.isTypeEditable(this.lastType);this.setEditable(a)},i.prototype.doesFilterHaveSingleInput=function(n){var c=(this.optionsFactory.getCustomOption(n)||{}).numberOfInputs;return null==c||1==c},i.prototype.isTypeEditable=function(n){var a=[Vo.IN_RANGE,Vo.EMPTY,Vo.BLANK,Vo.NOT_BLANK];return!!n&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(n)&&a.indexOf(n)<0},i}(di),Jp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Au=function(u){function i(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Jp(i,u),i.prototype.getDefaultFilterOptions=function(){return yv.DEFAULT_FILTER_OPTIONS},i.prototype.conditionToString=function(n,a){var c=n.type,v=c==Vo.IN_RANGE||2===(a||{}).numberOfInputs,C=yt(n.dateFrom),M=yt(n.dateTo);return v?at(C,!1)+"-"+at(M,!1):null!=C?""+at(C,!1):""+c},i.prototype.init=function(n){u.prototype.init.call(this,n),this.params=n,this.createDateComponent();var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(a("ariaDateFilterInput","Date Filter Input"))},i.prototype.setEditable=function(n){Ar(this.eDateWrapper,n),Ar(this.eReadOnlyText.getGui(),!n)},i.prototype.onParentModelChanged=function(n,a){if(!this.isEventFromFloatingFilter(a)){u.prototype.setLastTypeFromModel.call(this,n);var c=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(n);this.setEditable(c),c?(this.dateComp.setDate(n?yt(n.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(n)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var n=this,c=at(this.dateComp.getDate());this.params.parentFilterInstance(function(d){if(d){var v=yt(c);d.onFloatingFilterChanged(n.getLastType()||null,v)}})},i.prototype.createDateComponent=function(){var n=this,a=$p.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c={onDateChanged:Ie(this.onDateChanged.bind(this),a),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Ah(this.getContext(),this.userComponentFactory,c,this.eDateWrapper),this.addDestroyFunc(function(){return n.dateComp.destroy()})},Pu([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Pu([Fn("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),Pu([Fn("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(Pd),Cv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ih=function(u){function i(){return u.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Cv(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this,c=this.gridOptionsWrapper.getDocument(),d=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(n)&&(d.type="date"),this.addManagedListener(d,"mousedown",function(){a.eDateInput.isDisabled()||d.focus()}),this.addManagedListener(d,"input",function(L){L.target===c.activeElement&&(a.eDateInput.isDisabled()||n.onDateChanged())});var v=n.filterParams||{},C=v.minValidYear,M=v.maxValidYear;C&&(d.min=C+"-01-01"),M&&(d.max=M+"-12-31")},i.prototype.getDate=function(){return yt(this.eDateInput.getValue())},i.prototype.setDate=function(n){this.eDateInput.setValue(at(n,!1))},i.prototype.setInputPlaceholder=function(n){this.eDateInput.setInputPlaceholder(n)},i.prototype.setDisabled=function(n){this.eDateInput.setDisabled(n)},i.prototype.afterGuiAttached=function(n){(!n||!n.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(n){return n.filterParams&&null!=n.filterParams.browserDatePicker?n.filterParams.browserDatePicker:Xn()||Di()},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Fn("eDateInput")],i.prototype,"eDateInput",void 0),i}(di),_v=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Nh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},I1=function(u){function i(){return u.call(this,"numberFilter")||this}return _v(i,u),i.prototype.mapValuesFromModel=function(n){var a=n||{},c=a.filter,d=a.filterTo;return[null==c?null:c,null==d?null:d].slice(0,this.getNumberOfInputs(a.type))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(n,a){return n===a?0:n<a?1:-1}},i.prototype.setParams=function(n){this.numberFilterParams=n;var a=this.getAllowedCharPattern();if(a){var c={allowedCharPattern:a};this.resetTemplate({"eValue-index0-1":c,"eValue-index1-1":c,"eValue-index0-2":c,"eValue-index1-2":c})}u.prototype.setParams.call(this,n)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(n){var a=n===va.One?"1":"2",d=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <'+d+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></'+d+">\n                <"+d+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></'+d+">\n            </div>"},i.prototype.getValues=function(n){var a=this,c=[];return this.forEachInput(function(d,v,C,M){n===C&&v<M&&c.push(a.stringToFloat(d.getValue()))}),c},i.prototype.areSimpleModelsEqual=function(n,a){return n.filter===a.filter&&n.filterTo===a.filterTo&&n.type===a.type},i.prototype.getFilterType=function(){return"number"},i.prototype.stringToFloat=function(n){if("number"==typeof n)return n;var a=Yt(n);return null!=a&&""===a.trim()&&(a=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(a):null==a||"-"===a.trim()?null:parseFloat(a)},i.prototype.createCondition=function(n){var a=this.getConditionTypes()[n],c={filterType:this.getFilterType(),type:a},d=this.getValues(n);return d.length>0&&(c.filter=d[0]),d.length>1&&(c.filterTo=d[1]),c},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Xn()||tn()?null:"\\d\\-\\.")},i.DEFAULT_FILTER_OPTIONS=[Ko.EQUALS,Ko.NOT_EQUAL,Ko.LESS_THAN,Ko.LESS_THAN_OR_EQUAL,Ko.GREATER_THAN,Ko.GREATER_THAN_OR_EQUAL,Ko.IN_RANGE,Ko.BLANK,Ko.NOT_BLANK],Nh([Fn("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),Nh([Fn("eValue-index1-1")],i.prototype,"eValueTo1",void 0),Nh([Fn("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),Nh([Fn("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Ko),Ad=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hl=function(){return Hl=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Hl.apply(this,arguments)},ef=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},N1=function(u){function i(){return u.call(this,"textFilter")||this}return Ad(i,u),i.trimInput=function(n){var a=n&&n.trim();return""===a?n:a},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.textFilterParams=n,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER)},i.prototype.getTextMatcher=function(){var n=this.textFilterParams.textCustomComparator;return n?(Pc.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(a){return n(a.filterOption,a.value,a.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(n){var a=this.getConditionTypes()[n],c={filterType:this.getFilterType(),type:a},d=this.getValues(n);return d.length>0&&(c.filter=d[0]),d.length>1&&(c.filterTo=d[1]),c},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(n,a){return n.filter===a.filter&&n.filterTo===a.filterTo&&n.type===a.type},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getValues=function(n){var a=this,c=[];return this.forEachInput(function(d,v,C,M){if(n===C&&v<M){var L=Yt(d.getValue()),U=(a.textFilterParams.trimInput?i.trimInput(L):L)||null;c.push(U),d.setValue(U,!0)}}),c},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(n){var a=n===va.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></ag-input-text-field>\n            </div>'},i.prototype.mapValuesFromModel=function(n){var a=n||{};return[a.filter||null,a.filterTo||null].slice(0,this.getNumberOfInputs(a.type))},i.prototype.evaluateNullValue=function(n){return!!n&&[Vo.NOT_EQUAL,Vo.NOT_CONTAINS,Vo.BLANK].indexOf(n)>=0},i.prototype.evaluateNonNullValue=function(n,a,c,d){var v=this,C=n.map(function(Kt){return v.formatter(Kt)})||[],M=this.formatter(a),L=this.textFilterParams,U=L.api,ce=L.colDef,ye=L.column,it=L.columnApi,bt=L.context,Wt=L.textFormatter;if(c.type===Vo.BLANK)return this.isBlank(a);if(c.type===Vo.NOT_BLANK)return!this.isBlank(a);var cn={api:U,colDef:ce,column:ye,columnApi:it,context:bt,node:d.node,data:d.data,filterOption:c.type,value:M,textFormatter:Wt};return C.some(function(Kt){return v.matcher(Hl(Hl({},cn),{filterText:Kt}))})},i.DEFAULT_FILTER_OPTIONS=[Vo.CONTAINS,Vo.NOT_CONTAINS,Vo.EQUALS,Vo.NOT_EQUAL,Vo.STARTS_WITH,Vo.ENDS_WITH,Vo.BLANK,Vo.NOT_BLANK],i.DEFAULT_FORMATTER=function(n){return n},i.DEFAULT_LOWERCASE_FORMATTER=function(n){return null==n?null:n.toString().toLowerCase()},i.DEFAULT_MATCHER=function(n){var c=n.value,d=n.filterText;if(null==d)return!1;switch(n.filterOption){case i.CONTAINS:return c.indexOf(d)>=0;case i.NOT_CONTAINS:return c.indexOf(d)<0;case i.EQUALS:return c===d;case i.NOT_EQUAL:return c!=d;case i.STARTS_WITH:return 0===c.indexOf(d);case i.ENDS_WITH:var v=c.lastIndexOf(d);return v>=0&&v===c.length-d.length;default:return!1}},ef([Fn("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),ef([Fn("eValue-index1-1")],i.prototype,"eValueTo1",void 0),ef([Fn("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),ef([Fn("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Vo),k1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),dl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},S4=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return k1(i,u),i.prototype.postConstruct=function(){this.resetTemplate()},i.prototype.resetTemplate=function(n){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',n)},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(n,a){this.isEventFromFloatingFilter(a)||(this.setLastTypeFromModel(n),this.eFloatingFilterInput.setValue(this.getTextFromModel(n)),this.setEditable(this.canWeEditAfterModelFromParentFilter(n)))},i.prototype.init=function(n){u.prototype.init.call(this,n),this.params=n,this.applyActive=$p.isUseApplyButton(this.params.filterParams);var a=this.params.filterParams.allowedCharPattern;if(null!=a&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:a}}),!this.isReadOnly()){var c=$p.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),d=Ie(this.syncUpWithParentFilter.bind(this),c),v=this.eFloatingFilterInput.getGui();this.addManagedListener(v,"input",d),this.addManagedListener(v,"keypress",d),this.addManagedListener(v,"keydown",d)}var C=n.column.getDefinition();(this.isReadOnly()||C.filterParams&&C.filterParams.filterOptions&&1===C.filterParams.filterOptions.length&&"inRange"===C.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var M=this.columnModel.getDisplayNameForColumn(n.column,"header",!0),L=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(M+" "+L("ariaFilterInput","Filter Input"))},i.prototype.syncUpWithParentFilter=function(n){var a=this;if(!this.applyActive||n.key===Nn.ENTER){var d=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(d=N1.trimInput(d),this.eFloatingFilterInput.setValue(d,!0)),this.params.parentFilterInstance(function(v){v&&v.onFloatingFilterChanged(a.getLastType()||null,d||null)})}},i.prototype.conditionToString=function(n,a){return n.type==Vo.IN_RANGE||2===(a||{}).numberOfInputs?n.filter+"-"+n.filterTo:null!=n.filter?""+n.filter:""+n.type},i.prototype.setEditable=function(n){this.eFloatingFilterInput.setDisabled(!n)},dl([oe("columnModel")],i.prototype,"columnModel",void 0),dl([Fn("eFloatingFilterInput")],i.prototype,"eFloatingFilterInput",void 0),dl([Vt],i.prototype,"postConstruct",null),i}(Pd),b4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E4=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return b4(i,u),i.prototype.getDefaultFilterOptions=function(){return I1.DEFAULT_FILTER_OPTIONS},i}(S4),D4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),tf=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return D4(i,u),i.prototype.getDefaultFilterOptions=function(){return N1.DEFAULT_FILTER_OPTIONS},i}(S4),_s=function(){function u(i,n){var a=this;void 0===n&&(n=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Be,this.eElement=i,this.preventMouseClick=n;var c=this.onTouchStart.bind(this),d=this.onTouchMove.bind(this),v=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",c,{passive:!0}),this.eElement.addEventListener("touchmove",d,{passive:!0}),this.eElement.addEventListener("touchend",v,{passive:!1}),this.destroyFuncs.push(function(){a.eElement.removeEventListener("touchstart",c,{passive:!0}),a.eElement.removeEventListener("touchmove",d,{passive:!0}),a.eElement.removeEventListener("touchend",v,{passive:!1})})}return u.prototype.getActiveTouch=function(i){for(var n=0;n<i.length;n++)if(i[n].identifier===this.touchStart.identifier)return i[n];return null},u.prototype.addEventListener=function(i,n){this.eventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.eventService.removeEventListener(i,n)},u.prototype.onTouchStart=function(i){var n=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var a=this.touchStart;window.setTimeout(function(){n.touching&&n.touchStart===a&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:u.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:i}))},500)}},u.prototype.onTouchMove=function(i){if(this.touching){var n=this.getActiveTouch(i.touches);n&&!Ph(n,this.touchStart,4)&&(this.moved=!0)}},u.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:u.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.preventDefault(),this.touching=!1)},u.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>u.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:u.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},u.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},u.EVENT_TAP="tap",u.EVENT_DOUBLE_TAP="doubleTap",u.EVENT_LONG_TAP="longTap",u.DOUBLE_TAP_MILLIS=500,u}(),Rd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ac=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},z1=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.lastMovingChanged=0,n}return Rd(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.refresh=function(n){return this.params=n,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(n),!0)},i.prototype.workOutTemplate=function(){var n=Ct(this.params.template,i.TEMPLATE);return n&&n.trim?n.trim():n},i.prototype.init=function(n){this.params=n,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(n.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(n)},i.prototype.setDisplayName=function(n){if(this.currentDisplayName!=n.displayName){this.currentDisplayName=n.displayName;var a=Oo(this.currentDisplayName);this.eText&&(this.eText.innerHTML=a)}},i.prototype.setupIcons=function(n){this.addInIcon("sortAscending",this.eSortAsc,n),this.addInIcon("sortDescending",this.eSortDesc,n),this.addInIcon("sortUnSort",this.eSortNone,n),this.addInIcon("menu",this.eMenu,n),this.addInIcon("filter",this.eFilter,n)},i.prototype.addInIcon=function(n,a,c){if(null!=a){var d=io(n,this.gridOptionsWrapper,c);d&&a.appendChild(d)}},i.prototype.setupTap=function(){var n=this,a=this.gridOptionsWrapper;if(!a.isSuppressTouch()){var c=new _s(this.getGui(),!0),d=a.isSuppressMenuHide(),v=d&&se(this.eMenu),C=v?new _s(this.eMenu,!0):c;this.params.enableMenu&&this.addManagedListener(C,_s[v?"EVENT_TAP":"EVENT_LONG_TAP"],function(ce){a.getApi().showColumnMenuAfterMouseClick(n.params.column,ce.touchStart)}),this.params.enableSorting&&this.addManagedListener(c,_s.EVENT_TAP,function(ce){d&&n.eMenu.contains(ce.touchStart.target)||n.sortController.progressSort(n.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return c.destroy()}),v&&this.addDestroyFunc(function(){return C.destroy()})}},i.prototype.workOutShowMenu=function(){var n=!this.gridOptionsWrapper.isSuppressMenuHide(),a=ai()&&n;return this.params.enableMenu&&!a},i.prototype.setMenu=function(){var n=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void q(this.eMenu);var a=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return n.showMenu(n.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",a)}},i.prototype.showMenu=function(n){n||(n=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,n,"columnMenu")},i.prototype.removeSortIcons=function(){q(this.eSortAsc),q(this.eSortDesc),q(this.eSortNone),q(this.eSortOrder)},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var n=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var a=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Dt.EVENT_MOVING_CHANGED,function(){n.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(c){var d=n.params.column.isMoving(),v=(new Date).getTime();d||v-n.lastMovingChanged<50||n.params.progressSort(a?c.ctrlKey||c.metaKey:c.shiftKey)}),this.addManagedListener(this.params.column,Dt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,qe.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},i.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var n=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",n||!this.params.column.isSortNone())}},i.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var n=this.params.column,a=this.sortController.getColumnsWithSortingOrdered(),c=a.indexOf(n),d=a.length>1,v=n.isSorting()&&d;Ar(this.eSortOrder,v),c>=0?this.eSortOrder.innerHTML=(c+1).toString():j(this.eSortOrder)}},i.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Dt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var n=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!n)},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',ac([oe("sortController")],i.prototype,"sortController",void 0),ac([oe("menuFactory")],i.prototype,"menuFactory",void 0),ac([Fn("eFilter")],i.prototype,"eFilter",void 0),ac([Fn("eSortAsc")],i.prototype,"eSortAsc",void 0),ac([Fn("eSortDesc")],i.prototype,"eSortDesc",void 0),ac([Fn("eSortNone")],i.prototype,"eSortNone",void 0),ac([Fn("eSortOrder")],i.prototype,"eSortOrder",void 0),ac([Fn("eMenu")],i.prototype,"eMenu",void 0),ac([Fn("eLabel")],i.prototype,"eLabel",void 0),ac([Fn("eText")],i.prototype,"eText",void 0),i}(di),Fc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ru=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},V1=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return Fc(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){this.params=n,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&ue(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var n=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var a=function(v){if(!Ki(v)){var C=!n.params.columnGroup.isExpanded();n.columnModel.setColumnGroupOpened(n.params.columnGroup.getProvidedColumnGroup(),C,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,a),this.addTouchAndClickListeners(this.eOpenIcon,a);var c=function(v){Qi(v)};this.addManagedListener(this.eCloseIcon,"dblclick",c),this.addManagedListener(this.eOpenIcon,"dblclick",c),this.addManagedListener(this.getGui(),"dblclick",a),this.updateIconVisibility();var d=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(d,cr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(d,cr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(n,a){var c=new _s(n,!0);this.addManagedListener(c,_s.EVENT_TAP,a),this.addDestroyFunc(function(){return c.destroy()}),this.addManagedListener(n,"click",a)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var a=this.params.columnGroup.isExpanded();Ar(this.eOpenIcon,a),Ar(this.eCloseIcon,!a)}else Ar(this.eOpenIcon,!1),Ar(this.eCloseIcon,!1)},i.prototype.addInIcon=function(n,a){var c=io(n,this.gridOptionsWrapper,null);c&&this.getRefElement(a).appendChild(c)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Ar(this.eOpenIcon,!1),void Ar(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var n=this.params.displayName;if(se(n)){var a=Oo(n);this.getRefElement("agLabel").innerHTML=a}},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ru([oe("columnModel")],i.prototype,"columnModel",void 0),Ru([Fn("agOpened")],i.prototype,"eOpenIcon",void 0),Ru([Fn("agClosed")],i.prototype,"eCloseIcon",void 0),i}(di),wv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fu=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return wv(i,u),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(n){n.addCssClass("ag-has-popup"),u.prototype.setParentComponent.call(this,n)},i.prototype.destroy=function(){var n=this.parentComponent;n&&n.isAlive()&&n.getGui().classList.remove("ag-has-popup"),u.prototype.destroy.call(this)},i}(di),nf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Iu=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return nf(i,u),i.prototype.init=function(n){this.params=n,this.focusAfterAttached=n.cellStartedEdit,this.eTextArea.setMaxLength(n.maxLength||200).setCols(n.cols||60).setRows(n.rows||10),se(n.value)&&this.eTextArea.setValue(n.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(n){var a=n.key;(a===Nn.LEFT||a===Nn.UP||a===Nn.RIGHT||a===Nn.DOWN||n.shiftKey&&a===Nn.ENTER)&&n.stopPropagation()},i.prototype.afterGuiAttached=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Fn("eTextArea")],i.prototype,"eTextArea",void 0),i}(Fu),H1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Nu=function(u){function i(){var n=u.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return n.startedByEnter=!1,n}return H1(i,u),i.prototype.init=function(n){var a=this;if(this.focusAfterAttached=n.cellStartedEdit,ot(n.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=n.eventKey&&n.eventKey===Nn.ENTER;var c=!1;n.values.forEach(function(d){var v={value:d},C=a.valueFormatterService.formatValue(n.column,null,null,d);v.text=null!=C?C:d,a.eSelect.addOption(v),c=c||n.value===d}),c?this.eSelect.setValue(n.value,!0):n.values.length&&this.eSelect.setValue(n.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return n.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},Sv([oe("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Sv([Fn("eSelect")],i.prototype,"eSelect",void 0),i}(Fu),G1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lc=function(u){function i(){var n=u.call(this)||this;return ue(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),n}return G1(i,u),i.prototype.isPopup=function(){return!0},i}(Nu),ku=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rf=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return ku(i,u),i.prototype.init=function(n){this.params=n;var c,a=this.eInput;n.cellStartedEdit?(this.focusAfterAttached=!0,n.eventKey===Nn.BACKSPACE||n.eventKey===Nn.DELETE?c="":n.charPress?c=n.charPress:(c=this.getStartValue(n),n.eventKey!==Nn.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,c=this.getStartValue(n)),null!=c&&a.setValue(c,!0),this.addManagedListener(a.getGui(),"keydown",function(d){var v=d.key;(v===Nn.PAGE_UP||v===Nn.PAGE_DOWN)&&d.preventDefault()})},i.prototype.afterGuiAttached=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.eInput;if(a.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached){gn()||a.getFocusableElement().focus();var c=a.getInputElement();if(this.highlightAllOnFocus)c.select();else{var d=a.getValue(),v=se(d)&&d.length||0;v&&c.setSelectionRange(v,v)}}},i.prototype.focusIn=function(){var n=this.eInput,a=n.getFocusableElement(),c=n.getInputElement();a.focus(),c.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(n){return n.useFormatter||n.column.getColDef().refData?n.formatValue(n.value):n.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Fn("eInput")],i.prototype,"eInput",void 0),i}(Fu),O4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fd=function(u){function i(){var n=u.call(this)||this;return ue(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),n}return O4(i,u),i.prototype.isPopup=function(){return!0},i}(rf),Ev=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),x4=function(u){function i(){var n=u.call(this,i.TEMPLATE)||this;return n.refreshCount=0,n}return Ev(i,u),i.prototype.init=function(n){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(n)},i.prototype.showDelta=function(n,a){var c=Math.abs(a),d=n.formatValue(c),v=se(d)?d:c,C=a>=0;this.eDelta.innerHTML=C?"\u2191"+v:"\u2193"+v,this.eDelta.classList.toggle("ag-value-change-delta-up",C),this.eDelta.classList.toggle("ag-value-change-delta-down",!C)},i.prototype.setTimerToRemoveDelta=function(){var n=this;this.refreshCount++;var a=this.refreshCount;window.setTimeout(function(){a===n.refreshCount&&n.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),j(this.eDelta)},i.prototype.refresh=function(n){var a=n.value;return a!==this.lastValue&&(se(n.valueFormatted)?this.eValue.innerHTML=n.valueFormatted:se(n.value)?this.eValue.innerHTML=a:j(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof a&&"number"==typeof this.lastValue&&this.showDelta(n,a-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=a,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([oe("filterManager")],i.prototype,"filterManager",void 0),i}(di),Dv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ld=function(u){function i(){var n=u.call(this,i.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return Dv(i,u),i.prototype.init=function(n){this.refresh(n)},i.prototype.addSlideAnimation=function(){var n=this;this.refreshCount++;var a=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=_t('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){a===n.refreshCount&&n.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){a===n.refreshCount&&(n.getGui().removeChild(n.ePrevious),n.ePrevious=null)},3e3)},i.prototype.refresh=function(n){var a=n.value;return ot(a)&&(a=""),a!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=a,se(n.valueFormatted)?this.eCurrent.innerHTML=n.valueFormatted:se(n.value)?this.eCurrent.innerHTML=a:j(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([oe("filterManager")],i.prototype,"filterManager",void 0),i}(di),eu=(()=>(function(u){u[u.Above=0]="Above",u[u.Below=1]="Below"}(eu||(eu={})),eu))(),vi=function(){function u(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=u.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=i}return u.prototype.setData=function(i){this.setDataCommon(i,!1)},u.prototype.updateData=function(i){this.setDataCommon(i,!0)},u.prototype.setDataCommon=function(i,n){var a=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var c=this.createDataChangedEvent(i,a,n);this.dispatchLocalEvent(c)},u.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},u.prototype.createDataChangedEvent=function(i,n,a){return{type:u.EVENT_DATA_CHANGED,node:this,oldData:n,newData:i,update:a}},u.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},u.prototype.getRowIndexString=function(){return this.rowPinned===xe.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===xe.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},u.prototype.createDaemonNode=function(){var i=new u(this.beans);return i.id=this.id,i.data=this.data,i.daemon=!0,i.selected=this.selected,i.level=this.level,i},u.prototype.setDataAndId=function(i,n){var a=se(this.id)?this.createDaemonNode():null,c=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(n),this.beans.selectionService.syncInRowNode(this,a),this.checkRowSelectable();var d=this.createDataChangedEvent(i,c,!1);this.dispatchLocalEvent(d)},u.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!i||i(this))},u.prototype.setRowSelectable=function(i){this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_SELECTABLE_CHANGED)))},u.prototype.setId=function(i){var n=this.beans.gridOptionsWrapper.getRowIdFunc();if(n)if(this.data){var a=this.getGroupKeys(!0);this.id=n({api:this.beans.gridApi,columnApi:this.beans.columnApi,data:this.data,parentKeys:a.length>0?a:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(u.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+u.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=i},u.prototype.getGroupKeys=function(i){void 0===i&&(i=!1);var n=[],a=this;for(i&&(a=a.parent);a&&a.level>=0;)n.push(a.key),a=a.parent;return n.reverse(),n},u.prototype.isPixelInRange=function(i){return!(!se(this.rowTop)||!se(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},u.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_FIRST_CHILD_CHANGED)))},u.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_LAST_CHILD_CHANGED)))},u.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_CHILD_INDEX_CHANGED)))},u.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},u.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},u.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DISPLAYED_CHANGED)))},u.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DRAGGING_CHANGED)))},u.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HIGHLIGHT_CHANGED)))},u.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},u.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_MASTER_CHANGED)))},u.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_GROUP_CHANGED)))},u.prototype.setRowHeight=function(i,n){void 0===n&&(n=!1),this.rowHeight=i,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HEIGHT_CHANGED))},u.prototype.setRowAutoHeight=function(i,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ie(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},u.prototype.checkAutoHeights=function(){var i=!1,n=!0,a=0,c=this.__autoHeights;if(null!=c&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(C){var M=c[C.getId()];null!=M?(n=!1,M>a&&(a=M)):i=!0}),!i&&((n||a<10)&&(a=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),a!=this.rowHeight))){this.setRowHeight(a);var v=this.beans.rowModel;v.onRowHeightChanged&&v.onRowHeightChanged()}},u.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ROW_INDEX_CHANGED)))},u.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_UI_LEVEL_CHANGED)))},u.prototype.setExpanded=function(i){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(qe.EVENT_ROW_GROUP_OPENED),{expanded:i});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},u.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},u.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},u.prototype.setDataValue=function(i,n,a){var c=this.beans.columnModel.getPrimaryColumn(i),d=this.beans.valueService.getValue(c,this);this.beans.valueService.setValue(this,c,n,a),this.dispatchCellChangedEvent(c,n,d)},u.prototype.setGroupValue=function(i,n){var a=this.beans.columnModel.getGridColumn(i);ot(this.groupData)&&(this.groupData={});var c=a.getColId(),d=this.groupData[c];d!==n&&(this.groupData[c]=n,this.dispatchCellChangedEvent(a,n,d))},u.prototype.setAggData=function(i){var n=this,a=xi([this.aggData,i]),c=this.aggData;this.aggData=i,this.eventService&&a.forEach(function(d){var v=n.beans.columnModel.getGridColumn(d);n.dispatchCellChangedEvent(v,n.aggData?n.aggData[d]:void 0,c?c[d]:void 0)})},u.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HAS_CHILDREN_CHANGED)))},u.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},u.prototype.isEmptyRowGroupNode=function(){return this.group&&De(this.childrenAfterGroup)},u.prototype.dispatchCellChangedEvent=function(i,n,a){this.dispatchLocalEvent({type:u.EVENT_CELL_CHANGED,node:this,column:i,newValue:n,oldValue:a})},u.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},u.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},u.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},u.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(n){return n.depthFirstSearch(i)}),i(this)},u.prototype.calculateSelectedFromChildren=function(){var i=!1,n=!1,a=!1;if(this.childrenAfterGroup)for(var d=0;d<this.childrenAfterGroup.length;d++){var v=this.childrenAfterGroup[d];if(v.selectable)switch(v.isSelected()){case!0:i=!0;break;case!1:n=!0;break;default:a=!0}}this.selectThisNode(a?void 0:!(!i||n)||!(!i&&n)&&void 0)},u.prototype.setSelectedInitialValue=function(i){this.selected=i},u.prototype.setSelected=function(i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1),this.setSelectedParams({newValue:i,clearSelection:n,suppressFinishActions:a,rangeSelect:!1})},u.prototype.isRowPinned=function(){return this.rowPinned===xe.PINNED_TOP||this.rowPinned===xe.PINNED_BOTTOM},u.prototype.setSelectedParams=function(i){var n=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),a=!0===i.newValue,c=!0===i.clearSelection,d=!0===i.suppressFinishActions,v=!0===i.rangeSelect,C=n&&!0===i.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(i);if(v&&this.beans.selectionService.getLastSelectedNode()){var M=this.beans.selectionService.getLastSelectedNode()!==this,L=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(M&&L){var U=this.doRowRangeSelection(i.newValue);return this.beans.selectionService.setLastSelectedNode(this),U}}var ce=0;return C&&this.group||this.selectThisNode(a)&&ce++,n&&this.group&&(ce+=this.selectChildNodes(a,C)),d||(a&&(c||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(ce+=this.beans.selectionService.clearOtherNodes(this)),ce>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:qe.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),a&&this.beans.selectionService.setLastSelectedNode(this)),ce},u.prototype.doRowRangeSelection=function(i){var n=this;void 0===i&&(i=!0);var a=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),c=this.beans.selectionService.getLastSelectedNode(),d=this.beans.rowModel.getNodesInRangeForSelection(this,c),v=0;return d.forEach(function(M){M.group&&a||!1===i&&n===M||M.selectThisNode(i)&&v++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:qe.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),v},u.prototype.isParentOfNode=function(i){for(var n=this.parent;n;){if(n===i)return!0;n=n.parent}return!1},u.prototype.selectThisNode=function(i){if(!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_ROW_SELECTED));var c=this.createGlobalRowEvent(qe.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(c),!0},u.prototype.selectChildNodes=function(i,n){var a=n?this.childrenAfterFilter:this.childrenAfterGroup;if(ot(a))return 0;for(var c=0,d=0;d<a.length;d++)c+=a[d].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n});return c},u.prototype.addEventListener=function(i,n){this.eventService||(this.eventService=new Be),this.eventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){!this.eventService||(this.eventService.removeEventListener(i,n),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},u.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_ENTER))},u.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_LEAVE))},u.prototype.getFirstChildOfFirstChild=function(i){for(var n=this,a=!0,c=!1,d=null;a&&!c;){var v=n.parent;se(v)&&n.firstChild?v.rowGroupColumn===i&&(c=!0,d=v):a=!1,n=v}return c?d:null},u.prototype.isFullWidthCell=function(){var i=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!i&&i(this)},u.prototype.getRoute=function(){if(null!=this.key){for(var i=[],n=this;null!=n.key;)i.push(n.key),n=n.parent;return i.reverse()}},u.ID_PREFIX_ROW_GROUP="row-group-",u.ID_PREFIX_TOP_PINNED="t-",u.ID_PREFIX_BOTTOM_PINNED="b-",u.OBJECT_ID_SEQUENCE=0,u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_DATA_CHANGED="dataChanged",u.EVENT_CELL_CHANGED="cellChanged",u.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",u.EVENT_MASTER_CHANGED="masterChanged",u.EVENT_GROUP_CHANGED="groupChanged",u.EVENT_MOUSE_ENTER="mouseEnter",u.EVENT_MOUSE_LEAVE="mouseLeave",u.EVENT_HEIGHT_CHANGED="heightChanged",u.EVENT_TOP_CHANGED="topChanged",u.EVENT_DISPLAYED_CHANGED="displayedChanged",u.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",u.EVENT_LAST_CHILD_CHANGED="lastChildChanged",u.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",u.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",u.EVENT_SELECTABLE_CHANGED="selectableChanged",u.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",u.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",u.EVENT_DRAGGING_CHANGED="draggingChanged",u}(),Ov=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Id=function(u){function i(){return u.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ov(i,u),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.rowNode.isSelected(),c=void 0===a?n("ariaIndeterminate","indeterminate"):!0===a?n("ariaChecked","checked"):n("ariaUnchecked","unchecked"),d=n("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(a,!0),this.eCheckbox.setInputAriaLabel(d+" ("+c+")")},i.prototype.onCheckedClicked=function(n){var a=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:n.shiftKey,groupSelectsFiltered:a})},i.prototype.onUncheckedClicked=function(n){var a=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:n.shiftKey,groupSelectsFiltered:a})},i.prototype.init=function(n){var a=this;if(this.rowNode=n.rowNode,this.column=n.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(C){return Qi(C)}),this.addGuiEventListener("dblclick",function(C){return Qi(C)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(C){var M=a.eCheckbox.getValue();void 0===a.eCheckbox.getPreviousValue()||void 0===M?0===a.onUncheckedClicked(C||{})&&a.onCheckedClicked(C):M?a.onCheckedClicked(C):a.onUncheckedClicked(C||{})}),this.addManagedListener(this.rowNode,vi.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var v=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,v),this.addManagedListener(this.rowNode,vi.EVENT_DATA_CHANGED,v),this.addManagedListener(this.rowNode,vi.EVENT_CELL_CHANGED,v),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var n=this.rowNode.selectable;n&&this.checkboxCallbackExists()&&(n=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(n)},i.prototype.checkboxCallbackExists=function(){var n=this.column?this.column.getColDef():null;return!!n&&"function"==typeof n.checkboxSelection},hl([Fn("eCheckbox")],i.prototype,"eCheckbox",void 0),hl([Vt],i.prototype,"postConstruct",null),i}(di),W1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Po=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Vs=function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],a=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&a>=u.length&&(u=void 0),{value:u&&u[a++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Hs=(()=>(function(u){u[u.ToolPanel=0]="ToolPanel",u[u.HeaderCell=1]="HeaderCell",u[u.RowDrag=2]="RowDrag",u[u.ChartPanel=3]="ChartPanel"}(Hs||(Hs={})),Hs))(),zu=(()=>(function(u){u[u.Up=0]="Up",u[u.Down=1]="Down"}(zu||(zu={})),zu))(),Gs=(()=>(function(u){u[u.Left=0]="Left",u[u.Right=1]="Right"}(Gs||(Gs={})),Gs))(),Pa=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.dragSourceAndParamsList=[],a.dropTargets=[],a}var n;return W1(i,u),n=i,i.prototype.init=function(){this.ePinnedIcon=So("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=So("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=So("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=So("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=So("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=So("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=So("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=So("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=So("dropNotAllowed",this.gridOptionsWrapper,null)},i.prototype.addDragSource=function(a,c){void 0===c&&(c=!1);var d={eElement:a.eElement,dragStartPixels:a.dragStartPixels,onDragStart:this.onDragStart.bind(this,a),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:d,dragSource:a}),this.dragService.addDragSource(d,c)},i.prototype.removeDragSource=function(a){var c=this.dragSourceAndParamsList.find(function(d){return d.dragSource===a});c&&(this.dragService.removeDragSource(c.params),zn(this.dragSourceAndParamsList,c))},i.prototype.clearDragSourceParamsList=function(){var a=this;this.dragSourceAndParamsList.forEach(function(c){return a.dragService.removeDragSource(c.params)}),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(a,c){this.dragging=!0,this.dragSource=a,this.eventLastTime=c,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(a){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var c=this.createDropTargetEvent(this.lastDropTarget,a,null,null,!1);this.lastDropTarget.onDragStop(c)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(a,c){var d=this,v=this.getHorizontalDirection(a),C=this.getVerticalDirection(a);this.eventLastTime=a,this.positionGhost(a);var M=this.dropTargets.filter(function(ye){return d.isMouseOnDropTarget(a,ye)}),L=M.length,U=null;if(L>0&&(U=1===L?M[0]:M.reduce(function(ye,it){if(!ye)return it;var bt=ye.getContainer(),Wt=it.getContainer();return bt.contains(Wt)?it:ye})),U!==this.lastDropTarget)this.leaveLastTargetIfExists(a,v,C,c),this.enterDragTargetIfExists(U,a,v,C,c),this.lastDropTarget=U;else if(U&&U.onDragging){var ce=this.createDropTargetEvent(U,a,v,C,c);U.onDragging(ce)}},i.prototype.enterDragTargetIfExists=function(a,c,d,v,C){if(a){if(a.onDragEnter){var M=this.createDropTargetEvent(a,c,d,v,C);a.onDragEnter(M)}this.setGhostIcon(a.getIconName?a.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(a,c,d,v){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var C=this.createDropTargetEvent(this.lastDropTarget,a,c,d,v);this.lastDropTarget.onDragLeave(C)}this.setGhostIcon(null)}},i.prototype.getAllContainersFromDropTarget=function(a){var c=a.getSecondaryContainers?a.getSecondaryContainers():null,d=[[a.getContainer()]];return c?d.concat(c):d},i.prototype.allContainersIntersect=function(a,c){var d,v;try{for(var C=Vs(c),M=C.next();!M.done;M=C.next()){var U=M.value.getBoundingClientRect();if(0===U.width||0===U.height)return!1;if(!(a.clientX>=U.left&&a.clientX<U.right&&a.clientY>=U.top&&a.clientY<U.bottom))return!1}}catch(it){d={error:it}}finally{try{M&&!M.done&&(v=C.return)&&v.call(C)}finally{if(d)throw d.error}}return!0},i.prototype.isMouseOnDropTarget=function(a,c){var d,v,C=this.getAllContainersFromDropTarget(c),M=!1;try{for(var L=Vs(C),U=L.next();!U.done;U=L.next())if(this.allContainersIntersect(a,U.value)){M=!0;break}}catch(ye){d={error:ye}}finally{try{U&&!U.done&&(v=L.return)&&v.call(L)}finally{if(d)throw d.error}}return M&&c.isInterestedIn(this.dragSource.type)},i.prototype.addDropTarget=function(a){this.dropTargets.push(a)},i.prototype.removeDropTarget=function(a){this.dropTargets=this.dropTargets.filter(function(c){return c.getContainer()!==a.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(a){return a.external})},i.prototype.findExternalZone=function(a){return this.dropTargets.filter(function(d){return d.external}).find(function(d){return d.getContainer()===a.getContainer()})||null},i.prototype.getHorizontalDirection=function(a){var c=this.eventLastTime&&this.eventLastTime.clientX,d=a.clientX;return c===d?null:c>d?Gs.Left:Gs.Right},i.prototype.getVerticalDirection=function(a){var c=this.eventLastTime&&this.eventLastTime.clientY,d=a.clientY;return c===d?null:c>d?zu.Up:zu.Down},i.prototype.createDropTargetEvent=function(a,c,d,v,C){var M=a.getContainer(),L=M.getBoundingClientRect(),U=this;return{event:c,x:c.clientX-L.left,y:c.clientY-L.top,vDirection:v,hDirection:d,dragSource:U.dragSource,fromNudge:C,dragItem:U.dragItem,api:U.gridApi,columnApi:U.columnApi,dropZoneTarget:M}},i.prototype.positionGhost=function(a){var c=this.eGhost;if(c){var v=c.getBoundingClientRect().height,C=$()-2,M=B()-2,L=a.pageY-v/2,U=a.pageX-10,ce=this.gridOptionsWrapper.getDocument(),ye=ce.defaultView||window,it=ye.pageYOffset||ce.documentElement.scrollTop,bt=ye.pageXOffset||ce.documentElement.scrollLeft;C>0&&U+c.clientWidth>C+bt&&(U=C+bt-c.clientWidth),U<0&&(U=0),M>0&&L+c.clientHeight>M+it&&(L=M+it-c.clientHeight),L<0&&(L=0),c.style.left=U+"px",c.style.top=L+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=_t(n.GHOST_TEMPLATE);var a=this.environment.getTheme().theme;a&&this.eGhost.classList.add(a),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var c=this.eGhost.querySelector(".ag-dnd-ghost-label"),d=this.dragSource.dragItemName;Xt(d)&&(d=d()),c.innerHTML=Oo(d)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var v=this.gridOptionsWrapper.getDocument(),C=null;try{C=v.fullscreenElement}catch(M){}finally{C||(C=v.querySelector("body"))}this.eGhostParent=C,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(a,c){void 0===c&&(c=!1),j(this.eGhostIcon);var d=null;switch(a||(a=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),a){case n.ICON_PINNED:d=this.ePinnedIcon;break;case n.ICON_MOVE:d=this.eMoveIcon;break;case n.ICON_LEFT:d=this.eLeftIcon;break;case n.ICON_RIGHT:d=this.eRightIcon;break;case n.ICON_GROUP:d=this.eGroupIcon;break;case n.ICON_AGGREGATE:d=this.eAggregateIcon;break;case n.ICON_PIVOT:d=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:d=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:d=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",c),(d!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&d&&this.eGhostIcon.appendChild(d)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Po([oe("dragService")],i.prototype,"dragService",void 0),Po([oe("environment")],i.prototype,"environment",void 0),Po([oe("columnApi")],i.prototype,"columnApi",void 0),Po([oe("gridApi")],i.prototype,"gridApi",void 0),Po([Vt],i.prototype,"init",null),Po([fn],i.prototype,"clearDragSourceParamsList",null),n=Po([mn("dragAndDropService")],i)}(wn),Nd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},j1=function(u){function i(n,a,c,d,v,C){var M=u.call(this)||this;return M.cellValueFn=n,M.rowNode=a,M.column=c,M.customGui=d,M.dragStartPixels=v,M.suppressVisibilityChange=C,M.dragSource=null,M}return Nd(i,u),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(io("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var n=this.beans.gridOptionsWrapper.isRowDragManaged()?new A4(this,this.beans,this.rowNode,this.column):new sf(this,this.beans,this.rowNode,this.column);this.createManagedBean(n,this.beans.context)}},i.prototype.setDragElement=function(n,a){this.setTemplateFromElement(n),this.addDragSource(a)},i.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var a=this.beans.selectionService.getSelectedNodes();return-1!==a.indexOf(this.rowNode)?a.length:1},i.prototype.checkCompatibility=function(){var n=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&n&&ue(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.addDragSource=function(n){var a=this;void 0===n&&(n=4),this.dragSource&&this.removeDragSource();var c={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},d=this.column&&this.column.getColDef().rowDragText,v=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:Hs.RowDrag,eElement:this.getGui(),dragItemName:function(){var C=a.getSelectedCount();return d?d(c,C):1===C?a.cellValueFn():C+" "+v("rowDragRows","rows")},getDragItem:function(){return c},dragStartPixels:n,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Gl([oe("beans")],i.prototype,"beans",void 0),Gl([Vt],i.prototype,"postConstruct",null),Gl([fn],i.prototype,"removeDragSource",null),i}(di),P4=function(u){function i(n,a,c){var d=u.call(this)||this;return d.parent=n,d.rowNode=a,d.column=c,d}return Nd(i,u),i.prototype.setDisplayedOrVisible=function(n){if(n)this.parent.setDisplayed(!1);else{var a=!0,c=!1;this.column&&(a=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=Xt(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0),this.parent.setVisible(a)):(this.parent.setDisplayed(a),this.parent.setVisible(!0))}},i}(wn),sf=function(u){function i(n,a,c,d){var v=u.call(this,n,c,d)||this;return v.beans=a,v}return Nd(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var n=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(n)},Gl([Vt],i.prototype,"postConstruct",null),i}(P4),A4=function(u){function i(n,a,c,d){var v=u.call(this,n,c,d)||this;return v.beans=a,v}return Nd(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,qe.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,qe.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,qe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var a=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),c=a&&a.shouldPreventRowMove(),d=this.beans.gridOptionsWrapper.isSuppressRowDrag(),v=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(c&&!v||d)},Gl([Vt],i.prototype,"postConstruct",null),i}(P4),R4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vu=function(){return Vu=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Vu.apply(this,arguments)},kh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Tv=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return R4(i,u),i.prototype.init=function(n,a,c,d,v,C,M){this.params=M,this.eGui=a,this.eCheckbox=c,this.eExpanded=d,this.eContracted=v,this.comp=n,this.compClass=C;var L=this.isTopLevelFooter(),U=this.isEmbeddedRowMismatch(),ce=null==M.value,ye=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var it=M.node;it.footer&&(ye=(M.colDef&&M.colDef.showRowGroup)!==(it.rowGroupColumn&&it.rowGroupColumn.getColId()))}this.cellIsBlank=!L&&(U||ce||ye),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var n=this.params.colDef;if(null==n||!0===n.showRowGroup)return!0;var c=this.columnModel.getRowGroupColumns();return!c||0===c.length||c[0].getId()===n.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var n=this.params.pinned===xe.PINNED_LEFT,a=this.params.pinned===xe.PINNED_RIGHT,c=!n&&!a;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!a:!c:this.columnModel.isPinningLeft()?!n:!c},i.prototype.findDisplayedGroupNode=function(){var n=this.params.column,a=this.params.node;if(this.showingValueForOpenedParent)for(var c=a.parent;null!=c;){if(c.rowGroupColumn&&n.isRowGroupDisplayed(c.rowGroupColumn.getId())){this.displayedGroupNode=c;break}c=c.parent}ot(this.displayedGroupNode)&&(this.displayedGroupNode=a)},i.prototype.setupShowingValueForOpenedParent=function(){var n=this.params.node,a=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(n.groupData){if(null!=n.rowGroupColumn){var d=n.rowGroupColumn.getId();if(a.isRowGroupDisplayed(d))return void(this.showingValueForOpenedParent=!1)}var C=null!=n.groupData[a.getId()];this.showingValueForOpenedParent=C}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var n=this.adjustParamsWithDetailsFromRelatedColumn(),a=this.getInnerCompDetails(n),c=n.valueFormatted;this.comp.setInnerRenderer(a,null!=c?c:n.value)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var n=this.displayedGroupNode.rowGroupColumn,a=this.params.column;if(!n)return this.params;if(null!=a&&!a.isRowGroupDisplayed(n.getId()))return this.params;var v=this.params,C=this.params,ce=this.valueFormatterService.formatValue(n,C.node,C.scope,C.value);return Vu(Vu({},v),{valueFormatted:ce})},i.prototype.addFooterValue=function(){var n=this.params.footerValueGetter,a="";if(n){var c=en(this.params);c.value=this.params.value,"function"==typeof n?a=n(c):"string"==typeof n?a=this.expressionService.evaluate(n,c):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else a="Total "+(null!=this.params.value?this.params.value:"");var d=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(d,a)},i.prototype.getInnerCompDetails=function(n){var a=this;if(n.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,n);var c=this.userComponentFactory.getInnerRendererDetails(n,n),d=function(U){return U&&U.componentClass==a.compClass};if(c&&!d(c))return c;var v=this.displayedGroupNode.rowGroupColumn,C=v?v.getColDef():void 0;if(C){var M=this.userComponentFactory.getCellRendererDetails(C,n);if(M&&!d(M))return M;if(d(M)&&C.cellRendererParams&&C.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(C.cellRendererParams,n)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,vi.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var n=this.displayedGroupNode.allChildrenCount,a=this.isShowRowGroupForThisRow();this.comp.setChildCount(a&&null!=n&&n>=0?"("+n+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var n=this.displayedGroupNode.rowGroupColumn;if(!n)return!1;var a=this.params.column;return null==a||a.isRowGroupDisplayed(n.getId())},i.prototype.addExpandAndContract=function(){var n=this.params,a=io("groupExpanded",this.gridOptionsWrapper,null),c=io("groupContracted",this.gridOptionsWrapper,null);a&&this.eExpanded.appendChild(a),c&&this.eContracted.appendChild(c);var d=n.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(d,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(d,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,vi.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var v=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,vi.EVENT_ALL_CHILDREN_COUNT_CHANGED,v),this.addManagedListener(this.displayedGroupNode,vi.EVENT_MASTER_CHANGED,v),this.addManagedListener(this.displayedGroupNode,vi.EVENT_GROUP_CHANGED,v),this.addManagedListener(this.displayedGroupNode,vi.EVENT_HAS_CHILDREN_CHANGED,v)},i.prototype.onExpandClicked=function(n){Ki(n)||(Qi(n),this.onExpandOrContract())},i.prototype.onExpandOrContract=function(){var n=this.displayedGroupNode;n.setExpanded(!n.expanded)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var n=this.displayedGroupNode,a=this.columnModel.isPivotMode()&&n.leafGroup;if(!n.isExpandable()||n.footer||a)return!1;var d=this.params.column;return null==d||"string"!=typeof d.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var n=this,c=n.displayedGroupNode,d=n.columnModel,v=n.params.node,C=this.isExpandable();if(C){var M=!!this.showingValueForOpenedParent||v.expanded;this.comp.setExpandedDisplayed(M),this.comp.setContractedDisplayed(!M)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var L=d.isPivotMode(),U=L&&c.leafGroup,ce=C&&!U,ye=v.footer&&-1===v.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",ce),this.comp.addOrRemoveCssClass("ag-row-group",ce),L?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",U):ye||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!ce)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,vi.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var n=this.params,a=n.node,c=!!n.colDef,d=this.gridOptionsWrapper.isTreeData(),C=!c||d||!0===n.colDef.showRowGroup?a.uiLevel:0;n.padding>=0&&ue(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+C,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var n=this;if(this.params.fullWidth&&this.params.rowDrag){var a=new j1(function(){return n.params.value},this.params.node);this.createManagedBean(a,this.context),this.eGui.insertAdjacentElement("afterbegin",a.getGui())}},i.prototype.isUserWantsSelected=function(){var n=this.params.checkbox;return"function"==typeof n?n(this.params):!0===n},i.prototype.addCheckboxIfNeeded=function(){var n=this,a=this.displayedGroupNode,c=this.isUserWantsSelected()&&!a.footer&&!a.rowPinned&&!a.detail;if(c){var d=new Id;this.getContext().createBean(d),d.init({rowNode:a,column:this.params.column}),this.eCheckbox.appendChild(d.getGui()),this.addDestroyFunc(function(){return n.getContext().destroyBean(d)})}this.comp.setCheckboxVisible(c)},i.prototype.onKeyDown=function(n){n.key!==Nn.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract()},i.prototype.onCellDblClicked=function(n){Ki(n)||Ei(this.eExpanded,n)||Ei(this.eContracted,n)||this.onExpandOrContract()},kh([oe("expressionService")],i.prototype,"expressionService",void 0),kh([oe("valueFormatterService")],i.prototype,"valueFormatterService",void 0),kh([oe("columnModel")],i.prototype,"columnModel",void 0),kh([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),kh([oe("gridOptions")],i.prototype,"gridOptions",void 0),i}(wn),kd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},lf=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return kd(i,u),i.prototype.init=function(n){var a=this,c={setInnerRenderer:function(M,L){return a.setRenderDetails(M,L)},setChildCount:function(M){return a.eChildCount.innerHTML=M},addOrRemoveCssClass:function(M,L){return a.addOrRemoveCssClass(M,L)},setContractedDisplayed:function(M){return Ar(a.eContracted,M)},setExpandedDisplayed:function(M){return Ar(a.eExpanded,M)},setCheckboxVisible:function(M){return a.eCheckbox.classList.toggle("ag-invisible",!M)}},d=this.createManagedBean(new Tv),v=!n.colDef,C=this.getGui();d.init(c,C,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,n),v&&Xi(C,"gridcell")},i.prototype.setRenderDetails=function(n,a){var c=this;if(n){var d=n.newAgStackInstance();if(!d)return;d.then(function(v){if(v){var C=function(){return c.context.destroyBean(v)};c.isAlive()?(c.eValue.appendChild(v.getGui()),c.addDestroyFunc(C)):C()}})}else this.eValue.innerText=a},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),u.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',zd([Fn("eExpanded")],i.prototype,"eExpanded",void 0),zd([Fn("eContracted")],i.prototype,"eContracted",void 0),zd([Fn("eCheckbox")],i.prototype,"eCheckbox",void 0),zd([Fn("eValue")],i.prototype,"eValue",void 0),zd([Fn("eChildCount")],i.prototype,"eChildCount",void 0),i}(di),Vd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lo=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},xv=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return Vd(i,u),i.prototype.init=function(n){n.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},i.prototype.setupLoading=function(){var n=io("groupLoading",this.gridOptionsWrapper,null);n&&this.eLoadingIcon.appendChild(n);var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=a("loadingOoo","Loading")},i.prototype.refresh=function(n){return!1},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Lo([Fn("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),Lo([Fn("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(di),F4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),U1=function(u){function i(){return u.call(this)||this}return F4(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():i.DEFAULT_LOADING_OVERLAY_TEMPLATE,c=this.gridOptionsWrapper.getLocaleTextFunc(),d=a.replace("[LOADING...]",c("loadingOoo","Loading..."));this.setTemplate(d)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(di),cf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mv=function(u){function i(){return u.call(this)||this}return cf(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():i.DEFAULT_NO_ROWS_TEMPLATE,c=this.gridOptionsWrapper.getLocaleTextFunc(),d=a.replace("[NO_ROWS_TO_SHOW]",c("noRowsToShow","No Rows To Show"));this.setTemplate(d)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(di),L4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uf=function(u){function i(){return u.call(this,'<div class="ag-tooltip"></div>')||this}return L4(i,u),i.prototype.init=function(n){var a=n.value;this.getGui().innerHTML=Oo(a)},i}(Fu),I4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),df=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},U3=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.agGridDefaults={agDateInput:Ih,agColumnHeader:z1,agColumnGroupHeader:V1,agTextColumnFloatingFilter:tf,agNumberColumnFloatingFilter:E4,agDateColumnFloatingFilter:Au,agReadOnlyFloatingFilter:Jc,agAnimateShowChangeCellRenderer:x4,agAnimateSlideCellRenderer:Ld,agGroupCellRenderer:lf,agGroupRowRenderer:lf,agLoadingCellRenderer:xv,agCellEditor:rf,agTextCellEditor:rf,agSelectCellEditor:Nu,agPopupTextCellEditor:Fd,agPopupSelectCellEditor:Lc,agLargeTextCellEditor:Iu,agTextColumnFilter:N1,agNumberColumnFilter:I1,agDateColumnFilter:yv,agLoadingOverlay:U1,agNoRowsOverlay:Mv,agTooltipComponent:uf},n.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},n.jsComps={},n.fwComps={},n}return I4(i,u),i.prototype.init=function(){var n=this;null!=this.gridOptions.components&&tt(this.gridOptions.components,function(a,c){return n.registerJsComponent(a,c)}),null!=this.gridOptions.frameworkComponents&&tt(this.gridOptions.frameworkComponents,function(a,c){return n.registerFwComponent(a,c)})},i.prototype.registerDefaultComponent=function(n,a){var c=this.translateIfDeprecated(n);this.agGridDefaults[c]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[c]=a},i.prototype.registerJsComponent=function(n,a){var c=this.translateIfDeprecated(n);this.fwComps[c]?console.error("Trying to register a component that you have already registered for frameworks: "+c):this.jsComps[c]=a},i.prototype.registerFwComponent=function(n,a){ue(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var d=this.translateIfDeprecated(n);this.fwComps[d]=a},i.prototype.retrieve=function(n){var a=this.translateIfDeprecated(n),c=function(U,ce){return{componentFromFramework:ce,component:U}},d=this.getFrameworkOverrides().frameworkComponent(a);if(null!=d)return c(d,!0);var v=this.fwComps[a];if(v)return c(v,!0);var C=this.jsComps[a];if(C)return c(C,this.getFrameworkOverrides().isFrameworkComponent(C));var L=this.agGridDefaults[a];return L?c(L,!1):(Object.keys(this.agGridDefaults).indexOf(a)<0&&console.warn("AG Grid: Looking for component ["+a+"] but it wasn't found."),null)},i.prototype.translateIfDeprecated=function(n){var a=this.agDeprecatedNames[n];return null!=a?(ue(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+a.propertyHolder+":"+n+" to "+a.propertyHolder+":"+a.newComponentName)},"DEPRECATE_COMPONENT_"+n),a.newComponentName):n},df([oe("gridOptions")],i.prototype,"gridOptions",void 0),df([oe("agComponentUtils")],i.prototype,"agComponentUtils",void 0),df([Vt],i.prototype,"init",null),df([mn("userComponentRegistry")],i)}(wn),Ic={propertyName:"dateComponent",cellRenderer:!1},zh={propertyName:"headerComponent",cellRenderer:!1},as={propertyName:"headerGroupComponent",cellRenderer:!1},hf={propertyName:"cellRenderer",cellRenderer:!0},Hu={propertyName:"cellEditor",cellRenderer:!1},Y1={propertyName:"innerRenderer",cellRenderer:!0},Ga={propertyName:"loadingOverlayComponent",cellRenderer:!1},sc={propertyName:"noRowsOverlayComponent",cellRenderer:!1},K1={propertyName:"tooltipComponent",cellRenderer:!1},Hd={propertyName:"filter",cellRenderer:!1},Vh={propertyName:"floatingFilterComponent",cellRenderer:!1},Hh={propertyName:"toolPanel",cellRenderer:!1},ss={propertyName:"statusPanel",cellRenderer:!1},ln={propertyName:"fullWidthCellRenderer",cellRenderer:!0},N4={propertyName:"loadingCellRenderer",cellRenderer:!0},Gh={propertyName:"groupRowRenderer",cellRenderer:!0},Bh={propertyName:"detailCellRenderer",cellRenderer:!0},$o=function(){function u(){}return u.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},u.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},u}(),Gu=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$1=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Gu(i,u),i.prototype.getHeaderCompDetails=function(n,a){return this.getCompDetails(n,zh,"agColumnHeader",a)},i.prototype.getHeaderGroupCompDetails=function(n){var a=n.columnGroup.getColGroupDef();return this.getCompDetails(a,as,"agColumnGroupHeader",n)},i.prototype.getFullWidthCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,ln,null,n,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,N4,"agLoadingCellRenderer",n,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Gh,"agGroupRowRenderer",n,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Bh,"agDetailCellRenderer",n,!0)},i.prototype.getInnerRendererDetails=function(n,a){return this.getCompDetails(n,Y1,null,a)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(n,a){return this.getCompDetails(n,Y1,null,a)},i.prototype.getCellRendererDetails=function(n,a){return this.getCompDetails(n,hf,null,a)},i.prototype.getCellEditorDetails=function(n,a){return this.getCompDetails(n,Hu,"agCellEditor",a,!0)},i.prototype.getFilterDetails=function(n,a,c){return this.getCompDetails(n,Hd,c,a,!0)},i.prototype.getDateCompDetails=function(n){return this.getCompDetails(this.gridOptions,Ic,"agDateInput",n,!0)},i.prototype.getLoadingOverlayCompDetails=function(n){return this.getCompDetails(this.gridOptions,Ga,"agLoadingOverlay",n,!0)},i.prototype.getNoRowsOverlayCompDetails=function(n){return this.getCompDetails(this.gridOptions,sc,"agNoRowsOverlay",n,!0)},i.prototype.getTooltipCompDetails=function(n){return this.getCompDetails(n.colDef,K1,"agTooltipComponent",n,!0)},i.prototype.getSetFilterCellRendererDetails=function(n,a){return this.getCompDetails(n,hf,null,a)},i.prototype.getFloatingFilterCompDetails=function(n,a,c){return this.getCompDetails(n,Vh,c,a)},i.prototype.getToolPanelCompDetails=function(n,a){return this.getCompDetails(n,Hh,null,a,!0)},i.prototype.getStatusPanelCompDetails=function(n,a){return this.getCompDetails(n,ss,null,a,!0)},i.prototype.getCompDetails=function(n,a,c,d,v){var C=this;void 0===v&&(v=!1);var M=a.propertyName,L=a.cellRenderer,U=this.getCompKeys(n,a,d),ce=U.compName,ye=U.jsComp,it=U.fwComp,bt=U.paramsFromSelector,Wt=U.popupFromSelector,cn=U.popupPositionFromSelector,Kt=function(Ir){var _i=C.userComponentRegistry.retrieve(Ir);_i&&(ye=_i.componentFromFramework?void 0:_i.component,it=_i.componentFromFramework?_i.component:void 0)};if(null!=ce&&Kt(ce),null==ye&&null==it&&null!=c&&Kt(c),ye&&L&&!this.agComponentUtils.doesImplementIComponent(ye)&&(ye=this.agComponentUtils.adaptFunction(M,ye)),ye||it){var _n=this.mergeParamsWithApplicationProvidedParams(n,a,d,bt),An=null==ye,qn=ye||it;return{componentFromFramework:An,componentClass:qn,params:_n,type:a,popupFromSelector:Wt,popupPositionFromSelector:cn,newAgStackInstance:function(){return C.newAgStackInstance(qn,An,_n,a)}}}v&&console.error("Could not find component "+ce+", did you forget to configure this component?")},i.prototype.getCompKeys=function(n,a,c){var C,M,L,U,ce,ye,d=this,v=a.propertyName;if(n){var it=n,bt=it[v+"Selector"],Wt=bt?bt(c):null,cn=function(_n,An){var qn=function(){var _i="AG Grid: As of v27, the property "+v+"Framework is deprecated. The property "+v+" can now be used for JavaScript AND Framework Components.";ue(function(){return console.warn(_i)},"UserComponentFactory."+v+"FrameworkDeprecated")};"string"==typeof _n?C=_n:"string"==typeof An?(qn(),C=An):null!=_n&&!0!==_n?d.getFrameworkOverrides().isFrameworkComponent(_n)?L=_n:M=_n:null!=An&&(qn(),L=An)};if(Wt){if(null!=Wt.frameworkComponent){var Kt="AG Grid: As of v27, the return for "+v+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";ue(function(){return console.warn(Kt)},"UserComponentFactory."+v+"FrameworkSelectorDeprecated"),cn(Wt.frameworkComponent,void 0)}else cn(Wt.component,void 0);U=Wt.params,ce=Wt.popup,ye=Wt.popupPosition}else cn(it[v],it[v+"Framework"])}return{compName:C,jsComp:M,fwComp:L,paramsFromSelector:U,popupFromSelector:ce,popupPositionFromSelector:ye}},i.prototype.newAgStackInstance=function(n,a,c,d){var M;if(a){var L=this.componentMetadataProvider.retrieve(d.propertyName);M=this.frameworkComponentWrapper.wrap(n,L.mandatoryMethodList,L.optionalMethodList,d)}else M=new n;var U=this.initComponent(M,c);return null==U?os.resolve(M):U.then(function(){return M})},i.prototype.mergeParamsWithApplicationProvidedParams=function(n,a,c,d){void 0===d&&(d=null);var v={};Or(v,c);var M=n&&n[a.propertyName+"Params"];return"function"==typeof M?Or(v,M(c)):"object"==typeof M&&Or(v,M),Or(v,d),v},i.prototype.initComponent=function(n,a){if(this.context.createBean(n),null!=n.init)return n.init(a)},i.prototype.getDefaultFloatingFilterType=function(n){if(null==n)return null;var a=null,c=this.getCompKeys(n,Hd),d=c.compName,v=c.jsComp,C=c.fwComp;return d?a=$o.getFloatingFilterType(d):null==v&&null==C&&!0===n.filter&&(a=an.isRegistered(Nt.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),a},Bs([oe("gridOptions")],i.prototype,"gridOptions",void 0),Bs([oe("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Bs([oe("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),Bs([oe("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),Bs([er("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),Bs([mn("userComponentFactory")],i)}(wn),ws=function(){function u(){}return u.parse=function(i){if(!i)return null;if(!0===i)return{toolPanels:[u.DEFAULT_COLUMN_COMP,u.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof i)return u.parse([i]);if(Array.isArray(i)){var n=[];return i.forEach(function(c){var d=u.DEFAULT_BY_KEY[c];d?n.push(d):console.warn("AG Grid: the key "+c+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","))}),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:u.parseComponents(i.toolPanels),defaultToolPanel:i.defaultToolPanel,hiddenByDefault:i.hiddenByDefault,position:i.position}},u.parseComponents=function(i){var n=[];return i&&i.forEach(function(a){var c=null;if("string"==typeof a){var d=u.DEFAULT_BY_KEY[a];if(!d)return void console.warn("AG Grid: the key "+a+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","));c=d}else c=a;n.push(c)}),n},u.DEFAULT_BY_KEY={columns:u.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:u.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},u}(),Ba=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},tu=function(u,i){return function(n,a){i(n,a,u)}},k4=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},q1=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(k4(arguments[i]));return u};function vn(u){return!0===u||"true"===u}function X1(u){return"number"==typeof u?u:"string"==typeof u?parseInt(u,10):void 0}function Z1(u,i){var n=parseInt(u,10);return Up(n)&&n>0?n:i}var lr=function(){function u(){this.propertyEventService=new Be,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var i;return i=u,u.prototype.agWire=function(n,a){this.gridOptions.api=n,this.gridOptions.columnApi=a,this.checkForDeprecated(),this.checkForViolations()},u.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},u.prototype.init=function(){var n=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=ws.parse(this.gridOptions.sideBar));var a=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),a),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var c=function(v){return"AG Grid: '"+v+"' is not supported on the Server-Side Row Model"};se(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupDefaultExpanded")),se(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupIncludeFooter")),se(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&an.assertRegistered(Nt.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var d=function(v){n.gridOptions.icons&&n.gridOptions.icons[v]&&console.warn("gridOptions.icons."+v+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};d("radioButtonOff"),d("radioButtonOn"),d("checkboxChecked"),d("checkboxUnchecked"),d("checkboxIndeterminate"),this.getScrollbarWidth()},u.prototype.checkColumnDefProperties=function(){var n=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(a){var c=Object.getOwnPropertyNames(a),d=q1(_o.ALL_PROPERTIES,_o.FRAMEWORK_PROPERTIES);n.checkProperties(c,d,d,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},u.prototype.checkGridOptionsProperties=function(){var n=Object.getOwnPropertyNames(this.gridOptions),a=q1(Fo.ALL_PROPERTIES,Fo.FRAMEWORK_PROPERTIES,ut(qe).map(function(d){return jo.getCallbackForEvent(d)})),c=q1(a,["api","columnApi"]);this.checkProperties(n,c,a,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},u.prototype.checkProperties=function(n,a,c,d,v){var C=hn(n,a,c);tt(C,function(M,L){console.warn("ag-grid: invalid "+d+" property '"+M+"' did you mean any of these: "+L.slice(0,8).join(", "))}),Object.keys(C).length>0&&console.warn("ag-grid: to see all the valid "+d+" properties please check: "+v)},u.prototype.getDomDataKey=function(){return this.domDataKey},u.prototype.getDomData=function(n,a){var c=n[this.getDomDataKey()];return c?c[a]:void 0},u.prototype.setDomData=function(n,a,c){var d=this.getDomDataKey(),v=n[d];ot(v)&&(n[d]=v={}),v[a]=c},u.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},u.prototype.isSuppressRowDeselection=function(){return vn(this.gridOptions.suppressRowDeselection)},u.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},u.prototype.isRowMultiSelectWithClick=function(){return vn(this.gridOptions.rowMultiSelectWithClick)},u.prototype.getContext=function(){return this.gridOptions.context},u.prototype.isPivotMode=function(){return vn(this.gridOptions.pivotMode)},u.prototype.isSuppressExpandablePivotGroups=function(){return vn(this.gridOptions.suppressExpandablePivotGroups)},u.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},u.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},u.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===xe.ROW_MODEL_TYPE_INFINITE},u.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===xe.ROW_MODEL_TYPE_VIEWPORT},u.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===xe.ROW_MODEL_TYPE_SERVER_SIDE},u.prototype.isRowModelDefault=function(){return ot(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===xe.ROW_MODEL_TYPE_CLIENT_SIDE},u.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},u.prototype.isSuppressFocusAfterRefresh=function(){return vn(this.gridOptions.suppressFocusAfterRefresh)},u.prototype.isSuppressBrowserResizeObserver=function(){return vn(this.gridOptions.suppressBrowserResizeObserver)},u.prototype.isSuppressMaintainUnsortedOrder=function(){return vn(this.gridOptions.suppressMaintainUnsortedOrder)},u.prototype.isSuppressClearOnFillReduction=function(){return vn(this.gridOptions.suppressClearOnFillReduction)},u.prototype.isShowToolPanel=function(){return vn(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},u.prototype.getSideBar=function(){return this.gridOptions.sideBar},u.prototype.isSuppressTouch=function(){return vn(this.gridOptions.suppressTouch)},u.prototype.isMaintainColumnOrder=function(){return vn(this.gridOptions.maintainColumnOrder)},u.prototype.isSuppressRowTransform=function(){return vn(this.gridOptions.suppressRowTransform)},u.prototype.isSuppressColumnStateEvents=function(){return vn(this.gridOptions.suppressColumnStateEvents)},u.prototype.isAllowDragFromColumnsToolPanel=function(){return vn(this.gridOptions.allowDragFromColumnsToolPanel)},u.prototype.useAsyncEvents=function(){return!vn(this.gridOptions.suppressAsyncEvents)},u.prototype.isEnableCellChangeFlash=function(){return vn(this.gridOptions.enableCellChangeFlash)},u.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},u.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},u.prototype.isGroupSelectsChildren=function(){var n=vn(this.gridOptions.groupSelectsChildren);return n&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):n},u.prototype.isSuppressRowHoverHighlight=function(){return vn(this.gridOptions.suppressRowHoverHighlight)},u.prototype.isColumnHoverHighlight=function(){return vn(this.gridOptions.columnHoverHighlight)},u.prototype.isGroupSelectsFiltered=function(){return vn(this.gridOptions.groupSelectsFiltered)},u.prototype.isGroupHideOpenParents=function(){return vn(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupMaintainOrder=function(){return vn(this.gridOptions.groupMaintainOrder)},u.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},u.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):vn(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupUseEntireRow=function(n){return!n&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},u.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},u.prototype.isGroupRemoveSingleChildren=function(){return vn(this.gridOptions.groupRemoveSingleChildren)},u.prototype.isGroupRemoveLowestSingleChildren=function(){return vn(this.gridOptions.groupRemoveLowestSingleChildren)},u.prototype.isGroupIncludeFooter=function(){return vn(this.gridOptions.groupIncludeFooter)},u.prototype.isGroupIncludeTotalFooter=function(){return vn(this.gridOptions.groupIncludeTotalFooter)},u.prototype.isGroupSuppressBlankHeader=function(){return vn(this.gridOptions.groupSuppressBlankHeader)},u.prototype.isSuppressRowClickSelection=function(){return vn(this.gridOptions.suppressRowClickSelection)},u.prototype.isSuppressCellFocus=function(){return vn(this.gridOptions.suppressCellFocus)},u.prototype.isSuppressMultiSort=function(){return vn(this.gridOptions.suppressMultiSort)},u.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},u.prototype.isPivotSuppressAutoColumn=function(){return vn(this.gridOptions.pivotSuppressAutoColumn)},u.prototype.isSuppressDragLeaveHidesColumns=function(){return vn(this.gridOptions.suppressDragLeaveHidesColumns)},u.prototype.isSuppressScrollOnNewData=function(){return vn(this.gridOptions.suppressScrollOnNewData)},u.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return vn(this.gridOptions.suppressScrollWhenPopupsAreOpen)},u.prototype.isRowDragEntireRow=function(){return vn(this.gridOptions.rowDragEntireRow)},u.prototype.isSuppressRowDrag=function(){return vn(this.gridOptions.suppressRowDrag)},u.prototype.isRowDragManaged=function(){return vn(this.gridOptions.rowDragManaged)},u.prototype.isSuppressMoveWhenRowDragging=function(){return vn(this.gridOptions.suppressMoveWhenRowDragging)},u.prototype.isRowDragMultiRow=function(){return vn(this.gridOptions.rowDragMultiRow)},u.prototype.getDomLayout=function(){var n=this.gridOptions.domLayout||xe.DOM_LAYOUT_NORMAL;return-1===[xe.DOM_LAYOUT_PRINT,xe.DOM_LAYOUT_AUTO_HEIGHT,xe.DOM_LAYOUT_NORMAL].indexOf(n)?(ue(function(){return console.warn("AG Grid: "+n+" is not valid for DOM Layout, valid values are "+xe.DOM_LAYOUT_NORMAL+", "+xe.DOM_LAYOUT_AUTO_HEIGHT+" and "+xe.DOM_LAYOUT_PRINT)},"warn about dom layout values"),xe.DOM_LAYOUT_NORMAL):n},u.prototype.isSuppressHorizontalScroll=function(){return vn(this.gridOptions.suppressHorizontalScroll)},u.prototype.isSuppressMaxRenderedRowRestriction=function(){return vn(this.gridOptions.suppressMaxRenderedRowRestriction)},u.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return vn(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},u.prototype.isAlwaysShowHorizontalScroll=function(){return vn(this.gridOptions.alwaysShowHorizontalScroll)},u.prototype.isAlwaysShowVerticalScroll=function(){return vn(this.gridOptions.alwaysShowVerticalScroll)},u.prototype.isDebounceVerticalScrollbar=function(){return vn(this.gridOptions.debounceVerticalScrollbar)},u.prototype.isSuppressLoadingOverlay=function(){return vn(this.gridOptions.suppressLoadingOverlay)},u.prototype.isSuppressNoRowsOverlay=function(){return vn(this.gridOptions.suppressNoRowsOverlay)},u.prototype.isSuppressFieldDotNotation=function(){return vn(this.gridOptions.suppressFieldDotNotation)},u.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},u.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},u.prototype.isFunctionsPassive=function(){return vn(this.gridOptions.functionsPassive)},u.prototype.isSuppressChangeDetection=function(){return vn(this.gridOptions.suppressChangeDetection)},u.prototype.isSuppressAnimationFrame=function(){return vn(this.gridOptions.suppressAnimationFrame)},u.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},u.prototype.isCacheQuickFilter=function(){return vn(this.gridOptions.cacheQuickFilter)},u.prototype.isUnSortIcon=function(){return vn(this.gridOptions.unSortIcon)},u.prototype.isSuppressMenuHide=function(){return vn(this.gridOptions.suppressMenuHide)},u.prototype.isEnterMovesDownAfterEdit=function(){return vn(this.gridOptions.enterMovesDownAfterEdit)},u.prototype.isEnterMovesDown=function(){return vn(this.gridOptions.enterMovesDown)},u.prototype.isUndoRedoCellEditing=function(){return vn(this.gridOptions.undoRedoCellEditing)},u.prototype.getUndoRedoCellEditingLimit=function(){return X1(this.gridOptions.undoRedoCellEditingLimit)},u.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},u.prototype.getRowClass=function(){return this.gridOptions.rowClass},u.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},u.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},u.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},u.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},u.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},u.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},u.prototype.getPopupParent=function(){return this.gridOptions.popupParent},u.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},u.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},u.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},u.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},u.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},u.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},u.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},u.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},u.prototype.isEmbedFullWidthRows=function(){return vn(this.gridOptions.embedFullWidthRows)||vn(this.gridOptions.deprecatedEmbedFullWidthRows)},u.prototype.isDetailRowAutoHeight=function(){return vn(this.gridOptions.detailRowAutoHeight)},u.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},u.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},u.prototype.getApi=function(){return this.gridOptions.api},u.prototype.getColumnApi=function(){return this.gridOptions.columnApi},u.prototype.isReadOnlyEdit=function(){return vn(this.gridOptions.readOnlyEdit)},u.prototype.isImmutableData=function(){return null!=this.gridOptions.getRowId||vn(this.gridOptions.immutableData)},u.prototype.isEnsureDomOrder=function(){return vn(this.gridOptions.ensureDomOrder)},u.prototype.isEnableCharts=function(){return!!vn(this.gridOptions.enableCharts)&&an.assertRegistered(Nt.GridChartsModule,"enableCharts")},u.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},u.prototype.isSingleClickEdit=function(){return vn(this.gridOptions.singleClickEdit)},u.prototype.isSuppressClickEdit=function(){return vn(this.gridOptions.suppressClickEdit)},u.prototype.isStopEditingWhenCellsLoseFocus=function(){return vn(this.gridOptions.stopEditingWhenCellsLoseFocus)},u.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},u.prototype.getMaxConcurrentDatasourceRequests=function(){var n=X1(this.gridOptions.maxConcurrentDatasourceRequests);return null==n?2:n<=0?void 0:n},u.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},u.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},u.prototype.getPaginationPageSize=function(){return X1(this.gridOptions.paginationPageSize)},u.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||vn(this.gridOptions.paginateChildRows)},u.prototype.getCacheBlockSize=function(){return Z1(this.gridOptions.cacheBlockSize)},u.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},u.prototype.isPurgeClosedRowNodes=function(){return vn(this.gridOptions.purgeClosedRowNodes)},u.prototype.isSuppressPaginationPanel=function(){return vn(this.gridOptions.suppressPaginationPanel)},u.prototype.getRowData=function(){return this.gridOptions.rowData},u.prototype.isEnableRtl=function(){return vn(this.gridOptions.enableRtl)},u.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},u.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},u.prototype.isAngularCompileRows=function(){return vn(this.gridOptions.angularCompileRows)},u.prototype.isAngularCompileFilters=function(){return vn(this.gridOptions.angularCompileFilters)},u.prototype.isDebug=function(){return vn(this.gridOptions.debug)},u.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},u.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},u.prototype.getDatasource=function(){return this.gridOptions.datasource},u.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},u.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},u.prototype.isAccentedSort=function(){return vn(this.gridOptions.accentedSort)},u.prototype.isEnableBrowserTooltips=function(){return vn(this.gridOptions.enableBrowserTooltips)},u.prototype.isEnableCellExpressions=function(){return vn(this.gridOptions.enableCellExpressions)},u.prototype.isEnableGroupEdit=function(){return vn(this.gridOptions.enableGroupEdit)},u.prototype.isSuppressMiddleClickScrolls=function(){return vn(this.gridOptions.suppressMiddleClickScrolls)},u.prototype.isPreventDefaultOnContextMenu=function(){return vn(this.gridOptions.preventDefaultOnContextMenu)},u.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return vn(this.gridOptions.suppressPreventDefaultOnMouseWheel)},u.prototype.isSuppressColumnVirtualisation=function(){return vn(this.gridOptions.suppressColumnVirtualisation)},u.prototype.isSuppressRowVirtualisation=function(){return vn(this.gridOptions.suppressRowVirtualisation)},u.prototype.isSuppressContextMenu=function(){return vn(this.gridOptions.suppressContextMenu)},u.prototype.isAllowContextMenuWithControlKey=function(){return vn(this.gridOptions.allowContextMenuWithControlKey)},u.prototype.isSuppressCopyRowsToClipboard=function(){return vn(this.gridOptions.suppressCopyRowsToClipboard)},u.prototype.isCopyHeadersToClipboard=function(){return vn(this.gridOptions.copyHeadersToClipboard)},u.prototype.isCopyGroupHeadersToClipboard=function(){return vn(this.gridOptions.copyGroupHeadersToClipboard)},u.prototype.isSuppressClipboardPaste=function(){return vn(this.gridOptions.suppressClipboardPaste)},u.prototype.isSuppressLastEmptyLineOnPaste=function(){return vn(this.gridOptions.suppressLastEmptyLineOnPaste)},u.prototype.isPagination=function(){return vn(this.gridOptions.pagination)},u.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return vn(this.gridOptions.suppressEnterpriseResetOnNewColumns)},u.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},u.prototype.getAsyncTransactionWaitMillis=function(){return se(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:xe.BATCH_WAIT_MILLIS},u.prototype.isSuppressMovableColumns=function(){return vn(this.gridOptions.suppressMovableColumns)},u.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&vn(this.gridOptions.animateRows)},u.prototype.isSuppressColumnMoveAnimation=function(){return vn(this.gridOptions.suppressColumnMoveAnimation)},u.prototype.isSuppressAggFuncInHeader=function(){return vn(this.gridOptions.suppressAggFuncInHeader)},u.prototype.isSuppressAggAtRootLevel=function(){return vn(this.gridOptions.suppressAggAtRootLevel)},u.prototype.isSuppressAggFilteredOnly=function(){return vn(this.gridOptions.suppressAggFilteredOnly)},u.prototype.isShowOpenedGroup=function(){return vn(this.gridOptions.showOpenedGroup)},u.prototype.isReactUi=function(){return vn(this.gridOptions.reactUi)},u.prototype.isSuppressReactUi=function(){return vn(this.gridOptions.suppressReactUi)},u.prototype.isEnableRangeSelection=function(){return an.isRegistered(Nt.RangeSelectionModule)&&vn(this.gridOptions.enableRangeSelection)},u.prototype.isEnableRangeHandle=function(){return vn(this.gridOptions.enableRangeHandle)},u.prototype.isEnableFillHandle=function(){return vn(this.gridOptions.enableFillHandle)},u.prototype.getFillHandleDirection=function(){var n=this.gridOptions.fillHandleDirection;return n?"x"!==n&&"y"!==n&&"xy"!==n?(ue(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):n:"xy"},u.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},u.prototype.isSuppressMultiRangeSelection=function(){return vn(this.gridOptions.suppressMultiRangeSelection)},u.prototype.isPaginationAutoPageSize=function(){return vn(this.gridOptions.paginationAutoPageSize)},u.prototype.isRememberGroupStateWhenNewData=function(){return vn(this.gridOptions.rememberGroupStateWhenNewData)},u.prototype.getIcons=function(){return this.gridOptions.icons},u.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},u.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},u.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},u.prototype.isMasterDetail=function(){return!!vn(this.gridOptions.masterDetail)&&an.assertRegistered(Nt.MasterDetailModule,"masterDetail")},u.prototype.isKeepDetailRows=function(){return vn(this.gridOptions.keepDetailRows)},u.prototype.getKeepDetailRowsCount=function(){var n=this.gridOptions.keepDetailRowsCount;return se(n)&&n>0?this.gridOptions.keepDetailRowsCount:10},u.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},u.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},u.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},u.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},u.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},u.prototype.isSuppressAutoSize=function(){return vn(this.gridOptions.suppressAutoSize)},u.prototype.isEnableCellTextSelection=function(){return vn(this.gridOptions.enableCellTextSelection)},u.prototype.isSuppressParentsInRowNodes=function(){return vn(this.gridOptions.suppressParentsInRowNodes)},u.prototype.isSuppressClipboardApi=function(){return vn(this.gridOptions.suppressClipboardApi)},u.prototype.isFunctionsReadOnly=function(){return vn(this.gridOptions.functionsReadOnly)},u.prototype.isEnableCellTextSelect=function(){return vn(this.gridOptions.enableCellTextSelection)},u.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},u.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},u.prototype.getDefaultExportParams=function(n){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+gs(n)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===n&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===n&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},u.prototype.isSuppressCsvExport=function(){return vn(this.gridOptions.suppressCsvExport)},u.prototype.isAllowShowChangeAfterFilter=function(){return vn(this.gridOptions.allowShowChangeAfterFilter)},u.prototype.isSuppressExcelExport=function(){return vn(this.gridOptions.suppressExcelExport)},u.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return vn(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},u.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},u.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},u.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},u.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},u.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},u.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},u.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},u.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},u.prototype.getRowIdFunc=function(){var n=this.gridOptions,c=n.getRowNodeId;return n.getRowId||(c?function(d){return c(d.data)}:void 0)},u.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},u.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},u.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},u.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},u.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},u.prototype.isTreeData=function(){return!!vn(this.gridOptions.treeData)&&an.assertRegistered(Nt.RowGroupingModule,"Tree Data")},u.prototype.isValueCache=function(){return vn(this.gridOptions.valueCache)},u.prototype.isValueCacheNeverExpires=function(){return vn(this.gridOptions.valueCacheNeverExpires)},u.prototype.isDeltaSort=function(){return vn(this.gridOptions.deltaSort)},u.prototype.isAggregateOnlyChangedColumns=function(){return vn(this.gridOptions.aggregateOnlyChangedColumns)},u.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},u.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},u.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},u.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},u.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},u.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},u.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.gridOptions.processGroupHeaderForClipboard},u.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},u.prototype.getViewportRowModelPageSize=function(){return Z1(this.gridOptions.viewportRowModelPageSize,5)},u.prototype.getViewportRowModelBufferSize=function(){return function H4(u,i){return u>=0?u:i}(this.gridOptions.viewportRowModelBufferSize,5)},u.prototype.isServerSideSortingAlwaysResets=function(){return vn(this.gridOptions.serverSideSortingAlwaysResets)},u.prototype.isServerSideFilteringAlwaysResets=function(){return vn(this.gridOptions.serverSideFilteringAlwaysResets)},u.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},u.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},u.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},u.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},u.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},u.prototype.getClipboardDelimiter=function(){return se(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},u.prototype.setProperty=function(n,a,c){void 0===c&&(c=!1);var d=this.gridOptions,v=d[n];(c||v!==a)&&(d[n]=a,this.propertyEventService.dispatchEvent({type:n,currentValue:a,previousValue:v}))},u.prototype.addEventListener=function(n,a){this.propertyEventService.addEventListener(n,a)},u.prototype.removeEventListener=function(n,a){this.propertyEventService.removeEventListener(n,a)},u.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},u.prototype.getAutoSizePadding=function(){var n=this.gridOptions.autoSizePadding;return null!=n&&n>=0?n:20},u.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},u.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},u.prototype.doesExternalFilterPass=function(n){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(n)},u.prototype.getTooltipDelay=function(n){var a=this.gridOptions,v="show"===n?a.tooltipShowDelay:a.tooltipHideDelay,C=gs(n);return se(v)?(v<0&&ue(function(){return console.warn("ag-grid: tooltip"+C+"Delay should not be lower than 0")},"tooltip"+C+"DelayWarn"),Math.max(200,v)):null},u.prototype.isTooltipMouseTrack=function(){return vn(this.gridOptions.tooltipMouseTrack)},u.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return vn(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},u.prototype.getDocument=function(){var n=null;return this.gridOptions.getDocument&&se(this.gridOptions.getDocument)?n=this.gridOptions.getDocument():this.eGridDiv&&(n=this.eGridDiv.ownerDocument),n&&se(n)?n:document},u.prototype.getMinColWidth=function(){var n=this.gridOptions.minColWidth;if(se(n)&&n>i.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var a=this.getFromTheme(null,"headerCellMinWidth");return se(a)?Math.max(a,i.MIN_COL_WIDTH):i.MIN_COL_WIDTH},u.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>i.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},u.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<i.MIN_COL_WIDTH?200:this.gridOptions.colWidth},u.prototype.getRowBuffer=function(){var n=this.gridOptions.rowBuffer;return"number"==typeof n?n<0&&(ue(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=n=0):n=xe.ROW_BUFFER_SIZE,n},u.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},u.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var a="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ji();null!=a&&(this.scrollbarWidth=a,this.eventService.dispatchEvent({type:qe.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},u.prototype.checkForDeprecated=function(){var n=this.gridOptions;n.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),n.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),n.enableMultiRowDragging&&(n.rowDragMultiRow=!0,delete n.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var a=function(v,C,M){null!=n[v]&&(console.warn("ag-grid: since version "+M+", '"+v+"' is deprecated / renamed, please use the new property name '"+C+"' instead."),null==n[C]&&(n[C]=n[v]))};if(a("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),a("deltaRowDataMode","immutableData","23.1.x"),(n.immutableColumns||n.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),a("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),n.groupRowInnerRenderer||n.groupRowInnerRendererParams||n.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),n.groupRowRendererParams||(n.groupRowRendererParams={});var c=n.groupRowRendererParams;n.groupRowInnerRenderer&&(c.innerRenderer=n.groupRowInnerRenderer),n.groupRowInnerRendererParams&&(c.innerRendererParams=n.groupRowInnerRendererParams),n.groupRowInnerRendererFramework&&(c.innerRendererFramework=n.groupRowInnerRendererFramework)}n.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),n.detailCellRendererParams&&n.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),n.detailRowAutoHeight=!0),n.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),n.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),n.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),n.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),n.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),n.stopEditingWhenCellsLoseFocus=!0),n.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),n.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),n.groupDisplayType="multipleColumns"),n.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),n.groupDisplayType="groupRows"),n.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(n.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),n.groupDisplayType="custom"),n.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),n.defaultGroupOrderComparator=n.defaultGroupSortComparator),n.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),n.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),n.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),n.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),n.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),n.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),n.suppressCellFocus=n.suppressCellSelection),n.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecate and has been replaced by `getRowId`. The difference is if getRowId() is implemented, immutable data is on by default."),n.immutableData&&console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To turn on, implement `getRowId` has been replaced by `getRowId`. The difference is if getRowId() is implemented, immutable data is on by default."),n.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),n.clipboardDelimiter=n.clipboardDeliminator)},u.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},u.prototype.treeDataViolations=function(){this.isRowModelDefault()&&ot(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(ot(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),ot(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},u.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var n=this.gridOptions.localeText;return function(a,c){var d=n&&n[a];return null!=d?d:c}},u.prototype.globalEventHandler=function(n,a){if(!this.destroyed){var c=jo.getCallbackForEvent(n);"function"==typeof this.gridOptions[c]&&this.gridOptions[c](a)}},u.prototype.setRowHeightVariable=function(n){var c=n+"px";this.eGridDiv.style.getPropertyValue("--ag-row-height").trim()!=c&&this.eGridDiv.style.setProperty("--ag-row-height",c)},u.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||ot(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var n=this.gridOptions.rowHeight;return n&&this.isNumeric(n)?(this.setRowHeightVariable(n),n):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},u.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getRowHeightForNode=function(n,a,c){if(void 0===a&&(a=!1),null==c&&(c=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(a)return{height:c,estimated:!0};var v=this.gridOptions.getRowHeight({node:n,data:n.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(v))return 0===v&&ue(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,v),estimated:!1}}return n.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:c,estimated:!1}},u.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},u.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},u.prototype.isNumeric=function(n){return!isNaN(n)&&"number"==typeof n&&isFinite(n)},u.prototype.getFromTheme=function(n,a){var c=this.environment.getTheme().theme;return c&&0===c.indexOf("ag-theme")?this.environment.getSassVariable(c,a):n},u.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},u.prototype.matchesGroupDisplayType=function(n,a){var c=["groupRows","multipleColumns","custom","singleColumn"];return c.indexOf(a)<0?(console.warn("AG Grid: '"+a+"' is not a valid groupDisplayType value - possible values are: '"+c.join("', '")+"'"),!1):a===n},u.prototype.matchesTreeDataDisplayType=function(n,a){var c=["auto","custom"];return c.indexOf(a)<0?(console.warn("AG Grid: '"+a+"' is not a valid treeDataDisplayType value - possible values are: '"+c.join("', '")+"'"),!1):a===n},u.MIN_COL_WIDTH=10,u.PROP_HEADER_HEIGHT="headerHeight",u.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",u.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",u.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",u.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",u.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",u.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",u.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",u.PROP_TAB_TO_NEXT_CELL="tabToNextCell",u.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",u.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",u.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",u.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",u.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",u.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",u.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",u.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",u.PROP_GET_ROW_CLASS="getRowClass",u.PROP_GET_ROW_STYLE="getRowStyle",u.PROP_GET_ROW_HEIGHT="getRowHeight",u.PROP_POPUP_PARENT="popupParent",u.PROP_DOM_LAYOUT="domLayout",u.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",u.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",u.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",u.PROP_GET_CHILD_COUNT="getChildCount",u.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",u.PROP_GET_ROW_NODE_ID="getRowNodeId",u.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",u.PROP_IS_ROW_SELECTABLE="isRowSelectable",u.PROP_IS_ROW_MASTER="isRowMaster",u.PROP_POST_SORT="postSort",u.PROP_GET_DOCUMENT="getDocument",u.PROP_POST_PROCESS_POPUP="postProcessPopup",u.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",u.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",u.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",u.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",u.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",u.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",u.PROP_SEND_TO_CLIPBOARD="sendToClipboard",u.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",u.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",u.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",u.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",u.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",u.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",u.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",u.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Ba([oe("gridOptions")],u.prototype,"gridOptions",void 0),Ba([oe("eventService")],u.prototype,"eventService",void 0),Ba([oe("environment")],u.prototype,"environment",void 0),Ba([oe("eGridDiv")],u.prototype,"eGridDiv",void 0),Ba([tu(0,Er("gridApi")),tu(1,Er("columnApi"))],u.prototype,"agWire",null),Ba([fn],u.prototype,"destroy",null),Ba([Vt],u.prototype,"init",null),i=Ba([mn("gridOptionsWrapper")],u)}(),Q1=function(){function u(i,n){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:n,children:null},this.mapToItems[n.id]=this.pathRoot}return u.prototype.setInactive=function(){this.active=!1},u.prototype.isActive=function(){return this.active},u.prototype.depthFirstSearchChangedPath=function(i,n){if(i.children)for(var a=0;a<i.children.length;a++)this.depthFirstSearchChangedPath(i.children[a],n);n(i.rowNode)},u.prototype.depthFirstSearchEverything=function(i,n,a){if(i.childrenAfterGroup)for(var c=0;c<i.childrenAfterGroup.length;c++){var d=i.childrenAfterGroup[c];d.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[c],n,a):a&&n(d)}n(i)},u.prototype.forEachChangedNodeDepthFirst=function(i,n){void 0===n&&(n=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,n)},u.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},u.prototype.createPathItems=function(i){for(var n=i,a=0;!this.mapToItems[n.id];)this.mapToItems[n.id]={rowNode:n,children:null},a++,n=n.parent;return a},u.prototype.populateColumnsMap=function(i,n){var a=this;if(this.keepingColumns&&n)for(var c=i;c;)this.nodeIdsToColumns[c.id]||(this.nodeIdsToColumns[c.id]={}),n.forEach(function(d){return a.nodeIdsToColumns[c.id][d.getId()]=!0}),c=c.parent},u.prototype.linkPathItems=function(i,n){for(var a=i,c=0;c<n;c++){var d=this.mapToItems[a.id],v=this.mapToItems[a.parent.id];v.children||(v.children=[]),v.children.push(d),a=a.parent}},u.prototype.addParentNode=function(i,n){if(i&&!i.isRowPinned()){var a=this.createPathItems(i);this.linkPathItems(i,a),this.populateColumnsMap(i,n)}},u.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},u.prototype.getValueColumnsForNode=function(i,n){if(!this.keepingColumns)return n;var a=this.nodeIdsToColumns[i.id];return n.filter(function(d){return a[d.getId()]})},u.prototype.getNotValueColumnsForNode=function(i,n){if(!this.keepingColumns)return null;var a=this.nodeIdsToColumns[i.id];return n.filter(function(d){return!a[d.getId()]})},u}(),ia=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ws=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},lc=function(u,i){return function(n,a){i(n,a,u)}},Bu=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return ia(i,u),i.prototype.setBeans=function(n){this.logger=n.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,qe.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,qe.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.setLastSelectedNode=function(n){this.lastSelectedNode=n},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var n=[];return tt(this.selectedNodes,function(a,c){c&&n.push(c)}),n},i.prototype.getSelectedRows=function(){var n=[];return tt(this.selectedNodes,function(a,c){c&&c.data&&n.push(c.data)}),n},i.prototype.removeGroupsFromSelection=function(){var n=this;tt(this.selectedNodes,function(a,c){c&&c.group&&(n.selectedNodes[c.id]=void 0)})},i.prototype.updateGroupsFromChildrenSelections=function(n){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===xe.ROW_MODEL_TYPE_CLIENT_SIDE){var c=this.rowModel.getRootNode();n||(n=new Q1(!0,c)).setInactive(),n.forEachChangedNodeDepthFirst(function(d){d!==c&&d.calculateSelectedFromChildren()})}},i.prototype.getNodeForIdIfSelected=function(n){return this.selectedNodes[n]},i.prototype.clearOtherNodes=function(n){var a=this,c={},d=0;return tt(this.selectedNodes,function(v,C){C&&C.id!==n.id&&(d+=a.selectedNodes[C.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),a.groupSelectsChildren&&C.parent&&(c[C.parent.id]=C.parent))}),tt(c,function(v,C){C.calculateSelectedFromChildren()}),d},i.prototype.onRowSelected=function(n){var a=n.node;this.groupSelectsChildren&&a.group||(this.selectedNodes[a.id]=a.isSelected()?a:void 0)},i.prototype.syncInRowNode=function(n,a){this.syncInOldRowNode(n,a),this.syncInNewRowNode(n)},i.prototype.syncInOldRowNode=function(n,a){se(a)&&n.id!==a.id&&a&&this.selectedNodes[a.id]==n&&(this.selectedNodes[a.id]=a)},i.prototype.syncInNewRowNode=function(n){se(this.selectedNodes[n.id])?(n.setSelectedInitialValue(!0),this.selectedNodes[n.id]=n):n.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===xe.ROW_MODEL_TYPE_CLIENT_SIDE){var a=this.rowModel.getTopLevelNodes();if(null!==a){var c=[];return function d(v){for(var C=0,M=v.length;C<M;C++){var L=v[C];L.isSelected()?c.push(L):L.group&&L.children&&d(L.children)}}(a),c}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},i.prototype.setRowModel=function(n){this.rowModel=n},i.prototype.isEmpty=function(){var n=0;return tt(this.selectedNodes,function(a,c){c&&n++}),0===n},i.prototype.deselectAllRowNodes=function(n){void 0===n&&(n=!1);var a=function(C){return C.selectThisNode(!1)},c=this.rowModel.getType()===xe.ROW_MODEL_TYPE_CLIENT_SIDE;if(n){if(!c)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(a)}else tt(this.selectedNodes,function(C,M){M&&a(M)}),this.reset();c&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:qe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectAllRowNodes=function(n){if(void 0===n&&(n=!1),this.rowModel.getType()!==xe.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var a=this.rowModel,c=function(v){return v.selectThisNode(!0)};n?a.forEachNodeAfterFilter(c):a.forEachNode(c),this.rowModel.getType()===xe.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:qe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectNode=function(n,a){n&&n.setSelectedParams({newValue:!0,clearSelection:!a})},i.prototype.deselectIndex=function(n){var a=this.rowModel.getRow(n);this.deselectNode(a)},i.prototype.deselectNode=function(n){n&&n.setSelectedParams({newValue:!1,clearSelection:!1})},i.prototype.selectIndex=function(n,a){var c=this.rowModel.getRow(n);this.selectNode(c,a)},Ws([oe("rowModel")],i.prototype,"rowModel",void 0),Ws([oe("columnApi")],i.prototype,"columnApi",void 0),Ws([oe("gridApi")],i.prototype,"gridApi",void 0),Ws([lc(0,Er("loggerFactory"))],i.prototype,"setBeans",null),Ws([Vt],i.prototype,"init",null),Ws([mn("selectionService")],i)}(wn),nu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Rv=function(){function u(){}return u.prototype.sizeColumnsToFit=function(i){void 0===i&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},u.prototype.setColumnGroupOpened=function(i,n){this.columnModel.setColumnGroupOpened(i,n,"api")},u.prototype.getColumnGroup=function(i,n){return this.columnModel.getColumnGroup(i,n)},u.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},u.prototype.getDisplayNameForColumn=function(i,n){return this.columnModel.getDisplayNameForColumn(i,n)||""},u.prototype.getDisplayNameForColumnGroup=function(i,n){return this.columnModel.getDisplayNameForColumnGroup(i,n)||""},u.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},u.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},u.prototype.getColumnState=function(){return this.columnModel.getColumnState()},u.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},u.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},u.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},u.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},u.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},u.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},u.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},u.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},u.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},u.prototype.setColumnVisible=function(i,n){this.columnModel.setColumnVisible(i,n,"api")},u.prototype.setColumnsVisible=function(i,n){this.columnModel.setColumnsVisible(i,n,"api")},u.prototype.setColumnPinned=function(i,n){this.columnModel.setColumnPinned(i,n,"api")},u.prototype.setColumnsPinned=function(i,n){this.columnModel.setColumnsPinned(i,n,"api")},u.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},u.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},u.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},u.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},u.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},u.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},u.prototype.moveColumn=function(i,n){"number"==typeof i?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(i,n,"api")):this.columnModel.moveColumn(i,n,"api")},u.prototype.moveColumnByIndex=function(i,n){this.columnModel.moveColumnByIndex(i,n,"api")},u.prototype.moveColumns=function(i,n){this.columnModel.moveColumns(i,n,"api")},u.prototype.moveRowGroupColumn=function(i,n){this.columnModel.moveRowGroupColumn(i,n)},u.prototype.setColumnAggFunc=function(i,n){this.columnModel.setColumnAggFunc(i,n)},u.prototype.setColumnWidth=function(i,n,a,c){void 0===a&&(a=!0),this.columnModel.setColumnWidths([{key:i,newWidth:n}],!1,a,c)},u.prototype.setColumnWidths=function(i,n,a){void 0===n&&(n=!0),this.columnModel.setColumnWidths(i,!1,n,a)},u.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},u.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},u.prototype.getSecondaryPivotColumn=function(i,n){return this.columnModel.getSecondaryPivotColumn(i,n)},u.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},u.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},u.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},u.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},u.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},u.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},u.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},u.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},u.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},u.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},u.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},u.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},u.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},u.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},u.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},u.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},u.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},u.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},u.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},u.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},u.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},u.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},u.prototype.autoSizeColumn=function(i,n){return this.columnModel.autoSizeColumn(i,n,"api")},u.prototype.autoSizeColumns=function(i,n){this.columnModel.autoSizeColumns({columns:i,skipHeader:n})},u.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},u.prototype.setSecondaryColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},u.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},u.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Pc.removeAllReferences.bind(window,this,"Column API"),100)},u.prototype.columnGroupOpened=function(i,n){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(i,n)},u.prototype.hideColumns=function(i,n){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(i,!n,"api")},u.prototype.hideColumn=function(i,n){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(i,!n,"api")},u.prototype.setState=function(i){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(i)},u.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},u.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},u.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},u.prototype.removeAggregationColumn=function(i){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(i,"api")},u.prototype.removeAggregationColumns=function(i){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(i,"api")},u.prototype.addAggregationColumn=function(i){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(i,"api")},u.prototype.addAggregationColumns=function(i){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(i,"api")},u.prototype.setColumnAggFunction=function(i,n){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(i,n,"api")},u.prototype.getDisplayNameForCol=function(i){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(i,null)},u.prototype.setColumnState=function(i){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:i,applyOrder:!0},"api")},u.prototype.getOriginalColumnGroup=function(i){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},nu([oe("columnModel")],u.prototype,"columnModel",void 0),nu([fn],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),nu([mn("columnApi")],u)}(),oa=(()=>(function(u){u[u.FILL=0]="FILL",u[u.RANGE=1]="RANGE"}(oa||(oa={})),oa))(),ma=(()=>(function(u){u[u.VALUE=0]="VALUE",u[u.DIMENSION=1]="DIMENSION"}(ma||(ma={})),ma))(),Wu="ag-cell-range-selected",vf=function(){function u(i,n){this.beans=i,this.cellCtrl=n}return u.prototype.setComp=function(i,n){this.cellComp=i,this.eGui=n,this.onRangeSelectionChanged()},u.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Wu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Wu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Wu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Wu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Wu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),is(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},u.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),n=this.isSingleCell(),c=!n&&i.right,d=!n&&i.bottom,v=!n&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!n&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",d),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",v)},u.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},u.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var n=i.getCellRanges();return n.length>0&&n.every(function(a){return $r([ma.DIMENSION,ma.VALUE],a.type)})},u.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},u.prototype.getRangeBorders=function(){var ce,ye,i=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),a=!1,c=!1,d=!1,v=!1,C=this.cellCtrl.getCellPosition().column,M=this.beans,L=M.rangeService,U=M.columnModel;n?(ce=U.getDisplayedColAfter(C),ye=U.getDisplayedColBefore(C)):(ce=U.getDisplayedColBefore(C),ye=U.getDisplayedColAfter(C));var it=L.getCellRanges().filter(function(_n){return L.isCellInSpecificRange(i.cellCtrl.getCellPosition(),_n)});ce||(v=!0),ye||(c=!0);for(var bt=0;bt<it.length&&!(a&&c&&d&&v);bt++){var Wt=it[bt],cn=L.getRangeStartRow(Wt),Kt=L.getRangeEndRow(Wt);!a&&this.beans.rowPositionUtils.sameRow(cn,this.cellCtrl.getCellPosition())&&(a=!0),!d&&this.beans.rowPositionUtils.sameRow(Kt,this.cellCtrl.getCellPosition())&&(d=!0),!v&&ce&&Wt.columns.indexOf(ce)<0&&(v=!0),!c&&ye&&Wt.columns.indexOf(ye)<0&&(c=!0)}return{top:a,right:c,bottom:d,left:v}},u.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},u.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,n=i.gridOptionsWrapper,a=i.rangeService,c=a.getCellRanges(),d=c.length;if(this.rangeCount<1||d<1)return!1;var v=ft(c),C=this.cellCtrl.getCellPosition(),M=n.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),L=n.isEnableRangeHandle(),U=1===d&&!this.cellCtrl.isEditing()&&(M||L);if(this.hasChartRange){var ye=c[0].type===ma.DIMENSION&&a.isCellInSpecificRange(C,c[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",ye),U=v.type===ma.VALUE}return U&&null!=v.endRow&&a.isContiguousRange(v)&&a.isBottomRightCell(v,C)},u.prototype.addSelectionHandle=function(){var i=this.beans,n=i.gridOptionsWrapper,c=ft(i.rangeService.getCellRanges()).type,v=n.isEnableFillHandle()&&ot(c)?oa.FILL:oa.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==v&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(v)),this.selectionHandle.refresh(this.cellCtrl)},u.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},u}(),G4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gd=function(u){function i(n,a){var c=u.call(this)||this;return c.cellCtrl=n,c.beans=a,c.column=n.getColumn(),c.rowNode=n.getRowNode(),c.setupColSpan(),c.setupRowSpan(),c}return G4(i,u),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(n){this.eGui=n,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var n=this.getColSpanningList();je(this.colsSpanning,n)||(this.colsSpanning=n,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var n=this.getCellWidth();this.eGui.style.width=n+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(n,a){return n+a.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var n=this.column.getColSpan(this.rowNode),a=[];if(1===n)a.push(this.column);else for(var c=this.column,d=this.column.getPinned(),v=0;c&&v<n&&(a.push(c),(c=this.beans.columnModel.getDisplayedColAfter(c))&&!ot(c)&&d===c.getPinned());v++);return a},i.prototype.onLeftChanged=function(){if(this.eGui){var n=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=n+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ft(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(n){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===xe.PINNED_LEFT)return n;var a=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===xe.PINNED_RIGHT?a+this.beans.columnModel.getBodyContainerWidth()+(n||0):a+(n||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var n=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=n*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i}(wn),eg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),tg=function(u){function i(n,a){var c=u.call(this)||this;return c.staticClasses=[],c.cellCtrl=n,c.beans=a,c.column=n.getColumn(),c.rowNode=n.getRowNode(),c}return eg(i,u),i.prototype.setComp=function(n,a){this.cellComp=n,this.scope=a,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var n=this,a=this.column.getColDef(),c={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(a.cellClassRules,c,function(d){return n.cellComp.addOrRemoveCssClass(d,!0)},function(d){return n.cellComp.addOrRemoveCssClass(d,!1)})},i.prototype.applyUserStyles=function(){var n=this.column.getColDef();if(n.cellStyle){var a;if("function"==typeof n.cellStyle){var c={column:this.column,value:this.cellCtrl.getValue(),colDef:n,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};a=(0,n.cellStyle)(c)}else a=n.cellStyle;this.cellComp.setUserStyles(a)}},i.prototype.applyClassesFromColDef=function(){var n=this,a=this.column.getColDef(),c={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(d){return n.cellComp.addOrRemoveCssClass(d,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(a,c),this.staticClasses.length&&this.staticClasses.forEach(function(d){return n.cellComp.addOrRemoveCssClass(d,!0)})},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i}(wn),B4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yh=function(u){function i(n,a){var c=u.call(this)||this;return c.ctrl=n,c.beans=a,c}return B4(i,u),i.prototype.setComp=function(n){this.comp=n,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var n=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new D1({getTooltipParams:function(){return n.getTooltipParams()},getGui:function(){return n.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var n=this.ctrl,a=n.getColumn?n.getColumn():void 0,c=n.getColDef?n.getColDef():void 0,d=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:c,column:a,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:d,data:d?d.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i}(wn),ci=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Lv=function(){function u(){}return u.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},ci([oe("resizeObserverService")],u.prototype,"resizeObserverService",void 0),ci([oe("paginationProxy")],u.prototype,"paginationProxy",void 0),ci([oe("context")],u.prototype,"context",void 0),ci([oe("columnApi")],u.prototype,"columnApi",void 0),ci([oe("gridApi")],u.prototype,"gridApi",void 0),ci([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),ci([oe("expressionService")],u.prototype,"expressionService",void 0),ci([oe("rowRenderer")],u.prototype,"rowRenderer",void 0),ci([oe("$compile")],u.prototype,"$compile",void 0),ci([oe("templateService")],u.prototype,"templateService",void 0),ci([oe("valueService")],u.prototype,"valueService",void 0),ci([oe("eventService")],u.prototype,"eventService",void 0),ci([oe("columnModel")],u.prototype,"columnModel",void 0),ci([oe("headerNavigationService")],u.prototype,"headerNavigationService",void 0),ci([oe("navigationService")],u.prototype,"navigationService",void 0),ci([oe("columnAnimationService")],u.prototype,"columnAnimationService",void 0),ci([er("rangeService")],u.prototype,"rangeService",void 0),ci([oe("focusService")],u.prototype,"focusService",void 0),ci([er("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),ci([oe("popupService")],u.prototype,"popupService",void 0),ci([oe("valueFormatterService")],u.prototype,"valueFormatterService",void 0),ci([oe("stylingService")],u.prototype,"stylingService",void 0),ci([oe("columnHoverService")],u.prototype,"columnHoverService",void 0),ci([oe("userComponentFactory")],u.prototype,"userComponentFactory",void 0),ci([oe("userComponentRegistry")],u.prototype,"userComponentRegistry",void 0),ci([oe("animationFrameService")],u.prototype,"animationFrameService",void 0),ci([oe("dragAndDropService")],u.prototype,"dragAndDropService",void 0),ci([oe("sortController")],u.prototype,"sortController",void 0),ci([oe("filterManager")],u.prototype,"filterManager",void 0),ci([oe("rowContainerHeightService")],u.prototype,"rowContainerHeightService",void 0),ci([oe("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),ci([oe("cellPositionUtils")],u.prototype,"cellPositionUtils",void 0),ci([oe("rowPositionUtils")],u.prototype,"rowPositionUtils",void 0),ci([oe("selectionService")],u.prototype,"selectionService",void 0),ci([er("selectionHandleFactory")],u.prototype,"selectionHandleFactory",void 0),ci([oe("rowCssClassCalculator")],u.prototype,"rowCssClassCalculator",void 0),ci([oe("rowModel")],u.prototype,"rowModel",void 0),ci([oe("ctrlsService")],u.prototype,"ctrlsService",void 0),ci([oe("ctrlsFactory")],u.prototype,"ctrlsFactory",void 0),ci([oe("agStackComponentsRegistry")],u.prototype,"agStackComponentsRegistry",void 0),ci([oe("valueCache")],u.prototype,"valueCache",void 0),ci([oe("rowNodeEventThrottle")],u.prototype,"rowNodeEventThrottle",void 0),ci([Vt],u.prototype,"postConstruct",null),ci([mn("beans")],u)}(),Uu=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Iv=function(u){function i(n,a,c){var d=u.call(this)||this;return d.cellCtrl=n,d.beans=a,d.column=c,d}return Uu(i,u),i.prototype.onMouseEvent=function(n,a){if(!Ki(a))switch(n){case"click":this.onCellClicked(a);break;case"mousedown":case"touchstart":this.onMouseDown(a);break;case"dblclick":this.onCellDoubleClicked(a);break;case"mouseout":this.onMouseOut(a);break;case"mouseover":this.onMouseOver(a)}},i.prototype.onCellClicked=function(n){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(n),void n.preventDefault();var a=this.beans,c=a.eventService,d=a.gridOptionsWrapper,v=this.cellCtrl.createEvent(n,qe.EVENT_CELL_CLICKED);c.dispatchEvent(v);var C=this.column.getColDef();C.onCellClicked&&window.setTimeout(function(){return C.onCellClicked(v)},0),(d.isSingleClickEdit()||C.singleClickEdit)&&!d.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!ai()||go("dblclick"))return!1;var n=(new Date).getTime(),a=n-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=n,a},i.prototype.onCellDoubleClicked=function(n){var a=this.column.getColDef(),c=this.cellCtrl.createEvent(n,qe.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(c),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(function(){return a.onCellDoubleClicked(c)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,n)},i.prototype.onMouseDown=function(n){var a=n.ctrlKey,c=n.metaKey,d=n.shiftKey,v=n.target,C=this.beans,M=C.eventService,L=C.rangeService;if(!this.isRightClickInExistingRange(n)){var U=L&&0!=L.getCellRanges().length;if(!d||!U){var ce=tn()&&!this.cellCtrl.isEditing()&&!Zn(v);this.cellCtrl.focusCell(ce)}if(d&&U&&n.preventDefault(),!this.containsWidget(v)){if(L){var ye=this.cellCtrl.getCellPosition();d?L.extendLatestRangeToCell(ye):L.setRangeToCell(ye,a||c)}M.dispatchEvent(this.cellCtrl.createEvent(n,qe.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(n){var a=this.beans.rangeService;return!(!a||!a.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==n.button)},i.prototype.containsWidget=function(n){return es(n,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(n){if(!this.mouseStayingInsideCell(n)){var a=this.cellCtrl.createEvent(n,qe.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(n){if(!this.mouseStayingInsideCell(n)){var a=this.cellCtrl.createEvent(n,qe.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(n){if(!n.target||!n.relatedTarget)return!1;var a=this.cellCtrl.getGui(),c=a.contains(n.target),d=a.contains(n.relatedTarget);return c&&d},i.prototype.destroy=function(){},i}(Lv),W4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),j4=function(u){function i(n,a,c,d,v,C){var M=u.call(this)||this;return M.cellCtrl=n,M.beans=a,M.rowNode=d,M.rowCtrl=C,M}return W4(i,u),i.prototype.setComp=function(n){this.eGui=n},i.prototype.onKeyDown=function(n){var a=n.key;switch(a){case Nn.ENTER:this.onEnterKeyDown(n);break;case Nn.F2:this.onF2KeyDown(n);break;case Nn.ESCAPE:this.onEscapeKeyDown(n);break;case Nn.TAB:this.onTabKeyDown(n);break;case Nn.BACKSPACE:case Nn.DELETE:this.onBackspaceOrDeleteKeyPressed(a,n);break;case Nn.DOWN:case Nn.UP:case Nn.RIGHT:case Nn.LEFT:this.onNavigationKeyPressed(n,a)}},i.prototype.onNavigationKeyPressed=function(n,a){this.cellCtrl.isEditing()||(n.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(a):this.beans.navigationService.navigateToNextCell(n,a,this.cellCtrl.getCellPosition(),!0),n.preventDefault())},i.prototype.onShiftRangeSelect=function(n){if(this.beans.rangeService){var a=this.beans.rangeService.extendLatestRangeInDirection(n);a&&this.beans.navigationService.ensureCellVisible(a)}},i.prototype.onTabKeyDown=function(n){this.beans.navigationService.onTabKeyDown(this.cellCtrl,n)},i.prototype.onBackspaceOrDeleteKeyPressed=function(n,a){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(n,void 0,a)},i.prototype.onEnterKeyDown=function(n){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Nn.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Nn.ENTER,void 0,n),this.cellCtrl.isEditing()&&n.preventDefault())},i.prototype.onF2KeyDown=function(n){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Nn.F2,void 0,n)},i.prototype.onEscapeKeyDown=function(n){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(n){if(n.target===this.eGui&&!this.cellCtrl.isEditing()){var d=String.fromCharCode(n.charCode);" "===d?this.onSpaceKeyPressed(n):Qc(n)&&(this.cellCtrl.startRowOrCellEdit(null,d,n),n.preventDefault())}},i.prototype.onSpaceKeyPressed=function(n){var a=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&a.isRowSelection()){var c=this.rowNode.isSelected(),d=!c;if(d||!a.isSuppressRowDeselection()){var v=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),C=this.rowNode.setSelectedParams({newValue:d,rangeSelect:n.shiftKey,groupSelectsFiltered:v});void 0===c&&0===C&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:n.shiftKey,groupSelectsFiltered:v})}}n.preventDefault()},i.prototype.destroy=function(){},i}(wn),ng=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rg=function(u){function i(n,a,c,d){var v=u.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return v.rowNode=n,v.column=a,v.beans=c,v.eCell=d,v}return ng(i,u),i.prototype.postConstruct=function(){this.getGui().appendChild(io("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(a){a.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(n){var a=this,c=this.column.getColDef().dndSourceOnRowDrag;n.dataTransfer.setDragImage(this.eCell,0,0),c?c({rowNode:this.rowNode,dragEvent:n}):function(){try{var v=JSON.stringify(a.rowNode.data);n.dataTransfer.setData("application/json",v),n.dataTransfer.setData("text/plain",v)}catch(C){}}()},i.prototype.checkVisibility=function(){var n=this.column.isDndSource(this.rowNode);this.setDisplayed(n)},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(di),Kh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$h=function(){return $h=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},$h.apply(this,arguments)},zv="ag-cell-not-inline-editing",og=0,cc=function(u){function i(n,a,c,d){var v=u.call(this)||this;return v.suppressRefreshCell=!1,v.column=n,v.rowNode=a,v.beans=c,v.rowCtrl=d,v.instanceId=n.getId()+"-"+og++,v.createCellPosition(),v.addFeatures(),v}return Kh(i,u),i.prototype.addFeatures=function(){var n=this;this.cellPositionFeature=new Gd(this,this.beans),this.addDestroyFunc(function(){return n.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new tg(this,this.beans),this.addDestroyFunc(function(){return n.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new Iv(this,this.beans,this.column),this.addDestroyFunc(function(){return n.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new j4(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return n.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new vf(this.beans,this),this.addDestroyFunc(function(){return n.cellRangeFeature.destroy()})),this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var n=this;this.tooltipFeature=new Yh({getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getRowIndex:function(){return n.cellPosition.rowIndex},getRowNode:function(){return n.rowNode},getGui:function(){return n.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var d=n.column.getColDef(),v=n.rowNode.data;if(d.tooltipField&&se(v))return pr(v,d.tooltipField,n.column.isTooltipFieldContainsDots());var C=d.tooltipValueGetter;return C?C({location:"cell",api:n.beans.gridOptionsWrapper.getApi(),columnApi:n.beans.gridOptionsWrapper.getColumnApi(),context:n.beans.gridOptionsWrapper.getContext(),colDef:n.column.getColDef(),column:n.column,rowIndex:n.cellPosition.rowIndex,node:n.rowNode,data:n.rowNode.data,value:n.value,valueFormatted:n.valueFormatted}):null},getValueFormatted:function(){return n.valueFormatted}},this.beans),this.addDestroyFunc(function(){return n.tooltipFeature.destroy()})},i.prototype.setComp=function(n,a,c,d,v,C){this.cellComp=n,this.gow=this.beans.gridOptionsWrapper,this.scope=a,this.eGui=c,this.eCellWrapper=d,this.printLayout=v,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var M=Oo(this.column.getId());this.cellComp.setColId(M),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(c),this.cellCustomStyleFeature.setComp(n,a),this.tooltipFeature.setComp(n),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(n,c),C&&this.isCellEditable()?this.startEditing():this.showValue()},i.prototype.setupAutoHeight=function(){var n=this;if(this.column.isAutoHeight()){var a=this.eCellWrapper,c=a.parentElement,d=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),v=function(L){if(!n.editing){var U=n.beans.gridOptionsWrapper.getDocument();if((!U||!U.contains(a))&&L<5)return void n.beans.frameworkOverrides.setTimeout(function(){return v(L+1)},0);var ce=Mn(c),cn=Math.max(a.offsetHeight+ce.paddingTop+ce.paddingBottom,d);n.rowNode.setRowAutoHeight(cn,n.column)}},C=function(){return v(0)};C();var M=this.beans.resizeObserverService.observeResize(a,C);this.addDestroyFunc(function(){M(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(n){void 0===n&&(n=!1);var a=null!=this.valueFormatted?this.valueFormatted:this.value,c=this.createCellRendererParams(),d=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),c);this.cellComp.setRenderDetails(d,a,n),this.refreshHandle()},i.prototype.setupControlComps=function(){var n=this.column.getColDef();this.includeSelection=this.isIncludeControl(n.checkboxSelection),this.includeRowDrag=this.isIncludeControl(n.rowDrag),this.includeDndSource=this.isIncludeControl(n.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(n){return!(null!=this.rowNode.rowPinned||"function"!=typeof n&&!0!==n)},i.prototype.setupAriaExpanded=function(){var n=this,a=this.column.getColDef();if(this.rowNode.isExpandable()){var c=a.showRowGroup,d=this.rowNode.rowGroupColumn,v=!0===c,C=d&&d.getColId()===c;if(v||C){var L=function(){Vi(n.eGui,!!n.rowNode.expanded)};this.addManagedListener(this.rowNode,vi.EVENT_EXPANDED_CHANGED,L),L()}}},i.prototype.refreshShouldDestroy=function(){var n=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(n.checkboxSelection),c=this.includeRowDrag!=this.isIncludeControl(n.rowDrag),d=this.includeDndSource!=this.isIncludeControl(n.dndSource);return a||c||d},i.prototype.startEditing=function(n,a,c,d){var v,C;if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===c&&(c=!1),void 0===d&&(d=null),this.isCellEditable()&&!this.editing){var M=this.createCellEditorParams(n,a,c),L=this.column.getColDef(),U=this.beans.userComponentFactory.getCellEditorDetails(L,M),ce=null!=(null===(v=U)||void 0===v?void 0:v.popupFromSelector)?U.popupFromSelector:!!L.cellEditorPopup,ye=null!=(null===(C=U)||void 0===C?void 0:C.popupPositionFromSelector)?U.popupPositionFromSelector:L.cellEditorPopupPosition;this.setEditing(!0,ce),this.cellComp.setEditDetails(U,ce,ye);var it=this.createEvent(d,qe.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(it)}},i.prototype.setEditing=function(n,a){void 0===a&&(a=!1),this.editing!==n&&(this.editing=n,this.editingInPopup=a,this.setInlineEditingClass())},i.prototype.stopRowOrCellEdit=function(n){void 0===n&&(n=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(n):this.stopEditing(n)},i.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(n){var a={newValueExists:!1};if(n)return a;var c=this.cellComp.getCellEditor();return c?c.isCancelAfterEnd&&c.isCancelAfterEnd()?a:{newValue:c.getValue(),newValueExists:!0}:a},i.prototype.saveNewValue=function(n,a){if(a!==n){if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return void this.dispatchEventForSaveValueReadOnly(n,a);this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,a),this.suppressRefreshCell=!1}},i.prototype.dispatchEventForSaveValueReadOnly=function(n,a){var c=this.rowNode,d={type:qe.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:c.data,node:c,oldValue:n,newValue:a,value:a,source:void 0};this.beans.eventService.dispatchEvent(d)},i.prototype.stopEditing=function(n){if(void 0===n&&(n=!1),this.editing){var a=this.takeValueFromCellEditor(n),c=a.newValue,d=a.newValueExists,v=this.getValueFromValueService();d&&this.saveNewValue(v,c),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(v,c)}},i.prototype.dispatchEditingStoppedEvent=function(n,a){var c=$h($h({},this.createEvent(null,qe.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:a});this.beans.eventService.dispatchEvent(c)},i.prototype.setInlineEditingClass=function(){if(this.isAlive()){var n=this.editing&&!this.editingInPopup,a=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",n),this.cellComp.addOrRemoveCssClass(zv,!n),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",a),this.rowCtrl.setInlineEditingCss(this.editing)}},i.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},i.prototype.createCellEditorParams=function(n,a,c){var d={value:this.getValueFromValueService(),key:n,eventKey:n,charPress:a,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:c,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(d.$scope=this.scope),d},i.prototype.createCellRendererParams=function(){var n=this,c={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(d){return n.beans.valueService.setValue(n.rowNode,n.column,d)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(d,v,C,M){return n.registerRowDragger(d,v,M)},addRowCompListener:function(d,v){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),n.rowCtrl.addEventListener(d,v)}};return this.scope&&(c.$scope=this.scope),c},i.prototype.parseValue=function(n){var a=this.column.getColDef(),c={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:n,colDef:a,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},d=a.valueParser;return se(d)?this.beans.expressionService.evaluate(d,c):n},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var n=this.cellComp.getCellEditor();n&&n.focusOut&&n.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var n=this.cellComp.getCellEditor();n&&n.focusIn?n.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(n){this.cellComp&&n.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(n){if(!this.suppressRefreshCell&&!this.editing){var a=this.column.getColDef(),c=null!=n&&!!n.newData,d=null!=n&&!!n.suppressFlash||!!a.suppressCellFlash,C=n&&n.forceRefresh||null==a.field&&null==a.valueGetter&&null==a.showRowGroup||c,M=this.updateAndFormatValue();if(C||M){this.showValue(c);var U=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!d&&!U&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||a.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(n){void 0===n&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),n||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Nn.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(n){this.animateCell("data-changed",n&&n.flashDelay,n&&n.fadeDelay)},i.prototype.animateCell=function(n,a,c){var d=this,v="ag-cell-"+n,C="ag-cell-"+n+"-animation",M=this.beans.gridOptionsWrapper;a||(a=M.getCellFlashDelay()),se(c)||(c=M.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(v,!0),this.cellComp.addOrRemoveCssClass(C,!1),window.setTimeout(function(){d.cellComp.addOrRemoveCssClass(v,!1),d.cellComp.addOrRemoveCssClass(C,!0),d.eGui.style.transition="background-color "+c+"ms",window.setTimeout(function(){d.cellComp.addOrRemoveCssClass(C,!1),d.eGui.style.transition=""},c)},a)},i.prototype.onFlashCells=function(n){if(this.cellComp){var a=this.beans.cellPositionUtils.createId(this.getCellPosition());n.cells[a]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(n){var a=this.callValueFormatter(n);return null!=a?a:n},i.prototype.callValueFormatter=function(n){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,n)},i.prototype.updateAndFormatValue=function(n){void 0===n&&(n=!1);var a=this.value,c=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!n||!this.valuesAreEqual(a,this.value)||this.valueFormatted!=c},i.prototype.valuesAreEqual=function(n,a){var c=this.column.getColDef();return c.equals?c.equals(n,a):n===a},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValueFromValueService=function(){var n=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),a=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!n,c=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),d=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,a&&c&&!d)},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var n=this,a=this.getGui();this.beans.gridOptionsWrapper.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return n.beans.gridOptionsWrapper.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(n,a){var c={type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:n,rowIndex:this.rowNode.rowIndex};return this.scope&&(c.$scope=this.scope),c},i.prototype.onKeyPress=function(n){this.cellKeyboardListenerFeature.onKeyPress(n)},i.prototype.onKeyDown=function(n){this.cellKeyboardListenerFeature.onKeyDown(n)},i.prototype.onMouseEvent=function(n,a){this.cellMouseListenerFeature.onMouseEvent(n,a)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},i.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var n=this.beans.columnModel.getAriaColumnIndex(this.column);ll(this.getGui(),n)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(n){this.eGui.appendChild(n)},i.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(n,a,c){void 0===c&&(c=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(n,a,this):this.startEditing(n,a,!0,c)},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(n){void 0===n&&(n=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,n)},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var n=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",n)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var n=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",n)}},i.prototype.onCellFocused=function(n){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var a=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",a),a&&n&&n.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var d=this.beans.gridOptionsWrapper.isFullRowEdit();!a&&!d&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(zv,!0);var n=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",n),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!n)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var n=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",n)}},i.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var n=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",n)},i.prototype.dispatchCellContextMenuEvent=function(n){var a=this.column.getColDef(),c=this.createEvent(n,qe.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(c),a.onCellContextMenu&&window.setTimeout(function(){return a.onCellContextMenu(c)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var n=new Id;return this.beans.context.createBean(n),n.init({rowNode:this.rowNode,column:this.column}),n},i.prototype.createDndSource=function(){var n=new rg(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(n),n},i.prototype.registerRowDragger=function(n,a,c){var d=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(n,a);else{var v=this.createRowDragComp(n,a,c);v&&(this.customRowDragComp=v,this.addDestroyFunc(function(){return d.beans.context.destroyBean(v)}))}},i.prototype.createRowDragComp=function(n,a,c){var d=this,v=this.beans.gridOptionsWrapper.isPagination(),C=this.beans.gridOptionsWrapper.isRowDragManaged(),M=this.beans.gridOptionsWrapper.isRowModelDefault();if(C){if(!M)return void ue(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(v)return void ue(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var L=new j1(function(){return d.value},this.rowNode,this.column,n,a,c);return this.beans.context.createBean(L),L},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(wn),Wd=function(){return Wd=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Wd.apply(this,arguments)},mf=function(){function u(){}return u.createChildScopeOrNull=function(i,n,a){if(!a.isAngularCompileRows())return null;var d=n.$new();return d.data=Wd({},i.data),d.rowNode=i,d.context=a.getContext(),{scope:d,scopeDestroyFunc:function(){d.$destroy(),d.data=null,d.rowNode=null,d.context=null}}},u}(),qh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ja=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},yf=function(u){function i(n){var a=u.call(this)||this;return a.element=n,a}return qh(i,u),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var n=this;["keydown","keypress"].forEach(function(c){var d=n.processKeyboardEvent.bind(n,c);n.addManagedListener(n.element,c,d)})},i.prototype.addMouseListeners=function(){var n=this;["dblclick","contextmenu","mouseover","mouseout","click",go("touchstart")?"touchstart":"mousedown"].forEach(function(d){var v=n.processMouseEvent.bind(n,d);n.addManagedListener(n.element,d,v)})},i.prototype.processMouseEvent=function(n,a){if(this.mouseEventService.isEventFromThisGrid(a)&&!Ki(a)){var c=this.getRowForEvent(a),d=this.mouseEventService.getRenderedCellForEvent(a);"contextmenu"===n?this.handleContextMenuMouseEvent(a,null,c,d):(d&&d.onMouseEvent(n,a),c&&c.onMouseEvent(n,a))}},i.prototype.mockContextMenuForIPad=function(){var n=this;if(ai()){var a=new _s(this.element);this.addManagedListener(a,_s.EVENT_LONG_TAP,function(d){var v=n.getRowForEvent(d.touchEvent),C=n.mouseEventService.getRenderedCellForEvent(d.touchEvent);n.handleContextMenuMouseEvent(null,d.touchEvent,v,C)}),this.addDestroyFunc(function(){return a.destroy()})}},i.prototype.getRowForEvent=function(n){for(var a=n.target;a;){var c=this.gridOptionsWrapper.getDomData(a,iu.DOM_DATA_KEY_ROW_CTRL);if(c)return c;a=a.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(n,a,c,d){var v=c?c.getRowNode():null,C=d?d.getColumn():null,M=null;C&&(d.dispatchCellContextMenuEvent(n||a),M=this.valueService.getValue(C,v));var U=this.ctrlsService.getGridBodyCtrl(),ce=d?d.getGui():U.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(n,a,v,C,M,ce)},i.prototype.processKeyboardEvent=function(n,a){var c=to(this.gridOptionsWrapper,a,cc.DOM_DATA_KEY_CELL_CTRL),d=to(this.gridOptionsWrapper,a,iu.DOM_DATA_KEY_ROW_CTRL);a.defaultPrevented||(c?this.processCellKeyboardEvent(c,n,a):d&&d.isFullWidth()&&this.processFullWidthRowKeyboardEvent(d,n,a))},i.prototype.processCellKeyboardEvent=function(n,a,c){var d=n.getRowNode(),v=n.getColumn(),C=n.isEditing();if(!nc(this.gridOptionsWrapper,c,d,v,C))switch(a){case"keydown":!C&&this.navigationService.handlePageScrollingKey(c)||n.onKeyDown(c),this.doGridOperations(c,n.isEditing());break;case"keypress":n.onKeyPress(c)}if("keydown"===a){var U=n.createEvent(c,qe.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(U)}if("keypress"===a){var ce=n.createEvent(c,qe.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(ce)}},i.prototype.processFullWidthRowKeyboardEvent=function(n,a,c){var d=n.getRowNode(),v=this.focusService.getFocusedCell();if(!nc(this.gridOptionsWrapper,c,d,v&&v.column,!1)&&"keydown"===a)switch(c.key){case Nn.UP:case Nn.DOWN:n.onKeyboardNavigate(c);break;case Nn.TAB:n.onTabKeyDown(c)}if("keydown"===a){var U=n.createRowEvent(qe.EVENT_CELL_KEY_DOWN,c);this.eventService.dispatchEvent(U)}if("keypress"===a){var ce=n.createRowEvent(qe.EVENT_CELL_KEY_PRESS,c);this.eventService.dispatchEvent(ce)}},i.prototype.doGridOperations=function(n,a){if((n.ctrlKey||n.metaKey)&&!a&&this.mouseEventService.isEventFromThisGrid(n))switch(n.key.toUpperCase()){case Nn.A:return this.onCtrlAndA(n);case Nn.C:return this.onCtrlAndC(n);case Nn.V:return this.onCtrlAndV();case Nn.D:return this.onCtrlAndD(n);case Nn.Z:return n.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Nn.Y:return this.undoRedoService.redo()}},i.prototype.onCtrlAndA=function(n){var a=this,c=a.pinnedRowModel,v=a.rangeService,C=xe.PINNED_BOTTOM,M=xe.PINNED_TOP;if(v&&a.paginationProxy.isRowsToRender()){var L=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d}([c.isEmpty(M),c.isEmpty(C)],2),ye=L[0]?null:M,it=void 0,bt=void 0;L[1]?(it=null,bt=this.paginationProxy.getRowCount()-1):(it=C,bt=c.getPinnedBottomRowData().length-1);var Wt=this.columnModel.getAllDisplayedColumns();if(De(Wt))return;v.setCellRange({rowStartIndex:0,rowStartPinned:ye,rowEndIndex:bt,rowEndPinned:it,columnStart:Wt[0],columnEnd:ft(Wt)})}n.preventDefault()},i.prototype.onCtrlAndC=function(n){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),n.preventDefault())},i.prototype.onCtrlAndV=function(){an.isRegistered(Nt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(n){an.isRegistered(Nt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),n.preventDefault()},ja([oe("mouseEventService")],i.prototype,"mouseEventService",void 0),ja([oe("valueService")],i.prototype,"valueService",void 0),ja([er("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),ja([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),ja([oe("navigationService")],i.prototype,"navigationService",void 0),ja([oe("focusService")],i.prototype,"focusService",void 0),ja([oe("undoRedoService")],i.prototype,"undoRedoService",void 0),ja([oe("columnModel")],i.prototype,"columnModel",void 0),ja([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),ja([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),ja([er("rangeService")],i.prototype,"rangeService",void 0),ja([er("clipboardService")],i.prototype,"clipboardService",void 0),ja([Vt],i.prototype,"postConstruct",null),i}(wn),sg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Y4=function(u){function i(n){var a=u.call(this)||this;return a.centerContainerCon=n,a}return sg(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCon=n.ctrlsService.getGridBodyCtrl(),n.listenForResize()}),this.addManagedListener(this.eventService,qe.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var n=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(n),this.gridBodyCon.registerBodyViewportResizeListener(n)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var n=this.centerContainerCon.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var a=li(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==a&&(this.bodyHeight=a,this.eventService.dispatchEvent({type:qe.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var n={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(n),this.gridBodyCon.setVerticalScrollPaddingVisible(n.verticalScrollShowing)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var n=this.centerContainerCon.getCenterWidth(),a=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(n,a)},uc([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),uc([oe("columnModel")],i.prototype,"columnModel",void 0),uc([oe("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),uc([oe("columnApi")],i.prototype,"columnApi",void 0),uc([oe("gridApi")],i.prototype,"gridApi",void 0),uc([Vt],i.prototype,"postConstruct",null),i}(wn),Hv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Bv=function(u){function i(n){var a=u.call(this)||this;return a.element=n,a}return Hv(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,qe.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var n=this.pinnedWidthService.getPinnedLeftWidth(),a=n>0;Ar(this.element,a),a&&Qt(this.element,n)},Gv([oe("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Gv([Vt],i.prototype,"postConstruct",null),i}(wn),Xh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Cf=function(u){function i(n){var a=u.call(this)||this;return a.element=n,a}return Xh(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,qe.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var n=this.pinnedWidthService.getPinnedRightWidth(),a=n>0;Ar(this.element,a),a&&Qt(this.element,n)},Zh([oe("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Zh([Vt],i.prototype,"postConstruct",null),i}(wn),Wv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},K4=function(u){function i(n,a){var c=u.call(this)||this;return c.eContainer=n,c.eWrapper=a,c}return Wv(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,qe.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var n=this.maxDivHeightScaler.getUiContainerHeight(),a=null!=n?n+"px":"";this.eContainer.style.height=a,this.eWrapper&&(this.eWrapper.style.height=a)},Qh([oe("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),Qh([Vt],i.prototype,"postConstruct",null),i}(wn),Ku=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$4=function(u){function i(n){var a=u.call(this)||this;return a.eContainer=n,a}return Ku(i,u),i.prototype.postConstruct=function(){var n=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!ot(this.rangeService)){var a={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(a),this.addDestroyFunc(function(){return n.dragService.removeDragSource(a)})}},lg([er("rangeService")],i.prototype,"rangeService",void 0),lg([oe("dragService")],i.prototype,"dragService",void 0),lg([Vt],i.prototype,"postConstruct",null),i}(wn),Wl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},_f=function(u){function i(n){var a=u.call(this)||this;return a.callback=n,a}return Wl(i,u),i.prototype.postConstruct=function(){var n=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,n),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.setWidth()},i.prototype.setWidth=function(){var n=this.columnModel,a=this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT,c=n.getBodyContainerWidth(),d=n.getDisplayedColumnsLeftWidth(),v=n.getDisplayedColumnsRightWidth();this.callback(a?c+d+v:c)},jv([oe("columnModel")],i.prototype,"columnModel",void 0),jv([Vt],i.prototype,"postConstruct",null),i}(wn),aa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$u=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cg=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},kn=(()=>(function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth",u.TOP_LEFT="topLeft",u.TOP_RIGHT="topRight",u.TOP_CENTER="topCenter",u.TOP_FULL_WIDTH="topFullWidth",u.BOTTOM_LEFT="bottomLeft",u.BOTTOM_RIGHT="bottomRight",u.BOTTOM_CENTER="bottomCenter",u.BOTTOM_FULL_WIDTH="bottomFullWidth"}(kn||(kn={})),kn))(),bo=(()=>(function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth"}(bo||(bo={})),bo))(),Uv=Zo([[kn.CENTER,"ag-center-cols-container"],[kn.LEFT,"ag-pinned-left-cols-container"],[kn.RIGHT,"ag-pinned-right-cols-container"],[kn.FULL_WIDTH,"ag-full-width-container"],[kn.TOP_CENTER,"ag-floating-top-container"],[kn.TOP_LEFT,"ag-pinned-left-floating-top"],[kn.TOP_RIGHT,"ag-pinned-right-floating-top"],[kn.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[kn.BOTTOM_CENTER,"ag-floating-bottom-container"],[kn.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[kn.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[kn.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Kr=Zo([[kn.CENTER,"ag-center-cols-viewport"],[kn.TOP_CENTER,"ag-floating-top-viewport"],[kn.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Yv=Zo([[kn.CENTER,"ag-center-cols-clipper"]]),wf=function(u){function i(n){var a=u.call(this)||this;return a.name=n,a}return aa(i,u),i.getRowContainerCssClasses=function(n){return{container:Uv.get(n),viewport:Kr.get(n),wrapper:Yv.get(n)}},i.getPinned=function(n){switch(n){case kn.BOTTOM_LEFT:case kn.TOP_LEFT:case kn.LEFT:return xe.PINNED_LEFT;case kn.BOTTOM_RIGHT:case kn.TOP_RIGHT:case kn.RIGHT:return xe.PINNED_RIGHT;default:return null}},i.prototype.postConstruct=function(){var n=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,qe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([kn.CENTER],function(){return n.viewportSizeFeature=n.createManagedBean(new Y4(n))}),this.registerWithCtrlsService()},i.prototype.registerWithCtrlsService=function(){switch(this.name){case kn.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case kn.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case kn.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case kn.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case kn.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case kn.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case kn.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case kn.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case kn.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(n,a){n.indexOf(this.name)>=0&&a()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(n,a,c,d){var v=this;this.comp=n,this.eContainer=a,this.eViewport=c,this.eWrapper=d,this.createManagedBean(new yf(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var U=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(cg(arguments[i]));return u}([kn.TOP_CENTER,kn.TOP_LEFT,kn.TOP_RIGHT],[kn.BOTTOM_CENTER,kn.BOTTOM_LEFT,kn.BOTTOM_RIGHT],[kn.CENTER,kn.LEFT,kn.RIGHT]),ce=[kn.CENTER,kn.LEFT,kn.RIGHT,kn.FULL_WIDTH],ye=[kn.CENTER,kn.TOP_CENTER,kn.BOTTOM_CENTER],bt=[kn.RIGHT,kn.BOTTOM_RIGHT,kn.TOP_RIGHT];this.forContainers([kn.LEFT,kn.BOTTOM_LEFT,kn.TOP_LEFT],function(){return v.createManagedBean(new Bv(v.eContainer))}),this.forContainers(bt,function(){return v.createManagedBean(new Cf(v.eContainer))}),this.forContainers(ce,function(){return v.createManagedBean(new K4(v.eContainer,v.eWrapper))}),this.forContainers(U,function(){return v.createManagedBean(new $4(v.eContainer))}),this.forContainers(ye,function(){return v.createManagedBean(new _f(function(Wt){return v.comp.setContainerWidth(Wt+"px")}))})},i.prototype.listenOnDomOrder=function(){var n=this,a=function(){return n.comp.setDomOrder(n.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,a),a()},i.prototype.stopHScrollOnPinnedRows=function(){var n=this;this.forContainers([kn.TOP_CENTER,kn.BOTTOM_CENTER],function(){n.addManagedListener(n.eViewport,"scroll",function(){return n.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var n=this;this.forContainers([kn.CENTER],function(){return n.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var n=this;this.forContainers([kn.CENTER],function(){return n.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){if(this.name===kn.CENTER){var a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==a?"100%":"calc(100% + "+a+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var n=this,a=function(c){n.dragService.isDragging()&&c.cancelable&&c.preventDefault()};this.eContainer.addEventListener("touchmove",a,{passive:!1}),this.addDestroyFunc(function(){return n.eContainer.removeEventListener("touchmove",a)})},i.prototype.onHorizontalViewportChanged=function(){var n=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,a)},i.prototype.getCenterWidth=function(){return Ql(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return na(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(n){var a=this.resizeObserverService.observeResize(this.eViewport,n);this.addDestroyFunc(function(){return a()})},i.prototype.isViewportVisible=function(){return He(this.eViewport)},i.prototype.isViewportHScrollShowing=function(){return pt(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return na(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||pt(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(n){this.eContainer.style.transform="translateX("+n+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(n){sl(this.eViewport,n,this.enableRtl)},i.prototype.onDisplayedRowsChanged=function(){var n=this,a=this.name===kn.TOP_FULL_WIDTH||this.name===kn.BOTTOM_FULL_WIDTH||this.name===kn.FULL_WIDTH,v=this.getRowCtrls().filter(function(C){var M=C.isFullWidth(),L=n.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT,U=n.embedFullWidthRows||L;return a?!U&&M:U||!M});this.comp.setRowCtrls(v)},i.prototype.getRowCtrls=function(){switch(this.name){case kn.TOP_CENTER:case kn.TOP_LEFT:case kn.TOP_RIGHT:case kn.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case kn.BOTTOM_CENTER:case kn.BOTTOM_LEFT:case kn.BOTTOM_RIGHT:case kn.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},$u([oe("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),$u([oe("dragService")],i.prototype,"dragService",void 0),$u([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),$u([oe("columnModel")],i.prototype,"columnModel",void 0),$u([oe("resizeObserverService")],i.prototype,"resizeObserverService",void 0),$u([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),$u([Vt],i.prototype,"postConstruct",null),i}(wn),ug=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Jh=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Ao=(()=>(function(u){u.Normal="Normal",u.FullWidth="FullWidth",u.FullWidthLoading="FullWidthLoading",u.FullWidthGroup="FullWidthGroup",u.FullWidthDetail="FullWidthDetail"}(Ao||(Ao={})),Ao))(),Aa=0,iu=function(u){function i(n,a,c,d,v,C){var M=u.call(this)||this;return M.allRowGuis=[],M.active=!0,M.centerCellCtrls={list:[],map:{}},M.leftCellCtrls={list:[],map:{}},M.rightCellCtrls={list:[],map:{}},M.lastMouseDownOnDragger=!1,M.updateColumnListsPending=!1,M.parentScope=n,M.beans=c,M.rowNode=a,M.paginationPage=M.beans.paginationProxy.getCurrentPage(),M.useAnimationFrameForCreate=v,M.printLayout=C,M.instanceId=a.id+"-"+Aa++,M.setAnimateFlags(d),M.rowFocused=M.beans.focusService.isRowFocused(M.rowNode.rowIndex,M.rowNode.rowPinned),M.setupAngular1Scope(),M.rowLevel=M.beans.rowCssClassCalculator.calculateRowLevel(M.rowNode),M.setRowType(),M.addListeners(),M.setInitialRowTop(),M}return ug(i,u),i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(n,a,c){var d={rowComp:n,element:a,containerType:c};this.allRowGuis.push(d),c===bo.LEFT?this.leftGui=d:c===bo.RIGHT?this.rightGui=d:c===bo.FULL_WIDTH?this.fullWidthGui=d:this.centerGui=d,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},i.prototype.isCacheable=function(){return this.rowType===Ao.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},i.prototype.setCached=function(n){var a=n?"none":"";this.allRowGuis.forEach(function(c){return c.element.style.display=a})},i.prototype.initialiseRowComps=function(){var n=this,a=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),a.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&We(this.onTopChanged.bind(this)),this.fadeRowIn&&We(function(){n.allRowGuis.forEach(function(C){return C.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var c=this.getRowBusinessKey(),d=Oo(this.rowNode.id),v=Oo(c);this.allRowGuis.forEach(function(C){var M=C.rowComp;M.setRole("row"),n.getInitialRowClasses(C.containerType).forEach(function(U){return M.addOrRemoveCssClass(U,!0)}),n.rowNode.group&&Vi(C.element,1==n.rowNode.expanded),null!=d&&M.setRowId(d),null!=v&&M.setRowBusinessKey(v),n.isFullWidth()&&!n.beans.gridOptionsWrapper.isSuppressCellFocus()&&M.setTabIndex(-1),a.setDomData(C.element,i.DOM_DATA_KEY_ROW_CTRL,n),n.addDestroyFunc(function(){return a.setDomData(C.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),n.useAnimationFrameForCreate?n.beans.animationFrameService.createTask(n.addHoverFunctionality.bind(n,C.element),n.rowNode.rowIndex,"createTasksP2"):n.addHoverFunctionality(C.element),n.isFullWidth()&&n.setupFullWidth(C),a.isRowDragEntireRow()&&n.addRowDraggerToRow(C),n.useAnimationFrameForCreate&&n.beans.animationFrameService.addDestroyTask(function(){!n.isAlive()||C.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},i.prototype.addRowDraggerToRow=function(n){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())ue(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var c=new j1(function(){return"1 row"},this.rowNode,void 0,n.element,void 0,!0);this.createManagedBean(c,this.beans.context)}},i.prototype.setupFullWidth=function(n){var a=this.getPinnedForContainer(n.containerType),c=this.createFullWidthParams(n.element,a),d=an.isRegistered(Nt.MasterDetailModule);if(this.rowType!=Ao.FullWidthDetail||d){var v;switch(this.rowType){case Ao.FullWidthDetail:v=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(c);break;case Ao.FullWidthGroup:v=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(c);break;case Ao.FullWidthLoading:v=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(c);break;default:v=this.beans.userComponentFactory.getFullWidthCellRendererDetails(c)}n.rowComp.showFullWidth(v)}else an.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+Nt.MasterDetailModule)},i.prototype.getScope=function(){return this.scope},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.setupAngular1Scope=function(){var n=mf.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);n&&(this.scope=n.scope,this.addDestroyFunc(n.scopeDestroyFunc))},i.prototype.getCellElement=function(n){var a=this.getCellCtrl(n);return a?a.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var n=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();n&&n({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},i.prototype.setRowType=function(){var n=this.rowNode.stub,a=this.rowNode.isFullWidthCell(),c=this.beans.doingMasterDetail&&this.rowNode.detail,d=this.beans.columnModel.isPivotMode(),C=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(d);this.rowType=n?Ao.FullWidthLoading:c?Ao.FullWidthDetail:a?Ao.FullWidth:C?Ao.FullWidthGroup:Ao.Normal},i.prototype.updateColumnLists=function(n){var a=this;if(void 0===n&&(n=!1),!this.isFullWidth()){if(n||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!a.active||a.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(n,a,c){var d=this;void 0===c&&(c=null);var v={list:[],map:{}},C=function(M,L){v.list.push(L),v.map[M]=L};return a.forEach(function(M){var L=M.getInstanceId(),U=n.map[L];U||(U=new cc(M,d.rowNode,d.beans,d)),C(L,U)}),n.list.forEach(function(M){if(null==v.map[M.getColumn().getInstanceId()]){if(!d.isCellEligibleToBeRemoved(M,c))return void C(M.getColumn().getInstanceId(),M);M.destroy()}}),v},i.prototype.updateColumnListsImpl=function(){var n=this;this.updateColumnListsPending=!1;var a=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var c=a.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);var d=a.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,d,xe.PINNED_LEFT);var v=a.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,v,xe.PINNED_RIGHT)}this.allRowGuis.forEach(function(C){C.rowComp.setCellCtrls((C.containerType===bo.LEFT?n.leftCellCtrls:C.containerType===bo.RIGHT?n.rightCellCtrls:n.centerCellCtrls).list)})},i.prototype.isCellEligibleToBeRemoved=function(n,a){var c=!0;if(n.getColumn().getPinned()!=a)return c;var C=n.isEditing(),M=this.beans.focusService.isCellFocused(n.getCellPosition());if(C||M){var U=n.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(U)>=0)&&c}return c},i.prototype.setAnimateFlags=function(n){if(n){var a=se(this.rowNode.oldRowTop);this.slideRowIn=a,this.fadeRowIn=!a}else this.slideRowIn=!1,this.fadeRowIn=!1},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(n){this.stopEditing(n)},i.prototype.isFullWidth=function(){return this.rowType!==Ao.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var n=this,a=function(L,U){if(!L)return!0;var ce=L.rowComp.getFullWidthCellRenderer();if(!ce||!ce.refresh)return!1;var ye=n.createFullWidthParams(L.element,U);return ce.refresh(ye)},c=a(this.fullWidthGui,null),d=a(this.centerGui,null),v=a(this.leftGui,xe.PINNED_LEFT),C=a(this.rightGui,xe.PINNED_RIGHT);return c&&d&&v&&C},i.prototype.addListeners=function(){this.addManagedListener(this.rowNode,vi.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,vi.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,qe.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,qe.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,qe.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,qe.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,qe.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,qe.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,qe.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var n=this;this.addManagedListener(this.rowNode,vi.EVENT_ROW_INDEX_CHANGED,function(){n.getAllCellCtrls().forEach(function(a){return a.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,vi.EVENT_CELL_CHANGED,function(a){n.getAllCellCtrls().forEach(function(c){return c.onCellChanged(a)})})},i.prototype.onRowNodeDataChanged=function(n){this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!n.update,newData:!n.update})}),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var n=this.rowNode.highlighted;this.allRowGuis.forEach(function(a){var d=n===eu.Below;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n===eu.Above),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",d)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var n=this.rowNode.dragging;this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-row-dragging",n)})},i.prototype.updateExpandedCss=function(){var n=this.rowNode.isExpandable(),a=1==this.rowNode.expanded;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-group",n),c.rowComp.addOrRemoveCssClass("ag-row-group-expanded",n&&a),c.rowComp.addOrRemoveCssClass("ag-row-group-contracted",n&&!a),Vi(c.element,n&&a)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},i.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(n){var a=this.allRowGuis.find(function(L){return L.element.contains(n.target)});if((a?a.element:null)===n.target){var v=this.rowNode,C=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(n,n.key,{rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:C&&C.column},!0),n.preventDefault()}},i.prototype.onTabKeyDown=function(n){if(!n.defaultPrevented&&!Ki(n)){var a=this.allRowGuis.find(function(C){return C.element.contains(n.target)}),c=a?a.element:null,d=c===n.target,v=null;d||(v=this.beans.focusService.findNextFocusableElement(c,!1,n.shiftKey)),(this.isFullWidth()&&d||!v)&&this.beans.navigationService.onTabKeyDown(this,n)}},i.prototype.onFullWidthRowFocused=function(n){var a,c=this.rowNode,d=this.isFullWidth()&&n.rowIndex===c.rowIndex&&n.rowPinned==c.rowPinned,v=this.fullWidthGui?this.fullWidthGui.element:null===(a=this.centerGui)||void 0===a?void 0:a.element;!v||(v.classList.toggle("ag-full-width-focus",d),d&&v.focus({preventScroll:!0}))},i.prototype.refreshCell=function(n){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,n),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,n),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,n),this.updateColumnLists()},i.prototype.removeCellCtrl=function(n,a){var c={list:[],map:{}};return n.list.forEach(function(d){d!==a&&(c.list.push(d),c.map[d.getInstanceId()]=d)}),c},i.prototype.onMouseEvent=function(n,a){switch(n){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a)}},i.prototype.createRowEvent=function(n,a){return{type:n,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:a}},i.prototype.createRowEventWithSource=function(n,a){var c=this.createRowEvent(n,a);return c.source=this,c},i.prototype.onRowDblClick=function(n){if(!Ki(n)){var a=this.createRowEventWithSource(qe.EVENT_ROW_DOUBLE_CLICKED,n);this.beans.eventService.dispatchEvent(a)}},i.prototype.onRowMouseDown=function(n){if(this.lastMouseDownOnDragger=es(n.target,"ag-row-drag",3),this.isFullWidth()){var a=this.rowNode;this.beans.focusService.setFocusedCell(a.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],a.rowPinned,!0)}},i.prototype.onRowClick=function(n){if(!Ki(n)&&!this.lastMouseDownOnDragger){var c=this.createRowEventWithSource(qe.EVENT_ROW_CLICKED,n);this.beans.eventService.dispatchEvent(c);var d=n.ctrlKey||n.metaKey,v=n.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var M=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),L=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?M?this.rowNode.setSelectedParams({newValue:!1}):d?L&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!v,clearSelection:!v,rangeSelect:v}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!M&&!d,rangeSelect:v})}}},i.prototype.setupDetailRowAutoHeight=function(n){var a=this;if(this.rowType===Ao.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var c=function(){var v=n.clientHeight;null!=v&&v>0&&a.beans.frameworkOverrides.setTimeout(function(){a.rowNode.setRowHeight(v),a.beans.clientSideRowModel?a.beans.clientSideRowModel.onRowHeightChanged():a.beans.serverSideRowModel&&a.beans.serverSideRowModel.onRowHeightChanged()},0)},d=this.beans.resizeObserverService.observeResize(n,c);this.addDestroyFunc(d),c()}},i.prototype.createFullWidthParams=function(n,a){var c=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:n,eParentOfValue:n,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(v,C,M,L){return c.addFullWidthRowDragging(v,C,M,L)}}},i.prototype.addFullWidthRowDragging=function(n,a,c,d){if(void 0===c&&(c=""),this.isFullWidth()){var v=new j1(function(){return c},this.rowNode,void 0,n,a,d);this.createManagedBean(v,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var n=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=n){var a="ag-row-level-"+n,c="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(d){d.rowComp.addOrRemoveCssClass(a,!0),d.rowComp.addOrRemoveCssClass(c,!1)})}this.rowLevel=n},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},i.prototype.refreshFirstAndLastRowStyles=function(){var n=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==n&&(this.firstRowOnPage=n,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-first",n)})),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-last",a)}))},i.prototype.stopEditing=function(n){if(void 0===n&&(n=!1),this.getAllCellCtrls().forEach(function(c){return c.stopEditing(n)}),this.editingRow){if(!n){var a=this.createRowEvent(qe.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(a)}this.setEditingRow(!1)}},i.prototype.setInlineEditingCss=function(n){this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",n),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!n)})},i.prototype.setEditingRow=function(n){this.editingRow=n,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-editing",n)});var a=this.createRowEvent(n?qe.EVENT_ROW_EDITING_STARTED:qe.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(a)},i.prototype.startRowEditing=function(n,a,c,d){void 0===n&&(n=null),void 0===a&&(a=null),void 0===c&&(c=null),void 0===d&&(d=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(v){var C=v===c;C?v.startEditing(n,a,C,d):v.startEditing(null,null,C,d)}),this.setEditingRow(!0))},i.prototype.getAllCellCtrls=function(){var n=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Jh(arguments[i]));return u}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return n},i.prototype.postProcessClassesFromGridOptions=function(){var n=this,a=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!a||!a.length||a.forEach(function(c){n.allRowGuis.forEach(function(d){return d.rowComp.addOrRemoveCssClass(c,!0)})})},i.prototype.postProcessRowClassRules=function(){var n=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(a){n.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(a,!0)})},function(a){n.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(a,!1)})})},i.prototype.setStylesFromGridOptions=function(){var n=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(a){return a.rowComp.setUserStyles(n)})},i.prototype.getRowBusinessKey=function(){var n=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof n)return n(this.rowNode)},i.prototype.getPinnedForContainer=function(n){return n===bo.LEFT?xe.PINNED_LEFT:n===bo.RIGHT?xe.PINNED_RIGHT:null},i.prototype.getInitialRowClasses=function(n){var a=this.getPinnedForContainer(n),c={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(c)},i.prototype.processStylesFromGridOptions=function(){var n=this.beans.gridOptionsWrapper.getRowStyle();if(!n||"function"!=typeof n){var c,a=this.beans.gridOptionsWrapper.getRowStyleFunc();return a&&(c=a({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),Object.assign({},n,c)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(){var n=this,a=this.rowNode.isSelected();this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-selected",a),is(c.element,!!a||void 0);var d=n.createAriaLabel();xr(c.element,null==d?"":d)})},i.prototype.createAriaLabel=function(){var n=this.rowNode.isSelected();if(!n||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(n?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(n?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(n){var a=this;!this.active||(this.addManagedListener(n,"mouseenter",function(){return a.rowNode.onMouseEnter()}),this.addManagedListener(n,"mouseleave",function(){return a.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,vi.EVENT_MOUSE_ENTER,function(){a.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||n.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,vi.EVENT_MOUSE_LEAVE,function(){n.classList.remove("ag-row-hover")}))},i.prototype.roundRowTopToBounds=function(n){var c=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.applyPaginationOffset(c.top,!0)-100,v=this.applyPaginationOffset(c.bottom,!0)+100;return Math.min(Math.max(d,n),v)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var n=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),a=this.rowNode.rowHeight,c=this.beans.gridOptionsWrapper.getDefaultRowHeight();this.allRowGuis.forEach(function(d){d.element.style.height=a+"px",n&&d.element.style.setProperty("--ag-row-height",Math.min(c,a)-2+"px")})}},i.prototype.addEventListener=function(n,a){("renderedRowRemoved"===n||"rowRemoved"===n)&&(n=qe.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+qe.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.addEventListener.call(this,n,a)},i.prototype.removeEventListener=function(n,a){("renderedRowRemoved"===n||"rowRemoved"===n)&&(n=qe.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+qe.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.removeEventListener.call(this,n,a)},i.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var n=this.createRowEvent(qe.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),u.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var a=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(a)}else this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var n=function(a){return a.list.forEach(function(c){return c.destroy()}),{list:[],map:{}}};this.centerCellCtrls=n(this.centerCellCtrls),this.leftCellCtrls=n(this.leftCellCtrls),this.rightCellCtrls=n(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(){var n=this;this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),a.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},i.prototype.onCellFocusChanged=function(){var n=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var n=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(n,a){return void 0===a&&(a=!1),this.rowNode.isRowPinned()?n:n+this.beans.paginationProxy.getPixelOffset()*(a?1:-1)},i.prototype.setRowTop=function(n){if(!this.printLayout&&se(n)){var a=this.applyPaginationOffset(n),c=this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a);this.setRowTopStyle(c+"px")}},i.prototype.getInitialRowTop=function(){return this.initialTop},i.prototype.getInitialTransform=function(){return this.initialTransform},i.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var n=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,a=this.applyPaginationOffset(n),d=(this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=d:this.initialTransform="translateY("+d+")"},i.prototype.setRowTopStyle=function(n){var a=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(c){return a?c.rowComp.setTop(n):c.rowComp.setTransform("translateY("+n+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(n){var a=null;return this.getAllCellCtrls().forEach(function(c){c.getColumn()==n&&(a=c)}),null!=a||this.getAllCellCtrls().forEach(function(c){c.getColSpanningList().indexOf(n)>=0&&(a=c)}),a},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(){var n=this.rowNode.getRowIndexString(),a=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0,d=a+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(v){v.rowComp.setRowIndex(n),v.rowComp.addOrRemoveCssClass("ag-row-even",c),v.rowComp.addOrRemoveCssClass("ag-row-odd",!c),xa(v.element,d)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(wn),kc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hi=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},dg=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Io=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(dg(arguments[i]));return u},$3=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.destroyFuncsForColumnListeners=[],n.rowCtrlsByRowIndex={},n.zombieRowCtrls={},n.allRowCtrls=[],n.topRowCtrls=[],n.bottomRowCtrls=[],n.refreshInProgress=!1,n}return kc(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCtrl=n.ctrlsService.getGridBodyCtrl(),n.initialise()})},i.prototype.initialise=function(){this.addManagedListener(this.eventService,qe.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var n=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new pl(null!=n?n:3)}},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.updateAllRowCtrls=function(){var n=oi(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&n.sort(function(d,v){return d.getRowNode().rowIndex-v.getRowNode.rowIndex});var a=oi(this.zombieRowCtrls),c=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Io(n,a,c)},i.prototype.registerCellEventListeners=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_CELL_FOCUSED,function(c){n.getAllCellCtrls().forEach(function(d){return d.onCellFocused(c)}),n.getFullWidthRowCtrls().forEach(function(d){d.onFullWidthRowFocused(c)})}),this.addManagedListener(this.eventService,qe.EVENT_FLASH_CELLS,function(c){n.getAllCellCtrls().forEach(function(d){return d.onFlashCells(c)})}),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_HOVER_CHANGED,function(){n.getAllCellCtrls().forEach(function(c){return c.onColumnHover()})}),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){n.getAllCellCtrls().forEach(function(c){return c.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){n.printLayout&&n.getAllCellCtrls().forEach(function(c){return c.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,qe.EVENT_RANGE_SELECTION_CHANGED,function(){n.getAllCellCtrls().forEach(function(c){return c.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_MOVED,function(){n.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PINNED,function(){n.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_VISIBLE,function(){n.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,qe.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(n){return n()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var n=this;this.removeGridColumnListeners();var a=this.columnModel.getAllGridColumns();!a||a.forEach(function(c){var d=function(U){n.getAllCellCtrls().forEach(function(ce){ce.getColumn()===c&&U(ce)})},v=function(){d(function(U){return U.onLeftChanged()})},C=function(){d(function(U){return U.onWidthChanged()})},M=function(){d(function(U){return U.onFirstRightPinnedChanged()})},L=function(){d(function(U){return U.onLastLeftPinnedChanged()})};c.addEventListener(Dt.EVENT_LEFT_CHANGED,v),c.addEventListener(Dt.EVENT_WIDTH_CHANGED,C),c.addEventListener(Dt.EVENT_FIRST_RIGHT_PINNED_CHANGED,M),c.addEventListener(Dt.EVENT_LAST_LEFT_PINNED_CHANGED,L),n.destroyFuncsForColumnListeners.push(function(){c.removeEventListener(Dt.EVENT_LEFT_CHANGED,v),c.removeEventListener(Dt.EVENT_WIDTH_CHANGED,C),c.removeEventListener(Dt.EVENT_FIRST_RIGHT_PINNED_CHANGED,M),c.removeEventListener(Dt.EVENT_LAST_LEFT_PINNED_CHANGED,L)})})},i.prototype.onDomLayoutChanged=function(){var n=this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT,a=n||this.gridOptionsWrapper.isEmbedFullWidthRows(),c=a!==this.embedFullWidthRows||this.printLayout!==n;this.printLayout=n,this.embedFullWidthRows=a,c&&this.redrawAfterModelUpdate()},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n)},i.prototype.onPageLoaded=function(n){this.redrawAfterModelUpdate({recycleRows:n.keepRenderedRows,animate:n.animate,newData:n.newData,newPage:n.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(n){var a=[];return this.getAllRowCtrls().forEach(function(c){var d=c.getCellElement(n);d&&a.push(d)}),a},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(n,a){var c=this;n.forEach(function(d){d.destroyFirstPass(),d.destroySecondPass()}),n.length=0,a&&a.forEach(function(d){var v=new iu(c.$scope,d,c.beans,!1,!1,c.printLayout);n.push(v)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(n){var a=[];return ot(n)||tt(this.rowCtrlsByRowIndex,function(c,d){var v=d.getRowNode();n.indexOf(v)>=0&&a.push(c)}),a},i.prototype.redrawRows=function(n){var a=null!=n&&n.length>0;if(a){var c=this.getRenderedIndexesForRowNodes(n);this.removeRowCtrls(c)}this.redrawAfterModelUpdate({recycleRows:a})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(n){var a=n.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==a)return null;var d=this.gridOptionsWrapper.getDocument().activeElement,v=this.gridOptionsWrapper.getDomData(d,cc.DOM_DATA_KEY_CELL_CTRL),C=this.gridOptionsWrapper.getDomData(d,iu.DOM_DATA_KEY_ROW_CTRL);return v||C?a:null},i.prototype.redrawAfterModelUpdate=function(n){void 0===n&&(n={}),this.getLockOnRefresh();var a=this.getCellToRestoreFocusToAfterRefresh(n);this.updateContainerHeights(),this.scrollToTopIfNewData(n);var c=!this.printLayout&&!!n.recycleRows,d=n.animate&&this.gridOptionsWrapper.isAnimateRows(),v=c?this.recycleRows():null;c||this.removeAllRowComps();var M=function(){if(null==a||null==v)return!1;var L=!1;return tt(v,function(U,ce){var ye=ce.getRowNode();ye.rowIndex==a.rowIndex&&ye.rowPinned==a.rowPinned&&(L=!0)}),L}();this.redraw(v,d),n.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),M||this.restoreFocusedCell(a),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(n){var a=n.newData||n.newPage,c=this.gridOptionsWrapper.isSuppressScrollOnNewData();a&&!c&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var n=this.paginationProxy.getCurrentPageHeight();0===n&&(n=1),this.rowContainerHeightService.setModelHeight(n)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.restoreFocusedCell=function(n){n&&this.focusService.setFocusedCell(n.rowIndex,n.column,n.rowPinned,!0)},i.prototype.stopEditing=function(n){void 0===n&&(n=!1),this.getAllRowCtrls().forEach(function(a){a.stopEditing(n)})},i.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(n){return n.onNewColumnsLoaded()})},i.prototype.getAllCellCtrls=function(){var n=[];return this.getAllRowCtrls().forEach(function(a){return n=n.concat(a.getAllCellCtrls())}),n},i.prototype.getAllRowCtrls=function(){var n=this,a=Io(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(c){return a.push(n.rowCtrlsByRowIndex[c])}),a},i.prototype.addRenderedRowListener=function(n,a,c){var d=this.rowCtrlsByRowIndex[a];d&&d.addEventListener(n,c)},i.prototype.flashCells=function(n){void 0===n&&(n={});var a=n.flashDelay,c=n.fadeDelay;this.getCellCtrls(n.rowNodes,n.columns).forEach(function(d){return d.flashCell({flashDelay:a,fadeDelay:c})})},i.prototype.refreshCells=function(n){void 0===n&&(n={});var a={forceRefresh:n.force,newData:!1,suppressFlash:n.suppressFlash};this.getCellCtrls(n.rowNodes,n.columns).forEach(function(c){if(c.refreshShouldDestroy()){var d=c.getRowCtrl();d&&d.refreshCell(c)}else c.refreshCell(a)}),this.getFullWidthRowCtrls(n.rowNodes).forEach(function(c){c.refreshFullWidth()})},i.prototype.getCellRendererInstances=function(n){return this.getCellCtrls(n.rowNodes,n.columns).map(function(c){return c.getCellRenderer()}).filter(function(c){return null!=c})},i.prototype.getCellEditorInstances=function(n){var a=[];return this.getCellCtrls(n.rowNodes,n.columns).forEach(function(c){var d=c.getCellEditor();d&&a.push(d)}),a},i.prototype.getEditingCells=function(){var n=[];return this.getAllCellCtrls().forEach(function(a){if(a.isEditing()){var c=a.getCellPosition();n.push(c)}}),n},i.prototype.mapRowNodes=function(n){if(n){var a={top:{},bottom:{},normal:{}};return n.forEach(function(c){var d=c.id;c.rowPinned===xe.PINNED_TOP?a.top[d]=c:c.rowPinned===xe.PINNED_BOTTOM?a.bottom[d]=c:a.normal[d]=c}),a}},i.prototype.isRowInMap=function(n,a){var c=n.id,d=n.rowPinned;return d===xe.PINNED_BOTTOM?null!=a.bottom[c]:d===xe.PINNED_TOP?null!=a.top[c]:null!=a.normal[c]},i.prototype.getCellCtrls=function(n,a){var C,c=this,d=this.mapRowNodes(n),v=[];se(a)&&(C={},a.forEach(function(L){var U=c.columnModel.getGridColumn(L);se(U)&&(C[U.getId()]=!0)}));var M=function(L){var U=L.getRowNode();null!=d&&!c.isRowInMap(U,d)||L.getAllCellCtrls().forEach(function(ce){var ye=ce.getColumn().getId();C&&!C[ye]||v.push(ce)})};return tt(this.rowCtrlsByRowIndex,function(L,U){M(U)}),this.topRowCtrls&&this.topRowCtrls.forEach(M),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(M),v},i.prototype.destroy=function(){this.removeAllRowComps(),u.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n)},i.prototype.recycleRows=function(){var n=[];tt(this.rowCtrlsByRowIndex,function(c,d){null==d.getRowNode().id&&n.push(c)}),this.removeRowCtrls(n);var a={};return tt(this.rowCtrlsByRowIndex,function(c,d){var v=d.getRowNode();a[v.id]=d}),this.rowCtrlsByRowIndex={},a},i.prototype.removeRowCtrls=function(n){var a=this;n.forEach(function(c){var d=a.rowCtrlsByRowIndex[c];d&&(d.destroyFirstPass(),d.destroySecondPass()),delete a.rowCtrlsByRowIndex[c]})},i.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},i.prototype.removeRowCompsNotToDraw=function(n){var a={};n.forEach(function(v){return a[v]=!0});var d=Object.keys(this.rowCtrlsByRowIndex).filter(function(v){return!a[v]});this.removeRowCtrls(d)},i.prototype.calculateIndexesToDraw=function(n){var a=this,c=Ma(this.firstRenderedRow,this.lastRenderedRow),d=function(v,C){var M=C.getRowNode().rowIndex;null!=M&&(M<a.firstRenderedRow||M>a.lastRenderedRow)&&a.doNotUnVirtualiseRow(C)&&c.push(M)};return tt(this.rowCtrlsByRowIndex,d),tt(n,d),c.sort(function(v,C){return v-C}),c},i.prototype.redraw=function(n,a,c){var d=this;void 0===a&&(a=!1),void 0===c&&(c=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var v=this.calculateIndexesToDraw(n);this.removeRowCompsNotToDraw(v),this.printLayout&&(a=!1);var C=[];v.forEach(function(L){var U=d.createOrUpdateRowCtrl(L,n,a,c);se(U)&&C.push(U)}),n&&(!c||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(n,a):this.beans.animationFrameService.addDestroyTask(function(){d.destroyRowCtrls(n,a),d.updateAllRowCtrls(),d.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},i.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:qe.EVENT_DISPLAYED_ROWS_CHANGED})},i.prototype.onDisplayedColumnsChanged=function(){var n=this.columnModel.isPinningLeft(),a=this.columnModel.isPinningRight();(this.pinningLeft!==n||a!==this.pinningRight)&&(this.pinningLeft=n,this.pinningRight=a,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var n=[];this.getFullWidthRowCtrls().forEach(function(a){var c=a.getRowNode().rowIndex;n.push(c.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(n),this.redrawAfterScroll()},i.prototype.getFullWidthRowCtrls=function(n){var a=this,c=this.mapRowNodes(n);return oi(this.rowCtrlsByRowIndex).filter(function(d){if(!d.isFullWidth())return!1;var v=d.getRowNode();return!(null!=c&&!a.isRowInMap(v,c))})},i.prototype.refreshFullWidthRows=function(n){var a=[],c=!!n,d=c?{}:void 0;c&&d&&n.forEach(function(v){return d[v.id]=!0}),this.getFullWidthRowCtrls().forEach(function(v){var C=v.getRowNode();if((!c||!d||d[C.id]||d[C.level>0&&C.parent?C.parent.id:void 0])&&!v.refreshFullWidth()){var ce=v.getRowNode().rowIndex;a.push(ce.toString())}}),this.removeRowCtrls(a),this.redrawAfterScroll()},i.prototype.createOrUpdateRowCtrl=function(n,a,c,d){var v,C=this.rowCtrlsByRowIndex[n];if(C||se(v=this.paginationProxy.getRow(n))&&se(a)&&a[v.id]&&v.alreadyRendered&&(C=a[v.id],a[v.id]=null),!C){if(v||(v=this.paginationProxy.getRow(n)),!se(v))return;C=this.createRowCon(v,c,d)}return v&&(v.alreadyRendered=!0),this.rowCtrlsByRowIndex[n]=C,C},i.prototype.destroyRowCtrls=function(n,a){var c=this,d=[];tt(n,function(v,C){if(C){if(c.cachedRowCtrls&&C.isCacheable())return void c.cachedRowCtrls.addRow(C);C.destroyFirstPass(),a?(c.zombieRowCtrls[C.getInstanceId()]=C,d.push(function(){C.destroySecondPass(),delete c.zombieRowCtrls[C.getInstanceId()]})):C.destroySecondPass()}}),a&&(d.push(function(){c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()}),dt(d))},i.prototype.checkAngularCompile=function(){var n=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){n.$scope.$apply()},0)},i.prototype.workOutFirstAndLastRowsToRender=function(){var a,c,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)a=this.paginationProxy.getPageFirstRow(),c=this.paginationProxy.getPageLastRow();else{var d=this.gridOptionsWrapper.getRowBufferInPixels(),v=this.ctrlsService.getGridBodyCtrl(),C=this.gridOptionsWrapper.isSuppressRowVirtualisation(),M=!1,L=void 0,U=void 0;do{var ce=this.paginationProxy.getPixelOffset(),ye=this.paginationProxy.getCurrentPagePixelRange(),it=ye.pageFirstPixel,bt=ye.pageLastPixel,Wt=this.rowContainerHeightService.getDivStretchOffset();if(C)L=it+Wt,U=bt+Wt;else{var cn=v.getScrollFeature().getVScrollPosition(),_n=cn.bottom;L=Math.max(cn.top+ce-d,it)+Wt,U=Math.min(_n+ce+d,bt)+Wt}M=this.ensureAllRowsInRangeHaveHeightsCalculated(L,U)}while(M);var An=this.paginationProxy.getRowIndexAtPixel(L),qn=this.paginationProxy.getRowIndexAtPixel(U),Ir=this.paginationProxy.getPageFirstRow(),_i=this.paginationProxy.getPageLastRow();An<Ir&&(An=Ir),qn>_i&&(qn=_i),a=An,c=qn}else a=0,c=-1;var ni=this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_NORMAL,ii=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),kr=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(ni&&!ii&&c-a>kr&&(c=a+kr),(a!==this.firstRenderedRow||c!==this.lastRenderedRow)&&(this.firstRenderedRow=a,this.lastRenderedRow=c,this.eventService.dispatchEvent({type:qe.EVENT_VIEWPORT_CHANGED,firstRow:a,lastRow:c,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var yu={type:qe.EVENT_FIRST_DATA_RENDERED,firstRow:a,lastRow:c,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return n.eventService.dispatchEventOnce(yu)},50)}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(n,a){var c=this.paginationProxy.ensureRowHeightsValid(n,a,-1,-1);return c&&this.updateContainerHeights(),c},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(n){var d=n.getRowNode(),v=this.focusService.isRowNodeFocused(d),C=n.isEditing();return!!(v||C||d.detail)&&!!this.paginationProxy.isRowPresent(d)},i.prototype.createRowCon=function(n,a,c){var d=this.cachedRowCtrls?this.cachedRowCtrls.getRow(n):null;if(d)return d;var v=this.gridOptionsWrapper.isSuppressAnimationFrame();return new iu(this.$scope,n,this.beans,a,c&&!v&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var n=this.rowCtrlsByRowIndex;return Object.keys(n).map(function(a){return n[a].getRowNode()})},i.prototype.getRowByPosition=function(n){var a;switch(n.rowPinned){case xe.PINNED_TOP:a=this.topRowCtrls[n.rowIndex];break;case xe.PINNED_BOTTOM:a=this.bottomRowCtrls[n.rowIndex];break;default:a=this.rowCtrlsByRowIndex[n.rowIndex]}return a},i.prototype.getRowNode=function(n){switch(n.rowPinned){case xe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case xe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(n,a){return!(null==n||null==a||a<this.firstRenderedRow||n>this.lastRenderedRow)},Hi([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),Hi([oe("columnModel")],i.prototype,"columnModel",void 0),Hi([oe("$scope")],i.prototype,"$scope",void 0),Hi([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Hi([oe("rowModel")],i.prototype,"rowModel",void 0),Hi([oe("focusService")],i.prototype,"focusService",void 0),Hi([oe("columnApi")],i.prototype,"columnApi",void 0),Hi([oe("gridApi")],i.prototype,"gridApi",void 0),Hi([oe("beans")],i.prototype,"beans",void 0),Hi([oe("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Hi([er("ctrlsService")],i.prototype,"ctrlsService",void 0),Hi([Vt],i.prototype,"postConstruct",null),Hi([mn("rowRenderer")],i)}(wn),pl=function(){function u(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return u.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var n=this.entriesList[0];n.destroyFirstPass(),n.destroySecondPass(),this.removeFromCache(n)}},u.prototype.getRow=function(i){if(null==i||null==i.id)return null;var n=this.entriesMap[i.id];return n?(this.removeFromCache(n),n.setCached(!1),n.getRowNode()!=i?null:n):null},u.prototype.removeFromCache=function(i){var n=i.getRowNode().id;delete this.entriesMap[n],zn(this.entriesList,i)},u.prototype.getEntries=function(){return this.entriesList},u}(),X4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jd=function(u){function i(n,a){var c=u.call(this,n)||this;return c.ctrl=a,c}return X4(i,u),i.prototype.getCtrl=function(){return this.ctrl},i}(di),Sf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ep=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},tp=function(u){function i(n){var a=u.call(this,i.TEMPLATE,n)||this;return a.headerCompVersion=0,a.column=n.getColumnGroupChild(),a.pinned=n.getPinned(),a}return Sf(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),c=function(C,M,L){var U=L||a;null!=M&&""!=M?U.setAttribute(C,M):U.removeAttribute(C)};this.ctrl.setComp({setWidth:function(C){return a.style.width=C},addOrRemoveCssClass:function(C,M){return n.addOrRemoveCssClass(C,M)},setAriaSort:function(C){return C?xh(a,C):Mh(a)},setColId:function(C){return c("col-id",C)},setTitle:function(C){return c("title",C)},setAriaDescribedBy:function(C){return Fr(a,C)},setUserCompDetails:function(C){return n.setUserCompDetails(C)},getUserCompInstance:function(){return n.headerComp}},this.getGui(),this.eResize);var v=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",v)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(n){var a=this;this.headerCompVersion++;var c=this.headerCompVersion;n.newAgStackInstance().then(function(d){return a.afterCompCreated(c,d)})},i.prototype.afterCompCreated=function(n,a){n==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(a)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',ep([Fn("eResize")],i.prototype,"eResize",void 0),ep([Vt],i.prototype,"postConstruct",null),ep([fn],i.prototype,"destroyHeaderComp",null),i}(jd),hg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Kv=function(u){function i(n){return u.call(this,i.TEMPLATE,n)||this}return hg(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),c=function(v,C){return null!=C?a.setAttribute(v,C):a.removeAttribute(v)};this.ctrl.setComp({addOrRemoveCssClass:function(v,C){return n.addOrRemoveCssClass(v,C)},addOrRemoveResizableCssClass:function(v,C){return n.eResize.classList.toggle(v,C)},setWidth:function(v){return a.style.width=v},setColId:function(v){return a.setAttribute("col-id",v)},setAriaExpanded:function(v){return c("aria-expanded",v)},setTitle:function(v){return c("title",v)},setUserCompDetails:function(v){return n.setUserCompDetails(v)}},a,this.eResize)},i.prototype.setUserCompDetails=function(n){var a=this;n.newAgStackInstance().then(function(c){return a.afterHeaderCompCreated(c)})},i.prototype.afterHeaderCompCreated=function(n){var a=this,c=function(){return a.destroyBean(n)};this.isAlive()?(this.getGui().appendChild(n.getGui()),this.addDestroyFunc(c),this.ctrl.setDragSource(n.getGui())):c()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',pg([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),pg([Fn("eResize")],i.prototype,"eResize",void 0),pg([Vt],i.prototype,"postConstruct",null),i}(jd),Z4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ra=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},dc=function(u){function i(n){return u.call(this,i.TEMPLATE,n)||this}return Z4(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(d,v){return n.addOrRemoveCssClass(d,v)},addOrRemoveBodyCssClass:function(d,v){return n.eFloatingFilterBody.classList.toggle(d,v)},addOrRemoveButtonWrapperCssClass:function(d,v){return n.eButtonWrapper.classList.toggle(d,v)},setCompDetails:function(d){return n.setCompDetails(d)},getFloatingFilterComp:function(){return n.compPromise},setWidth:function(d){return a.style.width=d},setMenuIcon:function(d){return n.eButtonShowMainFilter.appendChild(d)}},a,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(n){var a=this;this.compPromise=n.newAgStackInstance(),this.compPromise.then(function(c){return a.afterCompCreated(c)})},i.prototype.afterCompCreated=function(n){var a=this;!n||(this.addDestroyFunc(function(){return a.context.destroyBean(n)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(n.getGui()),n.afterGuiAttached&&n.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Ra([Fn("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Ra([Fn("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Ra([Fn("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),Ra([Vt],i.prototype,"postConstruct",null),i}(jd),fl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Q4=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ua=(()=>(function(u){u.COLUMN_GROUP="group",u.COLUMN="column",u.FLOATING_FILTER="filter"}(Ua||(Ua={})),Ua))(),ya=function(u){function i(n){var a=u.call(this)||this;a.headerComps={};var c=n.getType()==Ua.COLUMN_GROUP?"ag-header-row-column-group":n.getType()==Ua.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return a.setTemplate('<div class="ag-header-row '+c+'" role="row"></div>'),a.ctrl=n,a}return fl(i,u),i.prototype.init=function(){var n=this;this.ctrl.setComp({setTransform:function(c){return n.getGui().style.transform=c},setHeight:function(c){return n.getGui().style.height=c},setTop:function(c){return n.getGui().style.top=c},setHeaderCtrls:function(c){return n.setHeaderCtrls(c)},setWidth:function(c){return n.getGui().style.width=c},setAriaRowIndex:function(c){return xa(n.getGui(),c)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(n){var a=this;if(this.isAlive()){var c=this.headerComps;if(this.headerComps={},n.forEach(function(M){var L=M.getInstanceId(),U=c[L];delete c[L],null==U&&(U=a.createHeaderComp(M),a.getGui().appendChild(U.getGui())),a.headerComps[L]=U}),tt(c,function(M,L){a.getGui().removeChild(L.getGui()),a.destroyBean(L)}),this.gridOptionsWrapper.isEnsureDomOrder()){var v=oi(this.headerComps);v.sort(function(M,L){return M.getCtrl().getColumnGroupChild().getLeft()-L.getCtrl().getColumnGroupChild().getLeft()});var C=v.map(function(M){return M.getGui()});F(this.getGui(),C)}}},i.prototype.createHeaderComp=function(n){var a;switch(this.ctrl.getType()){case Ua.COLUMN_GROUP:a=new Kv(n);break;case Ua.FLOATING_FILTER:a=new dc(n);break;default:a=new tp(n)}return this.createBean(a),a.setParentComponent(this),a},Q4([Vt],i.prototype,"init",null),Q4([fn],i.prototype,"destroyHeaderCtrls",null),i}(di),J4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ou=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},js=(()=>(function(u){u[u.UP=0]="UP",u[u.DOWN=1]="DOWN",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT"}(js||(js={})),js))(),fg=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return J4(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridBodyCon=a.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var n=this.ctrlsService.getHeaderRowContainerCtrl();return n?n.getRowCount():0},i.prototype.getHeaderRowType=function(n){var a=this.ctrlsService.getHeaderRowContainerCtrl();if(a)return a.getRowType(n)},i.prototype.navigateVertically=function(n,a,c){if(a||(a=this.focusService.getFocusedHeader()),!a)return!1;var d=a.headerRowIndex,v=a.column,C=this.getHeaderRowCount(),M=n===js.UP,L=M?d-1:d+1,U=null,ce=!1;L<0&&(L=0,U=v,ce=!0),L>=C&&(L=-1);var ye=this.getHeaderRowType(d);if(!ce){if(ye===Ua.COLUMN_GROUP){var it=v;U=M?v.getParent():it.getDisplayedChildren()[0]}else ye===Ua.FLOATING_FILTER?U=v:(it=v,U=M?it.getParent():it);if(!U)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L,column:U},allowUserOverride:!0,event:c})},i.prototype.navigateHorizontally=function(n,a,c){void 0===a&&(a=!1);var M,L,d=this.focusService.getFocusedHeader();return(M=n===js.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(d,L="Before"):this.headerPositionUtils.findHeader(d,L="After"))?this.focusService.focusHeaderPosition({headerPosition:M,direction:L,fromTab:a,allowUserOverride:!0,event:c}):!a||this.focusNextHeaderRow(d,L,c)},i.prototype.focusNextHeaderRow=function(n,a,c){var d=n.headerRowIndex,v=null;return"Before"===a?d>0&&(v=this.headerPositionUtils.findColAtEdgeForHeaderRow(d-1,"end")):v=this.headerPositionUtils.findColAtEdgeForHeaderRow(d+1,"start"),this.focusService.focusHeaderPosition({headerPosition:v,direction:a,fromTab:!0,allowUserOverride:!0,event:c})},i.prototype.scrollToColumn=function(n,a){if(void 0===a&&(a="After"),!n.getPinned()){var c;if(n instanceof Pr){var d=n.getDisplayedLeafColumns();c="Before"===a?ft(d):d[0]}else c=n;this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},ou([oe("focusService")],i.prototype,"focusService",void 0),ou([oe("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),ou([oe("animationFrameService")],i.prototype,"animationFrameService",void 0),ou([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),ou([Vt],i.prototype,"postConstruct",null),ou([mn("headerNavigationService")],i)}(wn),e2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$v=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},P8=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return e2(i,u),i.prototype.setComp=function(n,a,c){this.comp=n,this.eGui=a,this.createManagedBean(new zo(c,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var n=this.setHeaderHeight.bind(this);n(),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_PIVOT_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_GROUP_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_PIVOT_GROUP_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_FLOATING_FILTERS_HEIGHT,n),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,n)},i.prototype.setHeaderHeight=function(){var C,M,L,a=this.columnModel,c=this.gridOptionsWrapper,d=0,v=a.getHeaderRowCount();a.isPivotMode()?(M=c.getPivotGroupHeaderHeight(),L=c.getPivotHeaderHeight()):(a.hasFloatingFilters()&&(v++,d=1),M=c.getGroupHeaderHeight(),L=c.getHeaderHeight());var ye=v-(1+d);C=d*c.getFloatingFiltersHeight(),C+=ye*M,this.comp.setHeightAndMinHeight((C+=L)+1+"px")},i.prototype.onPivotModeChanged=function(){var n=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",n),this.comp.addOrRemoveCssClass("ag-pivot-off",!n)},i.prototype.onTabKeyDown=function(n){var a=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(n.shiftKey!==a?js.LEFT:js.RIGHT,!0,n)||this.focusService.focusNextGridCoreContainer(n.shiftKey))&&n.preventDefault()},i.prototype.handleKeyDown=function(n){var a=null;switch(n.key){case Nn.LEFT:a=js.LEFT;case Nn.RIGHT:se(a)||(a=js.RIGHT),this.headerNavigationService.navigateHorizontally(a,!1,n);break;case Nn.UP:a=js.UP;case Nn.DOWN:se(a)||(a=js.DOWN),this.headerNavigationService.navigateVertically(a,null,n)&&n.preventDefault();break;default:return}},i.prototype.onFocusOut=function(n){var a=this.gridOptionsWrapper.getDocument(),c=n.relatedTarget;!c&&this.eGui.contains(a.activeElement)||this.eGui.contains(c)||this.focusService.clearFocusedHeader()},$v([oe("headerNavigationService")],i.prototype,"headerNavigationService",void 0),$v([oe("focusService")],i.prototype,"focusService",void 0),$v([oe("columnModel")],i.prototype,"columnModel",void 0),$v([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(wn),bf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ud=function(){function u(i,n){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=i,this.eContainer=n,this.centerContainer=!se(i)}return u.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},u.prototype.getIconName=function(){return this.pinned?Pa.ICON_PINNED:Pa.ICON_MOVE},u.prototype.onDragEnter=function(i){var n=i.dragItem.columns;if(i.dragSource.type===Hs.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var c=i.dragItem.visibleState,d=(n||[]).filter(function(v){return c[v.getId()]});this.setColumnsVisible(d,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(i,!0)},u.prototype.onDragLeave=function(i){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!i.fromNudge){var a=i.dragSource.getDragItem();this.setColumnsVisible(a.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},u.prototype.setColumnsVisible=function(i,n,a){if(void 0===a&&(a="api"),i){var c=i.filter(function(d){return!d.getColDef().lockVisible});this.columnModel.setColumnsVisible(c,n,a)}},u.prototype.setColumnsPinned=function(i,n,a){if(void 0===a&&(a="api"),i){var c=i.filter(function(d){return!d.getColDef().lockPinned});this.columnModel.setColumnsPinned(c,n,a)}},u.prototype.onDragStop=function(){this.ensureIntervalCleared()},u.prototype.normaliseX=function(i){return this.gridOptionsWrapper.isEnableRtl()&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},u.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var n=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),a=n+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=i<n+50,this.needToMoveLeft=i>a-50):(this.needToMoveLeft=i<n+50,this.needToMoveRight=i>a-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},u.prototype.onDragging=function(i,n){var a=this;if(void 0===n&&(n=!1),this.lastDraggingEvent=i,!ot(i.hDirection)){var c=this.normaliseX(i.x);n||this.checkCenterForScrolling(c);var d=this.normaliseDirection(i.hDirection),v=i.dragSource.type,C=i.dragSource.getDragItem().columns;C=C.filter(function(M){return!M.getColDef().lockPinned||M.getPinned()==a.pinned}),this.attemptMoveColumns(v,C,d,c,n)}},u.prototype.normaliseDirection=function(i){if(!this.gridOptionsWrapper.isEnableRtl())return i;switch(i){case Gs.Left:return Gs.Right;case Gs.Right:return Gs.Left;default:console.error("AG Grid: Unknown direction "+i)}},u.prototype.calculateOldIndex=function(i){var n=this.columnModel.getAllGridColumns(),a=St(i.map(function(M){return n.indexOf(M)})),c=a[0];return ft(a)-c!=a.length-1?null:c},u.prototype.attemptMoveColumns=function(i,n,a,c,d){var v=a===Gs.Left,C=a===Gs.Right,M=n.slice();this.columnModel.sortColumnsLikeGridColumns(M);var L=this.calculateValidMoves(M,C,c),U=this.calculateOldIndex(M);if(0!==L.length){var ce=L[0],ye=null!==U&&!d;if(i==Hs.HeaderCell&&(ye=null!==U),!ye||!(v&&ce>=U||C&&ce<=U))for(var it=0;it<L.length;it++){var bt=L[it];if(this.columnModel.doesMovePassRules(M,bt))return void this.columnModel.moveColumns(M,bt,"uiColumnDragged")}}},u.prototype.calculateValidMoves=function(i,n,a){if(this.gridOptionsWrapper.isSuppressMovableColumns()||i.some(function(ni){return ni.getColDef().suppressMovable}))return[];var Wt,d=this.columnModel.getDisplayedColumns(this.pinned),v=this.columnModel.getAllGridColumns(),C=d.filter(function(ni){return $r(i,ni)}),M=d.filter(function(ni){return!$r(i,ni)}),L=v.filter(function(ni){return!$r(i,ni)}),U=0,ce=a;if(n){var ye=0;C.forEach(function(ni){return ye+=ni.getActualWidth()}),ce-=ye}if(ce>0){for(var it=0;it<M.length&&!((ce-=M[it].getActualWidth())<0);it++)U++;n&&U++}U>0?Wt=L.indexOf(M[U-1])+1:-1===(Wt=L.indexOf(M[0]))&&(Wt=0);var Kt=[Wt],_n=function(ni,ii){return ni-ii};if(n){for(var An=Wt+1,qn=v.length-1;An<=qn;)Kt.push(An),An++;Kt.sort(_n)}else{qn=v.length-1;for(var Ir=v[An=Wt];An<=qn&&this.isColumnHidden(d,Ir);)An++,Kt.push(An),Ir=v[An];for(An=Wt-1;An>=0;)Kt.push(An),An--;Kt.sort(_n).reverse()}return Kt},u.prototype.isColumnHidden=function(i,n){return i.indexOf(n)<0},u.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Pa.ICON_LEFT:Pa.ICON_RIGHT,!0))},u.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Pa.ICON_MOVE))},u.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var n=null,a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?n=a.scrollHorizontally(-i):this.needToMoveRight&&(n=a.scrollHorizontally(i)),0!==n)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var d=this.lastDraggingEvent.dragItem.columns.filter(function(C){return!C.getColDef().lockPinned});d.length>0&&(this.dragAndDropService.setGhostIcon(Pa.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(d,this.needToMoveLeft?xe.PINNED_LEFT:xe.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},bf([oe("columnModel")],u.prototype,"columnModel",void 0),bf([oe("dragAndDropService")],u.prototype,"dragAndDropService",void 0),bf([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),bf([oe("ctrlsService")],u.prototype,"ctrlsService",void 0),bf([Vt],u.prototype,"init",null),u}(),gg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},t2=function(){function u(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return u.prototype.onDragEnter=function(i){var n=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var a=i.dragItem.columns;!a||a.forEach(function(c){!c.isPrimary()||c.isAnyFunctionActive()||(c.isAllowValue()?n.columnsToAggregate.push(c):c.isAllowRowGroup()?n.columnsToGroup.push(c):c.isAllowPivot()&&n.columnsToPivot.push(c))})}},u.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Pa.ICON_PINNED:Pa.ICON_MOVE:null},u.prototype.onDragLeave=function(i){this.clearColumnsList()},u.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},u.prototype.onDragging=function(i){},u.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},gg([oe("columnModel")],u.prototype,"columnModel",void 0),gg([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),n2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ef=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},au=function(u){function i(n,a){var c=u.call(this)||this;return c.pinned=n,c.eContainer=a,c}return n2(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){switch(n.pinned){case xe.PINNED_LEFT:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.leftRowContainerCtrl.getContainerElement()],[a.bottomLeftRowContainerCtrl.getContainerElement()],[a.topLeftRowContainerCtrl.getContainerElement()]];break;case xe.PINNED_RIGHT:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.rightRowContainerCtrl.getContainerElement()],[a.bottomRightRowContainerCtrl.getContainerElement()],[a.topRightRowContainerCtrl.getContainerElement()]];break;default:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.centerRowContainerCtrl.getViewportElement()],[a.bottomCenterRowContainerCtrl.getViewportElement()],[a.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(n){return n===Hs.HeaderCell||n===Hs.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Ud(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new t2(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(n){return this.columnModel.isPivotMode()&&n.dragSource.type===Hs.ToolPanel},i.prototype.onDragEnter=function(n){this.currentDropListener=this.isDropColumnInPivotMode(n)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(n)},i.prototype.onDragLeave=function(n){this.currentDropListener.onDragLeave(n)},i.prototype.onDragging=function(n){this.currentDropListener.onDragging(n)},i.prototype.onDragStop=function(n){this.currentDropListener.onDragStop(n)},Ef([oe("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ef([oe("columnModel")],i.prototype,"columnModel",void 0),Ef([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Ef([Vt],i.prototype,"postConstruct",null),Ef([Vt],i.prototype,"init",null),i}(wn),su=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r2=0,np=function(u){function i(n,a){var c=u.call(this)||this;return c.lastFocusEvent=null,c.columnGroupChild=n,c.parentRowCtrl=a,c.instanceId=n.getUniqueId()+"-"+r2++,c}return su(i,u),i.prototype.shouldStopEventPropagation=function(n){var a=this.focusService.getFocusedHeader();return Yp(this.gridOptionsWrapper,n,a.headerRowIndex,a.column)},i.prototype.setGui=function(n){this.eGui=n,this.addDomData()},i.prototype.addDomData=function(){var n=this,a=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,a,this),this.addDestroyFunc(function(){return n.gridOptionsWrapper.setDomData(n.eGui,a,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(n){return!!this.eGui&&(this.lastFocusEvent=n||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([oe("focusService")],i.prototype,"focusService",void 0),i}(wn),wi=(()=>(function(u){u[u.SINGLE_SHEET=0]="SINGLE_SHEET",u[u.MULTI_SHEET=1]="MULTI_SHEET"}(wi||(wi={})),wi))(),ls=(()=>(function(u){u.EVERYTHING="group",u.FILTER="filter",u.SORT="sort",u.MAP="map",u.AGGREGATE="aggregate",u.PIVOT="pivot",u.NOTHING="nothing"}(ls||(ls={})),ls))(),Qn=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d};function hc(u){return null!=u&&null!=u.getFrameworkComponentInstance?u.getFrameworkComponentInstance():u}var lu=function(){function u(){this.detailGridInfoMap={},this.destroyCalled=!1}return u.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},u.prototype.registerSideBarComp=function(i){this.sideBarComp=i},u.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case xe.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case xe.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case xe.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},u.prototype.__getAlignedGridService=function(){return this.alignedGridsService},u.prototype.__getContext=function(){return this.context},u.prototype.addDetailGridInfo=function(i,n){this.detailGridInfoMap[i]=n},u.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},u.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},u.prototype.forEachDetailGridInfo=function(i){var n=0;tt(this.detailGridInfoMap,function(a,c){se(c)&&(i(c,n),n++)})},u.prototype.getDataAsCsv=function(i){if(an.assertRegistered(Nt.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},u.prototype.exportDataAsCsv=function(i){an.assertRegistered(Nt.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},u.prototype.getExcelExportMode=function(i){var n=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},n,i).exportMode},u.prototype.getDataAsExcel=function(i){if(an.assertRegistered(Nt.ExcelExportModule,"api.getDataAsExcel")){var n=this.getExcelExportMode(i);return this.excelCreator.getFactoryMode(n)===wi.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(i)}},u.prototype.exportDataAsExcel=function(i){if(an.assertRegistered(Nt.ExcelExportModule,"api.exportDataAsExcel")){var n=this.getExcelExportMode(i);if(this.excelCreator.getFactoryMode(n)===wi.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(i)}},u.prototype.getSheetDataForExcel=function(i){if(an.assertRegistered(Nt.ExcelExportModule,"api.getSheetDataForExcel")){var n=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(wi.MULTI_SHEET,n),this.excelCreator.getSheetDataForExcel(i)}},u.prototype.getMultipleSheetsAsExcel=function(i){if(an.assertRegistered(Nt.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},u.prototype.exportMultipleSheetsAsExcel=function(i){if(an.assertRegistered(Nt.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},u.prototype.setEnterpriseDatasource=function(i){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(i)},u.prototype.setGridAriaProperty=function(i,n){if(i){var a=this.ctrlsService.getGridBodyCtrl().getGui(),c="aria-"+i;null===n?a.removeAttribute(c):a.setAttribute(c,n)}},u.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+xe.ROW_MODEL_TYPE_SERVER_SIDE+"'")},u.prototype.setDatasource=function(i){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(i):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+xe.ROW_MODEL_TYPE_INFINITE+"'")},u.prototype.setViewportDatasource=function(i){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(i):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+xe.ROW_MODEL_TYPE_VIEWPORT+"'")},u.prototype.setRowData=function(i){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(i):(this.selectionService.reset(),this.clientSideRowModel.setRowData(i))},u.prototype.setFloatingTopRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(i)},u.prototype.setFloatingBottomRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(i)},u.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},u.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},u.prototype.getFloatingTopRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(i)},u.prototype.getFloatingBottomRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(i)},u.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},u.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},u.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},u.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},u.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},u.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},u.prototype.setColumnDefs=function(i,n){void 0===n&&(n="api"),this.columnModel.setColumnDefs(i,n)},u.prototype.setAutoGroupColumnDef=function(i,n){void 0===n&&(n="api"),this.gridOptionsWrapper.setProperty("autoGroupColumnDef",i,!0)},u.prototype.setDefaultColDef=function(i,n){void 0===n&&(n="api"),this.gridOptionsWrapper.setProperty("defaultColDef",i,!0)},u.prototype.expireValueCache=function(){this.valueCache.expire()},u.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},u.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},u.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",i)},u.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",i)},u.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},u.prototype.refreshCells=function(i){void 0===i&&(i={}),Array.isArray(i)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(i)},u.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},u.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},u.prototype.setFunctionsReadOnly=function(i){this.gridOptionsWrapper.setProperty("functionsReadOnly",i)},u.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},u.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},u.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},u.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},u.prototype.getModel=function(){return this.rowModel},u.prototype.setRowNodeExpanded=function(i,n){i&&i.setExpanded(n)},u.prototype.onGroupExpandedOrCollapsed=function(i){ot(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),se(i)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ls.MAP})},u.prototype.refreshInMemoryRowModel=function(i){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(i)},u.prototype.refreshClientSideRowModel=function(i){ot(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var n=ls.EVERYTHING,a={group:ls.EVERYTHING,filter:ls.FILTER,map:ls.MAP,aggregate:ls.AGGREGATE,sort:ls.SORT,pivot:ls.PIVOT};if(se(i)&&(n=a[i]),ot(n))console.error("AG Grid: invalid step "+i+", available steps are "+Object.keys(a).join(", "));else{var c=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:c})}},u.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},u.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},u.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},u.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},u.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.getToolPanelInstance=function(i){if(this.sideBarComp)return hc(this.sideBarComp.getToolPanelInstance(i));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.addVirtualRowListener=function(i,n,a){"string"!=typeof i&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(i,n,a)},u.prototype.addRenderedRowListener=function(i,n,a){"virtualRowSelected"===i&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(i,n,a)},u.prototype.setQuickFilter=function(i){this.filterManager.setQuickFilter(i)},u.prototype.selectIndex=function(i,n,a){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),a&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(i,n)},u.prototype.deselectIndex=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(i)},u.prototype.selectNode=function(i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),a&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!0,clearSelection:!n})},u.prototype.deselectNode=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!1})},u.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},u.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},u.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},u.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},u.prototype.recomputeAggregates=function(){ot(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ls.AGGREGATE})},u.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},u.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},u.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},u.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},u.prototype.isNodeSelected=function(i){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),i.isSelected()},u.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},u.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},u.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},u.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},u.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},u.prototype.ensureColIndexVisible=function(i){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},u.prototype.ensureColumnVisible=function(i,n){void 0===n&&(n="auto"),this.gridBodyCon.getScrollFeature().ensureColumnVisible(i,n)},u.prototype.ensureIndexVisible=function(i,n){this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n)},u.prototype.ensureNodeVisible=function(i,n){void 0===n&&(n=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(i,n)},u.prototype.forEachLeafNode=function(i){ot(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(i)},u.prototype.forEachNode=function(i){this.rowModel.forEachNode(i)},u.prototype.forEachNodeAfterFilter=function(i){ot(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(i)},u.prototype.forEachNodeAfterFilterAndSort=function(i){ot(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},u.prototype.getFilterInstance=function(i,n){var a=this.getFilterInstanceImpl(i,function(d){if(n){var v=hc(d);n(v)}});return hc(a)},u.prototype.getFilterInstanceImpl=function(i,n){var a=this.columnModel.getPrimaryColumn(i);if(a){var c=this.filterManager.getFilterComponent(a,"NO_UI"),d=c&&c.resolveNow(null,function(v){return v});return d?setTimeout(n,0,d):c&&c.then(function(v){n(v)}),d}},u.prototype.destroyFilter=function(i){var n=this.columnModel.getPrimaryColumn(i);if(n)return this.filterManager.destroyFilter(n,"filterDestroyed")},u.prototype.getStatusPanel=function(i){if(this.statusBarService)return hc(this.statusBarService.getStatusPanel(i))},u.prototype.getColumnDef=function(i){var n=this.columnModel.getPrimaryColumn(i);return n?n.getColDef():null},u.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},u.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},u.prototype.onSortChanged=function(){this.sortController.onSortChanged()},u.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},u.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},u.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},u.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},u.prototype.setFocusedCell=function(i,n,a){this.focusService.setFocusedCell(i,n,a,!0)},u.prototype.setSuppressRowDrag=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_SUPPRESS_ROW_DRAG,i)},u.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,i)},u.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_SUPPRESS_ROW_CLICK_SELECTION,i)},u.prototype.addRowDropZone=function(i){this.gridBodyCon.getRowDragFeature().addRowDropZone(i)},u.prototype.removeRowDropZone=function(i){var n=this.dragAndDropService.findExternalZone(i);n&&this.dragAndDropService.removeDropTarget(n)},u.prototype.getRowDropZoneParams=function(i){return this.gridBodyCon.getRowDragFeature().getRowDropZone(i)},u.prototype.setHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_HEADER_HEIGHT,i)},u.prototype.setDomLayout=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_DOM_LAYOUT,i)},u.prototype.setEnableCellTextSelection=function(i){this.gridBodyCon.setCellTextSelection(i)},u.prototype.setFillHandleDirection=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_FILL_HANDLE_DIRECTION,i)},u.prototype.setGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GROUP_HEADER_HEIGHT,i)},u.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_FLOATING_FILTERS_HEIGHT,i)},u.prototype.setPivotHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PIVOT_HEADER_HEIGHT,i)},u.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PIVOT_GROUP_HEADER_HEIGHT,i)},u.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_EXTERNAL_FILTER_PRESENT,i)},u.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_DOES_EXTERNAL_FILTER_PASS,i)},u.prototype.setNavigateToNextCell=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_NAVIGATE_TO_NEXT_CELL,i)},u.prototype.setTabToNextCell=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_TAB_TO_NEXT_CELL,i)},u.prototype.setTabToNextHeader=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_TAB_TO_NEXT_HEADER,i)},u.prototype.setNavigateToNextHeader=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_NAVIGATE_TO_NEXT_HEADER,i)},u.prototype.setGroupRowAggNodes=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GROUP_ROW_AGG_NODES,i)},u.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_BUSINESS_KEY_FOR_NODE,i)},u.prototype.setGetChildCount=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_CHILD_COUNT,i)},u.prototype.setProcessRowPostCreate=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PROCESS_ROW_POST_CREATE,i)},u.prototype.setGetRowNodeId=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_ROW_NODE_ID,i)},u.prototype.setGetRowClass=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_ROW_CLASS,i)},u.prototype.setIsFullWidthCell=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_FULL_WIDTH_CELL,i)},u.prototype.setIsRowSelectable=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_ROW_SELECTABLE,i)},u.prototype.setIsRowMaster=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_ROW_MASTER,i)},u.prototype.setPostSort=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_POST_SORT,i)},u.prototype.setGetDocument=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_DOCUMENT,i)},u.prototype.setGetContextMenuItems=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_CONTEXT_MENU_ITEMS,i)},u.prototype.setGetMainMenuItems=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_MAIN_MENU_ITEMS,i)},u.prototype.setProcessCellForClipboard=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PROCESS_CELL_FOR_CLIPBOARD,i)},u.prototype.setSendToClipboard=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_SEND_TO_CLIPBOARD,i)},u.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PROCESS_CELL_FROM_CLIPBOARD,i)},u.prototype.setProcessSecondaryColDef=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PROCESS_TO_SECONDARY_COLDEF,i)},u.prototype.setProcessSecondaryColGroupDef=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,i)},u.prototype.setPostProcessPopup=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_POST_PROCESS_POPUP,i)},u.prototype.setDefaultGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,i)},u.prototype.setGetChartToolbarItems=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_CHART_TOOLBAR_ITEMS,i)},u.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_PAGINATION_NUMBER_FORMATTER,i)},u.prototype.setGetServerSideStoreParams=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_SERVER_SIDE_STORE_PARAMS,i)},u.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,i)},u.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,i)},u.prototype.setIsServerSideGroup=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_IS_SERVER_SIDE_GROUP,i)},u.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_SERVER_SIDE_GROUP_KEY,i)},u.prototype.setGetRowStyle=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_ROW_STYLE,i)},u.prototype.setGetRowHeight=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GET_ROW_HEIGHT,i)},u.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},u.prototype.setSideBarVisible=function(i){this.sideBarComp?this.sideBarComp.setDisplayed(i):i&&console.warn("AG Grid: sideBar is not loaded")},u.prototype.setSideBarPosition=function(i){this.sideBarComp?this.sideBarComp.setSideBarPosition(i):console.warn("AG Grid: sideBar is not loaded")},u.prototype.openToolPanel=function(i){this.sideBarComp?this.sideBarComp.openToolPanel(i):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},u.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},u.prototype.setSideBar=function(i){this.gridOptionsWrapper.setProperty("sideBar",ws.parse(i))},u.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_SUPPRESS_CLIPBOARD_PASTE,i)},u.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},u.prototype.doLayout=function(){ue(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},u.prototype.resetRowHeights=function(){if(se(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},u.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i)},u.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i)},u.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},u.prototype.getValue=function(i,n){var a=this.columnModel.getPrimaryColumn(i);return ot(a)&&(a=this.columnModel.getGridColumn(i)),ot(a)?null:this.valueService.getValue(a,n)},u.prototype.addEventListener=function(i,n){var a=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(i,n,a)},u.prototype.addGlobalListener=function(i){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(i,n)},u.prototype.removeEventListener=function(i,n){var a=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(i,n,a)},u.prototype.removeGlobalListener=function(i){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(i,n)},u.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},u.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Mi.bind(window,this,"Grid API"),100)},u.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},u.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},u.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},u.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},u.prototype.camelCaseToHumanReadable=function(i){return Na(i)},u.prototype.addRangeSelection=function(i){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},u.prototype.addCellRange=function(i){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(i)},u.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},u.prototype.undoCellEditing=function(){this.undoRedoService.undo()},u.prototype.redoCellEditing=function(){this.undoRedoService.redo()},u.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},u.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},u.prototype.getChartModels=function(){if(an.assertRegistered(Nt.RangeSelectionModule,"api.getChartModels")&&an.assertRegistered(Nt.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},u.prototype.getChartRef=function(i){if(an.assertRegistered(Nt.RangeSelectionModule,"api.getChartRef")&&an.assertRegistered(Nt.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},u.prototype.getChartImageDataURL=function(i){if(an.assertRegistered(Nt.RangeSelectionModule,"api.getChartImageDataURL")&&an.assertRegistered(Nt.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},u.prototype.createRangeChart=function(i){if(an.assertRegistered(Nt.RangeSelectionModule,"api.createRangeChart")&&an.assertRegistered(Nt.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},u.prototype.createCrossFilterChart=function(i){if(an.assertRegistered(Nt.RangeSelectionModule,"api.createCrossFilterChart")&&an.assertRegistered(Nt.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},u.prototype.restoreChart=function(i,n){if(an.assertRegistered(Nt.RangeSelectionModule,"api.restoreChart")&&an.assertRegistered(Nt.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,n)},u.prototype.createPivotChart=function(i){if(an.assertRegistered(Nt.RangeSelectionModule,"api.createPivotChart")&&an.assertRegistered(Nt.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},u.prototype.copySelectedRowsToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(i)},u.prototype.copySelectedRangeToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(i)},u.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},u.prototype.showColumnMenuAfterButtonClick=function(i,n){var a=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(a,n,"columnMenu")},u.prototype.showColumnMenuAfterMouseClick=function(i,n){var a=this.columnModel.getGridColumn(i);a||(a=this.columnModel.getPrimaryColumn(i)),a?this.menuFactory.showMenuAfterMouseEvent(a,n):console.error("AG Grid: column '"+i+"' not found")},u.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},u.prototype.setPopupParent=function(i){this.gridOptionsWrapper.setProperty(lr.PROP_POPUP_PARENT,i)},u.prototype.tabToNextCell=function(i){return this.navigationService.tabToNextCell(!1,i)},u.prototype.tabToPreviousCell=function(i){return this.navigationService.tabToNextCell(!0,i)},u.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(hc)},u.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(hc)},u.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},u.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},u.prototype.startEditingCell=function(i){var n=this.columnModel.getGridColumn(i.colKey);if(n){var a={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:n};null==i.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i.rowIndex);var d=this.navigationService.getCellByPosition(a);!d||d.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},u.prototype.addAggFunc=function(i,n){this.aggFuncService&&this.aggFuncService.addAggFunc(i,n)},u.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},u.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},u.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyServerSideTransactionAsync=function(i,n){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,n);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},u.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var n=this.clientSideRowModel.updateRowData(i);return this.rowRenderer.refreshFullWidthRows(n.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),n}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},u.prototype.updateRowData=function(i){return ue(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(i)},u.prototype.applyTransactionAsync=function(i,n){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,n):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.batchUpdateRowData=function(i,n){ue(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(i,n)},u.prototype.insertItemsAtIndex=function(i,n,a){void 0===a&&(a=!1),console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:n,addIndex:i,update:null,remove:null})},u.prototype.removeItems=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var a=i.map(function(c){return c.data});this.updateRowData({add:null,addIndex:null,update:null,remove:a})},u.prototype.addItems=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:null,update:null,remove:null})},u.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},u.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},u.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeEnterpriseCache=function(i){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(i)},u.prototype.purgeServerSideCache=function(i){void 0===i&&(i=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:i,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},u.prototype.refreshServerSideStore=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},u.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},u.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},u.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},u.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},u.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},u.prototype.setVirtualRowCount=function(i,n){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(i,n)},u.prototype.setInfiniteRowCount=function(i,n){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(i,n)},u.prototype.setRowCount=function(i,n){this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,n):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},u.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},u.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},u.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},u.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},u.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},u.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},u.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},u.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},u.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},u.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},u.prototype.paginationSetPageSize=function(i){this.gridOptionsWrapper.setProperty("paginationPageSize",i)},u.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},u.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},u.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},u.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},u.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},u.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},u.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},u.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},Qn([er("immutableService")],u.prototype,"immutableService",void 0),Qn([er("csvCreator")],u.prototype,"csvCreator",void 0),Qn([er("excelCreator")],u.prototype,"excelCreator",void 0),Qn([oe("rowRenderer")],u.prototype,"rowRenderer",void 0),Qn([oe("navigationService")],u.prototype,"navigationService",void 0),Qn([oe("filterManager")],u.prototype,"filterManager",void 0),Qn([oe("columnModel")],u.prototype,"columnModel",void 0),Qn([oe("selectionService")],u.prototype,"selectionService",void 0),Qn([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Qn([oe("valueService")],u.prototype,"valueService",void 0),Qn([oe("alignedGridsService")],u.prototype,"alignedGridsService",void 0),Qn([oe("eventService")],u.prototype,"eventService",void 0),Qn([oe("pinnedRowModel")],u.prototype,"pinnedRowModel",void 0),Qn([oe("context")],u.prototype,"context",void 0),Qn([oe("rowModel")],u.prototype,"rowModel",void 0),Qn([oe("sortController")],u.prototype,"sortController",void 0),Qn([oe("paginationProxy")],u.prototype,"paginationProxy",void 0),Qn([oe("focusService")],u.prototype,"focusService",void 0),Qn([oe("dragAndDropService")],u.prototype,"dragAndDropService",void 0),Qn([er("rangeService")],u.prototype,"rangeService",void 0),Qn([er("clipboardService")],u.prototype,"clipboardService",void 0),Qn([er("aggFuncService")],u.prototype,"aggFuncService",void 0),Qn([oe("menuFactory")],u.prototype,"menuFactory",void 0),Qn([er("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),Qn([oe("valueCache")],u.prototype,"valueCache",void 0),Qn([oe("animationFrameService")],u.prototype,"animationFrameService",void 0),Qn([er("statusBarService")],u.prototype,"statusBarService",void 0),Qn([er("chartService")],u.prototype,"chartService",void 0),Qn([er("undoRedoService")],u.prototype,"undoRedoService",void 0),Qn([er("rowNodeBlockLoader")],u.prototype,"rowNodeBlockLoader",void 0),Qn([er("ssrmTransactionManager")],u.prototype,"serverSideTransactionManager",void 0),Qn([oe("ctrlsService")],u.prototype,"ctrlsService",void 0),Qn([er("frameworkComponentWrapper")],u.prototype,"frameworkComponentWrapper",void 0),Qn([Vt],u.prototype,"init",null),Qn([fn],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Qn([mn("gridApi")],u)}(),vg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pc=function(u){function i(n,a,c,d){var v=u.call(this)||this;return v.columnOrGroup=n,v.eCell=a,v.ariaEl=v.eCell.querySelector("[role=columnheader]")||v.eCell,v.colsSpanning=d,v.beans=c,v}return vg(i,u),i.prototype.setColsSpanning=function(n){this.colsSpanning=n,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ft(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Dt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var n=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),a=se(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&a&&!n?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var n=this,a=this.getColumnOrGroup(),c=a.getLeft(),d=a.getOldLeft(),v=this.modifyLeftForPrintLayout(a,d),C=this.modifyLeftForPrintLayout(a,c);this.setLeft(v),this.actualLeft=C,this.beans.columnAnimationService.executeNextVMTurn(function(){n.actualLeft===C&&n.setLeft(C)})},i.prototype.onLeftChanged=function(){var n=this.getColumnOrGroup(),a=n.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(n,a),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(n,a){if(this.beans.gridOptionsWrapper.getDomLayout()!==xe.DOM_LAYOUT_PRINT||n.getPinned()===xe.PINNED_LEFT)return a;var d=this.beans.columnModel.getDisplayedColumnsLeftWidth();return n.getPinned()===xe.PINNED_RIGHT?d+this.beans.columnModel.getBodyContainerWidth()+a:d+a},i.prototype.setLeft=function(n){var a;if(se(n)&&(this.eCell.style.left=n+"px"),this.columnOrGroup instanceof Dt)a=this.columnOrGroup;else{var d=this.columnOrGroup.getLeafColumns();if(!d.length)return;d.length>1&&xo(this.ariaEl,d.length),a=d[0]}var v=this.beans.columnModel.getAriaColumnIndex(a);ll(this.ariaEl,v)},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(wn),Xv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},mg=function(u){function i(n,a){var c=u.call(this)||this;return c.columns=n,c.element=a,c}return Xv(i,u),i.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},gl([oe("columnHoverService")],i.prototype,"columnHoverService",void 0),gl([Vt],i.prototype,"postConstruct",null),i}(wn),qu=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ul=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Yd=function(u){function i(n,a){var c=u.call(this,n,a)||this;return c.column=n,c}return qu(i,u),i.prototype.setComp=function(n,a,c,d){u.prototype.setGui.call(this,a),this.comp=n,this.eButtonShowMainFilter=c,this.eFloatingFilterBody=d;var v=this.column.getColDef();this.active=!(!v.filter&&!v.filterFramework||!v.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},i.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var n=io("filter",this.gridOptionsWrapper,this.column);n&&this.eButtonShowMainFilter.appendChild(n)}},i.prototype.setupFocus=function(){this.createManagedBean(new zo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(n){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var v=this.focusService.findNextFocusableElement(this.eGui,null,n.shiftKey);if(v)return this.beans.headerNavigationService.scrollToColumn(this.column),n.preventDefault(),void v.focus();var C=this.findNextColumnWithFloatingFilter(n.shiftKey);!C||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:C},event:n})&&n.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(n){var a=this.beans.columnModel,c=this.column;do{if(!(c=n?a.getDisplayedColBefore(c):a.getDisplayedColAfter(c)))break}while(!c.getColDef().filter||!c.getColDef().floatingFilter);return c},i.prototype.handleKeyDown=function(n){var d=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(n.key){case Nn.UP:case Nn.DOWN:d||n.preventDefault();case Nn.LEFT:case Nn.RIGHT:if(d)return;n.stopPropagation();case Nn.ENTER:d&&this.focusService.focusInto(this.eGui)&&n.preventDefault();break;case Nn.ESCAPE:d||this.eGui.focus()}},i.prototype.onFocusIn=function(n){if(!this.eGui.contains(n.relatedTarget)){var c=!!n.relatedTarget&&!n.relatedTarget.classList.contains("ag-floating-filter"),d=!!n.relatedTarget&&es(n.relatedTarget,"ag-floating-filter");if(c&&d&&n.target===this.eGui){var v=this.lastFocusEvent;v&&v&&v.key===Nn.TAB&&this.focusService.focusInto(this.eGui,v.shiftKey)}var L=this.getRowIndex();this.beans.focusService.setFocusedHeader(L,this.column)}},i.prototype.setupHover=function(){var n=this;this.createManagedBean(new mg([this.column],this.eGui));var a=function(){if(n.gridOptionsWrapper.isColumnHoverHighlight()){var c=n.columnHoverService.isHovered(n.column);n.comp.addOrRemoveCssClass("ag-column-hover",c)}};this.addManagedListener(this.eventService,qe.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupLeft=function(){var n=new pc(this.column,this.eGui,this.beans);this.createManagedBean(n)},i.prototype.setupUserComp=function(){var n=this;if(this.active){var a=this.column.getColDef(),c=this.filterManager.createFilterParams(this.column,a),d=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,Hd,c),v=this.userComponentFactory.getDefaultFloatingFilterType(a);null==v&&(v="agReadOnlyFloatingFilter");var C={api:this.gridApi,column:this.column,filterParams:d,currentParentModel:function(){return n.currentParentModel()},parentFilterInstance:function(L){return n.parentFilterInstance(L)},showParentFilter:function(){return n.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!a.floatingFilterComponentParams&&!!a.floatingFilterComponentParams.suppressFilterButton;var M=this.userComponentFactory.getFloatingFilterCompDetails(a,C,v);M&&this.comp.setCompDetails(M)}},i.prototype.currentParentModel=function(){var n=this.getFilterComponent(!1);return n?n.resolveNow(null,function(a){return a&&a.getModel()}):null},i.prototype.getFilterComponent=function(n){return void 0===n&&(n=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",n)},i.prototype.parentFilterInstance=function(n){var a=this.getFilterComponent();null!=a&&a.then(function(c){n(hc(c))})},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var n=this;if(this.active){var a=function(c){var d=n.comp.getFloatingFilterComp();if(d){var v=n.currentParentModel();d.then(function(C){C&&C.onParentModelChanged(v,c)})}};this.addManagedListener(this.column,Dt.EVENT_FILTER_CHANGED,a),this.filterManager.isFilterActive(this.column)&&a(null)}},i.prototype.setupWidth=function(){var n=this,a=function(){var c=n.column.getActualWidth()+"px";n.comp.setWidth(c)};this.addManagedListener(this.column,Dt.EVENT_WIDTH_CHANGED,a),a()},Ul([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Ul([oe("filterManager")],i.prototype,"filterManager",void 0),Ul([oe("columnHoverService")],i.prototype,"columnHoverService",void 0),Ul([oe("gridApi")],i.prototype,"gridApi",void 0),Ul([oe("menuFactory")],i.prototype,"menuFactory",void 0),Ul([oe("beans")],i.prototype,"beans",void 0),i}(np),rp=function(){function u(){}return u.getHeaderClassesFromColDef=function(i,n,a,c){return ot(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,n,a,c)},u.getToolPanelClassesFromColDef=function(i,n,a,c){return ot(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,n,a,c)},u.getClassParams=function(i,n,a,c){return{colDef:i,column:a,columnGroup:c,context:n.getContext(),api:n.getApi()}},u.getColumnClassesFromCollDef=function(i,n,a,c,d){return ot(i)?[]:"string"==typeof(v="function"==typeof i?i(this.getClassParams(n,a,c,d)):i)?[v]:Array.isArray(v)?v:[];var v},u}(),Kd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$d=function(u){function i(n,a,c,d,v){var C=u.call(this)||this;return C.pinned=n,C.column=a,C.eResize=c,C.comp=d,C.ctrl=v,C}return Kd(i,u),i.prototype.postConstruct=function(){var d,v,n=this,a=this.column.getColDef(),c=[],M=function(){c.forEach(function(U){return U()}),c.length=0},L=function(){var U=n.column.isResizable(),ce=!n.gridOptionsWrapper.isSuppressAutoSize()&&!a.suppressAutoSize;(U!==d||ce!==v)&&(d=U,v=ce,M(),function(){if(Ar(n.eResize,d),d){var U=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(c.push(U),v){var ce=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),ye=function(){n.columnModel.autoSizeColumn(n.column,ce,"uiColumnResized")};n.eResize.addEventListener("dblclick",ye);var it=new _s(n.eResize);it.addEventListener(_s.EVENT_DOUBLE_TAP,ye),n.addDestroyFunc(function(){n.eResize.removeEventListener("dblclick",ye),it.removeEventListener(_s.EVENT_DOUBLE_TAP,ye),it.destroy()})}}}())};L(),this.addDestroyFunc(M),this.ctrl.addRefreshFunction(L)},i.prototype.onResizing=function(n,a){var c=this.normaliseResizeAmount(a);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+c}],this.resizeWithShiftKey,n,"uiColumnDragged"),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(n){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=n,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(n){var a=n,c=this.pinned!==xe.PINNED_LEFT,d=this.pinned===xe.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?c&&(a*=-1):d&&(a*=-1),a},Xu([oe("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Xu([oe("columnModel")],i.prototype,"columnModel",void 0),Xu([Vt],i.prototype,"postConstruct",null),i}(wn),o2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cu=function(u){function i(n,a,c){void 0===a&&(a="ag-checkbox"),void 0===c&&(c="checkbox");var d=u.call(this,n,a,c)||this;return d.labelAlignment="right",d.selected=!1,d.readOnly=!1,d.passive=!1,d}return o2(i,u),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(n){this.passive=n},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(n){this.eWrapper.classList.toggle("ag-disabled",n),this.eInput.disabled=n,this.readOnly=n},i.prototype.setDisabled=function(n){return this.eWrapper.classList.toggle("ag-disabled",n),u.prototype.setDisabled.call(this,n)},i.prototype.toggle=function(){if(!this.eInput.disabled){var n=this.isSelected(),a=this.getNextValue();this.passive?this.dispatchChange(a,n):this.setValue(a)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(n,a){return this.refreshSelectedClass(n),this.setSelected(n,a),this},i.prototype.setName=function(n){return this.getInputElement().name=n,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(n,a){this.isSelected()!==n&&(this.previousValue=this.isSelected(),n=this.selected="boolean"==typeof n?n:void 0,this.eInput.checked=n,this.eInput.indeterminate=void 0===n,a||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(n,a,c){this.dispatchEvent({type:i.EVENT_CHANGED,selected:n,previousValue:a,event:c});var d=this.getInputElement();this.eventService.dispatchEvent({type:qe.EVENT_CHECKBOX_CHANGED,id:d.id,name:d.name,selected:n,previousValue:a})},i.prototype.onCheckboxClick=function(n){if(!this.passive&&!this.eInput.disabled){var a=this.isSelected(),c=this.selected=n.target.checked;this.refreshSelectedClass(c),this.dispatchChange(c,a,n)}},i.prototype.refreshSelectedClass=function(n){this.eWrapper.classList.toggle("ag-checked",!0===n),this.eWrapper.classList.toggle("ag-indeterminate",null==n)},i}(ic),yg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Of=function(u){function i(n){var a=u.call(this)||this;a.cbSelectAllVisible=!1,a.processingEventFromCheckbox=!1,a.column=n;var c=n.getColDef();return a.filteredOnly=!!c&&!!c.headerCheckboxSelectionFilteredOnly,a}return yg(i,u),i.prototype.onSpaceKeyPressed=function(n){var a=this.cbSelectAll,c=this.gridOptionsWrapper.getDocument();a.isDisplayed()&&!a.getGui().contains(c.activeElement)&&(n.preventDefault(),a.setValue(!a.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(n){this.comp=n,this.cbSelectAll=this.createManagedBean(new cu),this.cbSelectAll.addCssClass("ag-header-select-all"),Xi(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,cu.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},i.prototype.refreshHeaderAriaDescribedBy=function(n){var a=n?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(a)},i.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.getNextCheckboxState=function(n){return(0!==n.selected||0!==n.notSelected)&&(n.selected>0&&n.notSelected>0?null:n.selected>0)},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var n=this.getSelectionCount(),a=this.getNextCheckboxState(n);this.cbSelectAll.setValue(a),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.cbSelectAll.getValue()?n("ariaChecked","checked"):n("ariaUnchecked","unchecked"),d=n("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(d+" ("+c+")")},i.prototype.getSelectionCount=function(){var n=this,a=0,c=0,d=function(v){n.gridOptionsWrapper.isGroupSelectsChildren()&&v.group||(v.isSelected()?a++:v.selectable&&c++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(d):this.gridApi.forEachNode(d),{notSelected:c,selected:a}},i.prototype.checkRightRowModelType=function(){var n=this.rowModel.getType();n===xe.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+n)},i.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},i.prototype.isCheckboxSelection=function(){var n=this.column.getColDef().headerCheckboxSelection;return"function"==typeof n&&(n=n({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!n||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Zu([oe("gridApi")],i.prototype,"gridApi",void 0),Zu([oe("columnApi")],i.prototype,"columnApi",void 0),Zu([oe("rowModel")],i.prototype,"rowModel",void 0),Zu([oe("selectionService")],i.prototype,"selectionService",void 0),i}(wn),Zv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Us=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},a2=function(u){function i(n,a){var c=u.call(this,n,a)||this;return c.refreshFunctions=[],c.userHeaderClasses=new Set,c.column=n,c}return Zv(i,u),i.prototype.setComp=function(n,a,c){var d=this;u.prototype.setGui.call(this,a),this.comp=n,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new $d(this.getPinned(),this.column,c,n,this)),this.createManagedBean(new mg([this.column],a)),this.createManagedBean(new pc(this.column,a,this.beans)),this.createManagedBean(new zo(a,{shouldStopEventPropagation:function(v){return d.shouldStopEventPropagation(v)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},i.prototype.setupUserComp=function(){var n=this.lookupUserCompDetails();this.setCompDetails(n)},i.prototype.setCompDetails=function(n){this.userCompDetails=n,this.comp.setUserCompDetails(n)},i.prototype.lookupUserCompDetails=function(){var n=this.createParams(),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,n)},i.prototype.createParams=function(){var n=this,a=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:a.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(d){n.gridApi.showColumnMenuAfterButtonClick(n.column,d)},progressSort:function(d){n.sortController.progressSort(n.column,!!d,"uiColumnSorted")},setSort:function(d,v){n.sortController.setSortForColumn(n.column,d,!!v,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Of(this.column)),this.selectAllFeature.setComp(this.comp)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(n){n.key===Nn.SPACE&&this.selectAllFeature.onSpaceKeyPressed(n),n.key===Nn.ENTER&&this.onEnterKeyPressed(n)},i.prototype.onEnterKeyPressed=function(n){var a=this.comp.getUserCompInstance();a&&(n.ctrlKey||n.metaKey?this.menuEnabled&&a.showMenu&&(n.preventDefault(),a.showMenu()):this.sortable&&this.sortController.progressSort(this.column,n.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(n){if(!this.getGui().contains(n.relatedTarget)){var a=this.getRowIndex();this.focusService.setFocusedHeader(a,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(n){this.getGui().contains(n.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var n=this,c=this.createManagedBean(new Yh({getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getGui:function(){return n.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return n.column.getColDef().headerTooltip}},this.beans));c.setComp(this.comp),this.refreshFunctions.push(function(){return c.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var n=this,a=function(){var c=n.column.getColDef(),v=rp.getHeaderClassesFromColDef(c,n.gridOptionsWrapper,n.column,null),C=n.userHeaderClasses;n.userHeaderClasses=new Set(v),v.forEach(function(M){C.has(M)?C.delete(M):n.comp.addOrRemoveCssClass(M,!0)}),C.forEach(function(M){return n.comp.addOrRemoveCssClass(M,!1)})};this.refreshFunctions.push(a),a()},i.prototype.setDragSource=function(n){var a=this;this.dragSourceElement=n,this.removeDragSource(),n&&(!this.draggable||(this.moveDragSource={type:Hs.HeaderCell,eElement:n,defaultIconName:Pa.ICON_HIDE,getDragItem:function(){return a.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return a.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return a.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},i.prototype.createDragItem=function(){var n={};return n[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:n}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onNewColumnsLoaded=function(){var n=this.columnModel.getColDefVersion();n!=this.colDefVersion&&(this.colDefVersion=n,this.refresh())},i.prototype.updateState=function(){var n=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!n.suppressMenu,this.sortable=n.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(n){this.refreshFunctions.push(n)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(n){return n()})},i.prototype.refreshHeaderComp=function(){var n=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==n.componentClass&&this.attemptHeaderCompRefresh(n.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(n)},i.prototype.attemptHeaderCompRefresh=function(n){var a=this.comp.getUserCompInstance();return!(!a||!a.refresh)&&a.refresh(n)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var n=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||n.suppressMovable||n.lockPosition)||!!n.enableRowGroup||!!n.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var n=this,a=function(){n.comp.setWidth(n.column.getActualWidth()+"px")};this.addManagedListener(this.column,Dt.EVENT_WIDTH_CHANGED,a),a()},i.prototype.setupMovingCss=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-moving",n.column.isMoving())};this.addManagedListener(this.column,Dt.EVENT_MOVING_CHANGED,a),a()},i.prototype.setupMenuClass=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-column-menu-visible",n.column.isMenuVisible())};this.addManagedListener(this.column,Dt.EVENT_MENU_VISIBLE_CHANGED,a),a()},i.prototype.setupSortableClass=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!n.sortable)},c=function(){n.comp.setAriaSort(n.sortable?ns(n.column):void 0)};a(),c(),this.addRefreshFunction(a),this.addRefreshFunction(c),this.addManagedListener(this.column,Dt.EVENT_SORT_CHANGED,c)},i.prototype.addColumnHoverListener=function(){var n=this,a=function(){if(n.gridOptionsWrapper.isColumnHoverHighlight()){var c=n.columnHoverService.isHovered(n.column);n.comp.addOrRemoveCssClass("ag-column-hover",c)}};this.addManagedListener(this.eventService,qe.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupFilterCss=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-filtered",n.column.isFilterActive())};this.addManagedListener(this.column,Dt.EVENT_FILTER_ACTIVE_CHANGED,a),a()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var n=this,a=function(c){return n.setActiveHeader("mouseenter"===c.type)};this.addManagedListener(this.getGui(),"mouseenter",a),this.addManagedListener(this.getGui(),"mouseleave",a)},i.prototype.setActiveHeader=function(n){this.comp.addOrRemoveCssClass("ag-header-active",n)},Us([oe("columnModel")],i.prototype,"columnModel",void 0),Us([oe("columnHoverService")],i.prototype,"columnHoverService",void 0),Us([oe("beans")],i.prototype,"beans",void 0),Us([oe("sortController")],i.prototype,"sortController",void 0),Us([oe("menuFactory")],i.prototype,"menuFactory",void 0),Us([oe("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Us([oe("gridApi")],i.prototype,"gridApi",void 0),Us([oe("columnApi")],i.prototype,"columnApi",void 0),Us([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Us([fn],i.prototype,"removeDragSource",null),i}(np),Cg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_g=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Qu=function(u){function i(n,a,c,d){var v=u.call(this)||this;return v.eResize=a,v.comp=n,v.pinned=c,v.columnGroup=d,v}return Cg(i,u),i.prototype.postConstruct=function(){var n=this;if(this.columnGroup.isResizable()){var a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(a),!this.gridOptionsWrapper.isSuppressAutoSize()){var c=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var d=[];n.columnGroup.getDisplayedLeafColumns().forEach(function(C){C.getColDef().suppressAutoSize||d.push(C.getColId())}),d.length>0&&n.columnModel.autoSizeColumns({columns:d,skipHeader:c,stopAtGroup:n.columnGroup,source:"uiColumnResized"}),n.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},i.prototype.onResizeStart=function(n){var a=this;this.calculateInitialValues();var c=null;if(n&&(c=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),c){var d=c.getDisplayedLeafColumns();this.resizeTakeFromCols=d.filter(function(v){return v.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(v){return a.resizeTakeFromStartWidth+=v.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(v){return a.resizeTakeFromRatios.push(v.getActualWidth()/a.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(n,a){var c=this.normaliseDragChange(a);this.resizeColumns(this.resizeStartWidth+c,n)},i.prototype.resizeLeafColumnsToFit=function(){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),n>this.resizeStartWidth&&this.resizeColumns(n,!0)},i.prototype.resizeColumns=function(n,a){void 0===a&&(a=!0);var c=[];c.push({columns:this.resizeCols,ratios:this.resizeRatios,width:n}),this.resizeTakeFromCols&&c.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(n-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:c,finished:a,source:"uiColumnDragged"}),a&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var n=this,a=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=a.filter(function(c){return c.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(c){return n.resizeStartWidth+=c.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(c){return n.resizeRatios.push(c.getActualWidth()/n.resizeStartWidth)})},i.prototype.normaliseDragChange=function(n){var a=n;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==xe.PINNED_LEFT&&(a*=-1):this.pinned===xe.PINNED_RIGHT&&(a*=-1),a},_g([oe("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),_g([oe("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),_g([oe("columnModel")],i.prototype,"columnModel",void 0),_g([Vt],i.prototype,"postConstruct",null),i}(wn),Qv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tf=function(u){function i(n,a){var c=u.call(this)||this;return c.removeChildListenersFuncs=[],c.columnGroup=a,c.comp=n,c}return Qv(i,u),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Pr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var n=this;this.removeListenersOnChildrenColumns();var a=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(c){c.addEventListener(Dt.EVENT_WIDTH_CHANGED,a),c.addEventListener(Dt.EVENT_VISIBLE_CHANGED,a),n.removeChildListenersFuncs.push(function(){c.removeEventListener(Dt.EVENT_WIDTH_CHANGED,a),c.removeEventListener(Dt.EVENT_VISIBLE_CHANGED,a)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(n){return n()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(wn),Jv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),sa=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ys=function(u){function i(n,a){var c=u.call(this,n,a)||this;return c.columnGroup=n,c}return Jv(i,u),i.prototype.setComp=function(n,a,c){u.prototype.setGui.call(this,a),this.comp=n,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var d=this.getParentRowCtrl().getPinned(),v=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new mg(v,a)),this.createManagedBean(new pc(this.columnGroup,a,this.beans)),this.createManagedBean(new Tf(n,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Qu(n,c,d,this.columnGroup)),this.createManagedBean(new zo(a,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},i.prototype.setupUserComp=function(){var n=this,a=this.displayName,c={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(L){n.columnModel.setColumnGroupOpened(n.columnGroup.getProvidedColumnGroup(),L,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!a){for(var d=this.columnGroup,v=d.getLeafColumns();d.getParent()&&d.getParent().getLeafColumns().length===v.length;)d=d.getParent();var C=d.getColGroupDef();C&&(a=C.headerName),a||(a=v?this.columnModel.getDisplayNameForColumn(v[0],"header",!0):"")}var M=this.userComponentFactory.getHeaderGroupCompDetails(c);this.comp.setUserCompDetails(M)},i.prototype.setupTooltip=function(){var n=this,a=this.columnGroup.getColGroupDef(),c={getColumn:function(){return n.columnGroup},getGui:function(){return n.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return a&&a.headerTooltip}};a&&(c.getColDef=function(){return a}),this.createManagedBean(new Yh(c,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var n=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(n,cr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(n,cr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var n=this.columnGroup;this.expandable=n.isExpandable();var a=n.isExpanded();this.comp.setAriaExpanded(this.expandable?a?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var n=this,a=this.columnGroup.getColGroupDef(),c=rp.getHeaderClassesFromColDef(a,this.gridOptionsWrapper,null,this.columnGroup);c.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),c.forEach(function(d){return n.comp.addOrRemoveCssClass(d,!0)})},i.prototype.setupMovingCss=function(){var n=this,c=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),d=function(){return n.comp.addOrRemoveCssClass("ag-header-cell-moving",n.columnGroup.isMoving())};c.forEach(function(v){n.addManagedListener(v,Dt.EVENT_MOVING_CHANGED,d)}),d()},i.prototype.onFocusIn=function(n){if(!this.eGui.contains(n.relatedTarget)){var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.columnGroup)}},i.prototype.handleKeyDown=function(n){var a=this.gridOptionsWrapper.getDocument();if(this.expandable&&a.activeElement===this.eGui&&n.key===Nn.ENTER){var v=this.columnGroup,C=!v.isExpanded();this.columnModel.setColumnGroupOpened(v.getProvidedColumnGroup(),C,"uiColumnExpanded")}},i.prototype.setDragSource=function(n){var a=this;if(!this.isSuppressMoving()){var c=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),d={type:Hs.HeaderCell,eElement:n,defaultIconName:Pa.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return c.forEach(function(v){return v.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return c.forEach(function(v){return v.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(d,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(d)})}},i.prototype.getDragItemForGroup=function(){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),a={};n.forEach(function(d){return a[d.getId()]=d.isVisible()});var c=[];return this.columnModel.getAllDisplayedColumns().forEach(function(d){n.indexOf(d)>=0&&(c.push(d),zn(n,d))}),n.forEach(function(d){return c.push(d)}),{columns:c,visibleState:a}},i.prototype.isSuppressMoving=function(){var n=!1;return this.columnGroup.getLeafColumns().forEach(function(c){(c.getColDef().suppressMovable||c.getColDef().lockPosition)&&(n=!0)}),n||this.gridOptionsWrapper.isSuppressMovableColumns()},sa([oe("beans")],i.prototype,"beans",void 0),sa([oe("columnModel")],i.prototype,"columnModel",void 0),sa([oe("dragAndDropService")],i.prototype,"dragAndDropService",void 0),sa([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),sa([oe("gridApi")],i.prototype,"gridApi",void 0),sa([oe("columnApi")],i.prototype,"columnApi",void 0),i}(np),s2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},l2=0,e0=function(u){function i(n,a,c){var d=u.call(this)||this;return d.instanceId=l2++,d.headerCellCtrls={},d.rowIndex=n,d.pinned=a,d.type=c,d}return s2(i,u),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(n){this.comp=n,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),gn()&&this.comp.setTransform("translateZ(0)"),n.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,qe.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(n){return ut(this.headerCellCtrls).find(function(a){return a.getColumnGroupChild()===n})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var n=this.getWidthForRow();this.comp.setWidth(n+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(xe.PINNED_RIGHT)+this.columnModel.getContainerWidth(xe.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var d,v,n=this.columnModel.getHeaderRowCount(),a=[],c=0;this.columnModel.isPivotMode()?(d=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),v=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(n++,c=1),d=this.gridOptionsWrapper.getGroupHeaderHeight(),v=this.gridOptionsWrapper.getHeaderHeight());for(var M=n-(1+c),L=0;L<M;L++)a.push(d);for(a.push(v),L=0;L<c;L++)a.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var U=0;for(L=0;L<this.rowIndex;L++)U+=a[L];this.comp.setTop(U+"px"),this.comp.setHeight(a[this.rowIndex]+"px")},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var n=this,a=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(C){if(!C.isEmptyGroup()){var M=C.getUniqueId(),L=a[M];if(delete a[M],L&&L.getColumnGroupChild()!=C&&(n.destroyBean(L),L=void 0),null==L)switch(n.type){case Ua.FLOATING_FILTER:L=n.createBean(new Yd(C,n));break;case Ua.COLUMN_GROUP:L=n.createBean(new Ys(C,n));break;default:L=n.createBean(new a2(C,n))}n.headerCellCtrls[M]=L}}),tt(a,function(C,M){var L=function(C){return!!n.focusService.isHeaderWrapperFocused(C)&&n.columnModel.isDisplayed(C.getColumnGroupChild())}(M);L?n.headerCellCtrls[C]=M:n.destroyBean(M)});var v=oi(this.headerCellCtrls);this.comp.setHeaderCtrls(v)},i.prototype.destroyCtrls=function(){var n=this;tt(this.headerCellCtrls,function(a,c){n.destroyBean(c)}),this.headerCellCtrls={}},i.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var n=this;if(null!=this.pinned)return[];var a=[],c=this.getActualDepth();return[xe.PINNED_LEFT,null,xe.PINNED_RIGHT].forEach(function(d){var v=n.columnModel.getVirtualHeaderGroupRow(d,c);a=a.concat(v)}),a},i.prototype.getActualDepth=function(){return this.type==Ua.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(n,a){var d=oi(this.headerCellCtrls).find(function(v){return v.getColumnGroupChild()==n});return!!d&&(d.focus(a),!0)},Sg([oe("columnModel")],i.prototype,"columnModel",void 0),Sg([oe("focusService")],i.prototype,"focusService",void 0),Sg([fn],i.prototype,"destroyCtrls",null),i}(wn),fc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},zc=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},xf=function(u){function i(n){var a=u.call(this)||this;return a.groupsRowCtrls=[],a.pinned=n,a}return fc(i,u),i.prototype.setComp=function(n,a){this.comp=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(a),this.addManagedListener(this.eventService,qe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(n){var a=new au(this.pinned,n);this.createManagedBean(a)},i.prototype.refresh=function(n){var a=this;void 0===n&&(n=!1);var U,c=new Ed,d=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var U=a.columnModel.getHeaderRowCount()-1;a.groupsRowCtrls=a.destroyBeans(a.groupsRowCtrls);for(var ce=0;ce<U;ce++){var ye=a.createBean(new e0(c.next(),a.pinned,Ua.COLUMN_GROUP));a.groupsRowCtrls.push(ye)}})(),U=c.next(),(null==a.columnsRowCtrl||!n||a.columnsRowCtrl.getRowIndex()!==U)&&(a.destroyBean(a.columnsRowCtrl),a.columnsRowCtrl=a.createBean(new e0(U,a.pinned,Ua.COLUMN))),function(){var ce=function(){a.filtersRowCtrl=a.destroyBean(a.filtersRowCtrl)};if(!a.columnModel.isPivotMode()&&a.columnModel.hasFloatingFilters()){var ye=c.next();if(a.filtersRowCtrl){var it=a.filtersRowCtrl.getRowIndex()!==ye;(!n||it)&&ce()}a.filtersRowCtrl||(a.filtersRowCtrl=a.createBean(new e0(ye,a.pinned,Ua.FLOATING_FILTER)))}else ce()}();var L=this.getAllCtrls();this.comp.setCtrls(L),this.restoreFocusOnHeader(d)},i.prototype.restoreFocusOnHeader=function(n){null==n||n.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:n})},i.prototype.getAllCtrls=function(){var n=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(zc(arguments[i]));return u}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&n.push(this.filtersRowCtrl),n},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var n=this;null==this.pinned&&this.createManagedBean(new _f(function(a){return n.comp.setCenterWidth(a+"px")}))},i.prototype.setHorizontalScroll=function(n){this.comp.setContainerTransform("translateX("+n+"px)")},i.prototype.setupPinnedWidth=function(){var n=this;if(null!=this.pinned){var a=this.pinned===xe.PINNED_LEFT,c=this.pinned===xe.PINNED_RIGHT,d=function(){var v=a?n.pinnedWidthService.getPinnedLeftWidth():n.pinnedWidthService.getPinnedRightWidth();if(null!=v){var C=0==v,M=n.gridOptionsWrapper.isEnableRtl(),L=n.gridOptionsWrapper.getScrollbarWidth(),U=n.scrollVisibleService.isVerticalScrollShowing()&&(M&&a||!M&&c);n.comp.setPinnedContainerWidth((U?v+L:v)+"px"),n.comp.addOrRemoveCssClass("ag-hidden",C)}};this.addManagedListener(this.eventService,qe.EVENT_LEFT_PINNED_WIDTH_CHANGED,d),this.addManagedListener(this.eventService,qe.EVENT_RIGHT_PINNED_WIDTH_CHANGED,d),this.addManagedListener(this.eventService,qe.EVENT_SCROLL_VISIBILITY_CHANGED,d),this.addManagedListener(this.eventService,qe.EVENT_SCROLLBAR_WIDTH_CHANGED,d)}},i.prototype.getHeaderCtrlForColumn=function(n){if(n instanceof Dt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(n):void 0;if(0!==this.groupsRowCtrls.length)for(var a=0;a<this.groupsRowCtrls.length;a++){var c=this.groupsRowCtrls[a].getHeaderCellCtrl(n);if(c)return c}},i.prototype.getHtmlElementForColumnHeader=function(n){var a=this.getHeaderCtrlForColumn(n);return a?a.getGui():null},i.prototype.getRowType=function(n){var c=this.getAllCtrls()[n];return c?c.getType():void 0},i.prototype.focusHeader=function(n,a,c){var v=this.getAllCtrls()[n];return!!v&&v.focusHeader(a,c)},i.prototype.getRowCount=function(){return this.getAllCtrls().length},cs([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),cs([oe("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),cs([oe("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),cs([oe("columnModel")],i.prototype,"columnModel",void 0),cs([oe("focusService")],i.prototype,"focusService",void 0),i}(wn),t0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ip=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},bg=function(u){function i(n){var a=u.call(this)||this;return a.headerRowComps={},a.rowCompsList=[],a.pinned=n,a}return t0(i,u),i.prototype.init=function(){var n=this;this.selectAndSetTemplate();var a={addOrRemoveCssClass:function(d,v){return n.addOrRemoveCssClass(d,v)},setCtrls:function(d){return n.setCtrls(d)},setCenterWidth:function(d){return n.eCenterContainer.style.width=d},setContainerTransform:function(d){return n.eCenterContainer.style.transform=d},setPinnedContainerWidth:function(d){var v=n.getGui();v.style.width=d,v.style.maxWidth=d,v.style.minWidth=d}};this.createManagedBean(new xf(this.pinned)).setComp(a,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==xe.PINNED_LEFT?i.PINNED_LEFT_TEMPLATE:this.pinned==xe.PINNED_RIGHT?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(n){this.destroyBean(n),this.eRowContainer.removeChild(n.getGui())},i.prototype.setCtrls=function(n){var d,a=this,c=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],n.forEach(function(C){var M=C.getInstanceId(),L=c[M];delete c[M];var U=L||a.createBean(new ya(C));a.headerRowComps[M]=U,a.rowCompsList.push(U),function(C){var M=C.getGui();M.parentElement!=a.eRowContainer&&a.eRowContainer.appendChild(M),d&&P(a.eRowContainer,M,d),d=M}(U)}),oi(c).forEach(function(C){return a.destroyRowComp(C)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',ip([Fn("eCenterContainer")],i.prototype,"eCenterContainer",void 0),ip([Vt],i.prototype,"init",null),ip([fn],i.prototype,"destroyRowComps",null),i}(di),n0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Eg=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return n0(i,u),i.prototype.postConstruct=function(){var n=this,a={addOrRemoveCssClass:function(v,C){return n.addOrRemoveCssClass(v,C)},setHeightAndMinHeight:function(v){n.getGui().style.height=v,n.getGui().style.minHeight=v}};this.createManagedBean(new P8).setComp(a,this.getGui(),this.getFocusableElement());var d=function(v){n.createManagedBean(v),n.appendChild(v)};d(new bg(xe.PINNED_LEFT)),d(new bg(null)),d(new bg(xe.PINNED_RIGHT))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(di),u2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mf=function(){return Mf=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Mf.apply(this,arguments)},vl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},r0=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.allAdvancedFilters=new Map,a.activeAdvancedFilters=[],a.quickFilter=null,a.quickFilterParts=null,a.processingFilterChange=!1,a}var n;return u2(i,u),n=i,i.prototype.init=function(){var a=this;this.addManagedListener(this.eventService,qe.EVENT_ROW_DATA_CHANGED,function(c){return a.onNewRowsLoaded(c)}),this.addManagedListener(this.eventService,qe.EVENT_GRID_COLUMNS_CHANGED,function(){return a.onColumnsChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(a){var c=this,d=[],v=this.getFilterModel();if(a){var C=Nl(Object.keys(a));this.allAdvancedFilters.forEach(function(M,L){d.push(c.setModelOnFilterWrapper(M.filterPromise,a[L])),C.delete(L)}),C.forEach(function(M){var L=c.columnModel.getPrimaryColumn(M);if(L)if(L.isFilterAllowed()){var U=c.getOrCreateFilterWrapper(L,"NO_UI");U?d.push(c.setModelOnFilterWrapper(U.filterPromise,a[M])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+M)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+M);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+M)})}else this.allAdvancedFilters.forEach(function(M){d.push(c.setModelOnFilterWrapper(M.filterPromise,null))});os.all(d).then(function(){var M=c.getFilterModel(),L=[];c.allAdvancedFilters.forEach(function(U,ce){Pc.jsonEquals(v?v[ce]:null,M?M[ce]:null)||L.push(U.column)}),L.length>0&&c.onFilterChanged({columns:L})})},i.prototype.setModelOnFilterWrapper=function(a,c){return new os(function(d){a.then(function(v){"function"!=typeof v.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),d()),(v.setModel(c)||os.resolve()).then(function(){return d()})})})},i.prototype.getFilterModel=function(){var a={};return this.allAdvancedFilters.forEach(function(c,d){var C=c.filterPromise.resolveNow(null,function(L){return L});if(null==C)return null;if("function"==typeof C.getModel){var M=C.getModel();se(M)&&(a[d]=M)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),a},i.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},i.prototype.updateActiveFilters=function(){var a=this;this.activeAdvancedFilters.length=0;var c=function(d){return!!d&&(d.isFilterActive?d.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(d){if(d.filterPromise.resolveNow(!1,c)){var v=d.filterPromise.resolveNow(null,function(C){return C});a.activeAdvancedFilters.push(v)}})},i.prototype.updateFilterFlagInColumns=function(a,c){this.allAdvancedFilters.forEach(function(d){var v=d.filterPromise.resolveNow(!1,function(C){return C.isFilterActive()});d.column.setFilterActive(v,a,c)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},i.prototype.doAdvancedFiltersPass=function(a,c){for(var d=a.data,v=0;v<this.activeAdvancedFilters.length;v++){var C=this.activeAdvancedFilters[v];if(null!=C&&C!==c){if("function"!=typeof C.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!C.doesFilterPass({node:a,data:d}))return!1}}return!0},i.prototype.parseQuickFilter=function(a){return se(a)?this.gridOptionsWrapper.isRowModelDefault()?a.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(a){if(null==a||"string"==typeof a){var c=this.parseQuickFilter(a);this.quickFilter!==c&&(this.quickFilter=c,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof a)},i.prototype.onFilterChanged=function(a){void 0===a&&(a={});var c=a.filterInstance,d=a.additionalEventAttributes,v=a.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",d),this.allAdvancedFilters.forEach(function(M){!M.filterPromise||M.filterPromise.then(function(L){L&&L!==c&&L.onAnyFilterChanged&&L.onAnyFilterChanged()})});var C={type:qe.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:v||[]};d&&Or(C,d),this.processingFilterChange=!0,this.eventService.dispatchEvent(C),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(a,c){return this.doesRowPassFilter({rowNode:c,filterInstanceToSkip:a})},i.prototype.doesRowPassQuickFilterNoCache=function(a,c){var d=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(C){var M=d.getQuickFilterTextForColumn(C,a);return se(M)&&M.indexOf(c)>=0})},i.prototype.doesRowPassQuickFilterCache=function(a,c){return a.quickFilterAggregateText||this.aggregateRowForQuickFilter(a),a.quickFilterAggregateText.indexOf(c)>=0},i.prototype.doesRowPassQuickFilter=function(a){var c=this,d=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(v){return d?c.doesRowPassQuickFilterCache(a,v):c.doesRowPassQuickFilterNoCache(a,v)})},i.prototype.doesRowPassFilter=function(a){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(a.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(a.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(a.rowNode,a.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(a,c){var d=this.valueService.getValue(a,c,!0),v=a.getColDef();if(v.getQuickFilterText){var C={value:d,node:c,data:c.data,column:a,colDef:v,context:this.gridOptionsWrapper.getContext()};d=v.getQuickFilterText(C)}return se(d)?d.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(a){var c=this,d=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(C){var M=c.getQuickFilterTextForColumn(C,a);se(M)&&d.push(M)}),a.quickFilterAggregateText=d.join(n.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(a){this.allAdvancedFilters.forEach(function(c){c.filterPromise.then(function(d){d.onNewRowsLoaded&&d.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(a),this.updateActiveFilters()},i.prototype.createValueGetter=function(a){var c=this;return function(d){return c.valueService.getValue(a,d.node,!0)}},i.prototype.getFilterComponent=function(a,c,d){var v;if(void 0===d&&(d=!0),d)return(null===(v=this.getOrCreateFilterWrapper(a,c))||void 0===v?void 0:v.filterPromise)||null;var C=this.cachedFilter(a);return C?C.filterPromise:null},i.prototype.isFilterActive=function(a){var c=this.cachedFilter(a);return!!c&&c.filterPromise.resolveNow(!1,function(d){return d.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(a,c){if(!a.isFilterAllowed())return null;var d=this.cachedFilter(a);return d?"NO_UI"!==c&&this.putIntoGui(d,c):(d=this.createFilterWrapper(a,c),this.allAdvancedFilters.set(a.getColId(),d)),d},i.prototype.cachedFilter=function(a){return this.allAdvancedFilters.get(a.getColId())},i.prototype.createFilterInstance=function(a,c){var M,d=this,v=an.isRegistered(Nt.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",C=a.getColDef(),L=Mf(Mf({},this.createFilterParams(a,C,c)),{filterModifiedCallback:function(){d.eventService.dispatchEvent({type:qe.EVENT_FILTER_MODIFIED,api:d.gridApi,columnApi:d.columnApi,column:a,filterInstance:M})},filterChangedCallback:function(ye){return d.onFilterChanged({filterInstance:M,additionalEventAttributes:ye,columns:[a]})},doesRowPassOtherFilter:function(ye){return d.doesRowPassOtherFilters(M,ye)}}),U=this.userComponentFactory.getFilterDetails(C,L,v);if(!U)return null;var ce=U.newAgStackInstance();return ce&&ce.then(function(ye){return M=ye}),ce},i.prototype.createFilterParams=function(a,c,d){void 0===d&&(d=null);var v={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:a,colDef:en(c),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(a),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return d&&(v.$scope=d),v},i.prototype.createFilterWrapper=function(a,c){var d={column:a,filterPromise:null,scope:null,compiledElement:null,guiPromise:os.resolve(null)};return d.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,d.filterPromise=this.createFilterInstance(a,d.scope),d.filterPromise&&this.putIntoGui(d,c),d},i.prototype.putIntoGui=function(a,c){var d=this,v=document.createElement("div");v.className="ag-filter",a.guiPromise=new os(function(C){a.filterPromise.then(function(M){var L=M.getGui();if(se(L)||console.warn("AG Grid: getGui method from filter returned "+L+", it should be a DOM element or an HTML template string."),"string"==typeof L&&(L=_t(L)),v.appendChild(L),a.scope){var U=d.$compile(v)(a.scope);a.compiledElement=U,window.setTimeout(function(){return a.scope.$apply()},0)}C(v),d.eventService.dispatchEvent({type:qe.EVENT_FILTER_OPENED,column:a.column,source:c,eGui:v,api:d.gridApi,columnApi:d.columnApi})})})},i.prototype.onColumnsChanged=function(){var a=this,c=[];this.allAdvancedFilters.forEach(function(d,v){a.columnModel.getPrimaryColumn(v)||(c.push(d.column),a.disposeFilterWrapper(d,"filterDestroyed"))}),c.length>0&&this.onFilterChanged({columns:c})},i.prototype.destroyFilter=function(a,c){void 0===c&&(c="api");var d=this.allAdvancedFilters.get(a.getColId());d&&(this.disposeFilterWrapper(d,c),this.onFilterChanged({columns:[a]}))},i.prototype.disposeFilterWrapper=function(a,c){var d=this;a.filterPromise.then(function(v){(v.setModel(null)||os.resolve()).then(function(){d.getContext().destroyBean(v),a.column.setFilterActive(!1,c),a.scope&&(a.compiledElement&&a.compiledElement.remove(),a.scope.$destroy()),d.allAdvancedFilters.delete(a.column.getColId())})})},i.prototype.destroy=function(){var a=this;u.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(c){return a.disposeFilterWrapper(c,"filterDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",vl([oe("$compile")],i.prototype,"$compile",void 0),vl([oe("$scope")],i.prototype,"$scope",void 0),vl([oe("valueService")],i.prototype,"valueService",void 0),vl([oe("columnModel")],i.prototype,"columnModel",void 0),vl([oe("rowModel")],i.prototype,"rowModel",void 0),vl([oe("columnApi")],i.prototype,"columnApi",void 0),vl([oe("gridApi")],i.prototype,"gridApi",void 0),vl([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),vl([Vt],i.prototype,"init",null),vl([fn],i.prototype,"destroy",null),n=vl([mn("filterManager")],i)}(wn),o0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),us=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Dg=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.initialised=!1,n}return o0(i,u),i.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},i.prototype.getValue=function(n,a,c,d){if(void 0===c&&(c=!1),void 0===d&&(d=!1),this.initialised||this.init(),a){var U,v=n.getColDef(),C=v.field,M=n.getId(),L=a.data,ce=a.groupData&&void 0!==a.groupData[M],ye=!d&&a.aggData&&void 0!==a.aggData[M];if(c&&v.filterValueGetter?U=this.executeFilterValueGetter(v.filterValueGetter,L,n,a):this.gridOptionsWrapper.isTreeData()&&ye?U=a.aggData[M]:this.gridOptionsWrapper.isTreeData()&&v.valueGetter?U=this.executeValueGetter(v.valueGetter,L,n,a):this.gridOptionsWrapper.isTreeData()&&C&&L?U=pr(L,C,n.isFieldContainsDots()):ce?U=a.groupData[M]:ye?U=a.aggData[M]:v.valueGetter?U=this.executeValueGetter(v.valueGetter,L,n,a):C&&L&&(U=pr(L,C,n.isFieldContainsDots())),this.cellExpressions&&"string"==typeof U&&0===U.indexOf("=")){var it=U.substring(1);U=this.executeValueGetter(it,L,n,a)}if(null==U){var bt=this.getOpenedGroup(a,n);if(null!=bt)return bt}return U}},i.prototype.getOpenedGroup=function(n,a){if(this.gridOptionsWrapper.isShowOpenedGroup()&&a.getColDef().showRowGroup)for(var d=a.getColDef().showRowGroup,v=n.parent;null!=v;){if(v.rowGroupColumn&&(!0===d||d===v.rowGroupColumn.getId()))return v.key;v=v.parent}},i.prototype.setValue=function(n,a,c,d){var v=this.columnModel.getPrimaryColumn(a);if(n&&v){ot(n.data)&&(n.data={});var C=v.getColDef(),M=C.field,L=C.newValueHandler,U=C.valueSetter;if(ot(M)&&ot(L)&&ot(U))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var ye,ce={node:n,data:n.data,oldValue:this.getValue(v,n),newValue:c,colDef:v.getColDef(),column:v,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(ce.newValue=c,void 0===(ye=L&&se(L)?L(ce):se(U)?this.expressionService.evaluate(U,ce):this.setValueUsingField(n.data,M,c,v.isFieldContainsDots()))&&(ye=!0),ye){n.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),ce.newValue=this.getValue(v,n);var it=v.getColDef().onCellValueChanged;"function"==typeof it&&setTimeout(function(){return it(ce)},0),this.eventService.dispatchEvent({type:qe.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:ce.column,api:ce.api,columnApi:ce.columnApi,colDef:ce.colDef,context:ce.context,data:n.data,node:n,oldValue:ce.oldValue,newValue:ce.newValue,value:ce.newValue,source:d})}}},i.prototype.setValueUsingField=function(n,a,c,d){if(!a)return!1;if(d)for(var C=a.split("."),M=n;C.length>0&&M;){var L=C.shift();0===C.length?M[L]=c:M=M[L]}else n[a]=c;return!0},i.prototype.executeFilterValueGetter=function(n,a,c,d){var v={data:a,node:d,column:c,colDef:c.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,d)};return this.expressionService.evaluate(n,v)},i.prototype.executeValueGetter=function(n,a,c,d){var v=c.getId(),C=this.valueCache.getValue(d,v);if(void 0!==C)return C;var M={data:a,node:d,column:c,colDef:c.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,d)},L=this.expressionService.evaluate(n,M);return this.valueCache.setValue(d,v,L),L},i.prototype.getValueCallback=function(n,a){var c=this.columnModel.getPrimaryColumn(a);return c?this.getValue(c,n):null},i.prototype.getKeyForNode=function(n,a){var c=this.getValue(n,a),d=n.getColDef().keyCreator,v=c;return d&&(v=d({value:c,colDef:n.getColDef(),column:n,node:a,data:a.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof v||null==v||"[object Object]"===(v=String(v))&&ue(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),v},us([oe("expressionService")],i.prototype,"expressionService",void 0),us([oe("columnModel")],i.prototype,"columnModel",void 0),us([oe("valueCache")],i.prototype,"valueCache",void 0),us([Vt],i.prototype,"init",null),us([mn("valueService")],i)}(wn),d2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),a0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},qo=(()=>(function(u){u.AUTO_HEIGHT="ag-layout-auto-height",u.NORMAL="ag-layout-normal",u.PRINT="ag-layout-print"}(qo||(qo={})),qo))(),Pf=function(u){function i(n){var a=u.call(this)||this;return a.view=n,a}return d2(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var n=this.gridOptionsWrapper.getDomLayout(),a={autoHeight:n===xe.DOM_LAYOUT_AUTO_HEIGHT,normal:n===xe.DOM_LAYOUT_NORMAL,print:n===xe.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(a.autoHeight?qo.AUTO_HEIGHT:a.print?qo.PRINT:qo.NORMAL,a)},a0([oe("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),a0([Vt],i.prototype,"postConstruct",null),i}(wn),s0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},h2=function(u){function i(n){var a=u.call(this)||this;return a.scrollLeft=-1,a.nextScrollTop=-1,a.scrollTop=-1,a.eBodyViewport=n,a.resetLastHorizontalScrollElementDebounced=Ie(a.resetLastHorizontalScrollElement.bind(a),500),a}return s0(i,u),i.prototype.postConstruct=function(){var n=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl,n.onDisplayedColumnsWidthChanged(),n.addScrollListener()})},i.prototype.addScrollListener=function(){var n=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(n.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var a=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Ie(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",a)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(n){if(null!=this.centerRowContainerCon){void 0===n&&(n=this.centerRowContainerCon.getCenterViewportScrollLeft());var c=this.enableRtl?n:-n,d=this.ctrlsService.getTopCenterRowContainerCtrl(),v=this.ctrlsService.getBottomCenterRowContainerCtrl(),C=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(c),v.setContainerTranslateX(c),d.setContainerTranslateX(c),sl(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?C.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(n),this.enableRtl)}},i.prototype.isControllingScroll=function(n){return this.lastHorizontalScrollElement?n===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=n,!0)},i.prototype.onFakeHorizontalScroll=function(){var n=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(n)||this.onBodyHorizontalScroll(n)},i.prototype.onCenterViewportScroll=function(){var n=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(n)||this.onBodyHorizontalScroll(n)},i.prototype.onBodyHorizontalScroll=function(n){var a=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",a.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(na(n,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},i.prototype.onVerticalScroll=function(){var n=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",n,!0)||(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},i.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},i.prototype.doHorizontalScroll=function(n){var c=na(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===n&&n===c||(this.scrollLeft=n,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(n),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(n){var a=this,c={type:qe.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:n,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(c),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var d=Object.assign({},c,{type:qe.EVENT_BODY_SCROLL_END});a.eventService.dispatchEvent(d)},100)},i.prototype.shouldBlockScrollUpdate=function(n,a,c){if(void 0===c&&(c=!1),c&&!ai())return!1;if("vertical"===n){var d=li(this.eBodyViewport);if(a<0||a+d>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===n){var C=this.centerRowContainerCon.getCenterWidth(),M=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&ts()){if(a>0)return!0}else if(a<0)return!0;if(Math.abs(a)+C>M)return!0}return!1},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},i.prototype.executeAnimationFrameScroll=function(){var n=this.scrollTop!=this.nextScrollTop;return n&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),n},i.prototype.setHorizontalScrollPosition=function(n){var c=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",n)&&(n=this.enableRtl&&ts()?n>0?0:c:Math.min(Math.max(n,0),c)),sl(this.centerRowContainerCon.getViewportElement(),Math.abs(n),this.enableRtl),this.doHorizontalScroll(n)},i.prototype.setVerticalScrollPosition=function(n){this.eBodyViewport.scrollTop=n},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(n){var a=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(a+n),this.centerRowContainerCon.getViewportElement().scrollLeft-a},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(n,a){void 0===a&&(a=null);for(var c=this.rowModel.getRowCount(),d="function"==typeof n,v=-1,C=0;C<c;C++){var M=this.rowModel.getRow(C);if(d){if(n(M)){v=C;break}}else if(n===M||n===M.data){v=C;break}}v>=0&&this.ensureIndexVisible(v,a)},i.prototype.ensureIndexVisible=function(n,a){if(this.gridOptionsWrapper.getDomLayout()!==xe.DOM_LAYOUT_PRINT){var c=this.paginationProxy.getRowCount();if("number"!=typeof n||n<0||n>=c)return void console.warn("invalid row index for ensureIndexVisible: "+n);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(n);var M,C=this.paginationProxy.getRow(n);do{var L=C.rowTop,U=C.rowHeight,ce=this.paginationProxy.getPixelOffset(),ye=C.rowTop-ce,it=ye+C.rowHeight,bt=this.getVScrollPosition(),Wt=this.heightScaler.getDivStretchOffset(),cn=bt.top+Wt,Kt=bt.bottom+Wt,_n=Kt-cn,An=this.heightScaler.getScrollPositionForPixel(ye),qn=this.heightScaler.getScrollPositionForPixel(it-_n),Ir=Math.min((An+qn)/2,ye),ii=null;"top"===a?ii=An:"bottom"===a?ii=qn:"middle"===a?ii=Ir:cn>ye?ii=An:Kt<it&&(ii=qn),null!==ii&&(this.eBodyViewport.scrollTop=ii,this.rowRenderer.redrawAfterScroll()),M=L!==C.rowTop||U!==C.rowHeight}while(M);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(n,a){void 0===a&&(a="auto");var c=this.columnModel.getGridColumn(n);if(c&&!c.isPinned()&&this.columnModel.isColumnDisplayed(c)){var d=this.getPositionedHorizontalScroll(c,a);null!==d&&this.centerRowContainerCon.setCenterViewportScrollLeft(d),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(n,a){var c=this.isColumnOutsideViewport(n),d=c.columnBeforeStart,v=c.columnAfterEnd,C=this.centerRowContainerCon.getCenterWidth()<n.getActualWidth(),M=this.centerRowContainerCon.getCenterWidth(),L=this.enableRtl,U=(L?d:v)||C,ce=L?v:d;"auto"!==a&&(U="start"===a,ce="end"===a);var ye="middle"===a;if(U||ce||ye){var it=this.getColumnBounds(n),bt=it.colLeft,cn=it.colRight;return ye?it.colMiddle-M/2:U?L?cn:bt:L?bt-M:cn-M}return null},i.prototype.isColumnOutsideViewport=function(n){var a=this.getViewportBounds(),c=a.start,d=a.end,v=this.getColumnBounds(n),C=v.colLeft,M=v.colRight,L=this.enableRtl;return{columnBeforeStart:L?c>M:d<M,columnAfterEnd:L?d<C:c>C}},i.prototype.getColumnBounds=function(n){var a=this.enableRtl,c=this.columnModel.getBodyContainerWidth(),d=n.getActualWidth(),v=n.getLeft(),C=a?-1:1,M=a?c-v:v;return{colLeft:M,colMiddle:M+d/2*C,colRight:M+d*C}},i.prototype.getViewportBounds=function(){var n=this.centerRowContainerCon.getCenterWidth(),a=this.centerRowContainerCon.getCenterViewportScrollLeft();return{start:a,end:n+a,width:n}},gc([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),gc([oe("animationFrameService")],i.prototype,"animationFrameService",void 0),gc([oe("columnApi")],i.prototype,"columnApi",void 0),gc([oe("gridApi")],i.prototype,"gridApi",void 0),gc([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),gc([oe("rowModel")],i.prototype,"rowModel",void 0),gc([oe("rowContainerHeightService")],i.prototype,"heightScaler",void 0),gc([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),gc([oe("columnModel")],i.prototype,"columnModel",void 0),gc([Vt],i.prototype,"postConstruct",null),i}(wn),Af=function(){function u(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return u.prototype.check=function(i,n){void 0===n&&(n=!1);var a=n||this.shouldSkipVerticalScroll();if(!a||!this.shouldSkipHorizontalScroll()){var c=this.scrollContainer.getBoundingClientRect(),d=this.scrollByTick;this.tickLeft=i.clientX<c.left+d,this.tickRight=i.clientX>c.right-d,this.tickUp=i.clientY<c.top+d&&!a,this.tickDown=i.clientY>c.bottom-d&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},u.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},u.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var n=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(n-i),this.tickDown&&this.setVerticalPosition(n+i)}if(this.scrollHorizontally){var a=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(a-i),this.tickRight&&this.setHorizontalPosition(a+i)}this.onScrollCallback&&this.onScrollCallback()},u.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},u}(),p2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Og=function(){return Og=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Og.apply(this,arguments)},Ca=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},op=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},ap=function(u){function i(n){var a=u.call(this)||this;return a.isMultiRowDrag=!1,a.isGridSorted=!1,a.isGridFiltered=!1,a.isRowGroupActive=!1,a.eContainer=n,a}return p2(i,u),i.prototype.postConstruct=function(){var n=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var a=function(){n.onSortChanged(),n.onFilterChanged(),n.onRowGroupChanged()};this.addManagedListener(this.eventService,qe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_MODEL_UPDATED,function(){a()}),a(),this.ctrlsService.whenReady(function(){var c=n.ctrlsService.getGridBodyCtrl();n.autoScrollService=new Af({scrollContainer:c.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return c.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(d){return c.getScrollFeature().setVerticalScrollPosition(d)},onScrollCallback:function(){n.onDragging(n.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var n=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!De(n)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(n){return n===Hs.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Pa.ICON_NOT_ALLOWED:Pa.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(n){var a=this;if(!this.isFromThisGrid(n))return n.dragItem.rowNodes||[];var c=this.gridOptionsWrapper.isRowDragMultiRow(),d=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(op(arguments[i]));return u}(this.selectionService.getSelectedNodes()).sort(function(C,M){return a.getRowIndexNumber(C)-a.getRowIndexNumber(M)}),v=n.dragItem.rowNode;return c&&-1!==d.indexOf(v)?(this.isMultiRowDrag=!0,d):(this.isMultiRowDrag=!1,[v])},i.prototype.onDragEnter=function(n){n.dragItem.rowNodes=this.getRowNodes(n),this.dispatchGridEvent(qe.EVENT_ROW_DRAG_ENTER,n),this.getRowNodes(n).forEach(function(a){a.setDragging(!0)}),this.onEnterOrDragging(n)},i.prototype.onDragging=function(n){this.onEnterOrDragging(n)},i.prototype.isFromThisGrid=function(n){return n.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(n){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(n.dropZoneTarget)},i.prototype.onEnterOrDragging=function(n){this.dispatchGridEvent(qe.EVENT_ROW_DRAG_MOVE,n),this.lastDraggingEvent=n;var a=this.mouseEventService.getNormalisedPosition(n).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(n,a),this.autoScrollService.check(n.event)},i.prototype.doManagedDrag=function(n,a){var c=this.isFromThisGrid(n),d=this.gridOptionsWrapper.isRowDragManaged(),v=n.dragItem.rowNodes;d&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!c?this.isDropZoneWithinThisGrid(n)||this.clientSideRowModel.highlightRowAtPixel(v[0],a):this.moveRows(v,a))},i.prototype.getRowIndexNumber=function(n){return parseInt(ft(n.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(n){var a=this,c=this.clientSideRowModel.getLastHighlightedRowNode(),d=c&&c.highlighted===eu.Below,v=this.mouseEventService.getNormalisedPosition(n).y,C=n.dragItem.rowNodes,M=d?1:0;if(this.isFromThisGrid(n))C.forEach(function(ce){ce.rowTop<v&&(M-=1)}),this.moveRows(C,v,M);else{var L=this.gridOptionsWrapper.getRowIdFunc(),U=this.clientSideRowModel.getRowIndexAtPixel(v)+1;this.clientSideRowModel.getHighlightPosition(v)===eu.Above&&U--,this.clientSideRowModel.updateRowData({add:C.map(function(ce){return ce.data}).filter(function(ce){return!a.clientSideRowModel.getRowNode(L?L({data:ce,level:0,api:a.gridApi,columnApi:a.columnApi}):ce.id)}),addIndex:U})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(n,a,c){void 0===c&&(c=0),this.clientSideRowModel.ensureRowsAtPixel(n,a,c)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(n){var a=this;if(n.getContainer())if(this.dragAndDropService.findExternalZone(n))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var c={getContainer:n.getContainer};n.fromGrid?(n.fromGrid=void 0,c=n):(n.onDragEnter&&(c.onDragEnter=function(d){n.onDragEnter(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_ENTER,d))}),n.onDragLeave&&(c.onDragLeave=function(d){n.onDragLeave(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_LEAVE,d))}),n.onDragging&&(c.onDragging=function(d){n.onDragging(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_MOVE,d))}),n.onDragStop&&(c.onDragStop=function(d){n.onDragStop(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_END,d))})),this.dragAndDropService.addDropTarget(Og({isInterestedIn:function(d){return d===Hs.RowDrag},getIconName:function(){return Pa.ICON_MOVE},external:!0},c))}else ue(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(n){var a=this,c=this.getContainer.bind(this),d=this.onDragEnter.bind(this),v=this.onDragLeave.bind(this),C=this.onDragging.bind(this),M=this.onDragStop.bind(this);return n?{getContainer:c,onDragEnter:n.onDragEnter?function(L){d(L),n.onDragEnter(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_ENTER,L))}:d,onDragLeave:n.onDragLeave?function(L){v(L),n.onDragLeave(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_LEAVE,L))}:v,onDragging:n.onDragging?function(L){C(L),n.onDragging(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_MOVE,L))}:C,onDragStop:n.onDragStop?function(L){M(L),n.onDragStop(a.draggingToRowDragEvent(qe.EVENT_ROW_DRAG_END,L))}:M,fromGrid:!0}:{getContainer:c,onDragEnter:d,onDragLeave:v,onDragging:C,onDragStop:M,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(n,a){var C,M,c=this.mouseEventService.getNormalisedPosition(a).y,v=-1;switch(c>this.paginationProxy.getCurrentPageHeight()||(v=this.rowModel.getRowIndexAtPixel(c),C=this.rowModel.getRow(v)),a.vDirection){case zu.Down:M="down";break;case zu.Up:M="up";break;default:M=null}return{type:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:a.event,node:a.dragItem.rowNode,nodes:a.dragItem.rowNodes,overIndex:v,overNode:C,y:c,vDirection:M}},i.prototype.dispatchGridEvent=function(n,a){var c=this.draggingToRowDragEvent(n,a);this.eventService.dispatchEvent(c)},i.prototype.onDragLeave=function(n){this.dispatchGridEvent(qe.EVENT_ROW_DRAG_LEAVE,n),this.stopDragging(n),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(n)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(n){this.dispatchGridEvent(qe.EVENT_ROW_DRAG_END,n),this.stopDragging(n),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(n))&&!this.isDropZoneWithinThisGrid(n)&&this.moveRowAndClearHighlight(n)},i.prototype.stopDragging=function(n){this.autoScrollService.ensureCleared(),this.getRowNodes(n).forEach(function(a){a.setDragging(!1)})},Ca([oe("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ca([oe("rowModel")],i.prototype,"rowModel",void 0),Ca([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),Ca([oe("columnModel")],i.prototype,"columnModel",void 0),Ca([oe("focusService")],i.prototype,"focusService",void 0),Ca([oe("sortController")],i.prototype,"sortController",void 0),Ca([oe("filterManager")],i.prototype,"filterManager",void 0),Ca([oe("selectionService")],i.prototype,"selectionService",void 0),Ca([oe("mouseEventService")],i.prototype,"mouseEventService",void 0),Ca([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Ca([er("rangeService")],i.prototype,"rangeService",void 0),Ca([oe("columnApi")],i.prototype,"columnApi",void 0),Ca([oe("gridApi")],i.prototype,"gridApi",void 0),Ca([Vt],i.prototype,"postConstruct",null),i}(wn),qd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ss=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ed=(()=>(function(u){u.ANIMATION_ON="ag-row-animation",u.ANIMATION_OFF="ag-row-no-animation"}(ed||(ed={})),ed))(),sp="ag-selectable",Rf="ag-force-vertical-scroll",f2="ag-column-moving",g2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.angularApplyTriggered=!1,n}return qd(i,u),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(n,a,c,d,v){this.comp=n,this.eGridBody=a,this.eBodyViewport=c,this.eTop=d,this.eBottom=v,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Pf(this.comp)),this.bodyScrollFeature=this.createManagedBean(new h2(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([d,c,v]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,qe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},i.prototype.addFocusListeners=function(n){var a=this;n.forEach(function(c){a.addManagedListener(c,"focusin",function(){c.classList.add("ag-has-focus")}),a.addManagedListener(c,"focusout",function(d){c.contains(d.relatedTarget)||c.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(n){this.comp.setColumnMovingCss(n?f2:null,n)},i.prototype.setCellTextSelection=function(n){void 0===n&&(n=!1),this.comp.setCellSelectableCss(n?sp:null,n)},i.prototype.onScrollVisibilityChanged=function(){var n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n)},i.prototype.onGridColumnsChanged=function(){var n=this.columnModel.getAllGridColumns();this.comp.setColumnCount(n?n.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(n){if(n.target instanceof HTMLImageElement)return n.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var n=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var a=function(d){var v=d.relatedTarget;if(null!==Zr(v)){var C=c.some(function(L){return L.contains(v)})&&n.mouseEventService.isElementInThisGrid(v);if(!C){var M=n.popupService;C=M.getActivePopups().some(function(L){return L.contains(v)})||M.isElementWithinCustomPopup(v)}C||n.rowRenderer.stopEditing()}else n.rowRenderer.stopEditing()},c=[this.eBodyViewport,this.eBottom,this.eTop];c.forEach(function(d){return n.addManagedListener(d,"focusout",a)})}},i.prototype.updateRowCount=function(){var n=this.headerNavigationService.getHeaderRowCount(),a=this.paginationProxy.getType(),c=-1;a===xe.ROW_MODEL_TYPE_CLIENT_SIDE&&(c=0,this.paginationProxy.forEachNode(function(v){v.group||c++})),this.comp.setRowCount(-1===c?-1:n+c)},i.prototype.registerBodyViewportResizeListener=function(n){this.comp.registerBodyViewportResizeListener(n)},i.prototype.setVerticalScrollPaddingVisible=function(n){this.comp.setPinnedTopBottomOverflowY(n?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var n=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(n?Rf:null,n),n||vt(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var n=this,a=function(){var c=n.gridOptionsWrapper.isAnimateRows()&&!n.rowContainerHeightService.isStretching();n.comp.setRowAnimationCssOnBodyViewport(c?ed.ANIMATION_ON:ed.ANIMATION_OFF,c)};a(),this.addManagedListener(this.eventService,qe.EVENT_HEIGHT_SCALE_CHANGED,a)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var n=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(c){n.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&c.preventDefault();var d=c.target;(d===n.eBodyViewport||d===n.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&n.contextMenuFactory&&n.contextMenuFactory.onContextMenu(c,null,null,null,null,n.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},i.prototype.onWheel=function(n){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&n.preventDefault()},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(n){var a=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(a+n),this.eBodyViewport.scrollTop-a},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new ap(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.setFloatingHeights=function(){var n=this.pinnedRowModel,a=n.getPinnedTopTotalHeight();a&&(a+=1);var c=n.getPinnedBottomTotalHeight();c&&(c+=1),this.comp.setTopHeight(a),this.comp.setBottomHeight(c),this.comp.setTopDisplay(a?"inherit":"none"),this.comp.setBottomDisplay(c?"inherit":"none")},i.prototype.sizeColumnsToFit=function(n){var a=this,d=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,C=Ql(this.eBodyViewport)-d;C>0?this.columnModel.sizeColumnsToFit(C,"sizeColumnsToFit"):void 0===n?window.setTimeout(function(){a.sizeColumnsToFit(100)},0):100===n?window.setTimeout(function(){a.sizeColumnsToFit(500)},100):500===n?window.setTimeout(function(){a.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(n){this.eBodyViewport.addEventListener("scroll",n)},i.prototype.removeScrollEventListener=function(n){this.eBodyViewport.removeEventListener("scroll",n)},i.prototype.requestAngularApply=function(){var n=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){n.angularApplyTriggered=!1,n.$scope.$apply()},0))},i.prototype.addAngularApplyCheck=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return n.requestAngularApply()}),this.addManagedListener(this.eventService,qe.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return n.requestAngularApply()})},Ss([oe("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Ss([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Ss([oe("columnModel")],i.prototype,"columnModel",void 0),Ss([oe("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Ss([er("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ss([oe("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Ss([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),Ss([oe("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ss([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ss([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),Ss([oe("popupService")],i.prototype,"popupService",void 0),Ss([oe("mouseEventService")],i.prototype,"mouseEventService",void 0),Ss([oe("$scope")],i.prototype,"$scope",void 0),i}(wn),Tg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},l0='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+kn.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+kn.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+kn.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+kn.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+kn.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+kn.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+kn.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+kn.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+kn.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+kn.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+kn.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+kn.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',c0=function(u){function i(){return u.call(this,l0)||this}return Tg(i,u),i.prototype.init=function(){var n=this,a=function(d,v){var C=d+"px";v.style.minHeight=C,v.style.height=C},c={setRowAnimationCssOnBodyViewport:function(d,v){return n.setRowAnimationCssOnBodyViewport(d,v)},setColumnCount:function(d){return Ns(n.getGui(),d)},setRowCount:function(d){return Il(n.getGui(),d)},setTopHeight:function(d){return a(d,n.eTop)},setBottomHeight:function(d){return a(d,n.eBottom)},setTopDisplay:function(d){return n.eTop.style.display=d},setBottomDisplay:function(d){return n.eBottom.style.display=d},setColumnMovingCss:function(d,v){return n.addOrRemoveCssClass(f2,v)},updateLayoutClasses:function(d,v){var C=n.eBodyViewport.classList;C.toggle(qo.AUTO_HEIGHT,v.autoHeight),C.toggle(qo.NORMAL,v.normal),C.toggle(qo.PRINT,v.print),n.addOrRemoveCssClass(qo.AUTO_HEIGHT,v.autoHeight),n.addOrRemoveCssClass(qo.NORMAL,v.normal),n.addOrRemoveCssClass(qo.PRINT,v.print)},setAlwaysVerticalScrollClass:function(d,v){return n.eBodyViewport.classList.toggle(Rf,v)},registerBodyViewportResizeListener:function(d){var v=n.resizeObserverService.observeResize(n.eBodyViewport,d);n.addDestroyFunc(function(){return v()})},setPinnedTopBottomOverflowY:function(d){return n.eTop.style.overflowY=n.eBottom.style.overflowY=d},setCellSelectableCss:function(d,v){[n.eTop,n.eBodyViewport,n.eBottom].forEach(function(C){return C.classList.toggle(sp,v)})}};this.ctrl=this.createManagedBean(new g2),this.ctrl.setComp(c,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&ra(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(n,a){var c=this.eBodyViewport.classList;c.toggle(ed.ANIMATION_ON,a),c.toggle(ed.ANIMATION_OFF,!a)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},uu([oe("resizeObserverService")],i.prototype,"resizeObserverService",void 0),uu([er("rangeService")],i.prototype,"rangeService",void 0),uu([Fn("eBodyViewport")],i.prototype,"eBodyViewport",void 0),uu([Fn("eTop")],i.prototype,"eTop",void 0),uu([Fn("eBottom")],i.prototype,"eBottom",void 0),uu([Fn("gridHeader")],i.prototype,"headerRootComp",void 0),uu([Vt],i.prototype,"init",null),i}(di),xg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ff=function(u,i){return function(n,a){i(n,a,u)}},v2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.expressionToFunctionCache={},n}return xg(i,u),i.prototype.setBeans=function(n){this.logger=n.create("ExpressionService")},i.prototype.evaluate=function(n,a){return"function"==typeof n?n(a):"string"==typeof n?this.evaluateExpression(n,a):void console.error("AG Grid: value should be either a string or a function",n)},i.prototype.evaluateExpression=function(n,a){try{return this.createExpressionFunction(n)(a.value,a.context,a.oldValue,a.newValue,a.value,a.node,a.data,a.colDef,a.rowIndex,a.api,a.columnApi,a.getValue,a.column,a.columnGroup)}catch(v){return console.log("Processing of the expression failed"),console.log("Expression = "+n),console.log("Params =",a),console.log("Exception = "+v),null}},i.prototype.createExpressionFunction=function(n){if(this.expressionToFunctionCache[n])return this.expressionToFunctionCache[n];var a=this.createFunctionBody(n),c=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",a);return this.expressionToFunctionCache[n]=c,c},i.prototype.createFunctionBody=function(n){return n.indexOf("return")>=0?n:"return "+n+";"},vc([Ff(0,Er("loggerFactory"))],i.prototype,"setBeans",null),vc([mn("expressionService")],i)}(wn),m2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Lf=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.templateCache={},n.waitingCallbacks={},n}return m2(i,u),i.prototype.getTemplate=function(n,a){var c=this.templateCache[n];if(c)return c;var d=this.waitingCallbacks[n],v=this;if(!d){this.waitingCallbacks[n]=d=[];var C=new XMLHttpRequest;C.onload=function(){v.handleHttpResult(this,n)},C.open("GET",n),C.send()}return a&&d.push(a),null},i.prototype.handleHttpResult=function(n,a){if(200===n.status&&null!==n.response){this.templateCache[a]=n.response||n.responseText;for(var c=this.waitingCallbacks[a],d=0;d<c.length;d++)(0,c[d])();if(this.$scope){var C=this;window.setTimeout(function(){C.$scope.$apply()},0)}}else console.warn("AG Grid: Unable to get template error "+n.status+" - "+a)},u0([oe("$scope")],i.prototype,"$scope",void 0),u0([mn("templateService")],i)}(wn),Xd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Zd=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},td=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}var n;return Xd(i,u),n=i,i.addKeyboardModeEvents=function(a,c){var d=n.instancesMonitored.get(a);d&&d.length>0?-1===d.indexOf(c)&&d.push(c):(n.instancesMonitored.set(a,[c]),a.addEventListener("keydown",n.toggleKeyboardMode),a.addEventListener("mousedown",n.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(a,c){var d=n.instancesMonitored.get(a),v=[];d&&d.length&&(v=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Zd(arguments[i]));return u}(d).filter(function(C){return C!==c}),n.instancesMonitored.set(a,v)),0===v.length&&(a.removeEventListener("keydown",n.toggleKeyboardMode),a.removeEventListener("mousedown",n.toggleKeyboardMode))},i.toggleKeyboardMode=function(a){var c=n.keyboardModeActive,d="keydown"===a.type;if(!(d&&(a.ctrlKey||a.metaKey||a.altKey)||c&&d||!c&&!d)){n.keyboardModeActive=d;var v=a.target.ownerDocument;if(v){var C=n.instancesMonitored.get(v);C&&C.forEach(function(M){M.dispatchEvent({type:d?qe.EVENT_KEYBOARD_FOCUS:qe.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var a=this,c=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PIVOT_MODE_CHANGED,c),this.addManagedListener(this.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_GROUP_OPENED,c),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_ROW_GROUP_CHANGED,c),this.ctrlsService.whenReady(function(d){a.gridCtrl=d.gridCtrl;var v=a.gridOptionsWrapper.getDocument();n.addKeyboardModeEvents(v,a.gridCtrl),a.addDestroyFunc(function(){return a.unregisterGridCompController(a.gridCtrl)})})},i.prototype.unregisterGridCompController=function(a){var c=this.gridOptionsWrapper.getDocument();n.removeKeyboardModeEvents(c,a)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var a=this.focusedCellPosition.column,c=this.columnModel.getGridColumn(a.getId());a!==c&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return n.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var a=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(a.activeElement,iu.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var a=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(a.activeElement,np.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(a,c){for(var d=a;d;){if(this.gridOptionsWrapper.getDomData(d,c))return!1;d=d.parentNode}return!0},i.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.setFocusedCell=function(a,c,d,v){void 0===v&&(v=!1);var C=this.columnModel.getGridColumn(c);C?(this.focusedCellPosition=C?{rowIndex:a,rowPinned:Yt(d),column:C}:null,this.onCellFocused(v)):this.focusedCellPosition=null},i.prototype.isCellFocused=function(a){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===a.column&&this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isRowNodeFocused=function(a){return this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isHeaderWrapperFocused=function(a){if(null==this.focusedHeaderPosition)return!1;var c=a.getColumnGroupChild(),d=a.getRowIndex(),v=a.getPinned(),C=this.focusedHeaderPosition,M=C.column;return c===M&&d===C.headerRowIndex&&v==M.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(a,c){this.focusedHeaderPosition={headerRowIndex:a,column:c}},i.prototype.focusHeaderPosition=function(a){var c=a.direction,d=a.fromTab,C=a.event,M=a.headerPosition;if(a.allowUserOverride){var ye,L=this.gridOptionsWrapper,U=this.getFocusedHeader(),ce=this.headerNavigationService.getHeaderRowCount();d?(ye=L.getTabToNextHeaderFunc())&&(M=ye({backwards:"Before"===c,previousHeaderPosition:U,nextHeaderPosition:M,headerRowCount:ce,api:L.getApi(),columnApi:L.getColumnApi()})):(ye=L.getNavigateToNextHeaderFunc())&&C&&(M=ye({key:C.key,previousHeaderPosition:U,nextHeaderPosition:M,headerRowCount:ce,event:C,api:L.getApi(),columnApi:L.getColumnApi()}))}return!!M&&(-1===M.headerRowIndex?this.focusGridView(M.column):(this.headerNavigationService.scrollToColumn(M.column,c),this.ctrlsService.getHeaderRowContainerCtrl(M.column.getPinned()).focusHeader(M.headerRowIndex,M.column,C)))},i.prototype.focusFirstHeader=function(){var a=this.columnModel.getAllDisplayedColumns()[0];return!!a&&(a.getParent()&&(a=this.columnModel.getColumnGroupAtLevel(a,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:a}}))},i.prototype.focusLastHeader=function(a){var c=this.headerNavigationService.getHeaderRowCount()-1,d=ft(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},event:a})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(a,c){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===a&&this.focusedCellPosition.rowPinned===Yt(c)},i.prototype.findFocusableElements=function(a,c,d){void 0===d&&(d=!1);var C=xe.FOCUSABLE_EXCLUDE;c&&(C+=", "+c),d&&(C+=', [tabindex="-1"]');var ye,M=Array.prototype.slice.apply(a.querySelectorAll(xe.FOCUSABLE_SELECTOR)),L=Array.prototype.slice.apply(a.querySelectorAll(C));return L.length?(ye=L,M.filter(function(it){return-1===ye.indexOf(it)})):M},i.prototype.focusInto=function(a,c,d){void 0===c&&(c=!1),void 0===d&&(d=!1);var v=this.findFocusableElements(a,null,d),C=c?ft(v):v[0];return!!C&&(C.focus(),!0)},i.prototype.findNextFocusableElement=function(a,c,d){void 0===a&&(a=this.eGridDiv);var v=this.findFocusableElements(a,c?':not([tabindex="-1"])':null),M=this.gridOptionsWrapper.getDocument().activeElement,U=(c?v.findIndex(function(ce){return ce.contains(M)}):v.indexOf(M))+(d?-1:1);return U<0||U>=v.length?null:v[U]},i.prototype.isFocusUnderManagedComponent=function(a){var c=this.gridOptionsWrapper.getDocument(),d=a.querySelectorAll("."+zo.FOCUS_MANAGED_CLASS);if(!d.length)return!1;for(var v=0;v<d.length;v++)if(d[v].contains(c.activeElement))return!0;return!1},i.prototype.findTabbableParent=function(a,c){void 0===c&&(c=5);for(var d=0;a&&null===Zr(a)&&++d<=c;)a=a.parentElement;return null===Zr(a)?null:a},i.prototype.onCellFocused=function(a){var c={type:qe.EVENT_CELL_FOCUSED,forceBrowserFocus:a,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var d=c.rowIndex=this.focusedCellPosition.rowIndex,v=c.rowPinned=this.focusedCellPosition.rowPinned;c.column=this.focusedCellPosition.column;var C=this.rowRenderer.getRowByPosition({rowIndex:d,rowPinned:v});C&&(c.isFullWidthCell=C.isFullWidth())}this.eventService.dispatchEvent(c)},i.prototype.focusGridView=function(a,c){if(this.gridOptionsWrapper.isSuppressCellFocus())return c?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var d=c?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!d)return!1;var v=d.rowIndex,C=d.rowPinned,M=this.getFocusedHeader();return!a&&M&&(a=M.column),!(null==v||!a)&&(this.navigationService.ensureCellVisible({rowIndex:v,column:a,rowPinned:C}),this.setFocusedCell(v,a,Yt(C),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:v,rowPinned:C,column:a}),!0)},i.prototype.focusNextGridCoreContainer=function(a){return!!this.gridCtrl.focusNextInnerContainer(a)||(a||this.gridCtrl.forceFocusOutOfContainer(),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,bs([oe("eGridDiv")],i.prototype,"eGridDiv",void 0),bs([oe("columnModel")],i.prototype,"columnModel",void 0),bs([oe("headerNavigationService")],i.prototype,"headerNavigationService",void 0),bs([oe("columnApi")],i.prototype,"columnApi",void 0),bs([oe("gridApi")],i.prototype,"gridApi",void 0),bs([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),bs([oe("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),bs([er("rangeService")],i.prototype,"rangeService",void 0),bs([oe("navigationService")],i.prototype,"navigationService",void 0),bs([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),bs([Vt],i.prototype,"init",null),n=bs([mn("focusService")],i)}(wn),Mg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),nd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},mc=(()=>(function(u){u[u.vertical=0]="vertical",u[u.horizontal=1]="horizontal"}(mc||(mc={})),mc))(),C2=0,Pg=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.popupList=[],n}return Mg(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridCtrl=a.gridCtrl,n.addManagedListener(n.gridCtrl,qe.EVENT_KEYBOARD_FOCUS,function(){n.popupList.forEach(function(c){return c.element.classList.add(td.AG_KEYBOARD_FOCUS)})}),n.addManagedListener(n.gridCtrl,qe.EVENT_MOUSE_FOCUS,function(){n.popupList.forEach(function(c){return c.element.classList.remove(td.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(n){var a=n.eventSource.getBoundingClientRect(),c=this.getParentRect(),d=this.keepXYWithinBounds(n.ePopup,a.top-c.top,mc.vertical),v=n.ePopup.clientWidth>0?n.ePopup.clientWidth:200;n.ePopup.style.minWidth=v+"px";var L,M=c.right-c.left-v;function U(){return a.right-c.left-2}function ce(){return a.left-c.left-v}this.gridOptionsWrapper.isEnableRtl()?((L=ce())<0&&(L=U()),L>M&&(L=0)):((L=U())>M&&(L=ce()),L<0&&(L=0)),n.ePopup.style.left=L+"px",n.ePopup.style.top=d+"px"},i.prototype.positionPopupUnderMouseEvent=function(n){var a=n.ePopup,c=n.nudgeX,d=n.nudgeY,v=this.calculatePointerAlign(n.mouseEvent);this.positionPopup({ePopup:a,x:v.x,y:v.y,nudgeX:c,nudgeY:d,keepWithinBounds:!0}),this.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)},i.prototype.calculatePointerAlign=function(n){var a=this.getParentRect();return{x:n.clientX-a.left,y:n.clientY-a.top}},i.prototype.positionPopupUnderComponent=function(n){var a=n.eventSource.getBoundingClientRect(),c=n.alignSide||"left",d=this.getParentRect(),v=a.left-d.left;"right"===c&&(v-=n.ePopup.offsetWidth-a.width),this.positionPopup({ePopup:n.ePopup,nudgeX:n.nudgeX,nudgeY:n.nudgeY,x:v,y:a.top-d.top+a.height,keepWithinBounds:n.keepWithinBounds}),this.callPostProcessPopup(n.type,n.ePopup,n.eventSource,null,n.column,n.rowNode)},i.prototype.positionPopupOverComponent=function(n){var a=n.eventSource.getBoundingClientRect(),c=this.getParentRect();this.positionPopup({ePopup:n.ePopup,nudgeX:n.nudgeX,nudgeY:n.nudgeY,x:a.left-c.left,y:a.top-c.top,keepWithinBounds:n.keepWithinBounds}),this.callPostProcessPopup(n.type,n.ePopup,n.eventSource,null,n.column,n.rowNode)},i.prototype.callPostProcessPopup=function(n,a,c,d,v,C){var M=this.gridOptionsWrapper.getPostProcessPopupFunc();M&&M({column:v,rowNode:C,ePopup:a,type:n,eventSource:c,mouseEvent:d})},i.prototype.positionPopup=function(n){var a=n.ePopup,d=n.nudgeX,v=n.nudgeY,C=n.x,M=n.y;d&&(C+=d),v&&(M+=v),n.keepWithinBounds&&(C=this.keepXYWithinBounds(a,C,mc.horizontal),M=this.keepXYWithinBounds(a,M,mc.vertical)),a.style.left=C+"px",a.style.top=M+"px"},i.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var n=this.gridOptionsWrapper.getDocument(),a=this.getPopupParent();a===n.body&&(a=n.documentElement);var c=getComputedStyle(a),d=a.getBoundingClientRect();return{top:d.top+parseFloat(c.borderTopWidth)||0,left:d.left+parseFloat(c.borderLeftWidth)||0,right:d.right+parseFloat(c.borderRightWidth)||0,bottom:d.bottom+parseFloat(c.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(n,a,c){var d=c===mc.vertical,v=d?"clientHeight":"clientWidth",C=d?"top":"left",M=d?"offsetHeight":"offsetWidth",L=d?"scrollTop":"scrollLeft",U=this.gridOptionsWrapper.getDocument(),ce=U.documentElement,ye=this.getPopupParent(),it=ye.getBoundingClientRect(),bt=U.documentElement.getBoundingClientRect(),Wt=ye===U.body,cn=n[M],_n=Wt?(d?uo:Jl)(ce)+ce[L]:ye[v];Wt&&(_n-=Math.abs(bt[C]-it[C]));var An=_n-cn;return Math.min(Math.max(a,0),Math.abs(An))},i.prototype.keepPopupPositionedRelativeTo=function(n){var a=this,c=this.getPopupParent(),d=c.getBoundingClientRect(),v=n.element.getBoundingClientRect(),C=d.top-v.top,M=d.left-v.left,L=C,U=M,ce=n.ePopup.style.top,ye=parseInt(ce.substring(0,ce.length-1),10),it=n.ePopup.style.left,bt=parseInt(it.substring(0,it.length-1),10);return new os(function(Wt){a.getFrameworkOverrides().setInterval(function(){var cn=c.getBoundingClientRect(),Kt=n.element.getBoundingClientRect();if(0==Kt.top&&0==Kt.left&&0==Kt.height&&0==Kt.width)n.hidePopup();else{var An=cn.top-Kt.top;if(An!=L){var qn=a.keepXYWithinBounds(n.ePopup,ye+C-An,mc.vertical);n.ePopup.style.top=qn+"px"}L=An;var Ir=cn.left-Kt.left;if(Ir!=U){var _i=a.keepXYWithinBounds(n.ePopup,bt+M-Ir,mc.horizontal);n.ePopup.style.left=_i+"px"}U=Ir}},200).then(function(cn){Wt(function(){null!=cn&&window.clearInterval(cn)})})})},i.prototype.addPopup=function(n){var a=this,c=n.modal,d=n.eChild,v=n.closeOnEsc,C=n.closedCallback,M=n.click,L=n.alwaysOnTop,U=n.afterGuiAttached,ce=n.positionCallback,ye=n.anchorToElement,it=n.ariaLabel,bt=this.gridOptionsWrapper.getDocument(),Wt=new os(function(Oi){return Oi(function(){})});if(!bt)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Wt};var cn=this.popupList.findIndex(function(Oi){return Oi.element===d});if(-1!==cn){var Kt=this.popupList[cn];return{hideFunc:Kt.hideFunc,stopAnchoringPromise:Kt.stopAnchoringPromise}}var _n=this.getPopupParent();null==d.style.top&&(d.style.top="0px"),null==d.style.left&&(d.style.left="0px");var An=document.createElement("div"),qn=this.environment.getTheme().theme;qn&&An.classList.add(qn),An.classList.add("ag-popup"),d.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),d.hasAttribute("role")||Xi(d,"dialog"),xr(d,it),this.focusService.isKeyboardMode()&&d.classList.add(td.AG_KEYBOARD_FOCUS),An.appendChild(d),_n.appendChild(An),L?this.setAlwaysOnTop(An,!0):this.bringPopupToFront(An);var Ir=!1,_i=function(Oi){An.contains(bt.activeElement)&&Oi.key===Nn.ESCAPE&&kr({keyboardEvent:Oi})},ni=function(Oi){return kr({mouseEvent:Oi})},ii=function(Oi){return kr({touchEvent:Oi})},kr=function(Oi){void 0===Oi&&(Oi={});var Fa=Oi.mouseEvent,ba=Oi.touchEvent,yu=Oi.keyboardEvent;a.isEventFromCurrentPopup({mouseEvent:Fa,touchEvent:ba},d)||a.isEventSameChainAsOriginalEvent({originalMouseEvent:M,mouseEvent:Fa,touchEvent:ba})||Ir||(Ir=!0,_n.removeChild(An),bt.removeEventListener("keydown",_i),bt.removeEventListener("mousedown",ni),bt.removeEventListener("touchstart",ii),bt.removeEventListener("contextmenu",ni),a.eventService.removeEventListener(qe.EVENT_DRAG_STARTED,ni),C&&C(Fa||ba||yu),a.popupList=a.popupList.filter(function(Xs){return Xs.element!==d}),Wt&&Wt.then(function(Xs){return Xs&&Xs()}))};return U&&U({hidePopup:kr}),window.setTimeout(function(){v&&bt.addEventListener("keydown",_i),c&&(bt.addEventListener("mousedown",ni),a.eventService.addEventListener(qe.EVENT_DRAG_STARTED,ni),bt.addEventListener("touchstart",ii),bt.addEventListener("contextmenu",ni))},0),ce&&ce(),ye&&(Wt=this.keepPopupPositionedRelativeTo({element:ye,ePopup:d,hidePopup:kr})),this.popupList.push({element:d,wrapper:An,hideFunc:kr,stopAnchoringPromise:Wt,instanceId:C2++,isAnchored:!!ye}),{hideFunc:kr,stopAnchoringPromise:Wt}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},i.prototype.isEventFromCurrentPopup=function(n,a){var v=n.mouseEvent||n.touchEvent;if(!v)return!1;var C=this.popupList.findIndex(function(U){return U.element===a});if(-1===C)return!1;for(var M=C;M<this.popupList.length;M++)if(Ei(this.popupList[M].element,v))return!0;return this.isElementWithinCustomPopup(v.target)},i.prototype.isElementWithinCustomPopup=function(n){for(var a=this.gridOptionsWrapper.getDocument();n&&n!==a.body;){if(n.classList.contains("ag-custom-component-popup")||null===n.parentElement)return!0;n=n.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(n){var a=n.originalMouseEvent,c=n.mouseEvent,d=n.touchEvent,v=null;if(c?v=c:d&&(v=d.touches[0]),v&&a){var M=c?c.screenY:0,L=Math.abs(a.screenX-(c?c.screenX:0))<5,U=Math.abs(a.screenY-M)<5;if(L&&U)return!0}return!1},i.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},i.prototype.setAlwaysOnTop=function(n,a){var c=this.getWrapper(n);!c||(c.classList.toggle("ag-always-on-top",!!a),a&&this.bringPopupToFront(c))},i.prototype.bringPopupToFront=function(n){var a=this.getPopupParent(),c=Array.prototype.slice.call(a.querySelectorAll(".ag-popup")),d=c.length,v=Array.prototype.slice.call(a.querySelectorAll(".ag-popup.ag-always-on-top")),C=v.length,M=this.getWrapper(n);if(M&&!(d<=1)&&a.contains(n)){var L=c.indexOf(M),U=M.querySelectorAll("div"),ce=[];for(U.forEach(function(Wt){0!==Wt.scrollTop&&ce.push([Wt,Wt.scrollTop])}),C?M.classList.contains("ag-always-on-top")?L!==d-1&&ft(v).insertAdjacentElement("afterend",M):L!==d-C-1&&v[0].insertAdjacentElement("beforebegin",M):L!==d-1&&ft(c).insertAdjacentElement("afterend",M);ce.length;){var it=ce.pop();it[0].scrollTop=it[1]}var bt={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:M};this.eventService.dispatchEvent(bt)}},nd([oe("environment")],i.prototype,"environment",void 0),nd([oe("focusService")],i.prototype,"focusService",void 0),nd([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),nd([Vt],i.prototype,"postConstruct",null),nd([mn("popupService")],i)}(wn),d0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ag=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},lp=function(u,i){return function(n,a){i(n,a,u)}},ml=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return d0(i,u),i.prototype.setBeans=function(n){this.logging=n.isDebug()},i.prototype.create=function(n){return new If(n,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},Ag([lp(0,Er("gridOptionsWrapper"))],i.prototype,"setBeans",null),Ag([mn("loggerFactory")],i)}(wn),If=function(){function u(i,n){this.name=i,this.isLoggingFunc=n}return u.prototype.isLogging=function(){return this.isLoggingFunc()},u.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},u}(),Rg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Nf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cp=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Rg(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(n,a){var c=this.getHeaderCellForColumn(n);if(!c)return-1;var d=this.rowRenderer.getAllCellsForColumn(n);return a||d.push(c),this.addElementsToContainerAndGetWidth(d)},i.prototype.getPreferredWidthForColumnGroup=function(n){var a=this.getHeaderCellForColumn(n);return a?this.addElementsToContainerAndGetWidth([a]):-1},i.prototype.addElementsToContainerAndGetWidth=function(n){var a=this,c=document.createElement("span");c.style.position="fixed";var d=this.centerRowContainerCon.getContainerElement();d.appendChild(c),n.forEach(function(M){return a.cloneItemIntoDummy(M,c)});var v=c.offsetWidth;return d.removeChild(c),v+this.gridOptionsWrapper.getAutoSizePadding()},i.prototype.getHeaderCellForColumn=function(n){var a=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(c){var d=c.getHtmlElementForColumnHeader(n);null!=d&&(a=d)}),a},i.prototype.cloneItemIntoDummy=function(n,a){var c=n.cloneNode(!0);c.style.width="",c.style.position="static",c.style.left="";var d=document.createElement("div"),v=d.classList;["ag-header-cell","ag-header-group-cell"].some(function(ye){return c.classList.contains(ye)})?(v.add("ag-header","ag-header-row"),d.style.position="static"):v.add("ag-row");for(var M=n.parentElement;M;){if(["ag-header-row","ag-row"].some(function(ye){return M.classList.contains(ye)})){for(var U=0;U<M.classList.length;U++){var ce=M.classList[U];"ag-row-position-absolute"!=ce&&v.add(ce)}break}M=M.parentElement}d.appendChild(c),a.appendChild(d)},Nf([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),Nf([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Nf([oe("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),Nf([Vt],i.prototype,"postConstruct",null),Nf([mn("autoWidthCalculator")],i)}(wn),Fg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),h0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},q3=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Fg(i,u),i.prototype.addResizeBar=function(n){var a=this,c={dragStartPixels:n.dragStartPixels||0,eElement:n.eResizeBar,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this,n),onDragging:this.onDragging.bind(this,n)};return this.dragService.addDragSource(c,!0),function(){return a.dragService.removeDragSource(c)}},i.prototype.onDragStart=function(n,a){this.dragStartX=a.clientX,this.setResizeIcons();var c=a instanceof MouseEvent&&!0===a.shiftKey;n.onResizeStart(c)},i.prototype.setResizeIcons=function(){var n=this.ctrlsService.getGridCtrl();n.setResizeCursor(!0),n.disableUserSelect(!0)},i.prototype.onDragStop=function(n,a){n.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var n=this.ctrlsService.getGridCtrl();n.setResizeCursor(!1),n.disableUserSelect(!1)},i.prototype.onDragging=function(n,a){this.resizeAmount=a.clientX-this.dragStartX,n.onResizing(this.resizeAmount)},h0([oe("dragService")],i.prototype,"dragService",void 0),h0([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),h0([mn("horizontalResizeService")],i)}(wn),_2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_a=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Qd=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return _2(i,u),i.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},i.prototype.setComp=function(n,a,c){var d=this;this.view=n,this.eGridHostDiv=a,this.eGui=c,this.mouseEventService.stampTopLevelGridCompWithGridInstance(a),this.createManagedBean(new Pf(this.view)),this.addRtlSupport(),this.addManagedListener(this,qe.EVENT_KEYBOARD_FOCUS,function(){d.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,qe.EVENT_MOUSE_FOCUS,function(){d.view.addOrRemoveKeyboardFocusClass(!1)});var v=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return v()})},i.prototype.showDropZones=function(){return an.isRegistered(Nt.RowGroupingModule)},i.prototype.showSideBar=function(){return an.isRegistered(Nt.SideBarModule)},i.prototype.showStatusBar=function(){return an.isRegistered(Nt.StatusBarModule)},i.prototype.showWatermark=function(){return an.isRegistered(Nt.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:qe.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var n=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(n)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(n){this.view.setCursor(n?"ew-resize":null)},i.prototype.disableUserSelect=function(n){this.view.setUserSelect(n?"none":null)},i.prototype.focusNextInnerContainer=function(n){var a=this.gridOptionsWrapper.getDocument(),c=this.view.getFocusableContainers(),v=c.findIndex(function(C){return C.contains(a.activeElement)})+(n?-1:1);return!(v<=0||v>=c.length)&&this.focusService.focusInto(c[v])},i.prototype.focusInnerElement=function(n){var a=this.view.getFocusableContainers();if(n){if(a.length>1)return this.focusService.focusInto(ft(a),!0);var c=ft(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(c,!0))return!0}return this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1),this.view.forceFocusOutOfContainer(n)},_a([oe("columnApi")],i.prototype,"columnApi",void 0),_a([oe("gridApi")],i.prototype,"gridApi",void 0),_a([oe("focusService")],i.prototype,"focusService",void 0),_a([oe("resizeObserverService")],i.prototype,"resizeObserverService",void 0),_a([oe("columnModel")],i.prototype,"columnModel",void 0),_a([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),_a([oe("mouseEventService")],i.prototype,"mouseEventService",void 0),_a([Vt],i.prototype,"postConstruct",null),i}(wn),Jd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Lg=function(u){function i(n){var a=u.call(this)||this;a.skipTabGuardFocus=!1;var d=n.eTopGuard,v=n.eBottomGuard,C=n.focusInnerElement,M=n.onFocusIn,L=n.onFocusOut,U=n.shouldStopEventPropagation,ce=n.onTabKeyDown,ye=n.handleKeyDown,it=n.eFocusableElement;return a.comp=n.comp,a.eTopGuard=d,a.eBottomGuard=v,a.providedFocusInnerElement=C,a.eFocusableElement=it,a.providedFocusIn=M,a.providedFocusOut=L,a.providedShouldStopEventPropagation=U,a.providedOnTabKeyDown=ce,a.providedHandleKeyDown=ye,a}return Jd(i,u),i.prototype.postConstruct=function(){var n=this;this.createManagedBean(new zo(this.eFocusableElement,{shouldStopEventPropagation:function(){return n.shouldStopEventPropagation()},onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)},onFocusIn:function(a){return n.onFocusIn(a)},onFocusOut:function(a){return n.onFocusOut(a)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(a){return n.addManagedListener(a,"focus",n.onFocus.bind(n))})},i.prototype.handleKeyDown=function(n){this.providedHandleKeyDown&&this.providedHandleKeyDown(n)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(n){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var a=n.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(a):this.focusInnerElement(a)}},i.prototype.onFocusIn=function(n){this.providedFocusIn&&this.providedFocusIn(n)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(n){this.providedFocusOut&&this.providedFocusOut(n)||this.eFocusableElement.contains(n.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(n){var a=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(n);else if(!n.defaultPrevented){var c=this.tabGuardsAreActive();c&&this.deactivateTabGuards();var d=this.getNextFocusableElement(n.shiftKey);c&&setTimeout(function(){return a.activateTabGuards()},0),d&&(d.focus(),n.preventDefault())}},i.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},i.prototype.focusInnerElement=function(n){void 0===n&&(n=!1);var a=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(a.splice(0,1),a.splice(a.length-1,1)),a.length&&a[n?a.length-1:0].focus()},i.prototype.getNextFocusableElement=function(n){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n)},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1);var a=n?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,a.focus()},rd([oe("focusService")],i.prototype,"focusService",void 0),rd([Vt],i.prototype,"postConstruct",null),i}(wn),wa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),w2=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},up=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return wa(i,u),i.prototype.initialiseTabGuard=function(n){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var a=[this.eTopGuard,this.eBottomGuard],c={setTabIndex:function(d){a.forEach(function(v){return null!=d?v.setAttribute("tabIndex",d):v.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Lg({comp:c,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:n.onFocusIn,onFocusOut:n.onFocusOut,focusInnerElement:n.focusInnerElement,handleKeyDown:n.handleKeyDown,onTabKeyDown:n.onTabKeyDown,shouldStopEventPropagation:n.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(n){var a=document.createElement("div");return a.classList.add("ag-tab-guard","ag-tab-guard-"+n),Xi(a,"presentation"),a},i.prototype.addTabGuards=function(n,a){this.eFocusableElement.insertAdjacentElement("afterbegin",n),this.eFocusableElement.insertAdjacentElement("beforeend",a)},i.prototype.removeAllChildrenExceptTabGuards=function(){var n=[this.eTopGuard,this.eBottomGuard];j(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(w2(arguments[i]));return u}(n))},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1),this.tabGuardCtrl.forceFocusOutOfContainer(n)},i.prototype.appendChild=function(n,a){Nr(n)||(n=n.getGui());var c=this.eBottomGuard;c?c.insertAdjacentElement("beforebegin",n):u.prototype.appendChild.call(this,n,a)},i}(di),dp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),id=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},po=function(u){function i(n){var a=u.call(this,void 0)||this;return a.eGridDiv=n,a}return dp(i,u),i.prototype.postConstruct=function(){var n=this;this.logger=this.loggerFactory.create("GridComp");var a={destroyGridUi:function(){return n.destroyBean(n)},setRtlClass:function(d){return n.addCssClass(d)},addOrRemoveKeyboardFocusClass:function(d){return n.addOrRemoveCssClass(td.AG_KEYBOARD_FOCUS,d)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(d){n.getGui().style.userSelect=null!=d?d:"",n.getGui().style.webkitUserSelect=null!=d?d:""},setCursor:function(d){n.getGui().style.cursor=null!=d?d:""}};this.ctrl=this.createManagedBean(new Qd);var c=this.createTemplate();this.setTemplate(c),this.ctrl.setComp(a,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(d){return n.ctrl.focusInnerElement(d)}})},i.prototype.insertGridIntoDom=function(){var n=this,a=this.getGui();this.eGridDiv.appendChild(a),this.addDestroyFunc(function(){n.eGridDiv.removeChild(a),n.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(n,a){var c=this.eRootWrapperBody.classList;c.toggle(qo.AUTO_HEIGHT,a.autoHeight),c.toggle(qo.NORMAL,a.normal),c.toggle(qo.PRINT,a.print),this.addOrRemoveCssClass(qo.AUTO_HEIGHT,a.autoHeight),this.addOrRemoveCssClass(qo.NORMAL,a.normal),this.addOrRemoveCssClass(qo.PRINT,a.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var n=[this.gridBodyComp.getGui()];return this.sideBarComp&&n.push(this.sideBarComp.getGui()),n.filter(function(a){return He(a)})},id([oe("loggerFactory")],i.prototype,"loggerFactory",void 0),id([Fn("gridBody")],i.prototype,"gridBodyComp",void 0),id([Fn("sideBar")],i.prototype,"sideBarComp",void 0),id([Fn("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),id([Vt],i.prototype,"postConstruct",null),i}(up),p0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),du=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},b2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.dragEndFunctions=[],n.dragSources=[],n}return p0(i,u),i.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(n){var a=n.dragSource.eElement;a.removeEventListener("mousedown",n.mouseDownListener),n.touchEnabled&&a.removeEventListener("touchstart",n.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(n){var a=this.dragSources.find(function(c){return c.dragSource===n});!a||(this.removeListener(a),zn(this.dragSources,a))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(n,a){var c=this;void 0===a&&(a=!1);var d=this.onMouseDown.bind(this,n);n.eElement.addEventListener("mousedown",d);var v=null,C=this.gridOptionsWrapper.isSuppressTouch();a&&!C&&n.eElement.addEventListener("touchstart",v=function(M){M.cancelable&&M.preventDefault(),c.onTouchStart(n,M)},{passive:!0}),this.dragSources.push({dragSource:n,mouseDownListener:d,touchStartListener:v,touchEnabled:a})},i.prototype.onTouchStart=function(n,a){var c=this;this.currentDragParams=n,this.dragging=!1;var d=a.touches[0];this.touchLastTime=d,this.touchStart=d;var C=function(ce){return c.onTouchUp(ce,n.eElement)},L=n.eElement,U=[{target:document,type:"touchmove",listener:function(ce){ce.cancelable&&ce.preventDefault()},options:{passive:!1}},{target:L,type:"touchmove",listener:function(ce){return c.onTouchMove(ce,n.eElement)},options:{passive:!0}},{target:L,type:"touchend",listener:C,options:{passive:!0}},{target:L,type:"touchcancel",listener:C,options:{passive:!0}}];this.addTemporaryEvents(U),0===n.dragStartPixels&&this.onCommonMove(d,this.touchStart,n.eElement)},i.prototype.onMouseDown=function(n,a){var c=this,d=a;if(!(n.skipMouseEvent&&n.skipMouseEvent(a)||d._alreadyProcessedByDragService||(d._alreadyProcessedByDragService=!0,0!==a.button))){this.currentDragParams=n,this.dragging=!1,this.mouseStartEvent=a;var v=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:v,type:"mousemove",listener:function(ye){return c.onMouseMove(ye,n.eElement)}},{target:v,type:"mouseup",listener:function(ye){return c.onMouseUp(ye,n.eElement)}},{target:v,type:"contextmenu",listener:function(ye){return ye.preventDefault()}}]),0===n.dragStartPixels&&this.onMouseMove(a,n.eElement)}},i.prototype.addTemporaryEvents=function(n){n.forEach(function(a){a.target.addEventListener(a.type,a.listener,a.options)}),this.dragEndFunctions.push(function(){n.forEach(function(a){a.target.removeEventListener(a.type,a.listener,a.options)})})},i.prototype.isEventNearStartEvent=function(n,a){var c=this.currentDragParams.dragStartPixels;return Ph(n,a,se(c)?c:4)},i.prototype.getFirstActiveTouch=function(n){for(var a=0;a<n.length;a++)if(n[a].identifier===this.touchStart.identifier)return n[a];return null},i.prototype.onCommonMove=function(n,a,c){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(n,a))return;this.dragging=!0,this.eventService.dispatchEvent({type:qe.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:c}),this.currentDragParams.onDragStart(a),this.currentDragParams.onDragging(a)}this.currentDragParams.onDragging(n)},i.prototype.onTouchMove=function(n,a){var c=this.getFirstActiveTouch(n.touches);!c||this.onCommonMove(c,this.touchStart,a)},i.prototype.onMouseMove=function(n,a){"mousemove"===n.type&&n.cancelable&&n.preventDefault(),this.onCommonMove(n,this.mouseStartEvent,a)},i.prototype.onTouchUp=function(n,a){var c=this.getFirstActiveTouch(n.changedTouches);c||(c=this.touchLastTime),this.onUpCommon(c,a)},i.prototype.onMouseUp=function(n,a){this.onUpCommon(n,a)},i.prototype.onUpCommon=function(n,a){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(n),this.eventService.dispatchEvent({type:qe.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:a})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(d){return d()}),this.dragEndFunctions.length=0},du([oe("loggerFactory")],i.prototype,"loggerFactory",void 0),du([oe("columnApi")],i.prototype,"columnApi",void 0),du([oe("gridApi")],i.prototype,"gridApi",void 0),du([Vt],i.prototype,"init",null),du([fn],i.prototype,"removeAllListeners",null),du([mn("dragService")],i)}(wn),X3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ig=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}var n;return X3(i,u),n=i,i.prototype.progressSort=function(a,c,d){void 0===d&&(d="api");var v=this.getNextSortDirection(a);this.setSortForColumn(a,v,c,d)},i.prototype.setSortForColumn=function(a,c,d,v){void 0===v&&(v="api"),c!==xe.SORT_ASC&&c!==xe.SORT_DESC&&(c=null),a.setSort(c,v),d&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(a,v),this.updateSortIndex(a),this.dispatchSortChangedEvents()},i.prototype.updateSortIndex=function(a){var c=this.getColumnsWithSortingOrdered(),d=0;c.forEach(function(C){C!==a&&(C.setSortIndex(d),d++)}),a.getSort()&&a.setSortIndex(d),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(C){return null==C.getSort()}).forEach(function(C){return C.setSortIndex()})},i.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},i.prototype.isSortActive=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(d){return!!d.getSort()});return c&&c.length>0},i.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:qe.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearSortBarThisColumn=function(a,c){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(d){d!==a&&d.setSort(void 0,c)})},i.prototype.getNextSortDirection=function(a){var c;if(c=a.getColDef().sortingOrder?a.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(c)||c.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+c),null;var M,d=c.indexOf(a.getSort());return n.DEFAULT_SORTING_ORDER.indexOf(M=d<0||d==c.length-1?c[0]:c[d+1])<0?(console.warn("AG Grid: invalid sort type "+M),null):M},i.prototype.getColumnsWithSortingOrdered=function(){var a=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),c=a.filter(function(v){return!!v.getSort()}),d={};return a.forEach(function(v,C){return d[v.getId()]=C}),c.sort(function(v,C){var M=v.getSortIndex(),L=C.getSortIndex();return null!=M&&null!=L?M-L:null==M&&null==L?d[v.getId()]>d[C.getId()]?1:-1:null==L?-1:1}),c},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),colId:a.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),column:a}})},i.DEFAULT_SORTING_ORDER=[xe.SORT_ASC,xe.SORT_DESC,null],hp([oe("columnModel")],i.prototype,"columnModel",void 0),hp([oe("columnApi")],i.prototype,"columnApi",void 0),hp([oe("gridApi")],i.prototype,"gridApi",void 0),n=hp([mn("sortController")],i)}(wn),E2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),od=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},f0=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.gridInstanceId=n.gridInstanceSequence.next(),a}var n;return E2(i,u),n=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(a){a[n.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(a){return to(this.gridOptionsWrapper,a,cc.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(a){return this.isElementInThisGrid(a.target)},i.prototype.isElementInThisGrid=function(a){for(var c=a;c;){var d=c[n.GRID_DOM_KEY];if(se(d))return d===this.gridInstanceId;c=c.parentElement}return!1},i.prototype.getCellPositionForEvent=function(a){var c=this.getRenderedCellForEvent(a);return c?c.getCellPosition():null},i.prototype.getNormalisedPosition=function(a){var v,C,c=this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_NORMAL;if(null!=a.clientX||null!=a.clientY?(v=a.clientX,C=a.clientY):(v=a.x,C=a.y),c){var M=this.ctrlsService.getGridBodyCtrl(),L=M.getScrollFeature().getVScrollPosition();v+=M.getScrollFeature().getHScrollPosition().left,C+=L.top}return{x:v,y:C}},i.gridInstanceSequence=new Ed,i.GRID_DOM_KEY="__ag_grid_instance",od([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),n=od([mn("mouseEventService")],i)}(wn),Z3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ya=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Q3=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Z3(i,u),i.prototype.getNextCellToFocus=function(n,a){for(var c=a,d=!1;!d;){switch(n){case Nn.UP:c=this.getCellAbove(c);break;case Nn.DOWN:c=this.getCellBelow(c);break;case Nn.RIGHT:c=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(c):this.getCellToRight(c);break;case Nn.LEFT:c=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(c):this.getCellToLeft(c);break;default:c=null,console.warn("AG Grid: unknown key for navigation "+n)}d=!c||this.isCellGoodToFocusOn(c)}return c},i.prototype.isCellGoodToFocusOn=function(n){var c,a=n.column;switch(n.rowPinned){case xe.PINNED_TOP:c=this.pinnedRowModel.getPinnedTopRow(n.rowIndex);break;case xe.PINNED_BOTTOM:c=this.pinnedRowModel.getPinnedBottomRow(n.rowIndex);break;default:c=this.rowModel.getRow(n.rowIndex)}return!!c&&!a.isSuppressNavigable(c)},i.prototype.getCellToLeft=function(n){if(!n)return null;var a=this.columnModel.getDisplayedColBefore(n.column);return a?{rowIndex:n.rowIndex,column:a,rowPinned:n.rowPinned}:null},i.prototype.getCellToRight=function(n){if(!n)return null;var a=this.columnModel.getDisplayedColAfter(n.column);return a?{rowIndex:n.rowIndex,column:a,rowPinned:n.rowPinned}:null},i.prototype.getRowBelow=function(n){var a=n.rowIndex,c=n.rowPinned;if(this.isLastRowInContainer(n))switch(c){case xe.PINNED_BOTTOM:return null;case xe.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(xe.PINNED_BOTTOM)?{rowIndex:0,rowPinned:xe.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(xe.PINNED_BOTTOM)?{rowIndex:0,rowPinned:xe.PINNED_BOTTOM}:null}return{rowIndex:a+1,rowPinned:c}},i.prototype.getCellBelow=function(n){if(!n)return null;var a=this.getRowBelow(n);return a?{rowIndex:a.rowIndex,column:n.column,rowPinned:a.rowPinned}:null},i.prototype.isLastRowInContainer=function(n){var a=n.rowPinned,c=n.rowIndex;return a===xe.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=c:a===xe.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=c:this.paginationProxy.getPageLastRow()<=c},i.prototype.getRowAbove=function(n){var a=n.rowIndex,c=n.rowPinned;return(c?0===a:a===this.paginationProxy.getPageFirstRow())?c===xe.PINNED_TOP?null:c&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(xe.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:a-1,rowPinned:c}},i.prototype.getCellAbove=function(n){if(!n)return null;var a=this.getRowAbove({rowIndex:n.rowIndex,rowPinned:n.rowPinned});return a?{rowIndex:a.rowIndex,column:n.column,rowPinned:a.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:xe.PINNED_TOP}},i.prototype.getNextTabbedCell=function(n,a){return a?this.getNextTabbedCellBackwards(n):this.getNextTabbedCellForwards(n)},i.prototype.getNextTabbedCellForwards=function(n){var a=this.columnModel.getAllDisplayedColumns(),c=n.rowIndex,d=n.rowPinned,v=this.columnModel.getDisplayedColAfter(n.column);if(!v){v=a[0];var C=this.getRowBelow(n);if(ot(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;c=C?C.rowIndex:null,d=C?C.rowPinned:null}return{rowIndex:c,column:v,rowPinned:d}},i.prototype.getNextTabbedCellBackwards=function(n){var a=this.columnModel.getAllDisplayedColumns(),c=n.rowIndex,d=n.rowPinned,v=this.columnModel.getDisplayedColBefore(n.column);if(!v){v=ft(a);var C=this.getRowAbove({rowIndex:n.rowIndex,rowPinned:n.rowPinned});if(ot(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;c=C?C.rowIndex:null,d=C?C.rowPinned:null}return{rowIndex:c,column:v,rowPinned:d}},Ya([oe("columnModel")],i.prototype,"columnModel",void 0),Ya([oe("rowModel")],i.prototype,"rowModel",void 0),Ya([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ya([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),Ya([mn("cellNavigationService")],i)}(wn),J3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ng=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},g0=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return J3(i,u),i.prototype.formatValue=function(n,a,c,d,v,C){void 0===C&&(C=!0);var L,M=null,U=n.getColDef();if(v?L=v:C&&(L=a&&a.rowPinned&&U.pinnedRowValueFormatter?U.pinnedRowValueFormatter:U.valueFormatter),L){var ce={value:d,node:a,data:a?a.data:null,colDef:U,column:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};ce.$scope=c,M=this.expressionService.evaluate(L,ce)}else if(U.refData)return U.refData[d]||"";return null==M&&Array.isArray(d)&&(M=d.join(", ")),M},Ng([oe("expressionService")],i.prototype,"expressionService",void 0),Ng([mn("valueFormatterService")],i)}(wn),ad=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yc=function(u){function i(n){return u.call(this,n,"ag-radio-button","radio")||this}return ad(i,u),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){u.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,qe.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(n){n.selected&&n.name&&this.eInput.name&&this.eInput.name===n.name&&n.id&&this.eInput.id!==n.id&&this.setValue(!1,!0)},i}(cu),em=["mouseover","mouseout","mouseenter","mouseleave"],hu=["touchstart","touchend","touchmove","touchcancel"],kf=function(){function u(){this.isOutsideAngular=function(i){return $r(em,i)}}return u.prototype.setTimeout=function(i,n){window.setTimeout(i,n)},u.prototype.setInterval=function(i,n){return new os(function(a){a(window.setInterval(i,n))})},u.prototype.addEventListener=function(i,n,a,c){var d=$r(hu,n);i.addEventListener(n,a,{capture:!!c,passive:d})},u.prototype.dispatchEvent=function(i,n,a){void 0===a&&(a=!1),n()},u.prototype.frameworkComponent=function(i){return null},u.prototype.isFrameworkComponent=function(i){return!1},u}(),zf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),sd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},D2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return zf(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var n=this.ctrlsService.getCenterRowContainerCtrl();if(n){var a={horizontalScrollShowing:n.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(a)}},i.prototype.setScrollsVisible=function(n){this.horizontalScrollShowing===n.horizontalScrollShowing&&this.verticalScrollShowing===n.verticalScrollShowing||(this.horizontalScrollShowing=n.horizontalScrollShowing,this.verticalScrollShowing=n.verticalScrollShowing,this.eventService.dispatchEvent({type:qe.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},sd([oe("columnApi")],i.prototype,"columnApi",void 0),sd([oe("gridApi")],i.prototype,"gridApi",void 0),sd([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),sd([Vt],i.prototype,"postConstruct",null),sd([mn("scrollVisibleService")],i)}(wn),O2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),kg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},T2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return O2(i,u),i.prototype.processAllCellClasses=function(n,a,c,d){this.processClassRules(n.cellClassRules,a,c,d),this.processStaticCellClasses(n,a,c)},i.prototype.processClassRules=function(n,a,c,d){if(null!=n){for(var v=Object.keys(n),C={},M={},L=function(ye){var Wt,it=v[ye],bt=n[it];"string"==typeof bt?Wt=U.expressionService.evaluate(bt,a):"function"==typeof bt&&(Wt=bt(a)),it.split(" ").forEach(function(cn){null==cn||""==cn.trim()||(Wt?C[cn]=!0:M[cn]=!0)})},U=this,ce=0;ce<v.length;ce++)L(ce);d&&Object.keys(M).forEach(d),Object.keys(C).forEach(c)}},i.prototype.getStaticCellClasses=function(n,a){var d,c=n.cellClass;return c?("string"==typeof(d="function"==typeof c?c(a):c)&&(d=[d]),d||[]):[]},i.prototype.processStaticCellClasses=function(n,a,c){this.getStaticCellClasses(n,a).forEach(function(v){c(v)})},kg([oe("expressionService")],i.prototype,"expressionService",void 0),kg([mn("stylingService")],i)}(wn),x2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Vf=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return x2(i,u),i.prototype.setMouseOver=function(n){this.selectedColumns=n,this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:qe.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.isHovered=function(n){return!!this.selectedColumns&&this.selectedColumns.indexOf(n)>=0},zg([oe("columnApi")],i.prototype,"columnApi",void 0),zg([oe("gridApi")],i.prototype,"gridApi",void 0),zg([mn("columnHoverService")],i)}(wn),eh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},pp=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.executeNextFuncs=[],n.executeLaterFuncs=[],n.active=!1,n.animationThreadCount=0,n}return eh(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){return n.gridBodyCtrl=a.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(n){this.active?this.executeNextFuncs.push(n):n()},i.prototype.executeLaterVMTurn=function(n){this.active?this.executeLaterFuncs.push(n):n()},i.prototype.ensureAnimationCssClassPresent=function(){var n=this;this.animationThreadCount++;var a=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){n.animationThreadCount===a&&n.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var n=this.executeNextFuncs;this.executeNextFuncs=[];var a=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==n.length||0!==a.length)&&(window.setTimeout(function(){return n.forEach(function(c){return c()})},0),window.setTimeout(function(){return a.forEach(function(c){return c()})},300))},Vg([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Vg([Vt],i.prototype,"postConstruct",null),Vg([mn("columnAnimationService")],i)}(wn),M2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Gg=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}var n;return M2(i,u),n=i,i.prototype.createAutoGroupColumns=function(a){var c=this,d=[],v=this.gridOptionsWrapper.isTreeData(),C=this.gridOptionsWrapper.isGroupMultiAutoColumn();return v&&C&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),C=!1),C?a.forEach(function(M,L){d.push(c.createOneAutoGroupColumn(M,L))}):d.push(this.createOneAutoGroupColumn()),d},i.prototype.createOneAutoGroupColumn=function(a,c){var v,d=this.generateDefaultColDef(a);v=a?xe.GROUP_AUTO_COLUMN_ID+"-"+a.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,Or(d,this.gridOptionsWrapper.getAutoGroupColumnDef()),(d=this.columnFactory.mergeColDefs(d)).colId=v,this.gridOptionsWrapper.isTreeData()||ot(d.field)&&ot(d.valueGetter)&&ot(d.filterValueGetter)&&(d.filter=!1),c&&c>0&&(d.headerCheckboxSelection=!1);var L=new Dt(d,null,v,!0);return this.context.createBean(L),L},i.prototype.generateDefaultColDef=function(a){var c=this.gridOptionsWrapper.getAutoGroupColumnDef(),v={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(c&&(c.cellRenderer||c.cellRendererFramework||c.cellRendererSelector)||(v.cellRenderer="agGroupCellRenderer"),a){var M=a.getColDef();Object.assign(v,{headerName:this.columnModel.getDisplayNameForColumn(a,"header"),headerValueGetter:M.headerValueGetter}),(M.cellRenderer||M.cellRendererFramework)&&Object.assign(v,{cellRendererParams:{innerRenderer:M.cellRenderer,innerRendererFramework:M.cellRendererFramework,innerRendererParams:M.cellRendererParams}}),v.showRowGroup=a.getColId()}else v.showRowGroup=!0;return v},i.GROUP_AUTO_COLUMN_BUNDLE_ID=xe.GROUP_AUTO_COLUMN_ID,Hg([oe("columnModel")],i.prototype,"columnModel",void 0),Hg([oe("columnFactory")],i.prototype,"columnFactory",void 0),n=Hg([mn("autoGroupColService")],i)}(wn),ds=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Yi=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.currentPage=0,n.topDisplayedRowIndex=0,n.bottomDisplayedRowIndex=0,n.pixelOffset=0,n.masterRowCount=0,n}return ds(i,u),i.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,qe.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(n,a,c,d){var v=this.rowModel.ensureRowHeightsValid(n,a,this.getPageFirstRow(),this.getPageLastRow());return v&&this.calculatePages(),v},i.prototype.onModelUpdated=function(n){this.calculatePages(),this.eventService.dispatchEvent({type:qe.EVENT_PAGINATION_CHANGED,animate:!!n&&n.animate,newData:!!n&&n.newData,newPage:!!n&&n.newPage,keepRenderedRows:!!n&&n.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},i.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:qe.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},i.prototype.goToPage=function(n){this.active&&this.currentPage!==n&&(this.currentPage=n,this.onModelUpdated({type:qe.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(n){return this.rowModel.getRow(n)},i.prototype.getRowNode=function(n){return this.rowModel.getRowNode(n)},i.prototype.getRowIndexAtPixel=function(n){return this.rowModel.getRowIndexAtPixel(n)},i.prototype.getCurrentPageHeight=function(){return ot(this.topRowBounds)||ot(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(n){return!!this.rowModel.isRowPresent(n)&&n.rowIndex>=this.topDisplayedRowIndex&&n.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.getNodesInRangeForSelection=function(n,a){return this.rowModel.getNodesInRangeForSelection(n,a)},i.prototype.forEachNode=function(n){return this.rowModel.forEachNode(n)},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(n){var a=this.rowModel.getRowBounds(n);return a.rowIndex=n,a},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(n){return Math.floor(n/this.pageSize)},i.prototype.goToPageWithIndex=function(n){if(this.active){var a=this.getPageForIndex(n);this.goToPage(a)}},i.prototype.isRowInPage=function(n){return!this.active||this.getPageForIndex(n.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var n=this.rowModel.getRowCount(),a=Math.floor(n/this.pageSize);this.goToPage(a)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(se(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(n){this.pixelOffset!==n&&(this.pixelOffset=n,this.eventService.dispatchEvent({type:qe.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var n=this.masterRowCount-1;this.totalPages=Math.floor(n/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Up(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var c=this.pageSize*(this.currentPage+1)-1;if(c>n&&(c=n),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),c===n)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var d=this.rowModel.getTopLevelRowDisplayedIndex(c+1);this.bottomDisplayedRowIndex=d-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var n=this.masterRowCount-1;this.totalPages=Math.floor(n/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Up(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},yl([oe("rowModel")],i.prototype,"rowModel",void 0),yl([oe("columnApi")],i.prototype,"columnApi",void 0),yl([oe("gridApi")],i.prototype,"gridApi",void 0),yl([Vt],i.prototype,"postConstruct",null),yl([mn("paginationProxy")],i)}(wn),Es=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ds=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Os=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Es(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl,n.addManagedListener(n.eventService,qe.EVENT_BODY_HEIGHT_CHANGED,n.onBodyHeightChanged.bind(n)),n.addManagedListener(n.eventService,qe.EVENT_SCROLL_VISIBILITY_CHANGED,n.onScrollVisibilityChanged.bind(n)),n.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},i.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},i.prototype.onBodyHeightChanged=function(){this.checkPageSize()},i.prototype.checkPageSize=function(){if(!this.notActive()){var n=this.gridOptionsWrapper.getRowHeightAsNumber(),a=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(a>0){var c=Math.floor(a/n);this.gridOptionsWrapper.setProperty("paginationPageSize",c)}}},Ds([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Ds([Vt],i.prototype,"postConstruct",null),Ds([mn("paginationAutoPageSizeService")],i)}(wn),Bg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ld=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},th=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.cacheVersion=0,n}return Bg(i,u),i.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(n,a,c){this.active&&(n.__cacheVersion!==this.cacheVersion&&(n.__cacheVersion=this.cacheVersion,n.__cacheData={}),n.__cacheData[a]=c)},i.prototype.getValue=function(n,a){if(this.active&&n.__cacheVersion===this.cacheVersion)return n.__cacheData[a]},ld([Vt],i.prototype,"init",null),ld([mn("valueCache")],i)}(wn),nh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cd=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return nh(i,u),i.prototype.init=function(){this.rowModel.getType()===xe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,qe.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(n){n.source!==xe.SOURCE_PASTE&&this.doChangeDetection(n.node,n.column)},i.prototype.doChangeDetection=function(n,a){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!n.isRowPinned()){var c=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),d=new Q1(c,this.clientSideRowModel.getRootNode());d.addParentNode(n.parent,[a]),this.clientSideRowModel.doAggregate(d)}this.rowRenderer.refreshCells()}},Yl([oe("rowModel")],i.prototype,"rowModel",void 0),Yl([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),Yl([Vt],i.prototype,"init",null),Yl([mn("changeDetectionService")],i)}(wn),rh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ih=function(u,i){return function(n,a){i(n,a,u)}},ud=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.consuming=!1,n}return rh(i,u),i.prototype.setBeans=function(n){this.logger=n.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,qe.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(n){if(!this.consuming){var a=this.gridOptionsWrapper.getAlignedGrids();a&&a.forEach(function(c){if(c.api){var d=c.api.__getAlignedGridService();n(d)}})}},i.prototype.onEvent=function(n){this.consuming=!0,n(),this.consuming=!1},i.prototype.fireColumnEvent=function(n){this.fireEvent(function(a){a.onColumnEvent(n)})},i.prototype.fireScrollEvent=function(n){"horizontal"===n.direction&&this.fireEvent(function(a){a.onScrollEvent(n)})},i.prototype.onScrollEvent=function(n){var a=this;this.onEvent(function(){a.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(n.left)})},i.prototype.getMasterColumns=function(n){var a=[];return n.columns?n.columns.forEach(function(c){a.push(c)}):n.column&&a.push(n.column),a},i.prototype.getColumnIds=function(n){var a=[];return n.columns?n.columns.forEach(function(c){a.push(c.getColId())}):n.column&&a.push(n.column.getColId()),a},i.prototype.onColumnEvent=function(n){var a=this;this.onEvent(function(){switch(n.type){case qe.EVENT_COLUMN_MOVED:case qe.EVENT_COLUMN_VISIBLE:case qe.EVENT_COLUMN_PINNED:case qe.EVENT_COLUMN_RESIZED:a.processColumnEvent(n);break;case qe.EVENT_COLUMN_GROUP_OPENED:a.processGroupOpenedEvent(n);break;case qe.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(n){var a=n.columnGroup,c=null;if(a){var d=a.getGroupId();c=this.columnModel.getProvidedColumnGroup(d)}a&&!c||(this.logger.log("onColumnEvent-> processing "+n+" expanded = "+a.isExpanded()),this.columnModel.setColumnGroupOpened(c,a.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(n){var a=this,c=n.column,d=null;if(c&&(d=this.columnModel.getPrimaryColumn(c.getColId())),!c||d){var v=this.getMasterColumns(n);switch(n.type){case qe.EVENT_COLUMN_MOVED:var C=n,L=n.columnApi.getColumnState().map(function(cn){return{colId:cn.colId}});this.columnModel.applyColumnState({state:L,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" toIndex = "+C.toIndex);break;case qe.EVENT_COLUMN_VISIBLE:var U=n;L=n.columnApi.getColumnState().map(function(_n){return{colId:_n.colId,hide:_n.hide}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" visible = "+U.visible);break;case qe.EVENT_COLUMN_PINNED:var ce=n;L=n.columnApi.getColumnState().map(function(_n){return{colId:_n.colId,pinned:_n.pinned}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" pinned = "+ce.pinned);break;case qe.EVENT_COLUMN_RESIZED:var ye=n;v.forEach(function(cn){a.logger.log("onColumnEvent-> processing "+n.type+" actualWidth = "+cn.getActualWidth());var Kt=[{key:cn.getColId(),newWidth:cn.getActualWidth()}];a.columnModel.setColumnWidths(Kt,!1,ye.finished,"alignedGridChanged")})}var bt=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),Wt=this.gridOptionsWrapper.getAlignedGrids();Wt&&Wt.forEach(function(cn){cn.api&&cn.api.setAlwaysShowVerticalScroll(bt)})}},Cc([oe("columnModel")],i.prototype,"columnModel",void 0),Cc([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Cc([ih(0,Er("loggerFactory"))],i.prototype,"setBeans",null),Cc([Vt],i.prototype,"init",null),Cc([mn("alignedGridsService")],i)}(wn),fp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},v0=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return fp(i,u),i.prototype.adaptFunction=function(n,a){var c=this.componentMetadataProvider.retrieve(n);return c&&c.functionAdapter?c.functionAdapter(a):null},i.prototype.adaptCellRendererFunction=function(n){return function(){function c(){}return c.prototype.refresh=function(d){return!1},c.prototype.getGui=function(){return this.eGui},c.prototype.init=function(d){var v=n(d),C=typeof v;this.eGui="string"!==C&&"number"!==C&&"boolean"!==C?null!=v?v:_t("<span></span>"):_t("<span>"+v+"</span>")},c}()},i.prototype.doesImplementIComponent=function(n){return!!n&&n.prototype&&"getGui"in n.prototype},pu([oe("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),pu([mn("agComponentUtils")],i)}(wn),m0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),la=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},y0=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return m0(i,u),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(n){return this.componentMetaData[n]},la([oe("agComponentUtils")],i.prototype,"agComponentUtils",void 0),la([Vt],i.prototype,"postConstruct",null),la([mn("componentMetadataProvider")],i)}(wn),Ts=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Wg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},C0={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Ug={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},vp={},A2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Ts(i,u),i.prototype.getSassVariable=function(n,a){var c="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),d=C0[c][a],v=0;vp[n]||(vp[n]={});var C=vp[n][a];if(null!=C)return C;if(Ug[a]){var M=Ug[a],L=document.createElement("div");L.classList.add(n),L.style.position="absolute";var U=M.reduce(function(ye,it){var bt=document.createElement("div");return bt.style.position="static",bt.classList.add(it),ye.appendChild(bt),bt},L);if(document.body){document.body.appendChild(L);var ce=-1!==a.toLowerCase().indexOf("height")?"height":"width";v=parseInt(window.getComputedStyle(U)[ce],10),document.body.removeChild(L)}}return vp[n][a]=v||d,vp[n][a]},i.prototype.isThemeDark=function(){var n=this.getTheme().theme;return!!n&&n.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){var n=this.getTheme().themeFamily;return this.getSassVariable(n,"chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var n=/\bag-(material|(?:theme-([\w\-]*)))\b/,a=this.eGridDiv,c=null;a&&!(c=n.exec(a.className));)a=a.parentElement||void 0;if(!c)return{};var d=c[0];if(void 0===c[2]){var C=d.replace("ag-","ag-theme-");ue(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+d+" with "+C+".")},"using-old-theme")}return{theme:d,el:a,themeFamily:d.replace(/-dark$/,"")}},Wg([oe("eGridDiv")],i.prototype,"eGridDiv",void 0),Wg([mn("environment")],i)}(wn),Yg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},_0=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.createTasksP1={list:[],sorted:!1},n.createTasksP2={list:[],sorted:!1},n.destroyTasks=[],n.ticking=!1,n.scrollGoingDown=!0,n.lastScrollTop=0,n.taskCount=0,n.cancelledTasks=new Set,n}return Yg(i,u),i.prototype.setScrollTop=function(n){this.scrollGoingDown=n>this.lastScrollTop,this.lastScrollTop=n},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(n){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+n+" called but animation frames are off")},i.prototype.createTask=function(n,a,c){this.verifyAnimationFrameOn(c);var d={task:n,index:a,createOrder:++this.taskCount};this.addTaskToList(this[c],d),this.schedule()},i.prototype.cancelTask=function(n){this.cancelledTasks.add(n)},i.prototype.addTaskToList=function(n,a){n.list.push(a),n.sorted=!1},i.prototype.sortTaskList=function(n){if(!n.sorted){var a=this.scrollGoingDown?1:-1;n.list.sort(function(c,d){return c.index!==d.index?a*(d.index-c.index):d.createOrder-c.createOrder}),n.sorted=!0}},i.prototype.addDestroyTask=function(n){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(n),this.schedule()},i.prototype.executeFrame=function(n){this.verifyAnimationFrameOn("executeFrame");for(var a=this.createTasksP1,c=a.list,d=this.createTasksP2,v=d.list,C=this.destroyTasks,M=(new Date).getTime(),L=(new Date).getTime()-M,U=n<=0,ce=this.ctrlsService.getGridBodyCtrl();U||L<n;){if(!ce.getScrollFeature().executeAnimationFrameScroll()){var it=void 0;if(c.length)this.sortTaskList(a),it=c.pop().task;else if(v.length)this.sortTaskList(d),it=v.pop().task;else{if(!C.length){this.cancelledTasks.clear();break}it=C.pop()}this.cancelledTasks.has(it)||it()}L=(new Date).getTime()-M}c.length||v.length||C.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},i.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},i.prototype.requestFrame=function(){var n=this.executeFrame.bind(this,60),c=this.gridOptionsWrapper.getDocument().defaultView||window;c.requestAnimationFrame?c.requestAnimationFrame(n):c.webkitRequestAnimationFrame?c.webkitRequestAnimationFrame(n):c.setTimeout(n,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(n){var a=this,c=!1;return function(){a.isOn()?c||(c=!0,a.addDestroyTask(function(){c=!1,n()})):a.getFrameworkOverrides().setTimeout(n,0)}},Kg([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Kg([Vt],i.prototype,"init",null),Kg([mn("animationFrameService")],i)}(wn),R2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hf=function(){return Hf=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Hf.apply(this,arguments)},xs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},F2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.timeLastPageEventProcessed=0,n}return R2(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridBodyCon=a.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(n){var a=n.key,c=n.altKey,d=n.ctrlKey||n.metaKey,v=this.mouseEventService.getCellPositionForEvent(n);if(!v)return!1;var C=!1;switch(a){case Nn.PAGE_HOME:case Nn.PAGE_END:!d&&!c&&(this.onHomeOrEndKey(a),C=!0);break;case Nn.LEFT:case Nn.RIGHT:d&&!c&&(this.onCtrlLeftOrRight(a,v),C=!0);break;case Nn.UP:case Nn.DOWN:d&&!c&&(this.onCtrlUpOrDown(a,v),C=!0);break;case Nn.PAGE_DOWN:!d&&!c&&(this.onPageDown(v),C=!0);break;case Nn.PAGE_UP:!d&&!c&&(this.onPageUp(v),C=!0)}return C&&n.preventDefault(),C},i.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},i.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},i.prototype.navigateTo=function(n){var a=n.scrollIndex,c=n.scrollType,d=n.scrollColumn,v=n.focusIndex,C=n.focusColumn;se(d)&&!d.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(d),se(a)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(a,c),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(v,C,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:v,rowPinned:null,column:C})},i.prototype.onPageDown=function(n){if(!this.isTimeSinceLastPageEventToRecent()){var c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.getViewportHeight(),v=this.paginationProxy.getPixelOffset(),L=this.paginationProxy.getRowIndexAtPixel(c.top+d+v),U=this.paginationProxy.getRow(n.rowIndex).rowTop,ye=this.paginationProxy.getRowIndexAtPixel(U+d-v+v),it=this.paginationProxy.getPageLastRow();ye===n.rowIndex&&(L=ye=n.rowIndex+1),ye>it&&(ye=it),L>it&&(L=it),this.isRowTallerThanView(ye)&&(L=ye),this.navigateTo({scrollIndex:L,scrollType:"top",scrollColumn:null,focusIndex:ye,focusColumn:n.column}),this.setTimeLastPageEventProcessed()}},i.prototype.onPageUp=function(n){if(!this.isTimeSinceLastPageEventToRecent()){var c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.getViewportHeight(),v=this.paginationProxy.getPixelOffset(),L=this.paginationProxy.getRowIndexAtPixel(c.top+v),U=this.paginationProxy.getRow(n.rowIndex),ye=this.paginationProxy.getRowIndexAtPixel(U.rowTop+U.rowHeight-d-v+v),it=this.paginationProxy.getPageFirstRow();ye===n.rowIndex&&(L=ye=n.rowIndex-1),ye<it&&(ye=it),L<it&&(L=it);var bt="bottom";this.isRowTallerThanView(ye)&&(L=ye,bt="top"),this.navigateTo({scrollIndex:L,scrollType:bt,scrollColumn:null,focusIndex:ye,focusColumn:n.column}),this.setTimeLastPageEventProcessed()}},i.prototype.getViewportHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),d=a.bottom-a.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(d-=c),d},i.prototype.isRowTallerThanView=function(n){var a=this.paginationProxy.getRow(n);if(!a)return!1;var c=a.rowHeight;return"number"==typeof c&&c>this.getViewportHeight()},i.prototype.getIndexToFocus=function(n,a){var c=n;if(a){var d=this.paginationProxy.getRow(n);d&&d.stub&&(c-=1)}return c},i.prototype.onCtrlUpOrDown=function(n,a){var c=n===Nn.UP,d=c?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:d,scrollType:null,scrollColumn:a.column,focusIndex:this.getIndexToFocus(d,!c),focusColumn:a.column})},i.prototype.onCtrlLeftOrRight=function(n,a){var c=n===Nn.LEFT,d=this.columnModel.getAllDisplayedColumns(),C=c!==this.gridOptionsWrapper.isEnableRtl()?d[0]:ft(d);this.navigateTo({scrollIndex:a.rowIndex,scrollType:null,scrollColumn:C,focusIndex:a.rowIndex,focusColumn:C})},i.prototype.onHomeOrEndKey=function(n){var a=n===Nn.PAGE_HOME,c=this.columnModel.getAllDisplayedColumns(),d=a?c[0]:ft(c),v=a?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:v,scrollType:null,scrollColumn:d,focusIndex:this.getIndexToFocus(v,!a),focusColumn:d})},i.prototype.onTabKeyDown=function(n,a){var c=a.shiftKey;if(this.tabToNextCellCommon(n,c,a))a.preventDefault();else if(c){var v=n.getRowPosition(),C=v.rowIndex;(v.rowPinned?0===C:C===this.paginationProxy.getPageFirstRow())&&(a.preventDefault(),this.focusService.focusLastHeader(a))}else n instanceof cc&&n.focusCell(!0),this.focusService.focusNextGridCoreContainer(c)&&a.preventDefault()},i.prototype.tabToNextCell=function(n,a){var c=this.focusService.getFocusedCell();if(!c)return!1;var d=this.getCellByPosition(c);return!!(d||(d=this.rowRenderer.getRowByPosition(c),d&&d.isFullWidth()))&&this.tabToNextCellCommon(d,n,a)},i.prototype.tabToNextCellCommon=function(n,a,c){var d=n.isEditing();if(!d&&n instanceof cc){var C=n.getRowCtrl();C&&(d=C.isEditing())}return(d?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(n,a,c):this.moveToNextEditingCell(n,a,c):this.moveToNextCellNotEditing(n,a))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(n,a,c){void 0===c&&(c=null);var d=n.getCellPosition();n.stopEditing();var v=this.findNextCellToFocusOn(d,a,!0);return null!=v&&(v.startEditing(null,null,!0,c),v.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(n,a,c){void 0===c&&(c=null);var d=n.getCellPosition(),v=this.findNextCellToFocusOn(d,a,!0);if(null==v)return!1;var C=v.getCellPosition(),M=this.isCellEditable(d),L=this.isCellEditable(C),U=C&&d.rowIndex===C.rowIndex&&d.rowPinned===C.rowPinned;return M&&n.setFocusOutOnEditor(),U||(n.getRowCtrl().stopEditing(),v.getRowCtrl().startRowEditing(void 0,void 0,void 0,c)),L?(v.setFocusInOnEditor(),v.focusCell()):v.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(n,a){var d,c=this.columnModel.getAllDisplayedColumns();d=n instanceof iu?Hf(Hf({},n.getRowPosition()),{column:a?c[0]:ft(c)}):n.getCellPosition();var v=this.findNextCellToFocusOn(d,a,!1);if(v instanceof cc)v.focusCell(!0);else if(v)return this.tryToFocusFullWidthRow(v.getRowPosition(),a);return se(v)},i.prototype.findNextCellToFocusOn=function(n,a,c){for(var d=n;;){n!==d&&(n=d),a||(d=this.getLastCellOfColSpan(d)),d=this.cellNavigationService.getNextTabbedCell(d,a);var v=this.gridOptionsWrapper.getTabToNextCellFunc();if(se(v)){var M=v({backwards:a,editing:c,previousCellPosition:n,nextCellPosition:d||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});se(M)?(M.floating&&(ue(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),M.rowPinned=M.floating),d={rowIndex:M.rowIndex,column:M.column,rowPinned:M.rowPinned}):d=null}if(!d)return null;if(d.rowIndex<0){var L=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L+d.rowIndex,column:d.column}}),null}var U=this.gridOptionsWrapper.isFullRowEdit();if(!c||U||this.isCellEditable(d)){this.ensureCellVisible(d);var ye=this.getCellByPosition(d);if(!ye){var it=this.rowRenderer.getRowByPosition(d);if(!it||!it.isFullWidth())continue;return it}if(!ye.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(d),ye}}},i.prototype.isCellEditable=function(n){var a=this.lookupRowNodeForCell(n);return!!a&&n.column.isCellEditable(a)},i.prototype.getCellByPosition=function(n){var a=this.rowRenderer.getRowByPosition(n);return a?a.getCellCtrl(n.column):null},i.prototype.lookupRowNodeForCell=function(n){return n.rowPinned===xe.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(n.rowIndex):n.rowPinned===xe.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(n.rowIndex):this.paginationProxy.getRow(n.rowIndex)},i.prototype.navigateToNextCell=function(n,a,c,d){for(var v=c,C=!1;v&&(v===c||!this.isValidNavigateCell(v));)this.gridOptionsWrapper.isEnableRtl()?a===Nn.LEFT&&(v=this.getLastCellOfColSpan(v)):a===Nn.RIGHT&&(v=this.getLastCellOfColSpan(v)),C=ot(v=this.cellNavigationService.getNextCellToFocus(a,v));if(C&&n&&n.key===Nn.UP&&(v={rowIndex:-1,rowPinned:null,column:c.column}),d){var M=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(se(M)){var U=M({key:a,previousCellPosition:c,nextCellPosition:v||null,event:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});se(U)?(U.floating&&(ue(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),U.rowPinned=U.floating),v={rowPinned:U.rowPinned,rowIndex:U.rowIndex,column:U.column}):v=null}}if(v){if(v.rowIndex<0){var ce=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:ce+v.rowIndex,column:c.column},event:n||void 0})}var ye=this.getNormalisedPosition(v);ye?this.focusPosition(ye):this.tryToFocusFullWidthRow(v)}},i.prototype.getNormalisedPosition=function(n){this.ensureCellVisible(n);var a=this.getCellByPosition(n);return a?(n=a.getCellPosition(),this.ensureCellVisible(n),n):null},i.prototype.tryToFocusFullWidthRow=function(n,a){void 0===a&&(a=!1);var c=this.columnModel.getAllDisplayedColumns(),d=this.rowRenderer.getRowByPosition(n);if(!d||!d.isFullWidth())return!1;var v={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column||(a?ft(c):c[0])};return this.focusPosition(v),!0},i.prototype.focusPosition=function(n){this.focusService.setFocusedCell(n.rowIndex,n.column,n.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(n)},i.prototype.isValidNavigateCell=function(n){return!!this.rowPositionUtils.getRowNode(n)},i.prototype.getLastCellOfColSpan=function(n){var a=this.getCellByPosition(n);if(!a)return n;var c=a.getColSpanningList();return 1===c.length?n:{rowIndex:n.rowIndex,column:ft(c),rowPinned:n.rowPinned}},i.prototype.ensureCellVisible=function(n){ot(n.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n.rowIndex),n.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(n.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},xs([oe("mouseEventService")],i.prototype,"mouseEventService",void 0),xs([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),xs([oe("focusService")],i.prototype,"focusService",void 0),xs([oe("animationFrameService")],i.prototype,"animationFrameService",void 0),xs([er("rangeService")],i.prototype,"rangeService",void 0),xs([oe("columnModel")],i.prototype,"columnModel",void 0),xs([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),xs([oe("rowRenderer")],i.prototype,"rowRenderer",void 0),xs([oe("headerNavigationService")],i.prototype,"headerNavigationService",void 0),xs([oe("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),xs([oe("cellNavigationService")],i.prototype,"cellNavigationService",void 0),xs([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),xs([Vt],i.prototype,"postConstruct",null),xs([mn("navigationService")],i)}(wn),$g=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),oh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},L2=function(u,i){return function(n,a){i(n,a,u)}},tm=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.scrollY=0,n.uiBodyHeight=0,n}return $g(i,u),i.prototype.agWire=function(n){this.logger=n.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,qe.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=si(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,c=this.getUiBodyHeight();(a!==this.scrollY||c!==this.uiBodyHeight)&&(this.scrollY=a,this.uiBodyHeight=c,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var n=this.scrollY/this.maxScrollY,a=n*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+a+" ("+this.pixelsToShave+" * "+n+")"),this.setDivStretchOffset(a)},i.prototype.setUiContainerHeight=function(n){n!==this.uiContainerHeight&&(this.uiContainerHeight=n,this.eventService.dispatchEvent({type:qe.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(n){var a="number"==typeof n?Math.floor(n):null;this.divStretchOffset!==a&&(this.divStretchOffset=a,this.eventService.dispatchEvent({type:qe.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(n){this.modelHeight=n,this.stretching=null!=n&&this.maxDivHeight>0&&n>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(n){return n-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return a.bottom-a.top},i.prototype.getScrollPositionForPixel=function(n){if(this.pixelsToShave<=0)return n;var a=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(n/a)},oh([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),oh([L2(0,Er("loggerFactory"))],i.prototype,"agWire",null),oh([Vt],i.prototype,"postConstruct",null),oh([mn("rowContainerHeightService")],i)}(wn),nm=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),I2=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ah=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return nm(i,u),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},i.prototype.updateSelectableAfterGrouping=function(n){this.isRowSelectableFunc&&this.recurseDown(n.childrenAfterGroup,function(c){return c.childrenAfterGroup})},i.prototype.updateSelectableAfterFiltering=function(n){this.isRowSelectableFunc&&this.recurseDown(n.childrenAfterGroup,function(c){return c.childrenAfterFilter})},i.prototype.recurseDown=function(n,a){var c=this;!n||n.forEach(function(d){var v;d.group&&(d.hasChildren()&&c.recurseDown(a(d),a),v=c.groupSelectsChildren?se((a(d)||[]).find(function(M){return!0===M.selectable})):!!c.isRowSelectableFunc&&c.isRowSelectableFunc(d),d.setRowSelectable(v))})},I2([Vt],i.prototype,"init",null),I2([mn("selectableService")],i)}(wn),Ks=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Gf=function(u){function i(){var n=u.call(this)||this;return n.previousAndFirstButtonsDisabled=!1,n.nextButtonDisabled=!1,n.lastButtonDisabled=!1,n}return Ks(i,u),i.prototype.postConstruct=function(){var n=this,a=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",io(a?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",io(a?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",io(a?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",io(a?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,qe.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(v){var C=v.el,M=v.fn;n.addManagedListener(C,"click",M),n.addManagedListener(C,"keydown",function(L){(L.key===Nn.ENTER||L.key===Nn.SPACE)&&(L.preventDefault(),M())})}),this.onPaginationChanged()):this.setDisplayed(!1)},i.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var n=this.paginationProxy.getTotalPages()>0,a=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(n?a+1:0)},i.prototype.formatNumber=function(n){var a=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(a)return a({value:n});var c=this.gridOptionsWrapper.getLocaleTextFunc();return Q(n,c("thousandSeparator",","),c("decimalSeparator","."))},i.prototype.getTemplate=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=n("page","Page"),c=n("to","to"),d=n("of","of"),v=n("firstPage","First Page"),C=n("previousPage","Previous Page"),M=n("nextPage","Next Page"),L=n("lastPage","Last Page"),U=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+U+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+U+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+U+'-to">'+c+'</span>\n                    <span id="ag-'+U+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+U+'-of">'+d+'</span>\n                    <span id="ag-'+U+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+v+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+C+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+U+'-start-page">'+a+'</span>\n                        <span id="ag-'+U+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+U+'-of-page">'+d+'</span>\n                        <span id="ag-'+U+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+M+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+L+'" tabindex="0"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var n=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===n,this.btFirst.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),ko(this.btFirst,this.previousAndFirstButtonsDisabled),this.btPrevious.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),ko(this.btPrevious,this.previousAndFirstButtonsDisabled);var d=this.isZeroPagesToDisplay();this.nextButtonDisabled=a&&n===c-1||d,this.btNext.classList.toggle("ag-disabled",this.nextButtonDisabled),ko(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!a||d||n===c-1,this.btLast.classList.toggle("ag-disabled",this.lastButtonDisabled),ko(this.btLast,this.lastButtonDisabled)},i.prototype.updateRowLabels=function(){var v,C,n=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.getPageSize(),c=this.paginationProxy.isLastPageFound(),d=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?v=C=0:(C=(v=a*n+1)+a-1,c&&C>d&&(C=d)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(v),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(C)},i.prototype.isZeroPagesToDisplay=function(){var n=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages();return n&&0===a},i.prototype.setTotalLabels=function(){var n=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages(),c=n?this.paginationProxy.getMasterRowCount():null;if(1===c){var d=this.paginationProxy.getRow(0);if(d&&d.group&&!d.groupData&&!d.aggData)return void this.setTotalLabelsToZero()}if(n)this.lbTotal.innerHTML=this.formatNumber(a),this.lbRecordCount.innerHTML=this.formatNumber(c);else{var C=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=C,this.lbRecordCount.innerHTML=C}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Cl([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),Cl([oe("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Cl([Fn("btFirst")],i.prototype,"btFirst",void 0),Cl([Fn("btPrevious")],i.prototype,"btPrevious",void 0),Cl([Fn("btNext")],i.prototype,"btNext",void 0),Cl([Fn("btLast")],i.prototype,"btLast",void 0),Cl([Fn("lbRecordCount")],i.prototype,"lbRecordCount",void 0),Cl([Fn("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),Cl([Fn("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),Cl([Fn("lbCurrent")],i.prototype,"lbCurrent",void 0),Cl([Fn("lbTotal")],i.prototype,"lbTotal",void 0),Cl([Vt],i.prototype,"postConstruct",null),i}(di),dd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),k2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.polyfillFunctions=[],n}return dd(i,u),i.prototype.observeResize=function(n,a){var ye,c=this,v=this.gridOptionsWrapper.getDocument().defaultView||window,C=Ie(a,50),U=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return v.ResizeObserver&&!U?((ye=new v.ResizeObserver(C)).observe(n),function(){return ye.disconnect()}):function(){var ye=re(n),it=Jr(n),bt=!0,Wt=function(){if(bt){var cn=re(n),Kt=Jr(n);(cn!==ye||Kt!==it)&&(ye=cn,it=Kt,a()),c.doNextPolyfillTurn(Wt)}};return Wt(),function(){return bt=!1}}()},i.prototype.doNextPolyfillTurn=function(n){this.polyfillFunctions.push(n),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var n=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var c=n.polyfillFunctions;n.polyfillScheduled=!1,n.polyfillFunctions=[],c.forEach(function(d){return d()})},50))},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("resizeObserverService")],i),i}(wn),Xg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},_l=(()=>(function(u){u[u.Loading=0]="Loading",u[u.NoRows=1]="NoRows"}(_l||(_l={})),_l))(),w0=function(u){function i(){var n=u.call(this,i.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return Xg(i,u),i.prototype.updateLayoutClasses=function(n,a){var c=this.eOverlayWrapper.classList;c.toggle(qo.AUTO_HEIGHT,a.autoHeight),c.toggle(qo.NORMAL,a.normal),c.toggle(qo.PRINT,a.print)},i.prototype.postConstruct=function(){this.createManagedBean(new Pf(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,qe.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(n){var a=this.eOverlayWrapper.classList;a.toggle("ag-overlay-loading-wrapper",n===_l.Loading),a.toggle("ag-overlay-no-rows-wrapper",n===_l.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var n={api:this.gridOptionsWrapper.getApi()},c=this.userComponentFactory.getLoadingOverlayCompDetails(n).newAgStackInstance();this.showOverlay(c,_l.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var n={api:this.gridOptionsWrapper.getApi()},c=this.userComponentFactory.getNoRowsOverlayCompDetails(n).newAgStackInstance();this.showOverlay(c,_l.NoRows)}},i.prototype.showOverlay=function(n,a){var c=this;this.inProgress||(this.setWrapperTypeClass(a),this.destroyActiveOverlay(),this.inProgress=!0,n&&n.then(function(d){c.inProgress=!1,c.eOverlayWrapper.appendChild(d.getGui()),c.activeOverlay=d,c.destroyRequested&&(c.destroyRequested=!1,c.destroyActiveOverlay())}),this.setDisplayed(!0))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),j(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},i.prototype.destroy=function(){this.destroyActiveOverlay(),u.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var n=this.paginationProxy.isEmpty(),a=this.gridOptionsWrapper.isSuppressNoRowsOverlay();n&&!a?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',hs([oe("userComponentFactory")],i.prototype,"userComponentFactory",void 0),hs([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),hs([oe("gridApi")],i.prototype,"gridApi",void 0),hs([oe("columnModel")],i.prototype,"columnModel",void 0),hs([Fn("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),hs([Vt],i.prototype,"postConstruct",null),i}(di),_c=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Bf=function(u){function i(n){void 0===n&&(n={});var a=u.call(this,i.getTemplate(n))||this;a.suppressEnabledCheckbox=!0,a.suppressOpenCloseIcons=!1;var d=n.enabled,v=n.items,C=n.suppressEnabledCheckbox,M=n.suppressOpenCloseIcons;return a.title=n.title,a.cssIdentifier=n.cssIdentifier||"default",a.enabled=null==d||d,a.items=v||[],a.alignItems=n.alignItems||"center",null!=C&&(a.suppressEnabledCheckbox=C),null!=M&&(a.suppressOpenCloseIcons=M),a}return _c(i,u),i.getTemplate=function(n){var a=n.cssIdentifier||"default";return'<div class="ag-group ag-'+a+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+a+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+a+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+a+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(n.direction||"vertical")+" ag-"+a+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var n=this.items;this.items=[],this.addItems(n)}var a=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(a("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var n=this;this.eGroupClosedIcon.appendChild(So("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(So("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return n.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(a){switch(a.key){case Nn.ENTER:case Nn.SPACE:a.preventDefault(),n.toggleGroupExpand();break;case Nn.RIGHT:case Nn.LEFT:a.preventDefault(),n.toggleGroupExpand(a.key===Nn.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Vi(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var n=!this.suppressOpenCloseIcons;Ar(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ar(this.eGroupOpenedIcon,n&&this.expanded),Ar(this.eGroupClosedIcon,n&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(n){return this.alignItems!==n&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=n,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(n){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ar(this.eContainer,!0),this):(this.expanded===(n=null!=n?n:!this.expanded)||(this.expanded=n,this.refreshAriaStatus(),this.refreshChildDisplay(),Ar(this.eContainer,n),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(n){var a=this;n.forEach(function(c){return a.addItem(c)})},i.prototype.addItem=function(n){var a=this.eContainer,c=n instanceof di?n.getGui():n;c.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),a.appendChild(c),this.items.push(c)},i.prototype.hideItem=function(n,a){this.items[a].classList.toggle("ag-hidden",n)},i.prototype.setTitle=function(n){return this.eTitle.innerText=n,this},i.prototype.addCssClassToTitleBar=function(n){this.eTitleBar.classList.add(n)},i.prototype.setEnabled=function(n,a){return this.enabled=n,this.refreshDisabledStyles(),this.toggleGroupExpand(n),a||this.cbGroupEnabled.setValue(n),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(n){var a=this;return this.cbGroupEnabled.onValueChange(function(c){a.setEnabled(c,!0),n(c)}),this},i.prototype.hideEnabledCheckbox=function(n){return this.suppressEnabledCheckbox=n,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(n){return this.suppressOpenCloseIcons=n,n&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",Hc([Fn("eTitleBar")],i.prototype,"eTitleBar",void 0),Hc([Fn("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),Hc([Fn("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),Hc([Fn("eToolbar")],i.prototype,"eToolbar",void 0),Hc([Fn("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),Hc([Fn("eTitle")],i.prototype,"eTitle",void 0),Hc([Fn("eContainer")],i.prototype,"eContainer",void 0),Hc([Vt],i.prototype,"postConstruct",null),i}(di),S0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),z2=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Wf=function(u){function i(n,a){var c=u.call(this)||this;return c.element=n,c.dragStartPosition={x:0,y:0},c.position={x:0,y:0},c.lastSize={width:-1,height:-1},c.positioned=!1,c.resizersAdded=!1,c.resizeListeners=[],c.boundaryEl=null,c.isResizing=!1,c.isMoving=!1,c.resizable={},c.movable=!1,c.currentResizer=null,c.config=Object.assign({},{popup:!1},a),c}return S0(i,u),i.prototype.center=function(){var n=this.offsetParent,a=n.clientHeight,d=n.clientWidth/2-this.getWidth()/2,v=a/2-this.getHeight()/2;this.offsetElement(d,v)},i.prototype.initialisePosition=function(){var n=this.config,a=n.centered,c=n.forcePopupParentAsOffsetParent,d=n.minWidth,v=n.width,C=n.minHeight,M=n.height,L=n.x,U=n.y;this.offsetParent||this.setOffsetParent();var ce=0,ye=0,it=!!this.element.offsetParent;if(it){var bt=this.findBoundaryElement(),Wt=window.getComputedStyle(bt);if(null!=Wt.minWidth){var cn=bt.offsetWidth-this.element.offsetWidth;ye=parseInt(Wt.minWidth,10)-cn}if(null!=Wt.minHeight){var Kt=bt.offsetHeight-this.element.offsetHeight;ce=parseInt(Wt.minHeight,10)-Kt}}if(this.minHeight=C||ce,this.minWidth=d||ye,v&&this.setWidth(v),M&&this.setHeight(M),(!v||!M)&&this.refreshSize(),a)this.center();else if(L||U)this.offsetElement(L,U);else if(it&&c&&this.boundaryEl){var _n=parseFloat(this.boundaryEl.style.top),An=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(An)?0:An,isNaN(_n)?0:_n)}this.positioned=!!this.offsetParent},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(n,a){if(this.config.popup&&n!==this.movable){this.movable=n;var c=this.moveElementDragListener||{eElement:a,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};n?(this.dragService.addDragSource(c),this.moveElementDragListener=c):(this.dragService.removeDragSource(c),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(n){var a=this;if(this.clearResizeListeners(),n?this.addResizers():this.removeResizers(),"boolean"==typeof n){if(!1===n)return;n={topLeft:n,top:n,topRight:n,right:n,bottomRight:n,bottom:n,bottomLeft:n,left:n}}Object.keys(n).forEach(function(c){var v=!!n[c],C=a.getResizerElement(c),M={dragStartPixels:0,eElement:C,onDragStart:function(L){return a.onResizeStart(L,c)},onDragging:a.onResize.bind(a),onDragStop:function(L){return a.onResizeEnd(L,c)}};(!!a.resizable[c]!==v||!a.isAlive()&&!v)&&(v?(a.dragService.addDragSource(M),a.resizeListeners.push(M),C.style.pointerEvents="all"):C.style.pointerEvents="none")})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var n=this.lastSize,a=n.height,c=n.width;-1!==c&&(this.element.style.width=c+"px"),-1!==a&&(this.element.style.height=a+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(n){var a=this.config.popup,c=this.element,d=!1;if("string"==typeof n&&-1!==n.indexOf("%"))Bn(c,n),n=uo(c),d=!0;else if(this.positioned){var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect();n=Math.max(this.minHeight,n);var M=this.offsetParent.clientHeight,L=a?this.position.y:v.top;M&&n+L>M+(a?0:C.top)&&(n=M-L)}this.getHeight()!==n&&(d?(c.style.maxHeight="unset",c.style.minHeight="unset"):a?Bn(c,n):(c.style.height=n+"px",c.style.flex="0 0 auto",this.lastSize.height="number"==typeof n?n:parseFloat(n)))},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(n){var a=this.element,c=this.config.popup,d=!1;if("string"==typeof n&&-1!==n.indexOf("%"))Qt(a,n),n=Jl(a),d=!0;else if(this.positioned){n=Math.max(this.minWidth,n);var v=this.offsetParent.clientWidth,C=c?this.position.x:this.element.getBoundingClientRect().left;v&&n+C>v&&(n=v-C)}this.getWidth()!==n&&(d?(a.style.maxWidth="unset",a.style.minWidth="unset"):this.config.popup?Qt(a,n):(a.style.width=n+"px",a.style.flex=" unset",this.lastSize.width="number"==typeof n?n:parseFloat(n)))},i.prototype.offsetElement=function(n,a){void 0===n&&(n=0),void 0===a&&(a=0);var c=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:c,x:n,y:a,keepWithinBounds:!0}),this.setPosition(parseFloat(c.style.left),parseFloat(c.style.top))},i.prototype.setPosition=function(n,a){this.position.x=n,this.position.y=a},i.prototype.updateDragStartPosition=function(n,a){this.dragStartPosition={x:n,y:a}},i.prototype.calculateMouseMovement=function(n){var a=n.e,d=n.isTop,C=n.topBuffer,M=a.clientX-this.dragStartPosition.x,L=a.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(a,!!n.isLeft,!!n.anywhereWithin,M)?0:M,movementY:this.shouldSkipY(a,!!d,C,L)?0:L}},i.prototype.shouldSkipX=function(n,a,c,d){var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),M=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.x:v.left,U=L<=0&&C.left>=n.clientX||C.right<=n.clientX&&C.right<=M.right;return!!U||(a?d<0&&n.clientX>L+C.left||d>0&&n.clientX<L+C.left:c?d<0&&n.clientX>M.right||d>0&&n.clientX<L+C.left:d<0&&n.clientX>M.right||d>0&&n.clientX<M.right)},i.prototype.shouldSkipY=function(n,a,c,d){void 0===c&&(c=0);var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),M=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.y:v.top,U=L<=0&&C.top>=n.clientY||C.bottom<=n.clientY&&C.bottom<=M.bottom;return!!U||(a?d<0&&n.clientY>L+C.top+c||d>0&&n.clientY<L+C.top:d<0&&n.clientY>M.bottom||d>0&&n.clientY<M.bottom)},i.prototype.createResizeMap=function(){var n=this.element;this.resizerMap={topLeft:{element:n.querySelector("[ref=eTopLeftResizer]")},top:{element:n.querySelector("[ref=eTopResizer]")},topRight:{element:n.querySelector("[ref=eTopRightResizer]")},right:{element:n.querySelector("[ref=eRightResizer]")},bottomRight:{element:n.querySelector("[ref=eBottomRightResizer]")},bottom:{element:n.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:n.querySelector("[ref=eBottomLeftResizer]")},left:{element:n.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var n=this.element;if(n){var c=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;n.appendChild(c.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var n=this.element.querySelector(".ag-resizer-wrapper");n&&this.element.removeChild(n),this.resizersAdded=!1},i.prototype.getResizerElement=function(n){return this.resizerMap[n].element},i.prototype.onResizeStart=function(n,a){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!a.match(/top/i),isRight:!!a.match(/right/i),isBottom:!!a.match(/bottom/i),isLeft:!!a.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[a].element.classList.add("ag-active");var c=this.config;!c.popup&&!c.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(n.clientX,n.clientY)},i.prototype.getSiblings=function(){var a=this.element.parentElement;return a?Array.prototype.slice.call(a.children).filter(function(c){return!c.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var n=this.getSiblings()||[],a=0,c=0,d=0;d<n.length;d++){var v=n[d];if(v!==this.element){var M=this.minHeight||0,L=this.minWidth||0;if(v.style.flex&&"0 0 auto"!==v.style.flex){var U=window.getComputedStyle(v);U.minHeight&&(M=parseInt(U.minHeight,10)),U.minWidth&&(L=parseInt(U.minWidth,10))}else M=v.offsetHeight,L=v.offsetWidth;a+=M,c+=L}}return{height:a,width:c}},i.prototype.applySizeToSiblings=function(n){var a=null,c=this.getSiblings();if(c){for(var d=0;d<c.length;d++){var v=c[d];v!==a&&(n?v.style.height=v.offsetHeight+"px":v.style.width=v.offsetWidth+"px",v.style.flex="0 0 auto",v===this.element&&(a=c[d+1]))}a&&(a.style.removeProperty("height"),a.style.removeProperty("min-height"),a.style.removeProperty("max-height"),a.style.flex="1 1 auto")}},i.prototype.onResize=function(n){if(this.isResizing&&this.currentResizer){var a=this.config,c=a.popup,d=a.forcePopupParentAsOffsetParent,v=this.currentResizer,C=v.isTop,U=v.isLeft,ce=v.isRight||U,ye=v.isBottom||C,it=this.calculateMouseMovement({e:n,isLeft:U,isTop:C}),bt=it.movementX,Wt=it.movementY,cn=this.position.x,Kt=this.position.y,_n=0,An=0;if(ce&&bt){var qn=U?-1:1,Ir=this.getWidth(),_i=Ir+bt*qn,ni=!1;U&&(cn+(_n=Ir-_i)<=0||_i<=this.minWidth)&&(ni=!0,_n=0),ni||this.setWidth(_i)}if(ye&&Wt){qn=C?-1:1;var ii=this.getHeight(),kr=ii+Wt*qn,Oi=!1;C?(Kt+(An=ii-kr)<=0||kr<=this.minHeight)&&(Oi=!0,An=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&ii<kr&&this.getMinSizeOfSiblings().height+kr>this.element.parentElement.offsetHeight&&(Oi=!0),Oi||this.setHeight(kr)}this.updateDragStartPosition(n.clientX,n.clientY),((c||d)&&_n||An)&&this.offsetElement(cn+_n,Kt+An)}},i.prototype.onResizeEnd=function(n,a){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var c={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[a].element.classList.remove("ag-active"),this.dispatchEvent(c)},i.prototype.refreshSize=function(){var n=this.element;this.config.popup&&(this.config.width||this.setWidth(n.offsetWidth),this.config.height||this.setHeight(n.offsetHeight))},i.prototype.onMoveStart=function(n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(n.clientX,n.clientY)},i.prototype.onMove=function(n){if(this.isMoving){var v,a=this.position,c=a.x,d=a.y;this.config.calculateTopBuffer&&(v=this.config.calculateTopBuffer());var C=this.calculateMouseMovement({e:n,isTop:!0,anywhereWithin:!0,topBuffer:v});this.offsetElement(c+C.movementX,d+C.movementY),this.updateDragStartPosition(n.clientX,n.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var n=this.element;n;){if("static"!==window.getComputedStyle(n).position)return n;n=n.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var n=this.resizeListeners.pop();this.dragService.removeDragSource(n)}},i.prototype.destroy=function(){u.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},z2([oe("popupService")],i.prototype,"popupService",void 0),z2([oe("dragService")],i.prototype,"dragService",void 0),i}(wn),sh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},mp=function(u){function i(n){var a=u.call(this,i.getTemplate(n))||this;return a.closable=!0,a.config=n,a}return sh(i,u),i.getTemplate=function(n){var a=n&&n.cssIdentifier||"default";return'<div class="ag-panel ag-'+a+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+a+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+a+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+a+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+a+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var n=this,a=this.config,c=a.component,d=a.closable,v=a.hideTitleBar,C=a.title,M=a.minWidth,L=void 0===M?250:M,U=a.width,ce=a.minHeight,ye=void 0===ce?250:ce,it=a.height,bt=a.centered,Wt=a.popup,cn=a.x,Kt=a.y;this.positionableFeature=new Wf(this.getGui(),{minWidth:L,width:U,minHeight:ye,height:it,centered:bt,x:cn,y:Kt,popup:Wt,calculateTopBuffer:function(){return n.positionableFeature.getHeight()-n.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var _n=this.getGui();c&&this.setBodyComponent(c),v?this.eTitleBar.classList.add("ag-hidden"):(C&&this.setTitle(C),this.setClosable(null!=d?d:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(An){var qn=n.gridOptionsWrapper.getDocument();if(_n.contains(An.relatedTarget)||_n.contains(qn.activeElement)||n.eTitleBarButtons.contains(An.target))An.preventDefault();else{var Ir=n.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Ir&&Ir.focus()}}),(!Wt||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var n=this,a=this.getGui();a.focus(),this.close=function(){a.parentElement.removeChild(a),n.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(n){this.positionableFeature.setHeight(n)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(n){this.positionableFeature.setWidth(n)},i.prototype.setClosable=function(n){if(n!==this.closable&&(this.closable=n),n){var a=this.closeButtonComp=new di(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(a);var c=a.getGui(),d=io("close",this.gridOptionsWrapper);d.classList.add("ag-panel-title-bar-button-icon"),c.appendChild(d),this.addTitleBarButton(a),a.addManagedListener(c,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((c=this.closeButtonComp.getGui()).parentElement.removeChild(c),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(n){n.setParentComponent(this),this.eContentWrapper.appendChild(n.getGui())},i.prototype.addTitleBarButton=function(n,a){var c=this.eTitleBarButtons,d=c.children,v=d.length;null==a&&(a=v),a=Math.max(0,Math.min(a,v)),n.addCssClass("ag-panel-title-bar-button");var C=n.getGui();0===a?c.insertAdjacentElement("afterbegin",C):a===v?c.insertAdjacentElement("beforeend",C):d[a-1].insertAdjacentElement("afterend",C),n.setParentComponent(this)},i.prototype.getBodyHeight=function(){return li(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return Ql(this.eContentWrapper)},i.prototype.setTitle=function(n){this.eTitle.innerText=n},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var n=this.getGui();n&&n.offsetParent&&this.close(),u.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',wc([Fn("eContentWrapper")],i.prototype,"eContentWrapper",void 0),wc([Fn("eTitleBar")],i.prototype,"eTitleBar",void 0),wc([Fn("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),wc([Fn("eTitle")],i.prototype,"eTitle",void 0),wc([Vt],i.prototype,"postConstruct",null),i}(di),Qg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jf=function(){return jf=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},jf.apply(this,arguments)},Sc=function(u){function i(n){var a=u.call(this,jf(jf({},n),{popup:!0}))||this;return a.isMaximizable=!1,a.isMaximized=!1,a.maximizeListeners=[],a.resizeListenerDestroy=null,a.lastPosition={x:0,y:0,width:0,height:0},a}return Qg(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),c=this.config,d=c.movable,v=c.resizable,C=c.maximizable;this.addCssClass("ag-dialog"),u.prototype.postConstruct.call(this),this.addManagedListener(a,"focusin",function(M){a.contains(M.relatedTarget)||n.popupService.bringPopupToFront(a)}),d&&this.setMovable(d),C&&this.setMaximizable(C),v&&this.setResizable(v)},i.prototype.renderComponent=function(){var n=this.getGui(),a=this.config,c=a.alwaysOnTop,d=a.modal,v=a.title,C=this.gridOptionsWrapper.getLocaleTextFunc(),M=this.popupService.addPopup({modal:d,eChild:n,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:c,ariaLabel:v||C("ariaLabelDialog","Dialog")});M&&(this.close=M.hideFunc)},i.prototype.toggleMaximize=function(){var n=this.positionableFeature.getPosition();if(this.isMaximized){var a=this.lastPosition,c=a.x,d=a.y,C=a.height;this.setWidth(a.width),this.setHeight(C),this.positionableFeature.offsetElement(c,d)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=n.x,this.lastPosition.y=n.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){Ar(this.maximizeIcon,!this.isMaximized),Ar(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(n){return n()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),u.prototype.destroy.call(this)},i.prototype.setResizable=function(n){this.positionableFeature.setResizable(n)},i.prototype.setMovable=function(n){this.positionableFeature.setMovable(n,this.eTitleBar)},i.prototype.setMaximizable=function(n){var a=this;if(!n)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var c=this.eTitleBar;if(c&&n!==this.isMaximizable){var d=this.maximizeButtonComp=this.createBean(new di('<div class="ag-dialog-button"></span>')),v=d.getGui();v.appendChild(this.maximizeIcon=io("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),v.appendChild(this.minimizeIcon=io("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),d.addManagedListener(v,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(d,0),this.maximizeListeners.push(this.addManagedListener(c,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){a.isMaximized=!1,a.refreshMaximizeIcon()})}},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([oe("popupService")],i.prototype,"popupService",void 0),i}(mp),Sa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lh=function(u){function i(n,a,c){return void 0===a&&(a="ag-text-field"),void 0===c&&(c="text"),u.call(this,n,a,c)||this}return Sa(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(n,a){var c=u.prototype.setValue.call(this,n,a);return this.eInput.value!==n&&(this.eInput.value=se(n)?n:""),c},i.prototype.preventDisallowedCharacters=function(){var n=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(c){c.key&&!n.test(c.key)&&c.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(c){var d,v=null===(d=c.clipboardData)||void 0===d?void 0:d.getData("text");v&&v.split("").some(function(C){return!n.test(C)})&&c.preventDefault()})},i}(ic),ps=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),b0=function(u){function i(n){return u.call(this,n,"ag-text-area",null,"textarea")||this}return ps(i,u),i.prototype.setValue=function(n,a){var c=u.prototype.setValue.call(this,n,a);return this.eInput.value=n,c},i.prototype.setCols=function(n){return this.eInput.cols=n,this},i.prototype.setRows=function(n){return this.eInput.rows=n,this},i}(ic),Uf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Yf=function(u){function i(n){var a=u.call(this,n,i.TEMPLATE)||this;return a.labelAlignment="top",a}return Uf(i,u),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(n){var a=this,c=rc.EVENT_CHANGED;return this.addManagedListener(this.eText,c,function(){var d=parseFloat(a.eText.getValue());a.eSlider.setValue(d.toString(),!0),n(d||0)}),this.addManagedListener(this.eSlider,c,function(){var d=a.eSlider.getValue();a.eText.setValue(d,!0),n(parseFloat(d))}),this},i.prototype.setSliderWidth=function(n){return this.eSlider.setWidth(n),this},i.prototype.setTextFieldWidth=function(n){return this.eText.setWidth(n),this},i.prototype.setMinValue=function(n){return this.eSlider.setMinValue(n),this.eText.setMin(n),this},i.prototype.setMaxValue=function(n){return this.eSlider.setMaxValue(n),this.eText.setMax(n),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(n){return this.getValue()===n||(this.eText.setValue(n,!0),this.eSlider.setValue(n,!0),this.dispatchEvent({type:rc.EVENT_CHANGED})),this},i.prototype.setStep=function(n){return this.eSlider.setStep(n),this.eText.setStep(n),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',hd([Fn("eLabel")],i.prototype,"eLabel",void 0),hd([Fn("eSlider")],i.prototype,"eSlider",void 0),hd([Fn("eText")],i.prototype,"eText",void 0),hd([Vt],i.prototype,"init",null),i}(P1),rm=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},fs=function(u){function i(n){var a=u.call(this,i.TEMPLATE)||this;return a.H=1,a.S=1,a.B=1,a.A=1,a.isSpectrumDragging=!1,a.isSpectrumHueDragging=!1,a.isSpectrumAlphaDragging=!1,a.colorChanged=!1,a.picker=n.picker,a}return rm(i,u),i.prototype.postConstruct=function(){var n=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(n,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(n,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(n,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},i.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},i.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},i.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},i.prototype.onSpectrumDraggerDown=function(n){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(n)},i.prototype.onSpectrumDraggerMove=function(n){this.isSpectrumDragging&&this.moveDragger(n)},i.prototype.onSpectrumHueDown=function(n){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(n)},i.prototype.onSpectrumHueMove=function(n){this.isSpectrumHueDragging&&this.moveHueSlider(n)},i.prototype.onSpectrumAlphaDown=function(n){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(n)},i.prototype.onSpectrumAlphaMove=function(n){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(n)},i.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},i.prototype.moveDragger=function(n){var a=this.spectrumValRect;if(a){var c=n.clientX-a.left,d=n.clientY-a.top;c=Math.max(c,0),c=Math.min(c,a.width),d=Math.max(d,0),d=Math.min(d,a.height),this.setSpectrumValue(c/a.width,1-d/a.height)}},i.prototype.moveHueSlider=function(n){var a=this.spectrumHueRect;if(a){var c=this.spectrumHueSlider,d=c.getBoundingClientRect(),v=n.clientX-a.left;v=Math.max(v,0),v=Math.min(v,a.width),this.H=1-v/a.width,c.style.left=v+d.width/2+"px",this.update()}},i.prototype.moveAlphaSlider=function(n){var a=this.spectrumAlphaRect;if(a){var c=this.spectrumAlphaSlider,d=c.getBoundingClientRect(),v=n.clientX-a.left;v=Math.max(v,0),v=Math.min(v,a.width),this.A=v/a.width,c.style.left=v+d.width/2+"px",this.update()}},i.prototype.update=function(){var n=Uo.fromHSB(360*this.H,this.S,this.B,this.A),a=Uo.fromHSB(360*this.H,1,1),c=n.toRgbaString(),d=this.picker;Uo.fromString(d.getValue()).toRgbaString()!==c&&(this.colorChanged=!0),d.setValue(c),this.spectrumColor.style.backgroundColor=a.toRgbaString(),this.spectrumDragger.style.backgroundColor=c},i.prototype.setSpectrumValue=function(n,a){var c=this.spectrumValRect||this.refreshSpectrumRect();if(c){var d=this.spectrumDragger,v=d.getBoundingClientRect();n=Math.max(0,n),n=Math.min(1,n),a=Math.max(0,a),a=Math.min(1,a),this.S=n,this.B=a,d.style.left=n*c.width-v.width/2+"px",d.style.top=(1-a)*c.height-v.height/2+"px",this.update()}},i.prototype.initRecentColors=function(){var a=i.recentColors.map(function(c,d){return'<div class="ag-recent-color" id='+d+' style="background-color: '+c+'; width: 15px; height: 15px;" recent-color="'+c+'"></div>'});this.recentColors.innerHTML=a.join("")},i.prototype.setValue=function(n){var a=Uo.fromString(n),c=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d}(a.toHSB(),3),d=c[0],v=c[1],C=c[2];this.H=(isNaN(d)?0:d)/360,this.A=a.a;var M=this.spectrumHueRect||this.refreshHueRect(),L=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-M.width+"px",this.spectrumAlphaSlider.style.left=this.A*L.width+"px",this.setSpectrumValue(v,C)},i.prototype.onRecentColorClick=function(n){var a=n.target;if(se(a.id)){var c=parseInt(a.id,10);this.setValue(i.recentColors[c]),this.destroy()}},i.prototype.addRecentColor=function(){var a=Uo.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),c=i.recentColors;!this.colorChanged||c[0]===a||(c=c.filter(function(d){return d!=a}),(c=[a].concat(c)).length>i.maxRecentColors&&(c=c.slice(0,i.maxRecentColors)),i.recentColors=c)},i.prototype.destroy=function(){this.addRecentColor(),u.prototype.destroy.call(this)},i.maxRecentColors=8,i.recentColors=[],i.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Kl([Fn("spectrumColor")],i.prototype,"spectrumColor",void 0),Kl([Fn("spectrumVal")],i.prototype,"spectrumVal",void 0),Kl([Fn("spectrumDragger")],i.prototype,"spectrumDragger",void 0),Kl([Fn("spectrumHue")],i.prototype,"spectrumHue",void 0),Kl([Fn("spectrumHueSlider")],i.prototype,"spectrumHueSlider",void 0),Kl([Fn("spectrumAlpha")],i.prototype,"spectrumAlpha",void 0),Kl([Fn("spectrumAlphaSlider")],i.prototype,"spectrumAlphaSlider",void 0),Kl([Fn("recentColors")],i.prototype,"recentColors",void 0),Kl([Vt],i.prototype,"postConstruct",null),i}(di),yp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uh=function(u){function i(n){var a=u.call(this,n,"ag-color-picker","colorPicker")||this;return n&&n.color&&(a.value=n.color),a}return yp(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},i.prototype.showPicker=function(){var n=this,a=this.getGui().getBoundingClientRect(),c=this.createBean(new Sc({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:a.right-190,y:a.top-250}));this.isPickerDisplayed=!0,c.addCssClass("ag-color-dialog"),Vi(this.eWrapper,!0);var d=this.createBean(new fs({picker:this}));return d.addDestroyFunc(function(){c.isAlive()&&n.destroyBean(c)}),c.setParentComponent(this),c.setBodyComponent(d),d.setValue(this.getValue()),c.addDestroyFunc(function(){n.isDestroyingPicker?n.isDestroyingPicker=!1:(n.isDestroyingPicker=!0,d.isAlive()&&n.destroyBean(d)),n.isAlive()&&(Vi(n.eWrapper,!1),n.getFocusableElement().focus()),n.isPickerDisplayed=!1}),c},i.prototype.setValue=function(n){return this.value===n?this:(this.eDisplayField.style.backgroundColor=n,u.prototype.setValue.call(this,n))},i.prototype.getValue=function(){return this.value},i}(Xp),wl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E0=function(u){function i(n){return u.call(this,n,"ag-number-field","number")||this}return wl(i,u),i.prototype.postConstruct=function(){var n=this;u.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var a=parseFloat(n.eInput.value),c=isNaN(a)?"":n.normalizeValue(a.toString());n.value!==c&&n.setValue(c)}),this.eInput.step="any"},i.prototype.normalizeValue=function(n){if(""===n)return"";this.precision&&(n=this.adjustPrecision(n));var a=parseFloat(n);return null!=this.min&&a<this.min?n=this.min.toString():null!=this.max&&a>this.max&&(n=this.max.toString()),n},i.prototype.adjustPrecision=function(n){if(this.precision){var a=parseFloat(n).toFixed(this.precision);n=parseFloat(a).toString()}return n},i.prototype.setMin=function(n){return this.min===n||(this.min=n,yo(this.eInput,"min",n)),this},i.prototype.setMax=function(n){return this.max===n||(this.max=n,yo(this.eInput,"max",n)),this},i.prototype.setPrecision=function(n){return this.precision=n,this},i.prototype.setStep=function(n){return this.step===n||(this.step=n,yo(this.eInput,"step",n)),this},i.prototype.setValue=function(n,a){return(n=this.adjustPrecision(n))!=this.normalizeValue(n)?this:u.prototype.setValue.call(this,n,a)},i}(lh),D0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kf=function(u){function i(n){return u.call(this,n,"ag-range-field","range")||this}return D0(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this);var n=this.config,a=n.min,c=n.max,d=n.step;null!=a&&this.setMinValue(a),null!=c&&this.setMaxValue(c),this.setStep(d||1)},i.prototype.addInputListeners=function(){var n=this;this.addManagedListener(this.eInput,"input",function(a){n.setValue(a.target.value)})},i.prototype.setMinValue=function(n){return this.min=n,this.eInput.setAttribute("min",n.toString()),this},i.prototype.setMaxValue=function(n){return this.max=n,this.eInput.setAttribute("max",n.toString()),this},i.prototype.setStep=function(n){return this.eInput.setAttribute("step",n.toString()),this},i.prototype.setValue=function(n,a){null!=this.min&&(n=Math.max(parseFloat(n),this.min).toString()),null!=this.max&&(n=Math.min(parseFloat(n),this.max).toString());var c=u.prototype.setValue.call(this,n,a);return this.eInput.value=n,c},i}(ic),Jg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Cp=function(u){function i(n){var a=u.call(this,n,i.TEMPLATE)||this;return a.radius=0,a.offsetX=0,a.offsetY=0,a}return Jg(i,u),i.prototype.postConstruct=function(){var n=this;u.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(a){n.parentCircleRect=n.eParentCircle.getBoundingClientRect()},onDragging:function(a){return n.calculateAngleDrag(a)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(a){(null==a||""===a)&&(a="0"),a=n.eAngleValue.normalizeValue(a);var c=parseFloat(a);c>180&&(c-=360),n.setValue(c)}),this.updateNumberInput(),se(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,rc.EVENT_CHANGED,function(){var a=n.gridOptionsWrapper.getDocument();n.eAngleValue.getInputElement().contains(a.activeElement)||n.updateNumberInput()})},i.prototype.updateNumberInput=function(){var n=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(n.toString())},i.prototype.positionChildCircle=function(n){var a=this.parentCircleRect||{width:24,height:24},c=this.eChildCircle,v=a.height/2;c.style.left=a.width/2+8*Math.cos(n)+"px",c.style.top=v+8*Math.sin(n)+"px"},i.prototype.calculatePolar=function(){var n=this.offsetX,a=this.offsetY,c=Math.atan2(a,n);this.degrees=this.toDegrees(c),this.radius=Math.sqrt(n*n+a*a),this.positionChildCircle(c)},i.prototype.calculateCartesian=function(){var n=this.toRadians(this.getValue()),a=this.getRadius();this.setOffsetX(Math.cos(n)*a).setOffsetY(Math.sin(n)*a)},i.prototype.setOffsetX=function(n){return this.offsetX!==n&&(this.offsetX=n,this.calculatePolar()),this},i.prototype.setOffsetY=function(n){return this.offsetY!==n&&(this.offsetY=n,this.calculatePolar()),this},i.prototype.calculateAngleDrag=function(n){var a=this.parentCircleRect,U=Math.atan2(n.clientY-a.top-a.height/2,n.clientX-a.left-a.width/2);this.setValue(U,!0)},i.prototype.toDegrees=function(n){return n/Math.PI*180},i.prototype.toRadians=function(n){return n/180*Math.PI},i.prototype.normalizeNegativeValue=function(n){return n<0?360+n:n},i.prototype.normalizeAngle180=function(n){return(n%=2*Math.PI)<-Math.PI?n+=2*Math.PI:n>=Math.PI&&(n-=2*Math.PI),n},i.prototype.getRadius=function(){return this.radius},i.prototype.setRadius=function(n){return this.radius===n||(this.radius=n,this.calculateCartesian()),this},i.prototype.onValueChange=function(n){var a=this;return this.addManagedListener(this,rc.EVENT_CHANGED,function(){n(a.degrees)}),this},i.prototype.getValue=function(n){return n?this.toRadians(this.degrees):this.degrees},i.prototype.setValue=function(n,a){var c;return c=a?n:this.normalizeAngle180(this.toRadians(n)),n=this.toDegrees(c),this.degrees!==n&&(this.degrees=Math.floor(n),this.calculateCartesian(),this.positionChildCircle(c),this.dispatchEvent({type:rc.EVENT_CHANGED})),this},i.prototype.setWidth=function(n){return Qt(this.getGui(),n),this},i.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),u.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',pd([Fn("eLabel")],i.prototype,"eLabel",void 0),pd([Fn("eParentCircle")],i.prototype,"eParentCircle",void 0),pd([Fn("eChildCircle")],i.prototype,"eChildCircle",void 0),pd([Fn("eAngleValue")],i.prototype,"eAngleValue",void 0),pd([oe("dragService")],i.prototype,"dragService",void 0),i}(P1),Sl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$f=function(u){function i(n){return u.call(this,n,"ag-toggle-button")||this}return Sl(i,u),i.prototype.setValue=function(n,a){return u.prototype.setValue.call(this,n,a),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(cu),O0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Xf=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return O0(i,u),i.prototype.getFirstRow=function(){var a,n=0;return this.pinnedRowModel.getPinnedTopRowCount()?a=xe.PINNED_TOP:this.rowModel.getRowCount()?(a=null,n=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(a=xe.PINNED_BOTTOM),void 0===a?null:{rowIndex:n,rowPinned:a}},i.prototype.getLastRow=function(){var n,a=null,c=this.pinnedRowModel.getPinnedBottomRowCount(),d=this.pinnedRowModel.getPinnedTopRowCount();return c?(a=xe.PINNED_BOTTOM,n=c-1):this.rowModel.getRowCount()?(a=null,n=this.paginationProxy.getPageLastRow()):d&&(a=xe.PINNED_TOP,n=d-1),void 0===n?null:{rowIndex:n,rowPinned:a}},i.prototype.getRowNode=function(n){switch(n.rowPinned){case xe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case xe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},i.prototype.sameRow=function(n,a){return!n&&!a||!(n&&!a||!n&&a)&&n.rowIndex===a.rowIndex&&n.rowPinned==a.rowPinned},i.prototype.before=function(n,a){switch(n.rowPinned){case xe.PINNED_TOP:if(a.rowPinned!==xe.PINNED_TOP)return!0;break;case xe.PINNED_BOTTOM:if(a.rowPinned!==xe.PINNED_BOTTOM)return!1;break;default:if(se(a.rowPinned))return a.rowPinned!==xe.PINNED_TOP}return n.rowIndex<a.rowIndex},qf([oe("rowModel")],i.prototype,"rowModel",void 0),qf([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),qf([oe("paginationProxy")],i.prototype,"paginationProxy",void 0),qf([mn("rowPositionUtils")],i)}(wn),ev=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gu=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return ev(i,u),i.prototype.createId=function(n){return this.createIdFromValues(n.rowIndex,n.column,n.rowPinned)},i.prototype.createIdFromValues=function(n,a,c){return n+"."+(null==c?"null":c)+"."+a.getId()},i.prototype.equals=function(n,a){return n.column===a.column&&n.rowPinned===a.rowPinned&&n.rowIndex===a.rowIndex},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("cellPositionUtils")],i),i}(wn),T0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Zf=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return T0(i,u),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},i.prototype.isEmpty=function(n){return De(n===xe.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(n){return!this.isEmpty(n)},i.prototype.getRowAtPixel=function(n,a){var c=a===xe.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(De(c))return 0;for(var d=0;d<c.length;d++){var v=c[d];if(v.rowTop+v.rowHeight-1>=n)return d}return c.length-1},i.prototype.setPinnedTopRowData=function(n){this.pinnedTopRows=this.createNodesFromData(n,!0),this.eventService.dispatchEvent({type:qe.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setPinnedBottomRowData=function(n){this.pinnedBottomRows=this.createNodesFromData(n,!1),this.eventService.dispatchEvent({type:qe.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.createNodesFromData=function(n,a){var c=this,d=[];if(n){var v=0;n.forEach(function(C,M){var L=new vi(c.beans);L.data=C,L.id=(a?vi.ID_PREFIX_TOP_PINNED:vi.ID_PREFIX_BOTTOM_PINNED)+M,L.rowPinned=a?xe.PINNED_TOP:xe.PINNED_BOTTOM,L.setRowTop(v),L.setRowHeight(c.gridOptionsWrapper.getRowHeightForNode(L).height),L.setRowIndex(M),v+=L.rowHeight,d.push(L)})}return d},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(n){return this.pinnedTopRows[n]},i.prototype.getPinnedBottomRow=function(n){return this.pinnedBottomRows[n]},i.prototype.forEachPinnedTopRow=function(n){De(this.pinnedTopRows)||this.pinnedTopRows.forEach(n)},i.prototype.forEachPinnedBottomRow=function(n){De(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(n)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(n){if(!n||0===n.length)return 0;var a=ft(n);return a.rowTop+a.rowHeight},fd([oe("columnApi")],i.prototype,"columnApi",void 0),fd([oe("gridApi")],i.prototype,"gridApi",void 0),fd([oe("beans")],i.prototype,"beans",void 0),fd([Vt],i.prototype,"init",null),fd([mn("pinnedRowModel")],i)}(wn),Gc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bc=function u(i){this.cellValueChanges=i},wp=function(u){function i(n,a,c){var d=u.call(this,n)||this;return d.initialRange=a,d.finalRange=c,d}return Gc(i,u),i}(Bc),gd=function(){function u(i){this.actionStack=[],this.maxStackSize=i||u.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return u.prototype.pop=function(){return this.actionStack.pop()},u.prototype.push=function(i){!(i.cellValueChanges&&i.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},u.prototype.clear=function(){this.actionStack=[]},u.prototype.getCurrentStackSize=function(){return this.actionStack.length},u.DEFAULT_STACK_SIZE=10,u}(),x0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},tv=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.cellValueChanges=[],n.activeCellEdit=null,n.activeRowEdit=null,n.isPasting=!1,n.isFilling=!1,n.onCellValueChanged=function(a){var c={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned},d=null!==n.activeCellEdit&&n.cellPositionUtils.equals(n.activeCellEdit,c),v=null!==n.activeRowEdit&&n.rowPositionUtils.sameRow(n.activeRowEdit,c);if(d||v||n.isPasting||n.isFilling){var ce=a.oldValue,ye=a.value,it={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:a.column.getColId(),newValue:ye,oldValue:ce};n.cellValueChanges.push(it)}},n.clearStacks=function(){n.undoStack.clear(),n.redoStack.clear()},n}return x0(i,u),i.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var n=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();n<=0||(this.undoStack=new gd(n),this.redoStack=new gd(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,qe.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,qe.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,qe.EVENT_ROW_DRAG_END,this.clearStacks))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(){if(this.undoStack){var n=this.undoStack.pop();!n||!n.cellValueChanges||(this.processAction(n,function(a){return a.oldValue}),n instanceof wp?this.processRangeAndCellFocus(n.cellValueChanges,n.initialRange):this.processRangeAndCellFocus(n.cellValueChanges),this.redoStack.push(n))}},i.prototype.redo=function(){if(this.redoStack){var n=this.redoStack.pop();!n||!n.cellValueChanges||(this.processAction(n,function(a){return a.newValue}),n instanceof wp?this.processRangeAndCellFocus(n.cellValueChanges,n.finalRange):this.processRangeAndCellFocus(n.cellValueChanges),this.undoStack.push(n))}},i.prototype.processAction=function(n,a){var c=this;n.cellValueChanges.forEach(function(d){var M=d.columnId,U=c.getRowNode({rowIndex:d.rowIndex,rowPinned:d.rowPinned});!U.displayed||U.setDataValue(M,a(d))})},i.prototype.processRangeAndCellFocus=function(n,a){var c;if(a){var d=a.startRow,v=a.endRow;return c={rowPinned:d.rowPinned,rowIndex:d.rowIndex,columnId:a.startColumn.getColId()},this.setLastFocusedCell(c),void this.gridApi.addCellRange({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,rowEndIndex:v.rowIndex,rowEndPinned:v.rowPinned,columnStart:a.startColumn,columns:a.columns})}var M=n[0],ye=this.getRowNode({rowIndex:M.rowIndex,rowPinned:M.rowPinned});this.setLastFocusedCell(c={rowPinned:M.rowPinned,rowIndex:ye.rowIndex,columnId:M.columnId})},i.prototype.setLastFocusedCell=function(n){var a=n.rowIndex,c=n.columnId,d=n.rowPinned;this.gridApi.ensureIndexVisible(a),this.gridApi.ensureColumnVisible(c),an.isRegistered(Nt.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(a,c,d,!0)},i.prototype.addRowEditingListeners=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_ROW_EDITING_STARTED,function(a){n.activeRowEdit={rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,qe.EVENT_ROW_EDITING_STOPPED,function(){var a=new Bc(n.cellValueChanges);n.pushActionsToUndoStack(a),n.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_CELL_EDITING_STARTED,function(a){n.activeCellEdit={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,qe.EVENT_CELL_EDITING_STOPPED,function(){if(n.activeCellEdit=null,!n.activeRowEdit&&!n.isPasting&&!n.isFilling){var c=new Bc(n.cellValueChanges);n.pushActionsToUndoStack(c)}})},i.prototype.addPasteListeners=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_PASTE_START,function(){n.isPasting=!0}),this.addManagedListener(this.eventService,qe.EVENT_PASTE_END,function(){var a=new Bc(n.cellValueChanges);n.pushActionsToUndoStack(a),n.isPasting=!1})},i.prototype.addFillListeners=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_FILL_START,function(){n.isFilling=!0}),this.addManagedListener(this.eventService,qe.EVENT_FILL_END,function(a){var c=new wp(n.cellValueChanges,a.initialRange,a.finalRange);n.pushActionsToUndoStack(c),n.isFilling=!1})},i.prototype.pushActionsToUndoStack=function(n){this.undoStack.push(n),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(n){switch(n.rowPinned){case xe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case xe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},vu([oe("focusService")],i.prototype,"focusService",void 0),vu([oe("gridApi")],i.prototype,"gridApi",void 0),vu([oe("rowModel")],i.prototype,"rowModel",void 0),vu([oe("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),vu([oe("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),vu([oe("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),vu([Vt],i.prototype,"init",null),vu([mn("undoRedoService")],i)}(wn),M0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},P0=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return M0(i,u),i.prototype.findHeader=function(n,a){var c;if(c=n.column instanceof Pr?this.columnModel["getDisplayedGroup"+a](n.column):this.columnModel["getDisplayedCol"+a](n.column))return{column:c,headerRowIndex:n.headerRowIndex}},i.prototype.findColAtEdgeForHeaderRow=function(n,a){var c=this.columnModel.getAllDisplayedColumns(),d=c["start"===a?0:c.length-1];if(d){var C=this.ctrlsService.getHeaderRowContainerCtrl(d.getPinned()).getRowType(n);return C==Ua.COLUMN_GROUP?{headerRowIndex:n,column:this.columnModel.getColumnGroupAtLevel(d,n)}:{headerRowIndex:null==C?-1:n,column:d}}},Qf([oe("columnModel")],i.prototype,"columnModel",void 0),Qf([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Qf([mn("headerPositionUtils")],i)}(wn),A0=function(){function u(){}return u.prototype.buildColumnDefs=function(i,n,a){var c=this,d=[],v={};return i.forEach(function(C){for(var L=!0,U=c.createDefFromColumn(C,n,a),ce=C.getOriginalParent();ce;){var ye=null;if(ce.isPadding())ce=ce.getOriginalParent();else{var it=v[ce.getGroupId()];if(it){it.children.push(U),L=!1;break}(ye=c.createDefFromGroup(ce))&&(ye.children=[U],v[ye.groupId]=ye,U=ye,ce=ce.getOriginalParent())}}L&&d.push(U)}),d},u.prototype.createDefFromGroup=function(i){var n=jt(i.getColGroupDef(),["children"]);return n&&(n.groupId=i.getGroupId()),n},u.prototype.createDefFromColumn=function(i,n,a){var c=jt(i.getColDef());return c.colId=i.getColId(),c.width=i.getActualWidth(),c.rowGroup=i.isRowGroupActive(),c.rowGroupIndex=i.isRowGroupActive()?n.indexOf(i):null,c.pivot=i.isPivotActive(),c.pivotIndex=i.isPivotActive()?a.indexOf(i):null,c.aggFunc=i.isValueActive()?i.getAggFunc():null,c.hide=!i.isVisible()||void 0,c.pinned=i.isPinned()?i.getPinned():null,c.sort=i.getSort()?i.getSort():null,c.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,c},u=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("columnDefFactory")],u),u}(),nv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},R0=function(){function u(){}return u.prototype.getInitialRowClasses=function(i){var n=[];return se(i.extraCssClass)&&n.push(i.extraCssClass),n.push("ag-row"),n.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&n.push("ag-opacity-zero"),n.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&n.push("ag-row-pinned"),i.rowNode.isSelected()&&n.push("ag-row-selected"),i.rowNode.footer&&n.push("ag-row-footer"),n.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&n.push("ag-row-loading"),i.fullWidthRow&&n.push("ag-full-width-row"),i.expandable&&(n.push("ag-row-group"),n.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&n.push("ag-row-dragging"),Rr(n,this.processClassesFromGridOptions(i.rowNode,i.scope)),Rr(n,this.preProcessRowClassRules(i.rowNode,i.scope)),n.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&n.push("ag-row-first"),i.lastRowOnPage&&n.push("ag-row-last"),i.fullWidthRow&&(i.pinned===xe.PINNED_LEFT&&n.push("ag-cell-last-left-pinned"),i.pinned===xe.PINNED_RIGHT&&n.push("ag-cell-first-right-pinned")),n},u.prototype.processClassesFromGridOptions=function(i,n){var a=[],c=function(L){"string"==typeof L?a.push(L):Array.isArray(L)&&L.forEach(function(U){return a.push(U)})},d=this.gridOptionsWrapper.getRowClass();if(d){if("function"==typeof d)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];c(d)}var v=this.gridOptionsWrapper.getRowClassFunc();return v&&c(v({data:i.data,node:i,rowIndex:i.rowIndex,$scope:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),a},u.prototype.preProcessRowClassRules=function(i,n){var a=[];return this.processRowClassRules(i,n,function(c){a.push(c)},function(c){}),a},u.prototype.processRowClassRules=function(i,n,a,c){var d={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:n,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),d,a,c)},u.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},nv([oe("stylingService")],u.prototype,"stylingService",void 0),nv([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),nv([mn("rowCssClassCalculator")],u)}(),dh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sp=function(u){function i(n){var a=u.call(this)||this;return a.state=i.STATE_WAITING_TO_LOAD,a.version=0,a.id=n,a}return dh(i,u),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(n){this.isRequestMostRecentAndLive(n)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(n,a){this.successCommon(n,a)},i.prototype.pageLoaded=function(n,a,c){this.successCommon(n,{rowData:a,rowCount:c})},i.prototype.isRequestMostRecentAndLive=function(n){var a=n===this.version,c=this.isAlive();return a&&c},i.prototype.successCommon=function(n,a){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(n)&&(this.state=i.STATE_LOADED,this.processServerResult(a))},i.prototype.dispatchLoadCompleted=function(n){void 0===n&&(n=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:n,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(wn),rv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},mu=function(u,i){return function(n,a){i(n,a,u)}},G2=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.activeBlockLoadsCount=0,a.blocks=[],a.active=!0,a}var n;return rv(i,u),n=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var a=this.gridOptionsWrapper.getBlockLoadDebounceMillis();a&&a>0&&(this.checkBlockToLoadDebounce=Pc.debounce(this.performCheckBlocksToLoad.bind(this),a))},i.prototype.setBeans=function(a){this.logger=a.create("RowNodeBlockLoader")},i.prototype.addBlock=function(a){this.blocks.push(a),a.addEventListener(Sp.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(a){Pc.removeFromArray(this.blocks,a)},i.prototype.destroy=function(){u.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var a=null;this.blocks.forEach(function(c){c.getState()===Sp.STATE_WAITING_TO_LOAD&&(a=c)}),a&&(a.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},i.prototype.getBlockState=function(){var a={};return this.blocks.forEach(function(c){var d=c.getBlockStateJson();a[d.id]=d.state}),a},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",bp([Vt],i.prototype,"postConstruct",null),bp([mu(0,Er("loggerFactory"))],i.prototype,"setBeans",null),n=bp([mn("rowNodeBlockLoader")],i)}(wn),hh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Jf=function(){function u(){}return u.prototype.doFullSort=function(i,n){var c=i.map(function(d,v){return{currentPos:v,rowNode:d}});return c.sort(this.compareRowNodes.bind(this,n)),c.map(function(d){return d.rowNode})},u.prototype.compareRowNodes=function(i,n,a){for(var c=n.rowNode,d=a.rowNode,v=0,C=i.length;v<C;v++){var ye,M=i[v],L=M.sort===xe.SORT_DESC,U=this.getValue(c,M.column),ce=this.getValue(d,M.column),it=this.getComparator(M,c);if(ye=it?it(U,ce,c,d,L):Pc.defaultComparator(U,ce,this.gridOptionsWrapper.isAccentedSort()),!isNaN(ye)&&0!==ye)return M.sort===xe.SORT_ASC?ye:-1*ye}return n.currentPos-a.currentPos},u.prototype.getComparator=function(i,n){var a=i.column,c=a.getColDef().comparator;if(null!=c)return c;if(n.rowGroupColumn)return n.rowGroupColumn.getColDef().comparator;if(a.getColDef().showRowGroup){var d=!n.group&&a.getColDef().field;if(d){var v=this.columnModel.getPrimaryColumn(d);if(v)return v.getColDef().comparator}}},u.prototype.getValue=function(i,n){return this.valueService.getValue(n,i,!1,!1)},hh([oe("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),hh([oe("valueService")],u.prototype,"valueService",void 0),hh([oe("columnModel")],u.prototype,"columnModel",void 0),hh([mn("rowNodeSorter")],u)}(),iv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),F0=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.ready=!1,a.readyCallbacks=[],a}var n;return iv(i,u),n=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var a=this.createReadyParams();this.readyCallbacks.forEach(function(c){return c(a)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(a){this.ready?a(this.createReadyParams()):this.readyCallbacks.push(a)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollCtrl=function(a){this.fakeHScrollCtrl=a,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(a){this.gridHeaderCtrl=a,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(a){this.centerRowContainerCtrl=a,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(a){this.leftRowContainerCtrl=a,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(a){this.rightRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(a){this.topCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(a){this.topLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(a){this.topRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(a){this.bottomCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(a){this.bottomLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(a){this.bottomRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerHeaderContainer=function(a,c){switch(c){case xe.PINNED_LEFT:this.leftHeaderRowContainerCtrl=a;break;case xe.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=a;break;default:this.centerHeaderRowContainerCtrl=a}this.checkReady()},i.prototype.registerGridBodyCtrl=function(a){this.gridBodyCtrl=a,this.checkReady()},i.prototype.registerGridCtrl=function(a){this.gridCtrl=a,this.checkReady()},i.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(a){switch(a){case xe.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case xe.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=n=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn(n.NAME)],i),i}(wn),e1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),nt=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.registry={},n}return e1(i,u),i.prototype.register=function(n){this.registry[n.controllerName]=n.controllerClass},i.prototype.getInstance=function(n){var a=this.registry[n];if(null!=a)return new a},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([mn("ctrlsFactory")],i),i}(wn),_e=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zt=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},on=function(u){function i(){return u.call(this)||this}return _e(i,u),i.prototype.setComp=function(n,a,c,d){this.view=n,this.eViewport=c,this.eContainer=d,this.eGui=a,this.addManagedListener(this.eventService,qe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var v=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,v),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,v),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,v),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},i.prototype.addActiveListenerToggles=function(){var n=this;["mouseenter","mousedown","touchstart"].forEach(function(d){return n.addManagedListener(n.eGui,d,function(){return n.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(d){return n.addManagedListener(n.eGui,d,function(){return n.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Ai()},i.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var n=this;this.addManagedListener(this.eventService,qe.EVENT_BODY_SCROLL,function(a){"horizontal"===a.direction&&n.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,qe.EVENT_BODY_SCROLL_END,function(){return n.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},i.prototype.setFakeHScrollSpacerWidths=function(){var n=this.scrollVisibleService.isVerticalScrollShowing(),a=this.columnModel.getDisplayedColumnsRightWidth(),c=!this.enableRtl&&n,d=this.gridOptionsWrapper.getScrollbarWidth();c&&(a+=d),this.view.setRightSpacerFixedWidth(a),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",a<=d);var v=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&n&&(v+=d),this.view.setLeftSpacerFixedWidth(v),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",v<=d)},i.prototype.setScrollVisible=function(){var n=this.scrollVisibleService.isHorizontalScrollShowing(),a=this.invisibleScrollbar,c=this.gridOptionsWrapper.isSuppressHorizontalScroll(),d=n&&this.gridOptionsWrapper.getScrollbarWidth()||0,C=c?0:0===d&&a?15:d;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",a),this.view.setHeight(C),this.view.setViewportHeight(C),this.view.setContainerHeight(C)},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},zt([oe("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),zt([oe("columnModel")],i.prototype,"columnModel",void 0),zt([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),zt([Vt],i.prototype,"postConstruct",null),i}(wn),Ln=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$n=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Tr=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return Ln(i,u),i.prototype.postConstruct=function(){var n=this,a={addOrRemoveCssClass:function(d,v){return n.addOrRemoveCssClass(d,v)},setHeight:function(d){return Bn(n.getGui(),d)},setContainerHeight:function(d){return Bn(n.eContainer,d)},setViewportHeight:function(d){return Bn(n.eViewport,d)},setRightSpacerFixedWidth:function(d){return Qt(n.eRightSpacer,d)},setLeftSpacerFixedWidth:function(d){return Qt(n.eLeftSpacer,d)},includeLeftSpacerScrollerCss:function(d,v){return n.eLeftSpacer.classList.toggle(d,v)},includeRightSpacerScrollerCss:function(d,v){return n.eRightSpacer.classList.toggle(d,v)}};this.createManagedBean(new on).setComp(a,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new _f(function(d){return n.eContainer.style.width=d+"px"}))},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',$n([Fn("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),$n([Fn("eRightSpacer")],i.prototype,"eRightSpacer",void 0),$n([Fn("eViewport")],i.prototype,"eViewport",void 0),$n([Fn("eContainer")],i.prototype,"eContainer",void 0),$n([Vt],i.prototype,"postConstruct",null),i}(di),Gi=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ms=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},vd=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Gi(i,u),i.prototype.postConstruct=function(){var n=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,qe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.gridOptionsWrapper,lr.PROP_DOM_LAYOUT,n)},i.prototype.checkContainerWidths=function(){var n=this.gridOptionsWrapper.getDomLayout()===xe.DOM_LAYOUT_PRINT,a=n?0:this.columnModel.getDisplayedColumnsLeftWidth(),c=n?0:this.columnModel.getDisplayedColumnsRightWidth();a!=this.leftWidth&&(this.leftWidth=a,this.eventService.dispatchEvent({type:qe.EVENT_LEFT_PINNED_WIDTH_CHANGED})),c!=this.rightWidth&&(this.rightWidth=c,this.eventService.dispatchEvent({type:qe.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Ms([oe("columnModel")],i.prototype,"columnModel",void 0),Ms([Vt],i.prototype,"postConstruct",null),Ms([mn("pinnedWidthService")],i)}(wn),$s=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),t1=function(u){function i(n){var a=u.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return a.params=n,a}return $s(i,u),i.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var n=this,a=this.getGui(),c=this.params;this.addManagedListener(a,"keydown",function(v){nc(n.gridOptionsWrapper,v,c.node,c.column,!0)||c.onKeyDown(v)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(Fu),Dp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),L0=function(){return L0=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},L0.apply(this,arguments)},Wc=function(u){function i(n,a,c,d,v,C){var M=u.call(this)||this;M.scope=null,M.rendererVersion=0,M.editorVersion=0,M.scope=n,M.beans=a,M.column=c.getColumn(),M.rowNode=c.getRowNode(),M.rowCtrl=c.getRowCtrl(),M.eRow=v,M.setTemplate('<div comp-id="'+M.getCompId()+'"/>');var L=M.getGui();M.forceWrapper=c.isForceWrapper(),M.refreshWrapper(!1);var U=function(ye,it,bt){var Wt=bt||L;null!=it&&""!=it?Wt.setAttribute(ye,it):Wt.removeAttribute(ye)},ce={addOrRemoveCssClass:function(ye,it){return M.addOrRemoveCssClass(ye,it)},setUserStyles:function(ye){return Ge(L,ye)},getFocusableElement:function(){return M.getFocusableElement()},setTabIndex:function(ye){return U("tabindex",ye.toString())},setRole:function(ye){return Xi(L,ye)},setColId:function(ye){return U("col-id",ye)},setTitle:function(ye){return U("title",ye)},setIncludeSelection:function(ye){return M.includeSelection=ye},setIncludeRowDrag:function(ye){return M.includeRowDrag=ye},setIncludeDndSource:function(ye){return M.includeDndSource=ye},setRenderDetails:function(ye,it,bt){return M.setRenderDetails(ye,it,bt)},setEditDetails:function(ye,it,bt){return M.setEditDetails(ye,it,bt)},getCellEditor:function(){return M.cellEditor||null},getCellRenderer:function(){return M.cellRenderer||null},getParentOfValue:function(){return M.getParentOfValue()}};return M.cellCtrl=c,c.setComp(ce,M.scope,M.getGui(),M.eCellWrapper,d,C),M}return Dp(i,u),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(n,a,c){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var v=this.isUsingAngular1Template(),C=this.refreshWrapper(!1);n?!c&&!C&&this.refreshCellRenderer(n)||(this.destroyRenderer(),this.createCellRendererInstance(n)):(this.destroyRenderer(),v?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(a))}},i.prototype.setEditDetails=function(n,a,c){n?this.createCellEditorInstance(n,a,c):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(n){var a=this.includeRowDrag||this.includeDndSource||this.includeSelection,c=a||this.forceWrapper,d=c&&null==this.eCellWrapper;d&&(this.eCellWrapper=_t('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var v=!c&&null!=this.eCellWrapper;v&&(q(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!c);var C=!n&&c,M=C&&null==this.eCellValue;M&&(this.eCellValue=_t('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var L=!C&&null!=this.eCellValue;L&&(q(this.eCellValue),this.eCellValue=void 0);var U=d||v||M||L;return U&&this.removeControls(),!n&&a&&this.addControls(),U},i.prototype.addControls=function(){var n=this.eCellValue.id="cell-"+this.getCompId(),a=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),a.push(this.checkboxSelectionComp.getCheckboxId())),a.push(n),Fr(this.getGui(),a.join(" "))},i.prototype.createCellEditorInstance=function(n,a,c){var d=this,v=this.editorVersion,C=n.newAgStackInstance();if(C){var M=n.params;C.then(function(U){return d.afterCellEditorCreated(v,U,M,a,c)}),ot(this.cellEditor)&&M.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(n){var a=this.getParentOfValue();j(a);var c=null!=n?Oo(n):null;null!=c&&(a.innerHTML=c)},i.prototype.insertValueUsingAngular1Template=function(){var v,n=this,a=this.column.getColDef(),c=a.template,d=a.templateUrl;null!=c?v=c:null!=d&&(v=this.beans.templateService.getTemplate(d,function(){return n.cellCtrl.refreshCell({forceRefresh:!0})})),null!=v&&(this.getParentOfValue().innerHTML=v,this.updateAngular1ScopeAndCompile())},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),q(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var n=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=n.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=n.destroyBean(this.cellEditorPopupWrapper),q(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(n){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==n.componentClass)return!1;var a=this.cellRenderer.refresh(n.params);return!0===a||void 0===a},i.prototype.createCellRendererInstance=function(n){var a=this,c=this.beans.gridOptionsWrapper.isAngularCompileRows(),d=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),C=this.rendererVersion,M=n.componentClass,L=function(){if(a.rendererVersion===C&&a.isAlive()){var ce=n.newAgStackInstance(),ye=a.afterCellRendererCreated.bind(a,C,M);ce&&ce.then(ye)}};c||d||!this.firstRender?L():this.beans.animationFrameService.createTask(L,this.rowNode.rowIndex,"createTasksP2")},i.prototype.isUsingAngular1Template=function(){var n=this.column.getColDef();return null!=n.template||null!=n.templateUrl},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(n,a,c){if(this.isAlive()&&n===this.rendererVersion){if(this.cellRenderer=c,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var v=this.getParentOfValue();j(v),v.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile()}}else this.beans.context.destroyBean(c)},i.prototype.afterCellEditorCreated=function(n,a,c,d,v){if(n!==this.editorVersion)this.beans.context.destroyBean(a);else{if(a.isCancelBeforeStart&&a.isCancelBeforeStart())return this.beans.context.destroyBean(a),void this.cellCtrl.stopEditing();if(!a.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(a);this.cellEditor=a,this.cellEditorGui=a.getGui(),d||void 0!==a.isPopup&&a.isPopup()?(d||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(c,v)):this.addInCellEditor(),a.afterGuiAttached&&a.afterGuiAttached()}},i.prototype.addInCellEditor=function(){var n=this.getGui(),a=this.beans.gridOptionsWrapper.getDocument();n.contains(a.activeElement)&&n.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(n,a){var c=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var d=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new t1(n));var v=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&v.appendChild(this.cellEditorGui);var C=this.beans.popupService,M=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),L=null!=a?a:d.getPopupPosition?d.getPopupPosition():"over",U={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:v,keepWithinBounds:!0},ce="under"===L?C.positionPopupUnderComponent.bind(C,U):C.positionPopupOverComponent.bind(C,U),ye=this.beans.gridOptionsWrapper.getLocaleTextFunc(),it=C.addPopup({modal:M,eChild:v,closeOnEsc:!0,closedCallback:function(){c.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:ce,ariaLabel:ye("ariaLabelCellEditor","Cell Editor")});it&&(this.hideEditorPopup=it.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),u.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var n=this.getGui(),a=this.beans.gridOptionsWrapper.getDocument();n.contains(a.activeElement)&&n.focus({preventScroll:!0}),j(this.getParentOfValue())},i.prototype.updateAngular1ScopeAndCompile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope){this.scope.data=L0({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove();var n=this.getParentOfValue();this.angularCompiledElement=this.beans.$compile(n.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply()}},i}(di),im=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),B2=function(u){function i(n,a,c){var d=u.call(this)||this;d.cellComps={},d.beans=a,d.rowCtrl=n,d.setTemplate('<div comp-id="'+d.getCompId()+'" style="'+d.getInitialStyle()+'"/>');var v=d.getGui(),C=v.style;return n.setComp({setDomOrder:function(L){return d.domOrder=L},setCellCtrls:function(L){return d.setCellCtrls(L)},showFullWidth:function(L){return d.showFullWidth(L)},getFullWidthCellRenderer:function(){return d.getFullWidthCellRenderer()},addOrRemoveCssClass:function(L,U){return d.addOrRemoveCssClass(L,U)},setUserStyles:function(L){return Ge(v,L)},setTop:function(L){return C.top=L},setTransform:function(L){return C.transform=L},setRowIndex:function(L){return v.setAttribute("row-index",L)},setRole:function(L){return Xi(v,L)},setRowId:function(L){return v.setAttribute("row-id",L)},setRowBusinessKey:function(L){return v.setAttribute("row-business-key",L)},setTabIndex:function(L){return v.setAttribute("tabindex",L.toString())}},d.getGui(),c),d}return im(i,u),i.prototype.getInitialStyle=function(){var n=this.rowCtrl.getInitialTransform(),a=this.rowCtrl.getInitialRowTop();return n?"transform: "+n:"top: "+a},i.prototype.showFullWidth=function(n){var a=this,d=n.newAgStackInstance();!d||d.then(function(v){if(a.isAlive()){var C=v.getGui();a.getGui().appendChild(C),a.rowCtrl.setupDetailRowAutoHeight(C),a.setFullWidthRowComp(v)}else a.beans.context.destroyBean(v)})},i.prototype.setCellCtrls=function(n){var a=this,c=Object.assign({},this.cellComps);n.forEach(function(v){var C=v.getInstanceId();null==a.cellComps[C]?a.newCellComp(v):c[C]=null});var d=oi(c).filter(function(v){return null!=v});this.destroyCells(d),this.ensureDomOrder(n)},i.prototype.ensureDomOrder=function(n){var a=this;if(this.domOrder){var c=[];n.forEach(function(d){var v=a.cellComps[d.getInstanceId()];v&&c.push(v.getGui())}),F(this.getGui(),c)}},i.prototype.newCellComp=function(n){var a=new Wc(this.rowCtrl.getScope(),this.beans,n,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[n.getInstanceId()]=a,this.getGui().appendChild(a.getGui())},i.prototype.destroy=function(){u.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var n=oi(this.cellComps).filter(function(a){return null!=a});this.destroyCells(n)},i.prototype.setFullWidthRowComp=function(n){var a=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=n,this.addDestroyFunc(function(){a.fullWidthCellRenderer=a.beans.context.destroyBean(a.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(n){var a=this;n.forEach(function(c){if(c){var d=c.getCtrl().getInstanceId();a.cellComps[d]===c&&(c.detach(),c.destroy(),a.cellComps[d]=null)}})},i}(di),W2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Op=function(){return Op=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Op.apply(this,arguments)},ph=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},U2=function(u){function i(){var n=u.call(this,function j2(){var u=di.elementGettingCreated.getAttribute("name"),i=wf.getRowContainerCssClasses(u);return u===kn.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer" role="rowgroup"></div>\n                </div>\n            </div>':u===kn.TOP_CENTER||u===kn.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer" role="presentation"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer" role="presentation"></div>'}())||this;return n.rowComps={},n.name=di.elementGettingCreated.getAttribute("name"),n.type=function q4(u){switch(u){case kn.CENTER:case kn.TOP_CENTER:case kn.BOTTOM_CENTER:return bo.CENTER;case kn.LEFT:case kn.TOP_LEFT:case kn.BOTTOM_LEFT:return bo.LEFT;case kn.RIGHT:case kn.TOP_RIGHT:case kn.BOTTOM_RIGHT:return bo.RIGHT;case kn.FULL_WIDTH:case kn.TOP_FULL_WIDTH:case kn.BOTTOM_FULL_WIDTH:return bo.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(n.name),n}return W2(i,u),i.prototype.postConstruct=function(){var n=this,a={setViewportHeight:function(d){return n.eViewport.style.height=d},setRowCtrls:function(d){return n.setRowCtrls(d)},setDomOrder:function(d){n.domOrder=d},setContainerWidth:function(d){return n.eContainer.style.width=d}};this.createManagedBean(new wf(this.name)).setComp(a,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(n){var a=this,c=Op({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,n.forEach(function(v){var C=v.getInstanceId(),M=c[C];if(M)a.rowComps[C]=M,delete c[C],a.ensureDomOrder(M.getGui());else{var L=a.newRowComp(v);a.rowComps[C]=L,a.appendRow(L.getGui())}}),oi(c).forEach(function(v){a.eContainer.removeChild(v.getGui()),v.destroy()})},i.prototype.appendRow=function(n){this.domOrder?K(this.eContainer,n,this.lastPlacedElement):this.eContainer.appendChild(n),this.lastPlacedElement=n},i.prototype.ensureDomOrder=function(n){this.domOrder&&(P(this.eContainer,n,this.lastPlacedElement),this.lastPlacedElement=n)},i.prototype.newRowComp=function(n){return wf.getPinned(this.name),new B2(n,this.beans,this.type)},ph([oe("beans")],i.prototype,"beans",void 0),ph([Fn("eViewport")],i.prototype,"eViewport",void 0),ph([Fn("eContainer")],i.prototype,"eContainer",void 0),ph([Fn("eWrapper")],i.prototype,"eWrapper",void 0),ph([Vt],i.prototype,"postConstruct",null),ph([fn],i.prototype,"preDestroy",null),i}(di),I0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},N0=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.events=[],n}return I0(i,u),i.prototype.postConstruct=function(){this.rowModel.getType()==xe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(n){var a=this;null!=this.clientSideRowModel?(this.events.push(n),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){a.clientSideRowModel&&a.clientSideRowModel.onRowGroupOpened(),a.events.forEach(function(d){return a.eventService.dispatchEvent(d)}),a.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(n)},fh([oe("animationFrameService")],i.prototype,"animationFrameService",void 0),fh([oe("rowModel")],i.prototype,"rowModel",void 0),fh([Vt],i.prototype,"postConstruct",null),fh([mn("rowNodeEventThrottle")],i)}(wn),om=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Y2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return om(i,u),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(n,a){var c=this;this.showPopup(n,function(d){c.popupService.positionPopupUnderMouseEvent({column:n,type:"columnMenu",mouseEvent:a,ePopup:d})},a.target)},i.prototype.showMenuAfterButtonClick=function(n,a,c){var d=this;this.showPopup(n,function(v){d.popupService.positionPopupUnderComponent({type:c,eventSource:a,ePopup:v,keepWithinBounds:!0,column:n})},a)},i.prototype.showPopup=function(n,a,c){var d=this,v=this.filterManager.getOrCreateFilterWrapper(n,"COLUMN_MENU");if(!v)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var C=document.createElement("div");Xi(C,"presentation"),C.classList.add("ag-menu"),this.tabListener=this.addManagedListener(C,"keydown",function(it){return d.trapFocusWithin(it,C)}),v.guiPromise.then(function(it){return C.appendChild(it)});var M,L=c||this.ctrlsService.getGridBodyCtrl().getGui(),ce=this.gridOptionsWrapper.getLocaleTextFunc(),ye=this.popupService.addPopup({modal:!0,eChild:C,closeOnEsc:!0,closedCallback:function(it){n.setMenuVisible(!1,"contextMenu");var bt=it instanceof KeyboardEvent;if(d.tabListener&&(d.tabListener=d.tabListener()),bt&&c&&He(c)){var Wt=d.focusService.findTabbableParent(c);Wt&&Wt.focus()}},positionCallback:function(){return a(C)},anchorToElement:L,ariaLabel:ce("ariaLabelColumnMenu","Column Menu")});ye&&(this.hidePopup=M=ye.hideFunc),v.filterPromise.then(function(it){a(C),it.afterGuiAttached&&it.afterGuiAttached({container:"columnMenu",hidePopup:M})}),n.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(n,a){n.key!==Nn.TAB||n.defaultPrevented||this.focusService.findNextFocusableElement(a,!1,n.shiftKey)||(n.preventDefault(),this.focusService.focusInto(a,n.shiftKey))},i.prototype.isMenuEnabled=function(n){return n.isFilterAllowed()},Tp([oe("filterManager")],i.prototype,"filterManager",void 0),Tp([oe("popupService")],i.prototype,"popupService",void 0),Tp([oe("focusService")],i.prototype,"focusService",void 0),Tp([oe("ctrlsService")],i.prototype,"ctrlsService",void 0),Tp([mn("menuFactory")],i)}(wn),K2=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},k0=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(K2(arguments[i]));return u},$2=function(){function u(i,n,a){n?(this.gridOptions=n,(new am).create(i,n,function(c){var d=new po(i);c.createBean(d)},void 0,a)):console.error("AG Grid: no gridOptions provided to the grid")}return u.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},u}(),am=function(){function u(){}return u.prototype.create=function(i,n,a,c,d){var v=this,C=!!n.debug,M=this.getRegisteredModules(d),L=this.createBeansList(n.rowModelType,M),U=this.createProvidedBeans(i,n,d);if(L){var ce={providedBeanInstances:U,beanClasses:L,debug:C},ye=new If("AG Grid",function(){return n.debug}),it=new If("Context",function(){return ce.debug}),bt=new Tn(ce,it),Wt=bt.getBean("beans");this.registerModuleUserComponents(Wt,M),this.registerStackComponents(Wt,M),this.registerControllers(Wt,M),a(bt),Wt.ctrlsService.whenReady(function(){v.setColumnsAndData(Wt),v.dispatchGridReadyEvent(Wt,n);var cn=an.isRegistered(Nt.EnterpriseCoreModule);ye.log("initialised successfully, enterprise = "+cn)}),c&&c(bt)}},u.prototype.registerControllers=function(i,n){n.forEach(function(a){a.controllers&&a.controllers.forEach(function(c){return i.ctrlsFactory.register(c)})})},u.prototype.registerStackComponents=function(i,n){var a=this.createAgStackComponentsList(n);i.agStackComponentsRegistry.setupComponents(a)},u.prototype.getRegisteredModules=function(i){var n=i?i.modules:null,a=an.getRegisteredModules(),c=[],d={};function v(C,M){(function L(U){d[U.moduleName]||(d[U.moduleName]=!0,c.push(U),an.register(U,C))})(M),M.dependantModules&&M.dependantModules.forEach(v.bind(null,C))}return n&&n.forEach(v.bind(null,!0)),a&&a.forEach(v.bind(null,!an.isPackageBased())),c},u.prototype.registerModuleUserComponents=function(i,n){this.extractModuleEntity(n,function(c){return c.userComponents?c.userComponents:[]}).forEach(function(c){i.userComponentRegistry.registerDefaultComponent(c.componentName,c.componentClass)})},u.prototype.createProvidedBeans=function(i,n,a){var c=a?a.frameworkOverrides:null;ot(c)&&(c=new kf);var d={gridOptions:n,eGridDiv:i,$scope:a?a.$scope:null,$compile:a?a.$compile:null,globalEventListener:a?a.globalEventListener:null,frameworkOverrides:c};return a&&a.providedBeanInstances&&Object.assign(d,a.providedBeanInstances),d},u.prototype.createAgStackComponentsList=function(i){var n=[{componentName:"AgCheckbox",componentClass:cu},{componentName:"AgRadioButton",componentClass:yc},{componentName:"AgToggleButton",componentClass:$f},{componentName:"AgInputTextField",componentClass:lh},{componentName:"AgInputTextArea",componentClass:b0},{componentName:"AgInputNumberField",componentClass:E0},{componentName:"AgInputRange",componentClass:Kf},{componentName:"AgSelect",componentClass:A1},{componentName:"AgSlider",componentClass:Yf},{componentName:"AgAngleSelect",componentClass:Cp},{componentName:"AgColorPicker",componentClass:uh},{componentName:"AgGridBody",componentClass:c0},{componentName:"AgHeaderRoot",componentClass:Eg},{componentName:"AgPagination",componentClass:Gf},{componentName:"AgOverlayWrapper",componentClass:w0},{componentName:"AgGroupComponent",componentClass:Bf},{componentName:"AgPanel",componentClass:mp},{componentName:"AgDialog",componentClass:Sc},{componentName:"AgRowContainer",componentClass:U2},{componentName:"AgFakeHorizontalScroll",componentClass:Tr}],a=this.extractModuleEntity(i,function(c){return c.agStackComponents?c.agStackComponents:[]});return n.concat(a)},u.prototype.createBeansList=function(i,n){var a=this.getRowModelClass(i,n);if(a){var c=[a,Lv,Xf,gu,P0,Os,lu,U3,v0,y0,k2,$1,tm,q3,Zf,b2,Xl,Be,lr,Pg,Bu,r0,Ls,fg,Yi,$3,v2,Xo,Lf,ud,F2,th,Dg,ml,Ll,cp,Y2,Pa,Rv,td,f0,A2,Q3,g0,T2,D2,Ig,Vf,pp,ah,Gg,cd,_0,tv,Fi,A0,R0,G2,Jf,F0,vd,N0,nt],d=this.extractModuleEntity(n,function(C){return C.beans?C.beans:[]});c.push.apply(c,k0(d));var v=[];return c.forEach(function(C){v.indexOf(C)<0&&v.push(C)}),v}},u.prototype.extractModuleEntity=function(i,n){return[].concat.apply([],k0(i.map(n)))},u.prototype.setColumnsAndData=function(i){var n=i.gridOptionsWrapper.getColumnDefs();i.columnModel.setColumnDefs(n||[],"gridInitializing"),i.rowModel.start()},u.prototype.dispatchGridReadyEvent=function(i,n){i.eventService.dispatchEvent({type:qe.EVENT_GRID_READY,api:n.api,columnApi:n.columnApi})},u.prototype.getRowModelClass=function(i,n){i||(i=xe.ROW_MODEL_TYPE_CLIENT_SIDE);var a={};n.forEach(function(d){tt(d.rowModels,function(v,C){a[v]=C})});var c=a[i];if(se(c))return c;i===xe.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+Nt.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+i),i===xe.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+Nt.ViewportRowModelModule+" is registered.';"),i===xe.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+Nt.ServerSideRowModelModule+" is registered.';"),i===xe.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+Nt.ClientSideRowModelModule+" is registered.';")},u}(),lm=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),n1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cm=function(u){function i(n){var a=u.call(this,i.getTemplate(n.cssClass))||this;return a.items=[],a.tabbedItemScrollMap=new Map,a.params=n,n.items&&n.items.forEach(function(c){return a.addItem(c)}),a}return lm(i,u),i.prototype.postConstruct=function(){this.createManagedBean(new zo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},i.getTemplate=function(n){return'<div class="ag-tabs '+n+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(n?n+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(n?n+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(n){var a=this.gridOptionsWrapper.getDocument();switch(n.key){case Nn.RIGHT:case Nn.LEFT:if(!this.eHeader.contains(a.activeElement))return;var c=this.items.indexOf(this.activeItem),d=n.key===Nn.RIGHT?Math.min(c+1,this.items.length-1):Math.max(c-1,0);if(c===d)return;n.preventDefault();var v=this.items[d];this.showItemWrapper(v),v.eHeaderButton.focus();break;case Nn.UP:case Nn.DOWN:n.stopPropagation()}},i.prototype.onTabKeyDown=function(n){if(!n.defaultPrevented){var a=this,c=a.focusService,d=a.eHeader,v=a.eBody,C=a.activeItem,L=this.gridOptionsWrapper.getDocument().activeElement;if(n.preventDefault(),d.contains(L))c.focusInto(v,n.shiftKey);else if(c.isFocusUnderManagedComponent(v))C.eHeaderButton.focus();else{var U=c.findNextFocusableElement(v,!1,n.shiftKey);U?U.focus():C.eHeaderButton.focus()}}},i.prototype.setAfterAttachedParams=function(n){this.afterAttachedParams=n},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(n){var a=document.createElement("span");Xi(a,"tab"),a.setAttribute("tabIndex","-1"),a.appendChild(n.title),a.classList.add("ag-tab"),this.eHeader.appendChild(a),xr(a,n.titleLabel);var c={tabbedItem:n,eHeaderButton:a};this.items.push(c),a.addEventListener("click",this.showItemWrapper.bind(this,c))},i.prototype.showItem=function(n){var a=this.items.find(function(c){return c.tabbedItem===n});a&&this.showItemWrapper(a)},i.prototype.showItemWrapper=function(n){var a=this,c=n.tabbedItem,d=n.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:c}),this.activeItem!==n?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),j(this.eBody),c.bodyPromise.then(function(v){a.eBody.appendChild(v);var C=!a.focusService.isKeyboardMode();if(a.focusService.focusInto(a.eBody,!1,C),c.afterAttachedCallback&&c.afterAttachedCallback(a.afterAttachedParams),a.params.keepScrollPosition){var M=c.getScrollableContainer&&c.getScrollableContainer()||v;a.lastScrollListener=a.addManagedListener(M,"scroll",function(){a.tabbedItemScrollMap.set(c.name,M.scrollTop)});var L=a.tabbedItemScrollMap.get(c.name);void 0!==L&&setTimeout(function(){M.scrollTop=L},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),d.classList.add("ag-tab-selected"),this.activeItem=n):bn(this.params.onActiveItemClicked)},n1([oe("focusService")],i.prototype,"focusService",void 0),n1([Fn("eHeader")],i.prototype,"eHeader",void 0),n1([Fn("eBody")],i.prototype,"eBody",void 0),n1([Vt],i.prototype,"postConstruct",null),i}(di),Si=(()=>(function(u){u.Applied="Applied",u.StoreNotFound="StoreNotFound",u.StoreLoading="StoreLoading",u.StoreWaitingToLoad="StoreWaitingToLoad",u.StoreLoadingFailed="StoreLoadingFailed",u.StoreWrongType="StoreWrongType",u.Cancelled="Cancelled"}(Si||(Si={})),Si))(),um=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ov=function(){return ov=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},ov.apply(this,arguments)},X2=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ka=function(u){function i(n){void 0===n&&(n=1);var a=u.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return a.level=n,a.menuItems=[],a}return um(i,u),i.prototype.postConstruct=function(){var n=this;this.initialiseTabGuard({onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}})},i.prototype.onTabKeyDown=function(n){var a=this.getParentComponent(),c=a&&a.getGui();c&&c.classList.contains("ag-focus-managed")||n.preventDefault(),n.shiftKey&&this.closeIfIsChild(n)},i.prototype.handleKeyDown=function(n){switch(n.key){case Nn.UP:case Nn.RIGHT:case Nn.DOWN:case Nn.LEFT:n.preventDefault(),this.handleNavKey(n.key);break;case Nn.ESCAPE:var a=this.findTopMenu();a&&this.focusService.focusInto(a.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(n){var a=this;null!=n&&n.forEach(function(c){"separator"===c?a.addSeparator():"string"==typeof c?console.warn("AG Grid: unrecognised menu item "+c):a.addItem(c)})},i.prototype.addItem=function(n){var a=this,c=this.createManagedBean(new xp(ov(ov({},n),{isAnotherSubMenuOpen:function(){return a.menuItems.some(function(d){return d.isSubMenuOpen()})}})));c.setParentComponent(this),Ta(c.getGui(),this.level),this.menuItems.push(c),this.appendChild(c.getGui()),this.addManagedListener(c,xp.EVENT_MENU_ITEM_SELECTED,function(d){a.dispatchEvent(d)}),this.addManagedListener(c,xp.EVENT_MENU_ITEM_ACTIVATED,function(d){a.activeMenuItem&&a.activeMenuItem!==d.menuItem&&a.activeMenuItem.deactivate(),a.activeMenuItem=d.menuItem})},i.prototype.activateFirstItem=function(){var n=this.menuItems.filter(function(a){return!a.isDisabled()})[0];!n||n.activate()},i.prototype.addSeparator=function(){this.appendChild(_t('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var n=this.getParentComponent();if(!n&&this instanceof i)return this;for(;;){var a=n&&n.getParentComponent&&n.getParentComponent();if(!a||!(a instanceof i||a instanceof xp))break;n=a}return n instanceof i?n:void 0},i.prototype.handleNavKey=function(n){switch(n){case Nn.UP:case Nn.DOWN:var a=this.findNextItem(n===Nn.UP);return void(a&&a!==this.activeMenuItem&&a.activate())}n===(this.gridOptionsWrapper.isEnableRtl()?Nn.RIGHT:Nn.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(n){var a=this.getParentComponent();a&&a instanceof xp&&(n&&n.preventDefault(),a.closeSubMenu(),a.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(n){var a=this.menuItems.filter(function(M){return!M.isDisabled()});if(a.length){if(!this.activeMenuItem)return n?ft(a):a[0];n&&a.reverse();for(var c,d=!1,v=0;v<a.length;v++){var C=a[v];if(d){c=C;break}C===this.activeMenuItem&&(d=!0)}return c||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),u.prototype.destroy.call(this)},X2([oe("focusService")],i.prototype,"focusService",void 0),X2([Vt],i.prototype,"postConstruct",null),i}(up),gh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qs=function(u){function i(n){var a=u.call(this)||this;return a.wrappedComponent=n,a.setTemplateFromElement(n.getGui()),a}return gh(i,u),i.prototype.postConstruct=function(){var n=this;this.initialiseTabGuard({onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}})},i.prototype.handleKeyDown=function(n){n.key===Nn.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(n){n.defaultPrevented||(this.closePanel(),n.preventDefault())},i.prototype.closePanel=function(){var n=this.parentComponent;n.closeSubMenu(),setTimeout(function(){return n.getGui().focus()},0)},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Vt],i.prototype,"postConstruct",null),i}(up),r1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Z2=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},xp=function(u){function i(n){var a=u.call(this)||this;return a.params=n,a.isActive=!1,a.subMenuIsOpen=!1,a.setTemplate('<div class="'+a.getClassName()+'" tabindex="-1" role="treeitem"></div>'),a}return r1(i,u),i.prototype.init=function(){var n=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var a=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),ko(a,!0)):(this.addGuiEventListener("click",function(c){return n.onItemSelected(c)}),this.addGuiEventListener("keydown",function(c){(c.key===Nn.ENTER||c.key===Nn.SPACE)&&(c.preventDefault(),n.onItemSelected(c))}),this.addGuiEventListener("mousedown",function(c){c.stopPropagation(),c.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return n.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return n.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(c){return n.addCssClass(c)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(n){var a=this;if(void 0===n&&(n=!1),this.closeSubMenu(),this.params.subMenu){var d,c=_t('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var v=ec(this.getGui()),C=isNaN(v)?1:v+1,M=this.createBean(new Ka(C));M.setParentComponent(this),M.addMenuItems(this.params.subMenu),c.appendChild(M.getGui()),this.addManagedListener(M,i.EVENT_MENU_ITEM_SELECTED,function(_n){return a.dispatchEvent(_n)}),M.addGuiEventListener("mouseenter",function(){return a.cancelDeactivate()}),d=function(){return a.destroyBean(M)},n&&setTimeout(function(){return M.activateFirstItem()},0)}else{var L=this.params.subMenu,U=this.createBean(new qs(L));U.setParentComponent(this);var ce=U.getGui(),ye="mouseenter",it=function(){return a.cancelDeactivate()};ce.addEventListener(ye,it),d=function(){return ce.removeEventListener(ye,it)},c.appendChild(ce),L.afterGuiAttached&&setTimeout(function(){return L.afterGuiAttached()},0)}var bt=this.getGui(),Wt=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:bt,ePopup:c}),cn=this.gridOptionsWrapper.getLocaleTextFunc(),Kt=this.popupService.addPopup({modal:!0,eChild:c,positionCallback:Wt,anchorToElement:bt,ariaLabel:cn("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Vi(bt,!0),this.hideSubMenu=function(){Kt&&Kt.hideFunc(),a.subMenuIsOpen=!1,Vi(bt,!1),d()}}},i.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Vi(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(n){var a=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),n&&this.params.subMenu&&window.setTimeout(function(){a.isAlive()&&a.isActive&&a.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var n=_t('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?n.appendChild(io("check",this.gridOptionsWrapper)):this.params.icon&&(Nr(this.params.icon)?n.appendChild(this.params.icon):"string"==typeof this.params.icon?n.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(n)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var n=_t('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(n)}},i.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new D1(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var n=_t('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(n)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var n=_t('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),a=this.getGui();if(this.params.subMenu){var c=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Vi(a,!1),n.appendChild(io(c,this.gridOptionsWrapper))}a.appendChild(n)}},i.prototype.onItemSelected=function(n){this.params.action?this.params.action():this.openSubMenu(n&&"keydown"===n.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:n})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var n=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return n.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var n=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return n.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(n){var a=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return n?a+"-"+n:a},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,Z2([oe("popupService")],i.prototype,"popupService",void 0),Z2([Vt],i.prototype,"init",null),i}(di),hm=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Q2=function(u){function i(n,a,c){void 0===n&&(n="default"),void 0===a&&(a="listbox");var d=u.call(this,i.getTemplate(n))||this;return d.cssIdentifier=n,d.ariaRole=a,d.listName=c,d.renderedRows=new Map,d.rowHeight=20,d.isDestroyed=!1,d}return hm(i,u),i.prototype.postConstruct=function(){var n=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(a){return n.onFocusIn(a)},onFocusOut:function(a){return n.onFocusOut(a)},focusInnerElement:function(a){return n.focusInnerElement(a)},onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}}),this.setAriaProperties()},i.prototype.setAriaProperties=function(){var a=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),c=this.eContainer;Xi(c,this.ariaRole),xr(c,a)},i.prototype.addResizeObserver=function(){var n=this.drawVirtualRows.bind(this),a=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(a)},i.prototype.focusInnerElement=function(n){this.focusRow(n?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(n){var a=n.target;return a.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=ur(a)-1),!1},i.prototype.onFocusOut=function(n){return this.getFocusableElement().contains(n.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(n){switch(n.key){case Nn.UP:case Nn.DOWN:this.navigate(n.key===Nn.UP)&&n.preventDefault()}},i.prototype.onTabKeyDown=function(n){this.navigate(n.shiftKey)?n.preventDefault():this.focusService.focusInto(this.getGui(),!n.shiftKey)},i.prototype.navigate=function(n){if(null==this.lastFocusedRowIndex)return!1;var a=this.lastFocusedRowIndex+(n?-1:1);return!(a<0||a>=this.model.getRowCount()||(this.focusRow(a),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(n){var a=this;this.ensureIndexVisible(n),window.setTimeout(function(){var c=a.renderedRows.get(n);c&&c.eDiv.focus()},10)},i.prototype.getComponentAt=function(n){var a=this.renderedRows.get(n);return a&&a.rowComponent},i.getTemplate=function(n){return'\n            <div class="ag-virtual-list-viewport ag-'+n+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+n+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},i.prototype.ensureIndexVisible=function(n){var a=this.model.getRowCount();if("number"!=typeof n||n<0||n>=a)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+n);else{var c=n*this.rowHeight,d=c+this.rowHeight,v=this.getGui(),C=v.scrollTop,M=v.offsetHeight,ce=C+M<d;C>c?v.scrollTop=c:ce&&(v.scrollTop=d-M)}},i.prototype.setComponentCreator=function(n){this.componentCreator=n},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(n){this.rowHeight=n,this.refresh()},i.prototype.refresh=function(){var n=this;if(null!=this.model&&!this.isDestroyed){var a=this.model.getRowCount();this.eContainer.style.height=a*this.rowHeight+"px",Tt(function(){return n.eContainer.clientHeight>=a*n.rowHeight},function(){n.isDestroyed||(n.clearVirtualRows(),n.drawVirtualRows())})}},i.prototype.clearVirtualRows=function(){var n=this;this.renderedRows.forEach(function(a,c){return n.removeRow(c)})},i.prototype.drawVirtualRows=function(){var n=this.getGui(),a=n.scrollTop,c=a+n.offsetHeight,d=Math.floor(a/this.rowHeight),v=Math.floor(c/this.rowHeight);this.ensureRowsRendered(d,v)},i.prototype.ensureRowsRendered=function(n,a){var c=this;this.renderedRows.forEach(function(v,C){(C<n||C>a)&&C!==c.lastFocusedRowIndex&&c.removeRow(C)});for(var d=n;d<=a;d++)this.renderedRows.has(d)||d<this.model.getRowCount()&&this.insertRow(d)},i.prototype.insertRow=function(n){var a=this,c=this.model.getRow(n),d=document.createElement("div");if(d.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Xi(d,"tree"===this.ariaRole?"treeitem":"option"),rs(d,this.model.getRowCount()),xc(d,n+1),d.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var v=this.model.isRowSelected(n);is(d,!!v),jp(d,v)}d.style.height=this.rowHeight+"px",d.style.top=this.rowHeight*n+"px";var C=this.componentCreator(c,d);C.addGuiEventListener("focusin",function(){return a.lastFocusedRowIndex=n}),d.appendChild(C.getGui()),this.renderedRows.has(n-1)?this.renderedRows.get(n-1).eDiv.insertAdjacentElement("afterend",d):this.renderedRows.has(n+1)?this.renderedRows.get(n+1).eDiv.insertAdjacentElement("beforebegin",d):this.eContainer.appendChild(d),this.renderedRows.set(n,{rowComponent:C,eDiv:d})},i.prototype.removeRow=function(n){var a=this.renderedRows.get(n);this.eContainer.removeChild(a.eDiv),this.destroyBean(a.rowComponent),this.renderedRows.delete(n)},i.prototype.addScrollListener=function(){var n=this;this.addGuiEventListener("scroll",function(){return n.drawVirtualRows()})},i.prototype.setModel=function(n){this.model=n},i.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,u.prototype.destroy.call(this))},o1([oe("resizeObserverService")],i.prototype,"resizeObserverService",void 0),o1([oe("focusService")],i.prototype,"focusService",void 0),o1([Fn("eContainer")],i.prototype,"eContainer",void 0),o1([Vt],i.prototype,"postConstruct",null),i}(up),J2=function(){function u(){}return u.prototype.wrap=function(i,n,a,c){var d=this;void 0===a&&(a=[]);var v=this.createWrapper(i,c);return n.forEach(function(C){d.createMethod(v,C,!0)}),a.forEach(function(C){d.createMethod(v,C,!1)}),v},u.prototype.unwrap=function(i){return i},u.prototype.createMethod=function(i,n,a){i.addMethod(n,this.createMethodProxy(i,n,a))},u.prototype.createMethodProxy=function(i,n,a){return function(){return i.hasMethod(n)?i.callMethod(n,arguments):(a&&console.warn("AG Grid: Framework component is missing the method "+n+"()"),null)}},u}(),vh="undefined"==typeof global?{}:global;vh.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,vh.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,vh.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,vh.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,vh.Node="undefined"==typeof Node?{}:Node,vh.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent},1497:(Dn,ht,I)=>{I.d(ht,{L:()=>ke});var x=I(857),G=I(6431),z=I(7715),Se=I(8306),Ee=I(5e3),Fe=I(8406);let ke=(()=>{class Ae{constructor(Pe,Oe,be){this.config=Pe,this.user=Oe,this.router=be,this.logger=new z.Y(Ae)}canActivate(Pe,Oe){return new Se.y(be=>{this.user.read().isAuthenticated()?(be.next(!0),be.complete()):(this.config.read(),this.user.shared.navigateLogin(this.router),be.next(!1),be.complete())})}checkAppVersion(Pe,Oe){return new Se.y(be=>{})}}return Ae.\u0275fac=function(Pe){return new(Pe||Ae)(Ee.LFG(G.t),Ee.LFG(x.a),Ee.LFG(Fe.F0))},Ae.\u0275prov=Ee.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},6431:(Dn,ht,I)=>{I.d(ht,{t:()=>Ve});var x=I(3900),G=I(9646),z=I(2810),Se=I(6305),Ee=I(7043),Fe=I(9690),ke=I(750),Ae=I(5e3);let Ve=(()=>{class Pe{constructor(be){this.injector=be}http(){return this.injector.get(Ee.C)}get shared(){return this.injector.get(Se.W)}read(){return z.X.readBy(this.shared)}load(be){return new Promise((Xe,Je)=>{be=be||ke.X5,this.http().get(be).subscribe({next:lt=>{let Lt=this.read().assign(lt);Lt.saveBy(this.shared),console.log(`API URL: ${Lt.api_url}`),Xe(Lt)},error:lt=>Je(lt)})})}initLoad(){}loadVersionFromServer(){let Xe=this.read().fixUrl("setting/get-client-version");return this.http().sendGet(Xe)}loadApi(be){let Xe=this.read(),Je=Xe.fixUrl(`config/${be}`);return this.http().sendGet(Je).pipe((0,x.w)(lt=>(Xe.cors_url=(0,Fe.EU)(lt.cors_url)?Xe.cors_url:lt.cors_url,delete lt.cors_url,Xe.api_ticket=lt,Xe.saveBy(this.shared),(0,G.of)(lt))))}loadAgGridCfig(){let be=this.read(),Xe=be.fixUrl("config/ag_grid");return this.http().sendGet(Xe).pipe((0,x.w)(Je=>(be.aggrid={columns:Je.columns},be.saveBy(this.shared),(0,G.of)(Je))))}clearAllCache(){let be=`${this.read().fixUrl("cache/remove-all")}`;return this.http().sendGet(be)}}return Pe.\u0275fac=function(be){return new(be||Pe)(Ae.LFG(Ae.zs3))},Pe.\u0275prov=Ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},7043:(Dn,ht,I)=>{I.d(ht,{C:()=>Pe});var x=I(520),G=I(262),z=I(3900),Se=I(2843),Ee=I(9646),Fe=I(6305),ke=I(9690),Ae=I(7715),Ve=I(5e3);let Pe=(()=>{class Oe extends x.eN{constructor(Xe,Je){super(Xe),this.handler2=Xe,this.shared=Je,this.logger=new Ae.Y(Oe)}checkError(Xe,Je=!0,lt=0){var Lt,ct;let Jt,On=Xe.statusText;if(Jt="Unknown Error"===On?{message:"Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7.",code:"client_error"}:"Bad Gateway"===On?{message:"M\xe1y ch\u1ee7 b\u1ecb l\u1ed7i.",code:"client_error"}:{message:(Xe=Xe.error).msg,code:Xe.code},Je){let w=Jt.code,Yt=Jt.message;if(["client_error","SessionExpired"].includes(w)){const se=Yt.includes("Odoo Server Error"),ot=this.shared.getAppConfig().getApiUrl(),De=[];if(De.push("- <b>\u0110\xe3 x\u1ea3y ra l\u1ed7i t\u1eeb h\u1ec7 th\u1ed1ng</b>"),De.push(`- L\u1ed7i: ${Yt}`),"client_error"==w&&!se&&De.push(`- Vui l\xf2ng ki\u1ec3m tra k\u1ebft n\u1ed1i: <b class="text-danger">${ot}</b>`),se){De.push("- Xem chi ti\u1ebft l\u1ed7i t\u1ea1i console log.");const et=null!==(ct=null===(Lt=null==Jt?void 0:Jt.detail)||void 0===Lt?void 0:Lt.client_response)&&void 0!==ct?ct:"";Ae.Y.forCls(Oe).error(`Ghi log l\u1ed7i ${ot}: `,et)}this.shared.modal.create({nzTitle:"Th\xf4ng b\xe1o",nzOkText:null,nzCancelText:"\u0110\xf3ng",nzMaskClosable:!1,nzClosable:!1,nzContent:`${De.join("<br>")}`})}else this.shared.showError(Jt)}return this.logger.info(Jt),(0,Se._)(Jt)}static getMsgOd(Xe){let Je=Xe.data&&Xe.data.arguments?Xe.data.arguments[0]:null;return Je=(0,ke.Ft)(Je)?"L\u1ed7i h\u1ec7 th\u1ed1ng":Je,`[TS24${(0,ke.EU)(Xe.from)?"":" > "+Xe.from}] ${Je}`}send(Xe,Je,lt){let Lt=!!(0,ke.Ft)((lt=lt||{}).alert)||lt.alert;return delete lt.alert,this.request(Xe,Je,lt).pipe((0,G.K)(ct=>this.checkError(ct,Lt,1)),(0,z.w)(ct=>ct&&ct.error?this.checkError(ct,Lt,2):(0,Ee.of)(ct)))}sendGet(Xe,Je,lt){return lt=Object.assign({},lt,{params:Je}),this.send("GET",Xe,lt)}sendPost(Xe,Je,lt){return lt=Object.assign({},lt,{body:Je}),this.send("POST",Xe,lt)}sendPut(Xe,Je,lt){return lt=Object.assign({},lt,{body:Je}),this.send("PUT",Xe,lt)}sendDelete(Xe,Je){return Je=Object.assign({},Je),this.send("DELETE",Xe,Je)}}return Oe.\u0275fac=function(Xe){return new(Xe||Oe)(Ve.LFG(x.PG),Ve.LFG(Fe.W))},Oe.\u0275prov=Ve.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},3046:(Dn,ht,I)=>{I.d(ht,{P:()=>z});var x=I(1963),G=I(5e3);let z=(()=>{class Se{constructor(Fe){this.srv=Fe,this.userOf=!0}get shared(){return this.srv.shared()}get client(){return this.srv.client()}prepareData(Fe){return Object.assign({},Fe)}fixUrl(Fe,ke){return this.srv.config().read().fixUrl(Fe,ke)}getUrl(Fe){return this.fixUrl(this.path,Fe)}findAll(Fe){return this.srv.client().sendGet(this.getUrl("get-all"),Fe)}findOne(Fe){return"number"==typeof Fe?this.srv.client().sendGet(this.getUrl(`get-by-id/${Fe}`)):this.srv.client().sendGet(this.getUrl("one"),Fe)}addOne(Fe){return Fe=this.prepareData(Fe),this.srv.client().sendPost(this.getUrl("create"),Fe)}updateOne(Fe,ke){return ke=this.prepareData(ke),this.srv.client().sendPut(this.getUrl(`edit-by-id/${Fe}`),ke)}deleteOne(Fe){return this.srv.client().sendDelete(this.getUrl(`del-by-id/${Fe}`))}}return Se.\u0275fac=function(Fe){return new(Fe||Se)(G.LFG(x.X))},Se.\u0275prov=G.Yz7({token:Se,factory:Se.\u0275fac}),Se})()},6305:(Dn,ht,I)=>{I.d(ht,{W:()=>Pe});var x=I(9690),G=I(5e3),z=I(8406);let Se=(()=>{class Oe{constructor(Xe){this.r=Xe}allParam(){return this.r.snapshot.params}isDebug(){return this.allParam.debug}debug(...Xe){!0===this.isDebug()&&Xe.forEach(Je=>console.debug(Je))}}return Oe.\u0275fac=function(Xe){return new(Xe||Oe)(G.LFG(z.gz))},Oe.\u0275prov=G.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();var Ee=I(2810),Fe=I(750),ke=I(9727),Ae=I(7957);let Pe=(()=>{class Oe{constructor(Xe,Je,lt){this.inj=Xe,this.alert=Je,this.modal=lt}get NO_REMOVE_KEY(){return[Oe.USER_REMEMBER,"AppConfig"]}get LOGGER(){return this.inj.get(Se)}get router(){return this.inj.get(z.F0)}showError(Xe,Je){const lt=`${Xe.msg||Xe.message} (M\xe3 l\u1ed7i: ${Xe.code})`;let Lt=(0,x.Ft)(Je)?{}:{nzDuration:1e3*Je};this.alert.error(lt,Lt)}loading(Xe,Je){return Je=Object.assign({nzAnimate:!0,nzDuration:-1},Je),this.alert.create("",Xe=`<i class="fal fa-sync fa-spin"></i>${Xe}`,Je)}encrypt(Xe){return Xe}decrypt(Xe){return Xe}getByKey(Xe){const lt=localStorage.getItem(Xe||Oe.APP_CONFIG);if((0,x.Ft)(lt))return;let Lt=this.decrypt(lt)||"{}";try{return JSON.parse(Lt)}catch(ct){return Lt}}clearAll(){Object.keys(localStorage).filter(Xe=>-1===this.NO_REMOVE_KEY.indexOf(Xe)).forEach(Xe=>localStorage.removeItem(Xe))}getBoolean(Xe,Je){const lt=localStorage.getItem(Xe||Oe.SHOW_FORM_CREATE);return(0,x.EU)(lt)?Je:"true"===lt}setByKey(Xe,Je){(0,x.Ft)(Je)?localStorage.removeItem(Xe):("object"==typeof Je&&(Je=JSON.stringify(Je)),localStorage.setItem(Xe,this.encrypt(Je).toString()))}setRememberLogin(Xe){this.rememberUser=Xe}getRememberLogin(){return this.rememberUser}get rememberUser(){return this.getByKey(Oe.USER_REMEMBER)||{}}set rememberUser(Xe){this.setByKey(Oe.USER_REMEMBER,Xe)}get showFormCreate(){return this.getBoolean()}set showFormCreate(Xe){this.setByKey(Oe.SHOW_FORM_CREATE,Xe)}get catalogs(){return this.getByKey(Oe.CATALOGS)||{}}set catalogs(Xe){this.setByKey(Oe.CATALOGS,Xe)}getAppConfig(){return(new Ee.X).init().assign(this.getByKey("AppConfig")||{})}navigateLogin(Xe=this.router,Je){this.clearAll();let lt=this.getAppConfig().isDev,Lt={isDev:!!(0,x.oA)(lt)||void 0,redirect_url:(0,x.Ft)(Je)?void 0:Je};Xe.navigate(["/",Fe.pG],{queryParams:Lt})}}return Oe.REPORT_KPI_TOKEN="REPORT_KPI_TOKEN",Oe.USER_REMEMBER="USER_REMEMBER",Oe.USER_DETAIL="USER_DETAIL",Oe.APP_CONFIG="APP_CONFIG",Oe.COLUMN_KPI="COLUMN_KPI",Oe.AG_GRID_KEY="AG-GRID-COLUMN-DEF",Oe.SYSTEM_CONFIG="SYSTEM_CONFIG",Oe.SHOW_FORM_CREATE="SHOW_FORM_CREATE",Oe.CATALOGS="CATALOGS",Oe.PROFILE="T2T-HELPDESK-PROFILE",Oe.SECRET_KEY="@!#$%^@20aF*%$+=",Oe.\u0275fac=function(Xe){return new(Xe||Oe)(G.LFG(G.zs3),G.LFG(ke.dD),G.LFG(Ae.Sf))},Oe.\u0275prov=G.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},1963:(Dn,ht,I)=>{I.d(ht,{X:()=>ke});var x=I(7957),G=I(9727),z=I(6431),Se=I(6305),Ee=I(7043),Fe=I(5e3);let ke=(()=>{class Ae{constructor(Pe){this.inj=Pe}config(){return this.get(z.t)}shared(){return this.get(Se.W)}client(){return this.get(Ee.C)}alert(){return this.get(G.dD)}modal(){return this.get(x.Sf)}get(Pe){return this.inj.get(Pe)}}return Ae.\u0275fac=function(Pe){return new(Pe||Ae)(Fe.LFG(Fe.zs3))},Ae.\u0275prov=Fe.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},857:(Dn,ht,I)=>{I.d(ht,{a:()=>Ve});var x=I(9646),G=I(8306),z=I(3900),Se=I(913),Ee=I(3046),Fe=I(9690),ke=I(750),Ae=I(5e3);let Ve=(()=>{class Pe extends Ee.P{constructor(){super(...arguments),this.path="users"}get appVersion(){return this.srv.get(ke.Ji)}read(be=!1){return Se.h.readBy(this.srv.shared(),be)}login(be){let Xe=Object.assign({},be,{password:Fe.DS.encode(be.password),ag_list:[ke.z,ke.IN]}),Je=this.getUrl("signin");return this.sendLoginUser(Je,Xe)}loginTs24(be){let Xe=this.getUrl("signin-ts24"),Je={access_token:be.token},lt={email:be.email,password:Fe.DS.encode(be.password),access_token:be.token};return this.sendLoginUser(Xe,lt,{headers:Je})}sendLoginUser(be,Xe,Je){return this.client.sendPost(be,Xe,Je).pipe((0,z.w)(lt=>(0,x.of)(this.read().assign(lt).saveBy(this.shared))))}logout(){return new G.y(be=>{this.srv.config().read().clear(this.shared),this.shared.navigateLogin()})}updateOne(be,Xe){return super.updateOne(be,Xe).pipe((0,z.w)(Je=>{let lt=this.read().assign(Je).saveBy(this.shared);return(0,x.of)(lt)}))}createUser(be){let Xe=this.getUrl("create-user"),Je=Object.assign(Object.assign({},be),{pwd_sys:Fe.DS.encode(be.pwd_sys),pwd_ts24:Fe.DS.encode(be.pwd_ts24)});return this.sendLoginUser(Xe,Je,{})}}return Pe.\u0275fac=function(){let Oe;return function(Xe){return(Oe||(Oe=Ae.n5z(Pe)))(Xe||Pe)}}(),Pe.\u0275prov=Ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},2810:(Dn,ht,I)=>{I.d(ht,{X:()=>G});var x=I(9690);class G{constructor(){}init(){return this}static readBy(Se){return Se.getAppConfig()}assign(Se,Ee){return Object.assign(this,Se)}saveBy(Se){return Se.setByKey("AppConfig",this),this}getApiUrl(){let Se=this[this.api_key];return console.log(Se),Se}fixUrl(...Se){let Ee=[...Se].filter(Fe=>!(0,x.EU)(Fe)).map(Fe=>Fe.endsWith("/")?Fe.substring(0,Fe.length-1):Fe);return(0,x.pM)(Ee[0])?Ee.join("/"):`${this.getApiUrl()}/${Ee.join("/")}`}clear(Se,Ee=["api_url"]){}}},913:(Dn,ht,I)=>{I.d(ht,{h:()=>z});var x=I(9690);const G={create:!0,view:!0,helpdesk:!0,find_kh:!0,report:!0,excel:!0,admin:!1,delete:!0,pivot:!1,copy:!1,create_grid:!0,cfig_def:!0,cfig_def_input:!1};class z{constructor(){this.roles={},this.grid_config={}}assign(Ee){let ke=Object.assign(this,{od_user:{},config:{}},Ee);return!(0,x.Ft)(ke.od_user)&&(0,x.EU)(ke.od_user.display_name)&&(ke.od_user.display_name=ke.od_user.name),(0,x.Ft)(ke.roles)&&(ke.roles=G),ke}saveBy(Ee){return Ee.setByKey("UserDetail",this),this}static readBy(Ee,Fe=!1){let ke=Fe?{}:Ee.getByKey("UserDetail");return(new z).assign(ke||{})}isRoleAdmin(){return"ROLE_ADMIN"===this.role}isAuthenticated(){return!(0,x.Ft)(this.id)}isRole(Ee,Fe){Ee=(0,x.Ft)(Ee)?[]:"string"==typeof Ee?[Ee]:Ee;let ke=this.roles;return 0===Ee.filter(Ve=>(0,x.EU)(ke[Ve])||!ke[Ve]).length&&(!!(0,x.Ft)(Fe)||Fe)}getAgField(Ee){return this.getAgType(Ee).grid_field||{}}getAgType(Ee){let Fe=this.grid_config[Ee]||{};return(0,x.gS)(Fe)&&(this.grid_config[Ee]={}),Fe}assignAgType(Ee,Fe){return this.getAgType(Ee),this.grid_config[Ee]=Object.assign({},Fe),this}}},750:(Dn,ht,I)=>{I.d(ht,{AK:()=>Oe,IN:()=>Fe,Ji:()=>Se,X5:()=>z,_J:()=>Ae,g1:()=>ke,pG:()=>Ve,z:()=>Ee});var x=I(5e3),G=I(9690);const z="assets/file/app.config.json",Se=new x.OlP("appVersion"),Ee="ticket_list",Fe="send_report",ke="SEND_HELPDESK",Ae="ag_default",Ve="signin",Oe=((0,G._3)(),"/assets/file/reportkpi_mau.xlsx")},9690:(Dn,ht,I)=>{I.d(ht,{DS:()=>On,EU:()=>Oe,Em:()=>Je,Ft:()=>Fe,G5:()=>be,J2:()=>ke,K$:()=>Yt,Ov:()=>ot,_3:()=>Jt,gS:()=>Ve,h0:()=>se,kl:()=>Ee,mz:()=>w,oA:()=>z,pM:()=>G});var Je,On,Yt,De,x=I(9808);function G(De){return!Fe(De)&&(De.startsWith("http://")||De.startsWith("https://"))}function z(De){return!Fe(De)&&(1===De||"1"===De||"true"===De||!0===De)}function Ee(De,et){return Fe(De)||De===et}function Fe(De){return null==De}function ke(De,et){return Fe(De)||De<=et}function Ve(De){return Fe(De)||"object"==typeof De&&0===Object.keys(De).length}function Oe(De){return Fe(De)||0===(""+De).trim().length}function be(De){return!!Fe(De)||0===De.length}function Jt(De="yyyyMMdd"){return new x.uU("en-US").transform(new Date,De)}(Je||(Je={})).parseDate=function et(gt,ze){return Oe(gt)?ze:new Date(gt)},(De=On||(On={})).decode=function et(Ft){return Buffer.from(Ft,"base64")},De.encode=function gt(Ft){return Buffer.from(Ft).toString("base64")},De.decodeJson=function ze(Ft){return decodeURIComponent(Array.prototype.map.call(atob(Ft),It=>"%"+("00"+It.charCodeAt(0).toString(16)).slice(-2)).join(""))},De.getBase64=function mt(Ft){return new Promise((It,$t)=>{const ut=new FileReader;ut.readAsDataURL(Ft),ut.onload=()=>It(ut.result),ut.onerror=pn=>$t(pn)})};class w{static reduce(et,gt){return et.map(ze=>gt(ze)).reduce((ze,mt)=>Object.assign(Object.assign({},ze),mt),{})}}!function(De){De.isNotNullFilter=function et(ut){return!Fe(ut)},De.log=function gt(...ut){(ut="string"==typeof ut?[ut]:ut).forEach(pn=>console.log(pn))},De.jsonEmpty=function ze(ut){return Fe(ut)||0===Object.keys(ut).length},De.arrToObj=function mt(ut,pn){return pn.map((tt,en)=>({[tt]:ut[en]})).reduce((tt,en)=>Object.assign(Object.assign({},tt),en),{})},De.replaceAll=function Ft(ut,pn,tt){return ut.replace(new RegExp(pn,"g"),tt)},De.replaceQuery=function It(ut,pn){if(Oe(ut))throw"@text must not empty.";let en=new RegExp("{(.+?)}","g");return ut.replace(en,xt=>((xt,jt)=>{let Hn=xt.substring(1,xt.length-1);return void 0===jt[Hn]?xt:jt[Hn]})(xt,pn))},De.base64decode=function $t(ut){return decodeURIComponent(Array.prototype.map.call(atob(ut),pn=>"%"+("00"+pn.charCodeAt(0).toString(16)).slice(-2)).join(""))}}(Yt||(Yt={}));class se{static getMessage(et,gt){return gt.code===DOMException.NOT_FOUND_ERR?`T\u1ec7p tin [${et.name}] kh\xf4ng t\u1ed3n t\u1ea1i`:gt.message}}class ot{static dateAdd(et,gt,ze){if(!(et instanceof Date))return;let mt=new Date(et),Ft=()=>mt.getDate()!=et.getDate()?mt.setDate(0):"";switch(gt){case"year":mt.setFullYear(mt.getFullYear()+ze),Ft();break;case"quarter":mt.setMonth(mt.getMonth()+3*ze),Ft();break;case"month":mt.setMonth(mt.getMonth()+ze),Ft();break;case"week":mt.setDate(mt.getDate()+7*ze);break;case"day":mt.setDate(mt.getDate()+ze);break;case"hour":mt.setTime(mt.getTime()+36e5*ze);break;case"minute":mt.setTime(mt.getTime()+6e4*ze);break;case"second":mt.setTime(mt.getTime()+1e3*ze);break;default:mt=void 0}return mt}static dateToString(et,gt){return new x.uU("en-US").transform(et,gt)}}},7715:(Dn,ht,I)=>{I.d(ht,{Y:()=>G});var x=I(9808);class G{constructor(Ee){this.type=Ee}static forCls(Ee){return new G(Ee)}debug(Ee,...Fe){this.doLog(z.debug,Ee,Fe)}info(Ee,...Fe){this.doLog(z.info,Ee,Fe)}warn(Ee,...Fe){this.doLog(z.warn,Ee,Fe)}error(Ee,...Fe){this.doLog(z.error,Ee,Fe)}log(Ee,...Fe){this.doLog(z.log,Ee,Fe)}doLog(Ee,Fe,...ke){let Ve=`${new x.uU("en-US").transform(Date.now(),"yyyy-MM-ddTHH:mm:ss").toString()} -- ${Ee} -- [${this.type.name}]: ${Fe}`,Pe=console[z[Ee]];0==ke.length?Pe(Ve):Pe(Ve,ke)}}var z=(()=>{return(Se=z||(z={}))[Se.log=0]="log",Se[Se.debug=1]="debug",Se[Se.info=2]="info",Se[Se.warn=3]="warn",Se[Se.error=4]="error",z;var Se})()},7628:(Dn,ht,I)=>{var x=I(2313),G=I(5e3),z=I(857),Se=I(8406);let Ee=(()=>{class l{constructor(e){this.title="TS24AppWeb1111"}ngAfterViewInit(){}}return l.\u0275fac=function(e){return new(e||l)(G.Y36(z.a))},l.\u0275cmp=G.Xpm({type:l,selectors:[["cy-root"]],decls:1,vars:0,template:function(e,r){1&e&&G._UZ(0,"router-outlet")},directives:[Se.lC],styles:[""],encapsulation:2}),l})();var Fe=I(6431),ke=I(6360),Ae=I(520),Ve=I(3075),Pe=I(9727),Oe=I(2359),be=I(7957),Xe=I(7904);let Je=(()=>{class l{constructor(){}intercept(e,r){return this.handleAccess(e,r)}handleAccess(e,r){let o=e;const s={},h=e.headers.keys();let p=h.indexOf("cookie");-1!==p&&h.splice(p,1);for(const S of h)s[S]=e.headers.getAll(S);const y=new Ae.WM(s);return o=e.clone({headers:y}),r.handle(o)}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=G.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var lt=I(1497);const Lt=[{path:"test-dev",loadChildren:()=>I.e(890).then(I.bind(I,9890)).then(l=>l.TestDevModule)},{path:"signin",loadChildren:()=>Promise.all([I.e(376),I.e(47),I.e(546),I.e(82)]).then(I.bind(I,4259)).then(l=>l.SigninModule)},{path:"signup",loadChildren:()=>Promise.all([I.e(376),I.e(47),I.e(94)]).then(I.bind(I,9094)).then(l=>l.SignupModule),canActivate:[]},{path:"ticket-list",loadChildren:()=>Promise.all([I.e(376),I.e(47),I.e(371),I.e(484),I.e(613),I.e(546),I.e(671),I.e(449),I.e(426),I.e(289)]).then(I.bind(I,5289)).then(l=>l.TicketListModule),canActivate:[lt.L]},{path:"ticket-form",loadChildren:()=>Promise.all([I.e(376),I.e(47),I.e(371),I.e(484),I.e(613),I.e(546),I.e(671),I.e(426),I.e(52)]).then(I.bind(I,5052)).then(l=>l.TicketFormRouting),canActivate:[lt.L]},{path:"admin",loadChildren:()=>Promise.all([I.e(613),I.e(662)]).then(I.bind(I,9662)).then(l=>l.AdminModule),canActivate:[lt.L]},{path:"setting-ticket",loadChildren:()=>Promise.all([I.e(376),I.e(503)]).then(I.bind(I,3503)).then(l=>l.SettingTicketModule),canActivate:[lt.L]},{path:"send-report",loadChildren:()=>Promise.all([I.e(376),I.e(47),I.e(371),I.e(613),I.e(546),I.e(671),I.e(449),I.e(926)]).then(I.bind(I,6926)).then(l=>l.SendReportModule),canActivate:[lt.L]},{path:"**",redirectTo:"/ticket-list",pathMatch:"full"}];function ct(l){return()=>l.load().then(t=>{console.log(`K\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7 ${t.api_url}`),l.shared.setByKey("isDebug","true")}).catch(t=>console.error(t))}let Jt=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=G.oAB({type:l,bootstrap:[Ee]}),l.\u0275inj=G.cJS({providers:[{provide:Ae.TP,useClass:Je,multi:!0},{provide:G.ip1,useFactory:ct,deps:[Fe.t],multi:!0},{provide:Xe.u7,useValue:Xe.iF}],imports:[[x.b2,Ve.u5,Se.Bz.forRoot(Lt,{preloadingStrategy:Se.wm,useHash:!0}),ke.PW,Ae.JF,Ve.UX,Ve.u5,Pe.gR,be.Qp,Oe.L]]}),l})();var l,w=I(8267),Yt=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)},function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),se=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},De=function(l){function t(){var r=null!==l&&l.apply(this,arguments)||this;return r.watermarkMessage=void 0,r}var e;return Yt(t,l),e=t,t.prototype.validateLicense=function(){if(w._.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var r=e.extractLicenseComponents(e.licenseKey),s=r.license,h=r.version,p=r.isTrial;r.md5===this.md5.md5(s)?w._.exists(h)&&h?this.validateLicenseKeyForVersion(h,!!p,s):this.validateLegacyKey(s):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(r){var o=r.substring(r.lastIndexOf("_")+1,r.length);return new Date(parseInt(e.decode(o),10))},t.extractLicenseComponents=function(r){var o=r.replace(/[\u200B-\u200D\uFEFF]/g,""),s=(o=o.replace(/\r?\n|\r/g,"")).length-32,h=o.substring(s),p=o.substring(0,s),y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(e.extractBracketedInformation(o),2);return{md5:h,license:p,version:y[0],isTrial:y[1]}},t.prototype.getLicenseDetails=function(r){var o=e.extractLicenseComponents(r),h=o.license,p=o.version,y=o.isTrial,S=o.md5===this.md5.md5(h),E=null;return S&&(E=e.extractExpiry(h),S=!isNaN(E.getTime())),{licenseKey:r,valid:S,expiry:S?e.formatDate(E):null,version:p||"legacy",isTrial:y}},t.prototype.isDisplayWatermark=function(){return!w._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(r){var s=r.getDate(),h=r.getMonth(),p=r.getFullYear();return s+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][h]+" "+p},t.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},t.decode=function(r){for(var p,y,S,E,T,O,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",R=0,N=r.replace(/[^A-Za-z0-9+/=]/g,"");R<N.length;)S=o.indexOf(N.charAt(R++)),p=(15&(E=o.indexOf(N.charAt(R++))))<<4|(T=o.indexOf(N.charAt(R++)))>>2,y=(3&T)<<6|(O=o.indexOf(N.charAt(R++))),s+=String.fromCharCode(S<<2|E>>4),64!=T&&(s+=String.fromCharCode(p)),64!=O&&(s+=String.fromCharCode(y));return e.utf8_decode(s)},t.utf8_decode=function(r){r=r.replace(/rn/g,"n");for(var o="",s=0;s<r.length;s++){var h=r.charCodeAt(s);h<128?o+=String.fromCharCode(h):h>127&&h<2048?(o+=String.fromCharCode(h>>6|192),o+=String.fromCharCode(63&h|128)):(o+=String.fromCharCode(h>>12|224),o+=String.fromCharCode(h>>6&63|128),o+=String.fromCharCode(63&h|128))}return o},t.setLicenseKey=function(r){e.licenseKey=r},t.extractBracketedInformation=function(r){var o=r.split("[").filter(function(p){return p.indexOf("]")>-1}).map(function(p){return p.split("]")[0]});if(!o||0===o.length)return[null,null];var s=1===o.filter(function(p){return"TRIAL"===p}).length;return[o.filter(function(p){return 0===p.indexOf("v")}).map(function(p){return p.replace(/^v/,"")})[0],s]},t.prototype.validateLicenseKeyForVersion=function(r,o,s){"2"===r&&(o?this.validateForTrial(s):this.validateLegacyKey(s))},t.prototype.validateLegacyKey=function(r){var o=e.getGridReleaseDate(),s=e.extractExpiry(r),h=!1,p=!1;if(isNaN(s.getTime())||(h=!0,p=o<s),h){if(!p){var y=e.formatDate(s),S=e.formatDate(o);this.outputIncompatibleVersion(y,S)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(r){var o=e.extractExpiry(r),s=new Date,h=!1,p=!1;if(isNaN(o.getTime())||(h=!0,p=o>s),h){if(!p){var y=e.formatDate(o);this.outputExpiredTrialKey(y)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(r){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+r+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(r,o){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+r+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+o+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY0Njk4MzkwMjkyOA==",se([(0,w.fsG)("md5")],t.prototype,"md5",void 0),se([w.$j7],t.prototype,"validateLicense",null),e=se([(0,w.Vu6)("licenseManager")],t)}(w.AS9),et=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gt=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ze=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return et(t,l),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,r){var o=e[0],s=e[1],h=e[2],p=e[3];o=this.ff(o,s,h,p,r[0],7,-680876936),p=this.ff(p,o,s,h,r[1],12,-389564586),h=this.ff(h,p,o,s,r[2],17,606105819),s=this.ff(s,h,p,o,r[3],22,-1044525330),o=this.ff(o,s,h,p,r[4],7,-176418897),p=this.ff(p,o,s,h,r[5],12,1200080426),h=this.ff(h,p,o,s,r[6],17,-1473231341),s=this.ff(s,h,p,o,r[7],22,-45705983),o=this.ff(o,s,h,p,r[8],7,1770035416),p=this.ff(p,o,s,h,r[9],12,-1958414417),h=this.ff(h,p,o,s,r[10],17,-42063),s=this.ff(s,h,p,o,r[11],22,-1990404162),o=this.ff(o,s,h,p,r[12],7,1804603682),p=this.ff(p,o,s,h,r[13],12,-40341101),h=this.ff(h,p,o,s,r[14],17,-1502002290),s=this.ff(s,h,p,o,r[15],22,1236535329),o=this.gg(o,s,h,p,r[1],5,-165796510),p=this.gg(p,o,s,h,r[6],9,-1069501632),h=this.gg(h,p,o,s,r[11],14,643717713),s=this.gg(s,h,p,o,r[0],20,-373897302),o=this.gg(o,s,h,p,r[5],5,-701558691),p=this.gg(p,o,s,h,r[10],9,38016083),h=this.gg(h,p,o,s,r[15],14,-660478335),s=this.gg(s,h,p,o,r[4],20,-405537848),o=this.gg(o,s,h,p,r[9],5,568446438),p=this.gg(p,o,s,h,r[14],9,-1019803690),h=this.gg(h,p,o,s,r[3],14,-187363961),s=this.gg(s,h,p,o,r[8],20,1163531501),o=this.gg(o,s,h,p,r[13],5,-1444681467),p=this.gg(p,o,s,h,r[2],9,-51403784),h=this.gg(h,p,o,s,r[7],14,1735328473),s=this.gg(s,h,p,o,r[12],20,-1926607734),o=this.hh(o,s,h,p,r[5],4,-378558),p=this.hh(p,o,s,h,r[8],11,-2022574463),h=this.hh(h,p,o,s,r[11],16,1839030562),s=this.hh(s,h,p,o,r[14],23,-35309556),o=this.hh(o,s,h,p,r[1],4,-1530992060),p=this.hh(p,o,s,h,r[4],11,1272893353),h=this.hh(h,p,o,s,r[7],16,-155497632),s=this.hh(s,h,p,o,r[10],23,-1094730640),o=this.hh(o,s,h,p,r[13],4,681279174),p=this.hh(p,o,s,h,r[0],11,-358537222),h=this.hh(h,p,o,s,r[3],16,-722521979),s=this.hh(s,h,p,o,r[6],23,76029189),o=this.hh(o,s,h,p,r[9],4,-640364487),p=this.hh(p,o,s,h,r[12],11,-421815835),h=this.hh(h,p,o,s,r[15],16,530742520),s=this.hh(s,h,p,o,r[2],23,-995338651),o=this.ii(o,s,h,p,r[0],6,-198630844),p=this.ii(p,o,s,h,r[7],10,1126891415),h=this.ii(h,p,o,s,r[14],15,-1416354905),s=this.ii(s,h,p,o,r[5],21,-57434055),o=this.ii(o,s,h,p,r[12],6,1700485571),p=this.ii(p,o,s,h,r[3],10,-1894986606),h=this.ii(h,p,o,s,r[10],15,-1051523),s=this.ii(s,h,p,o,r[1],21,-2054922799),o=this.ii(o,s,h,p,r[8],6,1873313359),p=this.ii(p,o,s,h,r[15],10,-30611744),h=this.ii(h,p,o,s,r[6],15,-1560198380),s=this.ii(s,h,p,o,r[13],21,1309151649),o=this.ii(o,s,h,p,r[4],6,-145523070),p=this.ii(p,o,s,h,r[11],10,-1120210379),h=this.ii(h,p,o,s,r[2],15,718787259),s=this.ii(s,h,p,o,r[9],21,-343485551),e[0]=this.add32(o,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(h,e[2]),e[3]=this.add32(p,e[3])},t.prototype.cmn=function(e,r,o,s,h,p){return r=this.add32(this.add32(r,e),this.add32(s,p)),this.add32(r<<h|r>>>32-h,o)},t.prototype.ff=function(e,r,o,s,h,p,y){return this.cmn(r&o|~r&s,e,r,h,p,y)},t.prototype.gg=function(e,r,o,s,h,p,y){return this.cmn(r&s|o&~s,e,r,h,p,y)},t.prototype.hh=function(e,r,o,s,h,p,y){return this.cmn(r^o^s,e,r,h,p,y)},t.prototype.ii=function(e,r,o,s,h,p,y){return this.cmn(o^(r|~s),e,r,h,p,y)},t.prototype.md51=function(e){var s,r=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=e.length;s+=64)this.md5cycle(o,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)h[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(h[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(o,h),s=0;s<16;s++)h[s]=0;return h[14]=8*r,this.md5cycle(o,h),o},t.prototype.md5blk=function(e){for(var r=[],o=0;o<64;o+=4)r[o>>2]=e.charCodeAt(o)+(e.charCodeAt(o+1)<<8)+(e.charCodeAt(o+2)<<16)+(e.charCodeAt(o+3)<<24);return r},t.prototype.rhex=function(e){for(var r="0123456789abcdef".split(""),o="",s=0;s<4;s++)o+=r[e>>8*s+4&15]+r[e>>8*s&15];return o},t.prototype.hex=function(e){for(var r=0;r<e.length;r++)e[r]=this.rhex(e[r]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,r){return this.ieCompatibility?this.add32Compat(e,r):this.add32Std(e,r)},t.prototype.add32Std=function(e,r){return e+r&4294967295},t.prototype.add32Compat=function(e,r){var o=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(o>>16)<<16|65535&o},gt([w.NqP],t.prototype,"init",null),gt([(0,w.Vu6)("md5")],t)}(w.AS9),mt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ft=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},It=function(l){function t(){return l.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return mt(t,l),t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var o=(this.gridOptionsWrapper.getDocument().defaultView||window).location,s=o.hostname,h=void 0===s?"":s,p=o.pathname,y=this.licenseManager.isDisplayWatermark(),S=null!=h.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!p&&-1!==p.indexOf("forceWatermark")||y&&!S},Ft([(0,w.fsG)("licenseManager")],t.prototype,"licenseManager",void 0),Ft([(0,w.cqo)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),Ft([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),$t={moduleName:w.GXE.EnterpriseCoreModule,beans:[De,ze],agStackComponents:[{componentName:"AgWatermark",componentClass:It}]};const pn_getTemplate=function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}},en_getTemplate=function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}},jt_getTemplate=function(l){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:l.width}}]}}},or_getTemplate=function(l){var t=l.mergeAcross,e=l.styleId,r=l.data,o={};return t&&(o.MergeAcross=t),e&&(o.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:o}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:r.type}}]},textNode:r.value}]}};var _r={getTemplate:function(l){return{name:"Row",children:l.cells.map(function(e){return or_getTemplate(e)})}}};const gr=_r;var xi={getTemplate:function(l){var t=l.table,e=l.name,o=t.rows,s=t.columns.map(function(p){return jt_getTemplate(p)}),h=o.map(function(p){return gr.getTemplate(p)});return{name:"Worksheet",children:[{name:"Table",children:s.concat(h)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}};const oi=xi,bi_getTemplate=function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}},Ui={getTemplate:function(l){var t=l.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},pr={getTemplate:function(l){var t=l.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(h,p){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==p?"Bottom":1==p?"Left":2==p?"Right":"Top",LineStyle:h.lineStyle,Weight:h.weight,Color:h.color}}]}}})}}},mi={getTemplate:function(l){var t=l.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},Kn={getTemplate:function(l){var t=l.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},ue={getTemplate:function(l){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:l.protection.protected,HideFormula:l.protection.hideFormula}}]}}}},At={getTemplate:function(l){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:l.numberFormat.format}}]}}}},dt_getTemplate=function(l){var t=l.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:l.name||t}}]}}};var $e=function(){function l(){}return l.prototype.setBeans=function(t){this.beans=t},l.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},l.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},l}(),fe=function(){function l(t){this.groupColumns=[];var r=t.valueService,o=t.gridOptionsWrapper,s=t.processCellCallback,h=t.processHeaderCallback,p=t.processGroupHeaderCallback,y=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=r,this.gridOptionsWrapper=o,this.processCellCallback=s,this.processHeaderCallback=h,this.processGroupHeaderCallback=p,this.processRowGroupCallback=y}return l.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},l.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},l.prototype.extractRowCellValue=function(t,e,r,o,s){var y,h=this.gridOptionsWrapper.isGroupMultiAutoColumn()?s.rowGroupIndex:0;y=s&&s.group&&(e===h&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(s):this.valueService.getValue(t,s);var S=this.processCell(r,s,t,y,this.processCellCallback,o);return null!=S?S:""},l.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},l.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},l.prototype.processCell=function(t,e,r,o,s,h){return s?s({accumulatedRowIndex:t,column:r,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:h}):null!=o?o:""},l}(),We=function(){function l(){}return l.download=function(t,e){var r=document.defaultView||window;if(r){var o=document.createElement("a"),s=r.URL.createObjectURL(e);o.setAttribute("href",s),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(o),r.setTimeout(function(){r.URL.revokeObjectURL(s)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},l}(),ve=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tt=function(l){function t(e){var r=l.call(this,e)||this;r.isFirstLine=!0,r.result="";var s=e.columnSeparator;return r.suppressQuotes=e.suppressQuotes,r.columnSeparator=s,r}return ve(t,l),t.prototype.addCustomContent=function(e){var r=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(o){r.beginNewLine(),o.forEach(function(s,h){0!==h&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(s.data.value||""),s.mergeAcross&&r.appendEmptyCells(s.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,r,r,w.gTE.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?r=e:"function"==typeof e.toString?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r=""),'"'+r.replace(/"/g,'""')+'"');var r},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(fe),Pn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bn=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Tn=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Pn(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),o=this.getData(r),s=new Blob(["\ufeff",o],{type:"text/plain"});return We.download(this.getFileName(r.fileName),s),o},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this;return new Tt({columnModel:r.columnModel,valueService:r.valueService,gridOptionsWrapper:r.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},bn([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),bn([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),bn([(0,w.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),bn([(0,w.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bn([w.NqP],t.prototype,"postConstruct",null),bn([(0,w.Vu6)("csvCreator")],t)}($e),ar=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),br=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Vt=(()=>(function(l){l[l.HEADER_GROUPING=0]="HEADER_GROUPING",l[l.HEADER=1]="HEADER",l[l.BODY=2]="BODY"}(Vt||(Vt={})),Vt))(),fn=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ar(t,l),t.prototype.serialize=function(e,r){void 0===r&&(r={});var o=this.getColumnsToExport(r.allColumns,r.columnKeys);return w._.compose(this.prepareSession(o),this.prependContent(r),this.exportColumnGroups(r,o),this.exportHeaders(r,o),this.processPinnedTopRows(r,o),this.processRows(r,o),this.processPinnedBottomRows(r,o),this.appendContent(r))(e).parse()},t.prototype.processRow=function(e,r,o,s){var h=this,p=r.shouldRowBeSkipped||function(){return!1},y=this.gridOptionsWrapper,S=y.getContext(),E=y.getApi(),T=y.getColumnApi(),O=y.isGroupRemoveSingleChildren(),R=y.isGroupHideOpenParents(),N=y.isGroupRemoveLowestSingleChildren(),X=this.columnModel.isPivotMode()?s.leafGroup:!s.group,de=1===s.allChildrenCount&&(O||N&&s.leafGroup);(r.skipGroups||r.skipRowGroups)&&r.skipGroups&&w._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var he={rowIndex:s.rowIndex,rowPinned:s.rowPinned};if(!(!X&&(r.skipRowGroups||de||R)||r.onlySelected&&!s.isSelected()||r.rowNodes&&!r.rowNodes.some(function(Rt){return h.rowPositionUtils.sameRow(Rt,he)})||r.skipPinnedTop&&"top"===s.rowPinned||r.skipPinnedBottom&&"bottom"===s.rowPinned)&&(-1!==s.level||s.leafGroup)&&!p({node:s,api:E,context:S})){var rt=e.onNewBodyRow();if(o.forEach(function(Rt,Gt){rt.onColumn(Rt,Gt,s)}),r.getCustomContentBelowRow){var Pt=r.getCustomContentBelowRow({node:s,api:E,columnApi:T,context:S});Pt&&e.addCustomContent(Pt)}}},t.prototype.appendContent=function(e){return function(r){var o=e.customFooter||e.appendContent;return o&&(e.customFooter&&w._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(o)),r}},t.prototype.prependContent=function(e){return function(r){var o=e.customHeader||e.prependContent;return o&&(e.customHeader&&w._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(o)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var o=this;return function(s){if(e.skipColumnGroupHeaders)e.columnGroups&&w._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var h=new w.fkf,p=o.displayedGroupCreator.createDisplayedGroups(r,o.columnModel.getGridBalancedTree(),h,null);o.recursivelyAddHeaderGroups(p,s,e.processGroupHeaderCallback)}return s}},t.prototype.exportHeaders=function(e,r){return function(o){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&w._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var s=o.onNewHeaderRow();r.forEach(function(h,p){s.onColumn(h,p,void 0)})}return o}},t.prototype.processPinnedTopRows=function(e,r){var o=this;return function(s){var h=o.processRow.bind(o,s,e,r);return o.pinnedRowModel.forEachPinnedTopRow(h),s}},t.prototype.processRows=function(e,r){var o=this;return function(s){var h=o.rowModel,p=h.getType(),y=p===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,S=p===w.gTE.ROW_MODEL_TYPE_SERVER_SIDE,E=!y&&e.onlySelected,T=o.processRow.bind(o,s,e,r);return o.columnModel.isPivotMode()?y?h.forEachPivotNode(T):h.forEachNode(T):e.onlySelectedAllPages||E?o.selectionService.getSelectedNodes().forEach(T):y||S?h.forEachNodeAfterFilterAndSort(T):h.forEachNode(T),s}},t.prototype.processPinnedBottomRows=function(e,r){var o=this;return function(s){var h=o.processRow.bind(o,s,e,r);return o.pinnedRowModel.forEachPinnedBottomRow(h),s}},t.prototype.getColumnsToExport=function(e,r){void 0===e&&(e=!1);var o=this.columnModel.isPivotMode();return r&&r.length?this.columnModel.getGridColumns(r):e&&!o?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([w.gTE.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,o){var s=[];e.forEach(function(h){!h.getChildren||h.getChildren().forEach(function(y){return s.push(y)})}),e.length>0&&e[0]instanceof w.Exx&&this.doAddHeaderHeader(r,e,o),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,r,o)},t.prototype.doAddHeaderHeader=function(e,r,o){var s=this,h=e.onNewHeaderGroupingRow(),p=0;r.forEach(function(y){var E,S=y;E=o?o({columnGroup:S,api:s.gridOptionsWrapper.getApi(),columnApi:s.gridOptionsWrapper.getColumnApi(),context:s.gridOptionsWrapper.getContext()}):s.columnModel.getDisplayNameForColumnGroup(S,"header");var T=S.getLeafColumns().reduce(function(O,R,N,X){var ae=w._.last(O);return"open"===R.getColumnGroupShow()?(!ae||null!=ae[1])&&O.push(ae=[N]):ae&&null==ae[1]&&(ae[1]=N-1),N===X.length-1&&ae&&null==ae[1]&&(ae[1]=N),O},[]);h.onColumn(E||"",p++,S.getLeafColumns().length-1,T)})},br([(0,w.fsG)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),br([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),br([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),br([(0,w.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),br([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),br([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),br([(0,w.Vu6)("gridSerializer")],t)}(w.AS9),mn={moduleName:w.GXE.CsvExportModule,beans:[Tn,fn]},er=function(){function l(){}return l.createHeader=function(t){void 0===t&&(t={});var o=["version"];return t.version||(t.version="1.0"),t.encoding&&o.push("encoding"),t.standalone&&o.push("standalone"),"<?xml "+o.map(function(h){return h+'="'+t[h]+'"'}).join(" ")+" ?>"},l.createXml=function(t,e){var r=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(h){Object.keys(h.map).forEach(function(p){o+=r.returnAttributeIfPopulated(h.prefix+p,h.map[p],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(h){o+=r.returnAttributeIfPopulated(h,t.properties.rawMap[h],e)}));var s="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?s+">"+t.textNode+"</"+t.name+">\r\n":(s+=">\r\n",t.children&&t.children.forEach(function(h){s+=r.createXml(h,e)}),s+"</"+t.name+">\r\n"):s+"/>\r\n"},l.returnAttributeIfPopulated=function(t,e,r){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&r&&(o=r(e))," "+t+'="'+o+'"'},l}(),Er=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),dr=function(){function l(){}return l.addFolders=function(t){t.forEach(this.addFolder.bind(this))},l.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},l.addFile=function(t,e,r){void 0===r&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},l.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},l.clearStream=function(){this.folders=[],this.files=[]},l.buildFileStream=function(t){var e,r;void 0===t&&(t="");var o=this.folders.concat(this.files),s=o.length,h="",p=0,y=0;try{for(var S=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),E=S.next();!E.done;E=S.next()){var O=this.getHeader(E.value,p),R=O.fileHeader,N=O.folderHeader,X=O.content;p+=R.length+X.length,y+=N.length,t+=R+X,h+=N}}catch(le){e={error:le}}finally{try{E&&!E.done&&(r=S.return)&&r.call(S)}finally{if(e)throw e.error}}return t+h+this.buildFolderEnd(s,y,p)},l.getHeader=function(t,e){var r=t.content,o=t.path,s=t.created,h=t.isBase64,y=w._.decToHex,S=(0,w._.utf8_encode)(o),E=S!==o,T=this.convertTime(s),O=this.convertDate(s),R="";if(E){var N=y(1,1)+y(this.getFromCrc32Table(S),4)+S;R="up"+y(N.length,2)+N}var X=r?this.getConvertedContent(r,h):{size:0,content:""},ae=X.size,le=X.content,de="\n\0"+(E?"\0\b":"\0\0")+"\0\0"+y(T,2)+y(O,2)+y(ae?this.getFromCrc32Table(le):0,4)+y(ae,4)+y(ae,4)+y(S.length,2)+y(R.length,2);return{fileHeader:"PK\x03\x04"+de+S+R,folderHeader:"PK\x01\x02\x14\0"+de+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+y(e,4)+S+R,content:le||""}},l.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},l.buildFolderEnd=function(t,e,r){var o=w._.decToHex;return"PK\x05\x06\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(r,4)+"\0\0"},l.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},l.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),o=0;o<e;o++)r[o]=t.charCodeAt(o);var s=-1;for(o=0;o<e;o++)s=s>>>8^Er[255&(s^r[o])];return-1^s},l.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},l.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},l.folders=[],l.files=[],l}(),Bt=function(){function l(){}return l.createExcel=function(t,e){var r=this.excelXmlHeader(),o=bi_getTemplate(),s=en_getTemplate(),h=this.workbook(o,s,t,e);return""+r+er.createXml(h,function(p){return p?"1":"0"})},l.workbook=function(t,e,r,o){var s=[t,e,this.stylesXmlElement(r)].concat(oi.getTemplate(o));return Object.assign({},pn_getTemplate(),{children:s})},l.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},l.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(r){return e.styleXmlElement(r)}):[]}},l.styleXmlElement=function(t){var e=w._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},dt_getTemplate(t),{children:e})},l.addProperty=function(t,e){return function(r){return e[t]?r.concat({alignment:Ui,borders:pr,font:mi,interior:Kn,numberFormat:At,protection:ue}[t].getTemplate(e)):r}},l.factoryMode=w.nPL.SINGLE_SHEET,l}(),Be={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},Nt=function(l){return Math.round(96*l/72)},an=function(l){return Math.ceil(9525*l)},hr=function(l,t){if(t)return function(l){return Math.round(72*l/96)}("number"==typeof t?t:t({rowIndex:l}))},Ke=function(l){return""+er.createHeader({encoding:"UTF-8",standalone:"yes"})+er.createXml(l)},ft=function(l){var r=String.fromCharCode,o=Math.floor(l/26),s=l%26;return o&&26!==l?s?o<26?r(65+o-1)+r(65+s-1):ft(o)+r(65+s-1):ft(o-1)+"Z":r(65+l-1)},je=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kt=function(){return kt=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},kt.apply(this,arguments)},pe=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},St=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(pe(arguments[t]));return l},yn=function(l){function t(e){var r=l.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(o){r.stylesByIds[o.id]=o}),r.excelStyles=St(r.config.baseExcelStyles),r}return je(t,l),t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(o){var s=r.rows.length+1;r.rows.push({height:hr(s,r.config.rowHeight),cells:o.map(function(h,p){var y=r.addImage(s,r.columnsToExport[p],h.data.value),S=kt({},h);return y&&(S.data={},null!=y.value?S.data.value=y.value:(S.data.type="e",S.data.value=null)),S})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:hr(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(o,s,h,p){var y=e.config.styleLinker(Vt.HEADER_GROUPING,1,"grouping-"+o,void 0,void 0);r.push(kt(kt({},e.createMergedCell(e.getStyleId(y),e.getDataTypeForValue("string"),o,h)),{collapsibleRanges:p}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var r=this;l.prototype.prepare.call(this,e),this.columnsToExport=St(e),this.cols=e.map(function(o,s){return r.convertColumnToExcel(o,s)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(o,s){return Math.max(o,s.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,r){var o=this.config.columnWidth;return o?"number"==typeof o?{width:o}:{width:o({column:e,index:r})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,r){var o=this;return function(s,h){var p=o.extractHeaderValue(s),y=o.config.styleLinker(Vt.HEADER,e,p,s,void 0);r.push(o.createCell(o.getStyleId(y),o.getDataTypeForValue("string"),p))}},t.prototype.onNewRow=function(e,r){var o=[];return this.rows.push({cells:o,height:hr(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,o)()}},t.prototype.onNewBodyColumn=function(e,r){var o=this,s=0;return function(h,p,y){if(s>0)s-=1;else{var S=o.extractRowCellValue(h,p,e,w.gTE.EXPORT_TYPE_EXCEL,y),E=o.config.styleLinker(Vt.BODY,e,S,h,y),T=o.getStyleId(E),O=h.getColSpan(y),R=o.addImage(e,h,S);R?r.push(o.createCell(T,o.getDataTypeForValue(R.value),null==R.value?"":R.value)):O>1?(s=O-1,r.push(o.createMergedCell(T,o.getDataTypeForValue(S),S,O-1))):r.push(o.createCell(T,o.getDataTypeForValue(S),S))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.addNewMixedStyle=function(e){var r=this;this.mixedStyleCounter+=1;var o="mixedStyle"+this.mixedStyleCounter,s={};e.forEach(function(p){r.excelStyles.forEach(function(y){y.id===p&&w._.mergeDeep(s,w._.deepCloneObject(y))})}),s.id=o,s.name=o;var h=e.join("-");this.mixedStyles[h]={excelID:o,key:h,result:s},this.excelStyles.push(s),this.stylesByIds[o]=s},t}(fe),zn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sr=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return zn(t,l),t.prototype.createExcel=function(e){return Bt.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return w._.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,r,o){if(this.isFormula(o))return"Formula";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,r,o){var s=this.getStyleById(e),h=this.getType(r,s,o)||r;return{styleId:s?e:void 0,data:{type:h,value:this.getValueTransformed(h,o)}}},t.prototype.getValueTransformed=function(e,r){var p,o=this;switch(e){case"String":return function(p){if(o.config.suppressTextAsCDATA)return w._.escapeString(p);var y="<![CDATA[",S="]]>",E=new RegExp(S,"g");return y+String(p).replace(E,"]]"+S+y+">")+S}(r);case"Number":return Number(r).valueOf()+"";case"Boolean":return(p=r)&&"0"!==p&&"false"!==p?"1":"0";default:return r}},t.prototype.createMergedCell=function(e,r,o,s){return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:o},mergeAcross:s}},t}(yn),Mr={getTemplate:function(l){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:l},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}};const Br=Mr,$r_getTemplate=function(l){return{name:l.name,properties:{rawMap:{Extension:l.Extension,PartName:l.PartName,ContentType:l.ContentType}}}};var Vn=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},hi={getTemplate:function(l){var t=new Array(l).fill(void 0).map(function(p,y){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(y+1)+".xml"}}),e=Fr.worksheetImages.size,r={};Fr.workbookImageIds.forEach(function(p){r[p.type]=!0});var o=new Array(e).fill(void 0).map(function(p,y){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(y+1)+".xml"}}),h=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Vn(arguments[t]));return l}(Object.keys(r).map(function(p){return{name:"Default",ContentType:"image/"+p,Extension:p}}),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(p){return $r_getTemplate(p)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:h}}};const so=hi;var qr=function(l,t){return{name:"xdr:"+l,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},Pr=function(l){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(l.recolor&&l.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},cr=function(l,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:l.id,descr:null!=l.altText?l.altText:void 0}},children:[Pr(l)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},Xr=function(l){if(l.saturation||l.tint){var t=[];return l.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*l.saturation}}}),l.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*l.tint}}}),t}},Yr=function(l,t){var e;if(l.transparency){var r=Math.min(Math.max(l.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*r)}}}]}if(l.recolor)switch(e||(e=[]),l.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(l,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:l.color}},children:Xr(l)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:Xr(t)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},wr=function(l,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return l.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(l.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},Ki=function(l,t,e,r){return{name:"xdr:pic",children:[cr(l,t+1),Yr(l,e+1),wr(l,r)]}},go={getTemplate:function(l){var t=l.sheetIndex,e=Fr.worksheetImages.get(t),r=Fr.worksheetImageIds.get(t),o=e.map(function(s,h){var p=function(l){l.fitCell=!!l.fitCell||!l.width||!l.height;var t=l.position,e=void 0===t?{}:t,r=l.fitCell,o=l.width,s=void 0===o?0:o,h=l.height,p=void 0===h?0:h,y=l.totalHeight,S=l.totalWidth,E=e.offsetX,T=void 0===E?0:E,O=e.offsetY,R=void 0===O?0:O,N=e.row,X=void 0===N?1:N,ae=e.rowSpan,le=void 0===ae?1:ae,de=e.column,he=void 0===de?1:de,Ue=e.colSpan,st=void 0===Ue?1:Ue;return{from:{row:X-1,col:he-1,offsetX:an(T),offsetY:an(R)},to:{row:X-1+(r?1:le-1),col:he-1+(r?1:st-1),offsetX:an(s+T),offsetY:an(p+R)},height:an(y||p),width:an(S||s)}}(s);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[qr("from",p.from),qr("to",p.to),Ki(s,h,r.get(s.id).index,p),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:o}}};const to=go;var Ei=function(l){var t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(l,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}};const lo_getTemplate=function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Ei(["dk1","sysClr","windowText","000000"]),Ei(["lt1","sysClr","window","FFFFFF"]),Ei(["dk2","srgbClr","44546A"]),Ei(["lt2","srgbClr","E7E6E6"]),Ei(["accent1","srgbClr","4472C4"]),Ei(["accent2","srgbClr","ED7D31"]),Ei(["accent3","srgbClr","A5A5A5"]),Ei(["accent4","srgbClr","FFC000"]),Ei(["accent5","srgbClr","5B9BD5"]),Ei(["accent6","srgbClr","70AD47"]),Ei(["hlink","srgbClr","0563C1"]),Ei(["folHlink","srgbClr","954F72"])]}};var xn=function(l){var t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(l,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},Do={getTemplate:function(){var l=w._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[xn(["latin","Calibri Light",void 0,"020F0302020204030204"]),xn(["ea",""]),xn(["cs",""]),xn(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),xn(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),xn(["font",l("\u7b49\u7ebf Light"),"Hans"]),xn(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),xn(["font","Times New Roman","Arab"]),xn(["font","Times New Roman","Hebr"]),xn(["font","Tahoma","Thai"]),xn(["font","Nyala","Ethi"]),xn(["font","Vrinda","Beng"]),xn(["font","Shruti","Gujr"]),xn(["font","MoolBoran","Khmr"]),xn(["font","Tunga","Knda"]),xn(["font","Raavi","Guru"]),xn(["font","Euphemia","Cans"]),xn(["font","Plantagenet Cherokee","Cher"]),xn(["font","Microsoft Yi Baiti","Yiii"]),xn(["font","Microsoft Himalaya","Tibt"]),xn(["font","MV Boli","Thaa"]),xn(["font","Mangal","Deva"]),xn(["font","Gautami","Telu"]),xn(["font","Latha","Taml"]),xn(["font","Estrangelo Edessa","Syrc"]),xn(["font","Kalinga","Orya"]),xn(["font","Kartika","Mlym"]),xn(["font","DokChampa","Laoo"]),xn(["font","Iskoola Pota","Sinh"]),xn(["font","Mongolian Baiti","Mong"]),xn(["font","Times New Roman","Viet"]),xn(["font","Microsoft Uighur","Uigh"]),xn(["font","Sylfaen","Geor"]),xn(["font","Arial","Armn"]),xn(["font","Leelawadee UI","Bugi"]),xn(["font","Microsoft JhengHei","Bopo"]),xn(["font","Javanese Text","Java"]),xn(["font","Segoe UI","Lisu"]),xn(["font","Myanmar Text","Mymr"]),xn(["font","Ebrima","Nkoo"]),xn(["font","Nirmala UI","Olck"]),xn(["font","Ebrima","Osma"]),xn(["font","Phagspa","Phag"]),xn(["font","Estrangelo Edessa","Syrn"]),xn(["font","Estrangelo Edessa","Syrj"]),xn(["font","Estrangelo Edessa","Syre"]),xn(["font","Nirmala UI","Sora"]),xn(["font","Microsoft Tai Le","Tale"]),xn(["font","Microsoft New Tai Lue","Talu"]),xn(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[xn(["latin","Calibri",void 0,"020F0502020204030204"]),xn(["ea",""]),xn(["cs",""]),xn(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),xn(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),xn(["font",l("\u7b49\u7ebf"),"Hans"]),xn(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),xn(["font","Arial","Arab"]),xn(["font","Arial","Hebr"]),xn(["font","Tahoma","Thai"]),xn(["font","Nyala","Ethi"]),xn(["font","Vrinda","Beng"]),xn(["font","Shruti","Gujr"]),xn(["font","DaunPenh","Khmr"]),xn(["font","Tunga","Knda"]),xn(["font","Raavi","Guru"]),xn(["font","Euphemia","Cans"]),xn(["font","Plantagenet Cherokee","Cher"]),xn(["font","Microsoft Yi Baiti","Yiii"]),xn(["font","Microsoft Himalaya","Tibt"]),xn(["font","MV Boli","Thaa"]),xn(["font","Mangal","Deva"]),xn(["font","Gautami","Telu"]),xn(["font","Latha","Taml"]),xn(["font","Estrangelo Edessa","Syrc"]),xn(["font","Kalinga","Orya"]),xn(["font","Kartika","Mlym"]),xn(["font","DokChampa","Laoo"]),xn(["font","Iskoola Pota","Sinh"]),xn(["font","Mongolian Baiti","Mong"]),xn(["font","Arial","Viet"]),xn(["font","Microsoft Uighur","Uigh"]),xn(["font","Sylfaen","Geor"]),xn(["font","Arial","Armn"]),xn(["font","Leelawadee UI","Bugi"]),xn(["font","Microsoft JhengHei","Bopo"]),xn(["font","Javanese Text","Java"]),xn(["font","Segoe UI","Lisu"]),xn(["font","Myanmar Text","Mymr"]),xn(["font","Ebrima","Nkoo"]),xn(["font","Nirmala UI","Olck"]),xn(["font","Ebrima","Osma"]),xn(["font","Phagspa","Phag"]),xn(["font","Estrangelo Edessa","Syrn"]),xn(["font","Estrangelo Edessa","Syrj"]),xn(["font","Estrangelo Edessa","Syre"]),xn(["font","Nirmala UI","Sora"]),xn(["font","Microsoft Tai Le","Tale"]),xn(["font","Microsoft New Tai Lue","Talu"]),xn(["font","Ebrima","Tfng"])]}]}}};const wn=Do;var ki=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},no=function(l,t,e){return{name:"a:"+l,properties:{rawMap:{val:t}},children:e}},Bo=function(l){var t=ki(l,6),e=t[0],r=t[1],s=t[3],h=t[4],p=t[5],y=[];return y.push(no("satMod",t[2])),s&&y.push(no("lumMod",s)),h&&y.push(no("tint",h)),p&&y.push(no("shade",p)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:y}]}},Xo=function(l,t){return{name:"a:solidFill",children:[no("schemeClr",l,t)]}},qe=function(l){var t=ki(l,5),e=t[0],r=t[1],o=t[2],s=t[3],p=ki(t[4],2),y=p[0],S=p[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[Bo(r),Bo(o),Bo(s)]},{name:"a:lin",properties:{rawMap:{ang:y,scaled:S}}}]}},No=function(l){var t=ki(l,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[Xo("phClr"),no("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},Ia=function(l){var t=[];if(l){var e=ki(l,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[no("srgbClr","000000",[no("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}};const Oo_getTemplate=function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Xo("phClr"),qe(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),qe(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[No(["6350","flat","sng","ctr"]),No(["12700","flat","sng","ctr"]),No(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[Ia(),Ia(),Ia(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Xo("phClr"),Xo("phClr",[no("tint","95000"),no("satMod","170000")]),qe(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}},Zo_getTemplate=function(){return{name:"a:themeElements",children:[lo_getTemplate(),wn.getTemplate(),Oo_getTemplate()]}},Tc_getTemplate=function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[Zo_getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}};var Qo=function(l){var t=[];return l.forEach(function(e,r){var o=r.toString(),s={name:"t",textNode:w._.utf8_encode(w._.escapeString(o))};o.trim().length!==o.length&&(s.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[s]})}),t},co={getTemplate:function(l){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.size,uniqueCount:l.size}},children:Qo(l)}}};const vs=co,Fl_getTemplate=function(l){return{name:"numFmt",properties:{rawMap:{formatCode:l.formatCode,numFmtId:l.numFmtId}}}};var rl={getTemplate:function(l){return{name:"numFmts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Fl_getTemplate(t)})}}};const Ls=rl,ka_getTemplate=function(l){var r=l.color,s=l.fontName,p=l.family,y=l.scheme,S=l.italic,E=l.bold,T=l.strikeThrough,O=l.outline,R=l.shadow,N=l.underline,X=l.verticalAlign,ae=[{name:"sz",properties:{rawMap:{val:l.size}}},{name:"color",properties:{rawMap:{theme:l.colorTheme,rgb:void 0===r?"FF000000":r}}},{name:"name",properties:{rawMap:{val:void 0===s?"Calibri":s}}}];return p&&ae.push({name:"family",properties:{rawMap:{val:p}}}),y&&ae.push({name:"scheme",properties:{rawMap:{val:y}}}),S&&ae.push({name:"i"}),E&&ae.push({name:"b"}),T&&ae.push({name:"strike"}),O&&ae.push({name:"outline"}),R&&ae.push({name:"shadow"}),N&&ae.push({name:"u",properties:{rawMap:{val:N}}}),X&&ae.push({name:"vertAlign",properties:{rawMap:{val:X}}}),{name:"font",children:ae}};var Ll={getTemplate:function(l){return{name:"fonts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return ka_getTemplate(t)})}}};const za=Ll,Xl_getTemplate=function(l){var e=l.fgTheme,r=l.fgTint,o=l.fgRgb,s=l.bgRgb,h=l.bgIndexed,p={name:"patternFill",properties:{rawMap:{patternType:l.patternType}}};return(e||r||o)&&(p.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:o}}}]),(h||s)&&(p.children||(p.children=[]),p.children.push({name:"bgColor",properties:{rawMap:{indexed:h,rgb:s}}})),{name:"fill",children:[p]}};var Xa={getTemplate:function(l){return{name:"fills",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Xl_getTemplate(t)})}}};const ms=Xa;var Za={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},Is=["Dashed","DashDot","DashDotDot"],ea={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},jo={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},il={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},Fi=function(l){return null==l?l:("#"===l.charAt(0)&&(l=l.substr(1)),6===l.length?"FF"+l:l)},Qa=function(l,t){if(!l)return"thin";var e=function(l){switch(l){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),r=Za[l];return"Continuous"===l?e:"medium"===e&&-1!==Is.indexOf(r)?"medium"+r:r.charAt(0).toLowerCase()+r.substr(1)},Zl=function(l){return jo[l]||"general"},_o=function(l){return il[l]||void 0},ro=function(l){return{name:"color",properties:{rawMap:{rgb:Fi(l||"#000000")}}}},Uo={getTemplate:function(l){var t=l.left,e=l.right,r=l.top,o=l.bottom,s=l.diagonal,h=t?[ro(t.color)]:void 0,p=e?[ro(e.color)]:void 0,y=r?[ro(r.color)]:void 0,S=o?[ro(o.color)]:void 0,E=s?[ro(s.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:h},{name:"right",properties:{rawMap:{style:e&&e.style}},children:p},{name:"top",properties:{rawMap:{style:r&&r.style}},children:y},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:S},{name:"diagonal",properties:{rawMap:{style:s&&s.style}},children:E}]}}};const Ja=Uo;var ta={getTemplate:function(l){return{name:"borders",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Ja.getTemplate(t)})}}};const pa=ta;var al=function(l){var e=["Context","LeftToRight","RightToLeft"].indexOf(l);return Math.max(e,0)},zi={getTemplate:function(l){var t=l.horizontal,e=l.indent,r=l.readingOrder,o=l.rotate,s=l.shrinkToFit,h=l.vertical,p=l.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&Zl(t),indent:e,readingOrder:r&&al(r),textRotation:o,shrinkToFit:s,vertical:h&&_o(h),wrapText:p}}}}};const J=zi,Z_getTemplate=function(l){return{name:"protection",properties:{rawMap:{hidden:!0===l.hideFormula?1:0,locked:!1===l.protected?0:1}}}};var Re={getTemplate:function(l){var t=l.alignment,e=l.borderId,r=l.fillId,o=l.fontId,s=l.numFmtId,h=l.protection,p=l.xfId,y=[];return t&&y.push(J.getTemplate(t)),h&&y.push(Z_getTemplate(h)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:h?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:o?1:void 0,fontId:o,applyNumberFormat:s?1:void 0,numFmtId:s,xfId:p}},children:y.length?y:void 0}}};const Ot=Re;var tn={getTemplate:function(l){return{name:"cellStyleXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Ot.getTemplate(t)})}}};const gn=tn;var Xn={getTemplate:function(l){return{name:"cellXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Ot.getTemplate(t)})}}};const Di=Xn,Zr_getTemplate=function(l){return{name:"cellStyle",properties:{rawMap:{builtinId:l.builtinId,name:l.name,xfId:l.xfId}}}};var si={getTemplate:function(l){return{name:"cellStyles",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Zr_getTemplate(t)})}}};const Ji=si;var Ai,ee,$,B,Ce,un,Zn,Ar,wo,yi=function(){return yi=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},yi.apply(this,arguments)},Oa=function(l,t){return-1!==l.indexOf("mixedStyle")&&t>1&&(l+="_"+t),l},es=function(){Ai={base:0},ee=[],$=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],B=[{patternType:"none"},{patternType:"gray125"}],Ce=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],un=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],Zn=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],Ar=[{builtinId:0,name:"Normal",xfId:0}]},Jl=function(l){var t=l.alignment,e=l.borders,r=l.font,o=l.interior,s=l.numberFormat,h=l.protection,p=l.id,y=0,S=0,E=0,T=0;!p||(p=Oa(p,wo),null==Ai[p]&&(o&&(y=function(l){var t=function(l){return l?ea[l]||l:"none"}(l.pattern),e=Fi(l.color),r=Fi(l.patternColor),o=B.findIndex(function(s){return!(s.patternType!=t||s.fgRgb!=e||s.bgRgb!=r)});return-1===o&&(o=B.length,B.push({patternType:t,fgRgb:e,bgRgb:r})),o}(o)),e&&(S=function(l){var s,h,p,y,S,E,T,O,t=l.borderBottom,e=l.borderTop,r=l.borderLeft,o=l.borderRight;r&&(p=Qa(r.lineStyle,r.weight),T=Fi(r.color)),o&&(y=Qa(o.lineStyle,o.weight),O=Fi(o.color)),t&&(s=Qa(t.lineStyle,t.weight),S=Fi(t.color)),e&&(h=Qa(e.lineStyle,e.weight),E=Fi(e.color));var R=Ce.findIndex(function(N){var X=N.left,ae=N.right,le=N.top,de=N.bottom;if(!X&&(p||T)||!ae&&(y||O)||!le&&(h||E)||!de&&(s||S))return!1;var he=X||{},rt=ae||{},Gt=le||{},Sn=de||{};return!(he.style!=p||he.color!=T||rt.style!=y||rt.color!=O||Gt.style!=h||Gt.color!=E||Sn.style!=s||Sn.color!=S)});return-1===R&&(R=Ce.length,Ce.push({left:{style:p,color:T},right:{style:y,color:O},top:{style:h,color:E},bottom:{style:s,color:S},diagonal:{style:void 0,color:void 0}})),R}(e)),r&&(E=function(l){var t=l.fontName,e=void 0===t?"Calibri":t,r=l.color,o=l.size,s=l.bold,h=l.italic,p=l.outline,y=l.shadow,S=l.strikeThrough,E=l.underline,T=l.family,O=l.verticalAlign,R=e&&w._.utf8_encode(e),N=Fi(r),X=function(l){if(void 0!==l){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(l||"Automatic");return Math.max(e,0)}}(T),ae=E?E.toLocaleLowerCase():void 0,le=O?O.toLocaleLowerCase():void 0,de=$.findIndex(function(he){return!(he.fontName!=R||he.color!=N||he.size!=o||he.bold!=s||he.italic!=h||he.outline!=p||he.shadow!=y||he.strikeThrough!=S||he.underline!=ae||he.verticalAlign!=le||he.family!=X)});return-1===de&&(de=$.length,$.push({fontName:R,color:N,size:o,bold:s,italic:h,outline:p,shadow:y,strikeThrough:S,underline:ae,verticalAlign:le,family:null!=X?X.toString():void 0})),de}(r)),s&&(T=function(l){if(l=w._.utf8_encode(l),Be[l])return Be[l];var t=ee.findIndex(function(e){return e.formatCode===l});return-1===t?ee.push({formatCode:l,numFmtId:t=ee.length+164}):t=ee[t].numFmtId,t}(s.format)),Ai[p]=Zn.length,Zn.push({alignment:t,borderId:S||0,fillId:y||0,fontId:E||0,numFmtId:T||0,protection:h,xfId:0})))},ts={getTemplate:function(l){var t=Ls.getTemplate(ee),e=za.getTemplate($.map(function(y){return yi(yi({},y),{size:null!=y.size?y.size:l})})),r=ms.getTemplate(B),o=pa.getTemplate(Ce),s=gn.getTemplate(un),h=Di.getTemplate(Zn),p=Ji.getTemplate(Ar);return es(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,o,s,h,p,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},na=function(l,t){return Ai[Oa(l,t)]||0};const j=ts,q_getTemplate=function(l,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:l,sheetId:e,"r:id":"rId"+e}}}};var He={getTemplate:function(l){return{name:"sheets",children:l.map(function(t,e){return q_getTemplate(t,e)})}}};const _t=He;var nn={getTemplate:function(l){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[_t.getTemplate(l)]}}};const tr=nn;var re={getTemplate:function(l){var t=l.min,e=l.max,r=l.outlineLevel,o=l.s,s=l.width,h=l.hidden,p=l.bestFit,y=1,S="0";return s>1&&(y=function(l){return Math.ceil((l-12)/7+1)}(s),S="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:null!=r?r:void 0,width:y,style:o,hidden:h?"1":"0",bestFit:p?"1":"0",customWidth:S}}}}};const P=re;var K={getTemplate:function(l,t,e){var r=l.ref,o=l.data,s=l.styleId,h=o.type,p=o.value,y=h;"f"===h?y="str":h.charAt(0)===h.charAt(0).toUpperCase()&&(y=function(l){var t=l.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(h));var E,S={name:"c",properties:{rawMap:{r,t:"empty"===y?void 0:y,s:s?na(s,e):void 0}}};return"empty"===y?S:(E="str"===y&&"f"===h?[{name:"f",textNode:w._.escapeString(w._.utf8_encode(p))}]:"inlineStr"===y?[{name:"is",children:[{name:"t",textNode:w._.escapeString(w._.utf8_encode(p))}]}]:[{name:"v",textNode:p}],Object.assign({},S,{children:E}))}};const ge=K;var Ge=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},pt=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Ge(arguments[t]));return l},Ht=function(l){return""!==l.data.value||void 0!==l.styleId},Qt={getTemplate:function(l,t,e){var r=l.index,o=l.collapsed,s=l.hidden,h=l.height,p=l.s,y=l.cells,S=void 0===y?[]:y;return function(l,t){for(var e=[],r=0,o=0;o<l.length;o++)(s=l[o]).mergeAcross&&(e.push({pos:o,excelPos:r}),r+=s.mergeAcross),r++;if(e.length)for(o=e.length-1;o>=0;o--){for(var h=[],s=l[e[o].pos],p=1;p<=s.mergeAcross;p++)h.push({ref:""+ft(e[o].excelPos+1+p)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});h.length&&l.splice.apply(l,pt([e[o].pos+1,0],h))}}(S,t),{name:"row",properties:{rawMap:{r,collapsed:o,hidden:s?"1":"0",ht:h,customHeight:null!=h?"1":"0",s:p,customFormat:null!=p?"1":"0"}},children:S.filter(Ht).map(function(T,O){return ge.getTemplate(T,O,e)})}}};const Gn=Qt,mr_getTemplate=function(l){return{name:"mergeCell",properties:{rawMap:{ref:l}}}};var Dr=function(l){return!l||"Portrait"!==l&&"Landscape"!==l?"portrait":l.toLocaleLowerCase()},Nr=function(l){if(null==l)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(l);return-1===e?1:e+1},fa=function(l){return l.reduce(function(t,e){var r=function(l){return"Center"===l?"C":"Right"===l?"R":"L"}(e.position),o=function(l,t){return t&&(l+="&amp;&quot;",l+=t.fontName||"Calibri",l+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",l+="&quot;",t.size&&(l+="&amp;"+t.size),t.strikeThrough&&(l+="&amp;S"),t.underline&&(l+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(l+="&amp;K"+t.color.replace("#","").toUpperCase())),l}(t+"&amp;"+r,e.font);return""+o+w._.escapeString(function(l){return w._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,r){l=l.replace(e,r)}),l}(e.value))},"")},fi=function(l){var e=[];return["all","first","even"].forEach(function(r){var o=l[r],s="all"===r?"odd":r;!o||!o.header&&!o.footer||w._.iterateObject(o,function(h,p){var y=""+h.charAt(0).toUpperCase()+h.slice(1);p&&e.push({name:""+s+y,properties:{rawMap:{"xml:space":"preserve"}},textNode:fa(p)})})}),e},ys={getTemplate:function(l){var e=l.currentSheet,r=l.margins,o=void 0===r?{}:r,s=l.pageSetup,h=l.headerFooterConfig,p=l.worksheet.table,y=p.rows,S=p.columns,E=S&&S.length?function(l,t){var e=[],r=[];l.forEach(function(h,p){var E,y=h.cells,S=0;h.index=p+1,y.forEach(function(T,O){var R=O+S+1,N=ft(R),X=p+1;if(T.mergeAcross){var ae=ft(O+(S+=T.mergeAcross)+1);e.push(""+N+X+":"+ae+X)}t[R-1]||(t[R-1]={});var le=T.collapsibleRanges;le&&le.forEach(function(de){r.push([R+de[0],R+de[1]])}),(E=t[R-1]).min=R,E.max=R,T.ref=""+N+X})}),r.sort(function(h,p){return h[0]!==p[0]?h[0]-p[0]:p[1]-h[1]});var o=new Map,s=new Map;return r.filter(function(h){var p=h.toString();return!o.get(p)&&(o.set(p,!0),!0)}).forEach(function(h){var p=t.find(function(S){return S.min==h[0]&&S.max==h[1]}),y=s.get(h[0]);t.push({min:h[0],max:h[1],outlineLevel:y||1,width:(p||{width:100}).width}),s.set(h[0],(y||0)+1)}),e}(y,S):[],T=w._.compose(function(l){return function(t){return l.length&&t.push({name:"cols",children:l.map(function(e){return P.getTemplate(e)})}),t}}(S),function(l,t){return function(e){return l.length&&e.push({name:"sheetData",children:l.map(function(r,o){return Gn.getTemplate(r,o,t)})}),e}}(y,e+1),function(l){return function(t){return l.length&&t.push({name:"mergeCells",properties:{rawMap:{count:l.length}},children:l.map(function(e){return mr_getTemplate(e)})}),t}}(E),function(l){return function(t){var e=l.top,o=l.right,h=l.bottom,y=l.left,E=l.header,O=l.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===h?.75:h,footer:void 0===O?.3:O,header:void 0===E?.3:E,left:void 0===y?.7:y,right:void 0===o?.7:o,top:void 0===e?.75:e}}}),t}}(o),function(l){return function(t){return l&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:Dr(l.orientation),paperSize:Nr(l.pageSize)}}}),t}}(s),function(l){return function(t){return l?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=l.first?1:0,differentOddEven:null!=l.even?1:0}},children:fi(l)}),t):t}}(h),function(l){return function(t){return Fr.worksheetImages.get(l)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:T([])}}};const Xi=ys,ec_getTemplate=function(l){return{name:"Relationship",properties:{rawMap:{Id:l.Id,Type:l.Type,Target:l.Target}}}};var ur={getTemplate:function(l){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:l.map(function(e){return ec_getTemplate(e)})}}};const Sr=ur;var xr=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Fr=function(){function l(){}return l.createExcel=function(t,e,r,o,s){return this.addSheetName(e),function(l,t){1===(wo=t)&&es(),l.forEach(Jl)}(t,this.sheetNames.length),this.createWorksheet(e,r,o,s)},l.buildImageMap=function(t,e,r,o,s){var h=this.sheetNames.length,p=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(r)+1}));var y=t;if(function(l,t){var e=l.position,r=e.colSpan,o=e.column;if(l.width)if(r)for(var s=t.slice(o-1,o+r-1),h=0,p=0;p<s.length;p++){var y=s[p].getActualWidth();if(l.width<h+y){l.position.colSpan=p+1,l.totalWidth=l.width,l.width=l.totalWidth-h;break}h+=y}else l.totalWidth=l.width}(y,o),function(l,t){var e=l.position,r=e.rowSpan,o=e.row;if(l.height)if(r)for(var s=0,h=0,p=o;p<o+r;p++){var y=Nt(hr(p,t)||20);if(l.height<s+y){l.position.rowSpan=h+1,l.totalHeight=l.height,l.height=l.totalHeight-s;break}s+=y,h++}else l.totalHeight=l.height}(y,s),p){var S=p.find(function(E){return E.sheetId===h});S?S.image.push(y):p.push({sheetId:h,image:[y]})}else this.images.set(y.id,[{sheetId:h,image:[y]}]),this.workbookImageIds.set(y.id,{type:y.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(h,y)},l.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||this.worksheetImageIds.set(t,r=new Map);var o=this.worksheetImages.get(t);o?(o.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},l.addSheetName=function(t){for(var e=t.name,r="";-1!==this.sheetNames.indexOf(e+r);)if(""===r)r="_1";else{var o=parseInt(r.slice(1),10);r="_"+(o+1)}t.name+=r,this.sheetNames.push(t.name)},l.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},l.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=w.nPL.SINGLE_SHEET},l.createWorkbook=function(){return Ke(tr.getTemplate(this.sheetNames))},l.createStylesheet=function(t){return Ke(j.getTemplate(t))},l.createSharedStrings=function(){return Ke(vs.getTemplate(this.sharedStrings))},l.createCore=function(t){return Ke(Br.getTemplate(t))},l.createContentTypes=function(t){return Ke(so.getTemplate(t))},l.createRels=function(){var t=Sr.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return Ke(t)},l.createTheme=function(){return Ke(Tc_getTemplate())},l.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(o,s){return{Id:"rId"+(s+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(s+1)+".xml"}}),r=Sr.getTemplate(function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(xr(arguments[t]));return l}(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return Ke(r)},l.createDrawing=function(t){return Ke(to.getTemplate({sheetIndex:t}))},l.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),o=[];return r.forEach(function(s,h){o.push({Id:"rId"+(s.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(h).index+1)+"."+s.type})}),Ke(Sr.getTemplate(o))},l.createWorksheetDrawingRel=function(t){var e=Sr.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return Ke(e)},l.createWorksheet=function(t,e,r,o){return Ke(Xi.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:r,headerFooterConfig:o}))},l.sharedStrings=new Map,l.sheetNames=[],l.images=new Map,l.worksheetImages=new Map,l.workbookImageIds=new Map,l.worksheetImageIds=new Map,l.factoryMode=w.nPL.SINGLE_SHEET,l}(),Ta=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ko=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Ta(t,l),t.prototype.createExcel=function(e){var s=this.config;return Fr.createExcel(this.excelStyles,e,s.margins,s.pageSetup,s.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":w._.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,r,o){if(this.isFormula(o))return"f";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(e,r,o){if(this.config.addImageToCell){var s=this.config.addImageToCell(e,r,o);if(s)return Fr.buildImageMap(s.image,e,r,this.columnsToExport,this.config.rowHeight),s}},t.prototype.createCell=function(e,r,o){var s=this.getStyleById(e),h=this.getType(r,s,o)||r;return{styleId:s?e:void 0,data:{type:h,value:this.getCellValue(h,o)}}},t.prototype.createMergedCell=function(e,r,o,s){var h=null==o?"":o;return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:"s"===r?Fr.getStringPosition(h).toString():o},mergeAcross:s}},t.prototype.getCellValue=function(e,r){if(null==r)return Fr.getStringPosition("").toString();switch(e){case"s":return""===r?"":Fr.getStringPosition(r).toString();case"f":return r.slice(1);case"n":return Number(r).toString();default:return r}},t}(yn),Vi=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wi=function(){return Wi=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Wi.apply(this,arguments)},rs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},xc=function(l){var t=l.data,e=l.fontSize,r=void 0===e?11:e,o=l.author,s=void 0===o?"AG Grid":o,h=Fr.images.size>0;if(dr.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),h){dr.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var p=0;Fr.images.forEach(function(T){var O=T[0].image[0];dr.addFile("xl/media/image"+ ++p+"."+O.imageType,O.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void Fr.resetFactory();var y=t.length,S=0;return t.forEach(function(T,O){dr.addFile("xl/worksheets/sheet"+(O+1)+".xml",T),h&&Fr.worksheetImages.get(O)&&Il(O,S++)}),dr.addFile("xl/workbook.xml",Fr.createWorkbook()),dr.addFile("xl/styles.xml",Fr.createStylesheet(r)),dr.addFile("xl/sharedStrings.xml",Fr.createSharedStrings()),dr.addFile("xl/theme/theme1.xml",Fr.createTheme()),dr.addFile("xl/_rels/workbook.xml.rels",Fr.createWorkbookRels(y)),dr.addFile("docProps/core.xml",Fr.createCore(s)),dr.addFile("[Content_Types].xml",Fr.createContentTypes(y)),dr.addFile("_rels/.rels",Fr.createRels()),Fr.resetFactory(),dr.getContent(l.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Il=function(l,t){var e="xl/drawings",r=e+"/drawing"+(t+1)+".xml",s="xl/worksheets/_rels/sheet"+(l+1)+".xml.rels";dr.addFile(e+"/_rels/drawing"+(t+1)+".xml.rels",Fr.createDrawingRel(l)),dr.addFile(r,Fr.createDrawing(l)),dr.addFile(s,Fr.createWorksheetDrawingRel(t))},xa=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.exportMode="xlsx",e}return Vi(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},r,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),l.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),o=this.getData(r),h=this.packageFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType});return h&&We.download(this.getFileName(r.fileName),h),o},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),o=this.getData(r);return e&&"xml"===e.exportMode?o:this.packageFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType})},t.prototype.setFactoryMode=function(e,r){void 0===r&&(r="xlsx"),("xlsx"===r?Fr:Bt).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?Fr:Bt).factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getMultipleSheetsAsExcel=function(e){return xc(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(l){var t=l.fileName,e=void 0===t?"export.xlsx":t,r=xc(l);r&&We.download(e,r)}(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var r=this,o=r.columnModel,s=r.valueService,h=r.gridOptionsWrapper,p="xlsx"===this.getExportMode(),y="ag-grid";null!=e.sheetName&&(y=w._.utf8_encode(e.sheetName.toString().substr(0,31)));var S=Wi(Wi({},e),{sheetName:y,columnModel:o,valueService:s,gridOptionsWrapper:h,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(p?ko:sr)(S)},t.prototype.styleLinker=function(e,r,o,s,h){if(e===Vt.HEADER)return["header"];if(e===Vt.HEADER_GROUPING)return["header","headerGroup"];var p=this.gridOptions.excelStyles,y=["cell"];if(!p||!p.length)return y;var S=p.map(function(E){return E.id});return this.stylingService.processAllCellClasses(s.getColDef(),{value:o,data:h.data,node:h,colDef:s.getColDef(),rowIndex:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},function(E){S.indexOf(E)>-1&&y.push(E)}),y.sort(function(E,T){return S.indexOf(E)<S.indexOf(T)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):xc(e)},rs([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),rs([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),rs([(0,w.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),rs([(0,w.fsG)("stylingService")],t.prototype,"stylingService",void 0),rs([(0,w.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),rs([(0,w.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),rs([w.NqP],t.prototype,"postConstruct",null),rs([(0,w.Vu6)("excelCreator")],t)}($e),Ns={moduleName:w.GXE.ExcelExportModule,beans:[xa,fn,Tn],dependantModules:[mn,$t]},ll=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xo=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},xh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},is=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return ll(t,l),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(r){e.gridCtrl=r.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){w._.doOnce(function(){console.warn(o),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(r){return r.focus({preventScroll:!0})},function(r){e.processClipboardData(r.value)})},t.prototype.processClipboardData=function(e){var r=this;if(null!=e){var o=w._.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),s=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();s&&(o=s({data:o})),null!=o&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(o),this.doPasteOperation(function(p,y,S,E){r.rangeService&&r.rangeService.isMoreThanOneCell()&&!r.hasOnlyOneValueToPaste(o)?r.pasteIntoActiveRange(o,p,y,E):r.pasteStartingFromFocusedCell(o,p,y,S,E)}))}},t.prototype.doPasteOperation=function(e){var h,r=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),s="clipboard";if(this.eventService.dispatchEvent({type:w.zW2.EVENT_PASTE_START,api:r,columnApi:o,source:s}),this.clientSideRowModel){var p=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();h=new w.Dkq(p,this.clientSideRowModel.getRootNode())}var y={},S=[],E=this.focusService.getFocusedCell();e(y,S,E,h),h&&this.clientSideRowModel.doAggregate(h),this.rowRenderer.refreshCells(),this.dispatchFlashCells(y),this.fireRowChanged(S),E&&this.focusService.setFocusedCell(E.rowIndex,E.column,E.rowPinned,!0),this.eventService.dispatchEvent({type:w.zW2.EVENT_PASTE_END,api:r,columnApi:o,source:s})},t.prototype.pasteIntoActiveRange=function(e,r,o,s){var h=this,p=this.getRangeSize()%e.length!=0,y=0,S=0;this.iterateActiveRanges(!1,function(T,O,R,N){if(N-y>=e.length){if(p)return;y+=S,S=0}var ae=e[N-y];o.push(O);var le=h.gridOptionsWrapper.getProcessCellFromClipboardFunc();R.forEach(function(de,he){if(de.isCellEditable(O)&&!de.isSuppressPaste(O)){he>=ae.length&&(he%=ae.length);var Ue=h.processCell(O,de,ae[he],w.gTE.EXPORT_TYPE_DRAG_COPY,le);O.setDataValue(de,Ue,w.gTE.SOURCE_PASTE),s&&s.addParentNode(O.parent,[de]);var st=h.cellPositionUtils.createIdFromValues(T.rowIndex,de,T.rowPinned);r[st]=!0}}),S++})},t.prototype.pasteStartingFromFocusedCell=function(e,r,o,s,h){if(s){var p={rowIndex:s.rowIndex,rowPinned:s.rowPinned},y=this.columnModel.getDisplayedColumnsStartingAt(s.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,o,r,h):this.pasteMultipleValues(e,p,o,y,r,w.gTE.EXPORT_TYPE_CLIPBOARD,h)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,r,o,s){var h=this,p=e[0][0];this.iterateActiveRanges(!1,function(S,E,T){r.push(E),T.forEach(function(O){return h.updateCellValue(E,O,p,o,w.gTE.EXPORT_TYPE_CLIPBOARD,s)})})},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var r=[];this.doPasteOperation(function(s,h,p,y){var S=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),E=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(O,R,N){r.length?(h.push(R),N.forEach(function(X,ae){if(X.isCellEditable(R)&&!X.isSuppressPaste(R)){var le=e.processCell(R,X,r[ae],w.gTE.EXPORT_TYPE_DRAG_COPY,E);R.setDataValue(X,le,w.gTE.SOURCE_PASTE),y&&y.addParentNode(R.parent,[X]);var de=e.cellPositionUtils.createIdFromValues(O.rowIndex,X,O.rowPinned);s[de]=!0}})):N.forEach(function(X){var ae=e.processCell(R,X,e.valueService.getValue(X,R),w.gTE.EXPORT_TYPE_DRAG_COPY,S);r.push(ae)})})})}},t.prototype.removeLastLineIfBlank=function(e){var r=w._.last(e);r&&1===r.length&&""===r[0]&&w._.removeFromArray(e,r)},t.prototype.fireRowChanged=function(e){var r=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(o){var s={type:w.zW2.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned,context:r.gridOptionsWrapper.getContext(),api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi()};r.eventService.dispatchEvent(s)})},t.prototype.pasteMultipleValues=function(e,r,o,s,h,p,y){var S=this,E=r,T=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(R){var N=function(){for(;;){if(!E)return null;var R=S.rowPositionUtils.getRowNode(E);if(E=S.cellNavigationService.getRowBelow({rowPinned:E.rowPinned,rowIndex:E.rowIndex}),null==R)return null;if(!(R.detail||R.footer||T&&R.group))return R}}();!N||(R.forEach(function(X,ae){return S.updateCellValue(N,s[ae],X,h,p,y)}),o.push(N))})},t.prototype.updateCellValue=function(e,r,o,s,h,p){if(e&&r&&r.isCellEditable(e)&&!r.isSuppressPaste(e)){var y=this.processCell(e,r,o,h,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(r,y,w.gTE.SOURCE_PASTE),s[this.cellPositionUtils.createIdFromValues(e.rowIndex,r,e.rowPinned)]=!0,p&&p.addParentNode(e.parent,[r])}},t.prototype.copyToClipboard=function(e){void 0===e&&(e={});var r=e.includeHeaders,o=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+r),null==r&&(r=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==o&&(o=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var s={includeHeaders:r,includeGroupHeaders:o},h=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(s):h?this.copySelectedRowsToClipboard(s):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(s):this.copySelectedRangeToClipboard(s)},t.prototype.iterateActiveRanges=function(e,r,o){var s=this;if(this.rangeService&&!this.rangeService.isEmpty()){var h=this.rangeService.getCellRanges();e?this.iterateActiveRange(h[0],r,o,!0):h.forEach(function(p,y){return s.iterateActiveRange(p,r,o,y===h.length-1)})}},t.prototype.iterateActiveRange=function(e,r,o,s){if(this.rangeService){var h=this.rangeService.getRangeStartRow(e),p=this.rangeService.getRangeEndRow(e);o&&e.columns&&o(e.columns);for(var y=0,S=!1;!S&&null!=h;){var E=this.rowPositionUtils.getRowNode(h);S=this.rowPositionUtils.sameRow(h,p),r(h,E,e.columns,y++,S&&s),h=this.cellNavigationService.getRowBelow(h)}}},t.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),h=o.cellsToFlash;this.copyDataToClipboard(o.data),this.dispatchFlashCells(h)}},t.prototype.buildDataFromMergedRanges=function(e){var r=this,o=new Set,s=this.rangeService.getCellRanges(),h=[],p={};s.forEach(function(T){T.columns.forEach(function(X){return o.add(X)});var O=r.getRangeRowPositionsAndCellsToFlash(T),N=O.cellsToFlash;h.push.apply(h,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(xh(arguments[t]));return l}(O.rowPositions)),Object.assign(p,N)});var y=this.columnModel.getAllDisplayedColumns(),S=Array.from(o);return S.sort(function(T,O){return y.indexOf(T)-y.indexOf(O)}),{data:this.buildExportParams({columns:S,rowPositions:h,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:p}},t.prototype.buildDataFromRanges=function(e){var r=this,o=this.rangeService.getCellRanges(),s=[],h={};return o.forEach(function(p){var y=r.getRangeRowPositionsAndCellsToFlash(p),S=y.rowPositions;Object.assign(h,y.cellsToFlash),s.push(r.buildExportParams({columns:p.columns,rowPositions:S,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:s.join("\n"),cellsToFlash:h}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var r=this,o=[],s={},h=this.rangeService.getRangeStartRow(e),p=this.rangeService.getRangeEndRow(e),y=h;y&&(o.push(y),e.columns.forEach(function(S){var E=r.cellPositionUtils.createIdFromValues(y.rowIndex,S,y.rowPinned);s[E]=!0}),!this.rowPositionUtils.sameRow(y,p));)y=this.cellNavigationService.getRowBelow(y);return{rowPositions:o,cellsToFlash:s}},t.prototype.copyFocusedCellToClipboard=function(e){var r;void 0===e&&(e={});var o=this.focusService.getFocusedCell();if(null!=o){var s=this.cellPositionUtils.createId(o),y=this.buildExportParams({columns:[o.column],rowPositions:[{rowPinned:o.rowPinned,rowIndex:o.rowIndex}],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(y),this.dispatchFlashCells(((r={})[s]=!0,r))}},t.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var h=this.buildExportParams({columns:e.columnKeys,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(h)},t.prototype.buildExportParams=function(e){var o=e.rowPositions,s=e.includeHeaders,p=e.includeGroupHeaders,S={columnKeys:e.columns,rowNodes:o,skipColumnHeaders:!(void 0!==s&&s),skipColumnGroupHeaders:!(void 0!==p&&p),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!o,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(E){return E.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(S)},t.prototype.dispatchFlashCells=function(e){var r=this;window.setTimeout(function(){r.eventService.dispatchEvent({type:w.zW2.EVENT_FLASH_CELLS,cells:e,api:r.gridApi,columnApi:r.columnApi})},0)},t.prototype.processCell=function(e,r,o,s,h){return h?h({column:r,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:s}):o},t.prototype.copyDataToClipboard=function(e){var r=this,o=this.gridOptionsWrapper.getSendToClipboardFunc();o?o({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(h){w._.doOnce(function(){console.warn(h),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),r.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var r=this;this.executeOnTempElement(function(o){var s=r.gridOptionsWrapper.getDocument(),h=s.activeElement;o.value=e||" ",o.select(),o.focus({preventScroll:!0}),s.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=h&&null!=h.focus&&h.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,r){var o=this.gridOptionsWrapper.getDocument(),s=o.createElement("textarea");s.style.width="1px",s.style.height="1px",s.style.top=o.documentElement.scrollTop+"px",s.style.left=o.documentElement.scrollLeft+"px",s.style.position="absolute",s.style.opacity="0";var h=this.gridCtrl.getGui();h.appendChild(s);try{e(s)}catch(p){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}r?window.setTimeout(function(){r(s),h.removeChild(s)},100):h.removeChild(s)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),r=0,o=0;return e.length>0&&(r=this.rangeService.getRangeStartRow(e[0]).rowIndex,o=this.rangeService.getRangeEndRow(e[0]).rowIndex),r-o+1},xo([(0,w.fsG)("csvCreator")],t.prototype,"csvCreator",void 0),xo([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),xo([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),xo([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),xo([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),xo([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),xo([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),xo([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),xo([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),xo([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),xo([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),xo([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),xo([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),xo([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),xo([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),xo([w.NqP],t.prototype,"init",null),xo([(0,w.Vu6)("clipboardService")],t)}(w.AS9),jp={moduleName:w.GXE.ClipboardModule,beans:[is],dependantModules:[$t,mn]},Zc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ks=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ma=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(Ma||(Ma={})),Ma))(),Up=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Zc(t,l),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(Ma.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=w._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=w._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=w._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search..."));var h=this.columnModel.getAllGridColumns().some(function(p){return p.getOriginalParent()&&p.isFilterAllowed()});w._.setDisplayed(this.eFilterTextField.getGui(),e),w._.setDisplayed(this.eExpand,r&&h)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=w._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===Ma.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,w._.setDisplayed(this.eExpandChecked,this.currentExpandState===Ma.EXPANDED),w._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Ma.COLLAPSED),w._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Ma.INDETERMINATE)},ks([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),ks([(0,w.cqo)("eExpand")],t.prototype,"eExpand",void 0),ks([(0,w.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),ks([w.$j7],t.prototype,"preConstruct",null),ks([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),V=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},k=function(l){function t(e){void 0===e&&(e=!1);var r=l.call(this,t.TEMPLATE)||this;return r.expanded=!1,r.hideHeader=e,r}return W(t,l),t.prototype.postConstruct=function(){this.eExpandChecked=w._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=w._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(o){o.key===w.VDZ.ENTER&&r.toggleExpanded()}),this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,w.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,o){if(null!=r){var s=w._.createIconNoSpan(e,this.gridOptionsWrapper,o);r.appendChild(s)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:w.sgG.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var r,e=this;if(!this.expanded){this.expanded=!0,w._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var o=w._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),s=null===(r=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===r?void 0:r.filterPromise;s&&s.then(function(h){e.underlyingFilter=h,h&&(o.appendChild(h.getGui()),e.agFilterToolPanelBody.appendChild(o),h.afterGuiAttached&&h.afterGuiAttached({container:"toolPanel"}))}),w._.setDisplayed(this.eExpandChecked,!0),w._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){!this.expanded||(this.expanded=!1,w._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),w._.setDisplayed(this.eExpandChecked,!1),w._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;!e||"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&(!this.expanded||this.collapse())},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',V([(0,w.cqo)("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),V([(0,w.cqo)("eFilterName")],t.prototype,"eFilterName",void 0),V([(0,w.cqo)("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),V([(0,w.cqo)("eFilterIcon")],t.prototype,"eFilterIcon",void 0),V([(0,w.cqo)("eExpand")],t.prototype,"eExpand",void 0),V([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),V([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),V([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),te=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Te=function(l){function t(e,r,o,s,h){var p=l.call(this)||this;return p.columnGroup=e,p.childFilterComps=r,p.depth=s,p.expandedCallback=o,p.showingColumn=h,p}return Q(t,l),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var r=function(){var o=e.columnGroup.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof w.KTm},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof k&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.expand()})},o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.collapse()})};this.addManagedListener(this.filterGroupComp,w.H1u.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,w.H1u.EVENT_COLLAPSED,o)},t.prototype.getColumns=function(){return this.columnGroup instanceof w.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,w.sgG.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof w.KTm||this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(o){return o.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof w.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),w._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',te([(0,w.cqo)("filterGroupComp")],t.prototype,"filterGroupComp",void 0),te([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),te([w.$j7],t.prototype,"preConstruct",null),te([w.NqP],t.prototype,"init",null),t}(w.wA2),at=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yt=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hn=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return at(t,l),t.prototype.init=function(e){var r=this;this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};w._.mergeDeep(o,e),this.params=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,w.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(s){"filters"===s.source&&r.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var r=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(r,0);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach(function(s){return e.appendChild(s)}),this.setFirstAndLastVisible(0,o-1)),w._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var r=this;this.destroyFilters();var o=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(o,0);var s=this.filterGroupComps.length;s&&(this.filterGroupComps.forEach(function(h){return r.appendChild(h)}),this.setFirstAndLastVisible(0,s-1)),w._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,r){var o=this;return w._.flatten(e.map(function(s){if(s instanceof w.KTm)return w._.flatten(o.recursivelyAddFilterGroupComps(s,r));var h=s;if(!o.shouldDisplayFilter(h))return[];var y=new k(0===r);if(o.getContext().createBean(y),y.setColumn(h),r>0)return y;var S=o.createBean(new Te(h,[y],o.onGroupExpanded.bind(o),r,!0));return S.addCssClassToTitleBar("ag-filter-toolpanel-header"),S.collapse(),S}))},t.prototype.recursivelyAddFilterGroupComps=function(e,r){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var s=e.isPadding()?r:r+1,h=w._.flatten(this.recursivelyAddComps(e.getChildren(),s));if(e.isPadding())return h;var p=new Te(e,h,this.onGroupExpanded.bind(this),r,!1);return this.getContext().createBean(p),p.addCssClassToTitleBar("ag-filter-toolpanel-header"),[p]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(o){return o instanceof w.KTm?r.filtersExistInChildren(o.getChildren()):r.shouldDisplayFilter(o)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var o=[],s=function(p){var y=p.getFilterGroupId();(!r||w._.includes(r,y))&&(e&&p.isColumnGroup()?p.expand():p.collapse(),o.push(y)),p.getChildren().forEach(function(E){E instanceof Te&&s(E)})};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),r){var h=r.filter(function(p){return o.indexOf(p)<0});h.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",h)}},t.prototype.expandFilters=function(e,r){var o=[],s=function(p){if(p instanceof Te){var y=!1;return p.getChildren().forEach(function(T){s(T)&&(e?(p.expand(),y=!0):p.isColumnGroup()||p.collapse())}),y}var S=p.getColumn().getColId(),E=!r||w._.includes(r,S);return E&&(e?p.expand():p.collapse(),o.push(S)),E};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),r){var h=r.filter(function(p){return o.indexOf(p)<0});h.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",h)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,r=0,o=function(h){!h.isColumnGroup()||(h.isExpanded()?e++:r++,h.getChildren().forEach(function(p){p instanceof Te&&o(p)}))};this.filterGroupComps.forEach(o),this.dispatchEvent({type:"groupExpanded",state:e>0&&r>0?Ma.INDETERMINATE:r>0?Ma.COLLAPSED:Ma.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=w._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var s,h,r=function(p){return!w._.exists(e)||-1!==p.toLowerCase().indexOf(e)},o=function(p,y){if(!(p instanceof Te))return r(p.getColumnFilterName()||"");var S=p.getChildren(),E=r(p.getFilterGroupName()),T=y||E;if(T){p.hideGroup(!1);for(var O=0;O<S.length;O++)o(S[O],T),p.hideGroupItem(!1,O);return!0}var R=!1;return S.forEach(function(N,X){var ae=o(N,y);p.hideGroupItem(!ae,X),ae&&(R=!0)}),p.hideGroup(!R),R};this.filterGroupComps.forEach(function(p,y){o(p,!1),void 0===s?p.containsCssClass("ag-hidden")||(s=y,h=y):!p.containsCssClass("ag-hidden")&&h!==y&&(h=y)}),this.setFirstAndLastVisible(s,h)},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(o,s){o.removeCssClass("ag-first-group-visible"),o.removeCssClass("ag-last-group-visible"),s===e&&o.addCssClass("ag-first-group-visible"),s===r&&o.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),w._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',yt([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),yt([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),yt([(0,w.fsG)("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),yt([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(w.wA2),ir=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ti=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},yr=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return ir(t,l),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(h){return h()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var r={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};w._.mergeDeep(r,e),this.params=r,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',ti([(0,w.cqo)("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),ti([(0,w.cqo)("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),ti([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),ti([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(w.wA2),ji=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Li=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},So=function(l){function t(){var e=l.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return ji(t,l),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width=o+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},Li([(0,w.fsG)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Li([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),io=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Mc=function(l){function t(e){var r=l.call(this)||this;return r.toolPanelDef=e,r}return io(t,l),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",w._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(r.labelKey,r.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",tc([(0,w.cqo)("eToggleButton")],t.prototype,"eToggleButton",void 0),tc([(0,w.cqo)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),tc([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Qc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Yp=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return Qc(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===w.VDZ.TAB&&e.shiftKey){var r=w._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,o=this.createBean(new Mc(e));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(Mc.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),w._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',nc([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),nc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),nc([w.NqP],t.prototype,"postConstruct",null),nc([w.FXL],t.prototype,"clearButtons",null),t}(w.wA2),Sd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ph=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},S1=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return Sd(t,l),t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=new So;this.getContext().createBean(r),r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var r=e.id,o=e.minWidth,s=e.maxWidth,h=e.width;this.toolPanelId=r,this.width=h;var p={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},S=this.userComponentFactory.getToolPanelCompDetails(e,p).newAgStackInstance();null!=S?(S.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=s&&this.resizeBar.setMaxWidth(s)):console.warn("AG Grid: error processing tool panel component "+r+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsWrapper.isEnableRtl(),o="left"===e;this.resizeBar.setInverted(r?o:!o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Ph([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ph([w.NqP],t.prototype,"setupResize",null),t}(w.wA2),b1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ho=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return b1(t,l),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(Yp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new w.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var o=this.focusService,s=this.sideBarButtonsComp,h=this.getGui(),p=s.getGui(),S=this.gridOptionsWrapper.getDocument().activeElement,E=h.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(E)if(p.contains(S))o.focusInto(E,e.shiftKey)&&e.preventDefault();else if(!o.isFocusUnderManagedComponent(E)&&e.shiftKey){var T=o.findFocusableElements(E)[0];if(this.gridOptionsWrapper.getDocument().activeElement===T){var R=p.querySelector(".ag-selected button");R&&(e.preventDefault(),R.focus())}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(r.activeElement)){var o=this.sideBarButtonsComp.getGui(),s=Array.prototype.slice.call(o.querySelectorAll(".ag-side-button")),h=r.activeElement,p=s.findIndex(function(E){return E.contains(h)}),y=null;switch(e.key){case w.VDZ.LEFT:case w.VDZ.UP:y=Math.max(0,p-1);break;case w.VDZ.RIGHT:case w.VDZ.DOWN:y=Math.min(p+1,s.length-1)}if(null!==y){var S=s[y].querySelector("button");S&&(S.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,o=this.openedItem();this.openToolPanel(o===r?void 0:r)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),r=!!e&&!!e.toolPanels;if(r){this.setDisplayed(r&&!e.hiddenByDefault);var s=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(s),this.setupToolPanels(s),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var r="left"===e,o=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(s){s.setResizerSizerSide(o)}),this},t.prototype.setupToolPanels=function(e){var r=this;e.forEach(function(o){if(null!=o.id){if("agColumnsToolPanel"===o.toolPanel&&!w.O3h.assertRegistered(w.GXE.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===o.toolPanel&&!w.O3h.assertRegistered(w.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var h=new S1;r.getContext().createBean(h),h.setToolPanelDef(o),h.setDisplayed(!1),r.getGui().appendChild(h.getGui()),r.toolPanelWrappers.push(h)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var r=this.openedItem();r!==e&&(this.toolPanelWrappers.forEach(function(h){var p=e===h.getToolPanelId();h.setDisplayed(p)}),r!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(o){return o.getToolPanelId()===e})[0];if(r)return r.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var r={type:w.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(r)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',Nl([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Nl([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),Nl([(0,w.cqo)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),Nl([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),bd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ed=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&void 0!==r.children},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return bd(t,l),t.prototype.createColumnTree=function(e){var r=this,o=[],s=function(p,y){if(r.isColGroupDef(p)){var S=p,T=new w.KTm(S,void 0!==S.groupId?S.groupId:S.headerName,!1,y),O=[];return S.children.forEach(function(ae){var le=s(ae,y+1);le&&O.push(le)}),T.setChildren(O),T}var R=p,X=r.columnModel.getPrimaryColumn(R.colId?R.colId:R.field);return X||o.push(R),X},h=[];return e.forEach(function(p){var y=s(p,0);y&&h.push(y)}),o.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",o),h},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees();e(this.mergeLeafPathTrees(r))},t.prototype.getLeafPathTrees=function(){var e=function(s,h){var p;if(s instanceof w.KTm)if(s.isPadding())p=h;else{var y=Object.assign({},s.getColGroupDef());y.groupId=s.getGroupId(),y.children=[h],p=y}else{var S=Object.assign({},s.getColDef());S.colId=s.getColId(),p=S}var E=s.getOriginalParent();return E?e(E,p):p};return this.columnModel.getAllGridColumns().filter(function(s){var h=s.getColDef();return s.isPrimary()&&!h.showRowGroup}).map(function(s){return e(s,s.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,h=function(T,O){if(!r.isColGroupDef(O))return T;var R=T,N=O;return N.children&&N.groupId&&r.addChildrenToGroup(R,N.groupId,N.children[0])||N.children.forEach(function(ae){return h(R,ae)}),R},p=[],y=1;y<=e.length;y++){var S=e[y-1],E=e[y];O=E,r.isColGroupDef(T=S)&&r.isColGroupDef(O)&&r.getId(T)===r.getId(O)?e[y]=h(S,E):p.push(S)}var T,O;return p},t.prototype.addChildrenToGroup=function(e,r,o){var s=this;if(!this.isColGroupDef(e))return!0;var T,O,R,N,X,ae,p=e,y=o;if(O=y,R=(T=p).children.map(s.getId),N=w._.includes(R,s.getId(O)),ae=(X=w._.last(T.children))&&s.getId(X)!==s.getId(O),N&&ae)return p.children.push(y),!0;if(p.groupId===r){var S=p.children.map(this.getId);if(!w._.includes(S,this.getId(y)))return p.children.push(y),!0}return p.children.forEach(function(T){return s.addChildrenToGroup(T,r,o)}),!1},Pc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Pc([(0,w.Vu6)("toolPanelColDefService")],t)}(w.AS9),Cs={moduleName:w.GXE.SideBarModule,beans:[Ed],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:So},{componentName:"AgSideBar",componentClass:ho},{componentName:"AgSideBarButtons",componentClass:Yp}],dependantModules:[$t]},os={moduleName:w.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:Up},{componentName:"AgFiltersToolPanelList",componentClass:hn}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:yr}],dependantModules:[Cs,$t]},G3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mo=function(){return Mo=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Mo.apply(this,arguments)},Dd=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return G3(t,l),t.prototype.init=function(e,r){var o=this;this.params=r,this.comp=e,null!=r.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(r.node.parent,w.Fxk.EVENT_DATA_CHANGED,function(){o.needRefresh=!0}))},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),o=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(o,!0)},t.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(w._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),r=Mo({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)}},t.prototype.registerDetailWithMaster=function(e,r){var o=this.params.node.id,s=this.params.api,h={id:o,api:e,columnApi:r},p=this.params.node;s.addDetailGridInfo(o,h),p.detailGridInfo=h,this.addDestroyFunc(function(){p.detailGridInfo===h&&(s.removeDetailGridInfo(o),p.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var r=this.loadRowDataVersion,o=this.params.getDetailRowData;o?o({node:this.params.node,data:this.params.node.data,successCallback:function(p){e.loadRowDataVersion===r&&e.comp.setRowData(p)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("environment")],t.prototype,"environment",void 0),t}(w.AS9),cl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),B3=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return cl(t,l),t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(s,h){return r.addOrRemoveCssClass(s,h)},addOrRemoveDetailGridCssClass:function(s,h){return r.eDetailGrid.classList.toggle(s,h)},setDetailGrid:function(s){return r.setDetailGrid(s)},setRowData:function(s){return r.setRowData(s)}};this.ctrl=this.createManagedBean(new Dd),this.ctrl.init(o,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var r=function(){e.setTemplate(t.TEMPLATE)};if(w._.missing(this.params.template))r();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var s=(0,this.params.template)(this.params);this.setTemplate(s)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var r=this.context.getBean("agGridReact"),o=r?w._.cloneObject(r):void 0,s=this.context.getBean("frameworkComponentWrapper"),h=this.getFrameworkOverrides();new w.rjZ(this.eDetailGrid,e,{$scope:this.params.$scope,$compile:this.params.$compile,frameworkOverrides:h,providedBeanInstances:{agGridReact:o,frameworkComponentWrapper:s}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.cqo)("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(w.wA2),gv={moduleName:w.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:B3}],controllers:[{controllerName:"detailCellRenderer",controllerClass:Dd}],dependantModules:[$t]},W3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Va=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},di=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Yo=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(di(arguments[t]));return l},Od=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return W3(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new w.Cvn({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return r.getScrollFeature().setVerticalScrollPosition(o)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(o){return r.getScrollFeature().setHorizontalScrollPosition(o)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==w.gTE.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(r){var o=r.columns;r.columns=r.columns.filter(function(h){return h.isVisible()}),!w._.areEqual(o,r.columns)&&e.dispatchChangedEvent(!1,!0,r.id)})},t.prototype.refreshLastRangeStart=function(){var e=w._.last(this.cellRanges);!e||this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var o=this.columnModel.getAllDisplayedColumns(),s=r.map(function(h){return o.indexOf(h)}).sort(function(h,p){return h-p});return w._.last(s)-s[0]+1===r.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?w.gTE.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount();return r>0?{rowIndex:r-1,rowPinned:w.gTE.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(void 0===r&&(r=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var o=this.calculateColumnsBetween(e.column,e.column);if(o){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!r||w._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var p,h={rowIndex:e.rowIndex,rowPinned:e.rowPinned},y=0;y<this.cellRanges.length;y++){var S=this.cellRanges[y];if(S.columns&&1===S.columns.length&&S.columns[0]===e.column&&this.rowPositionUtils.sameRow(h,S.startRow)&&this.rowPositionUtils.sameRow(h,S.endRow)){p=S;break}}p?w._.last(this.cellRanges)!==p&&(w._.removeFromArray(this.cellRanges,p),this.cellRanges.push(p)):this.cellRanges.push(p={startRow:h,endRow:h,columns:o,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0,p.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var r=w._.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,o){void 0===o&&(o=!1);var h=this.calculateColumnsBetween(e.startColumn,r.column);!h||this.isLastCellOfRange(e,r)||(e.columns=h,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},o||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,o=e.columns,s=function(T,O){var R=e.columns.filter(function(N){return N!==T});T?(e.startColumn=T,e.columns=O?Yo([T],R):Yo(R,[T])):e.columns=R},h=this.getRangeEdgeColumns(e),p=h.left,y=h.right;r===o[0]&&r!==p?s(p,!0):r===w._.last(o)&&r===y&&s(y,!1)},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(s){return r.indexOf(s)}).filter(function(s){return s>-1}).sort(function(s,h){return s-h});return{left:r[o[0]],right:r[w._.last(o)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var r=w._.last(this.cellRanges),o=this.newestRangeStartCell,s=r.columns[0],h=w._.last(r.columns),T=this.cellNavigationService.getNextCellToFocus(e,{column:o.column===s?h:s,rowIndex:r.endRow.rowIndex,rowPinned:r.endRow.rowPinned});if(T)return this.setCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:T.rowIndex,rowEndPinned:T.rowPinned,columnStart:o.column,columnEnd:T.column}),T}},t.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;w._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(o){o.columns&&o.startRow&&r.setNewestRangeStartCell({rowIndex:o.startRow.rowIndex,rowPinned:o.startRow.rowPinned,column:o.columns[0]}),r.cellRanges.push(o)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.createCellRangeFromCellRangeParams=function(e){var o,r=this;if(e.columns)o=e.columns.map(function(S){return r.columnModel.getColumnWithValidation(S)}).filter(function(S){return S});else{var s=this.columnModel.getColumnWithValidation(e.columnStart),h=this.columnModel.getColumnWithValidation(e.columnEnd);if(!s||!h)return;o=this.calculateColumnsBetween(s,h)}if(o)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:o,startColumn:o[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.columns[0]}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(1!==e)return 0!==e;var r=this.cellRanges[0],o=this.getRangeStartRow(r),s=this.getRangeEndRow(r);return o.rowPinned!==s.rowPinned||o.rowIndex!==s.rowIndex||1!==r.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,r,p,o=this,s=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(O){for(var R=o.getRangeStartRow(O),N=o.getRangeEndRow(O),X=R,ae=function(){var de=(X.rowPinned||"normal")+"_"+X.rowIndex,he=s.get(de),Ue=O.columns.map(function(rt){return rt.getId()});if(he){var st=Ue.filter(function(rt){return-1===he.indexOf(rt)});he.push.apply(he,Yo(st))}else s.set(de,Ue);if(o.rowPositionUtils.sameRow(X,N))return"break";X=o.cellNavigationService.getRowBelow(X)};X&&"break"!==ae(););});try{for(var y=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.values()),S=y.next();!S.done;S=y.next()){var T=S.value.sort().join();if(void 0!==p){if(p!==T)return!1}else p=T}}catch(O){e={error:O}}finally{try{S&&!S.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}return!0},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var o=null!==r.columns&&w._.includes(r.columns,e.column),s=this.isRowInRange(e.rowIndex,e.rowPinned,r);return o&&s},t.prototype.isLastCellOfRange=function(e,r){var o=e.startRow,s=e.endRow,h=this.rowPositionUtils.before(o,s)?s:o,p=r.rowIndex===h.rowIndex&&r.rowPinned===h.rowPinned,y=e.columns[0],S=w._.last(e.columns);return r.column===(e.startColumn===y?S:y)&&p},t.prototype.isBottomRightCell=function(e,r){var o=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(T){return o.indexOf(T)}).sort(function(T,O){return T-O}),h=e.startRow,p=e.endRow,y=this.rowPositionUtils.before(h,p)?p:h,S=o.indexOf(r.column)===w._.last(s),E=r.rowIndex===y.rowIndex&&w._.makeNull(r.rowPinned)===w._.makeNull(y.rowPinned);return S&&E},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(o){return r.isCellInSpecificRange(e,o)}).length},t.prototype.isRowInRange=function(e,r,o){var s=this.getRangeStartRow(o),h=this.getRangeEndRow(o),p={rowIndex:e,rowPinned:r||null};if(p.rowIndex===s.rowIndex&&p.rowPinned==s.rowPinned||p.rowIndex===h.rowIndex&&p.rowPinned==h.rowPinned)return!0;var E=!this.rowPositionUtils.before(p,s),T=this.rowPositionUtils.before(p,h);return E&&T},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var s=e.shiftKey,h=e.ctrlKey||e.metaKey,y=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&h,S=s&&w._.existsAndNotEmpty(this.cellRanges);if(!y&&(!S||w._.exists(w._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,S||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=w._.last(this.cellRanges);else{var E={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:E,endRow:E,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=r)},t.prototype.onDragging=function(e){var r=this;if(this.dragging&&e){var o=this.lastCellHovered,s=function(y){return o&&o.rowPinned===y&&r.newestRangeStartCell.rowPinned===y},h=s("top")||s("bottom");if(this.autoScrollService.check(e,h),this.cellHasChanged){var p=this.calculateColumnsBetween(this.newestRangeStartCell.column,o.column);!p||(this.draggingRange.endRow={rowIndex:o.rowIndex,rowPinned:o.rowPinned},this.draggingRange.columns=p,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,o){var s=Object.freeze({type:w.zW2.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:r,id:o});this.eventService.dispatchEvent(s)},t.prototype.calculateColumnsBetween=function(e,r){var o=this.columnModel.getAllDisplayedColumns(),s=e===r,h=o.indexOf(e);if(h<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var p=s?h:o.indexOf(r);if(!(p<0)){if(s)return[e];for(var y=Math.min(h,p),S=y===h?p:h,E=[],T=y;T<=S;T++)E.push(o[T]);return E}console.warn("AG Grid: column "+r.getId()+" is not visible")}},Va([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),Va([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Va([(0,w.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),Va([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Va([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Va([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Va([(0,w.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Va([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Va([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Va([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),Va([w.NqP],t.prototype,"init",null),Va([(0,w.Vu6)("rangeService")],t)}(w.AS9),j3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ul=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zs=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return j3(t,l),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===w.Lm6.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),o=this.getGui(),s=w._.last(this.rangeService.getCellRanges()),h=s.startRow,p=s.endRow;if(h&&p&&(this.rowPositionUtils.before(p,h)?(this.setRangeStartRow(p),this.setRangeEndRow(h)):(this.setRangeStartRow(h),this.setRangeEndRow(p))),r!==e||!w._.isVisible(o)){this.setCellCtrl(e);var S=e.getComp().getParentOfValue();S&&S.appendChild(o)}this.setCellRange(s)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return w._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,l.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},ul([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),ul([(0,w.fsG)("dragService")],t.prototype,"dragService",void 0),ul([(0,w.fsG)("rangeService")],t.prototype,"rangeService",void 0),ul([(0,w.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),ul([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),ul([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ul([(0,w.fsG)("navigationService")],t.prototype,"navigationService",void 0),ul([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ul([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ul([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),ul([w.NqP],t.prototype,"init",null),t}(w.wA2),kl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jc=function(){return Jc=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Jc.apply(this,arguments)},xu=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},vv=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=w.Lm6.FILL,e}return kl(t,l),t.prototype.updateValuesOnMove=function(e){l.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var O,r=this.initialXY,o=r.x,s=r.y,h=this.mouseEventService.getNormalisedPosition(e),y=h.y,S=Math.abs(o-h.x),E=Math.abs(s-y),T=this.gridOptionsWrapper.getFillHandleDirection();(O="xy"===T?S>E?"x":"y":T)!==this.dragAxis&&(this.dragAxis=O,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var o=this.getLastCellHovered();o&&this.markPathFrom(this.initialPosition,o)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var y,r="x"===this.dragAxis,o=this.getCellRange(),s=o.columns.length,h=this.getRangeStartRow(),p=this.getRangeEndRow();if(this.isUp||this.isLeft){var S=r?h:this.lastCellMarked;y=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:S.rowIndex,rowStartPinned:S.rowPinned,columnStart:r?this.lastCellMarked.column:o.columns[0],rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnEnd:o.columns[s-1]})}else y=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:h.rowIndex,rowStartPinned:h.rowPinned,columnStart:o.columns[0],rowEndIndex:r?p.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?p.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:o.columns[s-1]});y&&(this.raiseFillStartEvent(),this.handleValueChanged(o,y,e),this.rangeService.setCellRanges([y]),this.raiseFillEndEvent(o,y))}},t.prototype.raiseFillStartEvent=function(){var e={type:w.zW2.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,r){var o={type:w.zW2.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:r};this.eventService.dispatchEvent(o)},t.prototype.handleValueChanged=function(e,r,o){var s=this,h=this.rangeService.getRangeEndRow(e),p=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(r),S=this.rangeService.getRangeStartRow(r),E="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var R=!0,N=[],X=[],ae=0,le=function(){N.length=0,X.length=0,ae=0},de=function(Ue,st){var rt=s.isUp?h:p,Pt=!1;E&&(R=!0,le());for(var Rt=function(){var Zt=s.rowPositionUtils.getRowNode(rt);if(!Zt)return"break";E&&Ue?he(N,Ue,Zt,function(){return!s.rowPositionUtils.sameRow(rt,s.isUp?p:h)}):st&&(R=!0,le(),st.forEach(function(Rn){return he(N,Rn,Zt,function(){return Rn!==(s.isLeft?e.columns[0]:w._.last(e.columns))})})),Pt=s.rowPositionUtils.sameRow(rt,s.isUp?S:y),rt=s.isUp?s.cellNavigationService.getRowAbove(rt):s.cellNavigationService.getRowBelow(rt)};!Pt&&rt&&"break"!==Rt(););},he=function(Ue,st,rt,Pt){var Rt,Gt=!1;if(R)Rt=s.valueService.getValue(st,rt),X.push(Rt),R=Pt();else{var Zt=s.processValues(o,Ue,X,st,rt,ae++),Sn=Zt.fromUserFunction;if(Rt=Zt.value,st.isCellEditable(rt)){var rn=s.valueService.getValue(st,rt);Sn&&rn===Rt?Gt=!0:rt.setDataValue(st,Rt)}}Gt||Ue.push(Rt)};E?e.columns.forEach(function(Ue){de(Ue)}):(T=this.isLeft?function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(xu(arguments[t]));return l}(r.columns).reverse():r.columns,de(void 0,T))}else{var T=E?e.columns:e.columns.filter(function(Ue){return r.columns.indexOf(Ue)<0}),O=E?this.cellNavigationService.getRowBelow(y):S;O&&this.clearCellsInRange(O,h,T)}},t.prototype.clearCellsInRange=function(e,r,o){for(var s=e,h=!1,p=function(){var E=y.rowPositionUtils.getRowNode(s);if(!E)return"break";o.forEach(function(T){T.isCellEditable(E)&&E.setDataValue(T,null)}),h=y.rowPositionUtils.sameRow(s,r),s=y.cellNavigationService.getRowBelow(s)},y=this;!h&&s&&"break"!==p(););},t.prototype.processValues=function(e,r,o,s,h,p){var E,y=this.gridOptionsWrapper.getFillOperation();if(E="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",y){var T=y({event:e,values:r,initialValues:o,currentIndex:p,currentCellValue:this.valueService.getValue(s,h),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:E,column:s,rowNode:h});if(!1!==T)return{value:T,fromUserFunction:!0}}var O=!r.some(function(N){var X=parseFloat(N);return isNaN(X)||X.toString()!==N.toString()});if(e.altKey||!O){if(O&&1===o.length){var R=this.isUp||this.isLeft?-1:1;return{value:parseFloat(w._.last(r))+1*R,fromUserFunction:!1}}return{value:r[p%r.length],fromUserFunction:!1}}return{value:w._.last(w._.findLineByLeastSquares(r.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,l.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(r,e))return;var o=this.rowPositionUtils.before(r,e),s=this.getRangeStartRow(),h=this.getRangeEndRow();o&&(r.rowPinned==s.rowPinned&&r.rowIndex>=s.rowIndex||s.rowPinned!=h.rowPinned&&r.rowPinned==h.rowPinned&&r.rowIndex<=h.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,o),this.isReduce=!1)}else{var p=e.column,y=r.column;if(p===y)return;var S=this.columnModel.getAllDisplayedColumns(),E=S.indexOf(p),T=S.indexOf(y);T<=E&&T>=S.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,T<E),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,o){var h=this.navigationService,p=this.rangeService,y=e;do{for(var S=this.getCellRange(),E=S.columns.length,T=0;T<E;T++){var O=S.columns[T],N=Jc(Jc({},{rowIndex:y.rowIndex,rowPinned:y.rowPinned}),{column:O}),X=p.isCellInSpecificRange(N,S),ae=this.rowPositionUtils.sameRow(y,e);if(o&&(this.isUp=!0),!ae){var le=h.getCellByPosition(N);if(le){this.markedCells.push(le);var de=le.getComp();X||(de.addOrRemoveCssClass("ag-selection-fill-left",0===T),de.addOrRemoveCssClass("ag-selection-fill-right",T===E-1)),de.addOrRemoveCssClass(o?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(y,r))}}}if(this.rowPositionUtils.sameRow(y,r))break}while(y=o?this.cellNavigationService.getRowAbove(y):this.cellNavigationService.getRowBelow(y))},t.prototype.reduceVertical=function(e,r){var o=e;do{for(var s=this.getCellRange(),h=s.columns.length,p=this.rowPositionUtils.sameRow(o,r),y=0;y<h;y++){var E=Jc(Jc({},{rowIndex:o.rowIndex,rowPinned:o.rowPinned}),{column:s.columns[y]}),T=this.navigationService.getCellByPosition(E);T&&(this.markedCells.push(T),T.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(o,r)))}if(p)break}while(o=this.cellNavigationService.getRowAbove(o))},t.prototype.extendHorizontal=function(e,r,o){var s=this,h=this.columnModel.getAllDisplayedColumns(),p=h.indexOf(o?r.column:e.column),y=h.indexOf(o?this.getCellRange().columns[0]:r.column),S=o?0:1,E=h.slice(p+S,y+S),T=this.getRangeStartRow(),O=this.getRangeEndRow();E.forEach(function(R){var N=T,X=!1;do{X=s.rowPositionUtils.sameRow(N,O);var ae=s.navigationService.getCellByPosition({rowIndex:N.rowIndex,rowPinned:N.rowPinned,column:R});if(ae){s.markedCells.push(ae);var le=ae.getComp();le.addOrRemoveCssClass("ag-selection-fill-top",s.rowPositionUtils.sameRow(N,T)),le.addOrRemoveCssClass("ag-selection-fill-bottom",s.rowPositionUtils.sameRow(N,O)),o?(s.isLeft=!0,le.addOrRemoveCssClass("ag-selection-fill-left",R===E[0])):le.addOrRemoveCssClass("ag-selection-fill-right",R===w._.last(E))}N=s.cellNavigationService.getRowBelow(N)}while(!X)})},t.prototype.reduceHorizontal=function(e,r){var o=this,s=this.columnModel.getAllDisplayedColumns(),h=s.indexOf(r.column),p=s.indexOf(e.column),y=s.slice(h,p),S=this.getRangeStartRow(),E=this.getRangeEndRow();y.forEach(function(T){var O=S,R=!1;do{R=o.rowPositionUtils.sameRow(O,E);var N=o.navigationService.getCellByPosition({rowIndex:O.rowIndex,rowPinned:O.rowPinned,column:T});N&&(o.markedCells.push(N),N.getComp().addOrRemoveCssClass("ag-selection-fill-right",T===y[0])),O=o.cellNavigationService.getRowBelow(O)}while(!R)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0];r.startRow&&r.endRow?l.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),t}(zs),Nn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T1=function(){return T1=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},T1.apply(this,arguments)},x1=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.type=w.Lm6.RANGE,e.rangeFixed=!1,e}return Nn(t,l),t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(r){var o=this.rangeService.getCellRanges(),s=w._.last(o);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},2===o.length&&o[0].type===w.StC.DIMENSION&&s.type===w.StC.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(s))&&this.rangeService.updateRangeEnd(o[0],T1(T1({},this.endPosition),{column:o[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=w._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),o=this.rangeService.getRangeEndRow(e),s=e.columns[0];e.startRow=r,e.endRow=o,e.startColumn=s},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(zs),M1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return M1(t,l),t.prototype.createSelectionHandle=function(e){return this.createBean(e===w.Lm6.RANGE?new x1:new vv)},t=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(0,w.Vu6)("selectionHandleFactory")],t),t}(w.AS9),Ac={moduleName:w.GXE.RangeSelectionModule,beans:[Od,Kp],agStackComponents:[{componentName:"AgFillHandle",componentClass:vv},{componentName:"AgRangeHandle",componentClass:x1}],dependantModules:[$t]},$p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zl=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(zl||(zl={})),zl))(),P1=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return $p(t,l),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(o){o.key===w.VDZ.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=w._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=w._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=w._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(zl.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,o=!this.params.suppressColumnExpandAll,s=this.columnModel.isPrimaryColumnGroupsPresent(),h=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(h("searchOoo","Search...")),w._.setDisplayed(this.eFilterTextField.getGui(),e),w._.setDisplayed(this.eSelect.getGui(),r),w._.setDisplayed(this.eExpand,o&&s)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=w._.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var r=this;e.key===w.VDZ.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===zl.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,w._.setDisplayed(this.eExpandChecked,this.expandState===zl.EXPANDED),w._.setDisplayed(this.eExpandUnchecked,this.expandState===zl.COLLAPSED),w._.setDisplayed(this.eExpandIndeterminate,this.expandState===zl.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',Mu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Mu([(0,w.cqo)("eExpand")],t.prototype,"eExpand",void 0),Mu([(0,w.cqo)("eSelect")],t.prototype,"eSelect",void 0),Mu([(0,w.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),Mu([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Td=function(){function l(t,e,r,o,s){void 0===o&&(o=!1),this.eventService=new w.POd,this.displayName=t,this.dept=r,this.group=o,o?(this.columnGroup=e,this.expanded=s,this.children=[]):this.column=e}return l.prototype.isGroup=function(){return this.group},l.prototype.getDisplayName=function(){return this.displayName},l.prototype.getColumnGroup=function(){return this.columnGroup},l.prototype.getColumn=function(){return this.column},l.prototype.getDept=function(){return this.dept},l.prototype.isExpanded=function(){return!!this.expanded},l.prototype.getChildren=function(){return this.children},l.prototype.isPassesFilter=function(){return this.passesFilter},l.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:l.EVENT_EXPANDED_CHANGED}))},l.prototype.setPassesFilter=function(t){this.passesFilter=t},l.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},l.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},l.EVENT_EXPANDED_CHANGED="expandedChanged",l}(),rc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Rh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},_4=function(l){function t(e,r,o){var s=l.call(this,'<div class="ag-menu"></div>')||this;return s.column=e,s.mouseEvent=r,s.parentEl=o,s.displayName=null,s}return rc(t,l),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof w.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof w.KTm?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowRowGroup()},activeFunction:function(o){return o.isRowGroupActive()},activateLabel:function(){return r("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return r("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowValue()},activeFunction:function(o){return o.isValueActive()},activateLabel:function(){return r("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(o){return e.columnModel.isPivotMode()&&o.isPrimary()&&o.isAllowPivot()},activeFunction:function(o){return o.isPivotActive()},activateLabel:function(){return r("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Rh(arguments[t]));return l}(e).concat(this.columns.filter(function(r){return-1===e.indexOf(r)}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(o){return-1===r.columns.indexOf(o)})},t.prototype.displayContextMenu=function(){var e=this,r=this.getGui(),o=this.createBean(new w.O_3),s=this.getMappedMenuItems(),h=function(){};r.appendChild(o.getGui()),o.addMenuItems(s),o.addManagedListener(o,w.sJC.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),h()});var p=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(o.getGui())},ariaLabel:"Foo",closedCallback:function(y){y instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(o)}});p&&(h=p.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:r})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,o=[],s=function(E){var T=h.columns.some(function(R){return E.allowedFunction(R)&&!E.activeFunction(R)}),O=h.columns.some(function(R){return E.allowedFunction(R)&&E.activeFunction(R)});T&&o.push({name:E.activateLabel(h.displayName),icon:w._.createIconNoSpan(E.addIcon,h.gridOptionsWrapper,null),action:function(){return E.activateFunction()}}),O&&o.push({name:E.deactivateLabel(h.displayName),icon:w._.createIconNoSpan(E.removeIcon,h.gridOptionsWrapper,null),action:function(){return E.deActivateFunction()}})},h=this;try{for(var p=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),y=p.next();!y.done;y=p.next())s(y.value)}catch(E){e={error:E}}finally{try{y&&!y.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return o},qp([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),qp([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),qp([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),qp([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),xd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Md=function(l){function t(e,r,o,s){var h=l.call(this)||this;return h.modelItem=e,h.allowDragging=r,h.eventType=o,h.focusWrapper=s,h.processingColumnStateChange=!1,h.modelItem=e,h.columnGroup=e.getColumnGroup(),h.columnDept=e.getDept(),h.allowDragging=r,h}return xd(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),w._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,w.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Td.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),w.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(h){return e.addOrRemoveCssClass(h,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(r){var o=function(){e.setTooltip(r.headerTooltip)};o(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,o)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case w.VDZ.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case w.VDZ.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case w.VDZ.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var r=this,s=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var p=this.createBean(new _4(s,e,this.focusWrapper));this.addDestroyFunc(function(){p.isAlive()&&r.destroyBean(p)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,w.sgG.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,w.sgG.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,w.sgG.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,w.sgG.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var r={type:w.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}else w._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(r){e[r.getId()]=r.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(w._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(w._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new w.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(e,w.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(o){o.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?r(s.getChildren()):e.push(s.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");w._.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(s+" ("+o+")"),w._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),o=this.getVisibleLeafColumns(),s=0,h=0;if(o.forEach(function(p){!r&&p.getColDef().lockVisible||(e.isColumnChecked(p,r)?s++:h++)}),!(s>0&&h>0))return s>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(o){e?o.isAnyFunctionAllowed()&&r++:o.getColDef().lockVisible||r++}),0===r},t.prototype.isColumnChecked=function(e,r){if(r){var o=e.isPivotActive(),s=e.isRowGroupActive(),h=e.isValueActive();return o||s||h}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();w._.setDisplayed(this.eGroupClosedIcon,!e),w._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){w._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',Vl([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Vl([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Vl([(0,w.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Vl([(0,w.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),Vl([(0,w.cqo)("eLabel")],t.prototype,"eLabel",void 0),Vl([(0,w.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Vl([(0,w.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Vl([(0,w.cqo)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),Vl([w.NqP],t.prototype,"init",null),t}(w.wA2),A1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Fh="ag-list-item-hovered",ic=function(l){function t(e,r){var o=l.call(this)||this;return o.comp=e,o.virtualList=r,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return A1(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(h){var p=h.getColDef();return!!p.suppressMovable||!!p.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(o){return o===w.rvo.ToolPanel},getIconName:function(){return w.jUB[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(o){return e.onDragging(o)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new w.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var r=this.getDragColumnItem(e),o=this.virtualList.getComponentAt(r.rowIndex);if(o){var s=o.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===r.rowIndex&&this.lastHoveredColumnItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=r,w._.radioCssClass(s,""+Fh),w._.radioCssClass(s,"ag-item-highlight-"+r.position))}}},t.prototype.getDragColumnItem=function(e){var r=this.virtualList.getGui(),o=parseFloat(window.getComputedStyle(r).paddingTop),s=this.virtualList.getRowHeight(),h=this.virtualList.getScrollTop(),p=Math.max(0,(e.y-o+h)/s),y=this.comp.getDisplayedColsList().length-1,S=0|Math.min(y,p);return{rowIndex:S,position:Math.round(p)>p||p>y?"bottom":"top",component:this.virtualList.getComponentAt(S)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),r=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(r,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var r=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(),h=o.length;return r.indexOf(o[0])<e?h:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof w.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var o,e=this.lastHoveredColumnItem.component,r="top"===this.lastHoveredColumnItem.position;e instanceof Md?(o=e.getColumns()[0],r=!0):o=e.getColumn();var h=this.columnModel.getAllGridColumns().indexOf(o),p=r?h:h+1;return p-this.getMoveDiff(p)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+Fh).forEach(function(r){[Fh,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(o){r.classList.remove(o)})}),this.lastHoveredColumnItem=null},R1([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),R1([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),R1([w.NqP],t.prototype,"postConstruct",null),t}(w.AS9),w4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ha=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},va=function(l){function t(e,r,o,s,h){var p=l.call(this)||this;return p.column=e,p.columnDept=r,p.allowDragging=o,p.groupsExist=s,p.focusWrapper=h,p.processingColumnStateChange=!1,p}return w4(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var s=w._.escapeString(this.displayName);this.eLabel.innerHTML=s;var h=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+h),this.setupDragging(),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,w.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),w.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(y){return e.addOrRemoveCssClass(y,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,s=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var p=this.createBean(new _4(s,e,this.focusWrapper));this.addDestroyFunc(function(){p.isAlive()&&r.destroyBean(p)})}},t.prototype.handleKeyDown=function(e){e.key===w.VDZ.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaColumn","Column"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");w._.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(s+" ("+o+")"),w._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var r={type:w.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}else w._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var o=!0,s=!0;if(e){var h=this.gridOptionsWrapper.isFunctionsReadOnly(),p=!this.column.isAnyFunctionAllowed();s=o=!h&&!p}else{var y=this.column.getColDef();o=!y.lockVisible,s=!!y.enableRowGroup||!!y.enableValue||!(y.lockPosition||y.suppressMovable)}this.cbSelect.setReadOnly(!o),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!o);var ae=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(ae),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',Ha([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ha([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ha([(0,w.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Ha([(0,w.cqo)("eLabel")],t.prototype,"eLabel",void 0),Ha([(0,w.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),Ha([w.NqP],t.prototype,"init",null),t}(w.wA2),Vo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ho=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ko=function(){function l(t){this.items=t}return l.prototype.getRowCount=function(){return this.items.length},l.prototype.getRow=function(t){return this.items[t]},l}(),Lh=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return Vo(t,l),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,o){var s=this;this.params=e,this.allowDragging=r,this.eventType=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[w.zW2.EVENT_COLUMN_PIVOT_CHANGED,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,w.zW2.EVENT_COLUMN_VALUE_CHANGED,w.zW2.EVENT_COLUMN_VISIBLE,w.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(S){s.addManagedListener(s.eventService,S,s.fireSelectionChangedEvent.bind(s))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var y=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new w.CPJ("column-select","tree",y)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(S,E){return w._.setAriaLevel(E,S.getDept()+1),s.createComponentFromItem(S,E)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new ic(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var o=new Md(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(o),o}var s=new va(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,r);return this.getContext().createBean(s),s},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),r=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||r?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();o&&(e[o.getId()]=r.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();if(o){var s=e[o.getId()];null!=s&&r.setExpanded(s)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(o){return o&&void 0!==o.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,o=this.onColumnExpanded.bind(this),h=function(S,E,T){S.forEach(function(O){O instanceof w.KTm?p(O,E,T):y(O,E,T)})},p=function(S,E,T){var O=S.getColGroupDef();if(!O||!O.suppressColumnsToolPanel){if(S.isPadding())return void h(S.getChildren(),E,T);var N=r.columnModel.getDisplayNameForProvidedColumnGroup(null,S,r.eventType),X=new Td(N,S,E,!0,r.expandGroupsByDefault);T.push(X),function(S){S.addEventListener(Td.EVENT_EXPANDED_CHANGED,o);var E=S.removeEventListener.bind(S,Td.EVENT_EXPANDED_CHANGED,o);r.destroyColumnItemFuncs.push(E)}(X),h(S.getChildren(),E+1,X.getChildren())}},y=function(S,E,T){if(!S.getColDef()||!S.getColDef().suppressColumnsToolPanel){var R=r.columnModel.getDisplayNameForColumn(S,"columnToolPanel");T.push(new Td(R,S,E))}};this.destroyColumnTree(),h(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(s){!s.isPassesFilter()||(e.displayedColsList.push(s),s.isGroup()&&s.isExpanded()&&s.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new Ko(this.displayedColsList));var o=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=o&&this.focusRowIfAlive(o),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(o){o.forEach(function(s){e(s),s.isGroup()&&r(s.getChildren())})};r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(r){var o=[];this.forEachItem(function(h){if(h.isGroup()){var p=h.getColumnGroup().getId();r.indexOf(p)>=0&&(h.setExpanded(e),o.push(p))}});var s=r.filter(function(h){return!w._.includes(o,h)});s.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",s)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(o){!o.isGroup()||(o.isExpanded()?e++:r++)}),e>0&&r>0?zl.INDETERMINATE:r>0?zl.COLLAPSED:zl.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,o=this.columnModel.isPivotMode();if(this.forEachItem(function(s){if(!s.isGroup()&&s.isPassesFilter()){var y,h=s.getColumn(),p=h.getColDef();if(o){if(!h.isAllowPivot()&&!h.isAllowRowGroup()&&!h.isAllowValue())return;y=h.isValueActive()||h.isPivotActive()||h.isRowGroupActive()}else{if(p.lockVisible)return;y=h.isVisible()}y?e++:r++}}),!(e>0&&r>0))return!(0===e||r>0)},t.prototype.setFilterText=function(e){this.filterText=w._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(s){if(!w._.exists(e.filterText))return!0;var h=s.getDisplayName();return null==h||-1!==h.toLowerCase().indexOf(e.filterText)},o=function(s,h){var p=!1;if(s.isGroup()){var y=r(s);s.getChildren().forEach(function(E){var T=o(E,y||h);T&&(p=T)})}var S=!(!h&&!p)||r(s);return s.setPassesFilter(S),S};this.allColsTree.forEach(function(s){return o(s,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',Ho([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ho([(0,w.fsG)("toolPanelColDefService")],t.prototype,"colDefService",void 0),Ho([(0,w.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Ho([w.FXL],t.prototype,"destroyColumnTree",null),t}(w.wA2),Rc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},F1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Rc(t,l),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,w.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var r=this.gridOptionsWrapper.getApi();r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},Qp([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Qp([(0,w.cqo)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),Qp([w.$j7],t.prototype,"init",null),t}(w.wA2),yv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Pd=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return yv(t,l),t.prototype.execute=function(e){var r=w._.missingOrEmpty(this.columnModel.getValueColumns()),o=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),s=e.changedPath&&e.changedPath.isActive();if(!(r&&o&&s)){var h=this.createAggDetails(e);this.recursivelyCreateAggData(h)}},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),o=this.columnModel.getValueColumns(),s=r?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:o,pivotColumns:s}},t.prototype.recursivelyCreateAggData=function(e){var r=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(s){if(s.hasChildren()){if(-1===s.level){var y=!r.columnModel.isPivotMode();if(r.gridOptionsWrapper.isSuppressAggAtRootLevel()&&y)return}r.aggregateRowNode(s,e)}else s.aggData&&s.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,r){var p,o=0===r.valueColumns.length,s=0===r.pivotColumns.length,h=this.gridOptionsWrapper.getGroupRowAggNodesFunc();p=h?h(e.childrenAfterFilter):o?null:s?this.aggregateRowNodeUsingValuesOnly(e,r):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(p),e.sibling&&e.sibling.setAggData(p)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var r=this,o={},s=this.pivotStage.getPivotColumnDefs();return s.filter(function(h){return!w._.exists(h.pivotTotalColumnIds)}).forEach(function(h){var y,S=h.pivotValueColumn,E=h.colId;y=e.leafGroup?r.getValuesFromMappedSet(e.childrenMapped,h.pivotKeys||[],S):r.getValuesPivotNonLeaf(e,E),o[E]=r.aggregateValues(y,S.getAggFunc(),S,e)}),s.filter(function(h){return w._.exists(h.pivotTotalColumnIds)}).forEach(function(h){var p=[],y=h.pivotValueColumn,S=h.pivotTotalColumnIds,E=h.colId;!S||!S.length||(S.forEach(function(T){p.push(o[T])}),o[E]=r.aggregateValues(p,y.getAggFunc(),y,e))}),o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var o=this,s={},h=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,p=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,y=this.getValuesNormal(e,h),S=e.aggData;return h.forEach(function(E,T){s[E.getId()]=o.aggregateValues(y[T],E.getAggFunc(),E,e)}),p&&S&&p.forEach(function(E){s[E.getId()]=S[E.getId()]}),s},t.prototype.getValuesPivotNonLeaf=function(e,r){var o=[];return e.childrenAfterFilter.forEach(function(s){o.push(s.aggData[r])}),o},t.prototype.getValuesFromMappedSet=function(e,r,o){var s=this,h=e;if(r.forEach(function(y){return h=h?h[y]:null}),!h)return[];var p=[];return h.forEach(function(y){var S=s.valueService.getValue(o,y);p.push(S)}),p},t.prototype.getValuesNormal=function(e,r){var o=[];r.forEach(function(){return o.push([])});for(var s=r.length,h=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,p=h.length,y=0;y<p;y++)for(var S=h[y],E=0;E<s;E++){var O=this.valueService.getValue(r[E],S);o[E].push(O)}return o},t.prototype.aggregateValues=function(e,r,o,s){var h="string"==typeof r?this.aggFuncService.getAggFunc(r):r;if("function"!=typeof h)return console.error("AG Grid: unrecognised aggregation function "+r),null;var p=function(){w._.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return h({values:e,column:o,colDef:o?o.getColDef():void 0,rowNode:s,data:s?s.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(E,T){return p(),e.forEach(E,T)},get length(){return p(),e.length},set length(E){p(),e.length=E}})},oc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),oc([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),oc([(0,w.fsG)("pivotStage")],t.prototype,"pivotStage",void 0),oc([(0,w.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),oc([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),oc([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),oc([(0,w.Vu6)("aggregationStage")],t)}(w.AS9),Jp=function(){function l(){this.allSets={},this.allParents=[]}return l.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},l.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},l.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},l.prototype.getAllParents=function(){return this.allParents},l.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(o){return!r.removeFromChildrenAfterGroup[o.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(o){return!r.removeFromAllLeafChildren[o.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},l}(),Pu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Au=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Cv=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.groupIdSequence=new w.at1,e}return Pu(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var r=this.createGroupingDetails(e);r.transactions?this.handleTransaction(r):this.shotgunResetEverything(r,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(r.rootNode),this.selectableService.updateSelectableAfterGrouping(r.rootNode)},t.prototype.createGroupingDetails=function(e){var r=e.rowNode,o=e.changedPath,s=e.rowNodeTransactions,h=e.rowNodeOrder,p=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:p,rootNode:r,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!p?0:p.length,rowNodeOrder:h,transactions:s,changedPath:o}},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(o){var s=r.usingTreeData?void 0:new Jp;if(w._.existsAndNotEmpty(o.remove)&&r.removeNodes(o.remove,e,s),w._.existsAndNotEmpty(o.update)&&r.moveNodesInWrongPath(o.update,e,s),w._.existsAndNotEmpty(o.add)&&r.insertNodes(o.add,e,!1),s){var h=s.getAllParents().slice();s.flush(),r.removeEmptyGroups(h,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){w._.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var r=this.gridOptionsWrapper.getDefaultGroupOrderComparator();w._.exists(r)&&function o(s){w._.exists(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort(r),s.childrenAfterGroup.forEach(function(p){return o(p)}))}(e)}},t.prototype.getExistingPathForNode=function(e,r){for(var o=[],s=this.usingTreeData?e:e.parent;s&&s!==r.rootNode;)o.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return o.reverse(),o},t.prototype.moveNodesInWrongPath=function(e,r,o){var s=this;e.forEach(function(h){r.changedPath.isActive()&&r.changedPath.addParentNode(h.parent);var p=function(T){return T.key},y=s.getExistingPathForNode(h,r).map(p),S=s.getGroupInfo(h,r).map(p);w._.areEqual(y,S)||s.moveNode(h,r,o)})},t.prototype.moveNode=function(e,r,o){this.removeNodesInStages([e],r,o),this.insertOneNode(e,r,!0),e.setData(e.data),r.changedPath.isActive()&&r.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,r,o){this.removeNodesInStages(e,r,o),r.changedPath.isActive()&&e.forEach(function(s){return r.changedPath.addParentNode(s.parent)})},t.prototype.removeNodesInStages=function(e,r,o){if(this.removeNodesFromParents(e,r,o),this.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var s=e.map(function(h){return h.parent});this.removeEmptyGroups(s,r)}},t.prototype.forEachParentGroup=function(e,r,o){for(var s=r;s&&s!==e.rootNode;)o(s),s=s.parent},t.prototype.removeNodesFromParents=function(e,r,o){var s=this,h=null==o,p=o||new Jp;e.forEach(function(y){s.removeFromParent(y,p),s.forEachParentGroup(r,y.parent,function(S){p.removeFromAllLeafChildren(S,y)})}),h&&p.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var o=this;e.forEach(function(s){if(s.hasChildren()){var p=o.getExistingPathForNode(s,r),y=o.findParentForNode(s,p,r);y.expanded=s.expanded,y.allLeafChildren=s.allLeafChildren,y.childrenAfterGroup=s.childrenAfterGroup,y.childrenMapped=s.childrenMapped,y.updateHasChildren(),y.childrenAfterGroup.forEach(function(S){return S.parent=y})}})},t.prototype.removeEmptyGroups=function(e,r){for(var o=this,s=!0,p=function(){s=!1;var y=new Jp;e.forEach(function(S){o.forEachParentGroup(r,S,function(E){(function(y){var S=o.getChildrenMappedKey(y.key,y.rowGroupColumn),E=y.parent;return!!(E&&E.childrenMapped&&E.childrenMapped[S]&&y.isEmptyRowGroupNode())})(E)&&(s=!0,o.removeFromParent(E,y),E.setSelected(!1))})}),y.flush()};s;)p()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(w._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[o]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);r&&(null!=r.childrenMapped&&(r.childrenMapped[o]=e),r.childrenAfterGroup.push(e),r.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,r){return null!=e&&null!=r&&e.pivotMode===r.pivotMode&&w._.areEqual(e.groupedCols,r.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,o=function(s){!s||s.forEach(function(h){!r.usingTreeData&&!h.group||(r.setGroupData(h,{field:h.field,key:h.key,rowGroupColumn:h.rowGroupColumn}),o(h.childrenAfterGroup))})};o(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.removeGroupsFromSelection();var o=e.rootNode;o.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();var h=o.sibling;h&&(h.childrenAfterGroup=o.childrenAfterGroup,h.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var o=!1,s=this.columnModel.getGroupDisplayColumns(),h=s?s.map(function(p){return p.getId()}).join("-"):"";return r&&(o=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==h&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=h,o},t.prototype.insertNodes=function(e,r,o){var s=this;e.forEach(function(h){s.insertOneNode(h,r,o),r.changedPath.isActive()&&r.changedPath.addParentNode(h.parent)})},t.prototype.insertOneNode=function(e,r,o){var s=this.getGroupInfo(e,r),h=this.findParentForNode(e,s,r);h.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[h.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(h,e,o):(e.parent=h,e.level=s.length,h.childrenAfterGroup.push(e),h.updateHasChildren())},t.prototype.findParentForNode=function(e,r,o){var s=this,h=o.rootNode;return r.forEach(function(p,y){(h=s.getOrCreateNextNode(h,p,y,o)).allLeafChildren.push(e)}),h},t.prototype.swapGroupWithUserNode=function(e,r,o){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,o||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(s){return s.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,o,s){var h=this.getChildrenMappedKey(r.key,r.rowGroupColumn),p=e.childrenMapped?e.childrenMapped[h]:void 0;return p||(p=this.createGroup(r,e,o,s),this.addToParent(p,e)),p},t.prototype.createGroup=function(e,r,o,s){var h=new w.Fxk(this.beans);return h.group=!0,h.field=e.field,h.rowGroupColumn=e.rowGroupColumn,this.setGroupData(h,e),h.id=w.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),h.key=e.key,h.level=o,h.leafGroup=!this.usingTreeData&&o===s.groupedColCount-1,h.allLeafChildren=[],h.setAllChildrenCount(0),h.rowGroupIndex=this.usingTreeData?null:o,h.childrenAfterGroup=[],h.childrenMapped={},h.updateHasChildren(),h.parent=s.includeParents?r:null,this.setExpandedInitialValue(s,h),h},t.prototype.setGroupData=function(e,r){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(h){(o.usingTreeData||e.rowGroupColumn&&h.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[h.getColId()]=r.key)})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup)r.expanded=!1;else{var o=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();r.expanded=o?1==o({rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn}):-1===e.expandByDefault||r.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,r){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e){var r=this.getDataPath?this.getDataPath(e.data):null;return(null==r||0===r.length)&&w._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),r?r.map(function(s){return{key:s,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var o=this,s=[];return r.groupedCols.forEach(function(h){var p=o.valueService.getKeyForNode(h,e),y=null!=p;if(r.pivotMode&&!y&&(p=" ",y=!0),y){var S={key:p,field:h.getColDef().field,rowGroupColumn:h};s.push(S)}}),s},Au([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Au([(0,w.fsG)("selectableService")],t.prototype,"selectableService",void 0),Au([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Au([(0,w.fsG)("beans")],t.prototype,"beans",void 0),Au([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),Au([w.NqP],t.prototype,"postConstruct",null),Au([(0,w.Vu6)("groupStage")],t)}(w.AS9),L1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ih=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},_v=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Nh=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(_v(arguments[t]));return l},I1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return L1(t,l),e=t,t.prototype.createPivotColumnDefs=function(r){var o=[],s=[],h=this.columnModel.getPivotColumns(),p=this.columnModel.getValueColumns(),y=h.length,S=new w.at1;return this.recursivelyAddGroup(o,s,1,r,[],S,y,h),this.addRowGroupTotals(o,s,p,S),this.addExpandablePivotGroups(o,s,S),this.addPivotTotalsToGroups(o,s,S),{pivotColumnGroupDefs:o,pivotColumnDefs:s.map(function(T){return w._.cloneObject(T)})}},t.prototype.recursivelyAddGroup=function(r,o,s,h,p,y,S,E){var T=this;w._.iterateObject(h,function(X,ae){var le=Nh(p,[X]);if(s!==S){var he={children:[],headerName:X,pivotKeys:le,columnGroupShow:"open",groupId:"pivot"+y.next()};r.push(he),T.recursivelyAddGroup(he.children,o,s+1,ae,le,y,S,E)}else{var Ue=T.columnModel.getValueColumns(),st={children:[],headerName:X,pivotKeys:le,columnGroupShow:"open",groupId:"pivot"+y.next()};if(0===Ue.length){var rt=T.createColDef(null,"-",le,y);st.children.push(rt),o.push(rt)}else Ue.forEach(function(Pt){var Rt=T.columnModel.getDisplayNameForColumn(Pt,"header"),Gt=T.createColDef(Pt,Rt,le,y);Gt.columnGroupShow="open",st.children.push(Gt),o.push(Gt)});r.push(st)}});var O=E[s-1].getColDef(),N=this.headerNameComparator.bind(this,O.pivotComparator);r.sort(N)},t.prototype.addExpandablePivotGroups=function(r,o,s){var h=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var p=function(y,S,E,T){var O=y;if(O.children){var R=new Map;O.children.forEach(function(de){p(de,S,E,R)});var N=!O.children.some(function(de){return de.children});h.columnModel.getValueColumns().forEach(function(de){var he=h.columnModel.getDisplayNameForColumn(de,"header"),Ue=h.createColDef(de,he,y.pivotKeys,E);Ue.pivotTotalColumnIds=R.get(de.getColId()),Ue.columnGroupShow="closed",Ue.aggFunc=de.getAggFunc(),N||(y.children.push(Ue),S.push(Ue))}),h.merge(T,R)}else{var X=y;if(!X.pivotValueColumn)return;var ae=X.pivotValueColumn.getColId(),le=T.has(ae)?T.get(ae):[];le.push(X.colId),T.set(ae,le)}};r.forEach(function(y){p(y,o,s,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,o,s){var h=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var p="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),y=this.columnModel.getValueColumns(),S=y.map(function(T){return T.getAggFunc()});if(S&&!(S.length<1)&&this.sameAggFuncs(S)){var E=y[0];r.forEach(function(T){h.recursivelyAddPivotTotal(T,o,s,E,p)})}}},t.prototype.recursivelyAddPivotTotal=function(r,o,s,h,p){var y=this,S=r;if(!S.children)return r.colId?[r.colId]:null;var T=[];if(S.children.forEach(function(ae){var le=y.recursivelyAddPivotTotal(ae,o,s,h,p);le&&(T=T.concat(le))}),S.children.length>1){var R=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),N=this.createColDef(h,R,r.pivotKeys,s);N.pivotTotalColumnIds=T,N.aggFunc=h.getAggFunc();var X=r.children;p?X.push(N):X.unshift(N),o.push(N)}return T},t.prototype.addRowGroupTotals=function(r,o,s,h){var p=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var y="after"===this.gridOptionsWrapper.getPivotRowTotals(),S=y?s.slice():s.slice().reverse(),E=function(R){var N=S[R],X=[];r.forEach(function(ae){X=X.concat(p.extractColIdsForValueColumn(ae,N))}),T.createRowGroupTotal(r,o,[],h,N,X,y)},T=this,O=0;O<S.length;O++)E(O)},t.prototype.extractColIdsForValueColumn=function(r,o){var s=this;if(!r.children)return r.pivotValueColumn===o&&r.colId?[r.colId]:[];var y=[];return r.children.forEach(function(S){s.extractColIdsForValueColumn(S,o);var E=s.extractColIdsForValueColumn(S,o);y=y.concat(E)}),y},t.prototype.createRowGroupTotal=function(r,o,s,h,p,y,S){var E=s.slice(0),T=this.columnModel.getValueColumns(),O={children:[],pivotKeys:E,groupId:e.PIVOT_ROW_TOTAL_PREFIX+h.next()};if(0===T.length){var R=this.createColDef(null,"-",E,h);O.children.push(R),o.push(R)}else{var N=this.columnModel.getDisplayNameForColumn(p,"header");(R=this.createColDef(p,N,E,h)).pivotTotalColumnIds=y,O.children.push(R),o.push(R)}S?r.push(O):r.unshift(O)},t.prototype.createColDef=function(r,o,s,h){var p={};if(r){var y=r.getColDef();Object.assign(p,y),p.hide=!1}return p.headerName=o,p.colId="pivot_"+h.next(),p.field=p.colId,p.pivotKeys=s,p.pivotValueColumn=r,p.filter=!1,p},t.prototype.sameAggFuncs=function(r){if(1==r.length)return!0;for(var o=1;o<r.length;o++)if(r[o]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,o,s){return r?r(o.headerName,s.headerName):o.headerName&&!s.headerName?1:!o.headerName&&s.headerName?-1:o.headerName&&s.headerName?o.headerName<s.headerName?-1:o.headerName>s.headerName?1:0:0},t.prototype.merge=function(r,o){o.forEach(function(s,h,p){var y=r.has(h)?r.get(h):[],S=Nh(y,s);r.set(h,S)})},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Ih([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),e=Ih([(0,w.Vu6)("pivotColDefService")],t)}(w.AS9),Ad=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ef=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.uniqueValues={},e}return Ad(t,l),t.prototype.execute=function(e){var r=e.rowNode,o=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r,o):this.executePivotOff(o)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,r){var o=this.bucketUpRowNodes(e),s=this.setUniqueValues(o),h=this.columnModel.getValueColumns(),p=h.map(function(N){return N.getId()+"-"+N.getColDef().headerName}).join("#"),y=h.map(function(N){return N.getAggFunc().toString()}).join("#"),S=this.aggregationColumnsHashLastTime!==p,E=this.aggregationFuncsHashLastTime!==y;if(this.aggregationColumnsHashLastTime=p,this.aggregationFuncsHashLastTime=y,s||S||E){var T=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),O=T.pivotColumnGroupDefs;this.pivotColumnDefs=T.pivotColumnDefs,this.columnModel.setSecondaryColumns(O,"rowModelUpdated"),r&&r.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var r=this,o={},s=function(h){h.leafGroup?r.bucketRowNode(h,o):h.childrenAfterFilter.forEach(function(p){s(p)})};return s(e),o},t.prototype.bucketRowNode=function(e,r){var o=this.columnModel.getPivotColumns();e.childrenMapped=0===o.length?null:this.bucketChildren(e.childrenAfterFilter,o,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,o,s){var h=this,p={},y=r[o];if(e.forEach(function(E){var T=h.valueService.getKeyForNode(y,E);w._.missing(T)&&(T=""),s[T]||(s[T]={}),p[T]||(p[T]=[]),p[T].push(E)}),o===r.length-1)return p;var S={};return w._.iterateObject(p,function(E,T){S[E]=h.bucketChildren(T,r,o+1,s[E])}),S},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Hl([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Hl([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Hl([(0,w.fsG)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Hl([(0,w.Vu6)("pivotStage")],t)}(w.AS9),N1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),k1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},dl="undefined"==typeof BigInt?null:BigInt,S4=function(l){function t(){var r=null!==l&&l.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}var e;return N1(t,l),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=b4,this.aggFuncsMap[e.AGG_FIRST]=E4,this.aggFuncsMap[e.AGG_LAST]=D4,this.aggFuncsMap[e.AGG_MIN]=tf,this.aggFuncsMap[e.AGG_MAX]=_s,this.aggFuncsMap[e.AGG_COUNT]=Rd,this.aggFuncsMap[e.AGG_AVG]=ac,this.initialised=!0},t.prototype.getDefaultAggFunc=function(r){var o=this.getFuncNames(r),s=w._.includes(o,e.AGG_SUM),h=w._.exists(this.aggFuncsMap[e.AGG_SUM]);return s&&h?e.AGG_SUM:w._.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(r){w._.iterateObject(r,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(r,o){this.init(),this.aggFuncsMap[r]=o},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){var o=r.getColDef().allowedAggFuncs;return null==o?Object.keys(this.aggFuncsMap).sort():o},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",k1([w.NqP],t.prototype,"init",null),e=k1([(0,w.Vu6)("aggFuncService")],t)}(w.AS9);function b4(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];"number"==typeof o?null===e?e=o:e+=dl?"number"==typeof e?o:dl(o):o:"bigint"==typeof o&&(e=null===e?o:("bigint"==typeof e?e:dl(e))+o)}return e}function E4(l){return l.values.length>0?l.values[0]:null}function D4(l){return l.values.length>0?w._.last(l.values):null}function tf(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];("number"==typeof o||"bigint"==typeof o)&&(null===e||e>o)&&(e=o)}return e}function _s(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];("number"==typeof o||"bigint"==typeof o)&&(null===e||e<o)&&(e=o)}return e}function Rd(l){for(var t=l.values,e=0,r=0;r<t.length;r++){var o=t[r];e+=null!=o&&"number"==typeof o.value?o.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function ac(l){for(var t=l.values,e=0,r=0,o=0;o<t.length;o++){var s=t[o],h=null;"number"==typeof s||"bigint"==typeof s?(h=s,r++):null!=s&&("number"==typeof s.value||"bigint"==typeof s.value)&&"number"==typeof s.count&&(h=dl?s.value*("number"==typeof s.value?s.count:dl(s.count)):s.value*s.count,r+=s.count),"number"==typeof h?e+=dl?"number"==typeof e?h:dl(h):h:"bigint"==typeof h&&(e=("bigint"==typeof e?e:dl(e))+h)}var p=null;return r>0&&(p=dl?e/("number"==typeof e?r:dl(r)):e/r),{count:r,value:p,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var z1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ru=function(l){function t(e,r,o,s,h){var p=l.call(this)||this;return p.column=e,p.dragSourceDropTarget=r,p.ghost=o,p.valueColumn=s,p.horizontal=h,p.popupShowing=!1,p}return z1(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE);var e=this.getGui(),r=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(w._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!r&&this.addDragSource();var o=this.gridOptionsWrapper.getLocaleTextFunc(),s=o("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),h=this.getColumnAndAggFuncName(),p=h.name,y=h.aggFuncName,S="";this.valueColumn&&!r&&(S=o("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),w._.setAriaLabel(e,y+" "+p+" "+s+" "+S),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,r=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.addDragSource=function(){var e=this,r={type:w.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:w.jUB.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;w._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(s){var h=s.key===w.VDZ.ENTER;s.key===w.VDZ.DELETE&&(s.preventDefault(),e.dispatchEvent(r)),h&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(s.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(s){e.dispatchEvent(r),s.stopPropagation()});var o=new w.rwP(this.eButton);this.addManagedListener(o,w.rwP.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(o.destroy.bind(o))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.valueColumn){var o=this.column.getAggFunc(),s="string"==typeof o?o:"agg";r=this.gridOptionsWrapper.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,h=w._.escapeString(this.valueColumn?e.aggFuncName+"("+r+")":r);this.eText.innerHTML=h},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new w.CPJ("select-agg-func"),o=this.aggFuncService.getFuncNames(this.column),s=this.getGui(),h=r.getGui();r.setModel({getRow:function(O){return o[O]},getRowCount:function(){return o.length}}),this.getContext().createBean(r);var p=w._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');p.style.top="0px",p.style.left="0px",p.appendChild(h),p.style.width=s.clientWidth+"px";var S=this.gridOptionsWrapper.getLocaleTextFunc(),E=this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(){e.destroyBean(r),e.popupShowing=!1,s.focus()},ariaLabel:S("ariaLabelAggregationFunction","Aggregation Function")});E&&r.setComponentCreator(this.createAggSelect.bind(this,E.hideFunc)),r.addGuiEventListener("keydown",function(O){if(O.key===w.VDZ.ENTER||O.key===w.VDZ.SPACE){var R=r.getLastFocusedRow();if(null==R)return;var N=r.getComponentAt(R);N&&N.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:s,ePopup:p,keepWithinBounds:!0,column:this.column}),r.refresh();var T=o.findIndex(function(O){return O===e.column.getAggFunc()});-1===T&&(T=0),r.focusRow(T)}},t.prototype.createAggSelect=function(e,r){var o=this,h=this.gridOptionsWrapper.getLocaleTextFunc(),p=r.toString(),y=h(p,p);return new V1(function(){e(),o.gridOptionsWrapper.isFunctionsPassive()?o.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[o.column],aggFunc:r,api:o.gridApi,columnApi:o.columnApi}):o.columnModel.setColumnAggFunc(o.column,r,"toolPanelDragAndDrop")},y)},t.prototype.addElementClasses=function(e,r){e.classList.add("ag-column-drop-cell"+(r=r?"-"+r:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+r)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',Fc([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Fc([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),Fc([(0,w.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),Fc([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Fc([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Fc([(0,w.cqo)("eText")],t.prototype,"eText",void 0),Fc([(0,w.cqo)("eDragHandle")],t.prototype,"eDragHandle",void 0),Fc([(0,w.cqo)("eButton")],t.prototype,"eButton",void 0),Fc([w.NqP],t.prototype,"init",null),t}(w.wA2),V1=function(l){function t(e,r){var o=l.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=r,o.addGuiEventListener("click",o.selectItem),o}return z1(t,l),t}(w.wA2),wv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nf=function(l){function t(e,r){var o=l.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return o.horizontal=e,o.valueColumn=r,o.state=t.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.resizeEnabled=!1,o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),w._.setAriaRole(o.eColumnDropList,"listbox"),o}return wv(t,l),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),l.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,w._.clearElement(this.getGui()),w._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new w.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new w.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),w._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var o=e.key===w.VDZ.DOWN,s=e.key===w.VDZ.UP;if(this.horizontal){var h=this.gridOptionsWrapper.isEnableRtl();o=!h&&e.key===w.VDZ.RIGHT||h&&e.key===w.VDZ.LEFT,s=!h&&e.key===w.VDZ.LEFT||h&&e.key===w.VDZ.RIGHT}if(o||s){var p=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);p&&(e.preventDefault(),p.focus())}},t.prototype.addElementClasses=function(e,r){e.classList.add("ag-column-drop"+(r=r?"-"+r:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+r)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===w.rvo.HeaderCell||e===w.rvo.ToolPanel},t.prototype.checkInsertIndex=function(e){var r=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(r<0)return!1;var o=r!==this.insertIndex;return o&&(this.insertIndex=r),o},t.prototype.getNewHorizontalInsertIndex=function(e){if(w._.missing(e.hDirection))return-1;var r=0,o=e.event,s=this.beans.gridOptionsWrapper.isEnableRtl(),h=e.hDirection===w.poj.Left,p=o.clientX;return this.childColumnComponents.forEach(function(y){var S=y.getGui().getBoundingClientRect(),E=h?S.right:S.left;(s?p<=E:p>=E)&&r++}),r},t.prototype.getNewVerticalInsertIndex=function(e){if(w._.missing(e.vDirection))return-1;var r=0,o=e.event;return this.childColumnComponents.forEach(function(s){var h=s.getGui().getBoundingClientRect();o.clientY>=(e.vDirection===w.HO_.Down?h.top:h.bottom)&&r++}),r},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=r.filter(this.isColumnDroppable.bind(this));o.length>0&&(this.potentialDndColumns=o,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return w._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(o){return!w._.includes(e,o)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(e){var r=this.getExistingColumns().slice(),o=e.filter(function(s){return r.indexOf(s)<0});w._.insertArrayIntoArray(r,o,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return w._.insertArrayIntoArray(r,e,this.insertIndex),!w._.areEqual(r,this.getExistingColumns())&&(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,o=this.getFocusedItem(),s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.restoreFocus(o,s)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(r)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(r):-1},t.prototype.restoreFocus=function(e,r){var o=this.getGui(),s=Array.from(o.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===s.length&&r.focus();var p=s[Math.min(s.length-1,e)];p&&p.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(o){return!w._.includes(e.potentialDndColumns,o)}):r},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns(),o=this.isPotentialDndColumns(),s=[];r.forEach(function(h,p){if(!(o&&p>=e.insertIndex)){var y=e.createColumnComponent(h,!1);s.push(y)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(h){var p=e.createColumnComponent(h,!0);s.push(p)}),r.forEach(function(h,p){if(!(p<e.insertIndex)){var y=e.createColumnComponent(h,!1);s.push(y)}})),this.appendChild(this.eColumnDropList),s.forEach(function(h,p){p>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(h.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,o){var s=r.getGui();w._.setAriaPosInSet(s,o+1),w._.setAriaSetSize(s,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var o=this,s=new Ru(e,this.dropTarget,r,this.valueColumn,this.horizontal);return s.addEventListener(Ru.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(s),this.guiDestroyFunctions.push(function(){return o.destroyBean(s)}),r||this.childColumnComponents.push(s),s},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(r.setAttribute("aria-hidden","true"),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=this.params.title,r.appendChild(o)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsWrapper.isEnableRtl(),o=w._.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(o,"cell-separator"),e.appendChild(o)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),t}(w.wA2),Lu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Iu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},H1=function(l){function t(e){return l.call(this,e,!1)||this}return Lu(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");l.prototype.init.call(this,{dragAndDropIcon:w.jUB.ICON_GROUP,icon:w._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?w.jUB.ICON_GROUP:w.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Iu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Iu([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),Iu([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Iu([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Iu([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Iu([w.NqP],t.prototype,"passBeansUp",null),t}(nf),Sv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},G1=function(l){function t(e){return l.call(this,e,!1)||this}return Sv(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");l.prototype.init.call(this,{dragAndDropIcon:w.jUB.ICON_GROUP,icon:w._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("pivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?w.jUB.ICON_PIVOT:w.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Nu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Nu([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),Nu([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Nu([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Nu([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Nu([w.NqP],t.prototype,"passBeansUp",null),t}(nf),Lc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ku=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},bv=function(l){function t(){return l.call(this)||this}return Lc(t,l),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),r=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),w._.setAriaRole(e,"presentation"),this.rowGroupComp=new H1(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new G1(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,w.wA2.EVENT_DISPLAYED_CHANGED,r),this.addManagedListener(this.pivotComp,w.wA2.EVENT_DISPLAYED_CHANGED,r),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===w.gTE.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===w.gTE.ONLY_WHEN_GROUPING){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},ku([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),ku([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),rf={moduleName:w.GXE.RowGroupingModule,beans:[Pd,Cv,I1,ef,S4],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:bv}],dependantModules:[$t]},O4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ev=function(l){function t(e){return l.call(this,e,!0)||this}return O4(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");l.prototype.init.call(this,{dragAndDropIcon:w.jUB.ICON_AGGREGATE,icon:w._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?w.jUB.ICON_AGGREGATE:w.jUB.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},Fd([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Fd([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),Fd([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fd([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Fd([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Fd([w.NqP],t.prototype,"passBeansUp",null),t}(nf),T4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),af=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},B1=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return T4(t,l),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,r,o){this.allowDragging=e,this.params=r,this.eventType=o,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new w.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',af([(0,w.cqo)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),af([(0,w.cqo)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),af([w.NqP],t.prototype,"postConstruct",null),t}(w.BxR),x4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},M4=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return x4(t,l),t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this,o={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(w._.mergeDeep(o,e),this.params=o,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new F1),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new B1),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new H1(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new Ev(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new G1(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var s=this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return s()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new F1),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new H1(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new Ev(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new G1(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(h){return h.classList.remove("ag-last-column-drop")});var o=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=w._.last(o);s&&s.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var r=this.getGui().children,o=0;o<r.length;o++){var s=r[o];s.style.removeProperty("height"),s.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,w._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Dv([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Dv([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(w.wA2),Ld=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},eu=function(){function l(){}return l.prototype.selectAllChildren=function(t,e,r){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,r)},l.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},l.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},l.prototype.extractAllLeafColumns=function(t){var e=[],r=function(o){o.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?r(s.getChildren()):e.push(s.getColumn()))})};return r(t),e},l.prototype.setAllVisible=function(t,e,r){var o=[];t.forEach(function(s){s.getColDef().lockVisible||s.isVisible()!=e&&o.push({colId:s.getId(),hide:!e})}),o.length>0&&this.columnModel.applyColumnState({state:o},r)},l.prototype.setAllPivot=function(t,e,r){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},l.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),s=this.columnModel.getRowGroupColumns().slice(),h=!1,p=!1,y=!1;t.forEach(e?function(X){X.isAnyFunctionActive()||(X.isAllowValue()?(o.push(X),p=!0):X.isAllowRowGroup()?(s.push(X),h=!0):X.isAllowPivot()&&(r.push(X),y=!0))}:function(X){!X.isAnyFunctionActive()||(r.indexOf(X)>=0&&(w._.removeFromArray(r,X),h=!0),o.indexOf(X)>=0&&(w._.removeFromArray(o,X),p=!0),s.indexOf(X)>=0&&(w._.removeFromArray(s,X),y=!0))}),h&&this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi}),y&&this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi}),p&&this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi})},l.prototype.setAllPivotActive=function(t,e,r){var o=this,s=[];t.forEach(e?function(S){if(!S.isAnyFunctionActive())if(S.isAllowValue()){var E="string"==typeof S.getAggFunc()?S.getAggFunc():o.aggFuncService.getDefaultAggFunc(S);s.push({colId:S.getId(),aggFunc:E})}else S.isAllowRowGroup()?s.push({colId:S.getId(),rowGroup:!0}):S.isAllowPivot()&&s.push({colId:S.getId(),pivot:!0})}:function(S){(S.isPivotActive()||S.isRowGroupActive()||S.isValueActive())&&s.push({colId:S.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),s.length>0&&this.columnModel.applyColumnState({state:s},r)},Ld([(0,w.fsG)("aggFuncService")],l.prototype,"aggFuncService",void 0),Ld([(0,w.fsG)("columnModel")],l.prototype,"columnModel",void 0),Ld([(0,w.fsG)("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),Ld([(0,w.fsG)("columnApi")],l.prototype,"columnApi",void 0),Ld([(0,w.fsG)("gridApi")],l.prototype,"gridApi",void 0),Ld([(0,w.fsG)("eventService")],l.prototype,"eventService",void 0),Ld([(0,w.Vu6)("modelItemUtils")],l)}(),vi={moduleName:w.GXE.ColumnToolPanelModule,beans:[eu],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:P1},{componentName:"AgPrimaryColsList",componentClass:Lh},{componentName:"AgPrimaryCols",componentClass:B1}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:M4}],dependantModules:[$t,rf,Cs]},Ov=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},hl=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Ov(arguments[t]));return l},Id=function(){function l(t,e,r,o,s,h,p,y){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=r,this.columnModel=o,this.gridApi=s,this.columnApi=h,this.beans=y,this.selectionService=p,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=l.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return l.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},l.prototype.getCopyOfNodesMap=function(){return w._.cloneObject(this.allNodesMap)},l.prototype.getRowNode=function(t){return this.allNodesMap[t]},l.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){var r=this.rootNode,o=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(s){return e.createNode(s,e.rootNode,l.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=r.childrenAfterFilter,o.childrenAfterGroup=r.childrenAfterGroup,o.childrenAfterSort=r.childrenAfterSort,o.childrenMapped=r.childrenMapped,o.allLeafChildren=r.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},l.prototype.updateRowData=function(t,e){var r={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,r,o),this.executeUpdate(t,r,o),this.executeAdd(t,r),this.updateSelection(o),e&&w._.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},l.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(o){o.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:w.zW2.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},l.prototype.executeAdd=function(t,e){var r=this,o=t.add,s=t.addIndex;if(!w._.missingOrEmpty(o)){var h=o.map(function(T){return r.createNode(T,r.rootNode,l.TOP_LEVEL)});if("number"==typeof s&&s>=0){var y=this.rootNode.allLeafChildren,S=y.slice(0,s),E=y.slice(s,y.length);this.rootNode.allLeafChildren=hl(S,h,E)}else this.rootNode.allLeafChildren=hl(this.rootNode.allLeafChildren,h);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=h}},l.prototype.executeRemove=function(t,e,r){var o=this,s=t.remove;if(!w._.missingOrEmpty(s)){var h={};s.forEach(function(p){var y=o.lookupRowNode(p);!y||(y.isSelected()&&r.push(y),y.clearRowTopAndRowIndex(),h[y.id]=!0,delete o.allNodesMap[y.id],e.remove.push(y))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(p){return!h[p.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},l.prototype.executeUpdate=function(t,e,r){var o=this,s=t.update;w._.missingOrEmpty(s)||s.forEach(function(h){var p=o.lookupRowNode(h);!p||(p.updateData(h),!p.selectable&&p.isSelected()&&r.push(p),o.setMasterForRow(p,h,l.TOP_LEVEL,!1),e.update.push(p))})},l.prototype.lookupRowNode=function(t){var r,e=this.gridOptionsWrapper.getRowIdFunc();if(e){var o=e({data:t,level:0,api:this.gridApi,columnApi:this.columnApi});if(!(r=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(r=this.rootNode.allLeafChildren.find(function(s){return s.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},l.prototype.createNode=function(t,e,r){var o=new w.Fxk(this.beans);return o.group=!1,this.setMasterForRow(o,t,r,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=r,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},l.prototype.setMasterForRow=function(t,e,r,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),o){var s=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(r+(s?s.length:0))}},l.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},l.TOP_LEVEL=0,l.ROOT_NODE_ID="ROOT_NODE_ID",l}(),W1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Po=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Vs=(()=>(function(l){l[l.Normal=0]="Normal",l[l.AfterFilter=1]="AfterFilter",l[l.AfterFilterAndSort=2]="AfterFilterAndSort",l[l.PivotNodes=3]="PivotNodes"}(Vs||(Vs={})),Vs))(),Hs=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return W1(t,l),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:w.j_r.EVERYTHING}),r=!this.gridOptionsWrapper.isSuppressAnimationFrame(),o=this.refreshModel.bind(this,{step:w.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:w.j_r.PIVOT})),this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var s=this.refreshModel.bind(this,{step:w.j_r.MAP,keepRenderedRows:!0,animate:r});this.addManagedListener(this.gridOptionsWrapper,w.wfB.PROP_GROUP_REMOVE_SINGLE_CHILDREN,s),this.addManagedListener(this.gridOptionsWrapper,w.wfB.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,s),this.rootNode=new w.Fxk(this.beans),this.nodeManager=new Id(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,o,s){var h,p=!1;do{h=!1;for(var y=this.getRowIndexAtPixel(e),S=this.getRowIndexAtPixel(r),E=Math.max(y,o),T=Math.min(S,s),O=E;O<=T;O++){var R=this.getRow(O);if(R.rowHeightEstimated){var N=this.gridOptionsWrapper.getRowHeightForNode(R);R.setRowHeight(N.height),h=!0,p=!0}}h&&this.setRowTopAndRowIndex()}while(h);return p},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),r=0,o=new Set,s=this.gridOptionsWrapper.getDomLayout()===w.gTE.DOM_LAYOUT_NORMAL,h=0;h<this.rowsToDisplay.length;h++){var p=this.rowsToDisplay[h];if(null!=p.id&&o.add(p.id),null==p.rowHeight){var y=this.gridOptionsWrapper.getRowHeightForNode(p,s,e);p.setRowHeight(y.height,y.estimated)}p.setRowTop(r),p.setRowIndex(h),r+=p.rowHeight}return o},t.prototype.clearRowTopAndRowIndex=function(e,r){var o=e.isActive(),s=function(p){p&&null!=p.id&&!r.has(p.id)&&p.clearRowTopAndRowIndex()},h=function(p){s(p),s(p.detailNode),s(p.sibling),p.hasChildren()&&p.childrenAfterGroup&&(o&&-1!=p.level&&!p.expanded||p.childrenAfterGroup.forEach(h))};h(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,o){var s=this;void 0===o&&(o=0);var h=this.getRowIndexAtPixel(r),p=this.getRow(h),y=!this.gridOptionsWrapper.isSuppressAnimationFrame();return p!==e[0]&&(e.forEach(function(S){w._.removeFromArray(s.rootNode.allLeafChildren,S)}),e.forEach(function(S,E){w._.insertIntoArray(s.rootNode.allLeafChildren,S,Math.max(h+o,0)+E)}),this.refreshModel({step:w.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:y}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var o=null!=r?this.getRowIndexAtPixel(r):null,s=null!=o?this.getRow(o):null;if(s&&e&&s!==e&&null!=r){var h=this.getHighlightPosition(r,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(h),this.lastHighlightedRow=s}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,r){if(!r){var o=this.getRowIndexAtPixel(e);if(!(r=this.getRow(o||0)))return w.oh5.Below}return e-r.rowTop<r.rowHeight/2?w.oh5.Above:w.oh5.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var o=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0;)o=o.childrenAfterSort[0];return o.rowIndex},t.prototype.getRowBounds=function(e){if(w._.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:w.j_r.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:w.j_r.FILTER,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:w.j_r.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:w.j_r.PIVOT}):this.refreshModel({step:w.j_r.AGGREGATE})},t.prototype.createChangePath=function(e){var r=w._.missingOrEmpty(e),o=new w.Dkq(!1,this.rootNode);return(r||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var r=e.rowNodeTransactions.filter(function(s){return null!=s.add&&s.add.length>0||null!=s.remove&&s.remove.length>0});return null==r||0==r.length},t.prototype.refreshModel=function(e){var r=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case w.j_r.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,!!e.afterColumnsChanged);case w.j_r.FILTER:this.doFilter(o);case w.j_r.PIVOT:this.doPivot(o);case w.j_r.AGGREGATE:this.doAggregate(o);case w.j_r.SORT:this.doSort(e.rowNodeTransactions,o);case w.j_r.MAP:this.doRowsToDisplay()}var s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,s),this.eventService.dispatchEvent({type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){r.$scope.$apply()},0)}},t.prototype.isEmpty=function(){var e=w._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return w._.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return w._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var h,o=!r,s=!1,p=[],y=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(S){var E=o&&!s;if(o||(S===r||S===e)&&(o=!0),!S.group||!y){var O=o&&!s,R=S.isParentOfNode(h);(O||R)&&p.push(S)}E&&(S===r||S===e)&&(s=!0,h=S===r?r:e)}),p},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var r=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(w._.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var h=Math.floor((r+o)/2),p=this.rowsToDisplay[h];if(this.isRowInPixel(p,e))return h;p.rowTop<e?r=h+1:p.rowTop>e&&(o=h-1)}},t.prototype.isRowInPixel=function(e,r){return e.rowTop<=r&&e.rowTop+e.rowHeight>r},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,o){return e(r,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Vs.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Vs.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Vs.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Vs.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,r,o,s){if(!e)return s;for(var h=0;h<e.length;h++){var p=e[h];if(r(p,s++),p.hasChildren()){var y=null;switch(o){case Vs.Normal:y=p.childrenAfterGroup;break;case Vs.AfterFilter:y=p.childrenAfterFilter;break;case Vs.AfterFilterAndSort:y=p.childrenAfterSort;break;case Vs.PivotNodes:y=p.leafGroup?null:p.childrenAfterSort}y&&(s=this.recursivelyWalkNodesAndCallback(y,r,o,s))}}return s},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(p){!p||p.forEach(function(y){(r?w._.exists(y.childrenAfterGroup):y.group)&&(y.expanded=e,o(y.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:w.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:w.zW2.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,o,s,h){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:o,changedPath:s}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:s,afterColumnsChanged:h}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(s)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||w._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){"boolean"==typeof e[o]&&(r.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return w._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){return e[o]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(w.Fxk.ID_PREFIX_ROW_GROUP)){var o=void 0;return this.forEachNode(function(s){s.id===e&&(o=s)}),o}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:w.zW2.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:w.j_r.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var s=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],o=[],s=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(p){var y=e.nodeManager.updateRowData(p.rowDataTransaction,void 0);o.push(y),p.callback&&r.push(p.callback.bind(null,y)),"number"==typeof p.rowDataTransaction.addIndex&&(s=!0)}),this.commonUpdateRowData(o,void 0,s),r.length>0&&window.setTimeout(function(){r.forEach(function(p){return p()})},0),o.length>0){var h={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:w.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(h)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,r);return this.commonUpdateRowData([o],r,"number"==typeof e.addIndex),o},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++)r[this.rootNode.allLeafChildren[o].id]=o;return r}},t.prototype.commonUpdateRowData=function(e,r,o){var s=!this.gridOptionsWrapper.isSuppressAnimationFrame();o&&(r=this.createRowNodeOrder()),this.refreshModel({step:w.j_r.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),this.eventService.dispatchEvent({type:w.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:w.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var o=r.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},Po([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Po([(0,w.fsG)("$scope")],t.prototype,"$scope",void 0),Po([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),Po([(0,w.fsG)("valueCache")],t.prototype,"valueCache",void 0),Po([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Po([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Po([(0,w.fsG)("animationFrameService")],t.prototype,"animationFrameService",void 0),Po([(0,w.fsG)("beans")],t.prototype,"beans",void 0),Po([(0,w.fsG)("filterStage")],t.prototype,"filterStage",void 0),Po([(0,w.fsG)("sortStage")],t.prototype,"sortStage",void 0),Po([(0,w.fsG)("flattenStage")],t.prototype,"flattenStage",void 0),Po([(0,w.FiY)("groupStage")],t.prototype,"groupStage",void 0),Po([(0,w.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),Po([(0,w.FiY)("pivotStage")],t.prototype,"pivotStage",void 0),Po([w.NqP],t.prototype,"init",null),Po([(0,w.Vu6)("rowModel")],t)}(w.AS9),zu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Pa=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return zu(t,l),t.prototype.execute=function(e){var r=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(r)},Gs([(0,w.fsG)("selectableService")],t.prototype,"selectableService",void 0),Gs([(0,w.fsG)("filterService")],t.prototype,"filterService",void 0),Gs([(0,w.Vu6)("filterStage")],t)}(w.AS9),Nd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},j1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Nd(t,l),t.prototype.execute=function(e){var r=this.sortController.getSortOptions(),o=w._.exists(r)&&r.length>0,s=o&&w._.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),h=s?this.calculateDirtyNodes(e.rowNodeTransactions):null,p=w._.missingOrEmpty(this.columnModel.getValueColumns()),y=r.some(function(S){return!!S.column.getColDef().showRowGroup});this.sortService.sort(r,o,s,h,e.changedPath,p,y)},t.prototype.calculateDirtyNodes=function(e){var r={},o=function(s){s&&s.forEach(function(h){return r[h.id]=!0})};return e&&e.forEach(function(s){o(s.add),o(s.update),o(s.remove)}),r},Gl([(0,w.fsG)("sortService")],t.prototype,"sortService",void 0),Gl([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Gl([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Gl([(0,w.Vu6)("sortStage")],t)}(w.AS9),P4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sf=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},A4=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return P4(t,l),t.prototype.execute=function(e){var r=e.rowNode,o=[],s={value:0},h=this.columnModel.isPivotMode(),p=h&&r.leafGroup;return this.recursivelyAddToRowsToDisplay(p?[r]:r.childrenAfterSort,o,s,h,0),!p&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(r),this.addRowNodeToRowsToDisplay(r.sibling,o,s,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,o,s,h){if(!w._.missingOrEmpty(e))for(var p=this.gridOptionsWrapper.isGroupHideOpenParents(),y=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),S=!y&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),E=0;E<e.length;E++){var T=e[E],O=T.hasChildren(),N=y&&O&&1===T.childrenAfterGroup.length,X=S&&O&&T.leafGroup&&1===T.childrenAfterGroup.length;if(!(s&&!O||p&&T.expanded&&(!s||!T.leafGroup)||N||X)&&this.addRowNodeToRowsToDisplay(T,r,o,h),!s||!T.leafGroup)if(O){var he=N||X;(T.expanded||he)&&(this.recursivelyAddToRowsToDisplay(T.childrenAfterSort,r,o,s,he?h:h+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(T),this.addRowNodeToRowsToDisplay(T.sibling,r,o,h)))}else if(T.master&&T.expanded){var st=this.createDetailNode(T);this.addRowNodeToRowsToDisplay(st,r,o,h)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,o,s){var h=this.gridOptionsWrapper.isGroupMultiAutoColumn();r.push(e),e.setUiLevel(h?0:s)},t.prototype.ensureFooterNodeExists=function(e){if(!w._.exists(e.sibling)){var r=new w.Fxk(this.beans);Object.keys(e).forEach(function(o){r[o]=e[o]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,w._.exists(r.id)&&(r.id="rowGroupFooter_"+r.id),r.sibling=e,e.sibling=r}},t.prototype.createDetailNode=function(e){if(w._.exists(e.detailNode))return e.detailNode;var r=new w.Fxk(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,w._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},sf([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),sf([(0,w.fsG)("beans")],t.prototype,"beans",void 0),sf([(0,w.Vu6)("flattenStage")],t)}(w.AS9),R4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},kh=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return R4(t,l),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,r,o,s,h,p,y){var S=this,E=this.gridOptionsWrapper.isGroupMaintainOrder(),T=this.columnModel.getAllGridColumns().some(function(R){return R.isRowGroupActive()});h&&h.forEachChangedNodeDepthFirst(function(R){S.pullDownGroupDataForHideOpenParents(R.childrenAfterFilter,!0),R.childrenAfterSort=r?E&&T&&!R.leafGroup&&!y?R.childrenAfterFilter.slice(0):o?S.doDeltaSort(R,e,s,h,p):S.rowNodeSorter.doFullSort(R.childrenAfterFilter,e):R.childrenAfterFilter.slice(0),R.sibling&&(R.sibling.childrenAfterSort=R.childrenAfterSort),S.updateChildIndexes(R),S.postSortFunc&&S.postSortFunc(R.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(h)},t.prototype.mapNodeToSortedNode=function(e,r){return{currentPos:r,rowNode:e}},t.prototype.doDeltaSort=function(e,r,o,s,h){var p=e.childrenAfterSort.filter(function(T){var O=!o[T.id],R=h||s&&s.canSkip(T);return O&&R}).map(this.mapNodeToSortedNode.bind(this)),y={};p.forEach(function(T){return y[T.rowNode.id]=T.rowNode});var S=e.childrenAfterFilter.filter(function(T){return!y[T.id]}).map(this.mapNodeToSortedNode.bind(this));return S.sort(this.rowNodeSorter.compareRowNodes.bind(this,r)),(0===S.length?p:0===p.length?S:this.mergeSortedArrays(r,p,S)).map(function(T){return T.rowNode})},t.prototype.mergeSortedArrays=function(e,r,o){for(var s=[],h=0,p=0;h<r.length&&p<o.length;){var y=this.rowNodeSorter.compareRowNodes(e,r[h],o[p]);s.push(y<0?r[h++]:o[p++])}for(;h<r.length;)s.push(r[h++]);for(;p<o.length;)s.push(o[p++]);return s},t.prototype.updateChildIndexes=function(e){if(!w._.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,o=0;o<r.length;o++){var s=r[o],p=o===e.childrenAfterSort.length-1;s.setFirstChild(0===o),s.setLastChild(p),s.setChildIndex(o)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return w._.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var s=function(h){r.pullDownGroupDataForHideOpenParents(h.childrenAfterSort,!1),h.childrenAfterSort.forEach(function(p){p.hasChildren()&&s(p)})};e&&e.executeFromRootNode(function(h){return s(h)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var o=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||w._.missing(e)||e.forEach(function(s){o.columnModel.getGroupDisplayColumns().forEach(function(p){var y=p.getColDef().showRowGroup;if("string"==typeof y){var E=o.columnModel.getPrimaryColumn(y);if(E!==s.rowGroupColumn)if(r)s.setGroupValue(p.getId(),void 0);else{var O=s.getFirstChildOfFirstChild(E);O&&s.setGroupValue(p.getId(),O.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Vu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Vu([(0,w.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Vu([w.NqP],t.prototype,"init",null),Vu([(0,w.Vu6)("sortService")],t)}(w.AS9),Tv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zd=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Tv(t,l),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var r=this.filterManager.isAnyFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var o=this,s=function(S,E){S.hasChildren()?(S.childrenAfterFilter=e&&!E?S.childrenAfterGroup.filter(function(T){var O=T.childrenAfterFilter&&T.childrenAfterFilter.length>0,R=T.data&&o.filterManager.doesRowPassFilter({rowNode:T});return O||R}):S.childrenAfterGroup,o.setAllChildrenCount(S)):(S.childrenAfterFilter=S.childrenAfterGroup,S.setAllChildrenCount(null)),S.sibling&&(S.sibling.childrenAfterFilter=S.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var h=function(S,E){if(S.childrenAfterGroup)for(var T=0;T<S.childrenAfterGroup.length;T++){var O=S.childrenAfterGroup[T],R=E||o.filterManager.doesRowPassFilter({rowNode:O});O.childrenAfterGroup?h(S.childrenAfterGroup[T],R):s(O,R)}s(S,E)};r.executeFromRootNode(function(S){return h(S,!1)})}else r.forEachChangedNodeDepthFirst(function(S){return s(S,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){r++,r+=o.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){o.group?r+=o.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},kd([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),kd([w.NqP],t.prototype,"postConstruct",null),kd([(0,w.Vu6)("filterService")],t)}(w.AS9),lf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},xv=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lf(t,l),t.prototype.postConstruct=function(){this.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var o=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(r,2),p=this.clientSideRowModel.updateRowData(o[0],o[1]);p&&this.rowRenderer.refreshFullWidthRows(p.update)}},t.prototype.createTransactionForRowData=function(e){var r=this;if(w._.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var s={remove:[],update:[],add:[]},h=this.clientSideRowModel.getCopyOfNodesMap(),y=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return w._.exists(e)&&e.forEach(function(S,E){var T=o({data:S,level:0,api:r.gridApi,columnApi:r.columnApi}),O=h[T];y&&(y[T]=E),O?(O.data!==S&&s.update.push(S),h[T]=void 0):s.add.push(S)}),w._.iterateObject(h,function(S,E){E&&s.remove.push(E.data)}),[s,y]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Vd([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),Vd([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Vd([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Vd([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Vd([w.NqP],t.prototype,"postConstruct",null),Vd([(0,w.Vu6)("immutableService")],t)}(w.AS9),F4={moduleName:w.GXE.ClientSideRowModelModule,beans:[Pa,j1,A4,kh,zd,xv],rowModels:{clientSide:Hs}},U1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cf=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Mv=function(l){function t(e,r,o){var s=l.call(this,e)||this;return s.parentCache=r,s.params=o,s.startRow=e*o.blockSize,s.endRow=s.startRow+o.blockSize,s}return U1(t,l),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,o){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),w._.exists(r)?e.setDataAndId(r,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();w._.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,r,o){var s=this;this.rowNodes.forEach(function(h,p){s.startRow+p<o&&e(h,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){return void 0===r&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,o=new w.Fxk(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(r),o.setRowTop(this.params.rowHeight*r),this.rowNodes.push(o)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(s,h){r.setDataAndId(s,e.rowData?e.rowData[h]:void 0,r.startRow+h)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},cf([(0,w.fsG)("beans")],t.prototype,"beans",void 0),cf([w.NqP],t.prototype,"postConstruct",null),cf([w.FXL],t.prototype,"destroyRowNodes",null),t}(w.NlK),L4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uf=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},I4=function(l,t){return function(e,r){t(e,r,l)}},df=function(l){function t(e){var r=l.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return L4(t,l),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){void 0===r&&(r=!1);var o=Math.floor(e/this.params.blockSize),s=this.blocks[o];if(!s){if(r)return;s=this.createBlock(o)}return s.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new Mv(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter(function(S){return S!=e});o.sort(function(S,E){return E.getLastAccessed()-S.getLastAccessed()});var h=this.params.maxBlocksInCache>0,p=h?this.params.maxBlocksInCache-1:null,y=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(S,E){if(S.getState()===Mv.STATE_WAITING_TO_LOAD&&E>=y||h&&E>=p){if(r.isBlockCurrentlyDisplayed(S)||r.isBlockFocused(S))return;r.removeBlockFromCache(S)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var o=e.getStartRow(),s=e.getEndRow();return r.rowIndex>=o&&r.rowIndex<s},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,w._.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,o=new w.at1;this.getBlocksInOrder().forEach(function(s){return s.forEachNode(e,o,r.rowCount)})},t.prototype.getBlocksInOrder=function(){return w._.getAllValuesInObject(this.blocks).sort(function(o,s){return o.getId()-s.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.params.blockSize>=e.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return e.destroyBlock(o)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var o=this,s=[],h=-1,p=!1,y=new w.at1;w._.missing(e)&&(p=!0);var S=!1;return this.getBlocksInOrder().forEach(function(T){if(!S){if(p&&h+1!==T.getId())return void(S=!0);h=T.getId(),T.forEachNode(function(O){var R=O===e||O===r;(p||R)&&s.push(O),R&&(p=!p)},y,o.rowCount)}}),S||p?[]:s},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,uf([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),uf([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),uf([I4(0,(0,w.qaB)("loggerFactory"))],t.prototype,"setBeans",null),uf([w.FXL],t.prototype,"destroyAllBlocks",null),t}(w.AS9),U3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ic=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zh=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return U3(t,l),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,o,s){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&w._.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!w._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var o=this.createModelUpdatedEvent();this.eventService.dispatchEvent(o)}},t.prototype.createModelUpdatedEvent=function(){return{type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new w.at1},this.infiniteCache=this.createBean(new df(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var r=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return r>o?o:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},Ic([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),Ic([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Ic([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),Ic([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Ic([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Ic([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Ic([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ic([w.NqP],t.prototype,"init",null),Ic([w.FXL],t.prototype,"destroyDatasource",null),Ic([(0,w.Vu6)("rowModel")],t)}(w.AS9),as={moduleName:w.GXE.InfiniteRowModelModule,rowModels:{infinite:zh}},hf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Y1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return hf(t,l),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var o=this.extractRowsFromGridRowModel(e);return o.chartData=this.aggregateRowsByDimension(e,o.chartData),o},t.prototype.extractRowsFromGridRowModel=function(e){var E,r=this,o=[],s={},h={},p={},y={},S=[];if(e.crossFiltering)y=this.getFilteredRowNodes(),E=(S=this.getAllRowNodes()).length;else{var T=this.gridRowModel.getRowCount()-1;E=(e.endRow>=0?Math.min(e.endRow,T):T)-e.startRow+1}for(var R=function(de){var he={},Ue=e.crossFiltering?S[de]:N.gridRowModel.getRow(de+e.startRow);e.dimensionCols.forEach(function(st){var rt=st.colId,Pt=r.columnModel.getGridColumn(rt);if(Pt){var Rt=r.valueService.getValue(Pt,Ue);if(e.grouping){var Gt=Rt&&Rt.toString?String(Rt.toString()):"",Zt=t.getGroupLabels(Ue,Gt);he[rt]={labels:Zt,toString:function(){return this.labels.filter(function(Sn){return!!Sn}).reverse().join(" - ")}},Ue.group&&(h[Zt.toString()]=de);var Rn=Zt.slice(1,Zt.length).toString();Rn&&(p[Rn]=h[Rn])}else he[rt]=Rt}else he[Vh.DEFAULT_CATEGORY]=de+1}),e.valueCols.forEach(function(st){var rt=[],Pt=st.getColDef().pivotKeys;Pt&&(rt=Pt.slice());var Rt=st.getColDef().headerName;Rt&&rt.push(Rt),rt.length>0&&(s[st.getId()]=rt);var Gt=st.getColId();if(e.crossFiltering){var Zt=Gt+"-filtered-out",Sn=null!=(Rn=r.valueService.getValue(st,Ue))&&"function"==typeof Rn.toNumber?Rn.toNumber():Rn;y[Ue.id]?(he[Gt]=Sn,he[Zt]=e.aggFunc||e.isScatter?void 0:0):(he[Gt]=e.aggFunc||e.isScatter?void 0:0,he[Zt]=Sn)}else{var Rn=r.valueService.getValue(st,Ue);he[Gt]=null!=Rn&&"function"==typeof Rn.toNumber?Rn.toNumber():Rn}}),Ue.footer&&(he.footer=!0),o.push(he)},N=this,X=0;X<E;X++)R(X);if(e.grouping){var ae=w._.values(p);o=o.filter(function(de,he){return!de.footer&&!w._.includes(ae,he)})}return{chartData:o,columnNames:s}},t.prototype.aggregateRowsByDimension=function(e,r){var o=this,s=e.dimensionCols;if(!e.aggFunc||0===s.length)return r;var h=w._.last(s),p=h&&h.colId,y={},S=[];return r.forEach(function(E){var T=y;s.forEach(function(O){var R=O.colId,N=E[R];if(R===p){var X=T[N];X||(X={__children:[]},s.forEach(function(ae){var le=ae.colId;X[le]=E[le]}),T[N]=X,S.push(X)),X.__children.push(E)}else T[N]||(T[N]={}),T=T[N]})}),w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Charting Aggregation")&&S.forEach(function(E){return e.valueCols.forEach(function(T){if(e.crossFiltering)e.valueCols.forEach(function(N){var X=E.__children.filter(function(Ue){return void 0!==Ue[N.getColId()]}).map(function(Ue){return Ue[N.getColId()]}),ae=o.aggregationStage.aggregateValues(X,e.aggFunc);E[N.getId()]=ae&&void 0!==ae.value?ae.value:ae;var le=N.getId()+"-filtered-out",de=E.__children.filter(function(Ue){return void 0!==Ue[le]}).map(function(Ue){return Ue[le]}),he=o.aggregationStage.aggregateValues(de,e.aggFunc);E[le]=he&&void 0!==he.value?he.value:he});else{var O=E.__children.map(function(N){return N[T.getId()]}),R=0;w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Charting Aggregation")&&(R=o.aggregationStage.aggregateValues(O,e.aggFunc)),E[T.getId()]=R&&void 0!==R.value?R.value:R}})}),S},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var r=this.extractPivotKeySeparator(e);e.forEach(function(o){var s=o.getColId().split(r);o.getColDef().pivotKeys=s.slice(0,s.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var r=function(s,h){var p=s.getGroupId();return s.getParent()?r(s.getParent(),p):h.split(p)[1][0]},o=e[0];return r(o.getParent(),o.getColId())},t.getGroupLabels=function(e,r){for(var o=[r];e&&0!==e.level;)(e=e.parent)&&o.push(e.key);return o},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions();return r&&0!=r.length?this.rowNodeSorter.doFullSort(e,r):e},Hu([(0,w.fsG)("rowModel")],t.prototype,"gridRowModel",void 0),Hu([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Hu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Hu([(0,w.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Hu([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Hu([(0,w.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(w.AS9),Ga=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},K1=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Hd=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(K1(arguments[t]));return l},Vh=function(l){function t(e){var r=l.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.grouping=!1,r.crossFiltering=!1,r.suppressComboChartWarnings=!1,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r.seriesChartTypes=e.seriesChartTypes||[],r.initComboCharts(e),r}return Ga(t,l),t.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new Y1),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.getAllChartColumns(),o=r.dimensionCols,s=r.valueCols,h=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(o,h,e),this.setValueCellRange(s,h,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!r&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(h){return t.SUPPORTED_COMBO_CHART_TYPES.includes(h.chartType)||(console.warn("AG Grid: invalid chartType '"+h.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),h.chartType="line"),h});var s=this.valueColState.map(function(h){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(y){return y.colId===h.colId})||(h.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+h.colId+"', defaulting to 'line'."),{colId:h.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=s,this.savedCustomSeriesChartTypes=s,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",r="columnLineCombo"===this.chartType?"line":"groupedColumn",o=this.valueColState.filter(function(h){return h.selected}),s=Math.ceil(o.length/2);this.seriesChartTypes=o.map(function(h,p){return{colId:h.colId,chartType:p>=s?r:e,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,o=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var s={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:o,isScatter:w._.includes(["scatter","bubble"],this.chartType)},h=this.datasource.getData(s),y=h.columnNames;this.chartData=h.chartData,this.columnNames=y},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),r=e?null:this.columnModel.getRowGroupColumns(),o=e||r&&r.length>0,s=this.getSelectedDimension().colId,p=this.columnModel.getGroupDisplayColumns().map(function(y){return y.getColId()}).some(function(y){return y===s});return!!o&&p},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===w.StC.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return w._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Hd(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,Hd(this.valueCellRange.columns)),w._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,o=this.rangeService,s=this.valueCellRange;if(o&&s){e=o.getRangeStartRow(s).rowIndex;var h=o.getRangeEndRow(s);r=h.rowPinned===w.gTE.PINNED_BOTTOM?-1:h.rowIndex}return{startRow:e,endRow:r}},t.prototype.getAllChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),o=new Set,s=new Set;return r.forEach(function(h){var p=h.getColDef(),y=p.chartDataType;if(y)switch(y){case"category":case"time":return void o.add(h);case"series":return void s.add(h);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+y+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==p.colId?h.isPrimary()?(e.isNumberCol(h)?s:o).add(h):s.add(h):o.add(h)}),{dimensionCols:o,valueCols:s}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var o=this.valueService.getValue(e,r);return null==o&&(o=this.extractLeafData(r,e)),null!=o&&"function"==typeof o.toNumber&&(o=o.toNumber()),"number"==typeof o},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var o=0;o<e.allLeafChildren.length;o++){var h=this.valueService.getValue(r,e.allLeafChildren[o]);if(null!=h)return h}return null},t.prototype.resetColumnState=function(){var e=this,r=this.getAllChartColumns(),o=r.dimensionCols,s=r.valueCols,h=this.getAllColumnsFromRanges(),p=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var y=!1,S=1,E=this.suppliedCellRange.columns[0];o.forEach(function(R){var N="ag-Grid-AutoColumn"===R.getColId(),X=!1;e.crossFiltering&&e.aggFunc?E.getColId()===R.getColId()&&(X=!0):X=!!N||!y&&h.has(R),e.dimensionColState.push({column:R,colId:R.getColId(),displayName:e.getColDisplayName(R),selected:X,order:S++}),X&&(y=!0)});var T={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!y,order:0};this.dimensionColState.unshift(T);var O=this.referenceCellRange.columns.filter(function(R){return s.has(R)});s.forEach(function(R){p&&w._.includes(e.referenceCellRange.columns,R)&&(R=O.shift()),e.valueColState.push({column:R,colId:R.getColId(),displayName:e.getColDisplayName(R),selected:h.has(R),order:S++})})},t.prototype.updateColumnState=function(e){var r=function(S){return S.colId===e.colId},s=this.dimensionColState,h=this.valueColState;s.filter(r).length>0?s.forEach(function(S){return S.selected=r(S)}):h.filter(r).forEach(function(S){return S.selected=e.selected});var p=Hd(s,h),y=[];p.forEach(function(S,E){E===e.order&&y.push(e.colId),S.colId!==e.colId&&y.push(S.colId)}),p.forEach(function(S){var E=y.indexOf(S.colId);S.order=E>=0?y.indexOf(S.colId):p.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,o){return r.order-o.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,o){var s=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var h=o;if(this.crossFiltering&&this.aggFunc){var p=this.suppliedCellRange.columns[0];h=this.dimensionColState.filter(function(y){return y.colId===p.getColId()})[0]}else(!h||!e.has(h.column))&&(h=this.dimensionColState.filter(function(y){return y.selected})[0]);h&&h.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(w.StC.DIMENSION,h.column))}else e.forEach(function(y){s.dimensionCellRange||!r.has(y)||(s.dimensionCellRange=s.createCellRange(w.StC.DIMENSION,y))})},t.prototype.setValueCellRange=function(e,r,o){this.valueCellRange=void 0;var s=[];if(e.forEach(function(p){o&&o.colId===p.getColId()?o.selected&&s.push(o.column):r.has(p)&&s.push(p)}),s.length>0){var h=[];this.valueColState.length>0?h=this.valueColState.map(function(p){return p.colId}):r.forEach(function(p){return h.push(p.getColId())}),s.sort(function(p,y){return h.indexOf(p.getColId())-h.indexOf(y.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Hd([w.StC.VALUE],s))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(w.StC.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],sc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),sc([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),sc([(0,w.fsG)("rangeService")],t.prototype,"rangeService",void 0),sc([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),sc([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),sc([w.NqP],t.prototype,"init",null),t}(w.AS9),Hh=function(){return Hh=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Hh.apply(this,arguments)},ss=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(t,e,r){void 0===r&&(r=this);var o=this.allPropertyListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removePropertyListener=function(t,e,r){void 0===r&&(r=this);var s=this.allPropertyListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(t,e,r){var o=this,h=this.allPropertyListeners.get(t);h&&h.forEach(function(p,y){p.forEach(function(S){return y.call(S,{type:t,source:o,value:r,oldValue:e})})})},l.prototype.addEventListener=function(t,e,r){void 0===r&&(r=this);var o=this.allEventListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removeEventListener=function(t,e,r){void 0===r&&(r=this);var s=this.allEventListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(t){var e=this,r=this.allEventListeners;t.forEach(function(o){var s=r.get(o);s&&s.forEach(function(h,p){h.forEach(function(y){return p.call(y,{type:o,source:e})})})})},l.prototype.fireEvent=function(t){var e=this,r=this.allEventListeners.get(t.type);r&&r.forEach(function(o,s){o.forEach(function(h){return s.call(h,Hh(Hh({},t),{source:e}))})})},l.privateKeyPrefix="_",l}();function ln(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return l.indexOf("debugger"),function(r,o){var s=ss.privateKeyPrefix+o,h=s+"Events";r[o]||(l&&(r[h]=l),Object.defineProperty(r,o,{set:function(p){var y=this[s];if(p!==y||"object"==typeof p&&null!==p){this[s]=p,this.notifyPropertyListeners(o,y,p);var S=this[h];S&&this.notifyEventListeners(S)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var N4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gh=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Bh=function(l){function t(e,r,o,s){void 0===e&&(e=0),void 0===r&&(r=e),void 0===o&&(o=e),void 0===s&&(s=r);var h=l.call(this)||this;return h.top=e,h.right=r,h.bottom=o,h.left=s,h}return N4(t,l),t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},Gh([ln("layoutChange")],t.prototype,"top",void 0),Gh([ln("layoutChange")],t.prototype,"right",void 0),Gh([ln("layoutChange")],t.prototype,"bottom",void 0),Gh([ln("layoutChange")],t.prototype,"left",void 0),t}(ss),$o=function(){function l(t,e,r,o){this.x=t,this.y=e,this.width=r,this.height=o}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(t,e){void 0===e&&(e=l.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},l.noParams={},l}(),Gu=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Bs=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},l.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),l.prototype.AxB=function(t,e,r){var o=Gu(t,6),s=o[0],h=o[1],p=o[2],y=o[3],S=o[4],E=o[5],T=Gu(e,6),O=T[0],R=T[1],N=T[2],X=T[3],ae=T[4],le=T[5];(r=r||t)[0]=s*O+p*R,r[1]=h*O+y*R,r[2]=s*N+p*X,r[3]=h*N+y*X,r[4]=s*ae+p*le+S,r[5]=h*ae+y*le+E},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=Gu(this.elements,6),e=t[0],r=t[1],o=t[2],s=t[3],h=t[4],p=t[5],y=1/(e*s-r*o);return new l([s*=y,-(r*=y),-(o*=y),e*=y,o*p-s*h,r*h-e*p])},l.prototype.inverseTo=function(t){var e=Gu(this.elements,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return t.setElements([h*=S,-(o*=S),-(s*=S),r*=S,s*y-h*p,o*p-r*y]),this},l.prototype.invertSelf=function(){var t=this.elements,e=Gu(t,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return r*=S,o*=S,s*=S,t[0]=h*=S,t[1]=-o,t[2]=-s,t[3]=r,t[4]=s*y-h*p,t[5]=o*p-r*y,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},l.prototype.transformBBox=function(t,e,r){void 0===e&&(e=0);var R,N,o=this.elements,s=o[0],h=o[1],p=o[2],y=o[3],S=.5*t.width,E=.5*t.height,T=t.x+S,O=t.y+E;if(e){S-=e,E-=e;var X=Math.sqrt(s*s+p*p),ae=Math.sqrt(h*h+y*y);R=Math.abs(S*s)+Math.abs(E*p)+Math.abs(X*e),N=Math.abs(S*h)+Math.abs(E*y)+Math.abs(ae*e)}else R=Math.abs(S*s)+Math.abs(E*p),N=Math.abs(S*h)+Math.abs(E*y);return r||(r=new $o(0,0,0,0)),r.x=T*s+O*p+o[4]-R,r.y=T*h+O*y+o[5]-N,r.width=R+R,r.height=N+N,r},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return t?l.matrix.setElements(t instanceof l?t.elements:t):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function Wh(l){var t=l.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var ws=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(ws||(ws={})),ws))(),Ba=function(){function l(){this.id=Wh(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Bs,this.inverseMatrix=new Bs,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=ws.All}return l.isNode=function(t){return!!t&&void 0!==t.matrix},l.prototype._setScene=function(t){this._scene=t;for(var e=this.children,r=e.length,o=0;o<r;o++)e[o]._setScene(t)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(t){this._parent=t},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(t){if(void 0===t&&(t=l.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,r=e.length,o=r,s=0;s<r;s++)o+=e[s].countChildren(t-1);return o},l.prototype.append=function(t){l.isNode(t)&&(t=[t]);for(var e=t.length,r=0;r<e;r++){var o=t[r];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},l.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(t,e){var r=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+r+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,r=e.indexOf(this);if(r>=0&&r<=e.length-1)return e[r+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(t,e){for(var r=Bs.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.invertSelf().transformPoint(t,e)},l.prototype.inverseTransformPoint=function(t,e){for(var r=Bs.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.transformPoint(t,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(t,e){return!1},l.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==ws.None&&this.containsPoint(t,e)){var r=this.children;if(r.length)for(var o=r.length-1;o>=0;o--){var s=r[o].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var h,p,t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([0,0],2),e=t[0],r=t[1],o=this.scalingX,s=this.scalingY;1===o&&1===s?(h=0,p=0):(h=null===this.scalingCenterX?e:this.scalingCenterX,p=null===this.scalingCenterY?r:this.scalingCenterY);var T,O,y=this.rotation,S=Math.cos(y),E=Math.sin(y);0===y?(T=0,O=0):(T=null===this.rotationCenterX?e:this.rotationCenterX,O=null===this.rotationCenterY?r:this.rotationCenterY);var R=this.translationX,N=this.translationY,X=h*(1-o)-T,ae=p*(1-s)-O;this.dirtyTransform=!1,this.matrix.setElements([S*o,E*o,-E*s,S*s,S*X-E*ae+T+R,E*X+S*ae+O+N]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}();function tu(l,t){var e=Object.create(l);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function jh(l,t){return!1!==t.clone&&t.isMergeableObject(l)?ia(function q1(l){return Array.isArray(l)?[]:{}}(l),l,t):l}function z4(l,t,e){return l.concat(t).map(function(r){return jh(r,e)})}function Av(l){return Object.keys(l).concat(function Pv(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}(l))}function vn(l,t){try{return t in l}catch(e){return!1}}function Z1(l){return function lr(l){return!!l&&"object"==typeof l}(l)&&!function Q1(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}(l)}function ia(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||z4,e.isMergeableObject=e.isMergeableObject||Z1,e.cloneUnlessOtherwiseSpecified=jh;var r=Array.isArray(t);return r===Array.isArray(l)?r?e.arrayMerge(l,t,e):function H4(l,t,e){var r={};return e.isMergeableObject(l)&&Av(l).forEach(function(o){r[o]=jh(l[o],e)}),Av(t).forEach(function(o){(function X1(l,t){return vn(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))})(l,o)||(r[o]=vn(l,o)&&e.isMergeableObject(t[o])?function V4(l,t){if(!t.customMerge)return ia;var e=t.customMerge(l);return"function"==typeof e?e:ia}(o,e)(l[o],t[o],e):jh(t[o],e))}),r}(l,t,e):jh(t,e)}function Ws(l){return"object"==typeof l&&!Array.isArray(l)}var lc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return lc(t,l),t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),o=0,s=r.length;o<s;o++){var h=r[o];this[h]=e[h]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var o in e)e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(this[o]=e[o])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,r,o){return null!=o?Math.floor(o)+Math.floor(r%1+o%1):Math.floor(r)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var r=this._lineDash;if(r!==e){if(r&&e&&r.length===e.length){for(var o=!0,s=e.length,h=0;h<s;h++)if(r[h]!==e[h]){o=!1;break}if(o)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var r=this._fillShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var r=this._strokeShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var r=this.scene.canvas.pixelRatio||1,o=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=o*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*r,e.shadowOffsetY=s.yOffset*r,e.shadowBlur=s.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=o*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var h=this.strokeShadow;h&&h.enabled&&(e.shadowColor=h.color,e.shadowOffsetX=h.xOffset*r,e.shadowOffsetY=h.yOffset*r,e.shadowBlur=h.blur*r),e.stroke()}}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=tu({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Ba),nu=function(){function l(t,e,r){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===r&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,r)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var r=this.getDataURL("image/png"),o=this.document,s=o.createElement("a");s.href=r,s.download=t,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,o=r.element,s=r.context,h=r.pixelRatio;o.width=Math.round(t*h),o.height=Math.round(e*h),o.style.width=t+"px",o.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),l.measureText=function(t,e,r,o){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=r,s.textAlign=o,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var o=r.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var r=this.textSizeCache,o=r[e];if(o){var s=o[t];if(s)return s}else r[e]={};var h=this.svgText;h.style.font=e,h.textContent=t;var p=h.getBBox(),y={width:p.width,height:p.height};return r[e][t]=y,y},l.overrideScale=function(t,e){var r=0,o={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(h,p,y,S,E,T){this.$setTransform(h*e,p*e,y*e,S*e,E*e,T*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),r=0}};for(var s in o)o.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=o[s])},l.textSizeCache={},l}(),Rv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oa=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return Rv(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=ma(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return nu.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=nu.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new $o(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=nu.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new $o(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.fill,s=r.stroke,h=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var p=this.scene.canvas.pixelRatio||1,y=e.globalAlpha;if(o){e.fillStyle=o,e.globalAlpha=y*this.opacity*this.fillOpacity;var S=this,E=S.fillShadow,T=S.text,O=S.x,R=S.y;E&&E.enabled&&(e.shadowColor=E.color,e.shadowOffsetX=E.xOffset*p,e.shadowOffsetY=E.yOffset*p,e.shadowBlur=E.blur*p),e.fillText(T,O,R)}if(s&&h){e.strokeStyle=s,e.lineWidth=h,e.globalAlpha=y*this.opacity*this.strokeOpacity;var N=this,X=N.lineDash,ae=N.lineDashOffset,le=N.lineCap,de=N.lineJoin,he=N.strokeShadow;T=N.text,O=N.x,R=N.y,X&&e.setLineDash(X),ae&&(e.lineDashOffset=ae),le&&(e.lineCap=le),de&&(e.lineJoin=de),he&&he.enabled&&(e.shadowColor=he.color,e.shadowOffsetX=he.xOffset*p,e.shadowOffsetY=he.yOffset*p,e.shadowBlur=he.blur*p),e.strokeText(T,O,R)}this.dirty=!1}},t.className="Text",t.defaultStyles=tu(Bu.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Bu);function ma(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}var Wu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pf=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},J1=function(l){function t(){var e=l.call(this)||this;e.node=new oa,e.enabled=!1,e.padding=new Bh(10);var r=e.node;return r.textAlign="center",r.textBaseline="top",r.pointerEvents=ws.None,e}return Wu(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),pf([ln("change")],t.prototype,"enabled",void 0),pf([ln("change")],t.prototype,"padding",void 0),t}(ss),Fv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function ru(l,t,e){var r=ju(l,t,e);return function Gd(l,t,e){void 0===e&&(e=1);for(var r=Math.abs(e),o=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,s=Math.pow(10,o),h=Math.max(0,Math.ceil((t-l)/e))||0,p=new G4(o),y=0;y<h;y++)p[y]=Math.round((l+e*y)*s)/s;return p}(l=Math.ceil(l/r)*r,t=Math.floor(t/r)*r+r/2,r)}var ff=Math.sqrt(50),gf=Math.sqrt(10),Uh=Math.sqrt(2);function ju(l,t,e){var r=Math.abs(t-l)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=ff?o*=10:s>=gf?o*=5:s>=Uh&&(o*=2),t<l?-o:o}function vf(l,t,e){var r=(t-l)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=ff?10:s>=gf?5:s>=Uh?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=ff?10:s>=gf?5:s>=Uh?2:1)}var G4=function(l){function t(e,r){var o=l.call(this)||this;if(r)for(var s=0,h=r.length;s<h;s++)o[s]=r[s];return o.fractionDigits=e,o}return Fv(t,l),t}(Array);function Uu(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}var ng=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Bl=function(){function l(t,e,r,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,o||0))}return l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(o){return parseInt(o,16)}).map(function(o){return o+16*o})}if(e.length>=3&&e.every(function(o){return o>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var r=ng(e,4);return new l(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=ng([NaN,NaN],2),r=e[0],o=e[1],s=0;s<t.length;s++){var h=t[s];if(r||"("!==h){if(")"===h){o=s;break}}else r=s}var p=r&&o&&t.substring(r+1,o);if(p){var y=p.split(","),S=[];for(s=0;s<y.length;s++){var E=y[s],T=parseFloat(E);if(isNaN(T))return;E.indexOf("%")>=0?(T=Math.max(0,Math.min(100,T)),T/=100):3===s?T=Math.max(0,Math.min(1,T)):(T=Math.max(0,Math.min(255,T)),T/=255),S.push(T)}return S}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,r,o){void 0===o&&(o=1);var s=l.HSBtoRGB(t,e,r);return new l(s[0],s[1],s[2],o)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,r){var o=Math.min(t,e,r),s=Math.max(t,e,r),p=NaN;if(o!==s){var y=s-o,S=(s-t)/y,E=(s-e)/y,T=(s-r)/y;p=t===s?T-E:e===s?2+S-T:4+E-S,(p/=6)<0&&(p+=1)}return[360*p,0!==s?(s-o)/s:0,s]},l.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,s=0,h=0;if(0===e)o=s=h=r;else{var p=6*(t-Math.floor(t)),y=p-Math.floor(p),S=r*(1-e),E=r*(1-e*y),T=r*(1-e*(1-y));switch(p>>0){case 0:o=r,s=T,h=S;break;case 1:o=E,s=r,h=S;break;case 2:o=S,s=r,h=T;break;case 3:o=S,s=E,h=r;break;case 4:o=T,s=S,h=r;break;case 5:o=r,s=S,h=E}}return[o,s,h]},l.prototype.derive=function(t,e,r,o){var s=l.RGBtoHSB(this.r,this.g,this.b),h=s[2];0==h&&r>1&&(h=.05);var p=((s[0]+t)%360+360)%360,y=Math.max(Math.min(s[1]*e,1),0);h=Math.max(Math.min(h*r,1),0);var S=Math.max(Math.min(this.a*o,1),0),E=l.HSBtoRGB(p,y,h);return E.push(S),l.fromArray(E)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function rg(l,t){if("string"==typeof l)try{l=Bl.fromString(l)}catch(h){l=Bl.fromArray([0,0,0])}if("string"==typeof t)try{t=Bl.fromString(t)}catch(h){t=Bl.fromArray([0,0,0])}var e=Uu(l.r,t.r),r=Uu(l.g,t.g),o=Uu(l.b,t.b),s=Uu(l.a,t.a);return function(h){return Bl.fromArray([e(h),r(h),o(h),s(h)]).toRgbaString()}}function Kh(l,t){var e=typeof t;if(null==t||"boolean"===e)return function(l){return function(){return l}}(t);if("number"===e)return Uu(l,t);if("string"===e)try{return rg(l,t=Bl.fromString(t))}catch(o){}return t instanceof Bl?rg(l,t):t instanceof Date?function Iv(l,t){var e=new Date,r=+l,o=+t;return function(s){return e.setTime(r*(1-s)+o*s),e}}(l,t):Array.isArray(t)?function W4(l,t){var h,e=t?t.length:0,r=l?Math.min(e,l.length):0,o=new Array(r),s=new Array(e);for(h=0;h<r;++h)o[h]=Kh(l[h],t[h]);for(;h<e;++h)s[h]=t[h];return function(p){for(h=0;h<r;++h)s[h]=o[h](p);return s}}(l,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function j4(l,t){var o,e={},r={};for(o in(null===l||"object"!=typeof l)&&(l={}),(null===t||"object"!=typeof t)&&(t={}),t)o in l?e[o]=Kh(l[o],t[o]):r[o]=t[o];return function(s){for(o in e)r[o]=e[o](s);return r}}(l,t):Uu(l,t)}function $h(l,t){return l<t?-1:l>t?1:l>=t?0:NaN}var Nc=function(l){return l};function Bd(l){var t,e=l[0],r=l[l.length-1];return e>r&&(t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([r,e],2),e=t[0],r=t[1]),function(o){return Math.max(e,Math.min(r,o))}}var yf,Cf,Wv,Qh,Wa=function(){function l(){this.unknown=void 0,this.clamper=Bd,this._clamp=Nc,this._domain=[0,1],this._range=[0,1],this.transform=Nc,this.untransform=Nc,this._interpolate=Kh,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==Nc},set:function(t){this._clamp=t?this.clamper(this.domain):Nc},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==Nc&&(this._clamp=this.clamper(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:function(l){return function(){return l}}(isNaN(e)?NaN:.5)},l.prototype.bimap=function(t,e,r){var y,S,o=t[0],s=t[1],h=e[0],p=e[1];return s<o?(y=this.normalize(s,o),S=r(p,h)):(y=this.normalize(o,s),S=r(h,p)),function(E){return S(y(E))}},l.prototype.polymap=function(t,e,r){var o=this,s=Math.min(t.length,e.length)-1;t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());var h=Array.from({length:s},function(y,S){return o.normalize(t[S],t[S+1])}),p=Array.from({length:s},function(y,S){return r(e[S],e[S+1])});return function(y){var S=function Nv(l,t,e,r,o){for(void 0===r&&(r=0),void 0===o&&(o=l.length);r<o;){var s=r+o>>>1;e(l[s],t)>0?o=s:r=s+1}return r}(t,y,$h,1,s)-1;return p[S](h[S](y))}},l.prototype.convert=function(t,e){if(t=+t,isNaN(t))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var r=e?e(this.domain):this._clamp;return this.output(this.transform(r(t)))},l.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Uu)),this._clamp(this.untransform(this.input(t)))},l}(),og={"":function Vv(l,t){var e=l.toPrecision(t);e:for(var r=e.length,o=1,s=-1,h=0;o<r;++o)switch(e[o]){case".":s=h=o;break;case"0":0===s&&(s=o),h=o;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(h+1):e},"%":function(l,t){return(100*l).toFixed(t)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:function uc(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,t){return l.toExponential(t)},f:function(l,t){return l.toFixed(t)},g:function(l,t){return l.toPrecision(t)},o:function(l){return Math.round(l).toString(8)},p:function(l,t){return Bv(100*l,t)},r:Bv,s:function sg(l,t){void 0===t&&(t=0);var e=Xh(l,t);if(!e)return String(l);var r=e[0],o=e[1],s=o-(yf=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,h=r.length;if(s===h)return r;if(s>h)return r+new Array(s-h+1).join("0");if(s>0)return r.slice(0,s)+"."+r.slice(s);var p=Xh(l,Math.max(0,t+s-1));return"0."+new Array(1-s).join("0")+p[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},cc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Wd=function l(t){t instanceof l?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},mf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,qh=/(#\{(.*?)\})/g;function ja(l){if(l instanceof Wd)return new Wd(l);var t=!1,e=l.replace(qh,function(){return t||(l=arguments[2],t=!0),"#{}"}),r=mf.exec(l);if(!r)throw new Error("Invalid format: "+l);return new Wd({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?e:void 0})}function Bv(l,t){var e=Xh(l,t);if(!e)return String(l);var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function Xh(l,t){var e=t?l.toExponential(t-1):l.toExponential(),r=e.indexOf("e");if(!(r<0)){var o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}}function Zh(l){return l}function Ku(l){var t=Xh(Math.abs(l));return t?t[1]:NaN}!function K4(l){Cf=function jv(l){var t=void 0===l.grouping||void 0===l.thousands?Zh:function Y4(l,t){return function(e,r){for(var o=[],s=e.length,h=0,p=l[0],y=0;s>0&&p>0&&(y+p+1>r&&(p=Math.max(1,r-y)),o.push(e.substring(s-=p,s+p)),!((y+=p+1)>r));)p=l[h=(h+1)%l.length];return o.reverse().join(t)}}(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),r=void 0===l.currency?"":String(l.currency[1]),o=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?Zh:function Hv(l){return function(t){return t.replace(/[0-9]/g,function(e){return l[+e]})}}(Array.prototype.map.call(l.numerals,String)),h=void 0===l.percent?"%":String(l.percent),p=void 0===l.minus?"\u2212":String(l.minus),y=void 0===l.nan?"NaN":String(l.nan);function S(T){var O=ja(T),R=O.fill,N=O.align,X=O.sign,ae=O.symbol,le=O.zero,de=O.width,he=O.comma,Ue=O.precision,st=O.trim,rt=O.type;"n"===rt?(he=!0,rt="g"):og[rt]||(void 0===Ue&&(Ue=12),st=!0,rt="g"),(le||"0"===R&&"="===N)&&(le=!0,R="0",N="=");var Pt="$"===ae?e:"#"===ae&&/[boxX]/.test(rt)?"0"+rt.toLowerCase():"",Rt="$"===ae?r:/[%p]/.test(rt)?h:"",Gt=og[rt],Zt=/[defgprs%]/.test(rt);return Ue=void 0===Ue?6:/[gprs]/.test(rt)?Math.max(1,Math.min(21,Ue)):Math.max(0,Math.min(20,Ue)),function Rn(Sn){var sn,rn=Pt,Cn=Rt;if("c"===rt)Cn=Gt(+Sn)+Cn,sn="";else{var dn=+Sn,nr=Sn<0||1/dn<0;if(sn=isNaN(dn)?y:Gt(Math.abs(dn),Ue),st&&(sn=function Gv(l){e:for(var t=l.length,e=1,r=-1,o=0;e<t;++e)switch(l[e]){case".":r=o=e;break;case"0":0===r&&(r=e),o=e;break;default:if(!+l[e])break e;r>0&&(r=0)}return r>0?l.slice(0,r)+l.slice(o+1):l}(sn)),nr&&0==+sn&&"+"!==X&&(nr=!1),rn=(nr?"("===X?X:p:"-"===X||"("===X?"":X)+rn,Cn=("s"===rt?cc[8+yf/3]:"")+Cn+(nr&&"("===X?")":""),Zt)for(var Wn=0,Vr=sn.length;Wn<Vr;Wn++){var Un=sn.charCodeAt(Wn);if(48>Un||Un>57){Cn=(46===Un?o+sn.slice(Wn+1):sn.slice(Wn))+Cn,sn=sn.slice(0,Wn);break}}}he&&!le&&(sn=t(sn,1/0));var Ur=rn.length+sn.length+Cn.length,Hr=Ur<de?new Array(de-Ur+1).join(R):"";switch(he&&le&&(sn=t(Hr+sn,Hr.length?de-Cn.length:1/0),Hr=""),N){case"<":sn=rn+sn+Cn+Hr;break;case"=":sn=rn+Hr+sn+Cn;break;case"^":sn=Hr.slice(0,Ur=Hr.length>>1)+rn+sn+Cn+Hr.slice(Ur);break;default:sn=Hr+rn+sn+Cn}var Ti=O.string;return Ti?Ti.replace(qh,function(){return s(sn)}):s(sn)}}return{format:S,formatPrefix:function E(T,O){var R=ja(T);R.type="f";var N=S(R),X=3*Math.max(-8,Math.min(8,Math.floor(Ku(O)/3))),ae=Math.pow(10,-X),le=cc[8+X/3];return function(de){return N(ae*+de)+le}}}}(l),Wv=Cf.format,Qh=Cf.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var _f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aa=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return _f(t,l),t.prototype.ticks=function(e){void 0===e&&(e=10);var r=this._domain;return ru(r[0],r[r.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var y,r=this.domain,o=0,s=r.length-1,h=r[o],p=r[s];p<h&&(y=h,h=p,p=y,y=o,o=s,s=y),(y=vf(h,p,e))>0?y=vf(h=Math.floor(h/y)*y,p=Math.ceil(p/y)*y,e):y<0&&(y=vf(h=Math.ceil(h*y)/y,p=Math.floor(p*y)/y,e)),y>0?(r[o]=Math.floor(h/y)*y,r[s]=Math.ceil(p/y)*y,this.domain=r):y<0&&(r[o]=Math.ceil(h*y)/y,r[s]=Math.floor(p*y)/y,this.domain=r)},t.prototype.tickFormat=function(e,r){var o=this.domain;return function ag(l,t,e,r){var h,o=ju(l,t,e),s=ja(null==r?",f":r);switch(s.type){case"s":var p=Math.max(Math.abs(l),Math.abs(t));return null==s.precision&&!isNaN(h=function $4(l,t){var e=Math.floor(Ku(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Ku(Math.abs(l)))}(o,p))&&(s.precision=h),Qh(s,p);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(h=function Wl(l,t){return l=Math.abs(l),t=Math.abs(t)-l,Math.max(0,Ku(t)-Ku(l))+1}(o,Math.max(Math.abs(l),Math.abs(t))))&&(s.precision=h-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(h=function lg(l){return Math.max(0,-Ku(Math.abs(l)))}(o))&&(s.precision=h-2*+("%"===s.type))}return Wv(s)}(o[0],o[o.length-1],null==e?10:e,r)},t}(Wa);function cg(l,t){for(var e=0;e<l.length;e++){var r=l[e];if(t(r,e,l))return r}}function kn(l){return l}function bo(l,t,e){for(var h,p,y,r=e||kn,o=l.length,s=-1;++s<o;)if(t(h=l[s]))for(p=y=h;++s<o;)t(h=l[s])&&(p>h&&(p=h),y<h&&(y=h));return void 0===p||void 0===y?void 0:[r(p),r(y)]}function Uv(l,t,e){void 0===t&&(t=0),void 0===e&&(e=l.length);var r=[],o=l.length;if(o)for(var s=0;s<e;s++)r.push(l[(t+s)%o]);return r}function Kr(l){var t=typeof l;return"string"!==t&&"number"===t&&l-l<1}function Jh(l){return"string"==typeof l}function Ao(l){return Jh(l)||function jl(l){return!!l&&l.hasOwnProperty("toString")&&Jh(l.toString())}(l)}function Aa(l){return function wf(l){return Kr(l)||function Yv(l){return!!l&&l.hasOwnProperty("valueOf")&&Kr(l.valueOf())}(l)}(l)||function ug(l){return l instanceof Date&&!isNaN(+l)}(l)}var kc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hi=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return kc(t,l),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,o=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(h){if(h.visible){var p=h.computeBBox();if(p){if(!(h instanceof t)){h.dirtyTransform&&h.computeTransformMatrix();for(var y=Bs.flyweight(h.matrix),S=h.parent;S;)y.preMultiplySelf(S.matrix),S=S.parent;y.transformBBox(p,0,p)}var E=p.x,T=p.y;E<e&&(e=E),T<o&&(o=T),E+p.width>r&&(r=E+p.width),T+p.height>s&&(s=T+p.height)}}}),new $o(e,o,r-e,s-o)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.children,o=r.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,r.sort(function(p,y){return p.zIndex-y.zIndex}));for(var s=0;s<o;s++){var h=r[s];h.visible&&(e.save(),h.render(e),e.restore())}},t.className="Group",t}(Ba),dg=function(){function l(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Ba.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),Io=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([null==t?[]:t],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.appendFn=function(t){return this.select(function(e,r,o,s){return e.appendChild(t(e,r,o,s))})},l.prototype.select=function(t){for(var e=this.groups,r=e.length,o=[],s=0;s<r;s++)for(var h=e[s],p=h.length,y=o[s]=new Array(p),S=0;S<p;S++){var E=h[S];if(E){var T=t(E,E.datum,S,h);T&&(T.datum=E.datum),y[S]=T}}return new l(o,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(Ba.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h instanceof t)return h}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(Ba.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h.tag===t)return h}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var r=[];if(Ba.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p instanceof t&&r.push(p)}return r})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var r=[];if(Ba.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p.tag===t&&r.push(p)}return r})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],r=[],o=this.groups,s=o.length,h=0;h<s;h++)for(var p=o[h],y=p.length,S=0;S<y;S++){var E=p[S];E&&(e.push(t(E,E.datum,S,p)),r.push(E))}return new l(e,r)},l.prototype.each=function(t){for(var e=this.groups,r=e.length,o=0;o<r;o++)for(var s=e[o],h=s.length,p=0;p<h;p++){var y=s[p];y&&t(y,y.datum,p,s)}return this},l.prototype.remove=function(){return this.each(function(t){if(Ba.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,r=t.groups,o=e.length,h=Math.min(o,r.length),p=new Array(o),y=0;y<h;y++)for(var S=e[y],E=r[y],T=S.length,O=p[y]=new Array(T),R=0;R<T;R++)O[R]=S[R]||E[R]||void 0;for(;y<o;y++)p[y]=e[y];return new l(p,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,r=0;r<e;r++)for(var o=t[r],s=o.length,h=0;h<s;h++){var p=o[h];if(p)return p}return null},l.prototype.attr=function(t,e){return this.each(function(r){r[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(r,o,s,h){r[t]=e(r,o,s,h)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t=[];return this.each(function(e,r){return t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var r=t;t=function(){return r}}for(var o=this.groups,s=this.parents,h=o.length,p=new Array(h),y=new Array(h),S=new Array(h),E=0;E<h;E++){var T=o[E],O=s[E];if(!O)throw new Error("Group #"+E+" has no parent: "+T);var R=T.length,N=t(O,O.datum,E,s),X=N.length,ae=y[E]=new Array(X),le=p[E]=new Array(X),de=S[E]=new Array(R);e?this.bindKey(O,T,ae,le,de,N,e):this.bindIndex(O,T,ae,le,de,N);for(var he=0,Ue=0;he<X;he++){var st=ae[he];if(st){he>=Ue&&(Ue=he+1);for(var rt=void 0;!(rt=le[Ue])&&Ue<X;)Ue++;st.next=rt||null}}}var Pt=new l(p,s);return Pt.enterGroups=y,Pt.exitGroups=S,Pt},l.prototype.bindIndex=function(t,e,r,o,s,h){for(var p=e.length,y=h.length,S=0;S<y;S++)(E=e[S])?(E.datum=h[S],o[S]=E):r[S]=new dg(t,h[S]);for(;S<p;S++){var E;(E=e[S])&&(s[S]=E)}},l.prototype.bindKey=function(t,e,r,o,s,h,p){for(var y=e.length,S=h.length,E=new Array(y),T={},O=0;O<y;O++)(R=e[O])&&((N=E[O]=l.keyPrefix+p(R,R.datum,O,e))in T?s[O]=R:T[N]=R);for(O=0;O<S;O++){var N;(R=T[N=l.keyPrefix+p(t,h[O],O,h)])?(o[O]=R,R.datum=h[O],T[N]=void 0):r[O]=new dg(t,h[O])}for(O=0;O<y;O++){var R;(R=e[O])&&T[E[O]]===R&&(s[O]=R)}},l.keyPrefix="$",l}(),$3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pl=function(l){function t(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return $3(t,l),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new $o(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.x1,o=this.y1,s=this.x2,h=this.y2;if(r===s){var p=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=p,s=p}else if(o===h){var y=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=y,h=y}e.beginPath(),e.moveTo(r,o),e.lineTo(s,h),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=tu(Bu.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Bu),X4=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function tp(l,t,e,r,o,s,h,p){var y=(e-l)*(p-s)-(r-t)*(h-o);if(0===y)return null;var S=((h-o)*(t-s)-(l-o)*(p-s))/y,E=((e-l)*(t-s)-(r-t)*(l-o))/y;return S>=0&&S<=1&&E>=0&&E<=1?{x:l+S*(e-l),y:t+S*(r-t)}:null}function hg(l,t,e,r,o,s,h,p,y,S,E,T){for(var O=[],R=S-T,N=E-y,X=y*(T-S)-S*(E-y),ae=pg(l,e,o,h),le=pg(t,r,s,p),rt=function ep(l,t,e,r){if(0===l)return function Sf(l,t,e){if(0===l)return function jd(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}(t,e);var r=t*t-4*l*e,o=[];if(0===r){var s=-t/(2*l);s>=0&&s<=1&&o.push(s)}else if(r>0){var h=Math.sqrt(r),p=(-t-h)/(2*l),y=(-t+h)/(2*l);p>=0&&p<=1&&o.push(p),y>=0&&y<=1&&o.push(y)}return o}(t,e,r);var o=t/l,s=e/l,p=(3*s-o*o)/9,y=(9*o*s-r/l*27-2*o*o*o)/54,S=p*p*p+y*y,E=1/3,T=[];if(S>=0){var O=Math.sqrt(S),R=X4(y+O)*Math.pow(Math.abs(y+O),E),N=X4(y-O)*Math.pow(Math.abs(y-O),E),X=Math.abs(Math.sqrt(3)*(R-N)/2),ae=-E*o+(R+N);if(ae>=0&&ae<=1&&T.push(ae),0===X){var le=-E*o-(R+N)/2;le>=0&&le<=1&&T.push(le)}}else{var de=Math.acos(y/Math.sqrt(-p*p*p)),he=E*o,Ue=2*Math.sqrt(-p),st=Ue*Math.cos(E*de)-he,rt=Ue*Math.cos(E*(de+2*Math.PI))-he,Pt=Ue*Math.cos(E*(de+4*Math.PI))-he;st>=0&&st<=1&&T.push(st),rt>=0&&rt<=1&&T.push(rt),Pt>=0&&Pt<=1&&T.push(Pt)}return T}(R*ae[0]+N*le[0],R*ae[1]+N*le[1],R*ae[2]+N*le[2],R*ae[3]+N*le[3]+X),Pt=0;Pt<rt.length;Pt++){var rn,Rt=rt[Pt],Gt=Rt*Rt,Zt=Rt*Gt,Rn=ae[0]*Zt+ae[1]*Gt+ae[2]*Rt+ae[3],Sn=le[0]*Zt+le[1]*Gt+le[2]*Rt+le[3];(rn=y!==E?(Rn-y)/(E-y):(Sn-S)/(T-S))>=0&&rn<=1&&O.push({x:Rn,y:Sn})}return O}function pg(l,t,e,r){return[3*t-l-3*e+r,3*l-6*t+3*e,-3*l+3*t,l]}var Kv=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.draw=function(t){var e=this.commands,r=this.params,o=e.length,s=0;t.beginPath();for(var h=0;h<o;h++)switch(e[h]){case"M":t.moveTo(r[s++],r[s++]);break;case"L":t.lineTo(r[s++],r[s++]);break;case"C":t.bezierCurveTo(r[s++],r[s++],r[s++],r[s++],r[s++],r[s++]);break;case"Z":t.closePath()}},l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,r,o){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+o),this.lineTo(t,e+o),this.closePath()},l.prototype.arcTo=function(t,e,r,o,s,h,p){var y=this.xy;if(y){t<0&&(t=-t),e<0&&(e=-e);var S=y[0],E=y[1],T=(S-h)/2,O=(E-p)/2,R=Math.sin(r),N=Math.cos(r),X=N*T+R*O,ae=-R*T+N*O,le=X/t,de=ae/e,he=le*le+de*de,Ue=(S+h)/2,st=(E+p)/2,rt=0,Pt=0;he>=1?(t*=he=Math.sqrt(he),e*=he):(he=Math.sqrt(1/he-1),o===s&&(he=-he),Ue+=N*(rt=he*t*de)-R*(Pt=-he*e*le),st+=R*rt+N*Pt);var Rt=Math.atan2((ae-Pt)/e,(X-rt)/t),Gt=Math.atan2((-ae-Pt)/e,(-X-rt)/t)-Rt;this.cubicArc(Ue,st,t,e,r,Rt,Rt+Gt,1-s)}},l.cubicArc=function(t,e,r,o,s,h,p,y,S,E){if(E){var T=y;y=S,S=T}var O=e.length,R=.5522847498307935,N=Math.sin(y),X=Math.cos(y),ae=Math.sin(p),le=Math.cos(p),de=Math.PI/2,he=le*X*s-ae*N*h,Ue=ae*X*s+le*N*h,st=-le*N*s-ae*X*h,rt=-ae*N*s+le*X*h;for((S-=y)<0&&(S+=2*Math.PI),t.push("M"),e.push(he+r,Ue+o);S>=de;){S-=de,t.push("C");var Pt=st+r;e.push(he+st*R+r,Ue+rt*R+o,he*R+st+r,Ue*R+rt+o,Math.abs(Pt)<1e-8?0:Pt,rt+o),T=he,he=st,st=-T,T=Ue,Ue=rt,rt=-T}if(S){var Rt=1.3333333333333333*Math.tan(S/4),Gt=Math.sin(S),Zt=Math.cos(S),Rn=Zt+Rt*Gt,Sn=Gt-Rt*Zt;t.push("C"),Pt=he*Zt+st*Gt+r,e.push(he+st*Rt+r,Ue+rt*Rt+o,he*Rn+st*Sn+r,Ue*Rn+rt*Sn+o,Math.abs(Pt)<1e-8?0:Pt,Ue*Zt+rt*Gt+o)}if(E)for(var rn=O,Cn=e.length-2;rn<Cn;rn+=2,Cn-=2)T=e[rn],e[rn]=e[Cn],e[Cn]=T,T=e[rn+1],e[rn+1]=e[Cn+1],e[Cn+1]=T},l.prototype.cubicArc=function(t,e,r,o,s,h,p,y){var S=this.commands,E=this.params,T=S.length;l.cubicArc(S,E,t,e,r,o,s,h,p,y);var O=E[E.length-2],R=E[E.length-1];this.xy?(S[T]="L",this.xy[0]=O,this.xy[1]=R):this.xy=[O,R]},l.prototype.deCasteljau=function(t,e){var r=t.length;if(r<2||r%2==1)throw new Error("Fewer than two points or not an even count.");if(2===r||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var o=[],s=r-2,h=0;h<s;h+=2)o.push((1-e)*t[h]+e*t[h+2],(1-e)*t[h+1]+e*t[h+3]);return this.deCasteljau(o,e)},l.prototype.approximateCurve=function(t,e){var r=this.deCasteljau(t,0);this.moveTo(r[0],r[1]);for(var o=1/e,s=o;s<=1;s+=o){var h=this.deCasteljau(t,s);this.lineTo(h[0],h[1])}},l.prototype.quadraticCurveTo=function(t,e,r,o){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+r)/3,(2*e+o)/3,r,o)},l.prototype.cubicCurveTo=function(t,e,r,o,s,h){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,r,o,s,h),this.xy[0]=s,this.xy[1]=h},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var r=this.commands,o=this.params,s=r.length,h=-1e4,p=-1e4,y=NaN,S=NaN,E=0,T=0,O=0,R=0,N=0;R<s;R++)switch(r[R]){case"M":isNaN(y)||tp(y,S,E,T,h,p,t,e)&&O++,y=E=o[N++],S=T=o[N++];break;case"L":tp(E,T,E=o[N++],T=o[N++],h,p,t,e)&&O++;break;case"C":O+=hg(E,T,o[N++],o[N++],o[N++],o[N++],E=o[N++],T=o[N++],h,p,t,e).length;break;case"Z":isNaN(y)||tp(y,S,E,T,h,p,t,e)&&O++}return O%2==1},l.fromString=function(t){var e=new l;return e.setFromString(t),e},l.parseSvgPath=function(t){return t.trim().split(l.splitCommandsRe).map(function(e){var r=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:r?r.map(parseFloat):[]}})},l.prettifySvgPath=function(t){return l.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(t){var o,s,h,p,y,e=this;function S(){y.match(l.quadraticCommandRe)||(h=o,p=s)}function E(){y.match(l.cubicCommandRe)||(h=o,p=s)}this.clear(),l.parseSvgPath(t).forEach(function(T){var O=T.params,R=O.length,N=0;switch(T.command){case"M":for(e.moveTo(o=O[N++],s=O[N++]);N<R;)e.lineTo(o=O[N++],s=O[N++]);break;case"m":for(e.moveTo(o+=O[N++],s+=O[N++]);N<R;)e.lineTo(o+=O[N++],s+=O[N++]);break;case"L":for(;N<R;)e.lineTo(o=O[N++],s=O[N++]);break;case"l":for(;N<R;)e.lineTo(o+=O[N++],s+=O[N++]);break;case"C":for(;N<R;)e.cubicCurveTo(O[N++],O[N++],h=O[N++],p=O[N++],o=O[N++],s=O[N++]);break;case"c":for(;N<R;)e.cubicCurveTo(o+O[N++],s+O[N++],h=o+O[N++],p=s+O[N++],o+=O[N++],s+=O[N++]);break;case"S":for(E();N<R;)e.cubicCurveTo(o+o-h,s+s-p,h=O[N++],p=O[N++],o=O[N++],s=O[N++]);break;case"s":for(E();N<R;)e.cubicCurveTo(o+o-h,s+s-p,h=o+O[N++],p=s+O[N++],o+=O[N++],s+=O[N++]);break;case"Q":for(;N<R;)e.quadraticCurveTo(h=O[N++],p=O[N++],o=O[N++],s=O[N++]);break;case"q":for(;N<R;)e.quadraticCurveTo(h=o+O[N++],p=s+O[N++],o+=O[N++],s+=O[N++]);break;case"T":for(S();N<R;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o=O[N++],s=O[N++]);break;case"t":for(S();N<R;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o+=O[N++],s+=O[N++]);break;case"A":for(;N<R;)e.arcTo(O[N++],O[N++],O[N++]*Math.PI/180,O[N++],O[N++],o=O[N++],s=O[N++]);break;case"a":for(;N<R;)e.arcTo(O[N++],O[N++],O[N++]*Math.PI/180,O[N++],O[N++],o+=O[N++],s+=O[N++]);break;case"Z":case"z":e.closePath();break;case"H":for(;N<R;)e.lineTo(o=O[N++],s);break;case"h":for(;N<R;)e.lineTo(o+=O[N++],s);break;case"V":for(;N<R;)e.lineTo(o,s=O[N++]);break;case"v":for(;N<R;)e.lineTo(o,s+=O[N++])}y=T.command})},l.prototype.toString=function(){for(var t=this.commands,e=this.params,r=t.length,o=[],s=0,h=0;s<r;s++)switch(t[s]){case"M":o.push("M"+e[h++]+","+e[h++]);break;case"L":o.push("L"+e[h++]+","+e[h++]);break;case"C":o.push("C"+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]);break;case"Z":o.push("Z")}return o.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var t=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var r,o,s,h,p,t=[],e=this.params,y=0;return this.commands.forEach(function(S){switch(S){case"M":r=[o=h=e[y++],s=p=e[y++]],t.push(r);break;case"L":var E=e[y++],T=e[y++];r.push((h+h+E)/3,(p+p+T)/3,(h+E+E)/3,(p+T+T)/3,h=E,p=T);break;case"C":r.push(e[y++],e[y++],e[y++],e[y++],h=e[y++],p=e[y++]);break;case"Z":r.push((h+h+o)/3,(p+p+s)/3,(h+o+o)/3,(p+s+s)/3,h=o,p=s)}}),t},l.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),Z4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ra=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new Kv,e._dirtyPath=!0,e._svgPath="",e}return Z4(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Bu),dc=2*Math.PI;function fl(l){return l%=dc,(l+=dc)%dc}function ya(l){return l/180*Math.PI}function ou(l,t,e){return void 0===e&&(e=1e-10),Math.abs(l-t)<e}function js(l,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(l))/Math.LN10);return e>=0||!isFinite(e)?l.toFixed(t):l.toFixed(Math.abs(e)-1+t)}Number.EPSILON||Math.pow(2,-52);var bf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ud=(()=>(function(l){l[l.Open=0]="Open",l[l.Chord=1]="Chord",l[l.Round=2]="Round"}(Ud||(Ud={})),Ud))(),gg=function(l){function t(){var e=l.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=2*Math.PI,e._counterClockwise=!1,e._type=Ud.Open,e.restoreOwnStyles(),e}return bf(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return ou(fl(this.startAngle),fl(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===Ud.Chord?e.closePath():this.type===Ud.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new $o(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return this.type!==Ud.Open&&s.containsPoint(o.x,o.y)&&this.path.isPointInPath(o.x,o.y)},t.className="Arc",t.defaultStyles=tu(Bu.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Ra),t2={};function n2(l,t){t2[t]||(l(),t2[t]=!0)}var au=(()=>(function(l){l[l.Tick=0]="Tick",l[l.GridLine=1]="GridLine"}(au||(au={})),au))(),su=function l(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},Df=function(){function l(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(l.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),l}(),r2=function(){function l(t){this.id=Wh(this),this.lineNode=new pl,this.group=new Hi,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new su,this.label=new Df,this.translation={x:0,y:0},this.rotation=0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=t,this.groupSelection=Io.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(l.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.requestedRange=t.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ticks",{get:function(){return this._ticks},set:function(t){this._ticks=t},enumerable:!0,configurable:!0}),l.prototype.getMeta=function(){},l.prototype.updateRange=function(){var t=this,e=t.requestedRange,r=t.visibleRange,s=(e[1]-e[0])/(r[1]-r[0]),p=e[0]-s*r[0];t.scale.range=[p,p+s]},l.prototype.inRange=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=0),0===this.inRangeEx(t,e,r)},l.prototype.inRangeEx=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=this.range,s=Math.min(o[0],o[1]),h=Math.max(o[0],o[1]);return t+e<s-r?-1:t>h+r?1:0},Object.defineProperty(l.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(t,2),r=e[0],o=e[1];r=Math.max(0,r),o=Math.min(1,o),r=Math.min(r,o),o=Math.max(r,o),this._visibleRange=[r,o],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),l.prototype.onLabelFormatChange=function(t){if(t&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.tick.count,t)}catch(e){this.labelFormatter=void 0,n2(function(){return console.warn("AG Charts - the axis label format string "+t+" is invalid. No formatting will be applied")},"invalid axis label format string "+t)}else this.labelFormatter=void 0},Object.defineProperty(l.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.group.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.group.appendChild(t.node)),this._title=t,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),l.prototype.update=function(){var t=this,e=this,r=e.group,o=e.scale,s=e.tick,h=e.label,p=e.gridStyle,y=e.requestedRange,S=Math.min(y[0],y[1]),E=Math.max(y[0],y[1]),T=ya(this.rotation),O=h.parallel,R=fl(ya(h.rotation));r.translationX=this.translation.x,r.translationY=this.translation.y,r.rotation=T;var N=(o.bandwidth||0)/2,X=h.mirrored?1:-1,ae=fl(T),le=!R&&ae>=0&&ae<=Math.PI?-1:1,de=fl(T-Math.PI/2),he=!R&&de>=0&&de<=Math.PI?-1:1,Ue=R>=0&&R<=Math.PI?-1:1,st=this.ticks||o.ticks(this.tick.count),rt=this.groupSelection.setData(st);rt.exit.remove();var Pt=rt.enter.append(Hi);Pt.append(pl).each(function(dn){return dn.tag=au.Tick}),this.gridLength&&(this.radialGrid?Pt.append(gg).each(function(dn){return dn.tag=au.GridLine}):Pt.append(pl).each(function(dn){return dn.tag=au.GridLine})),Pt.append(oa);var Rt=rt.merge(Pt);if(Rt.attrFn("translationY",function(dn,nr){return Math.round(o.convert(nr)+N)}).attrFn("visible",function(dn){var nr=Math.floor(S),Yn=Math.ceil(E);return dn.translationY>=nr&&dn.translationY<=Yn}),Rt.selectByTag(au.Tick).each(function(dn){dn.strokeWidth=s.width,dn.stroke=s.color}).attr("x1",X*s.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&p.length){var Gt=p.length,Zt=void 0;if(this.radialGrid){var Rn=function Q4(l){return l%=dc,(l+=dc)!==dc&&(l%=dc),l}(ya(this.gridLength));Zt=Rt.selectByTag(au.GridLine).each(function(dn,nr){var Yn=Math.round(o.convert(nr)+N);dn.centerX=0,dn.centerY=o.range[0]-Yn,dn.endAngle=Rn,dn.radiusX=Yn,dn.radiusY=Yn})}else Zt=Rt.selectByTag(au.GridLine).each(function(dn){dn.x1=0,dn.x2=-X*t.gridLength,dn.y1=0,dn.y2=0,dn.visible=Math.abs(dn.parent.translationY-o.range[0])>1});Zt.each(function(dn,nr,Yn){var zr=p[Yn%Gt];dn.stroke=zr.stroke,dn.strokeWidth=s.width,dn.lineDash=zr.lineDash,dn.fill=void 0})}this.fractionDigits=st.fractionDigits>=0?st.fractionDigits:0;var Sn=Rt.selectByClass(oa).each(function(dn,nr,Yn){dn.fontStyle=h.fontStyle,dn.fontWeight=h.fontWeight,dn.fontSize=h.fontSize,dn.fontFamily=h.fontFamily,dn.fill=h.color,dn.textBaseline=O&&!R?X*le==-1?"hanging":"bottom":"middle",dn.text=t.formatTickDatum(nr,Yn),dn.textAlign=O?R?X*Ue==-1?"end":"start":"center":X*he==-1?"end":"start"}),rn=X*(s.size+h.padding),Cn=O?le*Math.PI/2:-1===he?Math.PI:0;Sn.each(function(dn){dn.x=rn,dn.rotationCenterX=rn,dn.rotation=Cn+R}),this.groupSelection=Rt;var sn=this.lineNode;sn.x1=0,sn.x2=0,sn.y1=y[0],sn.y2=y[1],sn.strokeWidth=this.line.width,sn.stroke=this.line.color,sn.visible=st.length>0,this.positionTitle()},l.prototype.positionTitle=function(){var e=this.title;if(e){var o=!1;if(e.enabled&&this.lineNode.visible){o=!0;var s=this,y=s.requestedRange,S=s.label.mirrored?1:-1,E=fl(s.rotation),T=e.padding.bottom,O=e.node,R=this.computeBBox({excludeTitle:!0}),N=-1===S&&E>Math.PI&&E<2*Math.PI?-1:1;O.rotation=N*S*Math.PI/2,O.x=N*S*(y[0]+y[1])/2,O.y=-1===S?N*(-T-R.width+Math.max(R.x+R.width,0)):-T-R.width-Math.min(R.x,0),O.textBaseline=1===N?"bottom":"top"}e.node.visible=o}},l.prototype.formatTickDatum=function(t,e){var r=this,o=r.label,s=r.labelFormatter,h=r.fractionDigits,p=this.getMeta();return o.formatter?o.formatter({value:h>=0?t:String(t),index:e,fractionDigits:h,formatter:s,axis:p}):s?s(t):"number"==typeof t&&h>=0?t.toFixed(h):String(t)},l.prototype.formatDatum=function(t){return String(t)},l.prototype.computeBBox=function(t){var r=this.title,o=this.lineNode,s=this.groupSelection.selectByClass(oa),h=1/0,p=-1/0,y=1/0,S=-1/0;if(s.each(function(N){N.computeTransformMatrix();var X=Bs.flyweight(N.matrix),ae=N.parent;ae.computeTransformMatrix(),X.preMultiplySelf(ae.matrix);var le=N.computeBBox();if(le){var de=X.transformBBox(le);h=Math.min(h,de.x),p=Math.max(p,de.x+de.width),y=Math.min(y,de.y),S=Math.max(S,de.y+de.height)}}),r&&r.enabled&&o.visible&&(!t||!t.excludeTitle)){var E=r.node;E.computeTransformMatrix();var T=Bs.flyweight(E.matrix),O=E.computeBBox();if(O){var R=T.transformBBox(O);h=Math.min(h,R.x),p=Math.max(p,R.x+R.width),y=Math.min(y,R.y),S=Math.max(S,R.y+R.height)}}return h=Math.min(h,0),p=Math.max(p,0),y=Math.min(y,o.y1,o.y2),S=Math.max(S,o.y1,o.y2),new $o(h,y,p-h,S-y)},l}(),np=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wi=(()=>(function(l){l.X="x",l.Y="y"}(wi||(wi={})),wi))();function ls(l){return l===wi.X?wi.Y:wi.X}var Qn=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left",l.Angle="angle",l.Radius="radius"}(Qn||(Qn={})),Qn))(),hc=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.keys=[],e.direction=wi.Y,e.boundSeries=[],e._position=Qn.Left,e}return np(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case Qn.Top:this.direction=wi.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case Qn.Right:this.direction=wi.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case Qn.Bottom:this.direction=wi.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case Qn.Left:this.direction=wi.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(r2),lu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vg=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s};function qv(l){var t,e=l[0],r=l[l.length-1];return e>r&&(t=vg([r,e],2),e=t[0],r=t[1]),function(o){return o>=e&&o<=r?o:NaN}}var pc=function(l){function t(){var e=l.call(this,new aa)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=qv,e}return lu(t,l),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(e,r){var o=this,s=o.scale,h=o.min,p=o.max;if(e.length>2&&(e=bo(e,Aa,Number)||[0,1]),e=[isNaN(h)?e[0]:h,isNaN(p)?e[1]:p],r){var y=vg(function eg(l,t){var e=Math.floor(l[0]),r=l[1];e=function tg(l,t,e){var r=Math.abs(t-l)/(e-1),o=Math.floor(Math.log10(r)),s=Math.pow(10,o);return Math.floor(l/s)*s}(e,r,t);var o=function Yh(l,t,e){return function ci(l){var t=Math.floor(Math.log10(l)),e=Math.pow(10,t),r=l/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}((t-l)/(e-1))}(e,r,t),h=[e,r=e+(t-1)*o],p=function B4(l,t,e){for(var r=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(r):0,s=Math.pow(10,o),h=new G4(o),p=0;p<e;p++)h[p]=Math.round((l+t*p)*s)/s;return h}(e,o,t);return[h,p]}(e,r),2),E=y[1];return s.domain=y[0],void(this.ticks=E)}s.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(n2(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},t.className="NumberAxis",t.type="number",t}(hc),Xv=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},gl=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var r=this.index;t.forEach(function(o){void 0===r.get(o)&&r.set(o,e.push(o)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var r=this.ordinalRange[e];return void 0===r?NaN:r},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var t,e=this._domain.length;if(e){var r=Xv(this._range,2),o=r[0],s=r[1],h=s<o;h&&(o=(t=Xv([s,o],2))[0],s=t[1]);var p=(s-o)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(p=Math.floor(p)),o+=(s-o-p*(e-this._paddingInner))*this._align,this._bandwidth=p*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var y=[],S=0;S<e;S++)y.push(o+p*S);this.ordinalRange=h?y.reverse():y}},l}(),mg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qu=function(l){function t(){var e=l.call(this,new gl)||this;return e.scale.paddingInner=.2,e.scale.paddingOuter=.3,e}return mg(t,l),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(r,o,s){return s.indexOf(r)===o})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(hc),Ul=function(){function l(t,e,r){void 0===t&&(t=""),void 0===r&&(r=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=r}return l.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},l.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},l.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},l.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},l.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,r){return r!==t.number}):[]},l}();function Kd(l,t,e){var o=e/(t.number-l.number);t.change-=o,t.shift+=e,l.change+=o,t.prelim+=e,t.mod+=e}function Xu(l,t,e){return t.getSiblings().indexOf(l.ancestor)>=0?l.ancestor:e}function cu(l,t){var e=l.children;if(e.length){var r=e[0];e.forEach(function(h){cu(h,t),r=function o2(l,t,e){var r=l.getLeftSibling();if(r){for(var o=l,s=l,h=r,p=s.getLeftmostSibling(),y=s.mod,S=o.mod,E=h.mod,T=p.mod;h.nextRight()&&s.nextLeft();){h=h.nextRight(),s=s.nextLeft(),p=p.nextLeft(),(o=o.nextRight()).ancestor=l;var O=h.prelim+E-(s.prelim+y)+e;O>0&&(Kd(Xu(h,l,t),l,O),y+=O,S+=O),E+=h.mod,y+=s.mod,T+=p.mod,S+=o.mod}h.nextRight()&&!o.nextRight()?(o.thread=h.nextRight(),o.mod+=E-S):(s.nextLeft()&&!p.nextLeft()&&(p.thread=s.nextLeft(),p.mod+=y-T),t=l)}return t}(h,r,t)}),function $d(l){var t=l.children;if(t)for(var e=0,r=0,o=t.length-1;o>=0;o--){var s=t[o];s.prelim+=e,s.mod+=e,e+=s.shift+(r+=s.change)}}(l);var o=(e[0].prelim+e[e.length-1].prelim)/2;(s=l.getLeftSibling())?(l.prelim=s.prelim+t,l.mod=l.prelim-o):l.prelim=o}else{var s=l.getLeftSibling();l.prelim=s?s.prelim+t:0}}var yg=function(){function l(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return l.prototype.update=function(t,e){var r=e(t),o=r.x,s=r.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)},l}();function Zu(l,t,e){l.x=l.prelim+t,l.y=l.depth,e.update(l),l.children.forEach(function(r){return Zu(r,t+l.mod,e)})}function Of(l){var t=l.children,e=0;t.forEach(function(r){Of(r),r.children.length?e+=r.leafCount:e++}),l.leafCount=e,t.length?(l.subtreeLeft=t[0].subtreeLeft,l.subtreeRight=t[l.children.length-1].subtreeRight,l.x=(l.subtreeLeft+l.subtreeRight)/2):(l.subtreeLeft=l.x,l.subtreeRight=l.x)}function Zv(l){var t=new Us;return cu(l,1),Zu(l,-l.prelim,t),Of(l),t}var Us=function(){function l(){this.dimensions=new yg,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return l.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},l.prototype.resize=function(t,e,r,o,s){void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=!1);var h=this.leafCount-1,p=this.depth,y=this.dimensions,S=1,E=1;t>0&&h&&(S=t/h/((y.right-y.left)/h),s&&(S=-S)),e>0&&p&&(E=e/p/((y.bottom-y.top)/p));var X=new yg;this.nodes.forEach(function(de){de.screenX=de.x*S,de.screenY=de.y*E,X.update(de,function(he){return{x:he.screenX,y:he.screenY}})});var ae=-X.left,le=-X.top;this.nodes.forEach(function(de){de.screenX+=ae+r,de.screenY+=le+o})},l}(),Cg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_g=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.grid=!1,e}return Cg(t,l),t}(Df),Qu=function(l){function t(){var e=l.call(this,new gl)||this;e.tickScale=new gl,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new _g,e.labelColor="rgba(87, 87, 87, 1)";var o=e.group,s=e.tickScale,h=e.scale;return h.paddingOuter=.1,h.paddingInner=2*h.paddingOuter,e.requestedRange=h.range.slice(),e.scale=h,s.paddingInner=1,s.paddingOuter=0,e.gridLineSelection=Io.select(o).selectAll(),e.axisLineSelection=Io.select(o).selectAll(),e.separatorSelection=Io.select(o).selectAll(),e.labelSelection=Io.select(o).selectAll(),e}return Cg(t,l),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var r=e.filter(function(h,p,y){return y.indexOf(h)===p});this.scale.domain=r;var o=function Yd(l,t){void 0===t&&(t=!0);var e=new Ul,r=0;return t&&l.forEach(function(o){return r=Math.max(r,o.labels.length)}),l.forEach(function(o){if(t)for(;o.labels.length<r;)o.labels.unshift("");!function rp(l,t){var e=t.labels.slice().reverse(),r=e.length-1;e.forEach(function(o,s){var h=l.children,p=cg(h,function(E){return E.label===o}),y=s!==r;if(p&&y)l=p;else{var S=new Ul(o,l);S.number=h.length,h.push(S),y&&(l=S)}})}(e,o)}),e}(r);this.tickTreeLayout=Zv(o);var s=r.slice();s.push(""),this.tickScale.domain=s,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,r=e.requestedRange,o=e.visibleRange,h=(r[1]-r[0])/(o[1]-o[0]),y=r[0]-h*o[0];this.tickScale.range=e.scale.range=[y,y+h],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,r=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,o=this.tickTreeLayout,s=this.lineHeight;o&&o.resize(Math.abs(r[1]-r[0]),o.depth*s,(Math.min(r[0],r[1])||0)+(e.bandwidth||0)/2,-o.depth*s,r[1]-r[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,r=this,o=r.group,s=r.scale,h=r.label,p=r.tickScale,y=r.requestedRange,S=s.range[0],E=s.range[1],O=Math.abs(E-S)/s.domain.length||0,R=h.parallel,N=ya(this.rotation),X=Math.abs(Math.cos(N))<1e-8,ae=fl(ya(this.label.rotation));o.translationX=this.translation.x,o.translationY=this.translation.y,o.rotation=N;var le=this.title;le&&(le.node.visible=!1);var de=this.lineHeight,he=this.tickTreeLayout,Ue=s.ticks(),st=he?he.nodes:[],rt=!!he&&he.depth>1,Pt=p.ticks(),Rt=h.mirrored?1:-1,Gt=fl(N),Zt=!ae&&Gt>=0&&Gt<=Math.PI?-1:1,Rn=fl(N-Math.PI/2),Sn=!ae&&Rn>=0&&Rn<=Math.PI?-1:1,rn=this.gridLineSelection.setData(this.gridLength?Pt:[]);rn.exit.remove();var Cn=rn.enter.append(pl),sn=rn.merge(Cn),dn=this.labelSelection.setData(st);dn.exit.remove();var nr=dn.enter.append(oa),Yn=dn.merge(nr),zr=h.formatter,Wn=0;Yn.each(function(fr,Zi,Rs){fr.fontStyle=h.fontStyle,fr.fontWeight=h.fontWeight,fr.fontSize=h.fontSize,fr.fontFamily=h.fontFamily,fr.fill=h.color,fr.textBaseline=-1===Zt?"bottom":"hanging",fr.textAlign="center",fr.translationX=Zi.screenY-.25*h.fontSize,fr.translationY=Zi.screenX,0===Rs?le&&le.enabled&&Ue.length>0?(fr.visible=!0,fr.text=le.text,fr.fontSize=le.fontSize,fr.fontStyle=le.fontStyle,fr.fontWeight=le.fontWeight,fr.fontFamily=le.fontFamily,fr.textBaseline="hanging"):fr.visible=!1:(fr.text=zr?zr({value:String(Zi.label),index:Rs}):String(Zi.label),fr.visible=Zi.screenX>=y[0]&&Zi.screenX<=y[1]);var nl=fr.computeBBox();nl&&nl.width>Wn&&(Wn=nl.width)});var Vr=Rt*h.padding,Un=R?Zt*Math.PI/2:-1===Sn?Math.PI:0,Ur=this.label.grid,Hr=[];Yn.each(function(fr,Zi,Rs){if(fr.x=Vr,fr.rotationCenterX=Vr,Zi.children.length?(fr.translationX-=Wn-de+e.label.padding,fr.rotation=X?Un:-Math.PI/2):(fr.rotation=ae,fr.textAlign="end",fr.textBaseline="middle"),Zi.parent&&rt){var nl=Zi.children.length?Zi.screenX-Zi.leafCount*O/2:Zi.screenX-O/2;if(Zi.children.length){var w1=-Wn-2*e.label.padding+Zi.screenY;Hr.push({y:nl,x1:w1+de,x2:w1,toString:function(){return String(Rs)}})}else(Zi.number!==Zi.children.length-1||Ur)&&Hr.push({y:nl,x1:0,x2:-Wn-2*e.label.padding,toString:function(){return String(Rs)}})}});var Ti=0;Hr.forEach(function(fr){return Ti=Math.min(Ti,fr.x2)}),this.longestSeparatorLength=Math.abs(Ti),Hr.push({y:Math.max(S,E),x1:0,x2:Ti,toString:function(){return String(Hr.length)}});var Ii=this.separatorSelection.setData(Hr);Ii.exit.remove();var da=Ii.enter.append(pl),La=Ii.merge(da);this.separatorSelection=La,La.each(function(fr,Zi,Rs){fr.x1=Zi.x1,fr.x2=Zi.x2,fr.y1=Zi.y,fr.y2=Zi.y,fr.visible=Zi.y>=y[0]-1e-7&&Zi.y<=y[1]+1e-7,fr.stroke=e.tick.color,fr.fill=void 0,fr.strokeWidth=1}),this.gridLineSelection=sn,this.labelSelection=Yn;for(var Ea=he?he.depth+1:1,xl=[],ha=0;ha<Ea;ha++)xl.push(ha);var tl=this.axisLineSelection.setData(xl);tl.exit.remove();var Ml=tl.enter.append(pl),Dh=tl.merge(Ml);if(this.axisLineSelection=Dh,Dh.each(function(fr,Zi,Rs){var nl=Rs>0?-Wn-2*e.label.padding-(Rs-1)*de:0;fr.x1=nl,fr.x2=nl,fr.y1=y[0],fr.y2=y[1],fr.strokeWidth=e.line.width,fr.stroke=e.line.color,fr.visible=Ue.length>0&&(0===Rs||Ur&&rt)}),this.gridLength){var Oh=this.gridStyle,Wp=Oh.length;sn.each(function(fr,Zi,Rs){var nl=Math.round(p.convert(Zi));fr.x1=0,fr.x2=-Rt*e.gridLength,fr.y1=nl,fr.y2=nl,fr.visible=nl>=y[0]&&nl<=y[1]&&Math.abs(fr.parent.translationY-S)>1;var w1=Oh[Rs%Wp];fr.stroke=w1.stroke,fr.strokeWidth=e.tick.width,fr.lineDash=w1.lineDash,fr.fill=void 0})}},t.prototype.computeBBox=function(e){var r=!e||!e.excludeTitle,o=1/0,s=-1/0,h=1/0,p=-1/0;return this.labelSelection.each(function(y,S,E){if(E>0||r){y.computeTransformMatrix();var T=Bs.flyweight(y.matrix),O=y.computeBBox();if(O){var R=T.transformBBox(O);o=Math.min(o,R.x),s=Math.max(s,R.x+R.width),h=Math.min(h,R.y),p=Math.max(p,R.y+R.height)}}}),new $o(o,h,Math.max(s-o,this.longestSeparatorLength),p-h)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(hc),Qv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wg=new Date,Tf=new Date,Jv=function(){function l(t,e){this._floor=t,this._offset=e}return l.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},l.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},l.prototype.round=function(t){var e=this.floor(t),r=this.ceil(t),o=+t;return o-e.getTime()<r.getTime()-o?e:r},l.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},l.prototype.range=function(t,e,r){void 0===r&&(r=1);var s,o=[];if(t=this.ceil(t),r=Math.floor(r),t>e||r<=0)return o;do{s=new Date(+t),o.push(s),this._offset(t,r),this._floor(t)}while(s<t&&t<e);return o},l.prototype.filter=function(t){var e=this;return new l(function(s){if(s>=s)for(;e._floor(s),!t(s);)s.setTime(s.getTime()-1);return s},function(s,h){if(s>=s)if(h<0)for(;++h<=0;)do{e._offset(s,-1)}while(!t(s));else for(;--h>=0;)do{e._offset(s,1)}while(!t(s));return s})},l}(),sa=function(l){function t(e,r,o,s){var h=l.call(this,e,r)||this;return h._count=o,h._field=s,h}return Qv(t,l),t.prototype.count=function(e,r){return wg.setTime(+e),Tf.setTime(+r),this._floor(wg),this._floor(Tf),Math.floor(this._count(wg,Tf))},t.prototype.every=function(e){var o,r=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;o=this.filter(s?function(h){return s(h)%e==0}:function(h){return r.count(0,h)%e==0})}else o=this;return o},t}(Jv),l2=new sa(function Ys(l){return l},function s2(l,t){l.setTime(l.getTime()+t)},function Sg(l,t){return t.getTime()-l.getTime()});const e0=l2;var fc=1e3,cs=6e4,zc=60*cs,Vc=24*zc,xf=7*Vc,t0=30*Vc,ip=365*Vc,Eg=new sa(function bg(l){l.setTime(l.getTime()-l.getMilliseconds())},function n0(l,t){l.setTime(l.getTime()+t*fc)},function c2(l,t){return(t.getTime()-l.getTime())/fc});const u2=Eg;var us=new sa(function Mf(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*fc)},function vl(l,t){l.setTime(l.getTime()+t*cs)},function r0(l,t){return(t.getTime()-l.getTime())/cs},function o0(l){return l.getMinutes()});const Dg=us;var s0=new sa(function d2(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*fc-l.getMinutes()*cs)},function a0(l,t){l.setTime(l.getTime()+t*zc)},function qo(l,t){return(t.getTime()-l.getTime())/zc},function Pf(l){return l.getHours()});const gc=s0;var Ca=new sa(function h2(l){l.setHours(0,0,0,0)},function Af(l,t){l.setDate(l.getDate()+t)},function p2(l,t){var e=t.getTimezoneOffset()-l.getTimezoneOffset();return(t.getTime()-l.getTime()-e*cs)/Vc},function Og(l){return l.getDate()-1});const op=Ca;function Ju(l){return new sa(function t(o){o.setDate(o.getDate()-(o.getDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setDate(o.getDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime()-(s.getTimezoneOffset()-o.getTimezoneOffset())*cs)/xf})}var ap=Ju(0),qd=Ju(1),sp=(Ju(2),Ju(3),Ju(4));Ju(5),Ju(6);const g2=ap;var xg=new sa(function Tg(l){l.setDate(1),l.setHours(0,0,0,0)},function uu(l,t){l.setMonth(l.getMonth()+t)},function l0(l,t){return t.getMonth()-l.getMonth()+12*(t.getFullYear()-l.getFullYear())},function c0(l){return l.getMonth()});const vc=xg;var Lf=new sa(function Ff(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function v2(l,t){l.setFullYear(l.getFullYear()+t)},function m2(l,t){return t.getFullYear()-l.getFullYear()},function u0(l){return l.getFullYear()});const Xd=Lf;var Mg=new sa(function bs(l){l.setUTCHours(0,0,0,0)},function Zd(l,t){l.setUTCDate(l.getUTCDate()+t)},function y2(l,t){return(t.getTime()-l.getTime())/Vc},function td(l){return l.getUTCDate()-1});const nd=Mg;var Ag=new sa(function mc(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function C2(l,t){l.setUTCFullYear(l.getUTCFullYear()+t)},function Pg(l,t){return t.getUTCFullYear()-l.getUTCFullYear()},function d0(l){return l.getUTCFullYear()});const lp=Ag;function ml(l){return new sa(function t(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setUTCDate(o.getUTCDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime())/xf})}var If=ml(0),Rg=ml(1),Fg=(ml(2),ml(3),ml(4));ml(5),ml(6);const _2=If;function _a(l){if(l.y>=0&&l.y<100){var t=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return t.setFullYear(l.y),t}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function Qd(l){if(l.y>=0&&l.y<100){var t=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return t.setUTCFullYear(l.y),t}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function Jd(l){for(var t={},e=0,r=l.length;e<r;e++)t[l[e].toLowerCase()]=e;return t}function rd(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}var du,wa=/^\s*\d+/,w2=/^%/,S2=/[\\^$*+?|[\]().{}]/g,up=function(l){return l.replace(S2,"\\$&")},dp=function(l){return new RegExp("^(?:"+l.map(up).join("|")+")","i")},id={"-":"",_:" ",0:"0"};function po(l,t,e){var r=l<0?"-":"",o=String(r?-l:l),s=o.length;return r+(s<e?new Array(e-s+1).join(t)+o:o)}!function b2(l){du=function p0(l){var t=l.dateTime,e=l.date,r=l.time,o=l.periods,s=l.days,h=l.shortDays,p=l.months,y=l.shortMonths,S=dp(o),E=Jd(o),T=dp(s),O=Jd(s),R=dp(h),N=Jd(h),X=dp(p),ae=Jd(p),le=dp(y),de=Jd(y),he={a:function dn(Me){return h[Me.getDay()]},A:function nr(Me){return s[Me.getDay()]},b:function Ti(Me){return y[Me.getMonth()]},B:function Ii(Me){return p[Me.getMonth()]},c:void 0,d:Ur,e:Ur,f:function Gt(Me,Qe){return Zt(Me,Qe)+"000"},H:function Cn(Me,Qe){return po(Me.getHours(),Qe,2)},I:function rn(Me,Qe){return po(Me.getHours()%12||12,Qe,2)},j:function Hr(Me,Qe){return po(1+op.count(Xd.floor(Me),Me),Qe,3)},L:Zt,m:function da(Me,Qe){return po(Me.getMonth()+1,Qe,2)},M:function Sn(Me,Qe){return po(Me.getMinutes(),Qe,2)},p:function sn(Me){return o[Me.getHours()>=12?1:0]},Q:O8,s:T8,S:function Rn(Me,Qe){return po(Me.getSeconds(),Qe,2)},u:function Yn(Me){var Qe=Me.getDay();return 0===Qe?7:Qe},U:function zr(Me,Qe){return po(ap.count(Xd.floor(Me),Me),Qe,2)},V:function Wn(Me,Qe){var Mt=Me.getDay();Me=Mt>=4||0===Mt?sp.floor(Me):sp.ceil(Me);var Ne=Xd.floor(Me);return po(sp.count(Ne,Me)+(4===Ne.getDay()?1:0),Qe,2)},w:function Vr(Me){return Me.getDay()},W:function Un(Me,Qe){return po(qd.count(Xd.floor(Me),Me),Qe,2)},x:void 0,X:void 0,y:function La(Me,Qe){return po(Me.getFullYear()%100,Qe,2)},Y:function As(Me,Qe){return po(Me.getFullYear()%1e4,Qe,4)},Z:function Ea(Me){var Qe=Me.getTimezoneOffset();return(Qe>0?"-":(Qe*=-1,"+"))+po(Math.floor(Qe/60),"0",2)+po(Qe%60,"0",2)},"%":D8},Ue={a:function d7(Me){return h[Me.getUTCDay()]},A:function h7(Me){return s[Me.getUTCDay()]},b:function nl(Me){return y[Me.getUTCMonth()]},B:function w1(Me){return p[Me.getUTCMonth()]},c:void 0,d:fr,e:fr,f:function xl(Me,Qe){return ha(Me,Qe)+"000"},H:function Oh(Me,Qe){return po(Me.getUTCHours(),Qe,2)},I:function Dh(Me,Qe){return po(Me.getUTCHours()%12||12,Qe,2)},j:function Zi(Me,Qe){return po(1+nd.count(lp.floor(Me),Me),Qe,3)},L:ha,m:function Rs(Me,Qe){return po(Me.getUTCMonth()+1,Qe,2)},M:function Ml(Me,Qe){return po(Me.getUTCMinutes(),Qe,2)},p:function Wp(Me){return o[Me.getUTCHours()>=12?1:0]},Q:O8,s:T8,S:function tl(Me,Qe){return po(Me.getUTCSeconds(),Qe,2)},u:function p7(Me){var Qe=Me.getUTCDay();return 0===Qe?7:Qe},U:function f7(Me,Qe){return po(_2.count(lp.floor(Me),Me),Qe,2)},V:function g7(Me,Qe){var Mt=Me.getUTCDay();Me=Mt>=4||0===Mt?Fg.floor(Me):Fg.ceil(Me);var Ne=lp.floor(Me);return po(Fg.count(Ne,Me)+(4===Ne.getUTCDay()?1:0),Qe,4)},w:function v7(Me){return Me.getUTCDay()},W:function m7(Me,Qe){return po(Rg.count(lp.floor(Me),Me),Qe,2)},x:void 0,X:void 0,y:function y7(Me,Qe){return po(Me.getUTCFullYear()%100,Qe,2)},Y:function C7(Me,Qe){return po(Me.getUTCFullYear()%1e4,Qe,4)},Z:function _7(){return"+0000"},"%":D8},st={a:function T7(Me,Qe,Mt){var Ne=R.exec(Qe.slice(Mt));return Ne?(Me.w=N[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},A:function x7(Me,Qe,Mt){var Ne=T.exec(Qe.slice(Mt));return Ne?(Me.w=O[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},b:function L7(Me,Qe,Mt){var Ne=le.exec(Qe.slice(Mt));return Ne?(Me.m=de[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},B:function I7(Me,Qe,Mt){var Ne=X.exec(Qe.slice(Mt));return Ne?(Me.m=ae[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},c:function k7(Me,Qe,Mt){return Rt(Me,t,Qe,Mt)},d:M8,e:M8,f:function w7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+6));return Ne?(Me.L=Math.floor(parseFloat(Ne[0])/1e3),Mt+Ne[0].length):-1},H:x8,I:x8,j:function O7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+3));return Ne?(Me.m=0,Me.d=+Ne[0],Mt+Ne[0].length):-1},L:function S7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+3));return Ne?(Me.L=+Ne[0],Mt+Ne[0].length):-1},m:function N7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.m=parseFloat(Ne[0])-1,Mt+Ne[0].length):-1},M:function E7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.M=+Ne[0],Mt+Ne[0].length):-1},p:function D7(Me,Qe,Mt){var Ne=S.exec(Qe.slice(Mt));return Ne?(Me.p=E[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},Q:function H7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt));return Ne?(Me.Q=+Ne[0],Mt+Ne[0].length):-1},s:function G7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt));return Ne?(Me.Q=1e3*+Ne[0],Mt+Ne[0].length):-1},S:function b7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.S=+Ne[0],Mt+Ne[0].length):-1},u:function M7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+1));return Ne?(Me.u=+Ne[0],Mt+Ne[0].length):-1},U:function P7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.U=+Ne[0],Mt+Ne[0].length):-1},V:function A7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.V=+Ne[0],Mt+Ne[0].length):-1},w:function F7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+1));return Ne?(Me.w=+Ne[0],Mt+Ne[0].length):-1},W:function R7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.W=+Ne[0],Mt+Ne[0].length):-1},x:function z7(Me,Qe,Mt){return Rt(Me,e,Qe,Mt)},X:function V7(Me,Qe,Mt){return Rt(Me,r,Qe,Mt)},y:function B7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.y=+Ne[0]+(+Ne[0]>68?1900:2e3),Mt+Ne[0].length):-1},Y:function W7(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+4));return Ne?(Me.y=+Ne[0],Mt+Ne[0].length):-1},Z:function j7(Me,Qe,Mt){var Ne=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(Qe.slice(Mt,Mt+6));return Ne?(Me.Z=Ne[1]?0:-(Ne[2]+(Ne[3]||"00")),Mt+Ne[0].length):-1},"%":function U7(Me,Qe,Mt){var Ne=w2.exec(Qe.slice(Mt,Mt+1));return Ne?Mt+Ne[0].length:-1}};function rt(Me,Qe){return function(Mt){var Ne=rd(1900);if(Rt(Ne,Me,Mt+="",0)==Mt.length){if("Q"in Ne)return new Date(Ne.Q);if("p"in Ne&&(Ne.H=Ne.H%12+12*Ne.p),"V"in Ne){if(Ne.V<1||Ne.V>53)return;if("w"in Ne||(Ne.w=1),"Z"in Ne){var Eo=(Gr=Qd(rd(Ne.y))).getUTCDay();Gr=Eo>4||0===Eo?Rg.ceil(Gr):Rg.floor(Gr),Gr=nd.offset(Gr,7*(Ne.V-1)),Ne.y=Gr.getUTCFullYear(),Ne.m=Gr.getUTCMonth(),Ne.d=Gr.getUTCDate()+(Ne.w+6)%7}else{var Gr;Eo=(Gr=Qe(rd(Ne.y))).getDay(),Gr=Eo>4||0===Eo?qd.ceil(Gr):qd.floor(Gr),Gr=op.offset(Gr,7*(Ne.V-1)),Ne.y=Gr.getFullYear(),Ne.m=Gr.getMonth(),Ne.d=Gr.getDate()+(Ne.w+6)%7}}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),Eo="Z"in Ne?Qd(rd(Ne.y)).getUTCDay():Qe(rd(Ne.y)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+7*Ne.W-(Eo+5)%7:Ne.w+7*Ne.U-(Eo+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,Qd(Ne)):Qe(Ne)}}}function Pt(Me,Qe){return function(Mt){var Ne=[],Pl=Me.length,Gr=-1,Eo=0;for(Mt instanceof Date||(Mt=new Date(+Mt));++Gr<Pl;)if(37===Me.charCodeAt(Gr)){Ne.push(Me.slice(Eo,Gr));var Fs=Me.charAt(++Gr),Tu=id[Fs];null!=Tu?Fs=Me.charAt(++Gr):Tu="e"===Fs?" ":"0";var Th=Qe[Fs];Th&&(Fs=Th(Mt,Tu)),Ne.push(Fs),Eo=Gr+1}return Ne.push(Me.slice(Eo,Gr)),Ne.join("")}}function Rt(Me,Qe,Mt,Ne){for(var Pl=0,Gr=Qe.length,Eo=Mt.length;Pl<Gr;){if(Ne>=Eo)return-1;var Fs=Qe.charCodeAt(Pl++);if(37===Fs){var Tu=Qe.charAt(Pl++),Th=st[Tu in id?Qe.charAt(Pl++):Tu];if(!Th||(Ne=Th(Me,Mt,Ne))<0)return-1}else if(Fs!=Mt.charCodeAt(Ne++))return-1}return Ne}function Zt(Me,Qe){return po(Me.getMilliseconds(),Qe,3)}function Ur(Me,Qe){return po(Me.getDate(),Qe,2)}function ha(Me,Qe){return po(Me.getUTCMilliseconds(),Qe,3)}function fr(Me,Qe){return po(Me.getUTCDate(),Qe,2)}function D8(Me){return"%"}function O8(Me){return Me.getTime()}function T8(Me){return Math.floor(Me.getTime()/1e3)}function x8(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.H=+Ne[0],Mt+Ne[0].length):-1}function M8(Me,Qe,Mt){var Ne=wa.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.d=+Ne[0],Mt+Ne[0].length):-1}return he.x=Pt(e,he),he.X=Pt(r,he),he.c=Pt(t,he),Ue.x=Pt(e,Ue),Ue.X=Pt(r,Ue),Ue.c=Pt(t,Ue),{format:function(Me){var Qe=Pt(Me,he);return Qe.toString=function(){return Me},Qe},parse:function(Me){var Qe=rt(Me,_a);return Qe.toString=function(){return Me},Qe},utcFormat:function(Me){var Qe=Pt(Me,Ue);return Qe.toString=function(){return Me},Qe},utcParse:function(Me){var Qe=rt(Me,Qd);return Qe.toString=function(){return Me},Qe}}}(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var X3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hp=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Ig=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=Xd,e.month=vc,e.week=g2,e.day=op,e.hour=gc,e.minute=Dg,e.second=u2,e.millisecond=e0,e.format=du.format,e.tickIntervals=[[e.second,1,fc],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,cs],[e.minute,5,5*cs],[e.minute,15,15*cs],[e.minute,30,30*cs],[e.hour,1,zc],[e.hour,3,3*zc],[e.hour,6,6*zc],[e.hour,12,12*zc],[e.day,1,Vc],[e.day,2,2*Vc],[e.week,1,xf],[e.month,1,t0],[e.month,3,3*t0],[e.year,1,ip]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return X3(t,l),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,r,o,s){var h;if("number"==typeof e){var p=e,y=this.tickIntervals,S=Math.abs(o-r)/p,E=function Yu(l,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=l.length);for(var s=function ig(l){return function(t,e){return $h(l(t),e)}}(e);r<o;){var h=r+o>>>1;s(l[h],t)<0?r=h+1:o=h}return r}(y,S,function(T){return T[2]});E===y.length?(s=ju(r/ip,o/ip,p),e=this.year):E?(e=(h=hp(y[S/y[E-1][2]<y[E][2]/S?E-1:E],2))[0],s=h[1]):(s=Math.max(ju(r,o,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(t.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(r){return r instanceof Date?+r:+new Date(+r)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=r[0],s=r[r.length-1],h=s<o;if(h){var p=o;o=s,s=p}var y=this.tickInterval(e,o,s),S=y?y.range(o,s+1):[];return h?S.reverse():S},t.prototype.tickFormat=function(e,r){return null==r?this.defaultTickFormat.bind(this):this.format(r)},t.prototype.nice=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=this.tickInterval(e,r[0],r[r.length-1]);o&&(this.domain=this._nice(r,o))},t.prototype._nice=function(e,r){var o,s,h=0,p=(e=e.slice()).length-1,y=e[h],S=e[p];return S<y&&(h=(o=hp([p,h],2))[0],p=o[1],y=(s=hp([S,y],2))[0],S=s[1]),e[h]=r.floor(y),e[p]=r.ceil(S),e},t}(Wa),E2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),od=function(l){function t(){var e=l.call(this,new Ig)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var r=e.scale;return r.clamp=!0,e.scale=r,e.datumFormatter=r.tickFormat(e.tick.count,e.datumFormat),e}return E2(t,l),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(bo(e,Aa,Number)||[0,1e3]).map(function(r){return new Date(r)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(e){e?l.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(hc),f0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Ya=function(){function l(t,e,r){var o=this;void 0===t&&(t=window.document),this.id=Wh(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,p=o.ctx,y=o.root,S=o.pendingSize;o.animationFrameId=0,S&&((s=o.canvas).resize.apply(s,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(f0(arguments[t]));return l}(S)),o.pendingSize=void 0),!y||y.visible?(p.clearRect(0,0,o.width,o.height),y&&(p.save(),y.visible&&y.render(p),p.restore()),o._frameIndex++,o.debug.renderFrameIndex&&(p.fillStyle="white",p.fillRect(0,0,40,15),p.fillStyle="black",p.fillText(o.frameIndex.toString(),2,10)),o.dirty=!1):o.dirty=!1},this.canvas=new nu(t,e,r),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),l.prototype.download=function(t){this.canvas.download(t)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),J3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ng=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.angle=0,e}return J3(t,l),t.prototype.createGradient=function(e,r){var o=this.stops,s=this.angle%360*Math.PI/180,h=Math.cos(s),p=Math.sin(s),y=r.width,S=r.height,E=r.x+.5*y,T=r.y+.5*S;if(y>0&&S>0){var O=Math.sqrt(S*S+y*y)*Math.abs(Math.cos(s-Math.atan(S/y)))/2,R=e.createLinearGradient(E+h*O,T+p*O,E-h*O,T-p*O);return o.forEach(function(N){R.addColorStop(N.offset,N.color)}),R}return"black"},t}(function l(){this.stops=[]}),g0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ad=(()=>(function(l){l[l.Content=0]="Content",l[l.Border=1]="Border"}(ad||(ad={})),ad))(),yc=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e._gradient=!1,e.effectiveStrokeWidth=Bu.defaultStyles.strokeWidth,e._sizing=ad.Content,e}return g0(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var r=new Ng;r.angle=270,r.stops=[{offset:0,color:Bl.fromString(e).brighter().toString()},{offset:1,color:Bl.fromString(e).darker().toString()}],this.gradientInstance=r}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===ad.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===ad.Border,r=this.path;r.clear();var y,o=this.x,s=this.y,h=this.width,p=this.height;if(e){var S=h/2,E=p/2;y=Math.min(this.strokeWidth,S,E),o=Math.min(o+y/2,o+S),s=Math.min(s+y/2,s+E),h=Math.max(h-y,0),p=Math.max(p-y,0)}else y=this.strokeWidth;if(this.effectiveStrokeWidth=y,this.crisp&&!e){var O=this.alignment,R=this.align;r.rect(R(O,o),R(O,s),R(O,o,h),R(O,s,p))}else r.rect(o,s,h,p)},t.prototype.computeBBox=function(){var e=this;return new $o(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.fillStroke=function(e){if(this.scene){var r=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.createGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*r,e.shadowOffsetY=o.yOffset*r,e.shadowBlur=o.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var s=this.strokeShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*r,e.shadowOffsetY=s.yOffset*r,e.shadowBlur=s.blur*r),e.stroke()}}},t.className="Rect",t}(Ra),em=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return em(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.size,h=s/2;return new $o(e.x-h,e.y-h,s,s)},t}(Ra),kf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return kf(t,l),t.prototype.updatePath=function(){var e=this,r=e.path,o=e.x,s=e.y,h=this.size/2,y=this.alignment,S=this.align;r.clear(),r.moveTo(S(y,o-h),S(y,s-h)),r.lineTo(S(y,o+h),S(y,s-h)),r.lineTo(S(y,o+h),S(y,s+h)),r.lineTo(S(y,o-h),S(y,s+h)),r.closePath()},t.className="Square",t}(hu),sd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),D2=function(l){function t(){var e=l.call(this)||this;e.label=new oa,e._marker=new zf,e._markerSize=15,e._spacing=8;var r=e.label;return r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=nu.has.textMetrics?1:0,e.append([e.marker,r]),e.update(),e}return sd(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var r=this.markerSize;this.marker.size=r,this.label.x=r/2+this.spacing},t.className="MarkerLabel",t}(Hi),O2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return O2(t,l),t.prototype.updatePath=function(){var e=this,r=e.x,o=e.y,s=e.path,p=e.size/2;s.clear(),s.cubicArc(r,o,p,p,0,0,2*Math.PI,0),s.closePath()},t.className="Circle",t}(hu),T2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return T2(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=this.size/4.2;h.clear(),h.moveTo(r-=y,o),h.lineTo(r-=y,o-=y),h.lineTo(r+=y,o-=y),h.lineTo(r+=y,o+=y),h.lineTo(r+=y,o-=y),h.lineTo(r+=y,o+=y),h.lineTo(r-=y,o+=y),h.lineTo(r+=y,o+=y),h.lineTo(r-=y,o+=y),h.lineTo(r-=y,o-=y),h.lineTo(r-=y,o+=y),h.lineTo(r-=y,o-=y),h.closePath()},t.className="Cross",t}(hu),zg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return zg(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=this.size/2;h.clear(),h.moveTo(r,o-=y),h.lineTo(r+=y,o+=y),h.lineTo(r-=y,o+=y),h.lineTo(r-=y,o-=y),h.lineTo(r+=y,o-=y),h.closePath()},t.className="Diamond",t}(hu),eh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return eh(t,l),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,r=e.x,o=e.path,h=e.rad,p=e.size/4,y=this.y+p/2;o.clear(),o.cubicArc(r-p,y-p,p,p,0,h(130),h(330),0),o.cubicArc(r+p,y-p,p,p,0,h(220),h(50),0),o.lineTo(r,y+p),o.closePath()},t.className="Heart",t}(hu),pp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),M2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return pp(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=this.size/3,S=y/2;h.clear(),h.moveTo(r-=S,o-=S),h.lineTo(r,o-=y),h.lineTo(r+=y,o),h.lineTo(r,o+=y),h.lineTo(r+=y,o),h.lineTo(r,o+=y),h.lineTo(r-=y,o),h.lineTo(r,o+=y),h.lineTo(r-=y,o),h.lineTo(r,o-=y),h.lineTo(r-=y,o),h.lineTo(r,o-=y),h.closePath()},t.className="Plus",t}(hu),Hg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Hg(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=1.1*this.size;h.clear(),h.moveTo(r,o-=.48*y),h.lineTo(r+=.5*y,o+=.87*y),h.lineTo(r-=y,o),h.closePath()},t.className="Triangle",t}(hu);function ds(l){if(void 0===l&&(l=zf),"string"==typeof l)switch(l){case"circle":return kg;case"cross":return x2;case"diamond":return Vf;case"heart":return Vg;case"plus":return M2;case"triangle":return Gg;default:return zf}return"function"==typeof l?l:zf}var yl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yi=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Es=(()=>(function(l){l[l.Vertical=0]="Vertical",l[l.Horizontal=1]="Horizontal"}(Es||(Es={})),Es))(),Ds=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left"}(Ds||(Ds={})),Ds))(),Os=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return yl(t,l),Yi([ln("change")],t.prototype,"color",void 0),Yi([ln("layoutChange")],t.prototype,"fontStyle",void 0),Yi([ln("layoutChange")],t.prototype,"fontWeight",void 0),Yi([ln("layoutChange")],t.prototype,"fontSize",void 0),Yi([ln("layoutChange")],t.prototype,"fontFamily",void 0),Yi([ln()],t.prototype,"formatter",void 0),t}(ss),Bg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return yl(t,l),Yi([ln("layoutChange")],t.prototype,"size",void 0),Yi([ln("layoutChange")],t.prototype,"shape",void 0),Yi([ln("layoutChange")],t.prototype,"padding",void 0),Yi([ln("change")],t.prototype,"strokeWidth",void 0),t}(ss),ld=function(l){function t(){var e=l.call(this)||this;e.marker=new Bg,e.label=new Os,e.paddingX=16,e.paddingY=8;var r=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",r),e.label.addEventListener("change",r);var o=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",o),e.label.addEventListener("layoutChange",o),e}return yl(t,l),Yi([ln("layoutChange")],t.prototype,"paddingX",void 0),Yi([ln("layoutChange")],t.prototype,"paddingY",void 0),t}(ss),th=function(l){function t(){var e=l.call(this)||this;return e.id=Wh(e),e.group=new Hi,e.itemSelection=Io.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new ld,e.data=[],e.enabled=!0,e.orientation=Es.Vertical,e.position=Ds.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",function(){return e.fireEvent({type:"change"})}),e.item.addEventListener("layoutChange",function(){return e.fireEvent({type:"layoutChange"})}),e}return yl(t,l),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=Es.Vertical;break;case"bottom":case"top":this.orientation=Es.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},t.prototype.performLayout=function(e,r){var o=this.item,s=o.marker,h=o.paddingX,p=o.paddingY,y=this.itemSelection.setData(this.data,function(Yn,zr){var Wn=ds(s.shape||zr.marker.shape);return zr.id+"-"+zr.itemId+"-"+Wn.name});y.exit.remove();var S=y.enter.append(D2).each(function(Yn,zr){var Wn=ds(s.shape||zr.marker.shape);Yn.marker=new Wn}),E=this.itemSelection=y.merge(S),T=E.size,O=[],R=this.item.marker,N=this.item.label;E.each(function(Yn,zr){Yn.markerSize=R.size,Yn.spacing=R.padding,Yn.fontStyle=N.fontStyle,Yn.fontWeight=N.fontWeight,Yn.fontSize=N.fontSize,Yn.fontFamily=N.fontFamily;var Wn=zr.label.text;Wn.length>25&&(Wn=Wn.substring(0,25-"...".length)+"..."),Yn.text=Wn,O.push(Yn.computeBBox())});var le=O.length&&O[0].height,de=0,he=0,Ue=0,st=0;switch(e=Math.max(1,e),r=Math.max(1,r),this.orientation){case Es.Horizontal:if(!(isFinite(e)&&e>0))return!1;de=0;var rt=0;do{var Pt=0;rt=0,he=0,de++;for(var Rt=0;Rt<T;)(Gt=O[Rt]).width>he&&(he=Gt.width),++Rt%de==0&&(Pt+=he,he=0,rt++);Rt%de!=0&&(Pt+=he,rt++),Ue=Pt+(rt-1)*h}while(Ue>e&&rt>1);st=le*de+(de-1)*p;break;case Es.Vertical:if(!(isFinite(r)&&r>0))return!1;de=2*T;do{de=(de>>1)+de%2,he=0,Pt=0;var Zt=0,Rn=0;for(Rt=0;Rt<T;){var Gt=O[Rt];Rn||(Zt+=Gt.height),Gt.width>he&&(he=Gt.width),++Rt%de==0&&(Pt+=he,he=0,Rn++)}Rt%de!=0&&(Pt+=he,Rn++),Ue=Pt+(Rn-1)*h,st=Zt+(de-1)*p}while(st>r&&de>1)}var Sn=(e-Ue)/2,rn=(r-st)/2,Cn=0,sn=0;he=0,E.each(function(Yn,zr,Wn){Yn.translationX=Math.floor(Sn+Cn),Yn.translationY=Math.floor(rn+sn);var Vr=O[Wn];Vr.width>he&&(he=Vr.width),(Wn+1)%de==0?(Cn+=he+h,sn=0,he=0):sn+=Vr.height+p}),this.update();var dn=this._size,nr=this.oldSize;dn[0]=Ue,dn[1]=st,(dn[0]!==nr[0]||dn[1]!==nr[1])&&(nr[0]=dn[0],nr[1]=dn[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(r,o){var s=o.marker;r.markerFill=s.fill,r.markerStroke=s.stroke,r.markerStrokeWidth=e.item.marker.strokeWidth,r.markerFillOpacity=s.fillOpacity,r.markerStrokeOpacity=s.strokeOpacity,r.opacity=o.enabled?1:.5,r.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,r){var o=this.group.pickNode(e,r);if(o&&o.parent)return o.parent.datum},t.className="Legend",Yi([ln("layoutChange")],t.prototype,"data",void 0),Yi([ln("layoutChange")],t.prototype,"enabled",void 0),Yi([ln("layoutChange")],t.prototype,"orientation",void 0),Yi([ln("layoutChange")],t.prototype,"position",void 0),Yi([ln("layoutChange")],t.prototype,"spacing",void 0),t}(ss),Yl=function(){function l(){}return l.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(o){var s,h;try{for(var p=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),y=p.next();!y.done;y=p.next()){var S=y.value,E=S.contentRect,T=E.width,O=E.height;t.checkSize(t.elements.get(S.target),S.target,T,O)}}catch(R){s={error:R}}finally{try{y&&!y.done&&(h=p.return)&&h.call(p)}finally{if(s)throw s.error}}}):window.setInterval(function(){t.elements.forEach(function(o,s){t.checkSize(o,s,s.clientWidth?s.clientWidth:0,s.clientHeight?s.clientHeight:0)})},100),this.ready=!0},l.checkSize=function(t,e,r,o){t&&(!t.size||r!==t.size.width||o!==t.size.height)&&(t.size={width:r,height:o},t.cb(t.size,e))},l.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e})},l.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},l.elements=new Map,l.ready=!1,l}();function cd(l,t,e,r,o,s,h){var S=l-(l<r?r:l>r+s?r+s:l),E=t-(t<o?o:t>o+h?o+h:t);return Math.sqrt(S*S+E*E)<=e}function rh(l,t,e,r,o,s,h,p){return l+e>o&&l<o+h&&t+r>s&&t<s+p}function Cc(l,t,e,r,o,s,h,p){return o+h<l+e&&o>l&&s>t&&s+p<t+r}var ud=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fp=function(){return fp=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},fp.apply(this,arguments)},pu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function la(l,t){if("string"==typeof l)return l;t=t||{};var e=l.content,o=l.title,s=void 0===o?t.title||void 0:o,h=l.color,y=l.backgroundColor;return(s?'<div class="'+Ts.defaultTooltipClass+'-title"\n        style="color: '+(void 0===h?t.color||"white":h)+"; background-color: "+(void 0===y?t.backgroundColor||"#888":y)+'">'+s+"</div>":"")+'<div class="'+Ts.defaultTooltipClass+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var y0=function(l){function t(e,r){var o=l.call(this)||this;o.enabled=!0,o.class=Ts.defaultTooltipClass,o.delay=0,o.tracking=!0,o.showTimeout=0,o.constrained=!1,o.chart=e,o.class="";var s=r.body,h=r.createElement("div");if(o.element=s.appendChild(h),window.IntersectionObserver){var p=o.chart.scene.canvas.element,y=new IntersectionObserver(function(S){var E,T;try{for(var O=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(S),R=O.next();!R.done;R=O.next()){var N=R.value;N.target===p&&0===N.intersectionRatio&&o.toggle(!1)}}catch(X){E={error:X}}finally{try{R&&!R.done&&(T=O.return)&&T.call(O)}finally{if(E)throw E.error}}},{root:s});y.observe(p),o.observer=y}return o}return ud(t,l),t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(Ts.defaultTooltipClass+"-hidden");var r=e.getAttribute("class");return!!r&&r.split(" ").indexOf(Ts.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,r){var o=[Ts.defaultTooltipClass,this.class];!0!==e&&o.push(Ts.defaultTooltipClass+"-hidden"),!0!==r&&o.push(Ts.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",o.join(" "))},t.prototype.show=function(e,r,o){var s=this;void 0===o&&(o=!1);var h=this.element;if(void 0!==r)h.innerHTML=r;else if(!h.innerHTML)return;var p=e.pageX-h.clientWidth/2,y=e.pageY-h.clientHeight-8;if(this.constrained=!1,this.chart.container){var S=h.getBoundingClientRect(),T=window.innerWidth-S.width-1;p<0?(p=0,this.updateClass(!0,this.constrained=!0)):p>T&&(p=T,this.updateClass(!0,this.constrained=!0)),y<window.pageYOffset&&(y=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(h.style.left=Math.round(p)+"px",h.style.top=Math.round(y)+"px",this.delay>0&&!o)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){s.toggle(!0)},this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},pu([ln()],t.prototype,"enabled",void 0),pu([ln()],t.prototype,"class",void 0),pu([ln()],t.prototype,"delay",void 0),pu([ln()],t.prototype,"tracking",void 0),t}(ss),Ts=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this)||this;r.id=Wh(r),r.background=new yc,r.legend=new th,r.legendAutoPadding=new Bh,r.captionAutoPadding=0,r._container=void 0,r._data=[],r._autoSize=!1,r.padding=new Bh(20),r._axes=[],r._series=[],r._axesChanged=!1,r._seriesChanged=!1,r.layoutCallbackId=0,r._performLayout=function(){r.layoutCallbackId=0,r.background.width=r.width,r.background.height=r.height,r.performLayout(),r.layoutPending||r.fireEvent({type:"layoutDone"})},r.dataCallbackId=0,r.nodeData=new Map,r.updateCallbackId=0,r.legendBBox=new $o(0,0,0,0),r._onMouseDown=r.onMouseDown.bind(r),r._onMouseMove=r.onMouseMove.bind(r),r._onMouseUp=r.onMouseUp.bind(r),r._onMouseOut=r.onMouseOut.bind(r),r._onClick=r.onClick.bind(r),r.pointerInsideLegend=!1;var o=new Hi,s=r.background;s.fill="white",o.appendChild(s);var h=r._element=e.createElement("div");h.setAttribute("class","ag-chart-wrapper");var p=new Ya(e);r.scene=p,p.root=o,p.container=h,r.autoSize=!0,r.padding.addEventListener("layoutChange",r.scheduleLayout,r);var y=r.legend;if(y.addEventListener("layoutChange",r.scheduleLayout,r),y.item.label.addPropertyListener("formatter",r.updateLegend,r),y.addPropertyListener("position",r.onLegendPositionChange,r),r.tooltip=new y0(r,e),r.tooltip.addPropertyListener("class",function(){return r.tooltip.toggle()}),t.tooltipDocuments.indexOf(e)<0){var S=e.createElement("style");S.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',e.head.insertBefore(S,e.head.querySelector("style")),t.tooltipDocuments.push(e)}return r.setupDomListeners(p.canvas.element),r.addPropertyListener("title",r.onCaptionChange),r.addPropertyListener("subtitle",r.onCaptionChange),r.addEventListener("layoutChange",r.scheduleLayout),r}return ud(t,l),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.element.parentNode;null!=r&&r.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(r){return r.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var r=this.element.style;if(e){var o=this;Yl.observe(this.element,function(s){(s.width!==o.width||s.height!==o.height)&&(o.scene.resize(s.width,s.height),o.fireEvent({type:"layoutChange"}))}),r.display="block",r.width="100%",r.height="100%"}else Yl.unobserve(this.element),r.display="inline-block",r.width="auto",r.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),Yl.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var r=e.value,o=e.oldValue;o&&(o.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(o.node)),r&&(r.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(r.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var r=this;this._axes.forEach(function(o){return r.detachAxis(o)}),this._axes=e.filter(function(o){return!o.linkedTo}).concat(e.filter(function(o){return o.linkedTo})),this._axes.forEach(function(o){return r.attachAxis(o)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var r=this;this.removeAllSeries(),e.forEach(function(o){return r.addSeries(o)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,r){var s=this.series,h=this.seriesRoot;if(s.indexOf(e)<0){var y=r?s.indexOf(r):-1;return y>=0?(s.splice(y,0,e),h.insertBefore(e.group,r.group)):(s.push(e),h.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,r){var s=this.series,h=this.seriesRoot;if(s.indexOf(e)<0){var y=r?this.series.indexOf(r):-1;y>=0?(y+1<s.length?h.insertBefore(e.group,s[y+1].group):h.append(e.group),this.initSeries(e),s.splice(y+1,0,e)):(s.length>0?h.insertBefore(e.group,s[0].group):h.append(e.group),this.initSeries(e),s.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var r=this.series.indexOf(e);return r>=0&&(this.series.splice(r,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(r){e.freeSeries(r),e.seriesRoot.removeChild(r.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(r){var o=r.direction+"Axis",s=[];e.series.forEach(function(h){h[o]===r&&s.push(h)}),r.boundSeries=s}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var r=this;void 0===e&&(e=!1);var o={};this.axes.forEach(function(s){var h=s.direction;(o[h]||(o[h]=[])).push(s)}),this.series.forEach(function(s){s.directions.forEach(function(h){var p=h+"Axis";if(!s[p]||e){var y=o[h];if(y){var S=r.findMatchingAxis(y,s.getKeys(h));S&&(s[p]=S)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,r){for(var o=0;o<e.length;o++){var s=e[o],h=s.keys;if(!h.length)return s;if(r)for(var p=0;p<r.length;p++)if(h.indexOf(r[p])>=0)return s}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach(function(r){return r.nodeDataPending=!0})):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var r=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){r.dataPending=!1,r.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(r){var o=r.visible?r.createNodeData():[];e.nodeData.set(r,o)})},t.prototype.placeLabels=function(){var e=[],r=[];this.nodeData.forEach(function(h,p){p.visible&&p.label.enabled&&(e.push(p),r.push(p.getLabelData()))});var o=this.seriesRect,s=o?function ih(l,t,e){void 0===e&&(e=5);var r=[];l=l.map(function(E){return E.slice().sort(function(T,O){return O.size-T.size})});for(var o=0;o<l.length;o++){var s=r[o]=[],h=l[o];if(h&&h.length&&h[0].label)for(var p=function(E,T){var O=h[E],R=O.label,X=O.point.x-.5*R.width,ae=O.point.y-.5*O.size-R.height-e,le=R.width,de=R.height;return!t||Cc(t.x,t.y,t.width,t.height,X,ae,le,de)?l.some(function(rt){return rt.some(function(Pt){return cd(Pt.point.x,Pt.point.y,.5*Pt.size,X,ae,le,de)})})||r.some(function(rt){return rt.some(function(Pt){return rh(Pt.x,Pt.y,Pt.width,Pt.height,X,ae,le,de)})})?"continue":void s.push({index:E,text:R.text,x:X,y:ae,width:le,height:de}):"continue"},y=0,S=h.length;y<S;y++)p(y)}return r}(r,{x:0,y:0,width:o.width,height:o.height}):[];return new Map(s.map(function(h,p){return[e[p],h]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(o){return o.showInLegend}).forEach(function(o){return o.listSeriesItems(e)});var r=this.legend.item.label.formatter;r&&e.forEach(function(o){return o.label.text=r({id:o.id,itemId:o.itemId,value:o.label.text})}),this.legend.data=e},Object.defineProperty(t.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var r=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout(function(){r.update()},0))},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updatePending=!1,this.series.forEach(function(e){e.updatePending&&e.update()})},t.prototype.positionCaptions=function(){var r=this.title,o=this.subtitle,s=!1,h=!1,y=10;if(r&&r.enabled){r.node.x=this.width/2,r.node.y=y,s=!0;var S=r.node.computeBBox();if(S&&(y=S.y+S.height),o&&o.enabled){o.node.x=this.width/2,o.node.y=y+10,h=!0;var E=o.node.computeBBox();E&&(y=E.y+E.height)}}r&&(r.node.visible=s),o&&(o.node.visible=h),this.captionAutoPadding=Math.floor(y)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var O,e=this,r=e.legend,o=e.captionAutoPadding,s=e.legendAutoPadding,h=this.width,p=this.height-o,y=r.group,S=r.spacing,E=0,T=0;switch(r.position){case"bottom":r.performLayout(h-2*S,0),O=y.computeBBox(),y.visible=O.height<Math.floor(.5*p),y.visible?(E=(h-O.width)/2-O.x,T=o+p-O.height-O.y-S,s.bottom=O.height):s.bottom=0;break;case"top":r.performLayout(h-2*S,0),O=y.computeBBox(),y.visible=O.height<Math.floor(.5*p),y.visible?(E=(h-O.width)/2-O.x,T=o+S-O.y,s.top=O.height):s.top=0;break;case"left":r.performLayout(0,p-2*S),O=y.computeBBox(),y.visible=O.width<Math.floor(.5*h),y.visible?(E=S-O.x,T=o+(p-O.height)/2-O.y,s.left=O.width):s.left=0;break;default:r.performLayout(0,p-2*S),O=y.computeBBox(),y.visible=O.width<Math.floor(.5*h),y.visible?(E=h-O.width-O.x-S,T=o+(p-O.height)/2-O.y,s.right=O.width):s.right=0}y.visible&&(y.translationX=Math.floor(E+y.translationX),y.translationY=Math.floor(T+y.translationY),this.legendBBox=y.computeBBox())}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,r){if(this.seriesRect&&this.seriesRect.containsPoint(e,r))for(var o=this.series,s=void 0,h=o.length-1;h>=0;h--){var p=o[h];if(p.visible&&(s=p.pickGroup.pickNode(e,r)))return{series:p,node:s}}},t.prototype.pickClosestSeriesNodeDatum=function(e,r){if(this.seriesRect&&this.seriesRect.containsPoint(e,r)){for(var p,o=this.series,h=1/0,y=function(E){var T=o[E];if(!T.visible)return"continue";var O=T.group.transformPoint(e,r);T.getNodeData().forEach(function(R){var N,X;if(R.point){var le=T.yAxis;if((null===(N=T.xAxis)||void 0===N?void 0:N.inRange(R.point.x))&&(null===(X=le)||void 0===X?void 0:X.inRange(R.point.y))){var he=function s(E,T){return Math.sqrt(Math.pow(E.x-T.x,2)+Math.pow(E.y-T.y,2))}(O,R.point);he<h&&(h=he,p=R)}}})},S=o.length-1;S>=0;S--)y(S);return p}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var S,o=this.lastPick,s=this.tooltip.tracking,h=e.offsetX,p=e.offsetY,y=this.pickSeriesNode(h,p);if(y&&y.node instanceof Bu){var E=y.node;if(S=E.datum,o&&o.datum===S&&(o.node=E,o.event=e),!E.datum.point||!s)return void(o&&o.node===E?y.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,E.datum,E,e))}var T=!1;if(s){var O=this.pickClosestSeriesNodeDatum(h,p);if(O&&O.point){var R=O.point,ae=this.scene.canvas,le=O.series.group.inverseTransformPoint(R.x,R.y),de=ae.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(de.left+window.pageXOffset+le.x),pageY:Math.round(de.top+window.pageYOffset+le.y)},O,S===O&&y?y.node:void 0,e)}else T=!0}o&&(T||!s)&&(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var o=e.datum;return o.series.fireNodeClickEvent(e.event,o),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(fp(fp({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var r=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(r){var o=r.id,s=r.itemId,h=r.enabled,p=cg(this.series,function(y){return y.id===o});if(p)return p.toggleSeriesItem(s,!h),h&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:s,enabled:!h}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var r=e.offsetX,o=e.offsetY,s=this.legend.getDatumForPoint(r,o);if(this.legendBBox.containsPoint(r,o))this.pointerInsideLegend||(this.pointerInsideLegend=!0);else if(this.pointerInsideLegend)return this.pointerInsideLegend=!1,void(this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(O){return O.updatePending=!0})));var p=this.highlightedDatum;if(s){var y=s.id,S=s.itemId;if(s.enabled){var T=cg(this.series,function(O){return O.id===y});T&&(this.highlightedDatum={series:T,itemId:S,datum:void 0})}}(this.highlightedDatum&&!p||this.highlightedDatum&&p&&(this.highlightedDatum.series!==p.series||this.highlightedDatum.itemId!==p.itemId))&&this.series.forEach(function(O){return O.updatePending=!0})}},t.prototype.onSeriesDatumPick=function(e,r,o,s){var h=this.lastPick;if(h){if(h.datum===r)return;this.dehighlightDatum()}this.lastPick={datum:r,node:o,event:s},this.highlightDatum(r);var p=r.series.tooltip.enabled&&r.series.getTooltipHtml(r);p&&this.tooltip.show(e,p)},t.prototype.highlightDatum=function(e){this.scene.canvas.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach(function(r){return r.updatePending=!0})},t.prototype.dehighlightDatum=function(){this.scene.canvas.element.style.cursor="default",this.highlightedDatum=void 0,this.series.forEach(function(e){return e.updatePending=!0})},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],pu([ln("layoutChange")],t.prototype,"title",void 0),pu([ln("layoutChange")],t.prototype,"subtitle",void 0),t}(ss),Wg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new Kv,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return Wg(t,l),t.prototype.containsPoint=function(e,r){var o=this.transformPoint(e,r);return o.x>=this.x&&o.x<=this.x+this.width&&o.y>=this.y&&o.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this;return new $o(e.x,e.y,e.width,e.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var r=this.children,o=r.length,s=0;s<o;s++){e.save();var h=r[s];h.visible&&h.render(e),e.restore()}},t.className="ClipRect",t}(Ba),P2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gp=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return P2(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.width,h=e.height;return new $o(e.centerX-s/2,e.centerY-h/2,s,h)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.updatePath=function(){var e=this,r=e.path,o=e.centerX,s=e.centerY,h=e.width,p=e.height,S=this.alignment,E=this.align;r.clear();var T=o-h/2,O=s-p/2,R=E(S,T),N=E(S,O),X=R+E(S,T,h),ae=N+E(S,O,p);r.moveTo(R,N),r.lineTo(X,N),r.lineTo(X,ae),r.lineTo(R,ae),r.lineTo(R,N);var le=this.gripLineGap/2,de=this.gripLineLength/2;r.moveTo(E(S,o-le),E(S,s-de)),r.lineTo(E(S,o-le),E(S,s+de)),r.moveTo(E(S,o+le),E(S,s-de)),r.lineTo(E(S,o+le),E(S,s+de))},t.className="RangeHandle",t}(Ra),jg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),C0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return jg(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new $o(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,r=e.x,s=e.width,S=r+s*e.min;return new $o(S,e.y,r+s*e.max-S,e.height)},t.prototype.updatePath=function(){var e=this,r=e.path,o=e.x,s=e.y,h=e.width,p=e.height,y=e.min,S=e.max,T=this.alignment,O=this.align;r.clear();var R=O(T,o),N=O(T,s),X=R+O(T,o,h),ae=N+O(T,s,p);r.moveTo(R,N),r.lineTo(X,N),r.lineTo(X,ae),r.lineTo(R,ae),r.lineTo(R,N);var le=O(T,o+h*y),de=O(T,o+h*S);r.moveTo(le,N),r.lineTo(le,ae),r.lineTo(de,ae),r.lineTo(de,N),r.lineTo(le,N)},t.className="RangeMask",t}(Ra),Ug=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vp=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e.minHandle=new gp,e.maxHandle=new gp,e.mask=function(){var r=t.defaults,o=r.x,s=r.y,h=r.width,p=r.height,y=r.min,S=r.max,E=new C0;E.x=o,E.y=s,E.width=h,E.height=p,E.min=y,E.max=S;var O=e.minHandle,R=e.maxHandle;return O.centerX=o,R.centerX=o+h,O.centerY=R.centerY=s+p/2,e.append([E,O,R]),E.onRangeChange=function(N,X){e.updateHandles(),e.onRangeChange&&e.onRangeChange(N,X)},E}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e}return Ug(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,r=e.minHandle,o=e.maxHandle,s=e.x,h=e.y,p=e.width,y=e.height,S=e.mask;r.centerX=s+p*S.min,o.centerX=s+p*S.max,r.centerY=o.centerY=h+y/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this;[r.mask,r.minHandle,r.maxHandle].forEach(function(p){e.save(),p.visible&&p.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(Hi),A2=function(){function l(t){this.rm=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),l}(),Yg=function(){function l(t){this.rh=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),l}(),Kg=function(){function l(t){var e=this;this.rs=new vp,this.mask=new A2(this.rs.mask),this.minHandle=new Yg(this.rs.minHandle),this.maxHandle=new Yg(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(r,o){return e.updateAxes(r,o)}}return Object.defineProperty(l.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),l.prototype.updateAxes=function(t,e){var r=this.chart,o=!1;r.axes.forEach(function(s){s.direction===wi.X&&(!o&&(t>0||e<1)&&(o=!0),s.visibleRange=[t,e],s.update())}),r.seriesRoot.enabled=o,r.series.forEach(function(s){return s.nodeDataPending=!0})},l.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,r=t.offsetY,o=this.rs,s=o.minHandle,h=o.maxHandle,p=o.x,y=o.width,S=o.min,E=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(s.containsPoint(e,r)?this.minHandleDragging=!0:h.containsPoint(e,r)?this.maxHandleDragging=!0:E.containsPoint(e,r)&&(this.panHandleOffset=(e-p)/y-S))}},l.prototype.onDrag=function(t){if(this.enabled){var r=this.rs,o=this.panHandleOffset,s=r.x,p=r.width,S=r.minHandle,E=r.maxHandle,T=this.chart.element.style,O=t.offsetX,R=t.offsetY,N=s+p*r.min,ae=new $o(N,r.y,s+p*r.max-N,r.height);if(T.cursor=S.containsPoint(O,R)||E.containsPoint(O,R)?"ew-resize":ae.containsPoint(O,R)?"grab":"default",this.minHandleDragging)r.min=le();else if(this.maxHandleDragging)r.max=le();else if(!isNaN(o)){var de=r.max-r.min,he=Math.min(le()-o,1-de);he<=r.min?(r.min=he,r.max=r.min+de):(r.max=he+de,r.min=r.max-de)}}function le(){return Math.min(Math.max((O-s)/p,0),1)}},l.prototype.onDragStop=function(){this.stopHandleDragging()},l.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},l}(),_0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R2=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},xs=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this,e)||this;r._seriesRoot=new fu,r.navigator=new Kg(r),r.scene.root.visible=!1;var o=r.scene.root;return o.append(r.seriesRoot),o.append(r.legend.group),r.navigator.enabled=!1,r}return _0(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,s=e.axes,h=e.legend,p=e.navigator,y=new $o(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),h.enabled&&h.data.length){var S=this.legendAutoPadding,E=this.legend.spacing;switch(y.x+=S.left,y.y+=S.top,y.width-=S.left+S.right,y.height-=S.top+S.bottom,this.legend.position){case"right":y.width-=E;break;case"bottom":y.height-=E;break;case"left":y.x+=E,y.width-=E;break;case"top":y.y+=E,y.height-=E}}var O=this.captionAutoPadding,R=this.padding;this.updateAxes(),y.x+=R.left,y.width-=R.left+R.right,y.y+=R.top+O,y.height-=R.top+O+R.bottom,p.enabled&&(y.height-=p.height+p.margin);var N=0,X={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};s.forEach(function(le){le.group.visible=!0;var de=Math.floor(le.thickness||le.computeBBox().width);switch(X[le.position]&&(de+=le.title&&le.title.padding.top||15),le.position){case Qn.Top:X[Qn.Top]=!0,y.y+=de,y.height-=de,le.translation.y=Math.floor(y.y+1),le.label.mirrored=!0;break;case Qn.Right:X[Qn.Right]=!0,y.width-=de,le.translation.x=Math.max(Math.floor(y.x),Math.floor(y.x+y.width)),le.label.mirrored=!0;break;case Qn.Bottom:X[Qn.Bottom]=!0,y.height-=de,N+=de,le.translation.y=Math.max(Math.floor(y.y),Math.floor(y.y+y.height+1));break;case Qn.Left:X[Qn.Left]=!0,y.x+=de,y.width-=de,le.translation.x=Math.floor(y.x)}}),y.width=Math.max(0,y.width),y.height=Math.max(0,y.height),s.forEach(function(le){switch(le.position){case Qn.Top:case Qn.Bottom:le.translation.x=Math.floor(y.x),le.range=[0,y.width],le.gridLength=y.height;break;case Qn.Left:case Qn.Right:le.translation.y=Math.floor(y.y),le.range=le instanceof qu||le instanceof Qu?[0,y.height]:[y.height,0],le.gridLength=y.width}}),this.createNodeData(),this.seriesRect=y,this.series.forEach(function(le){le.group.translationX=Math.floor(y.x),le.group.translationY=Math.floor(y.y),le.update()});var ae=this.seriesRoot;ae.x=y.x,ae.y=y.y,ae.width=y.width,ae.height=y.height,p.enabled&&(p.x=y.x,p.y=y.y+y.height+N+p.margin,p.width=y.width),this.axes.forEach(function(le){return le.update()})}},t.prototype.initSeries=function(e){l.prototype.initSeries.call(this,e)},t.prototype.freeSeries=function(e){l.prototype.freeSeries.call(this,e)},t.prototype.setupDomListeners=function(e){l.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},t.prototype.cleanupDomListeners=function(e){l.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var r=this.scene.canvas.element.getBoundingClientRect(),o=e.touches[0];return o?{offsetX:o.clientX-r.left,offsetY:o.clientY-r.top}:void 0},t.prototype.onTouchStart=function(e){var r=this.getTouchOffset(e);r&&this.navigator.onDragStart(r)},t.prototype.onTouchMove=function(e){var r=this.getTouchOffset(e);r&&this.navigator.onDrag(r)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(e){l.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},t.prototype.onMouseMove=function(e){l.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},t.prototype.onMouseUp=function(e){l.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},t.prototype.onMouseOut=function(e){l.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(e){void 0===e&&(e=!1),l.prototype.assignAxesToSeries.call(this,e),this.series.forEach(function(r){r.xAxis||console.warn("Could not find a matching xAxis for the "+r.id+" series."),r.yAxis||console.warn("Could not find a matching yAxis for the "+r.id+" series.")})},t.prototype.updateAxes=function(){var s,e=this,r=this.navigator,o=!1;this.axes.forEach(function(h){var p,y=h.direction,S=h.boundSeries;if(0===S.length&&e._series.length>0&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),h.linkedTo)h.domain=h.linkedTo.domain;else{var E=[];S.filter(function(R){return R.visible}).forEach(function(R){E.push(R.getDomain(y))});var T=(p=new Array).concat.apply(p,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(R2(arguments[t]));return l}(E));h instanceof pc&&"y"===h.direction?(h.setDomain(T,s),s=s||h.scale.ticks(h.tick.count).length):h.domain=T}h.direction===wi.X&&(h.visibleRange=[r.min,r.max]),!o&&(h.visibleRange[0]>0||h.visibleRange[1]<1)&&(o=!0),h.update()}),this.seriesRoot.enabled=o},t.className="CartesianChart",t.type="cartesian",t}(Ts),F2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$g=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this,e)||this;r._data={},r._seriesRoot=new fu,r.scene.root.visible=!1;var o=r.scene.root;return o.append(r.seriesRoot),o.append(r.legend.group),r}return F2(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,s=e.legend,h=new $o(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),s.enabled&&s.data.length){var p=this.legendAutoPadding,y=this.legend.spacing;switch(h.x+=p.left,h.y+=p.top,h.width-=p.left+p.right,h.height-=p.top+p.bottom,this.legend.position){case"right":h.width-=y;break;case"bottom":h.height-=y;break;case"left":h.x+=y,h.width-=y;break;case"top":h.y+=y,h.height-=y}}var E=this.captionAutoPadding,T=this.padding;h.x+=T.left,h.width-=T.left+T.right,h.y+=T.top+E,h.height-=T.top+E+T.bottom,this.seriesRect=h,this.series.forEach(function(R){R.group.translationX=Math.floor(h.x),R.group.translationY=Math.floor(h.y),R.update()});var O=this.seriesRoot;O.x=h.x,O.y=h.y,O.width=h.width,O.height=h.height}},t.className="HierarchyChart",t.type="hierarchy",t}(Ts),oh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L2=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},nm=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return oh(t,l),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var r,o=e.direction,h=[],p=void 0;e.boundSeries.filter(function(S){return S.visible}).forEach(function(S){if(o===wi.X)if(void 0===p){var E=S.getDomain(o);h.push(E),p="number"==typeof E[0]}else p&&h.push(S.getDomain(o));else h.push(S.getDomain(o))});var y=(r=new Array).concat.apply(r,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(L2(arguments[t]));return l}(h));e.domain=bo(y,Aa)||y,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(xs),I2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ah=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ks=function(l){function t(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return I2(t,l),t.prototype.getFont=function(){return ma(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},ah([ln("change","dataChange")],t.prototype,"enabled",void 0),ah([ln("change")],t.prototype,"fontSize",void 0),ah([ln("change")],t.prototype,"fontFamily",void 0),ah([ln("change")],t.prototype,"fontStyle",void 0),ah([ln("change")],t.prototype,"fontWeight",void 0),ah([ln("change")],t.prototype,"color",void 0),t}(ss),Cl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gf=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},dd=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},qg=function l(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},k2=function l(){this.strokeWidth=void 0,this.dimOpacity=void 0},Xg=function l(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new qg,this.series=new k2},hs=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e}return Cl(t,l),Gf([ln("change")],t.prototype,"enabled",void 0),t}(ss),_l=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.id=Wh(e),e.group=new Hi,e.pickGroup=e.group.appendChild(new Hi),e.directions=[wi.X,wi.Y],e.directionKeys={},e.label=new Ks,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.cursor="default",e._nodeDataPending=!0,e._updatePending=!1,e.highlightStyle=new Xg,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return Cl(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){},t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=o&&o[e],h=[];return s&&s.forEach(function(p){var y=r[p];y&&(Array.isArray(y)?h.push.apply(h,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(dd(arguments[t]));return l}(y)):h.push(y))}),h},t.prototype.createNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},Object.defineProperty(t.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleUpdate=function(){this.updatePending=!0},t.prototype.getOpacity=function(e){var o=this.chart,s=this.highlightStyle.series.dimOpacity;return o&&o.highlightedDatum&&(o.highlightedDatum.series!==this||e&&o.highlightedDatum.itemId!==e.itemId)?void 0===s?1:s:1},t.prototype.getStrokeWidth=function(e,r){var s=this.chart,h=this.highlightStyle.series.strokeWidth;return!s||!s.highlightedDatum||s.highlightedDatum.series!==this||r&&s.highlightedDatum.itemId!==r.itemId||void 0===h?e:h},t.prototype.fireNodeClickEvent=function(e,r){},t.prototype.toggleSeriesItem=function(e,r){this.visible=r},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,r,o){if(!e)return[0,1];var s=dd(e,2),h=s[0],p=s[1];if(p=+p,0==(h=+h)&&0===p)return[0,1];if(h===p)if(o instanceof od)h-=1,p+=1;else{var y=Math.abs(.01*h);h-=y,p+=y}return Kr(h)&&Kr(p)?[h,p]:[0,1]},t.highlightedZIndex=1e12,Gf([ln("dataChange")],t.prototype,"data",void 0),Gf([ln("dataChange")],t.prototype,"visible",void 0),Gf([ln("layoutChange")],t.prototype,"showInLegend",void 0),t}(ss),w0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_c=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Hc=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.shape=kg,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return w0(t,l),_c([ln("change")],t.prototype,"enabled",void 0),_c([ln("change")],t.prototype,"shape",void 0),_c([ln("change")],t.prototype,"size",void 0),_c([ln("change")],t.prototype,"maxSize",void 0),_c([ln("change")],t.prototype,"domain",void 0),_c([ln("change")],t.prototype,"fill",void 0),_c([ln("change")],t.prototype,"stroke",void 0),_c([ln("change")],t.prototype,"strokeWidth",void 0),_c([ln("change")],t.prototype,"fillOpacity",void 0),_c([ln("change")],t.prototype,"strokeOpacity",void 0),t}(ss),Bf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S0=function(l){function t(){var e,r=null!==l&&l.apply(this,arguments)||this;return r.directionKeys=((e={})[wi.X]=["angleKey"],e[wi.Y]=["radiusKey"],e),r.centerX=0,r.centerY=0,r.radius=0,r}return Bf(t,l),t}(_l),Zg=(function(l){Bf(function t(){return null!==l&&l.apply(this,arguments)||this},l)}(Hc),function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),V2=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this,e)||this;return r.padding=new Bh(40),r.scene.root.append(r.legend.group),r.padding.addEventListener("layoutChange",r.scheduleLayout,r),r}return Zg(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new $o(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var r=this.captionAutoPadding;if(e.y+=r,e.height-=r,this.legend.enabled&&this.legend.data.length){var o=this.legendAutoPadding;e.x+=o.left,e.y+=o.top,e.width-=o.left+o.right,e.height-=o.top+o.bottom;var s=this.legend.spacing;switch(this.legend.position){case"right":e.width-=s;break;case"bottom":e.height-=s;break;case"left":e.x+=s,e.width-=s;break;case"top":e.y+=s,e.height-=s}}var h=this.padding;e.x+=h.left,e.y+=h.top,e.width-=h.left+h.right,e.height-=h.top+h.bottom,this.seriesRect=e;var p=e.x+e.width/2,y=e.y+e.height/2,S=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(E){E instanceof S0&&(E.centerX=p,E.centerY=y,E.radius=S,E.update())})},t.className="PolarChart",t.type="polar",t}(Ts),Wf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sh=function(l){function t(){var e,r=null!==l&&l.apply(this,arguments)||this;return r.directionKeys=((e={})[wi.X]=["xKey"],e[wi.Y]=["yKey"],e),r}return Wf(t,l),t.prototype.checkDomainXY=function(e,r,o,s){return(o&&Aa(e)||Ao(e))&&(s&&Aa(r)||Ao(r))?[e,r]:void 0},t.prototype.checkRangeXY=function(e,r,o,s){return!isNaN(e)&&!isNaN(r)&&o.inRange(e)&&s.inRange(r)},t}(_l),wc=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return Wf(t,l),t}(Hc);function mp(l,t){if(l===t)return!0;if(l&&t&&"object"==typeof l&&"object"==typeof t){if(l.constructor!==t.constructor)return!1;var e,r=void 0;if(Array.isArray(l)){if((e=l.length)!=t.length)return!1;for(r=e;0!=r--;)if(!mp(l[r],t[r]))return!1;return!0}if(l.constructor===RegExp)return l.source===t.source&&l.flags===t.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===t.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===t.toString();var o=Object.keys(l);if((e=o.length)!==Object.keys(t).length)return!1;for(r=e;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=e;0!=r--;){var s=o[r];if(!mp(l[s],t[s]))return!1}return!0}return l!=l&&t!=t}var Qg=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},jf=/(#\{(.*?)\})/g;function H2(l,t,e){return l.replace(jf,function(){var r=arguments[2],o=Qg(r.split(":"),2),s=o[0],h=o[1],p=t[s];if("number"==typeof p){if(y=h&&e&&e[h]){var S=y,E=S.locales,T=S.options;return p.toLocaleString(E,T)}return String(p)}if(p instanceof Date){var y;if("string"==typeof(y=h&&e&&e[h])){var O=du.format(y);return O(p)}return p.toDateString()}return"string"==typeof p||p&&p.toString?String(p):""})}var Sc=null;function Sa(l){return Sc=Sc||document.createElement("div"),l?(Sc.innerText=l,Sc.innerHTML):""}var lh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ps=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},b0=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uf=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Yf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lh(t,l),ps([ln("change")],t.prototype,"formatter",void 0),t}(Ks),rm=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lh(t,l),ps([ln("change")],t.prototype,"renderer",void 0),ps([ln("change")],t.prototype,"format",void 0),t}(hs),Kl=function(l){function t(){var e=l.call(this)||this;e.tooltip=new rm,e.areaGroup=e.group.insertBefore(new Hi,e.pickGroup),e.strokeGroup=e.group.insertBefore(new Hi,e.pickGroup),e.markerGroup=e.pickGroup.appendChild(new Hi),e.labelGroup=e.group.appendChild(new Hi),e.fillSelection=Io.select(e.areaGroup).selectAll(),e.strokeSelection=Io.select(e.strokeGroup).selectAll(),e.markerSelection=Io.select(e.markerGroup).selectAll(),e.labelSelection=Io.select(e.labelGroup).selectAll(),e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.fillSelectionData=[],e.strokeSelectionData=[],e.markerSelectionData=[],e.labelSelectionData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new wc,e.label=new Yf,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.addEventListener("update",e.scheduleUpdate);var o=e.marker,s=e.label;return o.enabled=!1,o.addPropertyListener("shape",e.onMarkerShapeChange,e),o.addEventListener("change",e.scheduleUpdate,e),s.enabled=!1,s.addEventListener("change",e.scheduleUpdate,e),e}return lh(t,l),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!mp(this._yKeys,e)){this._yKeys=e,this.yData=[];var r=this.seriesItemEnabled;r.clear(),e.forEach(function(o){return r.set(o,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e,r,o=this,s=o.xKey,h=o.yKeys,p=o.seriesItemEnabled,y=o.xAxis,S=o.yAxis,E=o.normalizedTo,T=s&&h.length&&this.data?this.data:[];if(!y||!S)return!1;var O=y.scale instanceof Wa,R=S.scale instanceof Wa,N=E&&isFinite(E),X=!0;this.xData=T.map(function(rn){return X&&!(s in rn)&&(X=!1,console.warn("The key '"+s+"' was not found in the data: ",rn)),O?Aa(rn[s])?rn[s]:void 0:Ao(rn[s])?rn[s]:String(rn[s])}),this.yData=T.map(function(rn){return h.map(function(Cn){X&&!(Cn in rn)&&(X=!1,console.warn("The key '"+Cn+"' was not found in the data: ",rn));var sn=rn[Cn];return p.get(Cn)?R?Aa(sn)?sn:N?0:void 0:Ao(sn)?sn:String(sn):0})}),this.xDomain=O?this.fixNumericExtent(bo(this.xData,Aa),"x",y):this.xData;var ae=this.yData,le=[],de=0,he=0;try{for(var Ue=b0(ae),st=Ue.next();!st.done;st=Ue.next()){for(var rt=st.value,Pt={sum:0,absSum:0},Rt=0;Rt<rt.length;Rt++){var Gt=+rt[Rt];Pt.absSum+=Math.abs(Gt),Pt.sum+=Gt,Pt.sum>he?he=Pt.sum:Pt.sum<de&&(de=Pt.sum)}var Zt=0;for(Rt=0;Rt<rt.length;Rt++){if(N&&E){var Rn=+rt[Rt]/Pt.absSum*E;rt[Rt]=Rn,(Zt+=Rn)>he?he=Zt:Zt<de&&(de=Zt)}(le[Rt]||(le[Rt]=[])).push(rt[Rt])}}}catch(rn){e={error:rn}}finally{try{st&&!st.done&&(r=Ue.return)&&r.call(Ue)}finally{if(e)throw e.error}}return N&&E&&(de=de<.5*-E?-E:de,he=he>.5*E?E:he),this.yData=le,this.yDomain=this.fixNumericExtent([de,he],"y",S),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var r,o,s=0,h=0;try{for(var p=b0(e),y=p.next();!y.done;y=p.next()){var S=y.value;S.min<s&&(s=S.min),S.max>h&&(h=S.max)}}catch(E){r={error:E}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}return{min:s,max:h}},t.prototype.getDomain=function(e){return e===wi.X?this.xDomain:this.yDomain},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.createSelectionData=function(){var e=this,r=this,o=r.data,s=r.xAxis,h=r.yAxis,p=r.xData,y=r.yData,S=r.labelSelectionData,E=r.markerSelectionData,T=r.strokeSelectionData,O=r.fillSelectionData;if(o&&s&&h&&p.length&&y.length){var N=this,X=N.yKeys,ae=N.marker,le=N.label,de=N.fills,he=N.strokes,Ue=s.scale,st=h.scale,rt=st instanceof Wa,Pt=(Ue.bandwidth||0)/2;E.length=0,S.length=0,T.length=0,O.length=0;var Rt=new Array(p.length).fill(null).map(function(){return{left:0,right:0}}),Gt=new Array(p.length).fill(0),Zt=function(Sn,rn,Cn,sn){var dn=Ue.convert(Sn)+Pt,Yn=Rt[Cn][sn]+rn,zr=st.convert(Rt[Cn][sn],rt?Bd:void 0),Wn=st.convert(Yn,rt?Bd:void 0);return Rt[Cn][sn]=Yn,[{x:dn,y:Wn},{x:dn,y:zr}]};y.forEach(function(Sn,rn){var Cn=X[rn],dn=(O[rn]||(O[rn]={itemId:Cn,points:[]})).points,nr=[],Yn=T[rn]||(T[rn]={itemId:Cn,points:[],yValues:[]}),zr=Yn.points,Wn=Yn.yValues;Sn.forEach(function(Vr,Un){var La,Ur=p[Un],Hr=p[Un+1],Ti=Sn[Un+1],Ii=o[Un],da=function(Sn,rn,Cn,sn){var dn,nr=e.normalizedTo&&isFinite(e.normalizedTo),Yn=nr&&rt&&Aa(sn);return(!nr||Yn)&&(dn=Gt[Cn]+=rn),{x:Ue.convert(Sn)+Pt,y:st.convert(dn,rt?Bd:void 0)}}(Ur,+Vr,Un,Ii[Cn]);ae&&E.push({index:Un,series:e,itemId:Cn,datum:Ii,yValue:Vr,yKey:Cn,point:da,fill:de[rn%de.length],stroke:he[rn%he.length]}),La=le.formatter?le.formatter({value:Vr}):Kr(Vr)?Number(Vr).toFixed(2):String(Vr),le&&S.push({index:Un,itemId:Cn,point:da,label:e.seriesItemEnabled.get(Cn)&&La?{text:La,fontStyle:le.fontStyle,fontWeight:le.fontWeight,fontSize:le.fontSize,fontFamily:le.fontFamily,textAlign:"center",textBaseline:"bottom",fill:le.color}:void 0});var As=[Ur,Hr],Ea=[Vr,Ti];if(!As.some(function(tl){return null==tl})){Ea.some(function(tl){return null==tl})&&(Ea[0]=0,Ea[1]=0);var xl=Zt(As[0],+Ea[0],Un,"right");dn.push(xl[0]),nr.push(xl[1]);var ha=Zt(As[1],+Ea[1],Un,"left");dn.push(ha[0]),nr.push(ha[1]),zr.push({x:NaN,y:NaN}),Wn.push(void 0),zr.push(xl[0]),Wn.push(Vr),void 0!==Ti&&(zr.push(ha[0]),Wn.push(Vr))}}),dn.push.apply(dn,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Uf(arguments[t]));return l}(nr.slice().reverse()))})}},t.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.fillSelectionData);e.exit.remove();var r=e.enter.append(Ra).each(function(o){o.lineJoin="round",o.stroke=void 0,o.pointerEvents=ws.None});this.fillSelection=e.merge(r)},t.prototype.updateFillNodes=function(){var e=this,r=this,o=r.fills,s=r.fillOpacity,h=r.strokeOpacity,p=r.strokeWidth,y=r.shadow,S=r.seriesItemEnabled;this.fillSelection.each(function(E,T,O){E.fill=o[O%o.length],E.fillOpacity=s,E.strokeOpacity=h,E.strokeWidth=p,E.lineDash=e.lineDash,E.lineDashOffset=e.lineDashOffset,E.fillShadow=y,E.visible=!!S.get(T.itemId),E.opacity=e.getOpacity(T);var R=T.points,N=E.path;N.clear(),R.forEach(function(X,ae){var le=X.x,de=X.y;ae>0?N.lineTo(le,de):N.moveTo(le,de)}),N.closePath()})},t.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.strokeSelectionData);e.exit.remove();var r=e.enter.append(Ra).each(function(o){o.fill=void 0,o.lineJoin=o.lineCap="round",o.pointerEvents=ws.None});this.strokeSelection=e.merge(r)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var r=this,o=r.strokes,s=r.strokeOpacity,h=r.seriesItemEnabled,p=!0;this.strokeSelection.each(function(y,S,E){y.visible=!!h.get(S.itemId),y.opacity=e.getOpacity(S),y.stroke=o[E%o.length],y.strokeWidth=e.getStrokeWidth(e.strokeWidth,S),y.strokeOpacity=s,y.lineDash=e.lineDash,y.lineDashOffset=e.lineDashOffset;var T=S.points,O=S.yValues,R=y.path;R.clear();for(var N=0;N<T.length;N++){var X=T[N],ae=X.x,le=X.y;void 0===O[N]?p=!0:p?(R.moveTo(ae,le),p=!1):R.lineTo(ae,le)}})}},t.prototype.updateMarkerSelection=function(){var e=ds(this.marker.shape),o=this.markerSelection.setData(e?this.markerSelectionData:[]);o.exit.remove();var s=o.enter.append(e);this.markerSelection=o.merge(s)},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var r=this,o=r.xKey,s=r.marker,h=r.seriesItemEnabled,p=r.yKeys,y=r.fills,S=r.strokes,E=r.chart.highlightedDatum,T=r.highlightStyle,X=T.item,ae=X.fill,le=void 0===ae?T.fill:ae,de=X.stroke,he=void 0===de?T.stroke:de,Ue=X.strokeWidth,st=void 0===Ue?T.strokeWidth:Ue,rt=s.size,Pt=s.formatter,Rt=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth;this.markerSelection.each(function(Gt,Zt){var Rn=p.indexOf(Zt.yKey),Sn=Zt===E,rn=Sn&&void 0!==le?le:s.fill||y[Rn%y.length],Cn=Sn&&void 0!==he?he:s.stroke||S[Rn%y.length],sn=Sn&&void 0!==st?st:Rt,dn=void 0;Pt&&(dn=Pt({datum:Zt.datum,xKey:o,yKey:Zt.yKey,fill:rn,stroke:Cn,strokeWidth:sn,size:rt,highlighted:Sn})),Gt.fill=dn&&dn.fill||rn,Gt.stroke=dn&&dn.stroke||Cn,Gt.strokeWidth=dn&&void 0!==dn.strokeWidth?dn.strokeWidth:sn,Gt.size=dn&&void 0!==dn.size?dn.size:rt,Gt.translationX=Zt.point.x,Gt.translationY=Zt.point.y,Gt.visible=s.enabled&&Gt.size>0&&!!h.get(Zt.yKey)&&!isNaN(Zt.point.x)&&!isNaN(Zt.point.y),Gt.opacity=e.getOpacity(Zt)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var r=e.enter.append(oa);this.labelSelection=e.merge(r)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var r=this.label,o=r.enabled,s=r.fontStyle,h=r.fontWeight,p=r.fontSize,y=r.fontFamily,S=r.color;this.labelSelection.each(function(E,T){var O=T.point,R=T.label;R&&o?(E.fontStyle=s,E.fontWeight=h,E.fontSize=p,E.fontFamily=y,E.textAlign=R.textAlign,E.textBaseline=R.textBaseline,E.text=R.text,E.x=O.x,E.y=O.y-10,E.fill=S,E.visible=!0,E.opacity=e.getOpacity(T)):E.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:r.yKey})},t.prototype.getTooltipHtml=function(e){var r=this.xKey,o=e.yKey;if(!r||!o)return"";var s=e.datum,h=s[r],p=s[o],S=this.xAxis,E=this.yAxis;if(!(S&&E&&Kr(p)))return"";var T=this,O=T.xName,R=T.yKeys,N=T.yNames,X=T.yData,ae=T.fills,le=T.strokes,de=T.tooltip,he=T.marker,Ue=he.size,st=he.formatter,rt=he.strokeWidth,Pt=he.fill,Rt=he.stroke,Gt=S.formatDatum(h),Zt=E.formatDatum(p),Rn=R.indexOf(o),rn=X[Rn][e.index],Cn=N[Rn],sn=Sa(Cn),dn=Sa(Gt+": "+Zt),Yn=Pt||ae[Rn%ae.length],Wn=void 0;st&&(Wn=st({datum:s,xKey:r,yKey:o,fill:Yn,stroke:Rt||le[Rn%ae.length],strokeWidth:void 0!==rt?rt:this.strokeWidth,size:Ue,highlighted:!1}));var Vr=Wn&&Wn.fill||Yn,Un={title:sn,backgroundColor:Vr,content:dn},Ur=de.renderer,Hr=de.format;if(Hr||Ur){var Ti={datum:s,xKey:r,xName:O,xValue:h,yKey:o,yValue:p,processedYValue:rn,yName:Cn,color:Vr};if(Hr)return la({content:H2(Hr,Ti)},Un);if(Ur)return la(Ur(Ti),Un)}return la(Un)},t.prototype.listSeriesItems=function(e){var r=this,o=r.data,s=r.id,p=r.yKeys,y=r.yNames,S=r.seriesItemEnabled,E=r.marker,T=r.fills,O=r.strokes,R=r.fillOpacity,N=r.strokeOpacity;o&&o.length&&r.xKey&&p.length&&p.forEach(function(X,ae){e.push({id:s,itemId:X,enabled:S.get(X)||!1,label:{text:y[ae]||p[ae]},marker:{shape:E.shape,fill:E.fill||T[ae%T.length],stroke:E.stroke||O[ae%O.length],fillOpacity:R,strokeOpacity:N}})})},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled.set(e,r),this.scheduleData()},t.className="AreaSeries",t.type="area",ps([ln("dataChange")],t.prototype,"fills",void 0),ps([ln("dataChange")],t.prototype,"strokes",void 0),ps([ln("update")],t.prototype,"fillOpacity",void 0),ps([ln("update")],t.prototype,"strokeOpacity",void 0),ps([ln("update")],t.prototype,"lineDash",void 0),ps([ln("update")],t.prototype,"lineDashOffset",void 0),ps([ln("update")],t.prototype,"xName",void 0),ps([ln("update")],t.prototype,"yNames",void 0),ps([ln("update")],t.prototype,"strokeWidth",void 0),ps([ln("update")],t.prototype,"shadow",void 0),t}(sh),ch=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},yp=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uh=(()=>(function(l){l[l.Bar=0]="Bar",l[l.Label=1]="Label"}(uh||(uh={})),uh))(),wl=(()=>(function(l){l.Inside="inside",l.Outside="outside"}(wl||(wl={})),wl))(),E0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.placement=wl.Inside,e}return ch(t,l),fs([ln("change")],t.prototype,"formatter",void 0),fs([ln("change")],t.prototype,"placement",void 0),t}(Ks),D0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ch(t,l),fs([ln("change")],t.prototype,"renderer",void 0),t}(hs);function Kf(l,t){return void 0===t&&(t=[]),l.forEach(function(e){Array.isArray(e)?Kf(e,t):t.push(e)}),t}var pd=function(l){function t(){var e,r=l.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new Hi),r.labelGroup=r.group.appendChild(new Hi),r.rectSelection=Io.select(r.rectGroup).selectAll(),r.labelSelection=Io.select(r.labelGroup).selectAll(),r.nodeData=[],r.xData=[],r.yData=[],r.yDomain=[],r.label=new E0,r.seriesItemEnabled=new Map,r.tooltip=new D0,r.flipXY=!1,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.groupScale=new gl,r.directionKeys=((e={})[wi.X]=["xKey"],e[wi.Y]=["yKeys"],e),r._xKey="",r._xName="",r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r._yKeys=[],r._grouped=!1,r._yNames={},r._strokeWidth=1,r.addEventListener("update",r.scheduleUpdate),r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return ch(t,l),t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=o&&o[this.flipXY?ls(e):e],h=[];return s&&s.forEach(function(p){var y=r[p];y&&(Array.isArray(y)?h=h.concat(Kf(y)):h.push(y))}),h},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var r=this,o=void 0;if(function Jg(l){return l.length>0&&Array.isArray(l[0])}(e)||(o=e,e=this.grouped?o.map(function(S){return[S]}):[o]),!mp(this._yKeys,e)){this.flatYKeys=o||void 0,this._yKeys=e;var s=0;this.cumYKeyCount=[];var h=[];e.forEach(function(S,E){S.length>0&&h.push(String(E)),r.cumYKeyCount.push(s),s+=S.length}),this.yData=[];var p=this.seriesItemEnabled;p.clear(),e.forEach(function(S){S.forEach(function(E){return p.set(E,!0)})});var y=this.groupScale;y.domain=h,y.padding=.1,y.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var r={};this.flatYKeys.forEach(function(o,s){r[o]=e[s]}),e=r}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,r=e.xKey,o=e.yKeys,s=e.seriesItemEnabled,p=r&&o.length&&this.data?this.data:[];if(!e.xAxis)return!1;var y=!0;this.xData=p.map(function(le){return y&&!(r in le)&&(y=!1,console.warn("The key '"+r+"' was not found in the data: ",le)),Ao(le[r])?le[r]:String(le[r])}),this.yData=p.map(function(le){return o.map(function(de){return de.map(function(he){y&&!(he in le)&&(y=!1,console.warn("The key '"+he+"' was not found in the data: ",le));var Ue=le[he];return isFinite(Ue)&&s.get(he)?Ue:0})})});var X,ae,S=this.yData.map(function(le){return le.map(function(de){return function q4(l){var t,e,r=0,o=0;try{for(var s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),h=s.next();!h.done;h=s.next()){var p=h.value;p<0?r+=p:o+=p}}catch(y){t={error:y}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return{min:r,max:o}}(de)})}),T=this.yData,O=this.normalizedTo,R=this.yData.map(function(le){return le.map(function(de){return de.reduce(function(he,Ue){return he+Math.abs(Ue)},0)})}),N=this.findLargestMinMax(S);return O&&isFinite(O)?(X=N.min<0?-O:0,ae=N.max>0?O:0,T.forEach(function(le,de){le.forEach(function(he,Ue){he.forEach(function(st,rt){he[rt]=st/R[de][Ue]*O})})})):(X=N.min,ae=N.max),this.yDomain=this.fixNumericExtent([X,ae],"y",this.yAxis),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var r,o,s,h,p=0,y=0;try{for(var S=yp(e),E=S.next();!E.done;E=S.next()){var T=E.value;try{for(var O=(s=void 0,yp(T)),R=O.next();!R.done;R=O.next()){var N=R.value;N.min<p&&(p=N.min),N.max>y&&(y=N.max)}}catch(X){s={error:X}}finally{try{R&&!R.done&&(h=O.return)&&h.call(O)}finally{if(s)throw s.error}}}}catch(X){r={error:X}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}return{min:p,max:y}},t.prototype.getDomain=function(e){return this.flipXY&&(e=ls(e)),e===wi.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:r.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.createNodeData=function(){var e=this,r=this,o=r.chart,s=r.data,h=r.visible,p=this.getCategoryAxis(),y=this.getValueAxis();if(!(o&&s&&h&&p&&y)||o.layoutPending||o.dataPending)return[];var S=this.flipXY,E=p.scale,T=y.scale,O=this,R=O.groupScale,N=O.yKeys,X=O.cumYKeyCount,ae=O.fills,le=O.strokes,de=O.strokeWidth,he=O.seriesItemEnabled,Ue=O.xData,st=O.yData,rt=O.label,Pt=rt.fontStyle,Rt=rt.fontWeight,Gt=rt.fontSize,Zt=rt.fontFamily,Rn=rt.color,Sn=rt.formatter,rn=rt.placement;R.range=[0,E.bandwidth];var sn=R.bandwidth,dn=[];return Ue.forEach(function(nr,Yn){for(var zr=s[Yn],Wn=E.convert(nr),Vr=st[Yn],Un=0;Un<Vr.length;Un++)for(var Ur=Vr[Un],Hr=0,Ti=0,Ii=0;Ii<Ur.length;Ii++){var da=+Ur[Ii],La=N[Un][Ii],As=Wn+R.convert(String(Un));if(p.inRange(As,sn)){var Dh,Ea=da<0?Hr:Ti,xl=T instanceof Wa,ha=T.convert(Ea+da,xl?Bd:void 0),tl=T.convert(Ea,xl?Bd:void 0),Ml=zr[La];Dh=Sn?Sn({value:Kr(Ml)?Ml:void 0}):Kr(Ml)?Ml.toFixed(2):"";var Oh=void 0,Wp=void 0;S?(Wp=As+sn/2,Oh=rn===wl.Inside?ha+(Ml>=0?-1:1)*Math.abs(tl-ha)/2:ha+4*(Ml>=0?1:-1)):(Oh=As+sn/2,Wp=rn===wl.Inside?ha+(Ml>=0?1:-1)*Math.abs(tl-ha)/2:ha+(Ml>=0?-3:4));var fr=void 0,Zi=void 0;rn===wl.Inside?(fr="center",Zi="middle"):(fr=S?Ml>=0?"start":"end":"center",Zi=S?"middle":Ml>=0?"bottom":"top");var Rs=X[Un]+Ii;dn.push({index:Yn,series:e,itemId:La,datum:zr,yValue:Ml,yKey:La,x:S?Math.min(ha,tl):As,y:S?As:Math.min(ha,tl),width:S?Math.abs(tl-ha):sn,height:S?sn:Math.abs(tl-ha),fill:ae[Rs%ae.length],stroke:le[Rs%le.length],strokeWidth:de,label:he.get(La)&&Dh?{text:Dh,fontStyle:Pt,fontWeight:Rt,fontSize:Gt,fontFamily:Zt,textAlign:fr,textBaseline:Zi,fill:Rn,x:Oh,y:Wp}:void 0}),da<0?Hr+=da:Ti+=da}}}),this.nodeData=dn},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var r=e.enter.append(yc).each(function(o){o.tag=uh.Bar,o.crisp=!0});this.rectSelection=e.merge(r)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var r=this,o=r.fills,s=r.strokes,h=r.fillOpacity,p=r.strokeOpacity,y=r.shadow,S=r.formatter,E=r.xKey,T=r.flipXY,O=r.yKeys,R=r.chart.highlightedDatum,N=r.highlightStyle,de=N.item,he=de.fill,Ue=void 0===he?N.fill:he,st=de.stroke,rt=void 0===st?N.stroke:st,Pt=de.strokeWidth,Rt=void 0===Pt?N.strokeWidth:Pt;this.rectSelection.each(function(Gt,Zt,Rn){for(var Sn=0,rn=0,Cn=0;Cn<O.length;Cn++){var sn=O[Cn];if((rn=sn.indexOf(Zt.yKey))>=0){Sn+=rn;break}Sn+=sn.length}var dn=Zt===R,nr=dn&&void 0!==Ue?Ue:o[Sn%o.length],Yn=dn&&void 0!==rt?rt:s[Sn%o.length],zr=dn&&void 0!==Rt?Rt:e.getStrokeWidth(e.strokeWidth,Zt),Wn=void 0;S&&(Wn=S({datum:Zt.datum,fill:nr,stroke:Yn,strokeWidth:zr,highlighted:dn,xKey:E,yKey:Zt.yKey})),Gt.x=Zt.x,Gt.y=Zt.y,Gt.width=Zt.width,Gt.height=Zt.height,Gt.fill=Wn&&Wn.fill||nr,Gt.stroke=Wn&&Wn.stroke||Yn,Gt.strokeWidth=Wn&&void 0!==Wn.strokeWidth?Wn.strokeWidth:zr,Gt.fillOpacity=h,Gt.strokeOpacity=p,Gt.lineDash=e.lineDash,Gt.lineDashOffset=e.lineDashOffset,Gt.fillShadow=y,Gt.visible=T?Zt.width>0:Zt.height>0,Gt.zIndex=dn?_l.highlightedZIndex:Rn,Gt.opacity=e.getOpacity(Zt)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var r=e.enter.append(oa).each(function(o){o.tag=uh.Label,o.pointerEvents=ws.None});this.labelSelection=e.merge(r)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var s=this.label,h=s.enabled,p=s.fontStyle,y=s.fontWeight,S=s.fontSize,E=s.fontFamily,T=s.color;this.labelSelection.each(function(O,R,N){var X=R.label;X&&h?(O.fontStyle=p,O.fontWeight=y,O.fontSize=S,O.fontFamily=E,O.textAlign=X.textAlign,O.textBaseline=X.textBaseline,O.text=X.text,O.x=X.x,O.y=X.y,O.fill=T,O.visible=!0,O.opacity=e.getOpacity(R)):O.visible=!1})}},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKeys,h=r.yData,p=this.getCategoryAxis(),y=this.getValueAxis(),S=e.yKey;if(!(h.length&&o&&S&&p&&y))return"";for(var E=h[e.index],T=0,O=0,R=0;R<s.length;R++){var N=s[R];if((O=N.indexOf(S))>=0){T+=O;break}T+=N.length}var X=this,ae=X.xName,de=X.fills,st=X.formatter,rt=X.tooltip.renderer,Pt=e.datum,Rt=X.yNames[S],Gt=de[T%de.length],Zt=X.strokes[T%de.length],Rn=this.getStrokeWidth(this.strokeWidth,Pt),Sn=Pt[o],rn=Pt[S],Cn=E[R][O],sn=Sa(p.formatDatum(Sn)),dn=Sa(y.formatDatum(rn)),nr=Sa(Rt),Yn=sn+": "+dn,zr=void 0;st&&(zr=st({datum:Pt,fill:Gt,stroke:Zt,strokeWidth:Rn,highlighted:!1,xKey:o,yKey:S}));var Wn=zr&&zr.fill||Gt,Vr={title:nr,backgroundColor:Wn,content:Yn};return rt?la(rt({datum:Pt,xKey:o,xValue:Sn,xName:ae,yKey:S,yValue:rn,processedYValue:Cn,yName:Rt,color:Wn}),Vr):la(Vr)},t.prototype.listSeriesItems=function(e){var r=this,o=r.id,s=r.data,y=r.yNames,S=r.cumYKeyCount,E=r.seriesItemEnabled,T=r.hideInLegend,O=r.fills,R=r.strokes,N=r.fillOpacity,X=r.strokeOpacity;s&&s.length&&r.xKey&&r.yKeys.length&&this.yKeys.forEach(function(ae,le){ae.forEach(function(de,he){if(T.indexOf(de)<0){var Ue=S[le]+he;e.push({id:o,itemId:de,enabled:E.get(de)||!1,label:{text:y[de]||de},marker:{fill:O[Ue%O.length],stroke:R[Ue%R.length],fillOpacity:N,strokeOpacity:X}})}})})},t.prototype.toggleSeriesItem=function(e,r){var o=this.seriesItemEnabled;o.set(e,r);var s=this.yKeys.map(function(p){return p.slice()});o.forEach(function(p,y){p||s.forEach(function(S){var E=S.indexOf(y);E>=0&&S.splice(E,1)})});var h=[];s.forEach(function(p,y){p.length>0&&h.push(String(y))}),this.groupScale.domain=h,this.scheduleData()},t.className="BarSeries",t.type="bar",fs([ln("dataChange")],t.prototype,"flipXY",void 0),fs([ln("dataChange")],t.prototype,"fills",void 0),fs([ln("dataChange")],t.prototype,"strokes",void 0),fs([ln("update")],t.prototype,"fillOpacity",void 0),fs([ln("update")],t.prototype,"strokeOpacity",void 0),fs([ln("update")],t.prototype,"lineDash",void 0),fs([ln("update")],t.prototype,"lineDashOffset",void 0),fs([ln("update")],t.prototype,"formatter",void 0),fs([ln("layoutChange")],t.prototype,"hideInLegend",void 0),t}(sh),Cp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},$f=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},O0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Cp(t,l),Sl([ln("change")],t.prototype,"formatter",void 0),t}(Ks),qf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Cp(t,l),Sl([ln("change")],t.prototype,"renderer",void 0),Sl([ln("change")],t.prototype,"format",void 0),t}(hs),Xf=function(l){function t(){var e=l.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new Ra,e.nodeSelection=Io.select(e.pickGroup).selectAll(),e.nodeData=[],e.marker=new wc,e.label=new O0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new qf,e._xKey="",e.xName="",e._yKey="",e.yName="";var r=e.lineNode;r.fill=void 0,r.lineJoin="round",r.pointerEvents=ws.None,e.group.insertBefore(r,e.pickGroup),e.addEventListener("update",e.scheduleUpdate);var s=e.marker,h=e.label;return s.fill="#c16068",s.stroke="#874349",s.addPropertyListener("shape",e.onMarkerShapeChange,e),s.addEventListener("change",e.scheduleUpdate,e),h.enabled=!1,h.addEventListener("change",e.scheduleUpdate,e),e}return Cp(t,l),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,r){this.stroke=e[0],this.marker.stroke=r[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,r=e.xAxis,o=e.yAxis,s=e.xKey,h=e.yKey,p=e.xData,y=e.yData,S=s&&h&&this.data?this.data:[];if(!r||!o)return!1;var E=r.scale instanceof Wa,T=o.scale instanceof Wa;p.length=0,y.length=0;for(var O=0,R=S.length;O<R;O++){var N=S[O],X=N[s],ae=N[h];p.push(E||Ao(X)?X:String(X)),y.push(T||Ao(ae)?ae:String(ae))}return this.xDomain=E?this.fixNumericExtent(bo(p,Aa),"x",r):p,this.yDomain=T?this.fixNumericExtent(bo(y,Aa),"y",o):y,!0},t.prototype.getDomain=function(e){return e===wi.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},t.prototype.updateLinePath=function(){var e=this,r=e.data,o=e.xAxis,s=e.yAxis;if(r&&o&&s){var h=this,p=h.xData,y=h.yData,E=h.label,T=o.scale,O=s.scale,R=T instanceof Wa,N=O instanceof Wa,X=(T.bandwidth||0)/2,ae=(O.bandwidth||0)/2,le=h.lineNode.path,de=[];le.clear();for(var he=!0,Ue=void 0,st=void 0,rt=0;rt<p.length;rt++){var Pt=st||this.checkDomainXY(p[rt],y[rt],R,N);if(Pt){var Rt=$f(Pt,2),Zt=Rt[1],Rn=T.convert(Rt[0])+X;if(isNaN(Rn)){Ue=void 0,he=!0;continue}var Sn=(T.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;st=this.checkDomainXY(p[rt+1],y[rt+1],R,N);var rn=o.inRangeEx(Rn,0,Sn),Cn=st&&o.inRangeEx(T.convert(st[0])+X,0,Sn);if(-1===rn&&-1===Cn){he=!0;continue}if(1===rn&&1===Ue){he=!0;continue}Ue=rn;var sn=O.convert(Zt)+ae;he?(le.moveTo(Rn,sn),he=!1):le.lineTo(Rn,sn);var dn;dn=E.formatter?E.formatter({value:Zt}):"number"==typeof Zt&&isFinite(Zt)?Zt.toFixed(2):Zt?String(Zt):"",de.push({series:this,datum:r[rt],point:{x:Rn,y:sn},label:dn?{text:dn,fontStyle:E.fontStyle,fontWeight:E.fontWeight,fontSize:E.fontSize,fontFamily:E.fontFamily,textAlign:"center",textBaseline:"bottom",fill:E.color}:void 0})}else Ue=void 0,he=!0}this.nodeData=de}},t.prototype.updateNodeSelection=function(){var e=this.marker,r=e.shape?this.nodeData:[],o=ds(e.shape),s=this.nodeSelection.setData(r);s.exit.remove();var h=s.enter.append(Hi);h.append(o),h.append(oa),this.nodeSelection=s.merge(h)},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var r=this,o=r.marker,s=r.xKey,h=r.yKey,p=r.stroke,y=r.chart.highlightedDatum,S=r.highlightStyle,R=S.item,N=R.fill,X=void 0===N?S.fill:N,ae=R.stroke,le=void 0===ae?S.stroke:ae,de=R.strokeWidth,he=void 0===de?S.strokeWidth:de,Ue=o.size,st=o.formatter,rt=void 0!==o.strokeWidth?o.strokeWidth:this.strokeWidth,Pt=ds(o.shape);this.nodeSelection.selectByClass(Pt).each(function(Rt,Gt){var Zt=Gt===y,Rn=Zt&&void 0!==X?X:o.fill,Sn=Zt&&void 0!==le?le:o.stroke||p,rn=Zt&&void 0!==he?he:rt,Cn=void 0;st&&(Cn=st({datum:Gt.datum,xKey:s,yKey:h,fill:Rn,stroke:Sn,strokeWidth:rn,size:Ue,highlighted:Zt})),Rt.fill=Cn&&Cn.fill||Rn,Rt.stroke=Cn&&Cn.stroke||Sn,Rt.strokeWidth=Cn&&void 0!==Cn.strokeWidth?Cn.strokeWidth:rn,Rt.size=Cn&&void 0!==Cn.size?Cn.size:Ue,Rt.translationX=Gt.point.x,Rt.translationY=Gt.point.y,Rt.opacity=e.getOpacity(Gt),Rt.visible=o.enabled&&Rt.size>0})}},t.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(oa).each(function(r,o){var s=o.point,h=o.label,p=e.label,E=p.fontWeight,T=p.fontSize,O=p.fontFamily,R=p.color;h&&p.enabled?(r.fontStyle=p.fontStyle,r.fontWeight=E,r.fontSize=T,r.fontFamily=O,r.textAlign=h.textAlign,r.textBaseline=h.textBaseline,r.text=h.text,r.x=s.x,r.y=s.y-10,r.fill=R,r.visible=!0):r.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,h=r.xAxis,p=r.yAxis;if(!(o&&s&&h&&p))return"";var y=this,S=y.xName,E=y.yName,T=y.tooltip,O=y.marker,R=T.renderer,N=T.format,X=e.datum,ae=X[o],le=X[s],de=h.formatDatum(ae),he=p.formatDatum(le),Ue=Sa(this.title||E),st=Sa(de+": "+he),rt=O.formatter,Pt=O.fill,Gt=O.strokeWidth,Sn=void 0;rt&&(Sn=rt({datum:X,xKey:o,yKey:s,fill:Pt,stroke:O.stroke,strokeWidth:void 0!==Gt?Gt:this.strokeWidth,size:O.size,highlighted:!1}));var rn=Sn&&Sn.fill||Pt,Cn={title:Ue,backgroundColor:rn,content:st};if(N||R){var sn={datum:X,xKey:o,xValue:ae,xName:S,yKey:s,yValue:le,yName:E,title:Ue,color:rn};if(N)return la({content:H2(N,sn)},Cn);if(R)return la(R(sn),Cn)}return la(Cn)},t.prototype.listSeriesItems=function(e){var r=this,s=r.data,p=r.yKey,T=r.marker;s&&s.length&&r.xKey&&p&&e.push({id:r.id,itemId:void 0,enabled:r.visible,label:{text:r.title||r.yName||p},marker:{shape:T.shape,fill:T.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:r.strokeOpacity}})},t.className="LineSeries",t.type="line",Sl([ln("layoutChange")],t.prototype,"title",void 0),Sl([ln("update")],t.prototype,"stroke",void 0),Sl([ln("update")],t.prototype,"lineDash",void 0),Sl([ln("update")],t.prototype,"lineDashOffset",void 0),Sl([ln("update")],t.prototype,"strokeWidth",void 0),Sl([ln("update")],t.prototype,"strokeOpacity",void 0),Sl([ln("update")],t.prototype,"xName",void 0),Sl([ln("update")],t.prototype,"yName",void 0),t}(sh),ev=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_p=function(){return _p=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},_p.apply(this,arguments)},gu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},T0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ev(t,l),gu([ln("change")],t.prototype,"renderer",void 0),t}(hs),fd=function(l){function t(){var e=l.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.sizeData=[],e.sizeScale=new aa,e.nodeData=[],e.markerSelection=Io.select(e.pickGroup).selectAll(),e.labelData=[],e.labelSelection=Io.select(e.group).selectAll(),e.marker=new wc,e.label=new Ks,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new T0;var o=e.marker,s=e.label;return o.addPropertyListener("shape",e.onMarkerShapeChange,e),o.addEventListener("change",e.scheduleUpdate,e),e.addPropertyListener("xKey",function(){return e.xData=[]}),e.addPropertyListener("yKey",function(){return e.yData=[]}),e.addPropertyListener("sizeKey",function(){return e.sizeData=[]}),s.enabled=!1,s.addEventListener("change",e.scheduleUpdate,e),s.addEventListener("dataChange",e.scheduleData,e),e}return ev(t,l),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,r){this.fill=e[0],this.stroke=r[0],this.marker.fill=e[0],this.marker.stroke=r[0]},t.prototype.processData=function(){var e=this,r=e.xKey,o=e.yKey,s=e.sizeKey,h=e.labelKey,p=e.xAxis,y=e.yAxis,S=e.marker,E=e.label;if(!p||!y)return!1;var T=r&&o&&this.data?this.data:[];this.xData=T.map(function(R){return R[r]}),this.yData=T.map(function(R){return R[o]}),this.sizeData=s?T.map(function(R){return R[s]}):[];var O=E.getFont();return this.labelData=h?T.map(function(R){var N=String(R[h]),X=nu.getTextSize(N,O);return _p({text:N},X)}):[],this.sizeScale.domain=S.domain?S.domain:bo(this.sizeData,Aa)||[1,1],this.xDomain=p.scale instanceof Wa?this.fixNumericExtent(bo(this.xData,Aa),"x",p):this.xData,this.yDomain=y.scale instanceof Wa?this.fixNumericExtent(bo(this.yData,Aa),"y",y):this.yData,!0},t.prototype.getDomain=function(e){return e===wi.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.createNodeData=function(){var e=this,r=e.chart,o=e.data,h=e.xAxis,p=e.yAxis;if(!(r&&o&&e.visible&&h&&p)||r.layoutPending||r.dataPending)return[];var y=h.scale,S=p.scale,E=y instanceof Wa,T=S instanceof Wa,O=(y.bandwidth||0)/2,R=(S.bandwidth||0)/2,N=this,X=N.xData,ae=N.yData,le=N.sizeData,de=N.sizeScale,he=N.marker,Ue=[];de.range=[he.size,he.maxSize];for(var st=0;st<X.length;st++){var rt=this.checkDomainXY(X[st],ae[st],E,T);if(rt){var Pt=y.convert(rt[0])+O,Rt=S.convert(rt[1])+R;!this.checkRangeXY(Pt,Rt,h,p)||Ue.push({series:this,datum:o[st],point:{x:Pt,y:Rt},size:le.length?de.convert(le[st]):he.size,label:this.labelData[st]})}}return this.nodeData=Ue},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],r=this.labelSelection.setData(e);r.exit.remove();var o=r.enter.append(oa);this.labelSelection=r.merge(o)},t.prototype.updateMarkerSelection=function(){var e=ds(this.marker.shape),r=this.markerSelection.setData(this.nodeData);r.exit.remove();var o=r.enter.append(e);this.markerSelection=r.merge(o)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(r,o){r.text=o.text,r.fill=e.color,r.x=o.x,r.y=o.y,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var r=this,o=r.marker,s=r.xKey,h=r.yKey,y=r.fillOpacity,S=r.strokeOpacity,E=r.fill,T=r.stroke,O=r.chart.highlightedDatum,R=r.sizeScale,N=r.sizeData,X=r.highlightStyle,he=X.item,Ue=he.fill,st=void 0===Ue?X.fill:Ue,rt=he.stroke,Pt=void 0===rt?X.stroke:rt,Rt=he.strokeWidth,Gt=void 0===Rt?X.strokeWidth:Rt,Zt=void 0!==o.strokeWidth?o.strokeWidth:r.strokeWidth,Rn=o.formatter;R.range=[o.size,o.maxSize],this.markerSelection.each(function(Sn,rn,Cn){var sn=rn===O,dn=sn&&void 0!==st?st:o.fill||E,nr=sn&&void 0!==Pt?Pt:o.stroke||T,Yn=sn&&void 0!==Gt?Gt:e.getStrokeWidth(Zt,rn),zr=N.length?R.convert(N[Cn]):o.size,Wn=void 0;Rn&&(Wn=Rn({datum:rn.datum,xKey:s,yKey:h,fill:dn,stroke:nr,strokeWidth:Yn,size:zr,highlighted:sn})),Sn.fill=Wn&&Wn.fill||dn,Sn.stroke=Wn&&Wn.stroke||nr,Sn.strokeWidth=Wn&&void 0!==Wn.strokeWidth?Wn.strokeWidth:Yn,Sn.size=Wn&&void 0!==Wn.size?Wn.size:zr,Sn.fillOpacity=void 0!==o.fillOpacity?o.fillOpacity:y,Sn.strokeOpacity=void 0!==o.strokeOpacity?o.strokeOpacity:S,Sn.translationX=rn.point.x,Sn.translationY=rn.point.y,Sn.opacity=e.getOpacity(rn),Sn.zIndex=sn?_l.highlightedZIndex:Cn,Sn.visible=o.enabled&&Sn.size>0})}},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,h=r.xAxis,p=r.yAxis;if(!(o&&s&&h&&p))return"";var y=this,T=y.marker,O=y.tooltip,R=y.xName,N=y.yName,X=y.sizeKey,ae=y.sizeName,le=y.labelKey,de=y.labelName,he=T.fill||y.fill,Ue=T.stroke||y.stroke,st=this.getStrokeWidth(T.strokeWidth||this.strokeWidth,e),rt=this.marker.formatter,Pt=void 0;rt&&(Pt=rt({datum:e,xKey:o,yKey:s,fill:he,stroke:Ue,strokeWidth:st,size:e.size,highlighted:!1}));var Rt=Pt&&Pt.fill||he||"gray",Gt=this.title||N,Zt=e.datum,Rn=Zt[o],Sn=Zt[s],rn=Sa(h.formatDatum(Rn)),Cn=Sa(p.formatDatum(Sn)),sn="<b>"+Sa(R||o)+"</b>: "+rn+"<br><b>"+Sa(N||s)+"</b>: "+Cn;X&&(sn+="<br><b>"+Sa(ae||X)+"</b>: "+Sa(Zt[X])),le&&(sn="<b>"+Sa(de||le)+"</b>: "+Sa(Zt[le])+"<br>"+sn);var dn={title:Gt,backgroundColor:Rt,content:sn},nr=O.renderer;return nr?la(nr({datum:Zt,xKey:o,xValue:Rn,xName:R,yKey:s,yValue:Sn,yName:N,sizeKey:X,sizeName:ae,labelKey:le,labelName:de,title:Gt,color:Rt}),dn):la(dn)},t.prototype.listSeriesItems=function(e){var r=this,s=r.data,p=r.yKey,T=r.marker;s&&s.length&&r.xKey&&p&&e.push({id:r.id,itemId:void 0,enabled:r.visible,label:{text:r.title||r.yName||p},marker:{shape:T.shape,fill:T.fill||r.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==T.fillOpacity?T.fillOpacity:r.fillOpacity,strokeOpacity:void 0!==T.strokeOpacity?T.strokeOpacity:r.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",gu([ln("layoutChange")],t.prototype,"title",void 0),gu([ln("dataChange")],t.prototype,"xKey",void 0),gu([ln("dataChange")],t.prototype,"yKey",void 0),gu([ln("dataChange")],t.prototype,"sizeKey",void 0),gu([ln("dataChange")],t.prototype,"labelKey",void 0),t}(sh),Zf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Bc=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},wp=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Bc(arguments[t]));return l},gd=(()=>(function(l){l[l.Bin=0]="Bin",l[l.Label=1]="Label"}(gd||(gd={})),gd))(),x0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Zf(t,l),Gc([ln("change")],t.prototype,"formatter",void 0),t}(Ks),tv={count:function(l){return l.data.length},sum:function(l,t){return l.data.reduce(function(e,r){return e+r[t]},0)},mean:function(l,t){return tv.sum(l,t)/tv.count(l,t)}},M0=function(){function l(t){var e=Bc(t,2),r=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[r,o]}return l.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(l.prototype,"domainWidth",{get:function(){var t=Bc(this.domain,2);return t[1]-t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),l.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,tv[t])(this,e)},l.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},l}(),Qf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Zf(t,l),Gc([ln("change")],t.prototype,"renderer",void 0),t}(hs),P0=function(l){function t(){var e,r=l.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new Hi),r.textGroup=r.group.appendChild(new Hi),r.rectSelection=Io.select(r.rectGroup).selectAll(),r.textSelection=Io.select(r.textGroup).selectAll(),r.binnedData=[],r.xDomain=[],r.yDomain=[],r.label=new x0,r.seriesItemEnabled=!0,r.tooltip=new Qf,r.fill=void 0,r.stroke=void 0,r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.directionKeys=((e={})[wi.X]=["xKey"],e[wi.Y]=["yKey"],e),r._xKey="",r._areaPlot=!1,r._bins=void 0,r._aggregation="count",r._binCount=void 0,r._xName="",r._yKey="",r._yName="",r._strokeWidth=1,r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return Zf(t,l),t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=o&&o[e],h=[];return s&&s.forEach(function(p){var y=r[p];y&&(Array.isArray(y)?h.push.apply(h,wp(y)):h.push(y))}),h},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,r){this.fill=e[0],this.stroke=r[0]},t.prototype.deriveBins=function(){var e=this,o=this.bins;if(!this.data)return[];if(o)return o;var h=this.data.map(function(O){return O[e.xKey]}),p=this.fixNumericExtent(bo(h,Aa),"x"),y=ru(p[0],p[1],this.binCount||10),S=ju(p[0],p[1],this.binCount||10),E=y[0];return wp([[E-S,E]],y.map(function(O){return[O,O+S]}))},t.prototype.placeDataInBins=function(e){var r=this,o=this.xKey,s=this.deriveBins(),h=e.slice().sort(function(R,N){return R[o]<N[o]?-1:R[o]>N[o]?1:0}),p=0,y=[new M0(s[0])];e:for(var S=0,E=h.length;S<E;S++){for(var T=h[S];T[o]>s[p][1];){var O=s[++p];if(!O)break e;y.push(new M0(O))}y[p].addDatum(T)}return y.forEach(function(R){return R.calculateAggregatedValue(r._aggregation,r.yKey)}),y},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(r,o){return Math.max(r,o[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,s=this.data;this.binnedData=this.placeDataInBins(this.xKey&&s?s:[]);var p=bo(this.binnedData.map(function(O){return O.getY(e.areaPlot)}),Aa);return this.yDomain=this.fixNumericExtent([0,p?p[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===wi.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey})},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},t.prototype.createNodeData=function(){var e=this,o=this.xAxis,s=this.yAxis;if(!this.seriesItemEnabled||!o||!s)return[];var h=o.scale,p=s.scale,y=this,S=y.fill,E=y.stroke,T=y.strokeWidth,O=[],N=this.label,X=N.formatter,ae=void 0===X?function(rt){return String(rt.value)}:X,le=N.fontStyle,de=N.fontWeight,he=N.fontSize,Ue=N.fontFamily,st=N.color;return this.binnedData.forEach(function(rt){var Pt=rt.aggregatedValue,Rt=rt.frequency,Gt=Bc(rt.domain,2),Rn=Gt[1],Sn=rt.relativeHeight,rn=h.convert(Gt[0]),Cn=h.convert(Rn),sn=e.areaPlot?Sn:e.yKey?Pt:Rt,dn=p.convert(0),nr=p.convert(sn),Yn=Cn-rn,zr=Math.abs(nr-dn),Wn=0!==sn?{text:ae({value:rt.aggregatedValue}),fontStyle:le,fontWeight:de,fontSize:he,fontFamily:Ue,fill:st,x:rn+Yn/2,y:nr+zr/2}:void 0;O.push({series:e,datum:rt,x:rn,y:nr,width:Yn,height:zr,fill:S,stroke:E,strokeWidth:T,label:Wn})}),O},t.prototype.updateRectSelection=function(e){var r=this.rectSelection.setData(e);r.exit.remove();var o=r.enter.append(yc).each(function(s){s.tag=gd.Bin,s.crisp=!0});this.rectSelection=r.merge(o)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var r=this,o=r.fillOpacity,s=r.strokeOpacity,h=r.shadow,p=r.chart.highlightedDatum,y=r.highlightStyle,O=y.item,R=O.fill,N=void 0===R?y.fill:R,X=O.stroke,ae=void 0===X?y.stroke:X,le=O.strokeWidth,de=void 0===le?y.strokeWidth:le;this.rectSelection.each(function(he,Ue,st){var rt=Ue===p,Pt=rt&&void 0!==de?de:e.getStrokeWidth(Ue.strokeWidth,Ue);he.x=Ue.x,he.y=Ue.y,he.width=Ue.width,he.height=Ue.height,he.fill=rt&&void 0!==N?N:Ue.fill,he.stroke=rt&&void 0!==ae?ae:Ue.stroke,he.fillOpacity=o,he.strokeOpacity=s,he.strokeWidth=Pt,he.lineDash=e.lineDash,he.lineDashOffset=e.lineDashOffset,he.fillShadow=h,he.zIndex=rt?_l.highlightedZIndex:st,he.visible=Ue.height>0,he.opacity=e.getOpacity(Ue)})}},t.prototype.updateTextSelection=function(e){var r=this.textSelection.setData(e);r.exit.remove();var o=r.enter.append(oa).each(function(s){s.tag=gd.Label,s.pointerEvents=ws.None,s.textAlign="center",s.textBaseline="middle"});this.textSelection=r.merge(o)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(r,o){var s=o.label;s&&e?(r.text=s.text,r.x=s.x,r.y=s.y,r.fontStyle=s.fontStyle,r.fontWeight=s.fontWeight,r.fontSize=s.fontSize,r.fontFamily=s.fontFamily,r.fill=s.fill,r.visible=!0):r.visible=!1})},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,h=r.xAxis,p=r.yAxis;if(!o||!h||!p)return"";var y=this,S=y.xName,E=y.yName,T=y.fill,R=y.aggregation,N=y.tooltip.renderer,X=e.datum,ae=X.aggregatedValue,le=X.frequency,de=Bc(X.domain,2),he=de[0],Ue=de[1],st=Sa(S||o)+": "+h.formatDatum(he)+" - "+h.formatDatum(Ue),rt=s?"<b>"+Sa(E||s)+" ("+R+")</b>: "+p.formatDatum(ae)+"<br>":"",Pt={title:st,backgroundColor:T,content:rt+="<b>Frequency</b>: "+le};return N?la(N({datum:X,xKey:o,xValue:X.domain,xName:S,yKey:s,yValue:X.aggregatedValue,yName:E,color:T}),Pt):la(Pt)},t.prototype.listSeriesItems=function(e){var r=this,s=r.data,h=r.yKey;s&&s.length&&e.push({id:r.id,itemId:h,enabled:r.seriesItemEnabled,label:{text:r.yName||h||"Frequency"},marker:{fill:r.fill||"rgba(0, 0, 0, 0)",stroke:r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,r){e===this.yKey&&(this.seriesItemEnabled=r),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",Gc([ln("dataChange")],t.prototype,"fill",void 0),Gc([ln("dataChange")],t.prototype,"stroke",void 0),Gc([ln("layoutChange")],t.prototype,"fillOpacity",void 0),Gc([ln("layoutChange")],t.prototype,"strokeOpacity",void 0),Gc([ln("update")],t.prototype,"lineDash",void 0),Gc([ln("update")],t.prototype,"lineDashOffset",void 0),t}(sh),ca=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nv=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.data=void 0,e}return ca(t,l),function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([ln("dataChange")],t.prototype,"data",void 0),t}(_l),R0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dh=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Sp=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return R0(t,l),dh([ln("change")],t.prototype,"enabled",void 0),dh([ln("change")],t.prototype,"color",void 0),dh([ln("change")],t.prototype,"xOffset",void 0),dh([ln("change")],t.prototype,"yOffset",void 0),dh([ln("change")],t.prototype,"blur",void 0),t}(ss);function rv(l,t,e,r,o){var h=l.value&&(o-e)/l.value;l.children.forEach(function(p){p.x0=t,p.x1=r,p.y0=e,p.y1=e+=p.value*h})}function bp(l,t,e,r,o){var h=l.value&&(r-t)/l.value;l.children.forEach(function(p){p.x0=t,p.x1=t+=p.value*h,p.y0=e,p.y1=o})}function mu(l){l.x0=Math.round(l.x0),l.y0=Math.round(l.y0),l.x1=Math.round(l.x1),l.y1=Math.round(l.y1)}var Jf=function l(t){function e(r,o,s,h,p){!function G2(l,t,e,r,o,s){for(var O,R,N,X,ae,le,de,he,Ue,st,h=[],p=t.children,y=p.length,S=t.value,E=0,T=0;E<y;){O=o-e,R=s-r;do{X=p[T++].value}while(!X&&T<y);for(ae=le=X,st=X*X*(Ue=Math.max(R/O,O/R)/(S*l)),he=Math.max(le/st,st/ae);T<y;++T){if((N=p[T].value)<ae&&(ae=N),N>le&&(le=N),st=(X+=N)*X*Ue,(de=Math.max(le/st,st/ae))>he){X-=N;break}he=de}var rt={value:X,dice:O<R,children:p.slice(E,T)};h.push(rt),rt.dice?bp(rt,e,r,o,S?r+=R*X/S:s):rv(rt,e,r,S?e+=O*X/S:o,s),S-=X,E=T}}(t,r,o,s,h,p)}return e.ratio=function(r){return l((r=+r)>1?r:1)},e}((1+Math.sqrt(5))/2),iv=function(){function l(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=Jf,this.paddingInner=function(t){return 0},this.paddingTop=function(t){return 0},this.paddingRight=function(t){return 0},this.paddingBottom=function(t){return 0},this.paddingLeft=function(t){return 0}}return Object.defineProperty(l.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(t){this.dx=t[0],this.dy=t[1]},enumerable:!0,configurable:!0}),l.prototype.processData=function(t){return t.x0=0,t.y0=0,t.x1=this.dx,t.y1=this.dy,t.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&t.eachBefore(mu),t},l.prototype.positionNode=function(t){var e=this.paddingStack[t.depth],r=t.x0+e,o=t.y0+e,s=t.x1-e,h=t.y1-e;s<r&&(r=s=(r+s)/2),h<o&&(o=h=(o+h)/2),t.x0=r,t.y0=o,t.x1=s,t.y1=h,t.children&&(e=this.paddingStack[t.depth+1]=this.paddingInner(t)/2,r+=this.paddingLeft(t)-e,o+=this.paddingTop(t)-e,(s-=this.paddingRight(t)-e)<r&&(r=s=(r+s)/2),(h-=this.paddingBottom(t)-e)<o&&(o=h=(o+h)/2),this.tile(t,r,o,s,h))},l}(),Ep=function(){function l(t){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=t}return l.prototype.countFn=function(t){var e=0,r=t.children;if(r&&r.length)for(var o=r.length;--o>=0;)e+=r[o].value;else e=1;t.value=e},l.prototype.count=function(){return this.eachAfter(this.countFn)},l.prototype.each=function(t,e){var r=this,o=-1;return this.iterator(function(s){t.call(e,s,++o,r)}),this},l.prototype.eachAfter=function(t,e){for(var r=this,o=[r],s=[];r=o.pop();){s.push(r);var h=r.children;if(h)for(var p=0,y=h.length;p<y;++p)o.push(h[p])}for(var S=-1;r=s.pop();)t.call(e,r,++S,this);return this},l.prototype.eachBefore=function(t,e){for(var r=this,o=[r],s=-1;r=o.pop();){t.call(e,r,++s,this);var h=r.children;if(h)for(var p=h.length-1;p>=0;--p)o.push(h[p])}return this},l.prototype.find=function(t,e){var s,r=this,o=-1;return this.iterator(function(h){if(t.call(e,h,++o,r))return s=h,!1}),s},l.prototype.sum=function(t){return this.eachAfter(function(e){var r=+t(e.datum)||0,o=e.children;if(o)for(var s=o.length;--s>=0;)r+=o[s].value;e.value=r})},l.prototype.sort=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},l.prototype.path=function(t){for(var e=this,r=function _e(l,t){if(l&&t){if(l===t)return l;var e=l.ancestors(),r=t.ancestors(),o=void 0;for(l=e.pop(),t=r.pop();l===t;)o=l,l=e.pop(),t=r.pop();return o}}(e,t),o=[e];e!==r;)o.push(e=e.parent);for(var s=o.length;t!==r;)o.splice(s,0,t),t=t.parent;return o},l.prototype.ancestors=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},l.prototype.descendants=function(){var t=[];return this.iterator(function(e){return t.push(e)}),t},l.prototype.leaves=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},l.prototype.links=function(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e},l.prototype.copy=function(){},l.prototype.iterator=function(t){var o,e=this,r=[e];e:do{for(o=r.reverse(),r=[];e=o.pop();){if(!1===t(e))break e;var s=e.children;if(s)for(var h=0,p=s.length;h<p;++h)r.push(s[h])}}while(r.length)},l}();function F0(l,t){l instanceof Map?(l=[void 0,l],void 0===t&&(t=Le)):void 0===t&&(t=nt);for(var o,s,h,p,y,e=new Ep(l),r=[e];o=r.pop();)if((h=t(o.datum))&&(y=(h=Array.from(h)).length))for(o.children=h,p=y-1;p>=0;--p)r.push(s=h[p]=new Ep(h[p])),s.parent=o,s.depth=o.depth+1;return e.eachBefore(e1)}function e1(l){var t=0;do{l.height=t}while((l=l.parent)&&l.height<++t)}function Le(l){return Array.isArray(l)?l[1]:void 0}function nt(l){return l.children}var zt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),on=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ln=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return zt(t,l),on([ln("change")],t.prototype,"renderer",void 0),t}(hs),$n=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.padding=10,e}return zt(t,l),on([ln("change")],t.prototype,"padding",void 0),t}(Ks),Tr=(()=>(function(l){l[l.Name=0]="Name",l[l.Value=1]="Value"}(Tr||(Tr={})),Tr))(),Gi=function(l){function t(){var r,e=l.call(this)||this;return e.groupSelection=Io.select(e.pickGroup).selectAll(),e.labelMap=new Map,e.layout=new iv,e.title=((r=new $n).color="white",r.fontWeight="bold",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.padding=15,r),e.subtitle=function(){var r=new $n;return r.color="white",r.fontSize=9,r.fontFamily="Verdana, sans-serif",r.padding=13,r}(),e.labels={large:function(){var r=new Ks;return r.color="white",r.fontWeight="bold",r.fontSize=18,r}(),medium:function(){var r=new Ks;return r.color="white",r.fontWeight="bold",r.fontSize=14,r}(),small:function(){var r=new Ks;return r.color="white",r.fontWeight="bold",r.fontSize=10,r}(),color:function(){var r=new Ks;return r.color="white",r}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e._shadow=function(){var r=new Sp;return r.color="rgba(0, 0, 0, 0.4)",r.xOffset=1.5,r.yOffset=1.5,r}(),e.tooltip=new Ln,e.shadow.addEventListener("change",e.scheduleUpdate,e),e.title.addEventListener("change",e.scheduleUpdate,e),e.subtitle.addEventListener("change",e.scheduleUpdate,e),e.labels.small.addEventListener("change",e.scheduleUpdate,e),e.labels.medium.addEventListener("change",e.scheduleUpdate,e),e.labels.large.addEventListener("change",e.scheduleUpdate,e),e.labels.color.addEventListener("change",e.scheduleUpdate,e),e}return zt(t,l),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this,r=e.title,o=e.subtitle,s=e.nodePadding,h=e.labelKey;this.layout.paddingRight=function(p){return s},this.layout.paddingBottom=function(p){return s},this.layout.paddingLeft=function(p){return s},this.layout.paddingTop=function(p){var y=p.datum[h]||"";p.children&&(y=y.toUpperCase());var S=p.depth>1?o:r,E=nu.getTextSize(y,[S.fontWeight,S.fontSize+"px",S.fontFamily].join(" ").trim()),O=p.depth>0&&p.children&&E.width<=p.x1-p.x0-2*s;return p.hasTitle=!!O,O?E.height+2*s:s}},t.prototype.processData=function(){if(!this.data)return!1;var E,e=this,r=e.data,o=e.sizeKey,s=e.labelKey,h=e.colorKey,p=e.colorDomain,y=e.colorRange,S=e.colorParents;E=o?F0(r).sum(function(N){return N.children?1:N[o]}):F0(r).sum(function(N){return N.children?0:1}),this.dataRoot=E;var T=new aa;T.domain=p,T.range=y;var O=this;return function R(N,X){void 0===X&&(X=0);var ae=N.children,le=N.datum,de=le[s],he=h?le[h]:X;N.series=O,N.fill=!ae||S?T.convert(he):"#272931",N.colorValue=he,N.label=de?ae?de.toUpperCase():de:"",ae&&ae.forEach(function(Ue){return R(Ue,X+1)})}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var r=this.chart,o=this.dataRoot;if(r&&o){var s=r.getSeriesRect();if(s){this.layout.size=[s.width,s.height],this.updateLayoutPadding();var h=this.layout.processData(o).descendants(),p=this.groupSelection.setData(h);p.exit.remove();var y=p.enter.append(Hi);y.append(yc),y.append(oa).each(function(S){return S.tag=Tr.Name}),y.append(oa).each(function(S){return S.tag=Tr.Value}),this.groupSelection=p.merge(y)}}}},t.prototype.updateNodes=function(){var e=this;if(this.chart){var r=this,o=r.colorKey,s=r.labelMap,h=r.nodePadding,p=r.title,y=r.subtitle,S=r.labels,E=r.shadow,T=r.gradient,O=r.chart.highlightedDatum,R=r.highlightStyle,le=R.item,de=le.fill,he=void 0===de?R.fill:de,Ue=le.stroke,st=void 0===Ue?R.stroke:Ue,rt=le.strokeWidth,Pt=void 0===rt?R.strokeWidth:rt;this.groupSelection.selectByClass(yc).each(function(Rt,Gt){var Zt=Gt===O,Rn=Zt&&void 0!==he?he:Gt.fill,Sn=Zt&&void 0!==st?st:Gt.depth<2?void 0:"black",rn=Zt&&void 0!==Pt?Pt:e.getStrokeWidth(1,Gt);Rt.fill=Rn,Rt.stroke=Sn,Rt.strokeWidth=rn,Rt.crisp=!0,Rt.gradient=T,Rt.x=Gt.x0,Rt.y=Gt.y0,Rt.width=Gt.x1-Gt.x0,Rt.height=Gt.y1-Gt.y0}),this.groupSelection.selectByTag(Tr.Name).each(function(Rt,Gt,Zt){var dn,Rn=!Gt.children,Sn=Gt.x1-Gt.x0-2*h,rn=Gt.y1-Gt.y0-2*h,Cn=Gt.hasTitle,sn=Gt===O;Rt.fontWeight=(dn=Rn?Sn>40&&rn>40?S.large:Sn>20&&rn>20?S.medium:S.small:Gt.depth>1?y:p).fontWeight,Rt.fontSize=dn.fontSize,Rt.fontFamily=dn.fontFamily,Rt.textBaseline=Rn?"bottom":Cn?"top":"middle",Rt.textAlign=Cn?"left":"center",Rt.text=Gt.label;var nr=Rt.computeBBox(),Yn=Rn&&!!nr&&nr.width<=Sn&&2*nr.height+8<=rn;s.set(Zt,Rt),Rt.fill=sn?"black":dn.color,Rt.fillShadow=Yn&&!sn?E:void 0,Rt.visible=Cn||Yn,Cn?(Rt.x=Gt.x0+h,Rt.y=Gt.y0+h):(Rt.x=e.getLabelCenterX(Gt),Rt.y=e.getLabelCenterY(Gt))}),this.groupSelection.selectByTag(Tr.Value).each(function(Rt,Gt,Zt){var Rn=!Gt.children,Sn=Gt.x1-Gt.x0-2*h,rn=Gt===O,Cn=Gt.colorValue,sn=S.color;Rt.fontSize=sn.fontSize,Rt.fontFamily=sn.fontFamily,Rt.fontStyle=sn.fontStyle,Rt.fontWeight=sn.fontWeight,Rt.textBaseline="top",Rt.textAlign="center",Rt.text="number"==typeof Cn&&isFinite(Cn)?String(js(Gt.colorValue))+"%":"";var dn=Rt.computeBBox(),nr=s.get(Zt),zr=Rn&&!!o&&!!nr&&nr.visible&&!!dn&&dn.width<Sn;Rt.fill=rn?"black":sn.color,Rt.fillShadow=rn?void 0:E,Rt.visible=zr,zr?(Rt.x=e.getLabelCenterX(Gt),Rt.y=e.getLabelCenterY(Gt)):nr&&(!Gt.children||!Gt.children.length)&&(nr.textBaseline="middle",nr.y=e.getLabelCenterY(Gt))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},t.prototype.getTooltipHtml=function(e){var r=this,s=r.sizeKey,h=r.labelKey,p=r.colorKey,y=r.colorName,E=e.datum,T=r.tooltip.renderer,O=e.depth?E[h]:r.rootName||E[h],R=void 0,N=e.fill||"gray";if(p&&y){var X=E[p];"number"==typeof X&&isFinite(X)&&(R="<b>"+y+"</b>: "+js(E[p]))}var ae={title:O,backgroundColor:N,content:R};return T?la(T({datum:e,sizeKey:s,labelKey:h,colorKey:p,title:O,color:N}),ae):la(ae)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",on([ln("dataChange")],t.prototype,"labelKey",void 0),on([ln("dataChange")],t.prototype,"sizeKey",void 0),on([ln("dataChange")],t.prototype,"colorKey",void 0),on([ln("dataChange")],t.prototype,"colorDomain",void 0),on([ln("dataChange")],t.prototype,"colorRange",void 0),on([ln("dataChange")],t.prototype,"colorParents",void 0),on([ln("update")],t.prototype,"gradient",void 0),t}(nv),Ms=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vd=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=2*Math.PI,e._angleOffset=0,e}return Ms(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new $o(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isFullPie=function(){return ou(fl(this.startAngle),fl(this.endAngle))},t.prototype.updatePath=function(){var e=this.path,r=this.angleOffset,o=Math.min(this.startAngle,this.endAngle)+r,s=Math.max(this.startAngle,this.endAngle)+r,h=.5*(o+s),p=Math.min(this.innerRadius,this.outerRadius),y=Math.max(this.innerRadius,this.outerRadius),S=this.centerOffset,E=this.isFullPie(),T=this.centerX,O=this.centerY;if(e.clear(),S&&(T+=S*Math.cos(h),O+=S*Math.sin(h)),E||(e.moveTo(T+p*Math.cos(o),O+p*Math.sin(o)),e.lineTo(T+y*Math.cos(o),O+y*Math.sin(o))),e.cubicArc(T,O,y,y,0,o,s,0),E)e.moveTo(T+p*Math.cos(s),O+p*Math.sin(s));else{var R=T+p*Math.cos(s);e.lineTo(Math.abs(R)<1e-8?0:R,O+p*Math.sin(s))}e.cubicArc(T,O,p,p,0,s,o,1),e.closePath(),this.dirtyPath=!1},t.className="Sector",t}(Ra),$s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fo=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},t1=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Dp=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(t1(arguments[t]));return l},L0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return $s(t,l),t}(Xg),Wc=(()=>(function(l){l[l.Sector=0]="Sector",l[l.Callout=1]="Callout",l[l.Label=2]="Label"}(Wc||(Wc={})),Wc))(),im=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return $s(t,l),fo([ln("change")],t.prototype,"offset",void 0),fo([ln("dataChange")],t.prototype,"minAngle",void 0),fo([ln("dataChange")],t.prototype,"formatter",void 0),t}(Ks),B2=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return $s(t,l),fo([ln("change")],t.prototype,"colors",void 0),fo([ln("change")],t.prototype,"length",void 0),fo([ln("change")],t.prototype,"strokeWidth",void 0),t}(ss),W2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return $s(t,l),fo([ln("change")],t.prototype,"renderer",void 0),t}(hs),Op=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.showInLegend=!1,e}return $s(t,l),fo([ln()],t.prototype,"showInLegend",void 0),t}(J1),ph=function(l){function t(){var r,e=l.call(this)||this;return e.radiusScale=new aa,e.groupSelection=Io.select(e.pickGroup).selectAll(),e.groupSelectionData=[],e.angleScale=((r=new aa).domain=[0,1],r.range=[-Math.PI,Math.PI].map(function(o){return o+Math.PI/2}),r),e.seriesItemEnabled=[],e.label=new im,e.callout=new B2,e.tooltip=new W2,e.angleKey="",e.angleName="",e._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.highlightStyle=new L0,e.addEventListener("update",e.scheduleUpdate,e),e.label.addEventListener("change",e.scheduleUpdate,e),e.label.addEventListener("dataChange",e.scheduleData,e),e.callout.addEventListener("change",e.scheduleLayout,e),e.addPropertyListener("data",function(r){r.value&&(r.source.seriesItemEnabled=r.value.map(function(){return!0}))}),e}return $s(t,l),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var r=this._title;function o(){this.fireEvent({type:"legendChange"})}r!==e&&(r&&(r.removeEventListener("change",this.scheduleUpdate,this),r.removePropertyListener("showInLegend",o,this),this.group.removeChild(r.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",o,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r,this.callout.colors=r},t.prototype.getDomain=function(e){return e===wi.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var Sn,e=this,r=this,o=r.angleKey,s=r.radiusKey,h=r.seriesItemEnabled,p=r.angleScale,y=r.groupSelectionData,S=r.label,E=o&&this.data?this.data:[],T=E.map(function(Sn,rn){return h[rn]&&Math.abs(+Sn[o])||0}),O=T.reduce(function(Sn,rn){return Sn+rn},0),R=(Sn=0,T.map(function(rn){return Sn+=rn/O})),N=S.formatter,X=S.enabled&&this.labelKey,ae=[],le=[];if(X&&(ae=E.map(N?function(Sn){return N({value:Sn[X]})}:function(Sn){return String(Sn[X])})),s){var he=this.radiusMin,Ue=this.radiusMax,st=E.map(function(Sn){return Math.abs(Sn[s])}),rt=void 0!==he?he:Math.min.apply(Math,Dp(st)),Rt=(void 0!==Ue?Ue:Math.max.apply(Math,Dp(st)))-rt;le=st.map(function(Sn){return Rt?(Sn-rt)/Rt:1})}y.length=0;var Gt=ya(this.rotation),Zt=Math.PI/2,Rn=0;return R.reduce(function(Sn,rn){var Ti,Ii,Cn=s?le[Rn]:1,sn=p.convert(Sn)+Gt,dn=p.convert(rn)+Gt,nr=(sn+dn)/2,Yn=Math.abs(dn-sn),zr=Math.cos(nr),Wn=Math.sin(nr),Vr=ya(S.minAngle),Un=X&&Yn>Vr,Ur=function Ua(l){return(l%=dc)<-Math.PI?l+=dc:l>=Math.PI&&(l-=dc),l}(nr),Hr=-3*Math.PI/4;return Ur>=Hr&&Ur<(Hr+=Zt)?(Ti="center",Ii="bottom"):Ur>=Hr&&Ur<(Hr+=Zt)?(Ti="left",Ii="middle"):Ur>=Hr&&Ur<(Hr+=Zt)?(Ti="center",Ii="hanging"):(Ti="right",Ii="middle"),y.push({series:e,datum:E[Rn],itemId:Rn,index:Rn,radius:Cn,startAngle:sn,endAngle:dn,midAngle:nr,midCos:zr,midSin:Wn,label:Un?{text:ae[Rn],textAlign:Ti,textBaseline:Ii}:void 0}),Rn++,rn},0),!0},t.prototype.update=function(){this.updatePending=!1;var e=this,r=e.radius,o=e.innerRadiusOffset,s=e.outerRadiusOffset,h=e.title;this.radiusScale.range=[o?r+o:0,r+(s||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,h&&(0===Math.max(0,this.radiusScale.range[1])?h.node.visible=!1:(h.node.translationY=-r-s-2,h.node.visible=h.enabled)),this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateGroupSelection())},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var r=e.enter.append(Hi);r.append(vd).each(function(o){return o.tag=Wc.Sector}),r.append(pl).each(function(o){o.tag=Wc.Callout,o.pointerEvents=ws.None}),r.append(oa).each(function(o){o.tag=Wc.Label,o.pointerEvents=ws.None}),this.groupSelection=e.merge(r)},t.prototype.updateNodes=function(){var e=this;if(this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var r=this,o=r.fills,s=r.strokes,h=r.fillOpacity,p=r.strokeOpacity,y=r.radiusScale,S=r.callout,E=r.shadow,T=r.chart.highlightedDatum,O=r.highlightStyle,ae=O.item,le=ae.fill,de=void 0===le?O.fill:le,he=ae.stroke,Ue=void 0===he?O.stroke:he,st=ae.strokeWidth,rt=void 0===st?O.strokeWidth:st,Pt=r.angleKey,Rt=r.radiusKey,Gt=r.formatter,Zt=[],Rn=y.convert(0);this.groupSelection.selectByTag(Wc.Sector).each(function(Un,Ur,Hr){var Ti=y.convert(Ur.radius),Ii=!!T&&T.series===e&&Ur.itemId===T.itemId,da=Ii&&void 0!==de?de:o[Hr%o.length],La=Ii&&void 0!==Ue?Ue:s[Hr%s.length],As=Ii&&void 0!==rt?rt:e.getStrokeWidth(e.strokeWidth),Ea=void 0;Gt&&(Ea=Gt({datum:Ur.datum,angleKey:Pt,radiusKey:Rt,fill:da,stroke:La,strokeWidth:As,highlighted:Ii}));var xl=Un.parent&&Un.parent.parent;Ii&&xl&&(xl.removeChild(Un.parent),xl.appendChild(Un.parent)),Un.innerRadius=Math.max(0,Rn),Un.outerRadius=Math.max(0,Ti),Un.startAngle=Ur.startAngle,Un.endAngle=Ur.endAngle,Un.fill=Ea&&Ea.fill||da,Un.stroke=Ea&&Ea.stroke||La,Un.strokeWidth=Ea&&void 0!==Ea.strokeWidth?Ea.strokeWidth:As,Un.fillOpacity=h,Un.strokeOpacity=p,Un.lineDash=e.lineDash,Un.lineDashOffset=e.lineDashOffset,Un.fillShadow=E,Un.lineJoin="round",Un.opacity=e.getOpacity(),Zt.push(Un.centerOffset)});var Sn=S.colors,rn=S.length,Cn=S.strokeWidth;this.groupSelection.selectByTag(Wc.Callout).each(function(Un,Ur,Hr){var Ti=y.convert(Ur.radius),Ii=Math.max(0,Ti);Ur.label&&0!==Ii?(Un.strokeWidth=Cn,Un.stroke=Sn[Hr%Sn.length],Un.x1=Ur.midCos*Ii,Un.y1=Ur.midSin*Ii,Un.x2=Ur.midCos*(Ii+rn),Un.y2=Ur.midSin*(Ii+rn)):Un.stroke=void 0});var sn=this.label,dn=sn.offset,nr=sn.fontStyle,Yn=sn.fontWeight,zr=sn.fontSize,Wn=sn.fontFamily,Vr=sn.color;this.groupSelection.selectByTag(Wc.Label).each(function(Un,Ur,Hr){var Ti=Ur.label,Ii=y.convert(Ur.radius),da=Math.max(0,Ii);if(Ti&&0!==da){var La=Zt[Hr]+da+rn+dn;Un.fontStyle=nr,Un.fontWeight=Yn,Un.fontSize=zr,Un.fontFamily=Wn,Un.text=Ti.text,Un.x=Ur.midCos*La,Un.y=Ur.midSin*La,Un.fill=Vr,Un.textAlign=Ti.textAlign,Un.textBaseline=Ti.textBaseline}else Un.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var r=this.angleKey;if(!r)return"";var o=this,s=o.fills,p=o.angleName,y=o.radiusKey,S=o.radiusName,E=o.labelKey,T=o.labelName,O=o.tooltip.renderer,R=s[e.index%s.length],N=e.datum,X=E?N[E]+": ":"",ae=N[r],le="number"==typeof ae?js(ae):ae.toString(),de=this.title?this.title.text:void 0,Ue={title:de,backgroundColor:R,content:X+le};return O?la(O({datum:N,angleKey:r,angleValue:ae,angleName:p,radiusKey:y,radiusValue:y?N[y]:void 0,radiusName:S,labelKey:E,labelName:T,title:de,color:R}),Ue):la(Ue)},t.prototype.listSeriesItems=function(e){var r=this,s=this.labelKey,h=this.data;if(h&&h.length&&s){var p=this,y=p.fills,S=p.strokes,E=p.id,T=this.title&&this.title.showInLegend&&this.title.text;h.forEach(function(O,R){var N=[];T&&N.push(T),N.push(String(O[s])),e.push({id:E,itemId:R,enabled:r.seriesItemEnabled[R],label:{text:N.join(" - ")},marker:{fill:y[R%y.length],stroke:S[R%S.length],fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled[e]=r,this.scheduleData()},t.className="PieSeries",t.type="pie",fo([ln("dataChange")],t.prototype,"angleKey",void 0),fo([ln("update")],t.prototype,"angleName",void 0),fo([ln("dataChange")],t.prototype,"radiusKey",void 0),fo([ln("update")],t.prototype,"radiusName",void 0),fo([ln("dataChange")],t.prototype,"radiusMin",void 0),fo([ln("dataChange")],t.prototype,"radiusMax",void 0),fo([ln("dataChange")],t.prototype,"labelKey",void 0),fo([ln("update")],t.prototype,"labelName",void 0),fo([ln("layoutChange")],t.prototype,"fillOpacity",void 0),fo([ln("layoutChange")],t.prototype,"strokeOpacity",void 0),fo([ln("update")],t.prototype,"lineDash",void 0),fo([ln("update")],t.prototype,"lineDashOffset",void 0),fo([ln("update")],t.prototype,"formatter",void 0),fo([ln("dataChange")],t.prototype,"rotation",void 0),fo([ln("layoutChange")],t.prototype,"outerRadiusOffset",void 0),fo([ln("dataChange")],t.prototype,"innerRadiusOffset",void 0),fo([ln("layoutChange")],t.prototype,"strokeWidth",void 0),fo([ln("layoutChange")],t.prototype,"shadow",void 0),t}(S0);new sa(function j2(l){l.setUTCSeconds(0,0)},function U2(l,t){l.setTime(l.getTime()+t*cs)},function I0(l,t){return(t.getTime()-l.getTime())/cs},function fh(l){return l.getUTCMinutes()}),new sa(function Tp(l){l.setUTCMinutes(0,0,0)},function Y2(l,t){l.setTime(l.getTime()+t*zc)},function K2(l,t){return(t.getTime()-l.getTime())/zc},function k0(l){return l.getUTCHours()}),new sa(function sm(l){l.setUTCDate(1),l.setUTCHours(0,0,0,0)},function q2(l,t){l.setUTCMonth(l.getUTCMonth()+t)},function lm(l,t){return t.getUTCMonth()-l.getUTCMonth()+12*(t.getUTCFullYear()-l.getUTCFullYear())},function n1(l){return l.getUTCMonth()});var Si=function(){return Si=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Si.apply(this,arguments)},um={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Ka={arrayMerge:function ov(l,t,e){return t},isMergeableObject:function X2(l){return Z1(l)&&!(l instanceof Jv)}},gh=function(){function l(t){var e=this.createChartConfigPerSeries(this.getDefaults());if(Ws(t)){var r=(t=ia({},t,Ka)).overrides;if(r){Ws(r.common)&&l.seriesTypes.concat(["cartesian","polar","hierarchy"]).forEach(function(s){e[s]=ia(e[s],r.common,Ka)}),r.cartesian&&(e.cartesian=ia(e.cartesian,r.cartesian,Ka),l.cartesianSeriesTypes.forEach(function(s){e[s]=ia(e[s],r.cartesian,Ka)})),r.polar&&(e.polar=ia(e.polar,r.polar,Ka),l.polarSeriesTypes.forEach(function(s){e[s]=ia(e[s],r.polar,Ka)})),r.hierarchy&&(e.hierarchy=ia(e.hierarchy,r.hierarchy,Ka),l.hierarchySeriesTypes.forEach(function(s){e[s]=ia(e[s],r.hierarchy,Ka)}));var o={};l.seriesTypes.forEach(function(s){var h=r[s];h&&(h.series&&(o[s]=h.series,h.series=o),e[s]=ia(e[s],h,Ka))})}}this.palette=t&&t.palette?t.palette:this.getPalette(),this.config=Object.freeze(e)}return l.prototype.getPalette=function(){return um},l.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},l.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},l.getBarSeriesDefaults=function(){return Si(Si({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},l.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},l.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:Ts.defaultTooltipClass}}},l.prototype.createChartConfigPerSeries=function(t){var e={cartesian:l.cartesianSeriesTypes,polar:l.polarSeriesTypes},r=function(s){e[s].forEach(function(h){t[h]||(t[h]=ia({},t[s],Ka))})};for(var o in e)r(o);return t},l.prototype.getConfig=function(t,e){var r=function k4(l,t,e){var r=Array.isArray(t)?t:t.split("."),o=l;try{r.forEach(function(s){o=o[s]})}catch(s){if(3!==arguments.length)throw s;o=e}return o}(this.config,t,e);return Array.isArray(r)?ia([],r,Ka):Ws(r)?ia({},r,Ka):r},l.prototype.getDefaults=function(){return ia({},l.defaults,Ka)},l.prototype.mergeWithParentDefaults=function(t){var e=Object.getPrototypeOf(Object.getPrototypeOf(this));if(e===Object.prototype){var r=ia({},l.defaults,Ka);return ia(r,t,Ka)}return ia(e.getDefaults(),t,Ka)},l.prototype.setSeriesColors=function(t,e,r){var o=this.palette,s=this.getSeriesColorCount(e);if(s===1/0||0===s)t.setColors(o.fills,o.strokes);else{var h=Uv(o.fills,r,s),p=Uv(o.strokes,r,s);t.setColors(h,p),r+=s}return r},l.prototype.getYKeyCount=function(t){if(!Array.isArray(t))return 0;var e=0;return t.forEach(function(r){Array.isArray(r)?e+=r.length:e+=1}),e},l.prototype.getSeriesColorCount=function(t){switch(t.type){case"bar":case"column":case"area":return this.getYKeyCount(t.yKeys);case"pie":return 1/0;default:return 1}},l.fontFamily="Verdana, sans-serif",l.cartesianDefaults=Si(Si({},l.getChartDefaults()),{axes:{number:Si({},l.getAxisDefaults()),log:Si(Si({},l.getAxisDefaults()),{base:10}),category:Si({},l.getAxisDefaults()),groupedCategory:Si({},l.getAxisDefaults()),time:Si({},l.getAxisDefaults())},series:{column:Si(Si({},l.getBarSeriesDefaults()),{flipXY:!1}),bar:Si(Si({},l.getBarSeriesDefaults()),{flipXY:!0}),line:Si(Si({},l.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Si({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Si(Si({},l.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:Si({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"}}),area:Si(Si({},l.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Si(Si({},l.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Si(Si({},l.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),l.defaults={cartesian:l.cartesianDefaults,groupedCategory:l.cartesianDefaults,polar:Si(Si({},l.getChartDefaults()),{series:{pie:Si(Si({},l.getSeriesDefaults()),{title:{enabled:!0,padding:new Bh(0),text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),hierarchy:Si(Si({},l.getChartDefaults()),{series:{treemap:Si(Si({},l.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}})},l.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],l.polarSeriesTypes=["pie"],l.hierarchySeriesTypes=["treemap"],l.seriesTypes=l.cartesianSeriesTypes.concat(l.polarSeriesTypes),l}(),dm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qs=function(){return qs=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},qs.apply(this,arguments)},r1=function(l){function t(e){return l.call(this,e)||this}return dm(t,l),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",o={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},s={label:{color:e}},h={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:qs({},o),category:qs({},o),time:qs({},o)},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults({cartesian:qs(qs({},h),{series:{bar:qs({},s),column:qs({},s),histogram:qs({},s)}}),polar:qs(qs({},h),{series:{pie:qs(qs({},s),{title:{color:e}})}})})},t}(gh),Z2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xp={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},hm=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Z2(t,l),t.prototype.getPalette=function(){return xp},t}(gh),o1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q2={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},J2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return o1(t,l),t.prototype.getPalette=function(){return Q2},t}(r1),vh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},i=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return vh(t,l),t.prototype.getPalette=function(){return u},t}(gh),n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},c=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return n(t,l),t.prototype.getPalette=function(){return a},t}(r1),d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},C=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return d(t,l),t.prototype.getPalette=function(){return v},t}(gh),M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},U=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return M(t,l),t.prototype.getPalette=function(){return L},t}(r1),ce=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ye={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},it=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ce(t,l),t.prototype.getPalette=function(){return ye},t}(gh),bt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wt={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},cn=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return bt(t,l),t.prototype.getPalette=function(){return Wt},t}(r1),Kt=function(){return Kt=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Kt.apply(this,arguments)},_n=new gh,An=new r1,qn={undefined:_n,null:_n,"ag-default":_n,"ag-material":new hm,"ag-pastel":new i,"ag-solar":new C,"ag-vivid":new it},Ir={undefined:An,null:An,"ag-default-dark":An,"ag-material-dark":new J2,"ag-pastel-dark":new c,"ag-solar-dark":new U,"ag-vivid-dark":new cn},_i=Kt(Kt({},Ir),qn);function ni(l){return l instanceof gh?l:_i[l]||((l=l).baseTheme||l.overrides||l.palette?new(ni(l.baseTheme).constructor)(l):_n)}var ii=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kr=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Oi=function(l){return l},Fa=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=Oi,e.basePow=Oi,e._base=10,e}return ii(t,l),t.prototype.setDomain=function(e){var r=e[0],o=e[e.length-1];(0===r||0===o||r<0&&o>0||r>0&&o<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===r&&o>0?r=Number.EPSILON:0===o&&r<0?o=-Number.EPSILON:r<0&&o>0?Math.abs(o)>=Math.abs(r)?r=Number.EPSILON:o=-Number.EPSILON:r>0&&o<0&&(Math.abs(o)>=Math.abs(r)?r=-Number.EPSILON:o=Number.EPSILON),(e=e.slice())[0]=r,e[e.length-1]=o),l.prototype.setDomain.call(this,e)},t.prototype.getDomain=function(){return l.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var e=this.base,r=t.makeLogFn(e),o=t.makePowFn(e);this.domain[0]<0?(r=this.reflect(r),o=this.reflect(o),this.transform=function(s){return-Math.log(-s)},this.untransform=function(s){return-Math.exp(-s)}):(this.transform=function(s){return Math.log(s)},this.untransform=function(s){return Math.exp(s)}),this.baseLog=r,this.basePow=o,l.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(r){return-e(-r)}},t.prototype.nice=function(){var e,r,o=this.domain,s=0,h=o.length-1,p=o[s],y=o[h];y<p&&(s=(e=kr([h,s],2))[0],h=e[1],p=(r=kr([y,p],2))[0],y=r[1]),o[s]=this.basePow(Math.floor(this.baseLog(p))),o[h]=this.basePow(Math.ceil(this.baseLog(y))),this.domain=o},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(r){return Math.pow(e,r)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var r=Math.log(e);return function(o){return Math.log(o)/r}},t.prototype.ticks=function(e){var r;void 0===e&&(e=10);var o=null==e?10:+e,s=this.base,h=this.domain,p=h[0],y=h[h.length-1],S=y<p;S&&(p=(r=kr([y,p],2))[0],y=r[1]);var E=this.baseLog(p),T=this.baseLog(y),O=[];if(!(s%1)&&T-E<o){if(E=Math.round(E)-1,T=Math.round(T)+1,p>0){for(;E<T;++E)for(var R=1,N=this.basePow(E);R<s;++R)if(!((X=N*R)<p)){if(X>y)break;O.push(X)}}else for(;E<T;++E)for(R=s-1,N=this.basePow(E);R>=1;--R){var X;if(!((X=N*R)<p)){if(X>y)break;O.push(X)}}2*O.length<o&&(O=ru(p,y,o))}else O=ru(E,T,Math.min(T-E,o)).map(this.basePow);return S?O.reverse():O},t.prototype.tickFormat=function(e,r){var o=this,s=this.base;if(null==r&&(r=10===s?".0e":","),"function"!=typeof r&&(r=Wv(r)),e===1/0)return r;null==e&&(e=10);var h=Math.max(1,s*e/this.ticks().length);return function(p){var y=p/o.basePow(Math.round(o.baseLog(p)));return y*s<s-.5&&(y*=s),y<=h?r(p):""}},t}(Wa),ba=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yu=function(l){function t(){var e=l.call(this)||this;return e.scale=new Fa,e.scale.clamper=qv,e}return ba(t,l),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(pc),Xs=function(){return Xs=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Xs.apply(this,arguments)},bc=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},jc=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(bc(arguments[t]));return l},Mp=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function z0(l,t,e){var r,o,s=(e||{}).stringify,h=void 0===s?[]:s,p=Uc(l);if("array"===Uc(t))return"array"!==p||l.length!==t.length||t.some(function(de,he){var Ue;return null!=z0(null===(Ue=l)||void 0===Ue?void 0:Ue[he],de)})?jc(t):null;var S=l||{},E=t||{},T=new Set(jc(Object.keys(S),Object.keys(E))),O=0,R={},N=function(de){if(S[de]===E[de])return"continue";var he=function(Pt){R[de]=Pt,O++};if(h.includes(de))return JSON.stringify(S[de]!==JSON.stringify(E[de]))&&he(E[de]),"continue";var Ue=Uc(S[de]),st=Uc(E[de]);if(Ue!==st||"primitive"===st||null===st||"array"===st&&S[de].length!==E[de].length||"class-instance"===st||"function"===st&&S[de]!==E[de])return he(E[de]),"continue";var rt=z0(S[de],E[de],{stringify:h});null!==rt&&he(rt)};try{for(var X=Mp(T),ae=X.next();!ae.done;ae=X.next())N(ae.value)}catch(de){r={error:de}}finally{try{ae&&!ae.done&&(o=X.return)&&o.call(X)}finally{if(r)throw r.error}}return 0===O?null:R}var Pp=Symbol("<delete-property>"),A8=Symbol("<unspecified-property>");function bl(){for(var l,t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=e.map(function(O){return Uc(O)});if(o.some(function(O){return"array"===O})){var s=e[e.length-1];return s instanceof Array?s.map(function(O){var R=Uc(O);return"array"===R?bl([],O):"object"===R?bl({},O):O}):s}var h={},p=new Set(e.map(function(O){return null!=O?Object.keys(O):[]}).reduce(function(O,R){return O.concat(R)},[])),y=function(O){var R=e.map(function(le){return null!=le&&O in le?le[O]:A8}).filter(function(le){return le!==A8});if(0===R.length)return"continue";var N=R[R.length-1];if(N===Pp)return"continue";var X=R.map(function(le){return Uc(le)}),ae=X[0];if(X.some(function(le){return le!==ae&&null!==le}))return h[O]=N,"continue";h[O]="array"===ae||"object"===ae?bl.apply(void 0,jc(R)):N};try{for(var S=Mp(p),E=S.next();!E.done;E=S.next()){var T=E.value;y(T)}}catch(O){l={error:O}}finally{try{E&&!E.done&&(t=S.return)&&t.call(S)}finally{if(l)throw l.error}}return h}function a1(l,t,e){void 0===e&&(e={});var r,o,s,h=e.path,p=void 0===h?void 0:h,y=e.matcherPath,S=void 0===y?p?p.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:y,E=e.skip,T=void 0===E?[]:E,O=e.constructors,R=void 0===O?{}:O,N=e.allowedTypes,X=void 0===N?{}:N;if(null==l)throw new Error("AG Charts - target is uninitialised: "+(p||"<root>"));if(null==t)return l;var ae=Uc(l);for(var le in t)if(!(T.indexOf(le)>=0)){var de=t[le],he=(p?p+".":"")+le,Ue=(S?S+".":"")+le,st=l,rt=st.constructor,Pt=st[le],Rt=R[le];try{var Gt=Uc(Pt),Zt=Uc(de);if("class-instance"===ae&&!(le in l)&&!st.hasOwnProperty(le)){console.warn("AG Charts - unable to set ["+he+"] in "+(null===(r=rt)||void 0===r?void 0:r.name)+" - property is unknown");continue}var Rn=X[Ue]||[Gt];if(("class-instance"!==Gt||"object"!==Zt)&&null!=Gt&&null!=Zt&&!Rn.includes(Zt)){console.warn("AG Charts - unable to set ["+he+"] in "+(null===(o=rt)||void 0===o?void 0:o.name)+" - can't apply type of ["+Zt+"], allowed types are: ["+Rn+"]");continue}"array"===Zt||"class-instance"===Zt?st[le]=de:"object"===Zt?null!=Pt?a1(Pt,de,Xs(Xs({},e),{path:he,matcherPath:Ue})):st[le]=null!=Rt?a1(new Rt,de,Xs(Xs({},e),{path:he,matcherPath:Ue})):de:st[le]=de}catch(Sn){console.warn("AG Charts - unable to set ["+he+"] in ["+(null===(s=rt)||void 0===s?void 0:s.name)+"]; nested error is: "+Sn.message);continue}}return l}function pm(l,t,e){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s,h=Uc(l),p=e.skip||[];if("array"!==h){if("object"===h){t.apply(void 0,jc([h,l],r));var y=function(E){if(p.indexOf(E)>=0)return"continue";var T=l[E],O=null===(s=r)||void 0===s?void 0:s.map(function(N){var X;return null===(X=N)||void 0===X?void 0:X[E]}),R=Uc(T);("object"===R||"array"===R)&&pm.apply(void 0,jc([T,t,e],O))};for(var S in l)y(S)}}else l.forEach(function(E,T){var O;pm.apply(void 0,jc([E,t,e],null===(O=r)||void 0===O?void 0:O.map(function(R){var N;return null===(N=R)||void 0===N?void 0:N[T]})))})}function Uc(l){return null==l?null:l instanceof HTMLElement?"primitive":l instanceof Array?"array":l instanceof Date?"primitive":"object"==typeof l&&l.constructor===Object?"object":"function"==typeof l?"function":"object"==typeof l&&null!=l.constructor?"class-instance":"primitive"}var oo=function(){return oo=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},oo.apply(this,arguments)},e3={visible:!0,fill:"white"},t3={top:20,right:20,bottom:20,left:20},n3={enabled:!0,position:Ds.Right,spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif"}}},s1={enabled:!0,tracking:!0,delay:0,class:Ts.defaultTooltipClass},mh={enabled:!0},fm={enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)",padding:{top:10,right:10,bottom:10,left:10}},gm={enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"},ey={type:"cartesian",autoSize:!0,background:e3,height:300,width:600,legend:n3,navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}},padding:t3,subtitle:gm,title:fm,tooltip:s1,series:[],axes:[{type:pc.type,position:Qn.Left},{type:qu.type,position:Qn.Bottom}]},R8={axes:[{type:"number",position:Qn.Bottom},{type:"category",position:Qn.Left}]},vm={axes:[{type:"number",position:Qn.Bottom},{type:"number",position:Qn.Left}]},F8={type:"polar",autoSize:!0,background:e3,height:300,width:600,legend:n3,padding:t3,subtitle:gm,title:fm,tooltip:s1,series:[]},ty={type:"hierarchy",autoSize:!0,background:e3,height:300,width:600,legend:n3,padding:t3,subtitle:gm,title:fm,tooltip:s1,series:[]},V0={enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5},mm={enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0},H0={item:{fill:"yellow"},series:{dimOpacity:1}},ym={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},G0={visible:!0,showInLegend:!0,cursor:"default",xKey:"",xName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,highlightStyle:H0,tooltip:mh,label:ym},K7=oo(oo({},G0),{type:"line",title:void 0,yKey:"",yName:"",tooltip:oo(oo({},G0.tooltip),{format:void 0}),label:oo(oo({},G0.label),{formatter:void 0}),marker:mm}),Cm=oo(oo({},G0),{type:"bar",flipXY:!0,fillOpacity:1,yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,label:oo(oo({},G0.label),{formatter:void 0,placement:wl.Inside}),shadow:V0}),r3=oo(oo({},Cm),{type:"column",flipXY:!1}),ny=oo(oo({},G0),{type:"area",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,marker:mm,shadow:V0}),ry={type:"scatter",title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,highlightStyle:H0,tooltip:mh,label:ym,marker:mm},L8={type:"histogram",xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum",highlightStyle:H0,tooltip:mh,label:ym,shadow:V0},B0={visible:!0,showInLegend:!0,cursor:"default",angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,tooltip:mh,highlightStyle:H0,title:{enabled:!0,padding:{top:10,right:10,bottom:10,left:10},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"},label:oo(oo({},ym),{offset:3,minAngle:20}),callout:{length:10,strokeWidth:1},shadow:V0},iy={visible:!0,cursor:"default",showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,tooltip:mh,highlightStyle:H0,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}},W0={type:"number",gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],line:{width:1,color:"rgb(195, 195, 195)"},title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},label:oo(oo({},{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}),{formatter:void 0}),tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}},oy=oo(oo({},W0),{type:"category"}),ay=oo(oo({},W0),{type:"log",base:10}),sy=oo(oo({},W0),{type:"groupedCategory"}),I8=oo(oo({},W0),{type:"time"}),ly={line:K7,bar:Cm,area:ny,column:r3,histogram:L8,scatter:ry,pie:B0,treemap:iy},cy={number:W0,category:oy,groupedCategory:sy,log:ay,time:I8},Cu=function(){return Cu=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Cu.apply(this,arguments)};function _m(l){return null!=l&&l instanceof Array&&l[0]instanceof Array}function dy(l,t){if(null==l)return{};if(!(l instanceof Array))return l;var e=t.yKeys;if(null==e||_m(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var r={};return e.forEach(function(o,s){r[o]=l[s]}),r}function N8(l,t){return null==l?[[]]:_m(l)?l:t.grouped?l.map(function(e){return[e]}):[l]}function hy(l){if(null!=l){var t=l.placement;return Cu(Cu({},l),{placement:"inside"===t?wl.Inside:"outside"===t?wl.Outside:void 0})}}function wm(l){var t=Cu(Cu({},l),{yKeys:l.yKeys||[l.yKey]});return delete t.yKey,function uy(l,t){var e={};for(var r in l)e[r]=(t[r]||function(s){return s})(l[r],l);return e}(t,{yNames:dy,yKeys:N8,label:hy})}function av(l){return l}var Sm={area:av,bar:wm,column:wm,histogram:av,line:av,pie:av,scatter:av,treemap:av};function py(l){return(0,Sm[l.type||"line"])(l)}var j0=function(){return j0=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},j0.apply(this,arguments)},o3=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fy=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},bm=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(fy(arguments[t]));return l};function a3(l,t){var e,r,o={},s=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],h=["yKey","fill","stroke","yName"];try{for(var p=o3(l),y=p.next();!y.done;y=p.next()){var S=y.value;for(var E in S){var T=s.indexOf(E)>-1,O=h.indexOf(E)>-1;T&&S[E].length>0?o[E]=bm(o[E]||[],S[E]):O?o[E+"s"]=bm(o[E+"s"]||[],[S[E]]):t&&"showInLegend"===E?!1===S[E]&&(o.hideInLegend=bm(o.hideInLegend||[],S.yKey?[S.yKey]:S.yKeys)):t&&"grouped"===E?!0===S[E]&&(o[E]=S[E]):o[E]=S[E]}}}catch(R){e={error:R}}finally{try{y&&!y.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return o}var yh=function(){return yh=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},yh.apply(this,arguments)},yy=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},k8=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(yy(arguments[t]));return l};function sv(l){var t,e;return l.type||(null===(e=null===(t=l.series)||void 0===t?void 0:t[0])||void 0===e?void 0:e.type)||"cartesian"}function Ap(l){var t=sv(l);if(null==t)return!0;switch(t){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function U0(l){if(null==sv(l))return!1;switch(l.type){case"hierarchy":case"treemap":return!0;default:return!1}}function Y0(l){if(null==sv(l))return!1;switch(l.type){case"polar":case"pie":return!0;default:return!1}}function Em(l){var t,e,r=0;try{for(var o=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),s=o.next();!s.done;s=o.next()){var h=s.value;h instanceof Array&&(r+=Em(h)),null!=h&&r++}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}function Ch(l,t,e){for(var r=[],o=0;o<e;o++)r.push(t[(o+l.colourIndex)%t.length]);return r}function z8(l,t){var e=null==t?l:bl(t,l);!function _y(l){var t,e;(null===(t=l.series)||void 0===t?void 0:t.some(function(r){return null!=r.yKeys&&null!=r.yKey}))&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),(null===(e=l.series)||void 0===e?void 0:e.some(function(r){return null!=r.yNames&&null!=r.yName}))&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}(e);var r=e.type,o=sv(e),s=Ap(e=yh(yh({},e),{type:o}))?ey:U0(e)?ty:Y0(e)?F8:{},h=Ap(e)?"line":U0(e)?"treemap":Y0(e)?"pie":"line",y=function V8(l,t,e){var r=function wy(l){var t=ni(l.theme),e=t.getConfig(sv(l)||"cartesian");return{theme:t,axesThemes:e.axes||{},seriesThemes:e.series||{},cleanedTheme:bl(e,{axes:Pp,series:Pp})}}(e),h=r.axesThemes,p=r.seriesThemes;return{context:{colourIndex:0,palette:r.theme.palette},mergedOptions:bl(l,t,r.cleanedTheme,e),axesThemes:h,seriesThemes:p}}(s,"bar"===o?R8:"scatter"===o||"histogram"===o?vm:{},e),S=y.context,E=y.mergedOptions,T=y.axesThemes,O=y.seriesThemes;return E.series=function vy(l){var t,e,r=[],o=l.map(function(y){return"bar"!==y.type&&"column"!==y.type||null==y.yKey||y.stacked?y:j0(j0({},y),{grouped:null==y.grouped||y.grouped})});try{for(var s=o3(function gy(l){var t,e,r={},o=[];try{for(var s=o3(l),h=s.next();!h.done;h=s.next()){var p=h.value;if("column"===p.type||"bar"===p.type||"area"===p.type&&!0===p.stacked){var E=(p.type||"line")+"-"+p.xKey+"-"+(p.stacked?"stacked":p.grouped?"grouped":p.yKeys?"stacked":"grouped");null==r[E]&&(r[E]=[],o.push(r[E])),r[E].push(p)}else o.push([p])}}catch(T){t={error:T}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}(o)),h=s.next();!h.done;h=s.next()){var p=h.value;switch(p[0].type){case"column":case"bar":r.push(a3(p,!0));break;case"area":r.push(a3(p,!1));break;default:p.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+p[0].type),r.push(p[0])}}}catch(y){t={error:y}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r}(E.series||[]).map(function(R){var N=R.type?R.type:function Cy(l){return null!=l&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(l)>=0}(r)?r:h,X=yh(yh({},R),{type:N});return function Sy(l,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var o=by(l,t);return py(bl.apply(void 0,k8(e,[o,t,{stacked:Pp}])))}(S,X,ly[N],O[N]||{})}),Ap(E)&&(E.axes||[]).forEach(function(R,N){var X=R.type||"number",ae=yh(yh({},R),{type:X}),le=bl(T[X],T[X][R.position||"unknown"]||{});E.axes[N]=function Dm(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return bl.apply(void 0,k8(t,[l,{top:Pp,bottom:Pp,left:Pp,right:Pp}]))}(ae,cy[X],le)}),function Om(l,t){pm(l,function(e,r,o){!o||"enabled"in o&&null==r.enabled&&(o.enabled=!0)},{skip:["data"]},t)}(e,E),E}function by(l,t){var e={},r=l.palette,o=r.fills,s=r.strokes,p=Em(t.yKeys||[])||1;switch(t.type){case"pie":p=Math.max(o.length,s.length);case"area":case"bar":case"column":e.fills=Ch(l,o,p),e.strokes=Ch(l,s,p);break;case"histogram":e.fill=Ch(l,o,1)[0],e.stroke=Ch(l,s,1)[0];break;case"scatter":e.fill=Ch(l,o,1)[0];case"line":e.stroke=Ch(l,o,1)[0],e.marker={stroke:Ch(l,s,1)[0],fill:Ch(l,o,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return l.colourIndex+=p,e}var $a=function(){return $a=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},$a.apply(this,arguments)},Tm=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},s3=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Tm(arguments[t]));return l},H8=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function l3(l){if(Ap(l))return"cartesian";if(Y0(l))return"polar";if(U0(l))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+l.type)}var El=function(){function l(){}return l.createComponent=function(t,e){return e.indexOf(".series")>=0?Dy([$a($a({},t),{type:t.type||e.split(".")[0]})])[0]:null},l.create=function(t,e,r){return c3.create(t)},l.update=function(t,e,r,o){return c3.update(t,e)},l}(),c3=function(){function l(){}return l.create=function(t){K0("user options",t);var e=z8(t),r=Ap(e)?"groupedCategory"===e.type?new nm(document):new xs(document):U0(e)?new $g(document):Y0(e)?new V2(document):void 0;if(!r)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+e.type);return l.updateDelta(r,e,t),r},l.update=function(t,e){K0("user options",e);var r=z8(e,t.userOptions);if(l3(r)!==l3(t.options))return t.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var o=z0(t.options,r,{stringify:["data"]});null!=o&&l.updateDelta(t,o,e)},l.updateDelta=function(t,e,r){null==e.type&&(e=$a($a({},e),{type:t.options.type||sv(e)})),K0("delta update",e),function G8(l,t,e){if(Ap(t))Rp(l,t,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(Y0(t))Rp(l,t,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!U0(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);Rp(l,t,{skip:["type","data","series","autoSize","listeners","theme"]})}var r=!1;t.series&&t.series.length>0&&function Ey(l,t){var e=t.series;if(e){if(l.series.length===e.length&&l.series.every(function(o,s){var h;return o.type===(null===(h=e[s])||void 0===h?void 0:h.type)}))return void l.series.forEach(function(o,s){var h,p,S=z0((null===(p=null===(h=l.options)||void 0===h?void 0:h.series)||void 0===p?void 0:p[s])||{},e[s]||{});K0("applying series diff idx "+s,S),a1(o,S)});l.series=Dy(e)}}(l,t),Ap(t)&&t.axes&&(r=function B8(l,t){var e=t.axes;if(!e)return!1;if(l.axes.length===e.length&&l.axes.every(function(s,h){return s.type===e[h].type})){var o=l.options;if(Ap(o))return l.axes.forEach(function(s,h){var p,S=z0((null===(p=o.axes)||void 0===p?void 0:p[h])||{},e[h]);K0("applying axis diff idx "+h,S),a1(s,S)}),!0}return l.axes=function Oy(l){var t,e,r=[],o=0;try{for(var s=H8(l||[]),h=s.next();!h.done;h=s.next()){var p=h.value,y="axis["+o+++"]";switch(p.type){case"number":r.push(q0(new pc,p,{path:y}));break;case yu.type:r.push(q0(new yu,p,{path:y}));break;case qu.type:r.push(q0(new qu,p,{path:y}));break;case Qu.type:r.push(q0(new Qu,p,{path:y}));break;case od.type:r.push(q0(new od,p,{path:y}));break;default:throw new Error("AG Charts - unknown axis type: "+p.type)}}}catch(S){t={error:S}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r}(e),!0}(l,t)),t.data&&(l.data=t.data,r=!0),null!=t.autoSize&&(l.autoSize=t.autoSize),t.listeners&&$0(l,t.listeners),l.layoutPending=!0,r&&l.processData(),l.performLayout(),l.options=bl(l.options||{},t),l.userOptions=bl(l.userOptions||{},e)}(t,e,r)},l.DEBUG=!1,l}();function K0(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];c3.DEBUG&&console.log.apply(console,s3([l],t))}function Dy(l){var t,e,r=[],o=["listeners"],s=0;try{for(var h=H8(l||[]),p=h.next();!p.done;p=h.next()){var y=p.value,S="series["+s+++"]";switch(y.type){case"area":r.push(_u(new Kl,y,{path:S,skip:o}));break;case"bar":case"column":r.push(_u(new pd,y,{path:S,skip:o}));break;case"histogram":r.push(_u(new P0,y,{path:S,skip:o}));break;case"line":r.push(_u(new Xf,y,{path:S,skip:o}));break;case"scatter":r.push(_u(new fd,y,{path:S,skip:o}));break;case"pie":r.push(_u(new ph,y,{path:S,skip:o}));break;case"treemap":r.push(_u(new Gi,y,{path:S,skip:o}));break;default:throw new Error("AG Charts - unknown series type: "+y.type)}}}catch(E){t={error:E}}finally{try{p&&!p.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}return r.forEach(function(E,T){var O,R,N=null===(R=null===(O=l)||void 0===O?void 0:O[T])||void 0===R?void 0:R.listeners;null!=N&&$0(E,N)}),r}function $0(l,t){for(var e in t)l.addEventListener(e,t[e])}var u3={constructors:{title:J1,subtitle:J1,shadow:Sp},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function Rp(l,t,e){var r=void 0===e?{}:e,o=r.skip,s=r.path;return a1(l,t,$a($a($a({},u3),{skip:s3(["type"],o||[])}),s?{path:s}:{}))}function _u(l,t,e){var h,r=void 0===e?{}:e,o=r.skip,s=r.path,p=(null===(h=u3)||void 0===h?void 0:h.constructors)||{},y={constructors:$a($a({},p),{title:"pie"===l.type?Op:p.title})};return a1(l,t,$a($a($a($a({},u3),y),{skip:s3(["type"],o||[])}),s?{path:s}:{}))}function q0(l,t,e){var r=void 0===e?{}:e,o=r.skip,s=r.path;return a1(l,t,$a($a($a({},u3),{skip:s3(["type"],o||[])}),s?{path:s}:{}))}function wu(l){switch(l){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var Ty=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},l1=function(l){function t(e){var r=l.call(this)||this;return r.model=e,r}return Ty(t,l),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,w.zW2.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map(function(o){return ni(e.chartProxy.isStockTheme(o)?o:e.chartProxy.lookupCustomChartTheme(o)).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===Vh.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return w._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,o){var s=this.model.seriesChartTypes.find(function(y){return y.colId===e});if(s){var h="customCombo"!==this.model.chartType;h&&(this.model.chartType="customCombo");var p=s.chartType;null!=r&&(s.chartType=r),null!=o&&(s.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),h&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_TYPE_CHANGED})),p!==r&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[wu(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],o=r&&r.startRow||null,s=r&&r.endRow||null;return{rowStartIndex:o&&o.rowIndex,rowStartPinned:o&&o.rowPinned,rowEndIndex:s&&s.rowIndex,rowEndPinned:s&&s.rowPinned,columns:e.reduce(function(h,p){return h.concat(p.columns.map(function(y){return y.getId()}))},[])}},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),s=Object.freeze({type:w.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(s)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:w.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",d3([(0,w.fsG)("rangeService")],t.prototype,"rangeService",void 0),d3([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),d3([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),d3([w.NqP],t.prototype,"init",null),t}(w.AS9),xy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},My=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},p3=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(My(arguments[t]));return l},X0=function(l){function t(e,r){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=r,o.columnComps=new Map,o}return xy(t,l),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,l1.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),l.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,r=this.chartType,o=this.chartController.getColStateForMenu(),s=o.dimensionCols,h=o.valueCols,p=s.map(function(E){return E.colId}).concat(h.map(function(E){return E.colId}));this.chartType=this.chartController.getChartType();var y=this.getGroupExpandedState();if(w._.areEqual(w._.keys(this.columnComps),p)&&this.chartType===r){if(p3(s,h).forEach(function(E){e.columnComps.get(E.colId).setValue(E.selected,!0)}),this.chartController.isActiveXYChart()){var S=this.generateGetSeriesLabel();h.forEach(function(E){e.columnComps.get(E.colId).setLabel(S(E))})}w._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(h)}else this.clearComponents(),this.createCategoriesGroup(s),this.createSeriesGroup(h),this.createSeriesChartTypeGroup(h);this.restoreGroupExpandedState(y)},t.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return!e||e.isExpanded()})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,o){!r||r.toggleGroupExpand(e[o])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new w.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.addComponent=function(e,r,o){var s=document.createElement("div");s.id=o,s.className="ag-chart-data-section",s.appendChild(r.getGui()),e.appendChild(s)},t.prototype.addChangeListener=function(e,r){var o=this;this.addManagedListener(e,w.J8Z.EVENT_CHANGED,function(){r.selected=e.getValue(),o.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new w.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o="chartDimension"+this.getCompId();e.forEach(function(s){var h=r.categoriesGroupComp.createManagedBean(new w.LQq);h.setLabel(w._.escapeString(s.displayName)),h.setValue(s.selected),h.setInputName(o),r.addChangeListener(h,s),r.categoriesGroupComp.addItem(h),r.columnComps.set(s.colId,h)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new w.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var o=this.seriesGroupComp.createManagedBean(new w.nN0);o.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(p){r.chartOptionsService.setPairedMode(!!p),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(o)}var s=this.generateGetSeriesLabel();e.forEach(function(p){var y=r.seriesGroupComp.createManagedBean(new w.jkc);y.addCssClass("ag-data-select-checkbox");var S=s(p);y.setLabel(S),y.setValue(p.selected),r.addChangeListener(y,p),r.seriesGroupComp.addItem(y),r.columnComps.set(p.colId,y),r.addDragHandle(y,p)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var h={getIconName:function(){return w.jUB.ICON_MOVE},getContainer:function(){return r.seriesGroupComp.getGui()},onDragging:function(p){return r.onDragging(p)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(h)},t.prototype.createSeriesChartTypeGroup=function(e){var r=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new w.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(s){if(s.selected){var h=o.filter(function(O){return O.colId===s.colId})[0];if(h){var p=r.seriesChartTypeGroupComp.createManagedBean(new w.H1u({title:s.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),y=r.seriesChartTypeGroupComp.createManagedBean(new w.jkc).setLabel(r.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(h.chartType)).setValue(!!h.secondaryAxis).onValueChange(function(O){return r.chartController.updateSeriesChartType(s.colId,void 0,O)});p.addItem(y);var S=function(O,R){return r.chartTranslationService.translate(O,R)},E=[{value:"line",text:S("line","Line")},{value:"area",text:S("area","Area")},{value:"stackedArea",text:S("stackedArea","StackedArea")},{value:"groupedColumn",text:S("groupedColumn","Grouped Column")},{value:"stackedColumn",text:S("stackedColumn","Stacked Column")}],T=p.createManagedBean(new w.wGv);T.setLabelAlignment("left").setLabelWidth("flex").addOptions(E).setValue(h.chartType).onValueChange(function(O){return r.chartController.updateSeriesChartType(s.colId,O)}),p.addItem(T),r.seriesChartTypeGroupComp.addItem(p)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},t.prototype.addDragHandle=function(e,r){var o=this,s=w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);s.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",s);var h={type:w.rvo.ChartPanel,eElement:s,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return o.onDragStop()}};this.dragAndDropService.addDragSource(h,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(h)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(h){return w._.escapeString(h.displayName)};var e="bubble"===this.chartType,r=this.isInPairedMode(),o=0,s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),function(h){var y,p=w._.escapeString(h.displayName);return h.selected?(y=r?s.get(o%(e?3:2)):0===o?"X":e&&o%2==0?"size":"Y",o++,p+" ("+y+")"):p}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){w._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(r){this.lastDraggedColumn=e.dragItem.columns[0];var o=r.comp,s=r.position,h=this.lastHoveredItem||{};o===h.comp&&s===h.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:o,position:s},o.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+s))}},t.prototype.checkHoveredItem=function(e){var r,o;if(w._.missing(e.vDirection))return null;var s=e.event;try{for(var h=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),p=h.next();!p.done;p=h.next()){var y=p.value,S=y.getGui();if(S.querySelector(".ag-chart-data-column-drag-handle")){var E=S.getBoundingClientRect();if(s.clientY>=E.top&&s.clientY<=E.bottom)return{comp:y,position:s.clientY>E.top+S.clientHeight/2?"bottom":"top"}}}}catch(N){r={error:N}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),h=p3(r.dimensionCols,r.valueCols).find(function(y){return y.column===e.lastDraggedColumn});if(h){var p=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&p++,h.order=p,this.chartController.updateForPanelChange(h)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===w.rvo.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',h3([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),h3([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),h3([w.NqP],t.prototype,"init",null),t}(w.wA2),Py=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Z0=function(l){function t(e){var r=l.call(this)||this;return r.activeComps=[],r.params=e,r}return Py(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],o=this.params.initialFont.family,s=r[0];if(o){var p=r.map(function(E){return E.toLowerCase()}).indexOf(o.toLowerCase());if(p>=0)s=r[p];else{var y=w._.capitalise(o);r.push(y),s=y}}var S=r.sort().map(function(E){return{value:E,text:E}});this.familySelect.addOptions(S).setInputWidth("flex").setValue(""+s).onValueChange(function(E){return e.params.setFont({family:E})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],o=this.params.initialFont.size;w._.includes(r,o)||r.push(o);var s=r.sort(function(h,p){return h-p}).map(function(h){return{value:""+h,text:""+h}});this.sizeSelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange(function(h){return e.params.setFont({size:parseInt(h,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,o=r.weight,s=void 0===o?"normal":o,h=r.style,p=void 0===h?"normal":h,y=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],S=y.find(function(T){return T.weight===s&&T.style===p});S||y.unshift(S={name:"predefined",weight:s,style:p});var E=y.map(function(T){return{value:T.name,text:e.chartTranslationService.translate(T.name)}});this.weightStyleSelect.addOptions(E).setInputWidth("flex").setValue(S.name).onValueChange(function(T){var O=y.find(function(R){return R.name===T});e.params.setFont({weight:O.weight,style:O.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Fp([(0,w.cqo)("fontGroup")],t.prototype,"fontGroup",void 0),Fp([(0,w.cqo)("familySelect")],t.prototype,"familySelect",void 0),Fp([(0,w.cqo)("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Fp([(0,w.cqo)("sizeSelect")],t.prototype,"sizeSelect",void 0),Fp([(0,w.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),Fp([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Fp([w.NqP],t.prototype,"init",null),t}(w.wA2),Ay=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),md=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},xm=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r.activePanels=[],r}return Ay(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=[Ds.Top,Ds.Right,Ds.Bottom,Ds.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(r.map(function(o){return{value:o,text:e.chartTranslationService.translate(o)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.position",o)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Zs(r,200)).setValue(""+r).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.spacing",o)})},t.prototype.initLegendItems=function(){var e=this,r=function(o,s,h,p){var y=e.chartOptionsService.getChartOption("legend."+o);h.setLabel(e.chartTranslationService.translate(s)).setMaxValue(Zs(y,p)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(S){e.chartOptionsService.setChartOption("legend."+o,S)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,o={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},p=this.createBean(new Z0({enabled:!0,suppressEnabledCheckbox:!0,initialFont:o,setFont:function(y){var S=e.chartOptionsService;y.family&&S.setChartOption("legend.item.label.fontFamily",y.family),y.weight&&S.setChartOption("legend.item.label.fontWeight",y.weight),y.style&&S.setChartOption("legend.item.label.fontStyle",y.style),y.size&&S.setChartOption("legend.item.label.fontSize",y.size),y.color&&S.setChartOption("legend.item.label.color",y.color)}}));this.legendGroup.addItem(p),this.activePanels.push(p)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',md([(0,w.cqo)("legendGroup")],t.prototype,"legendGroup",void 0),md([(0,w.cqo)("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),md([(0,w.cqo)("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),md([(0,w.cqo)("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),md([(0,w.cqo)("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),md([(0,w.cqo)("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),md([(0,w.cqo)("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),md([(0,w.cqo)("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),md([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),md([w.NqP],t.prototype,"init",null),t}(w.wA2),Ry=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q0=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Fy=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return Ry(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("tick.color",o)});var r=function(o,s,h,p){var y=e.chartOptionsService.getAxisProperty(o);s.setLabel(h).setMaxValue(Zs(y,p)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(S){return e.chartOptionsService.setAxisProperty(o,S)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Q0([(0,w.cqo)("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),Q0([(0,w.cqo)("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),Q0([(0,w.cqo)("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),Q0([(0,w.cqo)("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),Q0([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Q0([w.NqP],t.prototype,"init",null),t}(w.wA2),Ly=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Su=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Lp=function(l){function t(e,r){var o=l.call(this)||this;return o.chartController=e,o.chartOptionsService=r,o.activePanels=[],o.axisLabelUpdateFuncs=[],o}return Ly(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,l1.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(s){return s()})})},t.prototype.initAxis=function(){var e=this,r=this.chartTranslationService;this.axisGroup.setTitle(r.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(r.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(h){return e.chartOptionsService.setAxisProperty("line.color",h)});var o=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(Zs(o,10)).setLabel(r.translate("thickness")).setTextFieldWidth(45).setValue(""+o).onValueChange(function(h){return e.chartOptionsService.setAxisProperty("line.width",h)}),w._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var s=[{value:"",text:r.translate("automatic")}];["category","time","number"].forEach(function(h){s.push({value:h,text:r.translate(h)})}),this.xAxisTypeSelect.setLabel(r.translate("xType")).setLabelWidth("flex").addOptions(s).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(h){e.chartOptionsService.setChartOption("xAxis.type","string"==typeof h&&h.length&&h),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new Fy(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},h=this.createBean(new Z0({enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:function(p){p.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",p.family),p.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",p.weight),p.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",p.style),p.size&&e.chartOptionsService.setAxisProperty("label.fontSize",p.size),p.color&&e.chartOptionsService.setAxisProperty("label.color",p.color),e.chartController.getChartProxy().getChart().layoutPending=!0}}));this.axisGroup.addItem(h),this.activePanels.push(h),this.addAdditionalLabelComps(h)},t.prototype.addAdditionalLabelComps=function(e){var r=this,o=function(E,T){var O=r.chartOptionsService.getLabelRotation(T),R=(new w.nv3).setLabel(E).setLabelWidth("flex").setValue(O||0).onValueChange(function(X){return r.chartOptionsService.setLabelRotation(T,X)});r.axisLabelUpdateFuncs.push(function(){var X=r.chartOptionsService.getLabelRotation(T);R.setValue(X)});var N=r.createBean(R);e.addCompToPanel(N)},s=String.fromCharCode(176),h=this.chartTranslationService.translate("xRotation")+" "+s,p=this.chartTranslationService.translate("yRotation")+" "+s;o(h,"xAxis"),o(p,"yAxis");var y=this.createBean(new w.h7_),S=this.chartOptionsService.getAxisProperty("label.padding");y.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Zs(S,30)).setValue(""+S).setTextFieldWidth(45).onValueChange(function(E){return r.chartOptionsService.setAxisProperty("label.padding",E)}),e.addCompToPanel(y)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',Su([(0,w.cqo)("axisGroup")],t.prototype,"axisGroup",void 0),Su([(0,w.cqo)("axisColorInput")],t.prototype,"axisColorInput",void 0),Su([(0,w.cqo)("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Su([(0,w.cqo)("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),Su([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Su([w.NqP],t.prototype,"init",null),t}(w.wA2),lv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ip=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return lv(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(s){e.chartOptionsService.setChartOption("navigator.enabled",s),e.navigatorGroup.toggleGroupExpand(!0)});var o=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(Zs(o,60)).setTextFieldWidth(45).setValue(""+(o||30)).onValueChange(function(s){return e.chartOptionsService.setChartOption("navigator.height",s)})},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Mm([(0,w.cqo)("navigatorGroup")],t.prototype,"navigatorGroup",void 0),Mm([(0,w.cqo)("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),Mm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Mm([w.NqP],t.prototype,"init",null),t}(w.wA2),Iy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},W8=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return Iy(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(o,s){var h=e.chartOptionsService.getChartOption("padding."+o);s.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Zs(h,200)).setValue(""+h).setTextFieldWidth(45).onValueChange(function(p){return e.chartOptionsService.setChartOption("padding."+o,p)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',cv([(0,w.cqo)("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),cv([(0,w.cqo)("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),cv([(0,w.cqo)("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),cv([(0,w.cqo)("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),cv([(0,w.cqo)("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),cv([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),cv([w.NqP],t.prototype,"init",null),t}(w.wA2),q7=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),J0=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Pm=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return q7(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',J0([(0,w.cqo)("chartBackgroundGroup")],t.prototype,"group",void 0),J0([(0,w.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),J0([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),J0([w.NqP],t.prototype,"init",null),t}(w.wA2),j8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Am=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},U8=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return j8(t,l),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle,o=function(y){y.family&&e.setOption("title.fontFamily",y.family),y.weight&&e.setOption("title.fontWeight",y.weight),y.style&&e.setOption("title.fontStyle",y.style),y.size&&e.setOption("title.fontSize",y.size),y.color&&e.setOption("title.color",y.color)},s={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||o(s);var h={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:s,setFont:o,setEnabled:function(y){e.setOption("title.enabled",y);var S=e.getOption("title.text");y&&"Title"===S&&e.setOption("title.text",e.titlePlaceholder)}},p=this.createBean(new Z0(h));this.getGui().appendChild(p.getGui()),this.activePanels.push(p),this.addManagedListener(this.eventService,"chartTitleEdit",function(){p.setEnabled(e.hasTitle())})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r){this.chartOptionsService.setChartOption(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",Am([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Am([w.NqP],t.prototype,"init",null),t}(w.wA2);const Y8=U8;var K8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ny=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r.activePanels=[],r}return K8(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new Y8(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new W8(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Pm(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',Rm([(0,w.cqo)("chartGroup")],t.prototype,"chartGroup",void 0),Rm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Rm([w.NqP],t.prototype,"init",null),t}(w.wA2),ky=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),c1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zy=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return ky(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.enabled",o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.color",o,e.getSelectedSeries())});var r=function(o,s,h,p){var y=e.chartOptionsService.getSeriesOption("shadow."+s,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(s)).setMinValue(h).setMaxValue(Zs(y,p)).setValue(""+y).onValueChange(function(S){return e.chartOptionsService.setSeriesOption("shadow."+s,S,e.getSelectedSeries())})};r(this.shadowBlurSlider,"blur",0,20),r(this.shadowXOffsetSlider,"xOffset",-10,10),r(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',c1([(0,w.cqo)("shadowGroup")],t.prototype,"shadowGroup",void 0),c1([(0,w.cqo)("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),c1([(0,w.cqo)("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),c1([(0,w.cqo)("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),c1([(0,w.cqo)("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),c1([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),c1([w.NqP],t.prototype,"init",null),t}(w.wA2),$8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Np=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},q8=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return $8(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(p){return e.setSeriesOption("marker.shape",p)});var o=this.chartOptionsService.getChartType(),s=w._.includes(["scatter","bubble"],o);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(s).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(p){return e.setSeriesOption("marker.enabled",p)});var h=function(p,y,S,E){var T=e.getSeriesOption(p);y.setLabel(e.chartTranslationService.translate(S)).setMaxValue(Zs(T,E)).setValue(""+T).setTextFieldWidth(45).onValueChange(function(O){return e.setSeriesOption(p,O)})};"bubble"===o?(h("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),h("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),h("marker.size",this.seriesMarkerSizeSlider,"size",60)),h("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Np([(0,w.cqo)("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Np([(0,w.cqo)("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Np([(0,w.cqo)("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Np([(0,w.cqo)("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Np([(0,w.cqo)("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Np([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Np([w.NqP],t.prototype,"init",null),t}(w.wA2),X8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Z8=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return X8(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(o,s,h,p){var y=e.chartOptionsService.getSeriesOption(o,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(h)).setMaxValue(Zs(y,p)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(S){return e.chartOptionsService.setSeriesOption(o,S,e.getSelectedSeries())})};r("callout.length",this.calloutLengthSlider,"length",40),r("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',u1([(0,w.cqo)("calloutGroup")],t.prototype,"calloutGroup",void 0),u1([(0,w.cqo)("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),u1([(0,w.cqo)("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),u1([(0,w.cqo)("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),u1([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),u1([w.NqP],t.prototype,"init",null),t}(w.wA2),Vy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},_h=function(l){function t(e,r,o){var s=l.call(this)||this;return s.chartController=e,s.chartOptionsService=r,s.activePanels=[],s.widgetFuncs={lineWidth:function(){return s.initLineWidth()},strokeWidth:function(){return s.initStrokeWidth()},lineDash:function(){return s.initLineDash()},lineOpacity:function(){return s.initLineOpacity()},fillOpacity:function(){return s.initFillOpacity()},markers:function(){return s.initMarkers()},labels:function(){return s.initLabels()},shadow:function(){return s.initShadow()},tooltips:function(){return s.initTooltips()},bins:function(){return s.initBins()}},s.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},s.seriesType=o||s.getChartSeriesType(),s}return Vy(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,l1.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(r){return e.widgetFuncs[r]()})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new w.wGv);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(o){e.seriesType=o,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new w.nN0);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(o){return e.setSeriesOption("tooltip.enabled",o)}),this.addWidget(r)},t.prototype.initStrokeWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),o=this.createBean(new w.h7_);o.setLabel(this.translate("strokeWidth")).setMaxValue(Zs(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),o=this.createBean(new w.h7_);o.setLabel(this.translate("lineWidth")).setMaxValue(Zs(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),o=r?r[0]:0,s=this.createBean(new w.h7_);s.setLabel(this.translate("lineDash")).setMaxValue(Zs(o,30)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(h){return e.setSeriesOption("lineDash",[h])}),this.addWidget(s)},t.prototype.initLineOpacity=function(){var e=this,r=this.getSeriesOption("strokeOpacity"),o=this.createBean(new w.h7_);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Zs(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeOpacity",s)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,r=this.getSeriesOption("fillOpacity"),o=this.createBean(new w.h7_);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Zs(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("fillOpacity",s)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,r=function e4(l,t,e){var r={family:t.getSeriesOption("label.fontFamily",e()),style:t.getSeriesOption("label.fontStyle",e()),weight:t.getSeriesOption("label.fontWeight",e()),size:t.getSeriesOption("label.fontSize",e()),color:t.getSeriesOption("label.color",e())};return{name:l.translate("labels"),enabled:t.getSeriesOption("label.enabled",e())||!1,setEnabled:function(h){return t.setSeriesOption("label.enabled",h,e())},suppressEnabledCheckbox:!1,initialFont:r,setFont:function(h){h.family&&t.setSeriesOption("label.fontFamily",h.family,e()),h.weight&&t.setSeriesOption("label.fontWeight",h.weight,e()),h.style&&t.setSeriesOption("label.fontStyle",h.style,e()),h.size&&t.setSeriesOption("label.fontSize",h.size,e()),h.color&&t.setSeriesOption("label.color",h.color,e())}}}(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),o=this.createBean(new Z0(r));if("pie"===this.seriesType){var s=this.createBean(new Z8(this.chartOptionsService,function(){return e.seriesType}));o.addCompToPanel(s),this.activePanels.push(s)}this.addWidget(o)},t.prototype.initShadow=function(){var e=this,r=this.createBean(new zy(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new q8(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r=this.getSeriesOption("binCount"),o=this.createBean(new w.h7_);o.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(Zs(r,100)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("binCount",s)}),this.addWidget(o)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":wu(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(o){var s=wu(o.chartType);r.add(e.seriesSelectOptions.get(s))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(o){return wu(o.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',g3([(0,w.cqo)("seriesGroup")],t.prototype,"seriesGroup",void 0),g3([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),g3([w.NqP],t.prototype,"init",null),t}(w.wA2),Hy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function Zs(l,t){return Math.max(l,t)}var t4=function(l){function t(e,r){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=r,o.panels=[],o}return Hy(t,l),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,l1.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),r=this.chartController.isGrouping();if(e!==this.chartType||r!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new Ny(this.chartOptionsService)),this.addComponent(new xm(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService,"column")),this.addComponent(new Ip(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new Ip(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new _h(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService,"line")),this.addComponent(new Ip(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new Ip(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService,"area")),this.addComponent(new Ip(this.chartOptionsService));break;case"histogram":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new Ip(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new Lp(this.chartController,this.chartOptionsService)),this.addComponent(new _h(this.chartController,this.chartOptionsService)),this.addComponent(new Ip(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=r}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyPanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([w.NqP],t.prototype,"init",null),t}(w.wA2),By=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Yc=function(l){function t(e,r){var o=l.call(this)||this;o.size=58,o.padding=5,o.root=new Hi;var s=new Ya(window.document,o.size,o.size);return s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.root=o.root,s.container=e,o.scene=s,o.tooltipName=r,o}return By(t,l),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},v3([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),v3([w.NqP],t.prototype,"init",null),t}(w.wA2),Wy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qs=function(l){function t(e,r){var o=l.call(this,e,r)||this;return o.stroke="gray",o.axisOvershoot=3,o}return Wy(t,l),t.prototype.addAxes=function(){var e=this.size,r=this.padding,o=new pl;o.x1=r,o.y1=r,o.x2=r,o.y2=e-r+this.axisOvershoot,o.stroke=this.stroke;var s=new pl;s.x1=r-this.axisOvershoot+1,s.y1=e-r,s.x2=e-r+1,s.y2=e-r,s.stroke=this.stroke;var h=this.root;h.append(o),h.append(s)},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([w.NqP],t.prototype,"addAxes",null),t}(Yc);function n4(l){var t=l.stacked,e=l.size,r=l.padding,o=l.xScalePadding,s=l.xScaleDomain,h=l.yScaleDomain,p=new gl;p.domain=s,p.range=[r,e-r],p.paddingInner=o,p.paddingOuter=o;var y=new aa;y.domain=h,y.range=[e-r,r];var S=function(E,T,O){return E.map(function(R,N){var X=O.convert(R),ae=new yc;return ae.x=T.convert(N),ae.y=X,ae.width=T.bandwidth,ae.height=O.convert(0)-X,ae.strokeWidth=1,ae.crisp=!0,ae})};return t?l.data.map(function(E){return S(E,p,y)}):S(l.data,p,y)}function Fm(l,t,e,r){var o=new aa;o.domain=[0,4],o.range=[r,e-r];var s=new aa;s.domain=[0,10],s.range=[e-r,r];var h=t.map(function(y){var S=new Ra;return S.strokeWidth=3,S.lineCap="round",S.fill=void 0,y.forEach(function(E,T){S.path[T>0?"lineTo":"moveTo"](o.convert(T),s.convert(E))}),S}),p=new fu;return p.x=p.y=r,p.width=p.height=e-2*r,p.append(h),l.append(p),h}var jy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y3=function(l){function t(e,r,o){var s=l.call(this,e,"groupedColumnTooltip")||this;s.columnData=[2,3,4];var p=s.root;return s.columns=n4({stacked:!1,root:p,data:s.columnData,size:s.size,padding:s.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),p.append(s.columns),s.updateColors(r,o),s}return jy(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="groupedColumn",t}(Qs),C3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q8=function(l){function t(e,r,o,s,h,p){void 0===s&&(s=t.data),void 0===h&&(h=[0,16]),void 0===p&&(p="stackedColumnTooltip");var y=l.call(this,e,p)||this,E=y.root;return y.stackedColumns=n4({stacked:!0,root:E,data:s,size:y.size,padding:y.padding,xScaleDomain:[0,1,2],yScaleDomain:h,xScalePadding:.3}),E.append([].concat.apply([],y.stackedColumns)),y.updateColors(r,o),y}return C3(t,l),t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(o,s){return o.forEach(function(h){h.fill=e[s],h.stroke=r[s]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Qs),Uy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),J8=function(l){function t(e,r,o){return l.call(this,e,r,o,t.data,[0,10],"normalizedColumnTooltip")||this}return Uy(t,l),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Q8),e6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lm=function(l){function t(e,r,o){var s=l.call(this,e,"groupedBarTooltip")||this,h=s.padding,p=s.size,S=new gl;S.domain=[0,1,2],S.range=[h,p-h],S.paddingInner=.3,S.paddingOuter=.3;var E=new aa;E.domain=[0,4],E.range=[p-h,h];var T=E.convert(0),O=S.bandwidth;return s.bars=[2,3,4].map(function(R,N){var X=new yc;return X.x=h,X.y=S.convert(N),X.width=T-E.convert(R),X.height=O,X.strokeWidth=1,X.crisp=!0,X}),s.updateColors(r,o),s.root.append(s.bars),s}return e6(t,l),t.prototype.updateColors=function(e,r){this.bars.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="groupedBar",t}(Qs),t6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n6=function(l){function t(e,r,o,s,h,p){void 0===s&&(s=t.data),void 0===h&&(h=[0,16]),void 0===p&&(p="stackedBarTooltip");var y=l.call(this,e,p)||this,S=y.size,E=y.padding,T=new gl;T.domain=[0,1,2],T.range=[E,S-E],T.paddingInner=.3,T.paddingOuter=.3;var O=new aa;O.domain=h,O.range=[S-E,E];var R=O.convert(0),N=T.bandwidth;return y.bars=s.map(function(X){return X.map(function(ae,le){var de=new yc;return de.x=E,de.y=T.convert(le),de.width=R-O.convert(ae),de.height=N,de.strokeWidth=1,de.crisp=!0,de})}),y.updateColors(r,o),y.root.append([].concat.apply([],y.bars)),y}return t6(t,l),t.prototype.updateColors=function(e,r){this.bars.forEach(function(o,s){return o.forEach(function(h){h.fill=e[s],h.stroke=r[s]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Qs),Yy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),X7=function(l){function t(e,r,o){return l.call(this,e,r,o,t.data,[0,10],"normalizedBarTooltip")||this}return Yy(t,l),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(n6),Im=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),km=function(l){function t(e,r,o,s,h){void 0===s&&(s=.6),void 0===h&&(h="doughnutTooltip");var p=l.call(this,e,h)||this,y=(p.size-2*p.padding)/2,S=y+p.padding,E=[[ya(-90),ya(30)],[ya(30),ya(120)],[ya(120),ya(180)],[ya(180),ya(210)],[ya(210),ya(240)],[ya(240),ya(270)]];return p.sectors=E.map(function(T){var O=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(T,2),R=O[0],N=O[1],X=new vd;return X.centerX=S,X.centerY=S,X.innerRadius=y*s,X.outerRadius=y,X.startAngle=R,X.endAngle=N,X.stroke=void 0,X.strokeWidth=1,X}),p.updateColors(r,o),p.root.append(p.sectors),p}return Im(t,l),t.prototype.updateColors=function(e,r){this.sectors.forEach(function(o,s){o.fill=e[s%e.length],o.stroke=r[s%r.length]})},t.chartType="doughnut",t}(Yc),zm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vm=function(l){function t(e,r,o){return l.call(this,e,r,o,0,"pieTooltip")||this}return zm(t,l),t.chartType="pie",t}(km),Ky=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$y=function(l){function t(e,r,o){var s=l.call(this,e,"lineTooltip")||this;return s.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],s.lines=Fm(s.root,s.data,s.size,s.padding),s.updateColors(r,o),s}return Ky(t,l),t.prototype.updateColors=function(e,r){this.lines.forEach(function(o,s){o.stroke=e[s]})},t.chartType="line",t}(Qs),qy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),r6=function(l){function t(e,r,o){var s=l.call(this,e,"scatterTooltip")||this,h=s.size,p=s.padding,S=new aa;S.domain=[-.5,4],S.range=[2*p,h-p];var E=new aa;E.domain=[-.5,3.5],E.range=[h-p,p];var T=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(R){R.forEach(function(N){var X=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(N,2),ae=X[0],le=X[1],de=new gg;de.strokeWidth=1,de.centerX=S.convert(ae),de.centerY=E.convert(le),de.radiusX=de.radiusY=2.5,T.push(de)})}),s.points=T,s.updateColors(r,o);var O=new fu;return O.x=O.y=p,O.width=O.height=h-2*p,O.append(s.points),s.root.append(O),s}return qy(t,l),t.prototype.updateColors=function(e,r){this.points.forEach(function(o,s){o.stroke=r[s%r.length],o.fill=e[s%e.length]})},t.chartType="scatter",t}(Qs),Hm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o6=function(l){function t(e,r,o){var s=l.call(this,e,"bubbleTooltip")||this,h=s.size,p=s.padding,S=new aa;S.domain=[0,1],S.range=[2*p,h-p];var E=new aa;E.domain=[0,1],E.range=[h-p,p];var T=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(R){R.forEach(function(N){var X=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(N,3),ae=X[0],le=X[1],de=X[2],he=new gg;he.strokeWidth=1,he.centerX=S.convert(ae),he.centerY=E.convert(le),he.radiusX=he.radiusY=de,he.fillOpacity=.7,T.push(he)})}),s.points=T,s.updateColors(r,o);var O=new fu;return O.x=p,O.y=p,O.width=h-2*p,O.height=h-2*p,O.append(s.points),s.root.append(O),s}return Hm(t,l),t.prototype.updateColors=function(e,r){this.points.forEach(function(o,s){o.stroke=r[s%r.length],o.fill=e[s%e.length]})},t.chartType="bubble",t}(Qs),a6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s6=function(l){function t(e,r,o,s){void 0===s&&(s=t.data);var h=l.call(this,e,"groupedAreaTooltip")||this,p=h.size,y=h.padding,S=new gl;S.domain=[0,1,2],S.paddingInner=1,S.paddingOuter=0,S.range=[y+.5,p-y-.5];var E=new aa;E.domain=[0,6],E.range=[p-y+.5,y];var O=2*s.length-1,R=[],N=E.convert(0);return s.forEach(function(X,ae){var le=S.convert(ae);X.forEach(function(de,he){var Ue=E.convert(de),st=R[he]||(R[he]=[]);st[ae]={x:le,y:Ue},st[O-ae]={x:le,y:N}})}),h.areas=R.reverse().map(function(X){var ae=new Ra;ae.strokeWidth=1,ae.fillOpacity=.7;var le=ae.path;return le.clear(),X.forEach(function(de,he){return le[he>0?"lineTo":"moveTo"](de.x,de.y)}),le.closePath(),ae}),h.updateColors(r,o),h.root.append(h.areas),h}return a6(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(Qs),Zy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_3=function(l){function t(e,r,o,s,h){void 0===s&&(s=t.data),void 0===h&&(h="stackedAreaTooltip");var p=l.call(this,e,h)||this,y=p.size,S=p.padding,E=new gl;E.domain=[0,1,2],E.paddingInner=1,E.paddingOuter=0,E.range=[S+.5,y-S-.5];var T=new aa;T.domain=[0,16],T.range=[y-S+.5,S+.5];var R=2*s.length-1,N=[];return s.forEach(function(X,ae){var le=E.convert(ae),de=0;X.forEach(function(he,Ue){var st=T.convert(de+he),rt=N[Ue]||(N[Ue]=[]);rt[ae]={x:le,y:st},rt[R-ae]={x:le,y:T.convert(de)},de+=he})}),p.areas=N.map(function(X){var ae=new Ra;ae.strokeWidth=1;var le=ae.path;return le.clear(),X.forEach(function(de,he){return le[he>0?"lineTo":"moveTo"](de.x,de.y)}),le.closePath(),ae}),p.updateColors(r,o),p.root.append(p.areas),p}return Zy(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(Qs),l6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qy=function(l){function t(e,r,o,s){return void 0===s&&(s=t.data),l.call(this,e,r,o,s,"normalizedAreaTooltip")||this}return l6(t,l),t.chartType="normalizedArea",t.data=_3.data.map(function(e){var r=e.reduce(function(o,s){return o+s},0);return e.map(function(o){return o/r*16})}),t}(_3),c6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gm=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Dl=function(l){function t(e,r,o){var s=l.call(this,e,"histogramTooltip")||this,h=s.padding,p=s.size,y=[2,5,11,13,10,6,1],S=new aa;S.domain=[0,y.length],S.range=[h,p-h];var E=new aa;E.domain=[0,y.reduce(function(O,R){return Math.max(O,R)},0)],E.range=[p-h,h];var T=E.convert(0);return s.bars=y.map(function(O,R){var N=E.convert(O),X=S.convert(R),ae=S.convert(R+1),le=new yc;return le.x=X,le.y=N,le.width=ae-X,le.height=T-N,le.strokeWidth=1,le.crisp=!0,le}),s.updateColors(r,o),s.root.append(s.bars),s}return c6(t,l),t.prototype.updateColors=function(e,r){var s=Gm(e,1)[0],p=Gm(r,1)[0];this.bars.forEach(function(y){y.fill=s,y.stroke=p})},t.chartType="histogram",t}(Qs),uv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jy=function(l){function t(e,r,o){var s=l.call(this,e,"columnLineComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var p=s.root,S=s.lineData,E=s.size,T=s.padding;return s.columns=n4({stacked:!1,root:p,data:s.columnData,size:E,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),p.append(s.columns),s.lines=Fm(p,S,E,T),s.updateColors(r,o),s}return uv(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.chartType="columnLineCombo",t}(Qs),e5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z7=function(l){function t(e,r,o){var s=l.call(this,e,"areaColumnComboTooltip")||this;s.columnData=[3,4.5],s.areaData=[[5,4,6,5,4]];var p=s.root,S=s.areaData,E=s.size,T=s.padding;s.columns=n4({stacked:!1,root:p,data:s.columnData,size:E,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var O=new gl;O.range=[T,E-T],O.domain=[0,1,2,3,4],O.paddingInner=1,O.paddingOuter=0;var R=new aa;R.range=[E-T,T],R.domain=[0,6];var N=[],X=R.convert(0),ae=O.convert(0);return S.forEach(function(le,de){var he=N[de]||(N[de]=[]);le.forEach(function(st,rt){var Pt=st,Gt=O.convert(rt),Zt=R.convert(Pt);he[rt]={x:Gt,y:Zt}});var Ue=O.convert(le.length-1);N[de].push({x:Ue,y:X},{x:ae,y:X})}),s.areas=N.map(function(le){var de=new Ra;de.strokeWidth=1,de.fillOpacity=.8;var he=de.path;return le.forEach(function(Ue,st){return he[st>0?"lineTo":"moveTo"](Ue.x,Ue.y)}),de}),p.append(s.areas),p.append([].concat.apply([],s.columns)),s.updateColors(r,o),s}return e5(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.columns.forEach(function(o,s){o.fill=e[s+1],o.stroke=r[s+1]})},t.chartType="areaColumnCombo",t}(Qs),r4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u6=function(l){function t(e,r,o){var s=l.call(this,e,"customComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var p=s.root,S=s.lineData,E=s.size,T=s.padding;s.columns=n4({stacked:!1,root:p,data:s.columnData,size:E,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),p.append(s.columns),s.lines=Fm(p,S,E,T);var O="grey",N=new pl;N.x1=T,N.y1=T,N.x2=T,N.y2=E-T+3,N.stroke=O;var X=new pl;X.x1=T-3+1,X.y1=E-T,X.x2=E-T+1,X.y2=E-T,X.stroke=O;var ae=new Ra;return ae.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",ae.fill="whitesmoke",ae.stroke="darkslategrey",ae.strokeWidth=1,p.append([X,N,ae]),s.updateColors(r,o),s}return r4(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.chartType="customCombo",t}(Yc),Bm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d6=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},h6=function(l){function t(e,r,o){var s=l.call(this,t.TEMPLATE)||this;return s.wrappers={},s.chartGroups={columnGroup:[y3,Q8,J8],barGroup:[Lm,n6,X7],pieGroup:[Vm,km],lineGroup:[$y],scatterGroup:[r6,o6],areaGroup:[s6,_3,Qy],histogramGroup:[Dl],combinationGroup:[Jy,Z7,u6]},s.chartController=e,s.fills=r,s.strokes=o,s}return Bm(t,l),t.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(o){return o!==u6}));var r=this.getGui();Object.keys(this.chartGroups).forEach(function(o){var s=e.chartGroups[o],h=e.createBean(new w.H1u({title:e.chartTranslationService.translate(o),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));s.forEach(function(p){var y=document.createElement("div");y.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(y,"click",function(){e.chartController.setChartType(p.chartType),e.updateSelectedMiniChart()}),e.wrappers[p.chartType]=y,e.createBean(new p(y,e.fills,e.strokes)),h.addItem(y)}),r.appendChild(h.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers)this.wrappers[r].classList.toggle("ag-selected",r===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',d6([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),d6([w.NqP],t.prototype,"init",null),t}(w.wA2),t5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Wm=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.miniCharts=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return t5(t,l),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",w._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",w._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,l1.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var o=e.miniCharts.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");o&&o.scrollIntoView({block:"nearest"})},250)},t.prototype.resetPalettes=function(e){var r=this,o=this.chartController.getPalettes();w._.shallowCompare(o,this.palettes)&&!e||this.isAnimating||(this.palettes=o,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(s){return s===r.chartController.getChartThemeName()}),this.cardItems=[],w._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(s,h){var p=r.activePaletteIndex===h,E=r.createBean(new h6(r.chartController,s.fills,s.strokes));r.miniCharts.push(E),r.eMiniChartsContainer.appendChild(E.getGui()),r.addCardLink(h),p?E.updateSelectedMiniChart():E.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),w._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var r=this,o=document.createElement("div");o.classList.add("ag-chart-settings-card-item"),this.addManagedListener(o,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(o),this.cardItems.push(o)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var o=this;if(!this.isAnimating&&this.activePaletteIndex!==e){w._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var s=this.miniCharts[this.activePaletteIndex],h=s.getGui(),p=this.miniCharts[e],y=p.getGui();s.updateSelectedMiniChart(),p.updateSelectedMiniChart();var S="left"===r?-1:1,E=y.style.left=w._.getAbsoluteWidth(this.getGui())*S+"px";this.activePaletteIndex=e,this.isAnimating=!0;var T="ag-animating";p.removeCssClass("ag-hidden"),s.addCssClass(T),p.addCssClass(T),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){h.style.left=-parseFloat(E)+"px",y.style.left="0px"},0),window.setTimeout(function(){o.isAnimating=!1,s.removeCssClass(T),p.removeCssClass(T),s.addCssClass("ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){w._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',d1([(0,w.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),d1([(0,w.cqo)("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),d1([(0,w.cqo)("eNavBar")],t.prototype,"eNavBar",void 0),d1([(0,w.cqo)("eCardSelector")],t.prototype,"eCardSelector",void 0),d1([(0,w.cqo)("ePrevBtn")],t.prototype,"ePrevBtn",void 0),d1([(0,w.cqo)("eNextBtn")],t.prototype,"eNextBtn",void 0),d1([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),p6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},w3=function(l){function t(e){var r=l.call(this)||this;r.tabs=[];var s=e.panels,h=e.chartOptionsService;return r.chartController=e.controller,r.chartOptionsService=h,r.panels=s,r}return p6(t,l),t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var o=r.replace("chart","").toLowerCase(),s=e.createTab(r,o,e.getPanelClass(o)),h=s.comp;e.tabs.push(s.tab),e.addDestroyFunc(function(){return e.destroyBean(h)})}),this.tabbedLayout=new w.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,o){var s=document.createElement("div");s.classList.add("ag-chart-tab","ag-chart-"+r);var h=new o(this.chartController,this.chartOptionsService);this.getContext().createBean(h),s.appendChild(h.getGui());var p=document.createElement("div"),y=this.chartTranslationService.translate(r);return p.innerText=y,{comp:h,tab:{title:p,titleLabel:y,bodyPromise:w.j_S.resolve(s),getScrollableContainer:function(){return s.querySelector(".ag-scrollable-container")||s},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),l.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return X0;case t.TAB_FORMAT:return t4;default:return Wm}},t.TAB_DATA="data",t.TAB_FORMAT="format",jm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jm([w.NqP],t.prototype,"init",null),t}(w.wA2),Um=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n5=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},g6=function(l){function t(e,r,o,s){var h=l.call(this,t.TEMPLATE)||this;return h.eChartContainer=e,h.eMenuPanelContainer=r,h.chartController=o,h.chartOptionsService=s,h.buttons={chartSettings:["menu",function(){return h.showMenu("chartSettings")}],chartData:["menu",function(){return h.showMenu("chartData")}],chartFormat:["menu",function(){return h.showMenu("chartFormat")}],chartLink:["linked",function(p){return h.toggleDetached(p)}],chartUnlink:["unlinked",function(p){return h.toggleDetached(p)}],chartDownload:["save",function(){return h.saveChart()}]},h.tabs=[],h.menuVisible=!1,h}return Um(t,l),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,r=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],o=this.gridOptionsWrapper.getChartToolbarItemsFunc();o&&(r=o({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:r}).filter(function(p){return!!e.buttons[p]||(console.warn("AG Grid: '"+p+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(r=r.filter(function(p){return"chartData"!==p}));var h=["chartUnlink","chartLink","chartDownload"];return this.tabs=r.filter(function(p){return-1===h.indexOf(p)}),r.filter(function(p){return-1!==h.indexOf(p)||e.tabs.length&&p===e.tabs[0]})},t.prototype.toggleDetached=function(e){var r=e.target,o=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!o),r.classList.toggle("ag-icon-unlinked",o);var h=this.chartTranslationService.translate(o?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");h&&(r.title=h),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,r=this.getToolbarOptions(),o=this.getGui();r.forEach(function(s){var p=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(e.buttons[s],2),S=p[1],E=w._.createIconNoSpan(p[0],e.gridOptionsWrapper,void 0,!0);E.classList.add("ag-chart-menu-icon");var T=e.chartTranslationService.translate(s+"ToolbarTooltip");T&&(E.title=T),e.addManagedListener(E,"click",S),o.appendChild(E)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var r=this,o=this.gridOptionsWrapper.chartMenuPanelWidth(),s=this.menuPanel=this.createBean(new w.wSp({minWidth:o,width:o,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return s.setParentComponent(this),this.eMenuPanelContainer.appendChild(s.getGui()),this.tabbedMenu=this.createBean(new w3({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(s,w.wA2.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new w.j_S(function(h){window.setTimeout(function(){s.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),r.addManagedListener(r.eChartContainer,"click",function(p){r.getGui().contains(p.target)||r.menuVisible&&r.hideMenu()}),h(s)},100)})},t.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var r=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(r).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',n5([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),n5([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),v6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h1=function(){return h1=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},h1.apply(this,arguments)},Ym=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},r5=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r}return v6(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(r){"Enter"===r.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.refreshTitle=function(e,r){var o=this;this.chartController=e,this.chartOptionsService=r;var s=this.chartController.getChartProxy();if(s){for(var h=0;h++;h<this.destroyableChartListeners.length)this.destroyableChartListeners[h]();this.destroyableChartListeners=[]}var p=s.getChart(),y=p.scene.canvas.element,S=this.addManagedListener(y,"dblclick",function(T){var O=p.title;if(O&&O.node.containsPoint(T.offsetX,T.offsetY)){var R=O.node.computeBBox(),N=O.node.inverseTransformPoint(R.x,R.y);o.startEditing(h1(h1({},R),N))}}),E=this.addManagedListener(y,"mousemove",function(T){var O=p.title,R=O&&O.enabled&&O.node.containsPoint(T.offsetX,T.offsetY);y.style.cursor=R?"pointer":""});this.destroyableChartListeners=[S,E]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var o=this.chartController.getChartProxy().getChart().width,s=Math.max(Math.min(e.width+20,o),300),h=this.getGui();h.classList.add("currently-editing");var p=h.style;p.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),p.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),p.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),p.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",p.color=this.chartOptionsService.getChartOption("title.color");var y=this.chartOptionsService.getChartOption("title.text"),S=y===this.chartTranslationService.translate("titlePlaceholder")?"":y;h.value=S;var E=h.getBoundingClientRect();p.left=Math.round(e.x+e.width/2-s/2)+"px",p.top=Math.round(e.y+e.height/2-E.height/2)+"px",p.width=Math.round(s)+"px",h.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',Ym([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ym([w.NqP],t.prototype,"init",null),t}(w.wA2);function p1(l,t){return!1!==t.clone&&t.isMergeableObject(l)?ua(function Km(l){return Array.isArray(l)?[]:{}}(l),l,t):l}function Q7(l,t,e){return l.concat(t).map(function(r){return p1(r,e)})}function $m(l){return Object.keys(l).concat(function a5(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}(l))}function qm(l,t){try{return t in l}catch(e){return!1}}function y6(l){return function l5(l){return!!l&&"object"==typeof l}(l)&&!function c5(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}(l)}function ua(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||Q7,e.isMergeableObject=e.isMergeableObject||y6,e.cloneUnlessOtherwiseSpecified=p1;var r=Array.isArray(t);return r===Array.isArray(l)?r?e.arrayMerge(l,t,e):function m6(l,t,e){var r={};return e.isMergeableObject(l)&&$m(l).forEach(function(o){r[o]=p1(l[o],e)}),$m(t).forEach(function(o){(function s5(l,t){return qm(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))})(l,o)||(r[o]=qm(l,o)&&e.isMergeableObject(t[o])?function o5(l,t){if(!t.customMerge)return ua;var e=t.customMerge(l);return"function"==typeof e?e:ua}(o,e)(l[o],t[o],e):p1(t[o],e))}),r}(l,t,e):p1(t,e)}var dv=function(){return dv=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},dv.apply(this,arguments)},w6=function(){function l(t){if(this.chartProxyParams=t,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=wu(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore;var e={overrides:this.chartOptions};this.chartTheme=ni(dv({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config)}return l.prototype.recreateChart=function(){var t=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(r){return t.crossFilterCallback(r,!0)})},l.prototype.getChart=function(){return this.chart},l.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),r=this.isStockTheme(e),o=this.chartProxyParams.getGridOptionsChartThemeOverrides(),s=this.chartProxyParams.apiChartThemeOverrides;if(o||s){var h={overrides:l.mergeThemeOverrides(o,s)};return ni(r?dv({baseTheme:e},h):ua(this.lookupCustomChartTheme(e),h))}return ni(r?e:this.lookupCustomChartTheme(e))},l.prototype.isStockTheme=function(t){return w._.includes(Object.keys(_i),t)},l.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return w._.includes(e,t)||(t=e[0]),t},l.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),r},l.mergeThemeOverrides=function(t,e){return t?e?ua(t,e):t:e},l.prototype.downloadChart=function(){var t=this.chart;t.scene.download(t.title?t.title.text:"chart")},l.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},l.prototype.getChartOptions=function(){return this.chartOptions},l.prototype.transformData=function(t,e){return this.chartProxyParams.grouping||this.chart.axes.filter(function(o){return o instanceof qu}).length<1?t:t.map(function(o,s){var h=o[e],p=h&&h.toString?h.toString():"",y=dv({},o);return y[e]={id:s,value:h,toString:function(){return p}},y})},l.prototype.convertConfigToOverrides=function(t){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),o={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(s){var h=ua({},t[s]);h.series=h.series[s],"scatter"===s&&(h.paired=!0),o[s]=h}),o},l.prototype.destroy=function(){this.destroyChart()},l.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},l}(),d5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o4=function(l){function t(e){var r=l.call(this,e)||this;return r.axisTypeToClassMap={number:pc,category:qu,groupedCategory:Qu,time:od},r}return d5(t,l),t.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==Qu&&(this.xAxisType="groupedCategory",this.recreateChart());else{var r=t.isTimeAxis(e)?"time":"category";r!==this.xAxisType&&(this.xAxisType=r,this.recreateChart())}},t.prototype.updateLabelRotation=function(e){var r=this.chart.axes[0].label;if(e===Vh.DEFAULT_CATEGORY)r.rotation=0;else{var o=this.getAxesOptions()[this.xAxisType];r.rotation=o.label.rotation}this.chart.layoutPending=!0},t.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},t.prototype.processDataForCrossFiltering=function(e,r,o){var s=r,h=!1;return this.crossFiltering&&(e.forEach(function(y){y[r+"-total"]=y[r]+y[r+"-filtered-out"],y[r+"-filtered-out"]>0&&(h=!0)}),o.getCrossFilteringContext().lastSelectedChartId===o.chartId&&(s=r+"-total")),{yKey:s,atLeastOneSelectedPoint:h}},t.prototype.updateSeriesForCrossFiltering=function(e,r,o,s,h){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(E){return{fill:E.highlighted?"yellow":E.fill,size:E.highlighted?12:E.datum[r]>0?8:0}},o.tooltip.delay=500;var S=s.getCrossFilteringContext().lastSelectedChartId===s.chartId&&h;e instanceof Kl&&(e.fillOpacity=S?.3:1),e instanceof Xf&&(e.strokeOpacity=S?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var r=e.data[0];return(r&&r[e.category.id])instanceof Date},t}(w6);function f1(l,t){var e=parseInt(l.slice(1,3),16),r=parseInt(l.slice(3,5),16),o=parseInt(l.slice(5,7),16);return t?"rgba("+e+", "+r+", "+o+", "+t+")":"rgba("+e+", "+r+", "+o+")"}function S6(l,t){return l.map(function(e){var r=w.Ilk.fromString(e);return new w.Ilk(r.r,r.g,r.b,t).toHexString()})}var J7=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yd=function(){return yd=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},yd.apply(this,arguments)},p5=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return J7(t,l),t.prototype.createChart=function(){var e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(["bar"===this.standaloneChartType,this.isNormalised()],2),o=e[1];return El.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(e[0],o),series:this.getSeries(o)})},t.prototype.update=function(e){this.updateAxes(e);var r=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(r,e):(r.fills=this.chartTheme.palette.fills,r.strokes=this.chartTheme.palette.strokes),r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(o){return o.colId}),r.yNames=e.fields.map(function(o){return o.displayName}),this.updateLabelRotation(e.category.id)},t.prototype.updateCrossFilteringSeries=function(e,r){var o=r.fields;o.forEach(function(S){var E=yd({},S);E.colId=S.colId+"-filtered-out",o.push(E)});var s=this.chartTheme.palette,h=[];s.fills.forEach(function(S){h.push(S),h.push(f1(S,"0.3"))}),e.fills=h,s.strokes.forEach(function(S){h.push(S),h.push(f1(S,"0.3"))}),e.strokes=[],e.highlightStyle.fill=void 0;var y=r.fields.map(function(S){return S.colId});e.hideInLegend=y.filter(function(S){return-1!==S.indexOf("-filtered-out")}),this.chart.legend.addEventListener("click",function(S){e.toggleSeriesItem(S.itemId+"-filtered-out",S.enabled)}),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},t.prototype.getAxes=function(e,r){var o=this.getAxesOptions(),s=[yd(yd({},ua(o[this.xAxisType],o[this.xAxisType].bottom)),{type:this.xAxisType,position:e?Qn.Left:Qn.Bottom}),yd(yd({},ua(o[this.yAxisType],o[this.yAxisType].left)),{type:this.yAxisType,position:e?Qn.Bottom:Qn.Left})];if(r){var h=s[1];h.label=yd(yd({},h.label),{formatter:function(p){return Math.round(p.value)+"%"}})}return s},t.prototype.getSeries=function(e){var o=!this.crossFiltering&&w._.includes(["groupedColumn","groupedBar"],this.chartType);return[yd(yd({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:o,normalizedTo:e?100:void 0})]},t.prototype.isNormalised=function(){return!this.crossFiltering&&w._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(o4),eC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$l=function(){return $l=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},$l.apply(this,arguments)},tC=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return eC(t,l),t.prototype.createChart=function(){return El.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){if(this.updateAxes(e),"area"===this.chartType)this.updateAreaChart(e);else{var r=this.chart.series[0];if(!r){var o=$l($l({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===this.chartType?100:void 0});if(!(r=El.createComponent($l({},o),"area.series")))return;this.chart.addSeries(r)}r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(s){return s.colId}),r.yNames=e.fields.map(function(s){return s.displayName}),r.fills=this.chartTheme.palette.fills,r.strokes=this.chartTheme.palette.strokes}this.updateLabelRotation(e.category.id)},t.prototype.updateAreaChart=function(e){var r=this,o=this.chart;if(0!==e.fields.length){var y,s=e.fields.map(function(O){return O.colId}),h=o.series.reduceRight(function(O,R,N){var X=R.yKeys[0];return s.indexOf(X)===N?O.set(X,R):o.removeSeries(R),O},new Map),p=this.transformData(e.data,e.category.id),S=this.chartTheme.palette,E=S.fills,T=S.strokes;e.fields.forEach(function(O,R){var N=r.processDataForCrossFiltering(p,O.colId,e),X=N.yKey,ae=N.atLeastOneSelectedPoint,le=h.get(O.colId),de=E[R%E.length],he=T[R%T.length];if(le)le.data=p,le.xKey=e.category.id,le.xName=e.category.name,le.yKeys=[X],le.yNames=[O.displayName],le.fills=[de],le.strokes=[he];else{var st=$l($l({},r.chartOptions[r.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===r.chartType?100:void 0}),rt=$l($l({},st),{data:p,xKey:e.category.id,xName:e.category.name,yKeys:[X],yNames:[O.displayName],fills:[de],strokes:[he],marker:$l($l({},st.marker),{fill:de,stroke:he})});le=El.createComponent(rt,"area.series"),o.addSeriesAfter(le,y)}r.updateSeriesForCrossFiltering(le,O.colId,o,e,ae),y=le})}else o.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions(),r=[$l($l({},ua(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Qn.Bottom,paddingInner:1,paddingOuter:0}),$l($l({},ua(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Qn.Left})];return"time"===this.xAxisType&&(delete r[0].paddingInner,delete r[0].paddingOuter),r},t}(o4),S3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wh=function(){return wh=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},wh.apply(this,arguments)},b6=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return S3(t,l),t.prototype.createChart=function(){return El.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var r=this;if(0!==e.fields.length){this.updateAxes(e);var S,o=this.chart,s=e.fields,h=s.map(function(R){return R.colId}),p=this.transformData(e.data,e.category.id),y=o.series.reduceRight(function(R,N,X){var ae=N.yKey;return h.indexOf(ae)===X?R.set(ae,N):o.removeSeries(N),R},new Map),E=this.chartTheme.palette,T=E.fills,O=E.strokes;s.forEach(function(R,N){var X=r.processDataForCrossFiltering(p,R.colId,e),ae=X.yKey,le=X.atLeastOneSelectedPoint,de=y.get(R.colId),he=T[N%T.length],Ue=O[N%O.length];if(de)de.title=R.displayName,de.data=p,de.xKey=e.category.id,de.xName=e.category.name,de.yKey=ae,de.yName=R.displayName,de.marker.fill=he,de.marker.stroke=Ue,de.stroke=he;else{var st=r.chartOptions[r.standaloneChartType].series,rt=wh(wh({},st),{type:"line",title:R.displayName,data:p,xKey:e.category.id,xName:e.category.name,yKey:ae,yName:R.displayName,stroke:he,marker:wh(wh({},st.marker),{fill:he,stroke:Ue})});de=El.createComponent(rt,"line.series"),o.addSeriesAfter(de,S)}r.updateSeriesForCrossFiltering(de,R.colId,o,e,le),S=de}),this.updateLabelRotation(e.category.id)}else this.chart.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[wh(wh({},ua(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Qn.Bottom}),wh(wh({},ua(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Qn.Left})]},t}(o4),Zm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qm=function(l){function t(e){return l.call(this,e)||this}return Zm(t,l),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(r){return{content:r.datum[r.labelKey]+": "+r.angleValue*r.datum[r.radiusKey]}}},t}(w6),E6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b3=function(){return b3=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},b3.apply(this,arguments)},Jm=function(l){function t(e){var r=l.call(this,e)||this;return r.recreateChart(),r}return E6(t,l),t.prototype.createChart=function(){return El.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=this.chart;if(0!==e.fields.length){var o=e.fields[0],s=o;if(this.crossFiltering){var h=e.fields;h.forEach(function(O){var R=b3({},O);R.colId=O.colId+"-filtered-out",h.push(R)});var p=h[1];e.data.forEach(function(O){O[o.colId+"-total"]=O[o.colId]+O[p.colId],O[o.colId]=O[o.colId]/O[o.colId+"-total"],O[p.colId]=1});var y=r.series[1],S=p;y=this.updateSeries(r,y,s,S,e,void 0),this.updateSeries(r,r.series[0],s,S=s,e,y)}else this.updateSeries(r,r.series[0],s,s,e,void 0)}else r.removeAllSeries()},t.prototype.updateSeries=function(e,r,o,s,h,p){var S=this.chartOptions[this.standaloneChartType].series,E=r;if((r&&r.angleKey)!==s.colId){e.removeSeries(r);var T=b3(b3({},S),{type:"pie",angleKey:this.crossFiltering?o.colId+"-total":o.colId,radiusKey:this.crossFiltering?s.colId:void 0});(E=El.createComponent(T,"pie.series")).fills=this.chartTheme.palette.fills,E.strokes=this.chartTheme.palette.strokes,E.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&E&&!E.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(E)}return E.angleName=s.displayName,E.labelKey=h.category.id,E.labelName=h.category.name,E.data=h.data,this.crossFiltering&&(E.radiusMin=0,E.radiusMax=1,p?e.legend.addEventListener("click",function(R){p&&p.toggleSeriesItem(R.itemId,R.enabled)}):(E.fills=S6(E.fills,.3),E.strokes=S6(E.strokes,.3),E.callout.colors=S6(E.strokes,.3),E.showInLegend=!1),e.tooltip.delay=500,E.highlightStyle.fill=void 0,E.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(E),E},t}(Qm),D6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kp=function(){return kp=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},kp.apply(this,arguments)},O6=function(l){function t(e){var r=l.call(this,e)||this;return r.recreateChart(),r}return D6(t,l),t.prototype.createChart=function(){return El.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=this;if(0!==e.fields.length){var o=this.chart,s=e.fields.map(function(O){return O.colId}),h={};o.series.forEach(function(O){var R=O,N=R.angleKey;w._.includes(s,N)&&(h[N]=R)});var p=this.chartTheme.palette.fills,y=this.chartTheme.palette.strokes,S=this.chartOptions[this.standaloneChartType].series,E=e.fields.length,T=0;e.fields.forEach(this.crossFiltering?function(O,R){var N=kp({},O);N.colId=O.colId+"-filtered-out",e.data.forEach(function(de){de[O.colId+"-total"]=de[O.colId]+de[N.colId],de[O.colId]=de[O.colId]/de[O.colId+"-total"],de[N.colId]=1});var X=r.updateSeries({seriesMap:h,angleField:O,field:N,seriesDefaults:S,index:R,params:e,fills:p,strokes:y,doughnutChart:o,offset:T,numFields:E,opaqueSeries:void 0}),ae=X.updatedOffset;r.updateSeries({seriesMap:h,angleField:O,field:O,seriesDefaults:S,index:R,params:e,fills:p,strokes:y,doughnutChart:o,offset:T,numFields:E,opaqueSeries:X.pieSeries}),T=ae}:function(O,R){var N=r.updateSeries({seriesMap:h,angleField:O,field:O,seriesDefaults:S,index:R,params:e,fills:p,strokes:y,doughnutChart:o,offset:T,numFields:E,opaqueSeries:void 0}).updatedOffset;T=N}),o.series=w._.values(h)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var r=e.seriesMap[e.field.colId],o=kp(kp({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:kp(kp({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),s=r||El.createComponent(o,"pie.series");s.title&&(s.title.showInLegend=e.numFields>1),r||this.crossFiltering&&!s.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(s),s.angleName=e.field.displayName,s.labelKey=e.params.category.id,s.labelName=e.params.category.name,s.data=e.params.data,this.crossFiltering?(s.radiusMin=0,s.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(y){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(y.itemId,y.enabled)}),s.fills=e.fills,s.strokes=e.strokes,s.callout.colors=e.strokes):(s.fills=e.fills.map(function(y){return f1(y,"0.3")}),s.strokes=e.strokes.map(function(y){return f1(y,"0.3")}),s.showInLegend=!1),s.highlightStyle.fill=void 0,s.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(s.fills=e.fills,s.strokes=e.strokes,s.callout.colors=e.strokes);var p=e.numFields>1?20:40;return s.outerRadiusOffset=e.offset,e.offset-=p,s.innerRadiusOffset=e.offset,e.offset-=p,r||(e.seriesMap[e.field.colId]=s),{updatedOffset:e.offset,pieSeries:s}},t}(Qm),nC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cd=function(){return Cd=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Cd.apply(this,arguments)},f5=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},E3=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(f5(arguments[t]));return l},g5=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return nC(t,l),t.prototype.createChart=function(){return El.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var r=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var o=e.fields;this.crossFiltering&&o.forEach(function(de){var he=Cd({},de);he.colId=de.colId+"-filtered-out",o.push(he)});var p,h=this.getSeriesDefinitions(o,this.chartOptions[this.standaloneChartType].paired);this.crossFiltering&&(p=this.getCrossFilteringDataDomain(h,e));var y=this.chart,S=y.series.reduceRight(function(de,he,Ue){return h.findIndex(function(rt){return rt.xField.colId===he.xKey&&rt.yField.colId===he.yKey&&(!rt.sizeField&&!he.sizeKey||rt.sizeField&&rt.sizeField.colId===he.sizeKey)})===Ue?de.set(he.yKey,he):y.removeSeries(he),de},new Map),E=this.chartTheme.palette,T=E.fills,O=E.strokes;if(this.crossFiltering){var R=[];T.forEach(function(de){R.push(de),R.push(f1(de,"0.3"))}),T=R;var N=[];O.forEach(function(de){N.push(de),N.push(f1(de,"0.3"))}),O=N}var ae,X=e.category.id===Vh.DEFAULT_CATEGORY?void 0:e.category,le=this.chartOptions[this.standaloneChartType].series;h.forEach(function(de,he){var Ue=S.get(de.yField.colId),st=Ue||El.createComponent(Cd(Cd({},le),{type:"scatter"}),"scatter.series");if(st){var Pt=de.xField,Rt=de.yField,Gt=de.sizeField;st.title=Rt.displayName+" vs "+Pt.displayName,st.xKey=Pt.colId,st.xName=Pt.displayName,st.yKey=Rt.colId,st.yName=Rt.displayName,st.data=e.data,st.fill=T[he%T.length],st.stroke=O[he%O.length],Gt?(st.sizeKey=Gt.colId,st.sizeName=Gt.displayName):st.sizeKey=void 0,X?(st.labelKey=X.id,st.labelName=X.name):st.labelKey=st.yKey;var Zt=Rt.colId.indexOf("-filtered-out")>-1;r.crossFiltering&&(Zt||y.legend.addEventListener("click",function(Rn){st.toggleSeriesItem(Rn.itemId+"-filtered-out",Rn.enabled)}),p&&(st.marker.domain=p),y.tooltip.delay=500,Zt&&(st.showInLegend=!1),st.addEventListener("nodeClick",r.crossFilterCallback)),Ue||y.addSeriesAfter(st,ae),ae=st}})}},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var o="bubble"===this.chartType;if(r)return o?e.map(function(h,p){return p%3==0?{xField:h,yField:e[p+1],sizeField:e[p+2]}:null}).filter(function(h){return h&&h.yField&&h.sizeField}):e.map(function(h,p){return p%2==0?{xField:h,yField:e[p+1]}:null}).filter(function(h){return h&&h.yField});var s=e[0];return o?e.map(function(h,p){return p%2==1?{xField:s,yField:h,sizeField:e[p+1]}:null}).filter(function(h){return h&&h.sizeField}):e.filter(function(h,p){return p>0}).map(function(h){return{xField:s,yField:h}})},t.prototype.getCrossFilteringDataDomain=function(e,r){var o;if(e[0]&&e[0].sizeField){var s=e[0].sizeField.colId,h=[];r.data.forEach(function(p){void 0!==p[s]&&h.push(p[s]),void 0!==p[s+"-filtered-out"]&&h.push(p[s+"-filtered-out"])}),h.length>0&&(o=[Math.min.apply(Math,E3(h)),Math.max.apply(Math,E3(h))])}return o},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[Cd(Cd({},ua(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Qn.Bottom}),Cd(Cd({},ua(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Qn.Left})]},t}(o4),rC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g1=function(){return g1=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},g1.apply(this,arguments)},v5=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return rC(t,l),t.prototype.createChart=function(){return El.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[g1(g1({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},t.prototype.update=function(e){var r=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(e.fields,1),o=r[0],h=this.chart.series[0];h.data=e.data,h.xKey=o.colId,h.xName=o.displayName,h.areaPlot=!1,h.fill=this.chartTheme.palette.fills[0],h.stroke=this.chartTheme.palette.strokes[0]},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[g1(g1({},ua(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Qn.Bottom}),g1(g1({},ua(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Qn.Left})]},t}(o4),m5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T6=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},oC=function(l){function t(e){var r=l.call(this)||this;return r.chartController=e,r}return m5(t,l),t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChartOption=function(e){return w._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r){var o=this;this.chartController.getChartSeriesTypes().forEach(function(s){var h=w._.get(o.getChartOptions(),""+s,void 0);w._.set(h,e,r)}),w._.set(this.getChart(),e,r),this.raiseChartOptionsChangedEvent()},t.prototype.getAxisProperty=function(e){return w._.get(this.getChart().axes[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){var o=this,s=this.getChart();s.axes.forEach(function(h){o.updateAxisOptions(h,e,r),w._.set(h,e,r)}),s.layoutPending=!0,this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return w._.get(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var o="label.rotation",s=this.getAxis(e);w._.set(s,o,r),this.getChart().layoutPending=!0,s&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(s,o,r),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(e,r){var o=this.getChart().series.find(function(s){return t.isMatchingSeries(r,s)});return w._.get(o,e,void 0)},t.prototype.setSeriesOption=function(e,r,o){var s=this.getChartOptions();s[o]||(s[o]={}),w._.set(s[o].series,e,r),this.getChart().series.forEach(function(h){t.isMatchingSeries(o,h)&&w._.set(h,e,r)}),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){var e=wu(this.getChartType());return w._.get(this.getChartOptions(),e+".paired",void 0)},t.prototype.setPairedMode=function(e){var r=wu(this.getChartType()),o=w._.get(this.getChartOptions(),""+r,void 0);w._.set(o,"paired",e)},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},t.prototype.getAxis=function(e){var r=this.getChart();if(r.axes&&!(r.axes.length<1))return"xAxis"===e?r.axes&&"x"===r.axes[0].direction?r.axes[0]:r.axes[1]:r.axes&&"y"===r.axes[1].direction?r.axes[1]:r.axes[0]},t.prototype.updateAxisOptions=function(e,r,o){var s=wu(this.getChartType()),h=this.getChartOptions()[s].axes;e instanceof pc?w._.set(h.number,r,o):e instanceof qu?w._.set(h.category,r,o):e instanceof od?w._.set(h.time,r,o):e instanceof Qu&&w._.set(h.groupedCategory,r,o)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r=Object.freeze({type:w.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){return"area"===e&&r instanceof Kl||"bar"===e&&r instanceof pd||"column"===e&&r instanceof pd||"histogram"===e&&r instanceof P0||"line"===e&&r instanceof Xf||"pie"===e&&r instanceof ph||"scatter"===e&&r instanceof fd},t.prototype.destroy=function(){l.prototype.destroy.call(this)},T6([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),T6([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(w.AS9),y5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ol=function(){return Ol=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Ol.apply(this,arguments)},C5=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return y5(t,l),t.prototype.createChart=function(){return El.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var s={data:this.transformData(e.data,e.category.id)};this.seriesChanged(e)&&(s.series=this.getSeriesOptions(e),s.axes=this.getAxes(e)),El.update(this.chart,s),this.updateLabelRotation(e.category.id)},t.prototype.seriesChanged=function(e){var r=e.seriesChartTypes,o=!w._.areEqual(this.prevSeriesChartTypes,r,function(S,E){return S.colId===E.colId&&S.chartType===E.chartType&&S.secondaryAxis===E.secondaryAxis});this.prevSeriesChartTypes=r.map(function(S){return Ol({},S)});var s=e.fields.map(function(S){return S.colId}).join(),h=this.prevFields!==s;this.prevFields=s;var p=e.category.id,y=this.prevCategoryId!==p;return this.prevCategoryId=p,o||h||y},t.prototype.getSeriesOptions=function(e){var r=this,s=e.category,h=e.seriesChartTypes;return e.fields.map(function(p){var y=h.find(function(E){return E.colId===p.colId});if(y){var S=y.chartType;return Ol(Ol({},r.extractSeriesOverrides(y)),{type:wu(S),xKey:s.id,yKey:p.colId,yName:p.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(S),stacked:["stackedArea","stackedColumn"].includes(S)})}})},t.prototype.getAxes=function(e){var r=this;this.xAxisType=e.grouping?"groupedCategory":"category";var o=e?e.fields:[],s=new Map(o.map(function(N){return[N.colId,N]})),h=this.getYKeys(o,e.seriesChartTypes),p=h.primaryYKeys,y=h.secondaryYKeys,S=this.getAxisOptions(),T=S.leftOptions,O=S.rightOptions,R=[Ol(Ol({},S.bottomOptions),{type:this.xAxisType,position:Qn.Bottom,gridStyle:[{strokeWidth:0}]})];return p.length>0&&R.push(Ol(Ol({},T),{type:this.yAxisType,keys:p,position:Qn.Left,title:Ol({},ua(T.title,{enabled:!0,text:p.map(function(N){var X=s.get(N);return X?X.displayName:N}).join(" / ")}))})),y.length>0&&y.forEach(function(N,X){var ae=s.get(N);if(ae&&ae.colId===N){var de=Ol(Ol({},O),{type:r.yAxisType,keys:[N],position:Qn.Right,title:Ol({},ua(O.title,{enabled:!0,text:ae?ae.displayName:N}))});!p.some(function(st){return!!s.get(st)})&&X===y.length-1||(de.gridStyle=[{strokeWidth:0}]),R.push(de)}}),R},t.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:ua(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:ua(e[this.yAxisType],e[this.yAxisType].left),rightOptions:ua(e[this.yAxisType],e[this.yAxisType].right)}},t.prototype.getYKeys=function(e,r){var o=[],s=[];return e.forEach(function(h){var p=h.colId,y=r.find(function(S){return S.colId===p});y&&(y.secondaryAxis?s.push(p):o.push(p))}),{primaryYKeys:o,secondaryYKeys:s}},t.prototype.extractSeriesOverrides=function(e){var r=this.chartOptions[wu(e.chartType)].series;return delete r.yKeys,delete r.yNames,r},t}(o4),bu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ec=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},D3=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.params=e,r}return bu(t,l),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var r=this.params.chartThemeName;w._.includes(e,r)||(r=e[0]);var o={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:r,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},s=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(s?"ag-rtl":"ag-ltr");var h=this.createBean(new Vh(o));this.chartController=this.createManagedBean(new l1(h)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,l1.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,g6.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),r=this.gridOptionsWrapper.getCustomChartThemes();r&&w._.getAllKeysInObjects([r]).forEach(function(o){w._.includes(e,o)||console.warn("AG Grid: a custom chart theme with the name '"+o+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var o=this.chartController.getChartType(),s={chartType:o,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(p,y){e.params.crossFilteringContext.lastSelectedChartId=y?"":e.chartController.getChartId(),e.crossFilterService.filter(p,y)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(s),this.chartProxy){var h=this.eChart.querySelector("canvas");h&&h.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new oC(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",s.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new p5(e);case"pie":return new Jm(e);case"doughnut":return new O6(e);case"area":case"stackedArea":case"normalizedArea":return new tC(e);case"line":return new b6(e);case"scatter":case"bubble":return new g5(e);case"histogram":return new v5(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new C5(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),o=this.getBestDialogSize();this.chartDialog=new w.$zI({resizable:!0,movable:!0,maximizable:!0,title:r,width:o.width,height:o.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(w.$zI.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=.75*w._.getAbsoluteWidth(e),o=.75*w._.getAbsoluteHeight(e),h=this.chartProxy.getChart(),p=this.params.insideDialog?850:h.width,y=this.params.insideDialog?470:h.height;return(p>r||y>o)&&(p=Math.min(p,r),(y=Math.round(.553*p))>o&&(y=o,p=Math.min(p,Math.round(y/.553)))),{width:p,height:y}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new g6(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new r5(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,r=this.chartProxy,s=this.chartController.getSelectedValueColState().map(function(E){return{colId:E.colId,displayName:E.displayName}}),h=this.chartController.getChartData();if(!this.handleEmptyChart(h,s)){var y=this.chartController.getSelectedDimension(),S={data:h,grouping:this.chartController.isGrouping(),category:{id:y.colId,name:y.displayName,chartDataType:this.getChartDataType(y.colId)},fields:s,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext},seriesChartTypes:this.chartController.getSeriesChartTypes()};r.update(S),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.getChartDataType=function(e){var r=this.columnModel.getPrimaryColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,r){var o=this.chartProxy.getChart().container,s=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),h=1;this.chartController.isActiveXYChart()&&(h="bubble"===this.chartController.getChartType()?3:2);var p=r.length<h||0===e.length;if(o){var y=s||p;w._.setDisplayed(this.eChart,!y),w._.setDisplayed(this.eEmpty,y)}return s?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!p&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var r=this.chartProxy.getChart();r.height=w._.getInnerHeight(e),r.width=w._.getInnerWidth(e)}}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:w.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:w.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();w._.clearElement(e),w._.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Ec([(0,w.cqo)("eChart")],t.prototype,"eChart",void 0),Ec([(0,w.cqo)("eChartContainer")],t.prototype,"eChartContainer",void 0),Ec([(0,w.cqo)("eMenuContainer")],t.prototype,"eMenuContainer",void 0),Ec([(0,w.cqo)("eEmpty")],t.prototype,"eEmpty",void 0),Ec([(0,w.cqo)("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),Ec([(0,w.fsG)("environment")],t.prototype,"environment",void 0),Ec([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ec([(0,w.fsG)("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),Ec([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ec([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Ec([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Ec([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),Ec([w.NqP],t.prototype,"init",null),t}(w.wA2);var M6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a4=function(){return a4=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},a4.apply(this,arguments)},s4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},P6=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return M6(t,l),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(o){return e.push(function(o){return a4(a4({},o),{version:"27.1.0"})}(o.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(o){o.chartId===e&&(r=o)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(o){o.getChartId()===e.chartId&&(r=o.getChartImageDataURL(e.fileFormat))}),r},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var o=this;if(e){"27.1.0"!==e.version&&(e=function _5(l){return null==l.version&&(l.version="27.1.0"),function e8(l){if(!/^([:digits:]{1,2}\.){2}[:digits:]{1}$/.test(l))throw new Error("AG Grid - Illegal version string: "+l);l.split(".").map(function(e){return Number(e)})}(l.version),l}(e));var s={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},h=function(T){return o.rangeService?o.rangeService.createCellRangeFromCellRangeParams(T):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var S=h({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(T){return T.getColId()})});return S?this.createChart(S,s.chartType,s.chartThemeName,!0,!0,s.chartContainer,void 0,void 0,s.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var E=h(s.cellRange);if(E)return this.createChart(E,s.chartType,s.chartThemeName,!1,s.suppressChartRanges,s.chartContainer,s.aggFunc,void 0,s.unlinkChart,!1,e.chartOptions,s.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var r={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(s){return s.getColId()})},o=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(o)return this.createChart(o,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,r,o,s,h,p,y,S,E,T,O,R){var N=this;void 0===s&&(s=!1),void 0===h&&(h=!1),void 0===E&&(E=!1),void 0===T&&(T=!1);var X=this.gridOptionsWrapper.getCreateChartContainerFunc(),ae={chartId:this.generateId(),pivotChart:s,cellRange:e,chartType:r,chartThemeName:o,insideDialog:!(p||X),suppressChartRanges:h,aggFunc:y,chartThemeOverrides:S,unlinkChart:E,crossFiltering:T,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:O,seriesChartTypes:R},le=new D3(ae);this.context.createBean(le);var de=this.createChartRef(le);if(p){p.appendChild(le.getGui());var he=this.environment.getTheme();he.el&&!he.el.contains(p)&&p.classList.add(he.theme)}else X?X(de):le.addEventListener(D3.EVENT_DESTROYED,function(){N.activeChartComps.delete(le),N.activeCharts.delete(de)});return de},t.prototype.createChartRef=function(e){var r=this,o={destroyChart:function(){r.activeCharts.has(o)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(o))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(o),this.activeChartComps.add(e),o},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},s4([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),s4([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),s4([(0,w.fsG)("environment")],t.prototype,"environment",void 0),s4([w.FXL],t.prototype,"destroyAllActiveCharts",null),s4([(0,w.Vu6)("chartService")],t)}(w.AS9),A6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S5=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return A6(t,l),e=t,t.prototype.translate=function(r,o){return this.gridOptionsWrapper.getLocaleTextFunc()(r,e.DEFAULT_TRANSLATIONS[r]||o)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(0,w.Vu6)("chartTranslationService")],t),t}(w.AS9),t8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},b5=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return t8(t,l),e=t,t.prototype.filter=function(r,o){void 0===o&&(o=!1);var s=this.gridApi.getFilterModel();if(o)this.resetFilters(s);else{var h=e.extractFilterColId(r);this.isValidColumnFilter(h)?this.updateFilters(s,r):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+h+"'")}},t.prototype.resetFilters=function(r){Object.keys(r).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,o){var s,h=e.extractFilterColId(o),p=o.datum[h];if(void 0!==p){var y=p.toString(),S=h.replace("-filtered-out","");if(o.event.metaKey||o.event.ctrlKey){var E=this.getCurrentGridValuesForCategory(S),O=void 0;w._.includes(E,y)?O=E.filter(function(R){return R!==y}):(O=E).push(y),r[S]=this.getUpdatedFilterModel(S,O)}else(s={})[S]=this.getUpdatedFilterModel(S,O=[y]),r=s;this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,o){return"agMultiColumnFilter"===this.getColumnFilterType(r)?{filterType:"multi",filterModels:[null,{filterType:"set",values:o}]}:{filterType:"set",values:o}},t.prototype.getCurrentGridValuesForCategory=function(r){var o=[],s=w._.includes;return this.gridApi.forEachNodeAfterFilter(function(h){if(!h.group){var p=h.data[r]+"";s(o,p)||o.push(p)}}),o},t.extractFilterColId=function(r){return r.xKey?r.xKey:r.labelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var o=this.getColumnFilterType(r);return"boolean"==typeof o?o:w._.includes(["agSetColumnFilter","agMultiColumnFilter"],o)},t.prototype.getColumnFilterType=function(r){var o=this.columnModel.getGridColumn(r);if(o){var s=o.getColDef();return null!=s.filter?s.filter:s.filterFramework}},Dc([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Dc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),e=Dc([(0,w.Vu6)("chartCrossFilterService")],t)}(w.AS9),aC={moduleName:w.GXE.GridChartsModule,beans:[P6,S5,b5],dependantModules:[Ac,$t]},zp=function(){function l(t,e,r,o){this.x=t,this.y=e,this.width=r,this.height=o}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(t,e){void 0===e&&(e=l.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},l.noParams={},l}(),l4=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},c4=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},l.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),l.prototype.AxB=function(t,e,r){var o=l4(t,6),s=o[0],h=o[1],p=o[2],y=o[3],S=o[4],E=o[5],T=l4(e,6),O=T[0],R=T[1],N=T[2],X=T[3],ae=T[4],le=T[5];(r=r||t)[0]=s*O+p*R,r[1]=h*O+y*R,r[2]=s*N+p*X,r[3]=h*N+y*X,r[4]=s*ae+p*le+S,r[5]=h*ae+y*le+E},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=l4(this.elements,6),e=t[0],r=t[1],o=t[2],s=t[3],h=t[4],p=t[5],y=1/(e*s-r*o);return new l([s*=y,-(r*=y),-(o*=y),e*=y,o*p-s*h,r*h-e*p])},l.prototype.inverseTo=function(t){var e=l4(this.elements,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return t.setElements([h*=S,-(o*=S),-(s*=S),r*=S,s*y-h*p,o*p-r*y]),this},l.prototype.invertSelf=function(){var t=this.elements,e=l4(t,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return r*=S,o*=S,s*=S,t[0]=h*=S,t[1]=-o,t[2]=-s,t[3]=r,t[4]=s*y-h*p,t[5]=o*p-r*y,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},l.prototype.transformBBox=function(t,e,r){void 0===e&&(e=0);var R,N,o=this.elements,s=o[0],h=o[1],p=o[2],y=o[3],S=.5*t.width,E=.5*t.height,T=t.x+S,O=t.y+E;if(e){S-=e,E-=e;var X=Math.sqrt(s*s+p*p),ae=Math.sqrt(h*h+y*y);R=Math.abs(S*s)+Math.abs(E*p)+Math.abs(X*e),N=Math.abs(S*h)+Math.abs(E*y)+Math.abs(ae*e)}else R=Math.abs(S*s)+Math.abs(E*p),N=Math.abs(S*h)+Math.abs(E*y);return r||(r=new zp(0,0,0,0)),r.x=T*s+O*p+o[4]-R,r.y=T*h+O*y+o[5]-N,r.width=R+R,r.height=N+N,r},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return t?l.matrix.setElements(t instanceof l?t.elements:t):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function O3(l){var t=l.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var u4=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(u4||(u4={})),u4))(),Sh=function(){function l(){this.id=O3(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new c4,this.inverseMatrix=new c4,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=u4.All}return l.isNode=function(t){return!!t&&void 0!==t.matrix},l.prototype._setScene=function(t){this._scene=t;for(var e=this.children,r=e.length,o=0;o<r;o++)e[o]._setScene(t)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(t){this._parent=t},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(t){if(void 0===t&&(t=l.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,r=e.length,o=r,s=0;s<r;s++)o+=e[s].countChildren(t-1);return o},l.prototype.append=function(t){l.isNode(t)&&(t=[t]);for(var e=t.length,r=0;r<e;r++){var o=t[r];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},l.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(t,e){var r=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+r+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,r=e.indexOf(this);if(r>=0&&r<=e.length-1)return e[r+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(t,e){for(var r=c4.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.invertSelf().transformPoint(t,e)},l.prototype.inverseTransformPoint=function(t,e){for(var r=c4.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.transformPoint(t,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(t,e){return!1},l.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==u4.None&&this.containsPoint(t,e)){var r=this.children;if(r.length)for(var o=r.length-1;o>=0;o--){var s=r[o].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var h,p,t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([0,0],2),e=t[0],r=t[1],o=this.scalingX,s=this.scalingY;1===o&&1===s?(h=0,p=0):(h=null===this.scalingCenterX?e:this.scalingCenterX,p=null===this.scalingCenterY?r:this.scalingCenterY);var T,O,y=this.rotation,S=Math.cos(y),E=Math.sin(y);0===y?(T=0,O=0):(T=null===this.rotationCenterX?e:this.rotationCenterX,O=null===this.rotationCenterY?r:this.rotationCenterY);var R=this.translationX,N=this.translationY,X=h*(1-o)-T,ae=p*(1-s)-O;this.dirtyTransform=!1,this.matrix.setElements([S*o,E*o,-E*s,S*s,S*X-E*ae+T+R,E*X+S*ae+O+N]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}(),R6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vp=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return R6(t,l),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,o=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(h){if(h.visible){var p=h.computeBBox();if(p){if(!(h instanceof t)){h.dirtyTransform&&h.computeTransformMatrix();for(var y=c4.flyweight(h.matrix),S=h.parent;S;)y.preMultiplySelf(S.matrix),S=S.parent;y.transformBBox(p,0,p)}var E=p.x,T=p.y;E<e&&(e=E),T<o&&(o=T),E+p.width>r&&(r=E+p.width),T+p.height>s&&(s=T+p.height)}}}),new zp(e,o,r-e,s-o)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.children,o=r.length;e.globalAlpha*=this.opacity;for(var s=0;s<o;s++){var h=r[s];h.visible&&(e.save(),h.render(e),e.restore())}},t.className="Group",t}(Sh);function T3(l,t){var e=Object.create(l);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var F6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return F6(t,l),t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),o=0,s=r.length;o<s;o++){var h=r[o];this[h]=e[h]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var o in e)e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(this[o]=e[o])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,r,o){return null!=o?Math.floor(o)+Math.floor(r%1+o%1):Math.floor(r)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var r=this._lineDash;if(r!==e){if(r&&e&&r.length===e.length){for(var o=!0,s=e.length,h=0;h<s;h++)if(r[h]!==e[h]){o=!1;break}if(o)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var r=this._fillShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var r=this._strokeShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var r=this.scene.canvas.pixelRatio||1,o=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=o*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*r,e.shadowOffsetY=s.yOffset*r,e.shadowBlur=s.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=o*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var h=this.strokeShadow;h&&h.enabled&&(e.shadowColor=h.color,e.shadowOffsetX=h.xOffset*r,e.shadowOffsetY=h.yOffset*r,e.shadowBlur=h.blur*r),e.stroke()}}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=T3({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Sh),x3=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function M3(l,t,e,r,o,s,h,p){var y=(e-l)*(p-s)-(r-t)*(h-o);if(0===y)return null;var S=((h-o)*(t-s)-(l-o)*(p-s))/y,E=((e-l)*(t-s)-(r-t)*(l-o))/y;return S>=0&&S<=1&&E>=0&&E<=1?{x:l+S*(e-l),y:t+S*(r-t)}:null}function O5(l,t,e,r,o,s,h,p,y,S,E,T){for(var O=[],R=S-T,N=E-y,X=y*(T-S)-S*(E-y),ae=N6(l,e,o,h),le=N6(t,r,s,p),rt=function I6(l,t,e,r){if(0===l)return function D5(l,t,e){if(0===l)return function L6(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}(t,e);var r=t*t-4*l*e,o=[];if(0===r){var s=-t/(2*l);s>=0&&s<=1&&o.push(s)}else if(r>0){var h=Math.sqrt(r),p=(-t-h)/(2*l),y=(-t+h)/(2*l);p>=0&&p<=1&&o.push(p),y>=0&&y<=1&&o.push(y)}return o}(t,e,r);var o=t/l,s=e/l,p=(3*s-o*o)/9,y=(9*o*s-r/l*27-2*o*o*o)/54,S=p*p*p+y*y,E=1/3,T=[];if(S>=0){var O=Math.sqrt(S),R=x3(y+O)*Math.pow(Math.abs(y+O),E),N=x3(y-O)*Math.pow(Math.abs(y-O),E),X=Math.abs(Math.sqrt(3)*(R-N)/2),ae=-E*o+(R+N);if(ae>=0&&ae<=1&&T.push(ae),0===X){var le=-E*o-(R+N)/2;le>=0&&le<=1&&T.push(le)}}else{var de=Math.acos(y/Math.sqrt(-p*p*p)),he=E*o,Ue=2*Math.sqrt(-p),st=Ue*Math.cos(E*de)-he,rt=Ue*Math.cos(E*(de+2*Math.PI))-he,Pt=Ue*Math.cos(E*(de+4*Math.PI))-he;st>=0&&st<=1&&T.push(st),rt>=0&&rt<=1&&T.push(rt),Pt>=0&&Pt<=1&&T.push(Pt)}return T}(R*ae[0]+N*le[0],R*ae[1]+N*le[1],R*ae[2]+N*le[2],R*ae[3]+N*le[3]+X),Pt=0;Pt<rt.length;Pt++){var rn,Rt=rt[Pt],Gt=Rt*Rt,Zt=Rt*Gt,Rn=ae[0]*Zt+ae[1]*Gt+ae[2]*Rt+ae[3],Sn=le[0]*Zt+le[1]*Gt+le[2]*Rt+le[3];(rn=y!==E?(Rn-y)/(E-y):(Sn-S)/(T-S))>=0&&rn<=1&&O.push({x:Rn,y:Sn})}return O}function N6(l,t,e,r){return[3*t-l-3*e+r,3*l-6*t+3*e,-3*l+3*t,l]}var lC=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,r,o){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+o),this.lineTo(t,e+o),this.closePath()},l.prototype.arcTo=function(t,e,r,o,s,h,p){var y=this.xy;if(y){t<0&&(t=-t),e<0&&(e=-e);var S=y[0],E=y[1],T=(S-h)/2,O=(E-p)/2,R=Math.sin(r),N=Math.cos(r),X=N*T+R*O,ae=-R*T+N*O,le=X/t,de=ae/e,he=le*le+de*de,Ue=(S+h)/2,st=(E+p)/2,rt=0,Pt=0;he>=1?(t*=he=Math.sqrt(he),e*=he):(he=Math.sqrt(1/he-1),o===s&&(he=-he),Ue+=N*(rt=he*t*de)-R*(Pt=-he*e*le),st+=R*rt+N*Pt);var Rt=Math.atan2((ae-Pt)/e,(X-rt)/t),Gt=Math.atan2((-ae-Pt)/e,(-X-rt)/t)-Rt;this.cubicArc(Ue,st,t,e,r,Rt,Rt+Gt,1-s)}},l.cubicArc=function(t,e,r,o,s,h,p,y,S,E){if(E){var T=y;y=S,S=T}var O=e.length,R=.5522847498307935,N=Math.sin(y),X=Math.cos(y),ae=Math.sin(p),le=Math.cos(p),de=Math.PI/2,he=le*X*s-ae*N*h,Ue=ae*X*s+le*N*h,st=-le*N*s-ae*X*h,rt=-ae*N*s+le*X*h;for((S-=y)<0&&(S+=2*Math.PI),t.push("M"),e.push(he+r,Ue+o);S>=de;){S-=de,t.push("C");var Pt=st+r;e.push(he+st*R+r,Ue+rt*R+o,he*R+st+r,Ue*R+rt+o,Math.abs(Pt)<1e-8?0:Pt,rt+o),T=he,he=st,st=-T,T=Ue,Ue=rt,rt=-T}if(S){var Rt=1.3333333333333333*Math.tan(S/4),Gt=Math.sin(S),Zt=Math.cos(S),Rn=Zt+Rt*Gt,Sn=Gt-Rt*Zt;t.push("C"),Pt=he*Zt+st*Gt+r,e.push(he+st*Rt+r,Ue+rt*Rt+o,he*Rn+st*Sn+r,Ue*Rn+rt*Sn+o,Math.abs(Pt)<1e-8?0:Pt,Ue*Zt+rt*Gt+o)}if(E)for(var rn=O,Cn=e.length-2;rn<Cn;rn+=2,Cn-=2)T=e[rn],e[rn]=e[Cn],e[Cn]=T,T=e[rn+1],e[rn+1]=e[Cn+1],e[Cn+1]=T},l.prototype.cubicArc=function(t,e,r,o,s,h,p,y){var S=this.commands,E=this.params,T=S.length;l.cubicArc(S,E,t,e,r,o,s,h,p,y);var O=E[E.length-2],R=E[E.length-1];this.xy?(S[T]="L",this.xy[0]=O,this.xy[1]=R):this.xy=[O,R]},l.prototype.deCasteljau=function(t,e){var r=t.length;if(r<2||r%2==1)throw new Error("Fewer than two points or not an even count.");if(2===r||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var o=[],s=r-2,h=0;h<s;h+=2)o.push((1-e)*t[h]+e*t[h+2],(1-e)*t[h+1]+e*t[h+3]);return this.deCasteljau(o,e)},l.prototype.approximateCurve=function(t,e){var r=this.deCasteljau(t,0);this.moveTo(r[0],r[1]);for(var o=1/e,s=o;s<=1;s+=o){var h=this.deCasteljau(t,s);this.lineTo(h[0],h[1])}},l.prototype.quadraticCurveTo=function(t,e,r,o){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+r)/3,(2*e+o)/3,r,o)},l.prototype.cubicCurveTo=function(t,e,r,o,s,h){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,r,o,s,h),this.xy[0]=s,this.xy[1]=h},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var r=this.commands,o=this.params,s=r.length,h=-1e4,p=-1e4,y=NaN,S=NaN,E=0,T=0,O=0,R=0,N=0;R<s;R++)switch(r[R]){case"M":isNaN(y)||M3(y,S,E,T,h,p,t,e)&&O++,y=E=o[N++],S=T=o[N++];break;case"L":M3(E,T,E=o[N++],T=o[N++],h,p,t,e)&&O++;break;case"C":O+=O5(E,T,o[N++],o[N++],o[N++],o[N++],E=o[N++],T=o[N++],h,p,t,e).length;break;case"Z":isNaN(y)||M3(y,S,E,T,h,p,t,e)&&O++}return O%2==1},l.fromString=function(t){var e=new l;return e.setFromString(t),e},l.parseSvgPath=function(t){return t.trim().split(l.splitCommandsRe).map(function(e){var r=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:r?r.map(parseFloat):[]}})},l.prettifySvgPath=function(t){return l.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(t){var o,s,h,p,y,e=this;function S(){y.match(l.quadraticCommandRe)||(h=o,p=s)}function E(){y.match(l.cubicCommandRe)||(h=o,p=s)}this.clear(),l.parseSvgPath(t).forEach(function(T){var O=T.params,R=O.length,N=0;switch(T.command){case"M":for(e.moveTo(o=O[N++],s=O[N++]);N<R;)e.lineTo(o=O[N++],s=O[N++]);break;case"m":for(e.moveTo(o+=O[N++],s+=O[N++]);N<R;)e.lineTo(o+=O[N++],s+=O[N++]);break;case"L":for(;N<R;)e.lineTo(o=O[N++],s=O[N++]);break;case"l":for(;N<R;)e.lineTo(o+=O[N++],s+=O[N++]);break;case"C":for(;N<R;)e.cubicCurveTo(O[N++],O[N++],h=O[N++],p=O[N++],o=O[N++],s=O[N++]);break;case"c":for(;N<R;)e.cubicCurveTo(o+O[N++],s+O[N++],h=o+O[N++],p=s+O[N++],o+=O[N++],s+=O[N++]);break;case"S":for(E();N<R;)e.cubicCurveTo(o+o-h,s+s-p,h=O[N++],p=O[N++],o=O[N++],s=O[N++]);break;case"s":for(E();N<R;)e.cubicCurveTo(o+o-h,s+s-p,h=o+O[N++],p=s+O[N++],o+=O[N++],s+=O[N++]);break;case"Q":for(;N<R;)e.quadraticCurveTo(h=O[N++],p=O[N++],o=O[N++],s=O[N++]);break;case"q":for(;N<R;)e.quadraticCurveTo(h=o+O[N++],p=s+O[N++],o+=O[N++],s+=O[N++]);break;case"T":for(S();N<R;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o=O[N++],s=O[N++]);break;case"t":for(S();N<R;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o+=O[N++],s+=O[N++]);break;case"A":for(;N<R;)e.arcTo(O[N++],O[N++],O[N++]*Math.PI/180,O[N++],O[N++],o=O[N++],s=O[N++]);break;case"a":for(;N<R;)e.arcTo(O[N++],O[N++],O[N++]*Math.PI/180,O[N++],O[N++],o+=O[N++],s+=O[N++]);break;case"Z":case"z":e.closePath();break;case"H":for(;N<R;)e.lineTo(o=O[N++],s);break;case"h":for(;N<R;)e.lineTo(o+=O[N++],s);break;case"V":for(;N<R;)e.lineTo(o,s=O[N++]);break;case"v":for(;N<R;)e.lineTo(o,s+=O[N++])}y=T.command})},l.prototype.toString=function(){for(var t=this.commands,e=this.params,r=t.length,o=[],s=0,h=0;s<r;s++)switch(t[s]){case"M":o.push("M"+e[h++]+","+e[h++]);break;case"L":o.push("L"+e[h++]+","+e[h++]);break;case"C":o.push("C"+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]);break;case"Z":o.push("Z")}return o.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var t=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var r,o,s,h,p,t=[],e=this.params,y=0;return this.commands.forEach(function(S){switch(S){case"M":r=[o=h=e[y++],s=p=e[y++]],t.push(r);break;case"L":var E=e[y++],T=e[y++];r.push((h+h+E)/3,(p+p+T)/3,(h+E+E)/3,(p+T+T)/3,h=E,p=T);break;case"C":r.push(e[y++],e[y++],e[y++],e[y++],h=e[y++],p=e[y++]);break;case"Z":r.push((h+h+o)/3,(p+p+s)/3,(h+o+o)/3,(p+s+s)/3,h=o,p=s)}}),t},l.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),cC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P3=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new lC,e._dirtyPath=!0,e._svgPath="",e}return cC(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var r=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),r.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Eu),T5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hv=function(l){function t(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return T5(t,l),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new zp(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.x1,o=this.y1,s=this.x2,h=this.y2;if(r===s){var p=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=p,s=p}else if(o===h){var y=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=y,h=y}e.beginPath(),e.moveTo(r,o),e.lineTo(s,h),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=T3(Eu.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Eu),k6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},v1=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var r=this.index;t.forEach(function(o){void 0===r.get(o)&&r.set(o,e.push(o)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var r=this.ordinalRange[e];return void 0===r?NaN:r},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var t,e=this._domain.length;if(e){var r=k6(this._range,2),o=r[0],s=r[1],h=s<o;h&&(o=(t=k6([s,o],2))[0],s=t[1]);var p=(s-o)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(p=Math.floor(p)),o+=(s-o-p*(e-this._paddingInner))*this._align,this._bandwidth=p*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var y=[],S=0;S<e;S++)y.push(o+p*S);this.ordinalRange=h?y.reverse():y}},l}(),x5=function(){function l(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Sh.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),n8=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([null==t?[]:t],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.appendFn=function(t){return this.select(function(e,r,o,s){return e.appendChild(t(e,r,o,s))})},l.prototype.select=function(t){for(var e=this.groups,r=e.length,o=[],s=0;s<r;s++)for(var h=e[s],p=h.length,y=o[s]=new Array(p),S=0;S<p;S++){var E=h[S];if(E){var T=t(E,E.datum,S,h);T&&(T.datum=E.datum),y[S]=T}}return new l(o,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(Sh.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h instanceof t)return h}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(Sh.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h.tag===t)return h}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var r=[];if(Sh.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p instanceof t&&r.push(p)}return r})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var r=[];if(Sh.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p.tag===t&&r.push(p)}return r})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],r=[],o=this.groups,s=o.length,h=0;h<s;h++)for(var p=o[h],y=p.length,S=0;S<y;S++){var E=p[S];E&&(e.push(t(E,E.datum,S,p)),r.push(E))}return new l(e,r)},l.prototype.each=function(t){for(var e=this.groups,r=e.length,o=0;o<r;o++)for(var s=e[o],h=s.length,p=0;p<h;p++){var y=s[p];y&&t(y,y.datum,p,s)}return this},l.prototype.remove=function(){return this.each(function(t){if(Sh.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,r=t.groups,o=e.length,h=Math.min(o,r.length),p=new Array(o),y=0;y<h;y++)for(var S=e[y],E=r[y],T=S.length,O=p[y]=new Array(T),R=0;R<T;R++)O[R]=S[R]||E[R]||void 0;for(;y<o;y++)p[y]=e[y];return new l(p,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,r=0;r<e;r++)for(var o=t[r],s=o.length,h=0;h<s;h++){var p=o[h];if(p)return p}return null},l.prototype.attr=function(t,e){return this.each(function(r){r[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(r,o,s,h){r[t]=e(r,o,s,h)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t=[];return this.each(function(e,r){return t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var r=t;t=function(){return r}}for(var o=this.groups,s=this.parents,h=o.length,p=new Array(h),y=new Array(h),S=new Array(h),E=0;E<h;E++){var T=o[E],O=s[E];if(!O)throw new Error("Group #"+E+" has no parent: "+T);var R=T.length,N=t(O,O.datum,E,s),X=N.length,ae=y[E]=new Array(X),le=p[E]=new Array(X),de=S[E]=new Array(R);e?this.bindKey(O,T,ae,le,de,N,e):this.bindIndex(O,T,ae,le,de,N);for(var he=0,Ue=0;he<X;he++){var st=ae[he];if(st){he>=Ue&&(Ue=he+1);for(var rt=void 0;!(rt=le[Ue])&&Ue<X;)Ue++;st.next=rt||null}}}var Pt=new l(p,s);return Pt.enterGroups=y,Pt.exitGroups=S,Pt},l.prototype.bindIndex=function(t,e,r,o,s,h){for(var p=e.length,y=h.length,S=0;S<y;S++)(E=e[S])?(E.datum=h[S],o[S]=E):r[S]=new x5(t,h[S]);for(;S<p;S++){var E;(E=e[S])&&(s[S]=E)}},l.prototype.bindKey=function(t,e,r,o,s,h,p){for(var y=e.length,S=h.length,E=new Array(y),T={},O=0;O<y;O++)(R=e[O])&&((N=E[O]=l.keyPrefix+p(R,R.datum,O,e))in T?s[O]=R:T[N]=R);for(O=0;O<S;O++){var N;(R=T[N=l.keyPrefix+p(t,h[O],O,h)])?(o[O]=R,R.datum=h[O],T[N]=void 0):r[O]=new x5(t,h[O])}for(O=0;O<y;O++){var R;(R=e[O])&&T[E[O]]===R&&(s[O]=R)}},l.keyPrefix="$",l}(),Hp=function(){function l(t,e,r){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===r&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,r)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var r=this.getDataURL("image/png"),o=this.document,s=o.createElement("a");s.href=r,s.download=t,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,o=r.element,s=r.context,h=r.pixelRatio;o.width=Math.round(t*h),o.height=Math.round(e*h),o.style.width=t+"px",o.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),l.measureText=function(t,e,r,o){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=r,s.textAlign=o,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var o=r.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var r=this.textSizeCache,o=r[e];if(o){var s=o[t];if(s)return s}else r[e]={};var h=this.svgText;h.style.font=e,h.textContent=t;var p=h.getBBox(),y={width:p.width,height:p.height};return r[e][t]=y,y},l.overrideScale=function(t,e){var r=0,o={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(h,p,y,S,E,T){this.$setTransform(h*e,p*e,y*e,S*e,E*e,T*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),r=0}};for(var s in o)o.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=o[s])},l.textSizeCache={},l}(),uC=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},A3=function(){function l(t,e,r){var o=this;void 0===t&&(t=window.document),this.id=O3(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,p=o.ctx,y=o.root,S=o.pendingSize;o.animationFrameId=0,S&&((s=o.canvas).resize.apply(s,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(uC(arguments[t]));return l}(S)),o.pendingSize=void 0),!y||y.visible?(p.clearRect(0,0,o.width,o.height),y&&(p.save(),y.visible&&y.render(p),p.restore()),o._frameIndex++,o.debug.renderFrameIndex&&(p.fillStyle="white",p.fillRect(0,0,40,15),p.fillStyle="black",p.fillText(o.frameIndex.toString(),2,10)),o.dirty=!1):o.dirty=!1},this.canvas=new Hp(t,e,r),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),l.prototype.download=function(t){this.canvas.download(t)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),l.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),l.prototype.appendPath=function(t){var e=this.ctx,r=t.commands,o=t.params,s=r.length,h=0;e.beginPath();for(var p=0;p<s;p++)switch(r[p]){case"M":e.moveTo(o[h++],o[h++]);break;case"L":e.lineTo(o[h++],o[h++]);break;case"C":e.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);break;case"Z":e.closePath()}},Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),R3=function(){return R3=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},R3.apply(this,arguments)},d4=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(t,e,r){void 0===r&&(r=this);var o=this.allPropertyListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removePropertyListener=function(t,e,r){void 0===r&&(r=this);var s=this.allPropertyListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(t,e,r){var o=this,h=this.allPropertyListeners.get(t);h&&h.forEach(function(p,y){p.forEach(function(S){return y.call(S,{type:t,source:o,value:r,oldValue:e})})})},l.prototype.addEventListener=function(t,e,r){void 0===r&&(r=this);var o=this.allEventListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removeEventListener=function(t,e,r){void 0===r&&(r=this);var s=this.allEventListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(t){var e=this,r=this.allEventListeners;t.forEach(function(o){var s=r.get(o);s&&s.forEach(function(h,p){h.forEach(function(y){return p.call(y,{type:o,source:e})})})})},l.prototype.fireEvent=function(t){var e=this,r=this.allEventListeners.get(t.type);r&&r.forEach(function(o,s){o.forEach(function(h){return s.call(h,R3(R3({},t),{source:e}))})})},l.privateKeyPrefix="_",l}();function m1(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return l.indexOf("debugger"),function(r,o){var s=d4.privateKeyPrefix+o,h=s+"Events";r[o]||(l&&(r[h]=l),Object.defineProperty(r,o,{set:function(p){var y=this[s];if(p!==y||"object"==typeof p&&null!==p){this[s]=p,this.notifyPropertyListeners(o,y,p);var S=this[h];S&&this.notifyEventListeners(S)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var y1=function(){function l(t,e,r,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===r&&(r=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=r,this.left=o}return l.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},l}();function Js(l){var t=typeof l;return"string"!==t&&"number"===t&&l-l<1}function h4(l){return l instanceof Date&&!isNaN(+l)}function p4(l){return"string"==typeof l}function A5(l){return function P5(l){return Js(l)||function r8(l){return!!l&&l.hasOwnProperty("valueOf")&&Js(l.valueOf())}(l)}(l)||h4(l)}function Gp(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}var V6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},_d=function(){function l(t,e,r,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,o||0))}return l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(o){return parseInt(o,16)}).map(function(o){return o+16*o})}if(e.length>=3&&e.every(function(o){return o>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var r=V6(e,4);return new l(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=V6([NaN,NaN],2),r=e[0],o=e[1],s=0;s<t.length;s++){var h=t[s];if(r||"("!==h){if(")"===h){o=s;break}}else r=s}var p=r&&o&&t.substring(r+1,o);if(p){var y=p.split(","),S=[];for(s=0;s<y.length;s++){var E=y[s],T=parseFloat(E);if(isNaN(T))return;E.indexOf("%")>=0?(T=Math.max(0,Math.min(100,T)),T/=100):3===s?T=Math.max(0,Math.min(1,T)):(T=Math.max(0,Math.min(255,T)),T/=255),S.push(T)}return S}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,r,o){void 0===o&&(o=1);var s=l.HSBtoRGB(t,e,r);return new l(s[0],s[1],s[2],o)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,r){var o=Math.min(t,e,r),s=Math.max(t,e,r),p=NaN;if(o!==s){var y=s-o,S=(s-t)/y,E=(s-e)/y,T=(s-r)/y;p=t===s?T-E:e===s?2+S-T:4+E-S,(p/=6)<0&&(p+=1)}return[360*p,0!==s?(s-o)/s:0,s]},l.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,s=0,h=0;if(0===e)o=s=h=r;else{var p=6*(t-Math.floor(t)),y=p-Math.floor(p),S=r*(1-e),E=r*(1-e*y),T=r*(1-e*(1-y));switch(p>>0){case 0:o=r,s=T,h=S;break;case 1:o=E,s=r,h=S;break;case 2:o=S,s=r,h=T;break;case 3:o=S,s=E,h=r;break;case 4:o=T,s=S,h=r;break;case 5:o=r,s=S,h=E}}return[o,s,h]},l.prototype.derive=function(t,e,r,o){var s=l.RGBtoHSB(this.r,this.g,this.b),h=s[2];0==h&&r>1&&(h=.05);var p=((s[0]+t)%360+360)%360,y=Math.max(Math.min(s[1]*e,1),0);h=Math.max(Math.min(h*r,1),0);var S=Math.max(Math.min(this.a*o,1),0),E=l.HSBtoRGB(p,y,h);return E.push(S),l.fromArray(E)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function i8(l,t){if("string"==typeof l)try{l=_d.fromString(l)}catch(h){l=_d.fromArray([0,0,0])}if("string"==typeof t)try{t=_d.fromString(t)}catch(h){t=_d.fromArray([0,0,0])}var e=Gp(l.r,t.r),r=Gp(l.g,t.g),o=Gp(l.b,t.b),s=Gp(l.a,t.a);return function(h){return _d.fromArray([e(h),r(h),o(h),s(h)]).toRgbaString()}}function F3(l,t){var e=typeof t;if(null==t||"boolean"===e)return function(l){return function(){return l}}(t);if("number"===e)return Gp(l,t);if("string"===e)try{return i8(l,t=_d.fromString(t))}catch(o){}return t instanceof _d?i8(l,t):t instanceof Date?function R5(l,t){var e=new Date,r=+l,o=+t;return function(s){return e.setTime(r*(1-s)+o*s),e}}(l,t):Array.isArray(t)?function F5(l,t){var h,e=t?t.length:0,r=l?Math.min(e,l.length):0,o=new Array(r),s=new Array(e);for(h=0;h<r;++h)o[h]=F3(l[h],t[h]);for(;h<e;++h)s[h]=t[h];return function(p){for(h=0;h<r;++h)s[h]=o[h](p);return s}}(l,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function L5(l,t){var o,e={},r={};for(o in(null===l||"object"!=typeof l)&&(l={}),(null===t||"object"!=typeof t)&&(t={}),t)o in l?e[o]=F3(l[o],t[o]):r[o]=t[o];return function(s){for(o in e)r[o]=e[o](s);return r}}(l,t):Gp(l,t)}var C1=function(l){return l};function L3(l){var t,e=l[0],r=l[l.length-1];return e>r&&(t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([r,e],2),e=t[0],r=t[1]),function(o){return Math.max(e,Math.min(r,o))}}var pC=function(){function l(){this.unknown=void 0,this._clamp=C1,this._domain=[0,1],this._range=[0,1],this.transform=C1,this.untransform=C1,this._interpolate=F3,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==C1},set:function(t){this._clamp=t?L3(this.domain):C1},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==C1&&(this._clamp=L3(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:function(l){return function(){return l}}(isNaN(e)?NaN:.5)},l.prototype.bimap=function(t,e,r){var y,S,o=t[0],s=t[1],h=e[0],p=e[1];return s<o?(y=this.normalize(s,o),S=r(p,h)):(y=this.normalize(o,s),S=r(h,p)),function(E){return S(y(E))}},l.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},l.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Gp)),this._clamp(this.untransform(this.input(t)))},l}();const o8=pC;var a8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();var s8=Math.sqrt(50),H6=Math.sqrt(10),G6=Math.sqrt(2);function l8(l,t,e){var r=Math.abs(t-l)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=s8?o*=10:s>=H6?o*=5:s>=G6&&(o*=2),t<l?-o:o}function c8(l,t,e){var r=(t-l)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=s8?10:s>=H6?5:s>=G6?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=s8?10:s>=H6?5:s>=G6?2:1)}var j6,Y,ie,me,z5=function(l){function t(e,r){var o=l.call(this)||this;if(r)for(var s=0,h=r.length;s<h;s++)o[s]=r[s];return o.fractionDigits=e,o}return a8(t,l),t}(Array),V5={"":function gC(l,t){var e=l.toPrecision(t);e:for(var r=e.length,o=1,s=-1,h=0;o<r;++o)switch(e[o]){case".":s=h=o;break;case"0":0===s&&(s=o),h=o;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(h+1):e},"%":function(l,t){return(100*l).toFixed(t)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:function g(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,t){return l.toExponential(t)},f:function(l,t){return l.toFixed(t)},g:function(l,t){return l.toPrecision(t)},o:function(l){return Math.round(l).toString(8)},p:function(l,t){return D(100*l,t)},r:D,s:function f(l,t){void 0===t&&(t=0);var e=A(l,t);if(!e)return String(l);var r=e[0],o=e[1],s=o-(j6=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,h=r.length;if(s===h)return r;if(s>h)return r+new Array(s-h+1).join("0");if(s>0)return r.slice(0,s)+"."+r.slice(s);var p=A(l,Math.max(0,t+s-1));return"0."+new Array(1-s).join("0")+p[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},H5=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],B6=function l(t){t instanceof l?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},G5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,B5=/(#\{(.*?)\})/g;function W6(l){if(l instanceof B6)return new B6(l);var t=!1,e=l.replace(B5,function(){return t||(l=arguments[2],t=!0),"#{}"}),r=G5.exec(l);if(!r)throw new Error("Invalid format: "+l);return new B6({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?e:void 0})}function D(l,t){var e=A(l,t);if(!e)return String(l);var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function A(l,t){var e=t?l.toExponential(t-1):l.toExponential(),r=e.indexOf("e");if(!(r<0)){var o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}}function H(l){return l}function Et(l){var t=A(Math.abs(l));return t?t[1]:NaN}!function Ze(l){Y=function Jn(l){var t=void 0===l.grouping||void 0===l.thousands?H:function m(l,t){return function(e,r){for(var o=[],s=e.length,h=0,p=l[0],y=0;s>0&&p>0&&(y+p+1>r&&(p=Math.max(1,r-y)),o.push(e.substring(s-=p,s+p)),!((y+=p+1)>r));)p=l[h=(h+1)%l.length];return o.reverse().join(t)}}(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),r=void 0===l.currency?"":String(l.currency[1]),o=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?H:function _(l){return function(t){return t.replace(/[0-9]/g,function(e){return l[+e]})}}(Array.prototype.map.call(l.numerals,String)),h=void 0===l.percent?"%":String(l.percent),p=void 0===l.minus?"\u2212":String(l.minus),y=void 0===l.nan?"NaN":String(l.nan);function S(T){var O=W6(T),R=O.fill,N=O.align,X=O.sign,ae=O.symbol,le=O.zero,de=O.width,he=O.comma,Ue=O.precision,st=O.trim,rt=O.type;"n"===rt?(he=!0,rt="g"):V5[rt]||(void 0===Ue&&(Ue=12),st=!0,rt="g"),(le||"0"===R&&"="===N)&&(le=!0,R="0",N="=");var Pt="$"===ae?e:"#"===ae&&/[boxX]/.test(rt)?"0"+rt.toLowerCase():"",Rt="$"===ae?r:/[%p]/.test(rt)?h:"",Gt=V5[rt],Zt=/[defgprs%]/.test(rt);return Ue=void 0===Ue?6:/[gprs]/.test(rt)?Math.max(1,Math.min(21,Ue)):Math.max(0,Math.min(20,Ue)),function Rn(Sn){var sn,rn=Pt,Cn=Rt;if("c"===rt)Cn=Gt(+Sn)+Cn,sn="";else{var dn=+Sn,nr=Sn<0||1/dn<0;if(sn=isNaN(dn)?y:Gt(Math.abs(dn),Ue),st&&(sn=function b(l){e:for(var t=l.length,e=1,r=-1,o=0;e<t;++e)switch(l[e]){case".":r=o=e;break;case"0":0===r&&(r=e),o=e;break;default:if(!+l[e])break e;r>0&&(r=0)}return r>0?l.slice(0,r)+l.slice(o+1):l}(sn)),nr&&0==+sn&&"+"!==X&&(nr=!1),rn=(nr?"("===X?X:p:"-"===X||"("===X?"":X)+rn,Cn=("s"===rt?H5[8+j6/3]:"")+Cn+(nr&&"("===X?")":""),Zt)for(var Wn=0,Vr=sn.length;Wn<Vr;Wn++){var Un=sn.charCodeAt(Wn);if(48>Un||Un>57){Cn=(46===Un?o+sn.slice(Wn+1):sn.slice(Wn))+Cn,sn=sn.slice(0,Wn);break}}}he&&!le&&(sn=t(sn,1/0));var Ur=rn.length+sn.length+Cn.length,Hr=Ur<de?new Array(de-Ur+1).join(R):"";switch(he&&le&&(sn=t(Hr+sn,Hr.length?de-Cn.length:1/0),Hr=""),N){case"<":sn=rn+sn+Cn+Hr;break;case"=":sn=rn+Hr+sn+Cn;break;case"^":sn=Hr.slice(0,Ur=Hr.length>>1)+rn+sn+Cn+Hr.slice(Ur);break;default:sn=Hr+rn+sn+Cn}var Ti=O.string;return Ti?Ti.replace(B5,function(){return s(sn)}):s(sn)}}return{format:S,formatPrefix:function E(T,O){var R=W6(T);R.type="f";var N=S(R),X=3*Math.max(-8,Math.min(8,Math.floor(Et(O)/3))),ae=Math.pow(10,-X),le=H5[8+X/3];return function(de){return N(ae*+de)+le}}}}(l),ie=Y.format,me=Y.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var Cr=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),In=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return Cr(t,l),t.prototype.ticks=function(e){void 0===e&&(e=10);var r=this._domain;return function k5(l,t,e){var r=l8(l,t,e);return function fC(l,t,e){void 0===e&&(e=1);for(var r=Math.abs(e),o=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,s=Math.pow(10,o),h=Math.max(0,Math.ceil((t-l)/e))||0,p=new z5(o),y=0;y<h;y++)p[y]=Math.round((l+e*y)*s)/s;return p}(l=Math.ceil(l/r)*r,t=Math.floor(t/r)*r+r/2,r)}(r[0],r[r.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var y,r=this.domain,o=0,s=r.length-1,h=r[o],p=r[s];p<h&&(y=h,h=p,p=y,y=o,o=s,s=y),(y=c8(h,p,e))>0?y=c8(h=Math.floor(h/y)*y,p=Math.ceil(p/y)*y,e):y<0&&(y=c8(h=Math.ceil(h*y)/y,p=Math.floor(p*y)/y,e)),y>0?(r[o]=Math.floor(h/y)*y,r[s]=Math.ceil(p/y)*y,this.domain=r):y<0&&(r[o]=Math.ceil(h*y)/y,r[s]=Math.floor(p*y)/y,this.domain=r)},t.prototype.tickFormat=function(e,r){var o=this.domain;return function vC(l,t,e,r){var h,o=l8(l,t,e),s=W6(null==r?",f":r);switch(s.type){case"s":var p=Math.max(Math.abs(l),Math.abs(t));return null==s.precision&&!isNaN(h=function En(l,t){var e=Math.floor(Et(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Et(Math.abs(l)))}(o,p))&&(s.precision=h),me(s,p);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(h=function jn(l,t){return l=Math.abs(l),t=Math.abs(t)-l,Math.max(0,Et(t)-Et(l))+1}(o,Math.max(Math.abs(l),Math.abs(t))))&&(s.precision=h-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(h=function Ut(l){return Math.max(0,-Et(Math.abs(l)))}(o))&&(s.precision=h-2*+("%"===s.type))}return ie(s)}(o[0],o[o.length-1],null==e?10:e,r)},t}(o8),jr=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ri=new Date,eo=new Date,Oc=function(){function l(t,e){this._floor=t,this._offset=e}return l.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},l.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},l.prototype.round=function(t){var e=this.floor(t),r=this.ceil(t),o=+t;return o-e.getTime()<r.getTime()-o?e:r},l.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},l.prototype.range=function(t,e,r){void 0===r&&(r=1);var s,o=[];if(t=this.ceil(t),r=Math.floor(r),t>e||r<=0)return o;do{s=new Date(+t),o.push(s),this._offset(t,r),this._floor(t)}while(s<t&&t<e);return o},l.prototype.filter=function(t){var e=this;return new l(function(s){if(s>=s)for(;e._floor(s),!t(s);)s.setTime(s.getTime()-1);return s},function(s,h){if(s>=s)if(h<0)for(;++h<=0;)do{e._offset(s,-1)}while(!t(s));else for(;--h>=0;)do{e._offset(s,1)}while(!t(s));return s})},l}(),Ps=function(l){function t(e,r,o,s){var h=l.call(this,e,r)||this;return h._count=o,h._field=s,h}return jr(t,l),t.prototype.count=function(e,r){return Ri.setTime(+e),eo.setTime(+r),this._floor(Ri),this._floor(eo),Math.floor(this._count(Ri,eo))},t.prototype.every=function(e){var o,r=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;o=this.filter(s?function(h){return s(h)%e==0}:function(h){return r.count(0,h)%e==0})}else o=this;return o},t}(Oc),p8=new Ps(function u8(l){return l},function d8(l,t){l.setTime(l.getTime()+t)},function h8(l,t){return t.getTime()-l.getTime()});const f8=p8;var Du=1e3,Kc=6e4,bh=60*Kc,Eh=24*bh,W5=7*Eh,mC=30*Eh,j5=365*Eh,n_=new Ps(function JC(l){l.setTime(l.getTime()-l.getMilliseconds())},function e_(l,t){l.setTime(l.getTime()+t*Du)},function t_(l,t){return(t.getTime()-l.getTime())/Du});const r_=n_;var l_=new Ps(function i_(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*Du)},function o_(l,t){l.setTime(l.getTime()+t*Kc)},function a_(l,t){return(t.getTime()-l.getTime())/Kc},function s_(l){return l.getMinutes()});const c_=l_;var f_=new Ps(function u_(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*Du-l.getMinutes()*Kc)},function d_(l,t){l.setTime(l.getTime()+t*bh)},function h_(l,t){return(t.getTime()-l.getTime())/bh},function p_(l){return l.getHours()});const g_=f_;var __=new Ps(function v_(l){l.setHours(0,0,0,0)},function m_(l,t){l.setDate(l.getDate()+t)},function y_(l,t){var e=t.getTimezoneOffset()-l.getTimezoneOffset();return(t.getTime()-l.getTime()-e*Kc)/Eh},function C_(l){return l.getDate()-1});const U5=__;function g4(l){return new Ps(function t(o){o.setDate(o.getDate()-(o.getDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setDate(o.getDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime()-(s.getTimezoneOffset()-o.getTimezoneOffset())*Kc)/W5})}var yC=g4(0),Y5=g4(1),K5=(g4(2),g4(3),g4(4));g4(5),g4(6);const w_=yC;var O_=new Ps(function S_(l){l.setDate(1),l.setHours(0,0,0,0)},function b_(l,t){l.setMonth(l.getMonth()+t)},function E_(l,t){return t.getMonth()-l.getMonth()+12*(t.getFullYear()-l.getFullYear())},function D_(l){return l.getMonth()});const T_=O_;var R_=new Ps(function x_(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function M_(l,t){l.setFullYear(l.getFullYear()+t)},function P_(l,t){return t.getFullYear()-l.getFullYear()},function A_(l){return l.getFullYear()});const g8=R_;var V_=new Ps(function I_(l){l.setUTCHours(0,0,0,0)},function N_(l,t){l.setUTCDate(l.getUTCDate()+t)},function k_(l,t){return(t.getTime()-l.getTime())/Eh},function z_(l){return l.getUTCDate()-1});const _C=V_;var j_=new Ps(function H_(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function G_(l,t){l.setUTCFullYear(l.getUTCFullYear()+t)},function B_(l,t){return t.getUTCFullYear()-l.getUTCFullYear()},function W_(l){return l.getUTCFullYear()});const U6=j_;function v4(l){return new Ps(function t(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setUTCDate(o.getUTCDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime())/W5})}var U_=v4(0),$5=v4(1),q5=(v4(2),v4(3),v4(4));v4(5),v4(6);const Y_=U_;function K_(l){if(l.y>=0&&l.y<100){var t=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return t.setFullYear(l.y),t}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function Y6(l){if(l.y>=0&&l.y<100){var t=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return t.setUTCFullYear(l.y),t}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function v8(l){for(var t={},e=0,r=l.length;e<r;e++)t[l[e].toLowerCase()]=e;return t}function m8(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}var X5,Tl=/^\s*\d+/,$_=/^%/,q_=/[\\^$*+?|[\]().{}]/g,X_=function(l){return l.replace(q_,"\\$&")},y8=function(l){return new RegExp("^(?:"+l.map(X_).join("|")+")","i")},SC={"-":"",_:" ",0:"0"};function Ro(l,t,e){var r=l<0?"-":"",o=String(r?-l:l),s=o.length;return r+(s<e?new Array(e-s+1).join(t)+o:o)}!function Q_(l){X5=function Z_(l){var t=l.dateTime,e=l.date,r=l.time,o=l.periods,s=l.days,h=l.shortDays,p=l.months,y=l.shortMonths,S=y8(o),E=v8(o),T=y8(s),O=v8(s),R=y8(h),N=v8(h),X=y8(p),ae=v8(p),le=y8(y),de=v8(y),he={a:function dn(Me){return h[Me.getDay()]},A:function nr(Me){return s[Me.getDay()]},b:function Ti(Me){return y[Me.getMonth()]},B:function Ii(Me){return p[Me.getMonth()]},c:void 0,d:Ur,e:Ur,f:function Gt(Me,Qe){return Zt(Me,Qe)+"000"},H:function Cn(Me,Qe){return Ro(Me.getHours(),Qe,2)},I:function rn(Me,Qe){return Ro(Me.getHours()%12||12,Qe,2)},j:function Hr(Me,Qe){return Ro(1+U5.count(g8.floor(Me),Me),Qe,3)},L:Zt,m:function da(Me,Qe){return Ro(Me.getMonth()+1,Qe,2)},M:function Sn(Me,Qe){return Ro(Me.getMinutes(),Qe,2)},p:function sn(Me){return o[Me.getHours()>=12?1:0]},Q:O8,s:T8,S:function Rn(Me,Qe){return Ro(Me.getSeconds(),Qe,2)},u:function Yn(Me){var Qe=Me.getDay();return 0===Qe?7:Qe},U:function zr(Me,Qe){return Ro(yC.count(g8.floor(Me),Me),Qe,2)},V:function Wn(Me,Qe){var Mt=Me.getDay();Me=Mt>=4||0===Mt?K5.floor(Me):K5.ceil(Me);var Ne=g8.floor(Me);return Ro(K5.count(Ne,Me)+(4===Ne.getDay()?1:0),Qe,2)},w:function Vr(Me){return Me.getDay()},W:function Un(Me,Qe){return Ro(Y5.count(g8.floor(Me),Me),Qe,2)},x:void 0,X:void 0,y:function La(Me,Qe){return Ro(Me.getFullYear()%100,Qe,2)},Y:function As(Me,Qe){return Ro(Me.getFullYear()%1e4,Qe,4)},Z:function Ea(Me){var Qe=Me.getTimezoneOffset();return(Qe>0?"-":(Qe*=-1,"+"))+Ro(Math.floor(Qe/60),"0",2)+Ro(Qe%60,"0",2)},"%":D8},Ue={a:function d7(Me){return h[Me.getUTCDay()]},A:function h7(Me){return s[Me.getUTCDay()]},b:function nl(Me){return y[Me.getUTCMonth()]},B:function w1(Me){return p[Me.getUTCMonth()]},c:void 0,d:fr,e:fr,f:function xl(Me,Qe){return ha(Me,Qe)+"000"},H:function Oh(Me,Qe){return Ro(Me.getUTCHours(),Qe,2)},I:function Dh(Me,Qe){return Ro(Me.getUTCHours()%12||12,Qe,2)},j:function Zi(Me,Qe){return Ro(1+_C.count(U6.floor(Me),Me),Qe,3)},L:ha,m:function Rs(Me,Qe){return Ro(Me.getUTCMonth()+1,Qe,2)},M:function Ml(Me,Qe){return Ro(Me.getUTCMinutes(),Qe,2)},p:function Wp(Me){return o[Me.getUTCHours()>=12?1:0]},Q:O8,s:T8,S:function tl(Me,Qe){return Ro(Me.getUTCSeconds(),Qe,2)},u:function p7(Me){var Qe=Me.getUTCDay();return 0===Qe?7:Qe},U:function f7(Me,Qe){return Ro(Y_.count(U6.floor(Me),Me),Qe,2)},V:function g7(Me,Qe){var Mt=Me.getUTCDay();Me=Mt>=4||0===Mt?q5.floor(Me):q5.ceil(Me);var Ne=U6.floor(Me);return Ro(q5.count(Ne,Me)+(4===Ne.getUTCDay()?1:0),Qe,4)},w:function v7(Me){return Me.getUTCDay()},W:function m7(Me,Qe){return Ro($5.count(U6.floor(Me),Me),Qe,2)},x:void 0,X:void 0,y:function y7(Me,Qe){return Ro(Me.getUTCFullYear()%100,Qe,2)},Y:function C7(Me,Qe){return Ro(Me.getUTCFullYear()%1e4,Qe,4)},Z:function _7(){return"+0000"},"%":D8},st={a:function T7(Me,Qe,Mt){var Ne=R.exec(Qe.slice(Mt));return Ne?(Me.w=N[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},A:function x7(Me,Qe,Mt){var Ne=T.exec(Qe.slice(Mt));return Ne?(Me.w=O[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},b:function L7(Me,Qe,Mt){var Ne=le.exec(Qe.slice(Mt));return Ne?(Me.m=de[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},B:function I7(Me,Qe,Mt){var Ne=X.exec(Qe.slice(Mt));return Ne?(Me.m=ae[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},c:function k7(Me,Qe,Mt){return Rt(Me,t,Qe,Mt)},d:M8,e:M8,f:function w7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+6));return Ne?(Me.L=Math.floor(parseFloat(Ne[0])/1e3),Mt+Ne[0].length):-1},H:x8,I:x8,j:function O7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+3));return Ne?(Me.m=0,Me.d=+Ne[0],Mt+Ne[0].length):-1},L:function S7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+3));return Ne?(Me.L=+Ne[0],Mt+Ne[0].length):-1},m:function N7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.m=parseFloat(Ne[0])-1,Mt+Ne[0].length):-1},M:function E7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.M=+Ne[0],Mt+Ne[0].length):-1},p:function D7(Me,Qe,Mt){var Ne=S.exec(Qe.slice(Mt));return Ne?(Me.p=E[Ne[0].toLowerCase()],Mt+Ne[0].length):-1},Q:function H7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt));return Ne?(Me.Q=+Ne[0],Mt+Ne[0].length):-1},s:function G7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt));return Ne?(Me.Q=1e3*+Ne[0],Mt+Ne[0].length):-1},S:function b7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.S=+Ne[0],Mt+Ne[0].length):-1},u:function M7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+1));return Ne?(Me.u=+Ne[0],Mt+Ne[0].length):-1},U:function P7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.U=+Ne[0],Mt+Ne[0].length):-1},V:function A7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.V=+Ne[0],Mt+Ne[0].length):-1},w:function F7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+1));return Ne?(Me.w=+Ne[0],Mt+Ne[0].length):-1},W:function R7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.W=+Ne[0],Mt+Ne[0].length):-1},x:function z7(Me,Qe,Mt){return Rt(Me,e,Qe,Mt)},X:function V7(Me,Qe,Mt){return Rt(Me,r,Qe,Mt)},y:function B7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.y=+Ne[0]+(+Ne[0]>68?1900:2e3),Mt+Ne[0].length):-1},Y:function W7(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+4));return Ne?(Me.y=+Ne[0],Mt+Ne[0].length):-1},Z:function j7(Me,Qe,Mt){var Ne=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(Qe.slice(Mt,Mt+6));return Ne?(Me.Z=Ne[1]?0:-(Ne[2]+(Ne[3]||"00")),Mt+Ne[0].length):-1},"%":function U7(Me,Qe,Mt){var Ne=$_.exec(Qe.slice(Mt,Mt+1));return Ne?Mt+Ne[0].length:-1}};function rt(Me,Qe){return function(Mt){var Ne=m8(1900);if(Rt(Ne,Me,Mt+="",0)==Mt.length){if("Q"in Ne)return new Date(Ne.Q);if("p"in Ne&&(Ne.H=Ne.H%12+12*Ne.p),"V"in Ne){if(Ne.V<1||Ne.V>53)return;if("w"in Ne||(Ne.w=1),"Z"in Ne){var Eo=(Gr=Y6(m8(Ne.y))).getUTCDay();Gr=Eo>4||0===Eo?$5.ceil(Gr):$5.floor(Gr),Gr=_C.offset(Gr,7*(Ne.V-1)),Ne.y=Gr.getUTCFullYear(),Ne.m=Gr.getUTCMonth(),Ne.d=Gr.getUTCDate()+(Ne.w+6)%7}else{var Gr;Eo=(Gr=Qe(m8(Ne.y))).getDay(),Gr=Eo>4||0===Eo?Y5.ceil(Gr):Y5.floor(Gr),Gr=U5.offset(Gr,7*(Ne.V-1)),Ne.y=Gr.getFullYear(),Ne.m=Gr.getMonth(),Ne.d=Gr.getDate()+(Ne.w+6)%7}}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),Eo="Z"in Ne?Y6(m8(Ne.y)).getUTCDay():Qe(m8(Ne.y)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+7*Ne.W-(Eo+5)%7:Ne.w+7*Ne.U-(Eo+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,Y6(Ne)):Qe(Ne)}}}function Pt(Me,Qe){return function(Mt){var Ne=[],Pl=Me.length,Gr=-1,Eo=0;for(Mt instanceof Date||(Mt=new Date(+Mt));++Gr<Pl;)if(37===Me.charCodeAt(Gr)){Ne.push(Me.slice(Eo,Gr));var Fs=Me.charAt(++Gr),Tu=SC[Fs];null!=Tu?Fs=Me.charAt(++Gr):Tu="e"===Fs?" ":"0";var Th=Qe[Fs];Th&&(Fs=Th(Mt,Tu)),Ne.push(Fs),Eo=Gr+1}return Ne.push(Me.slice(Eo,Gr)),Ne.join("")}}function Rt(Me,Qe,Mt,Ne){for(var Pl=0,Gr=Qe.length,Eo=Mt.length;Pl<Gr;){if(Ne>=Eo)return-1;var Fs=Qe.charCodeAt(Pl++);if(37===Fs){var Tu=Qe.charAt(Pl++),Th=st[Tu in SC?Qe.charAt(Pl++):Tu];if(!Th||(Ne=Th(Me,Mt,Ne))<0)return-1}else if(Fs!=Mt.charCodeAt(Ne++))return-1}return Ne}function Zt(Me,Qe){return Ro(Me.getMilliseconds(),Qe,3)}function Ur(Me,Qe){return Ro(Me.getDate(),Qe,2)}function ha(Me,Qe){return Ro(Me.getUTCMilliseconds(),Qe,3)}function fr(Me,Qe){return Ro(Me.getUTCDate(),Qe,2)}function D8(Me){return"%"}function O8(Me){return Me.getTime()}function T8(Me){return Math.floor(Me.getTime()/1e3)}function x8(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.H=+Ne[0],Mt+Ne[0].length):-1}function M8(Me,Qe,Mt){var Ne=Tl.exec(Qe.slice(Mt,Mt+2));return Ne?(Me.d=+Ne[0],Mt+Ne[0].length):-1}return he.x=Pt(e,he),he.X=Pt(r,he),he.c=Pt(t,he),Ue.x=Pt(e,Ue),Ue.X=Pt(r,Ue),Ue.c=Pt(t,Ue),{format:function(Me){var Qe=Pt(Me,he);return Qe.toString=function(){return Me},Qe},parse:function(Me){var Qe=rt(Me,K_);return Qe.toString=function(){return Me},Qe},utcFormat:function(Me){var Qe=Pt(Me,Ue);return Qe.toString=function(){return Me},Qe},utcParse:function(Me){var Qe=rt(Me,Y6);return Qe.toString=function(){return Me},Qe}}}(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var J_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z5=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},bC=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=g8,e.month=T_,e.week=w_,e.day=U5,e.hour=g_,e.minute=c_,e.second=r_,e.millisecond=f8,e.format=X5.format,e.tickIntervals=[[e.second,1,Du],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,Kc],[e.minute,5,5*Kc],[e.minute,15,15*Kc],[e.minute,30,30*Kc],[e.hour,1,bh],[e.hour,3,3*bh],[e.hour,6,6*bh],[e.hour,12,12*bh],[e.day,1,Eh],[e.day,2,2*Eh],[e.week,1,W5],[e.month,1,mC],[e.month,3,3*mC],[e.year,1,j5]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return J_(t,l),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,r,o,s){var h;if("number"==typeof e){var p=e,y=this.tickIntervals,S=Math.abs(o-r)/p,E=function L_(l,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=l.length);for(var s=function CC(l){return function(t,e){return function F_(l,t){return l<t?-1:l>t?1:l>=t?0:NaN}(l(t),e)}}(e);r<o;){var h=r+o>>>1;s(l[h],t)<0?r=h+1:o=h}return r}(y,S,function(T){return T[2]});E===y.length?(s=l8(r/j5,o/j5,p),e=this.year):E?(e=(h=Z5(y[S/y[E-1][2]<y[E][2]/S?E-1:E],2))[0],s=h[1]):(s=Math.max(l8(r,o,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(t.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(r){return r instanceof Date?+r:+new Date(+r)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=r[0],s=r[r.length-1],h=s<o;if(h){var p=o;o=s,s=p}var y=this.tickInterval(e,o,s),S=y?y.range(o,s+1):[];return h?S.reverse():S},t.prototype.tickFormat=function(e,r){return null==r?this.defaultTickFormat.bind(this):this.format(r)},t.prototype.nice=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=this.tickInterval(e,r[0],r[r.length-1]);o&&(this.domain=this._nice(r,o))},t.prototype._nice=function(e,r){var o,s,h=0,p=(e=e.slice()).length-1,y=e[h],S=e[p];return S<y&&(h=(o=Z5([p,h],2))[0],p=o[1],y=(s=Z5([S,y],2))[0],S=s[1]),e[h]=r.floor(y),e[p]=r.ceil(S),e},t}(o8);function t9(l){return l}function C8(l,t,e){for(var h,p,y,r=e||t9,o=l.length,s=-1;++s<o;)if(t(h=l[s]))for(p=y=h;++s<o;)t(h=l[s])&&(p>h&&(p=h),y<h&&(y=h));return void 0===p||void 0===y?void 0:[r(p),r(y)]}var EC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),r9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return EC(t,l),t}(d4),Q5=function(l){function t(){var e=l.call(this)||this;e.id=O3(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new y1(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new In,e.axis=new r9,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.layoutId=0,e.defaultDateFormatter=X5.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var r=new Vp;e.rootGroup=r;var o=document.createElement("div");o.setAttribute("class","ag-sparkline-wrapper");var s=new A3(document);if(e.scene=s,e.canvasElement=s.canvas.element,s.root=r,s.container=o,s.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,-1===t.tooltipDocuments.indexOf(document)){var h=document.createElement("style");h.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(h,document.head.querySelector("style")),t.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return EC(t,l),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.canvasElement.parentNode;null!=r&&r.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var s,r=this.xData,o=this.xScale;o instanceof In?s=C8(r,Js):o instanceof bC&&(s=C8(r,A5)),this.xScale.domain=s?s.slice():r},t.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new In;case"time":return new bC;default:return new v1}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(e){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(e){var r=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(r){var o=this.highlightedDatum;this.highlightedDatum=r,(this.highlightedDatum&&!o||this.highlightedDatum&&o&&this.highlightedDatum!==o)&&(this.highlightDatum(r),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,r)}},t.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},t.prototype.processData=function(){var e=this,r=e.data,o=e.yData,s=e.xData;if(r&&!this.invalidData(this.data)){o.length=0,s.length=0;var h=r.length,p=this.getDataType(r);this.dataType=p;var y=this.axis.type,S="number"!==y&&"time"!==y?"category":y;if("number"===p)for(var E=0;E<h;E++){var O=r[E],R=this.getDatum(E,S),N=this.getDatum(O,"number");s.push(R),o.push(N)}else if("array"===p)for(E=0;E<h;E++){var X=r[E];if(Array.isArray(X)){if(O=X[1],R=this.getDatum(X[0],S),N=this.getDatum(O,"number"),null==R)continue;s.push(R),o.push(N)}}else if("object"===p){var le=this.yKey,de=this.xKey;for(E=0;E<h;E++)if("object"==typeof(X=r[E])&&!Array.isArray(X)){if(O=X[le],R=this.getDatum(X[de],S),N=this.getDatum(O,"number"),null==R)continue;s.push(R),o.push(N)}}this.updateAxes(),this.update()}},t.prototype.getDataType=function(e){var r,o;try{for(var s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),h=s.next();!h.done;h=s.next()){var p=h.value;if(null!=p){if(Js(p))return"number";if(Array.isArray(p))return"array";if("object"==typeof p)return"object"}}}catch(y){r={error:y}}finally{try{h&&!h.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},t.prototype.getDatum=function(e,r){if("number"===r&&Js(e)||"time"===r&&(Js(e)||h4(e)))return e;if("category"===r){if(p4(e)||h4(e)||Js(e))return{toString:function(){return String(e)}};if(function f4(l){return!!l&&l.hasOwnProperty("toString")&&p4(l.toString())}(e))return e}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},t.prototype.setSparklineDimensions=function(){var e=this,s=e.padding,h=e.seriesRect,p=e.rootGroup,S=e.height-s.top-s.bottom;h.width=e.width-s.left-s.right,h.height=S,h.x=s.left,h.y=s.top,p.translationX=h.x,p.translationY=h.y},t.prototype.pickClosestSeriesNodeDatum=function(e,r){var h,o=this,s=1/0,p=this.rootGroup.transformPoint(e,r);return this.getNodeData().forEach(function(y){if(y.point){var S=o.getDistance(p,y.point);S<s&&(s=S,h=y)}}),h},t.prototype.getDistance=function(e,r){return Math.abs(e.x-r.x)},t.prototype.handleTooltip=function(e,r){var o=r.seriesDatum,h=e.clientX,p=e.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var y={pageX:h,pageY:p},T=this.tooltip.enabled;if(this.tooltip.renderer){var O=this.tooltip.renderer({context:this.context,datum:o,yValue:o.y,xValue:o.x});T="string"!=typeof O&&void 0!==O.enabled?O.enabled:T}var R=T&&void 0!==o.y&&this.getTooltipHtml(r);R&&this.tooltip.show(y,R)},t.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},t.prototype.formatDatum=function(e){var r=this.axis.type||"category";return"number"===r&&"number"==typeof e?this.formatNumericDatum(e):"time"===r&&(e instanceof Date||Js(e))?this.defaultDateFormatter(e):String(e)},t.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}(d4),i9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function I3(l,t){if("string"==typeof l)return l;t=t||{};var O,R,e=l.content,r=void 0===e?t.content||"":e,o=l.title,s=void 0===o?t.title||void 0:o,h=l.color,p=void 0===h?t.color:h,y=l.backgroundColor,S=void 0===y?t.backgroundColor:y,E=l.opacity,T=void 0===E?t.opacity||1:E;if(p?(O=s?'<span class="'+m4.class+'-title"; style="color: '+p+'">'+s+"</span>":"",R='<span class="'+m4.class+'-content" style="color: '+p+'">'+r+"</span>"):(O=s?'<span class="'+m4.class+'-title">'+s+"</span>":"",R='<span class="'+m4.class+'-content">'+r+"</span>"),S){var N=_d.fromString(S.toLowerCase()),st=_d.fromArray([N.r,N.g,N.b,T]).toRgbaString();return'<div class="'+m4.class+'" style="background-color: '+st+'">\n                    '+O+"\n                    "+R+"\n                </div>"}return'<div class="'+m4.class+'">\n                    '+O+"\n                    "+R+"\n                </div>"}var m4=function(l){function t(){var e=l.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return i9(t,l),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var r=e.getAttribute("class");return!!r&&r.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var r=[t.class+"-wrapper"];!0!==e&&r.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",r.join(" "))},t.prototype.show=function(e,r){this.toggle(!1);var o=this.element;if(void 0!==r)o.innerHTML=r;else if(!o.innerHTML)return;var s=e.pageX+this.xOffset,h=e.pageY+this.yOffset,p=o.getBoundingClientRect(),y=window.innerWidth-p.width;if(this.container){var S=this.container.getBoundingClientRect();y=S.left+(S.width-p.width)}s>y&&(s=e.pageX-o.clientWidth-this.xOffset),o.style.left=Math.round(s)+"px",o.style.top=Math.round(h)+"px",this.toggle(!0)},t.prototype.toggle=function(e){this.updateClass(e)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}(d4),o9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),J5=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return o9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t}(Eu),a9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),DC=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return a9(t,l),t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,p=r.size/2;e.beginPath(),e.arc(o,s,p,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},t.className="Circle",t}(J5),s9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return s9(t,l),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,p=r.size/2;e.beginPath(),e.moveTo(o,s-=p),e.lineTo(o+=p,s+=p),e.lineTo(o-=p,s+=p),e.lineTo(o-=p,s-=p),e.lineTo(o+=p,s-=p),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Diamond",t}(J5),c9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return c9(t,l),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,h=r.size,p=h/2;e.beginPath(),e.moveTo(o-=p,s-=p),e.lineTo(o+=h,s),e.lineTo(o,s+=h),e.lineTo(o-=h,s),e.lineTo(o,s-=h),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Square",t}(J5);function OC(l){switch(l){case"circle":default:return DC;case"square":return u9;case"diamond":return l9}}function K6(l,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===l||"square"===l?null==r[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),r.solid):r[t]:null==e[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var d9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h9=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},p9=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},f9=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},g9=function(l){function t(){var e=l.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new P3,e.fillPath=new P3,e.xCrosshairLine=new hv,e.yCrosshairLine=new hv,e.areaSparklineGroup=new Vp,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new hv,e.markers=new Vp,e.markerSelection=n8.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new h9,e.line=new p9,e.crosshairs=new f9,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return d9(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();if(e){var r=e.nodeData,o=e.fillData,s=e.strokeData;this.markerSelectionData=r,this.fillPathData=o,this.strokePathData=s,this.updateSelection(r),this.updateNodes(),this.updateStroke(s),this.updateFill(o)}},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=C8(this.yData,Js),h=0,p=1;void 0!==s&&(h=this.min=s[0],p=this.max=s[1]),o.domain=[h=h<0?h:0,p=p<0?0:p]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale;if(e.data){for(var R,N,X,ae,y=h instanceof v1?h.bandwidth/2:0,S=o.length,E=[],T=[],O=[],le=p.convert(0),de=0;de<S;de++){var he=o[de],Ue=s[de],st=h.convert(Ue)+y,rt=p.convert(he);de+1<S&&(ae=h.convert(s[de+1])+y),O.push({seriesDatum:{x:Ue,y:he},point:{x:st,y:rt}}),void 0===he&&void 0!==X?(T.push({seriesDatum:void 0,point:{x:X,y:le}}),void 0!==ae&&T.push({seriesDatum:void 0,point:{x:ae,y:le}})):void 0!==he&&(T.push({seriesDatum:{x:Ue,y:he},point:{x:st,y:rt}}),E.push({seriesDatum:{x:Ue,y:he},point:{x:st,y:rt}}),R=void 0!==R?R:st,N=st),X=st}return T.push({seriesDatum:void 0,point:{x:N,y:le}},{seriesDatum:void 0,point:{x:R,y:le}}),{nodeData:E,fillData:T,strokeData:O}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,o=e.yScale,s=e.axis,h=e.xAxisLine;h.x1=r.range[0],h.x2=r.range[1],h.y1=h.y2=0,h.stroke=s.stroke,h.strokeWidth=s.strokeWidth;var p=o.convert(0);h.translationY=p},t.prototype.updateSelection=function(e){var o=OC(this.marker.shape),s=this.markerSelection.setData(e),h=s.enter.append(o);s.exit.remove(),this.markerSelection=s.merge(h)},t.prototype.updateNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.highlightStyle,h=r.marker,p=s.size,y=s.fill,S=s.stroke,E=s.strokeWidth,T=h.formatter;this.markerSelection.each(function(O,R,N){var X=R.point,ae=R.seriesDatum;if(X){var rt,le=R===o,de=le&&void 0!==y?y:h.fill,he=le&&void 0!==S?S:h.stroke,Ue=le&&void 0!==E?E:h.strokeWidth,st=le&&void 0!==p?p:h.size;T&&(rt=T({datum:R,xValue:ae.x,yValue:ae.y,min:ae.y===e.min,max:ae.y===e.max,first:0===N,last:N===e.markerSelectionData.length-1,fill:de,stroke:he,strokeWidth:Ue,size:st,highlighted:le})),O.size=rt&&null!=rt.size?rt.size:st,O.fill=rt&&null!=rt.fill?rt.fill:de,O.stroke=rt&&null!=rt.stroke?rt.stroke:he,O.strokeWidth=rt&&null!=rt.strokeWidth?rt.strokeWidth:Ue,O.translationX=X.x,O.translationY=X.y,O.visible=rt&&null!=rt.enabled?rt.enabled:h.enabled&&O.size>0}})},t.prototype.updateStroke=function(e){var r=this,o=r.strokePath,h=r.line;if(!(r.yData.length<2)){var p=o.path,y=e.length,S=!0;p.clear();for(var E=0;E<y;E++){var T=e[E],O=T.point,N=O.x,X=O.y;null==T.seriesDatum.y?S=!0:S?(p.moveTo(N,X),S=!1):p.lineTo(N,X)}o.lineJoin=o.lineCap="round",o.fill=void 0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth}},t.prototype.updateFill=function(e){var r=this,o=r.fillPath,s=r.yData,h=r.fill,p=o.path,y=e.length;if(p.clear(),!(s.length<2)){for(var S=0;S<y;S++){var E=e[S].point,T=E.x,O=E.y;S>0?p.lineTo(T,O):p.moveTo(T,O)}p.closePath(),o.lineJoin="round",o.stroke=void 0,o.fill=h}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.xLine;if(h.enabled&&null!=s){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:K6(o.lineCap,h.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.yLine;if(h.enabled&&null!=s){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:K6(o.lineCap,h.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var r=this.dataType,o=e.seriesDatum,s=o.y,h=o.x,S={content:this.formatNumericDatum(s),title:"array"===r||"object"===r?this.formatDatum(h):void 0};return this.tooltip.renderer?I3(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:h}),S):I3(S)},t.className="AreaSparkline",t}(Q5),v9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),m9=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},y9=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},C9=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},_9=function(l){function t(){var e=l.call(this)||this;return e.linePath=new P3,e.xCrosshairLine=new hv,e.yCrosshairLine=new hv,e.lineSparklineGroup=new Vp,e.markers=new Vp,e.markerSelection=n8.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new m9,e.line=new y9,e.crosshairs=new C9,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return v9(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=C8(this.yData,Js),h=0,p=1;if(void 0!==s&&(h=this.min=s[0],p=this.max=s[1]),h===p){var y=Math.abs(.01*h);h-=y,p+=y}o.domain=[h,p]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale;if(e.data){for(var y=h instanceof v1?h.bandwidth/2:0,S=[],E=0;E<o.length;E++){var T=o[E],O=s[E];if(null!=T){var R=h.convert(O)+y,N=p.convert(T);S.push({seriesDatum:{x:O,y:T},point:{x:R,y:N}})}}return S}},t.prototype.updateSelection=function(e){var o=OC(this.marker.shape),s=this.markerSelection.setData(e),h=s.enter.append(o);s.exit.remove(),this.markerSelection=s.merge(h)},t.prototype.updateNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.highlightStyle,h=r.marker,p=s.size,y=s.fill,S=s.stroke,E=s.strokeWidth,T=h.formatter;this.markerSelection.each(function(O,R,N){var Ue,X=R===o,ae=X&&void 0!==y?y:h.fill,le=X&&void 0!==S?S:h.stroke,de=X&&void 0!==E?E:h.strokeWidth,he=X&&void 0!==p?p:h.size,st=R.seriesDatum,rt=R.point;T&&(Ue=T({datum:R,xValue:st.x,yValue:st.y,min:st.y===e.min,max:st.y===e.max,first:0===N,last:N===e.markerSelectionData.length-1,fill:ae,stroke:le,strokeWidth:de,size:he,highlighted:X})),O.size=Ue&&null!=Ue.size?Ue.size:he,O.fill=Ue&&null!=Ue.fill?Ue.fill:ae,O.stroke=Ue&&null!=Ue.stroke?Ue.stroke:le,O.strokeWidth=Ue&&null!=Ue.strokeWidth?Ue.strokeWidth:de,O.translationX=rt.x,O.translationY=rt.y,O.visible=Ue&&null!=Ue.enabled?Ue.enabled:h.enabled&&O.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale,y=e.line;if(!(o.length<2)){var S=r.path,E=o.length,T=h instanceof v1?h.bandwidth/2:0,O=!0;S.clear();for(var R=0;R<E;R++){var X=o[R],ae=h.convert(s[R])+T,le=p.convert(X);null==X?O=!0:O?(S.moveTo(ae,le),O=!1):S.lineTo(ae,le)}r.fill=void 0,r.stroke=y.stroke,r.strokeWidth=y.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.xLine;if(h.enabled&&null!=s){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:K6(o.lineCap,h.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.yLine;if(h.enabled&&null!=s){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:K6(o.lineCap,h.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var r=this.dataType,o=e.seriesDatum,s=o.y,h=o.x,S={content:this.formatNumericDatum(s),title:"array"===r||"object"===r?this.formatDatum(h):void 0};return this.tooltip.renderer?I3(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:h}),S):I3(S)},t.className="LineSparkline",t}(Q5),w9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return w9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,h=r.width,p=r.height,y=r.crisp;if(e.beginPath(),y){var E=this.alignment,T=this.align;e.rect(T(E,o),T(E,s),T(E,o,h),T(E,s,p))}else e.rect(o,s,h,p);this.fillStroke(e),this.dirty=!1},t.className="Column",t}(Eu),b9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function TC(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}!function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}b9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=TC(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Hp.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Hp.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new zp(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Hp.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new zp(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.fill,s=r.stroke,h=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var p=this.scene.canvas.pixelRatio||1,y=e.globalAlpha;if(o){e.fillStyle=o,e.globalAlpha=y*this.opacity*this.fillOpacity;var S=this,E=S.fillShadow,T=S.text,O=S.x,R=S.y;E&&E.enabled&&(e.shadowColor=E.color,e.shadowOffsetX=E.xOffset*p,e.shadowOffsetY=E.yOffset*p,e.shadowBlur=E.blur*p),e.fillText(T,O,R)}if(s&&h){e.strokeStyle=s,e.lineWidth=h,e.globalAlpha=y*this.opacity*this.strokeOpacity;var N=this,X=N.lineDash,ae=N.lineDashOffset,le=N.lineCap,de=N.lineJoin,he=N.strokeShadow;T=N.text,O=N.x,R=N.y,X&&e.setLineDash(X),ae&&(e.lineDashOffset=ae),le&&(e.lineCap=le),de&&(e.lineJoin=de),he&&he.enabled&&(e.shadowColor=he.color,e.shadowOffsetX=he.xOffset*p,e.shadowOffsetY=he.yOffset*p,e.shadowBlur=he.blur*p),e.strokeText(T,O,R)}this.dirty=!1}},t.className="Text",t.defaultStyles=T3(Eu.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(Eu);var E9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),N3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},D9=function(l){function t(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return E9(t,l),t.prototype.getFont=function(){return TC(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},N3([m1("change","dataChange")],t.prototype,"enabled",void 0),N3([m1("change")],t.prototype,"fontSize",void 0),N3([m1("change")],t.prototype,"fontFamily",void 0),N3([m1("change")],t.prototype,"fontStyle",void 0),N3([m1("change")],t.prototype,"fontWeight",void 0),N3([m1("change")],t.prototype,"color",void 0),t}(d4),O9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return O9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=function x9(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Hp.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Hp.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new zp(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Hp.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new zp(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.fill,s=r.stroke,h=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var p=this.scene.canvas.pixelRatio||1,y=e.globalAlpha;if(o){e.fillStyle=o,e.globalAlpha=y*this.opacity*this.fillOpacity;var S=this,E=S.fillShadow,T=S.text,O=S.x,R=S.y;E&&E.enabled&&(e.shadowColor=E.color,e.shadowOffsetX=E.xOffset*p,e.shadowOffsetY=E.yOffset*p,e.shadowBlur=E.blur*p),e.fillText(T,O,R)}if(s&&h){e.strokeStyle=s,e.lineWidth=h,e.globalAlpha=y*this.opacity*this.strokeOpacity;var N=this,X=N.lineDash,ae=N.lineDashOffset,le=N.lineCap,de=N.lineJoin,he=N.strokeShadow;T=N.text,O=N.x,R=N.y,X&&e.setLineDash(X),ae&&(e.lineDashOffset=ae),le&&(e.lineCap=le),de&&(e.lineJoin=de),he&&he.enabled&&(e.shadowColor=he.color,e.shadowOffsetX=he.xOffset*p,e.shadowOffsetY=he.yOffset*p,e.shadowBlur=he.blur*p),e.strokeText(T,O,R)}this.dirty=!1}},t.className="Text",t.defaultStyles=T3(Eu.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Eu),xC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$6=(()=>(function(l){l[l.Rect=0]="Rect",l[l.Label=1]="Label"}($6||($6={})),$6))(),Bp=(()=>(function(l){l.InsideBase="insideBase",l.InsideEnd="insideEnd",l.Center="center",l.OutsideEnd="outsideEnd"}(Bp||(Bp={})),Bp))(),M9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Bp.InsideEnd,e}return xC(t,l),t}(D9),MC=function(l){function t(){var e=l.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new hv,e.sparklineGroup=new Vp,e.rectGroup=new Vp,e.labelGroup=new Vp,e.rectSelection=n8.select(e.rectGroup).selectAll(),e.labelSelection=n8.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new M9,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return xC(t,l),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,s=e.valueAxisDomain,h=C8(e.yData,Js),p=0,y=1;void 0!==h&&(p=this.min=h[0],y=this.max=h[1]),p=p<0?p:0,y=y<0?0:y,s&&(s[1]<y&&(s[1]=y),s[0]>p&&(s[0]=p)),r.domain=s||[p,y]},t.prototype.updateRectSelection=function(e){var r=this.rectSelection.setData(e),o=r.enter.append(S9);r.exit.remove(),this.rectSelection=r.merge(o)},t.prototype.updateRectNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.formatter,h=r.fill,p=r.stroke,y=r.strokeWidth,S=this.highlightStyle,E=S.fill,T=S.stroke,O=S.strokeWidth;this.rectSelection.each(function(R,N,X){var Ue,ae=N===o,le=ae&&void 0!==E?E:h,de=ae&&void 0!==T?T:p,he=ae&&void 0!==O?O:y,st=N.x,rt=N.y,Pt=N.width,Rt=N.height,Gt=N.seriesDatum;s&&(Ue=s({datum:N,xValue:Gt.x,yValue:Gt.y,width:Pt,height:Rt,min:Gt.y===e.min,max:Gt.y===e.max,first:0===X,last:X===e.nodeSelectionData.length-1,fill:le,stroke:de,strokeWidth:he,highlighted:ae})),R.fill=Ue&&Ue.fill||le,R.stroke=Ue&&Ue.stroke||de,R.strokeWidth=Ue&&Ue.strokeWidth||he,R.x=R.y=0,R.width=Pt,R.height=Rt,R.visible=R.height>0,R.translationX=st,R.translationY=rt})},t.prototype.updateLabelSelection=function(e){var r=this.labelSelection.setData(e),o=r.enter.append(T9).each(function(s){s.tag=$6.Label,s.pointerEvents=u4.None});r.exit.remove(),this.labelSelection=r.merge(o)},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,o=e.fontStyle,s=e.fontWeight,h=e.fontSize,p=e.fontFamily,y=e.color;this.labelSelection.each(function(S,E){var T=E.label;T&&r?(S.fontStyle=o,S.fontWeight=s,S.fontSize=h,S.fontFamily=p,S.textAlign=T.textAlign,S.textBaseline=T.textBaseline,S.text=T.text,S.x=T.x,S.y=T.y,S.fill=y,S.visible=!0):S.visible=!1})},t.prototype.getTooltipHtml=function(e){var r=this.dataType,o=e.seriesDatum,s=o.y,h=o.x,S={content:this.formatNumericDatum(s),title:"array"===r||"object"===r?this.formatDatum(h):void 0};return this.tooltip.renderer?I3(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:h}),S):I3(S)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(Q5),P9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),A9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return P9(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,o=e.seriesRect,s=e.paddingOuter,h=e.paddingInner,p=e.xData;r instanceof v1?(r.range=[0,o.height],r.paddingInner=h,r.paddingOuter=s):r.range=[0,o.height-o.height/p.length]},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,o=e.axis,s=e.axisLine,h=e.seriesRect,p=o.strokeWidth;s.x1=0,s.x2=0,s.y1=0,s.y2=h.height,s.stroke=o.stroke,s.strokeWidth=p+(p%2==1?1:0);var y=r.convert(0);s.translationX=y},t.prototype.generateNodeData=function(){var e=this,r=e.data,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale,y=e.fill,S=e.stroke,E=e.strokeWidth,T=e.label;if(r){for(var O=T.fontStyle,R=T.fontWeight,N=T.fontSize,X=T.fontFamily,ae=T.color,le=T.formatter,de=T.placement,he=[],Ue=p.convert(0),st=0,rt=o.length;st<rt;st++){var Pt=o[st],Rt=s[st],Gt=void 0===Pt;Gt&&(Pt=0);var dn,Zt=h.convert(Rt),Rn=Math.min(p.convert(Pt),Ue),Sn=Math.max(p.convert(Pt),Ue),rn=h instanceof v1?h.bandwidth:Math.abs(p.range[1]-p.range[0])/r.length,Cn=Sn-Rn,sn={x:Ue,y:Zt};dn=le?le({value:Pt}):void 0!==Pt&&Js(Pt)?this.formatLabelValue(Pt):"";var nr=Zt+rn/2,Yn=void 0,Wn=void 0,Vr=void 0!==Pt&&Pt>=0;if(de===Bp.Center)Yn=Rn+Cn/2,Wn="center";else if(de===Bp.OutsideEnd)Yn=Rn+(Vr?Cn+4:-4),Wn=Vr?"start":"end";else if(de===Bp.InsideEnd){Yn=Rn+(Vr?Cn-4:4),Wn=Vr?"end":"start";var Hr=Hp.getTextSize(dn,X).width||20;(Vr&&Yn<Ue+Hr||!Vr&&Yn>Ue-Hr)&&(Yn=Ue+4*(Vr?1:-1),Wn=Vr?"start":"end")}else Yn=Ue+4*(Vr?1:-1),Wn=Vr?"start":"end";he.push({x:Rn,y:Zt,width:Cn,height:rn,fill:y,stroke:S,strokeWidth:E,seriesDatum:{x:Rt,y:Gt?void 0:Pt},point:sn,label:{x:Yn,y:nr,text:dn,fontStyle:O,fontWeight:R,fontSize:N,fontFamily:X,textAlign:Wn,textBaseline:"middle",fill:ae}})}return he}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(MC),R9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),F9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return R9(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,o=e.seriesRect,s=e.paddingOuter,h=e.paddingInner,p=e.xData;r instanceof v1?(r.range=[0,o.width],r.paddingInner=h,r.paddingOuter=s):r.range=[0,o.width-o.width/p.length]},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,o=e.axis,s=e.axisLine,h=e.seriesRect,p=o.strokeWidth;s.x1=0,s.x2=h.width,s.y1=0,s.y2=0,s.stroke=o.stroke,s.strokeWidth=p+(p%2==1?1:0);var y=r.convert(0);s.translationY=y},t.prototype.generateNodeData=function(){var e=this,r=e.data,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale,y=e.fill,S=e.stroke,E=e.strokeWidth,T=e.label;if(r){for(var O=T.fontStyle,R=T.fontWeight,N=T.fontSize,X=T.fontFamily,ae=T.color,le=T.formatter,de=T.placement,he=[],Ue=p.convert(0),st=0,rt=o.length;st<rt;st++){var Pt=o[st],Rt=s[st],Gt=void 0===Pt;Gt&&(Pt=0);var dn,Zt=Math.min(p.convert(Pt),Ue),Rn=h.convert(Rt),Sn=Math.max(p.convert(Pt),Ue),rn=h instanceof v1?h.bandwidth:Math.abs(p.range[1]-p.range[0])/r.length,Cn=Sn-Zt,sn={x:Rn+rn/2,y:Ue};dn=le?le({value:Pt}):void 0!==Pt&&Js(Pt)?this.formatLabelValue(Pt):"";var nr=Rn+rn/2,Yn=void 0,Wn=void 0,Vr=void 0!==Pt&&Pt>=0;if(de===Bp.Center)Yn=Zt+Cn/2,Wn="middle";else if(de===Bp.OutsideEnd)Yn=Zt+(Vr?-2:Cn+2),Wn=Vr?"bottom":"top";else if(de===Bp.InsideEnd){Yn=Zt+(Vr?2:Cn-2),Wn=Vr?"top":"bottom";var Hr=Hp.getTextSize(dn,X).height||10;(Vr&&Yn>Ue-Hr||!Vr&&Yn<Ue+Hr)&&(Yn=Ue+2*(Vr?-1:1),Wn=Vr?"bottom":"top")}else Yn=Ue+2*(Vr?-1:1),Wn=Vr?"bottom":"top";he.push({x:Rn,y:Zt,width:rn,height:Cn,fill:y,stroke:S,strokeWidth:E,seriesDatum:{x:Rt,y:Gt?void 0:Pt},point:sn,label:{x:nr,y:Yn,text:dn,fontStyle:O,fontWeight:R,fontSize:N,fontFamily:X,textAlign:"center",textBaseline:Wn,fill:ae}})}return he}},t.className="ColumnSparkline",t}(MC),L9=function(){function l(){}return l.create=function(t,e){var r=function I9(l){switch(void 0===l&&(l="line"),l){case"column":return new F9;case"bar":return new A9;case"area":return new g9;default:return new _9}}((t=Object.create(t)).type);return e&&(r.tooltip=e),function k9(l,t){Qr(l,"context",t.context,t),Qr(l,"width",t.width,t),Qr(l,"height",t.height,t),Qr(l,"container",t.container,t),Qr(l,"xKey",t.xKey,t),Qr(l,"yKey",t.yKey,t),t.padding&&function H9(l,t){Qr(l,"top",t.top,t),Qr(l,"right",t.right,t),Qr(l,"bottom",t.bottom,t),Qr(l,"left",t.left,t)}(l.padding,t.padding),t.axis&&function B9(l,t){Qr(l,"type",t.type,t),Qr(l,"stroke",t.stroke,t),Qr(l,"strokeWidth",t.strokeWidth,t)}(l.axis,t.axis),t.highlightStyle&&function W9(l,t){Qr(l,"fill",t.fill,t),Qr(l,"size",t.size,t),Qr(l,"stroke",t.stroke,t),Qr(l,"strokeWidth",t.strokeWidth,t)}(l.highlightStyle,t.highlightStyle),t.tooltip&&l.tooltip&&function j9(l,t){Qr(l,"enabled",t.enabled,t),Qr(l,"container",t.container,t),Qr(l,"xOffset",t.xOffset,t),Qr(l,"yOffset",t.yOffset,t),Qr(l,"renderer",t.renderer,t)}(l.tooltip,t.tooltip)}(r,t),function N9(l,t){switch(t.type){case"bar":case"column":!function PC(l,t){Qr(l,"valueAxisDomain",t.valueAxisDomain,t),Qr(l,"fill",t.fill,t),Qr(l,"stroke",t.stroke,t),Qr(l,"strokeWidth",t.strokeWidth,t),Qr(l,"paddingInner",t.paddingInner,t),Qr(l,"paddingOuter",t.paddingOuter,t),Qr(l,"formatter",t.formatter,t),t.label&&function G9(l,t){Qr(l,"enabled",t.enabled,t),Qr(l,"fontStyle",t.fontStyle,t),Qr(l,"fontWeight",t.fontWeight,t),Qr(l,"fontSize",t.fontSize,t),Qr(l,"fontFamily",t.fontFamily,t),Qr(l,"textAlign",t.textAlign,t),Qr(l,"textBaseline",t.textBaseline,t),Qr(l,"color",t.color,t),Qr(l,"formatter",t.formatter,t),Qr(l,"placement",t.placement,t)}(l.label,t.label)}(l,t);break;case"area":!function V9(l,t){Qr(l,"fill",t.fill,t),t.marker&&AC(l.marker,t.marker),t.line&&RC(l.line,t.line),t.crosshairs&&FC(l.crosshairs,t.crosshairs)}(l,t);break;default:!function z9(l,t){t.marker&&AC(l.marker,t.marker),t.line&&RC(l.line,t.line),t.crosshairs&&FC(l.crosshairs,t.crosshairs)}(l,t)}}(r,t),t.data&&(r.data=t.data),r},l}();function AC(l,t){Qr(l,"enabled",t.enabled,t),Qr(l,"size",t.size,t),Qr(l,"shape",t.shape,t),Qr(l,"fill",t.fill,t),Qr(l,"stroke",t.stroke,t),Qr(l,"strokeWidth",t.strokeWidth,t),Qr(l,"formatter",t.formatter,t)}function RC(l,t){Qr(l,"stroke",t.stroke,t),Qr(l,"strokeWidth",t.strokeWidth,t)}function FC(l,t){l.xLine&&t.xLine&&LC(l.xLine,t.xLine),l.yLine&&t.yLine&&LC(l.yLine,t.yLine)}function LC(l,t){Qr(l,"enabled",t.enabled,t),Qr(l,"stroke",t.stroke,t),Qr(l,"strokeWidth",t.strokeWidth,t),Qr(l,"lineDash",t.lineDash,t),Qr(l,"lineCap",t.lineCap,t)}var IC={},NC=function(l,t,e){if(Js(t))return!0;var r="AG Charts: "+l+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return function U9(l,t){IC[t]||(l(),IC[t]=!0)}(function(){return console.warn(r)},l+" not a number"),!1},Y9={xOffset:NC,yOffset:NC};function Qr(l,t,e,r){if(t in r)if(t in l){var o=Y9[t];(!o||o(t,e,l[t]))&&l[t]!==e&&(l[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var K9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),e7=function(){return e7=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},e7.apply(this,arguments)},t7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},$9=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return K9(t,l),t.prototype.init=function(e){var r=this,o=!0,h=this.resizeObserverService.observeResize(this.getGui(),function(){var p=r.getGui(),y=p.clientWidth,S=p.clientHeight;if(0!==y&&0!==S)if(o){var E=e7({data:e.value,width:y,height:S,context:{data:e.data}},e.sparklineOptions);r.sparkline=L9.create(E,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),o=!1}else r.sparkline.width=y,r.sparkline.height=S});this.addDestroyFunc(function(){return h()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',t7([(0,w.cqo)("eSparkline")],t.prototype,"eSparkline",void 0),t7([(0,w.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),t7([(0,w.fsG)("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(w.wA2),q9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},X9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return q9(t,l),t.prototype.postConstruct=function(){this.tooltip=new m4},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},n7([w.NqP],t.prototype,"postConstruct",null),n7([w.FXL],t.prototype,"destroyTooltip",null),n7([(0,w.Vu6)("sparklineTooltipSingleton")],t)}(w.AS9),Z9={moduleName:w.GXE.SparklinesModule,beans:[X9],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:$9}],dependantModules:[$t]},kC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Q9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return kC(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,o){var s=this;this.showMenu(e,function(h){var p=h.getGui();s.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:r,ePopup:p}),o&&h.showTab(o)},"columnMenu",o,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,o,s,h){var p=this,y=-1,S="left";this.gridOptionsWrapper.isEnableRtl()&&(y=1,S="right"),this.showMenu(e,function(E){var T=E.getGui();p.popupService.positionPopupUnderComponent({type:o,column:e,eventSource:r,ePopup:T,alignSide:S,nudgeX:9*y,nudgeY:-23,keepWithinBounds:!0}),s&&E.showTab(s)},o,s,h,r)},t.prototype.showMenu=function(e,r,o,s,h,p){var y=this,S=this.createBean(new r7(e,this.lastSelectedTab,h)),E=S.getGui(),T=p||this.ctrlsService.getGridBodyCtrl().getGui(),O=[];O.push(function(ae){if(y.destroyBean(S),e.setMenuVisible(!1,"contextMenu"),ae instanceof KeyboardEvent&&p&&w._.isVisible(p)){var de=y.focusService.findTabbableParent(p);de&&de.focus()}});var R=this.gridOptionsWrapper.getLocaleTextFunc(),N=this.popupService.addPopup({modal:!0,eChild:E,closeOnEsc:!0,closedCallback:function(ae){O.forEach(function(le){return le(ae)})},afterGuiAttached:function(ae){return S.afterGuiAttached(Object.assign({},{container:o},ae))},positionCallback:function(){return r(S)},anchorToElement:T,ariaLabel:R("ariaLabelColumnMenu","Column Menu")});if(N){var X=N.stopAnchoringPromise;X&&X.then(function(ae){e.addEventListener(w.sgG.EVENT_LEFT_CHANGED,ae),e.addEventListener(w.sgG.EVENT_VISIBLE_CHANGED,ae),O.push(function(){e.removeEventListener(w.sgG.EVENT_LEFT_CHANGED,ae),e.removeEventListener(w.sgG.EVENT_VISIBLE_CHANGED,ae)})})}s||(S.showTabBasedOnPreviousSelection(),r(S)),S.addEventListener(r7.EVENT_TAB_SELECTED,function(ae){y.lastSelectedTab=ae.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=S,S.addEventListener(w.AS9.EVENT_DESTROYED,function(){y.activeMenu===S&&(y.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(r7.TABS_DEFAULT).length>0},wd([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),wd([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),wd([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),wd([(0,w.Vu6)("menuFactory")],t)}(w.AS9),r7=function(l){function t(e,r,o){var s=l.call(this)||this;return s.tabFactories={},s.includeChecks={},s.column=e,s.initialSelection=r,s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return e.isFilterAllowed()},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s.restrictTo=o,s}return kC(t,l),t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(o){return e.createTab(o)});this.tabbedLayout=new w.WD6({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(r){return e.isValidMenuTabItem(r)}).filter(function(r){return e.isNotSuppressed(r)}).filter(function(r){return e.isModuleLoaded(r)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||w.O3h.isRegistered(w.GXE.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var r=!0,o=t.TABS_DEFAULT;return null!=this.restrictTo&&(r=this.restrictTo.indexOf(e)>-1,o=this.restrictTo),(r=r&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+o+"]"),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL}r&&this.activateTab(r)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var r,e=this.getDefaultMenuOptions(),o=this.gridOptionsWrapper.getMainMenuItemsFunc();return r=o?o({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:e}):e,w._.removeRepeatsFromArray(r,t.MENU_ITEM_SEPARATOR),r},t.prototype.getDefaultMenuOptions=function(){var e=[],r=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,s=o>0,h=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,p=this.column.isAllowValue(),y=this.column.isAllowRowGroup(),S=this.column.isPrimary(),E=this.columnModel.isPivotMode(),T=this.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,O=this.gridOptionsWrapper.isTreeData(),R=S&&s&&p||!S;return r&&e.push("pinSubMenu"),R&&e.push("valueAggSubMenu"),(r||R)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),y&&this.column.isPrimary()&&e.push(h?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),T&&(O||o>(E?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new w.O_3);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(w.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:w._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:w.j_S.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var r;e&&e.event&&e.event instanceof KeyboardEvent&&(r=e.event),this.hidePopupFunc(r&&{keyboardEvent:r});var o=this.focusService.getFocusedCell(),s=this.gridOptionsWrapper.getDocument();s.activeElement===s.body&&o&&this.focusService.setFocusedCell(o.rowIndex,o.column,o.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e,r=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!r)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:w._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=r)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(s){var h;!(null===(h=r)||void 0===h?void 0:h.filterPromise)||r.filterPromise.then(function(p){p&&p.afterGuiAttached&&p.afterGuiAttached(s)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new B1);var r=this.column.getColDef().columnsMenuParams;r||(r={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!r.contractColumnSelection,suppressColumnExpandAll:!!r.suppressColumnExpandAll,suppressColumnFilter:!!r.suppressColumnFilter,suppressColumnSelectAll:!!r.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!r.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu");var o=this.columnSelectPanel.getGui();return o.classList.add("ag-menu-column-select"),e.appendChild(o),this.tabItemColumns={title:w._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:w.j_S.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var o=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:o}),o&&(this.hidePopupFunc=o,this.addDestroyFunc(o))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",wd([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),wd([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),wd([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),wd([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),wd([(0,w.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),wd([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),wd([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),wd([w.NqP],t.prototype,"init",null),t}(w.AS9),zC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},VC="ag-context-menu-open",ew=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return zC(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,o){var s=[];if(w._.exists(e)&&w.O3h.isRegistered(w.GXE.ClipboardModule)&&r&&s.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&w.O3h.isRegistered(w.GXE.RangeSelectionModule)&&w.O3h.isRegistered(w.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&s.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&s.push("chartRange")),w._.exists(e)){var h=!w.O3h.isRegistered(w.GXE.CsvExportModule),p=!w.O3h.isRegistered(w.GXE.ExcelExportModule),y=this.gridOptionsWrapper.isSuppressExcelExport()||p,S=this.gridOptionsWrapper.isSuppressCsvExport()||h;!(w._.isIOSUserAgent()||y&&S)&&s.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var O=this.gridOptionsWrapper.getContextMenuItemsFunc(),R={node:e,column:r,value:o,defaultItems:s.length?s:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return O?O(R):void 0}return s},t.prototype.onContextMenu=function(e,r,o,s,h,p){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu())||this.showMenu(o,s,h,e||r.touches[0],p)&&(e||r).preventDefault()},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var o=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===o&&e.preventDefault()},t.prototype.showMenu=function(e,r,o,s,h){var p=this,y=this.getMenuItems(e,r,o),S=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===y||w._.missingOrEmpty(y))return!1;var E=new tw(y);this.createBean(E);var T=E.getGui(),O={column:r,rowNode:e,type:"contextMenu",mouseEvent:s,ePopup:T,nudgeY:1},R=this.gridOptionsWrapper.getLocaleTextFunc(),N=this.popupService.addPopup({modal:!0,eChild:T,closeOnEsc:!0,closedCallback:function(){S.classList.remove(VC),p.destroyBean(E)},click:s,positionCallback:function(){p.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:p.gridOptionsWrapper.isEnableRtl()?-1*(T.offsetWidth+1):1},O))},anchorToElement:h,ariaLabel:R("ariaLabelContextMenu","Context Menu")});return N&&(S.classList.add(VC),E.afterGuiAttached({container:"contextMenu",hidePopup:N.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=E,E.addEventListener(w.AS9.EVENT_DESTROYED,function(){p.activeMenu===E&&(p.activeMenu=null)}),N&&E.addEventListener(w.sJC.EVENT_MENU_ITEM_SELECTED,N.hideFunc),!0},_1([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),_1([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),_1([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),_1([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),_1([(0,w.Vu6)("contextMenuFactory")],t)}(w.AS9),tw=function(l){function t(e){var r=l.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return r.menuList=null,r.focusedCell=null,r.menuItems=e,r}return zC(t,l),t.prototype.addMenuItems=function(){var e=this,r=this.createBean(new w.O_3),o=this.menuItemMapper.mapWithStockItems(this.menuItems,null);r.addMenuItems(o),this.appendChild(r),this.menuList=r,r.addEventListener(w.sJC.EVENT_MENU_ITEM_SELECTED,function(s){return e.dispatchEvent(s)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,o=r.rowIndex,s=r.rowPinned,h=r.column,p=this.gridOptionsWrapper.getDocument();p.activeElement===p.body&&this.focusService.setFocusedCell(o,h,s,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),l.prototype.destroy.call(this)},_1([(0,w.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),_1([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),_1([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),_1([w.NqP],t.prototype,"addMenuItems",null),t}(w.wA2),nw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),k3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},rw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return nw(t,l),t.prototype.mapWithStockItems=function(e,r){var o=this;if(!e)return[];var s=[];return e.forEach(function(h){var p;if(p="string"==typeof h?o.getStockMenuItem(h,r):h){var S=p.subMenu;S&&S instanceof Array&&(p.subMenu=o.mapWithStockItems(p.subMenu,r)),null!=p&&s.push(p)}}),s},t.prototype.getStockMenuItem=function(e,r){var o=this,s=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:w._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(r,w.gTE.PINNED_LEFT,"contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(r,w.gTE.PINNED_RIGHT,"contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(r,null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Aggregation from Menu")?{name:s("valueAggregation","Value Aggregation"),icon:w._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(r,h,"contextMenu")}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(h,"contextMenu")}};case"rowGroup":return{name:s("groupBy","Group by")+" "+w._.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return o.columnModel.addRowGroupColumn(r,"contextMenu")},icon:w._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:s("ungroupBy","Un-Group by")+" "+w._.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return o.columnModel.removeRowGroupColumn(r,"contextMenu")},icon:w._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Copy from Menu")?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:w._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:s("copyWithHeaders","Copy with Headers"),icon:w._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:w._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Paste from Clipboard")?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:w._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var p=[],y=w.O3h.isRegistered(w.GXE.CsvExportModule),S=w.O3h.isRegistered(w.GXE.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&y&&p.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&S&&p.push("excelExport"),{name:s("export","Export"),subMenu:p,icon:w._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:w._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:w._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var r=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),s=function(p,y,S){return{name:o(p,y),action:function(){return r.chartService.createPivotChart({chartType:S})}}},h=function(p,y,S){return{name:o(p,y),action:function(){return r.chartService.createChartFromCurrentRange(S)}}};switch(e){case"pivotChart":return{name:o("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:w._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:o("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:w._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:o("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return s("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return s("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return s("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:o("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return h("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return h("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return h("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:o("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return s("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return s("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return s("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:o("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return h("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return h("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return h("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:o("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return s("pie","Pie&lrm;","pie");case"pivotDoughnut":return s("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:o("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return h("pie","Pie&lrm;","pie");case"rangeDoughnut":return h("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return s("line","Line&lrm;","line");case"rangeLineChart":return h("line","Line&lrm;","line");case"pivotXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return s("scatter","Scatter&lrm;","scatter");case"pivotBubble":return s("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return h("scatter","Scatter&lrm;","scatter");case"rangeBubble":return h("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:o("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return s("area","Area&lrm;","area");case"pivotStackedArea":return s("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return s("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:o("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return h("area","Area&lrm;","area");case"rangeStackedArea":return h("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return h("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return h("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return h("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return h("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:o("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var p,r=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),s=e.isValueActive(),h=this.aggFuncService.getFuncNames(e);if(e.isPrimary())p=e;else{var y=e.getColDef().pivotValueColumn;p=w._.exists(y)?y:void 0}var S=[];return h.forEach(function(E){S.push({name:o(E,E),action:function(){r.columnModel.setColumnAggFunc(p,E,"contextMenu"),r.columnModel.addValueColumn(p,"contextMenu")},checked:s&&p.getAggFunc()===E})}),S},k3([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),k3([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),k3([(0,w.FiY)("clipboardService")],t.prototype,"clipboardService",void 0),k3([(0,w.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),k3([(0,w.FiY)("chartService")],t.prototype,"chartService",void 0),k3([(0,w.Vu6)("menuItemMapper")],t)}(w.AS9),iw={moduleName:w.GXE.MenuModule,beans:[Q9,ew,rw],dependantModules:[$t]},ow=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sw=function(l){function t(e){var r=l.call(this,'<div class="ag-rich-select-row"></div>')||this;return r.params=e,r}return ow(t,l),t.prototype.setState=function(e,r,o){this.populateWithRenderer(e,r)||this.populateWithoutRenderer(e,r),this.addOrRemoveCssClass("ag-rich-select-row-selected",o)},t.prototype.populateWithoutRenderer=function(e,r){var s=null!=r?r:e;w._.exists(s)&&""!==s?this.getGui().textContent=s.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,r){var o=this,s={value:e,valueFormatted:r,api:this.gridOptionsWrapper.getApi()},h=this.userComponentFactory.getCellRendererDetails(this.params,s),p=h?h.newAgStackInstance():void 0;return null!=p?w._.bindCellRendererToHtmlElement(p,this.getGui()):this.getGui().innerText=null!=s.valueFormatted?s.valueFormatted:s.value,!!p&&(p.then(function(y){o.addDestroyFunc(function(){o.getContext().destroyBean(y)})}),!0)},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(w.wA2),lw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),i7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},HC=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return lw(t,l),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var r=w._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(r.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(r),this.virtualList=this.getContext().createBean(new w.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),w._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),w._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var o=e.values;this.virtualList.setModel({getRowCount:function(){return o.length},getRow:function(p){return o[p]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var s=this.virtualList.getGui();this.addManagedListener(s,"click",this.onClick.bind(this)),this.addManagedListener(s,"mousemove",this.onMouseMove.bind(this));var h=w._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=w._.debounce(this.clearSearchString,h),w._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var r=e.key;switch(e.preventDefault(),r){case w.VDZ.ENTER:this.onEnterKeyDown();break;case w.VDZ.TAB:this.confirmSelection();break;case w.VDZ.DOWN:case w.VDZ.UP:this.onNavigationKeyPressed(e,r);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,r){e.preventDefault();var o=this.params.values.indexOf(this.selectedValue),s=r===w.VDZ.UP?o-1:o+1;s>=0&&s<this.params.values.length&&this.setSelectedValue(this.params.values[s])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var r=e.key;if(r===w.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!w._.isEventFromPrintableCharacter(e))return;this.searchText(r)}},t.prototype.runSearch=function(){var o,e=this,r=this.params.values;if(("number"==typeof r[0]||"string"==typeof r[0])&&(o=r.map(String)),"object"==typeof r[0]&&this.params.colDef.keyCreator&&(o=r.map(function(y){var S={value:y,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(S)})),o){var s=w._.fuzzySuggestions(this.searchString,o,!0,!0)[0];if(s){var h=o.indexOf(s);this.setSelectedValue(r[h])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,r=this.params.formatValue(this.selectedValue),o=this.eValue,s={value:this.selectedValue,valueFormatted:r,api:this.gridOptionsWrapper.getApi()},h=this.userComponentFactory.getCellRendererDetails(this.params,s),p=h?h.newAgStackInstance():void 0;p?(w._.bindCellRendererToHtmlElement(p,o),p.then(function(y){e.addDestroyFunc(function(){return e.getContext().destroyBean(y)})})):w._.exists(this.selectedValue)?o.innerHTML=r:w._.clearElement(o)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var r=this.params.values.indexOf(e);-1!==r&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(r),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var r=this.params.formatValue(e),o=new sw(this.params);return this.getContext().createBean(o),o.setState(e,r,e===this.selectedValue),o},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),o=this.virtualList.getScrollTop(),h=Math.floor((e.clientY-r.top+o)/this.virtualList.getRowHeight()),p=this.params.values[h];void 0!==p&&this.setSelectedValue(p)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',i7([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),i7([(0,w.cqo)("eValue")],t.prototype,"eValue",void 0),i7([(0,w.cqo)("eList")],t.prototype,"eList",void 0),t}(w.RXH),cw={moduleName:w.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:HC},{componentName:"agRichSelectCellEditor",componentClass:HC}],dependantModules:[$t]},uw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$c=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},dw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return uw(t,l),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&w._.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.DefaultGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&w._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams)return void this.resetRootStore();var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=!w._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),h=!w._.jsonEquals(this.storeParams.rowGroupCols,e),p=!w._.jsonEquals(this.storeParams.pivotCols,o),y=!w._.jsonEquals(this.storeParams.valueCols,r);(s||h||p||y)&&this.resetRootStore()}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var o=this.getRootStore();!o||(o.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new w.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:w.zW2.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(o){return{id:o.getId(),aggFunc:o.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(o,"model"),field:o.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:r,rowGroupCols:e,pivotCols:o,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new w.at1,dynamicRowHeight:s}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new w.at1,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.group&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var o=this.getRootStore();!o||(o.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();return r?r.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var r=this.getRootStore();!r||r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var r=this.getRootStore();!r||r.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,r){var o=this.getRootStore();if(o){var s=o.getChildStore(e);s&&r(s)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(o){return o.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){return w._.exists(r)&&e.parent!==r.parent?[]:e.parent.childStore.getRowNodesInRange(r,e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o),o.detailNode&&o.detailNode.id===e&&(r=o.detailNode)}),r},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},$c([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),$c([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),$c([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),$c([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),$c([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),$c([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),$c([(0,w.fsG)("ssrmSortService")],t.prototype,"sortListener",void 0),$c([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),$c([(0,w.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),$c([(0,w.fsG)("beans")],t.prototype,"beans",void 0),$c([w.FXL],t.prototype,"destroyDatasource",null),$c([w.NqP],t.prototype,"addEventListeners",null),$c([w.FXL],t.prototype,"destroyRootStore",null),$c([(0,w.Vu6)("rowModel")],t)}(w.AS9),hw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},pw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return hw(t,l),t.prototype.loadFromDatasource=function(e){var r=e.parentNode.getGroupKeys(),o=e.storeParams;if(o.datasource){var h={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:o.rowGroupCols,valueCols:o.valueCols,pivotCols:o.pivotCols,pivotMode:o.pivotMode,groupKeys:r,filterModel:o.filterModel,sortModel:o.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){o.datasource&&o.datasource.getRows(h)},0)}},t.prototype.getChildStore=function(e,r,o){if(w._.missingOrEmpty(e))return r;var h=o(e[0]);if(h){var p=e.slice(1,e.length),y=h.childStore;return y?y.getChildStore(p):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,o){if(o.alwaysReset||o.valueColChanged||o.secondaryColChanged)return!0;var s=e.level+1;return!(s<r.length&&!(o.changedColumns.indexOf(r[s].id)>-1))},o7([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),o7([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),o7([(0,w.Vu6)("ssrmStoreUtils")],t)}(w.AS9),fw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),z3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},gw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return fw(t,l),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var r=new w.Fxk(this.beans);return r.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var r=this.gridOptionsWrapper.getIsServerSideGroupFunc(),o=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=r&&(e.setGroup(r(e.data)),e.group&&null!=o&&(e.key=o(e.data))),!e.group&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&w._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==r||r(e.data)},t.prototype.updateDataIntoRowNode=function(e,r){e.updateData(r),this.usingTreeData&&this.setTreeGroupInfo(e)},t.prototype.setDataIntoRowNode=function(e,r,o,s){e.stub=!1,w._.exists(r)?(e.setDataAndId(r,o),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),w._.exists(r)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,s).height)},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsWrapper.getChildCountFunc();r&&(e.allChildrenCount=r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,o=this.columnModel.getGroupDisplayColumns(),s=this.gridOptionsWrapper.isTreeData();o.forEach(function(h){if(null==e.groupData&&(e.groupData={}),s)e.groupData[h.getColId()]=e.key;else if(h.isRowGroupDisplayed(e.rowGroupColumn.getId())){var p=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[h.getColId()]=p}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&w._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,o){if(e.setRowIndex(r.next()),e.setRowTop(o.value),o.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(o.value),o.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&w._.exists(e.childStore)){var p=e.childStore;e.expanded?p.setDisplayIndexes(r,o):p.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,r){var o=0,s=r.length-1;if(w._.missing(s)||w._.missing(o))console.warn("AG Grid: error: topPointer = "+s+", bottomPointer = "+o);else for(;;){var h=Math.floor((o+s)/2),p=r[h];if(p.rowIndex===e)return p;var S=p.detailNode;if(p.master&&p.expanded&&S&&S.rowIndex===e)return p.detailNode;var E=p.childStore;if(p.expanded&&E&&E.isDisplayIndexInStore(e))return E.getRowUsingDisplayIndex(e);if(p.rowIndex<e)o=h+1;else{if(!(p.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");s=h-1}}},t.prototype.extractRowBounds=function(e,r){var o=function(h){return{rowHeight:h.rowHeight,rowTop:h.rowTop}};if(e.rowIndex===r)return o(e);if(e.group&&e.expanded&&w._.exists(e.childStore)){var s=e.childStore;if(s.isDisplayIndexInStore(r))return s.getRowBounds(r)}else if(e.master&&e.expanded&&w._.exists(e.detailNode)&&e.detailNode.rowIndex===r)return o(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var s=e.detailNode;if(e.master&&e.expanded&&s&&s.isPixelInRange(r))return e.detailNode.rowIndex;if(e.group&&e.expanded&&w._.exists(e.childStore)){var h=e.childStore;if(h.isPixelInRange(r))return h.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],o=e;o&&o.level>=0;)r.push(o.key),o=o.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var r=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();r&&r({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},z3([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),z3([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),z3([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),z3([(0,w.fsG)("beans")],t.prototype,"beans",void 0),z3([w.NqP],t.prototype,"postConstruct",null),z3([(0,w.Vu6)("ssrmBlockUtils")],t)}(w.AS9),GC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},vw=function(){function l(){this.rowNodes={}}return l.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: duplicate node id "+t.id),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},l.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},l.prototype.clear=function(){this.rowNodes={}},GC([w.FXL],l.prototype,"clear",null),GC([(0,w.Vu6)("ssrmNodeManager")],l)}(),mw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},yw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.asyncTransactions=[],e}return mw(t,l),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,r){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var r=[],o=[],s=[],h=!1;if(this.asyncTransactions.forEach(function(y){var S;e.serverSideRowModel.executeOnStore(y.transaction.route,function(T){S=T.applyTransaction(y.transaction)}),null==S&&(S={status:w.Qk6.StoreNotFound}),o.push(S),S.status==w.Qk6.StoreLoading?s.push(y):(y.callback&&r.push(function(){return y.callback(S)}),S.status===w.Qk6.Applied&&(h=!0))}),r.length>0&&window.setTimeout(function(){r.forEach(function(y){return y()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,h&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})),o.length>0){var p={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:w.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(p)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r;return this.serverSideRowModel.executeOnStore(e.route,function(o){r=o.applyTransaction(e)}),r?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED}),r):{status:w.Qk6.StoreNotFound}},_8([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),_8([(0,w.fsG)("valueCache")],t.prototype,"valueCache",void 0),_8([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),_8([w.NqP],t.prototype,"postConstruct",null),_8([(0,w.Vu6)("ssrmTransactionManager")],t)}(w.AS9),Cw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},_w=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Cw(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,w.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(w._.missing(r.childStore)){var o=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(o,r))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&w._.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(w._.exists(e.detailNode))return e.detailNode;var r=new w.Fxk(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,w._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var s=this.gridOptionsWrapper.getRowHeightForNode(r).height;return r.rowHeight=s||200,e.detailNode=r,r},w8([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),w8([(0,w.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),w8([(0,w.fsG)("beans")],t.prototype,"beans",void 0),w8([w.NqP],t.prototype,"postConstruct",null),w8([(0,w.Vu6)("ssrmExpandListener")],t)}(w.AS9),ww=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),V3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Sw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ww(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,w.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var r=w.gTE.GROUP_AUTO_COLUMN_ID+"-",o=0;o<e.length;++o)e[o].colId.indexOf(r)>-1&&(e[o].colId=e[o].colId.substr(r.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var r=e.find(function(y){return y.colId==w.gTE.GROUP_AUTO_COLUMN_ID});if(r){var o=e.indexOf(r);w._.removeFromArray(e,r);var p=this.columnModel.getRowGroupColumns().filter(function(y){return 0==e.filter(function(S){return S.colId===y.getColId()}).length}).map(function(y){return{colId:y.getId(),sort:r.sort}});w._.insertArrayIntoArray(e,p,o)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.extractSortModel(),s=this.findChangedColumnsInSort(r,e.sortModel),h=this.listenerUtils.isSortingWithValueColumn(s),p=this.listenerUtils.isSortingWithSecondaryColumn(s),y=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(r,{valueColChanged:h,secondaryColChanged:p,alwaysReset:y,changedColumns:s})}},t.prototype.findChangedColumnsInSort=function(e,r){var o=[];return[e,r].forEach(function(p){if(p){var y=p.map(function(S){return S.colId});o=o.concat(y)}}),o.filter(function(p){var y=r.find(function(E){return E.colId===p}),S=e.find(function(E){return E.colId===p});return function(p,y){return(p?p.sort:null)!==(y?y.sort:null)}(y,S)||function(p,y){return(p?r.indexOf(p):-1)!==(y?e.indexOf(y):-1)}(y,S)})},V3([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),V3([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),V3([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),V3([(0,w.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),V3([w.NqP],t.prototype,"postConstruct",null),V3([(0,w.Vu6)("ssrmSortService")],t)}(w.AS9),bw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ew=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return bw(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.filterManager.getFilterModel(),s=this.findChangedColumns(r,e?e.filterModel:{}),h=this.listenerUtils.isSortingWithValueColumn(s),p=this.listenerUtils.isSortingWithSecondaryColumn(s),y=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(r,{valueColChanged:h,secondaryColChanged:p,alwaysReset:y,changedColumns:s})}},t.prototype.findChangedColumns=function(e,r){var o={};Object.keys(e).forEach(function(h){return o[h]=!0}),Object.keys(r).forEach(function(h){return o[h]=!0});var s=[];return Object.keys(o).forEach(function(h){JSON.stringify(e[h])!=JSON.stringify(r[h])&&s.push(h)}),s},S8([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),S8([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),S8([(0,w.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),S8([w.NqP],t.prototype,"postConstruct",null),S8([(0,w.Vu6)("ssrmFilterListener")],t)}(w.AS9),Dw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ow=function(l,t){return function(e,r){t(e,r,l)}},BC=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WC=function(l){function t(e,r,o,s,h){var p=l.call(this,e)||this;return p.ssrmParams=o,p.storeParams=s,p.parentRowNode=r,p.startRow=e*s.cacheBlockSize,p.parentStore=h,p.level=r.level+1,p.groupLevel=o.rowGroupCols?p.level<o.rowGroupCols.length:void 0,p.leafGroup=!!o.rowGroupCols&&p.level===o.rowGroupCols.length-1,p}return Dw(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(r){return r.expanded}).length>0},t.prototype.forEachNode=function(e,r,o,s){void 0===r&&(r=new w.at1),this.rowNodes.forEach(function(h){if(e(h,r.next()),o&&h.childStore){var p=h.childStore;s?p.forEachNodeDeepAfterFilterAndSort(e,r):p.forEachNodeDeep(e,r)}})},t.prototype.forEachNodeDeep=function(e,r){this.forEachNode(e,r,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){this.forEachNode(e,r,!0,!0)},t.prototype.forEachNodeShallow=function(e,r){this.forEachNode(e,r,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===w.NlK.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,r){void 0===e&&(e=[]),void 0===r&&(r=!1),this.destroyRowNodes();for(var o=this.parentStore.getRowCount(),s=this.getId()*this.storeParams.cacheBlockSize,p=Math.min(s+this.storeParams.cacheBlockSize,o)-s,S=this.columnModel.isAutoRowHeightActive()?this.parentStore.getCachedBlockHeight(this.getId()):void 0,E=S?Math.round(S/p):void 0,T=0;T<p;T++){var O=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:E});if(T<e.length){var N=e[T],X=this.prefixId(this.startRow+T);this.blockUtils.setDataIntoRowNode(O,N,X,E),this.parentStore.removeDuplicateNode(O.id),this.nodeManager.addRowNode(O),this.allNodesMap[O.id]=O,this.blockUtils.checkOpenByDefault(O)}this.rowNodes.push(O),r&&(O.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){var r=this.allNodesMap[e];if(r){this.blockUtils.destroyRowNode(r);var o=this.rowNodes.indexOf(r),s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[o]=s}},t.prototype.refresh=function(){this.getState()!==w.NlK.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var r,o,s;this.touchLastAccessed();try{for(var h=BC(this.rowNodes),p=h.next();!p.done&&null==(s=this.blockUtils.extractRowBounds(p.value,e));p=h.next());}catch(S){r={error:S}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return s},t.prototype.getRowIndexAtPixel=function(e){var r,o;this.touchLastAccessed();var s=null;try{for(var h=BC(this.rowNodes),p=h.next();!p.done&&null==(s=this.blockUtils.getIndexAtPixel(p.value,e));p=h.next());}catch(S){r={error:S}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return s},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.blockTopPx=r.value,this.rowNodes.forEach(function(s){return o.blockUtils.setDisplayIndex(s,e,r)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=r.value-this.blockTopPx},pv([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),pv([(0,w.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),pv([(0,w.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),pv([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),pv([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),pv([w.NqP],t.prototype,"postConstruct",null),pv([w.FXL],t.prototype,"destroyRowNodes",null),pv([Ow(0,(0,w.qaB)("loggerFactory"))],t.prototype,"setBeans",null),t}(w.NlK),Tw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},xw=function(l,t){return function(e,r){t(e,r,l)}},el=(()=>(function(l){l[l.FOUND=0]="FOUND",l[l.CONTINUE_FIND=1]="CONTINUE_FIND",l[l.BREAK_FIND=2]="BREAK_FIND"}(el||(el={})),el))(),Mw=function(l){function t(e,r,o){var s=l.call(this)||this;return s.blocks={},s.blockHeights={},s.lastRowIndexKnown=!1,s.displayIndexStart=0,s.displayIndexEnd=0,s.cacheTopPixel=0,s.info={},s.ssrmParams=e,s.storeParams=r,s.parentRowNode=o,s.rowCount=t.INITIAL_ROW_COUNT,s}return Tw(t,l),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,r){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r.rowCount),r.storeInfo&&Object.assign(this.info,r.storeInfo),r.rowData||w._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',r)},"InfiniteStore.noData");var s=null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,s),e.setData(r.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter(function(S){return S!=e});o.sort(function(S,E){return E.getLastAccessed()-S.getLastAccessed()});var h=this.storeParams.maxBlocksInCache>0,p=h?this.storeParams.maxBlocksInCache-1:null,y=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(S,E){if(S.getState()===WC.STATE_WAITING_TO_LOAD&&E>=y||h&&E>=p){if(S.isAnyNodeOpen()||r.isBlockCurrentlyDisplayed(S)||r.isBlockFocused(S))return;r.destroyBlock(S)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var o=e.getDisplayIndexStart(),s=e.getDisplayIndexEnd();return null!=s&&null!=o&&r.rowIndex>=o&&r.rowIndex<s},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getDisplayIndexStart(),o=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(r){return r.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<s&&(this.rowCount=s)}},t.prototype.forEachNodeDeep=function(e,r){void 0===r&&(r=new w.at1),this.getBlocksInOrder().forEach(function(o){return o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){void 0===r&&(r=new w.at1),this.getBlocksInOrder().forEach(function(o){return o.forEachNodeAfterFilterAndSort(e,r)})},t.prototype.getBlocksInOrder=function(){return w._.getAllValuesInObject(this.blocks).sort(function(o,s){return o.getId()-s.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return e.destroyBlock(o)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||0===this.rowCount)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,r){var o=[],s=-1,h=!1;w._.missing(e)&&(h=!0);var p=!1;return this.getBlocksInOrder().forEach(function(S){if(!p){if(h&&s+1!==S.getId())return void(p=!0);s=S.getId(),S.forEachNodeShallow(function(E){var T=E===e||E===r;(h||T)&&o.push(E),T&&(h=!h)})}}),p||h?[]:o},t.prototype.findBlockAndExecute=function(e,r,o){var y,s=!1,h=!1,p=null;return this.getBlocksInOrder().forEach(function(S){if(!s&&!h){var E=e(S);E==el.FOUND?(y=r(S),s=!0):E==el.CONTINUE_FIND?p=S:E==el.BREAK_FIND&&(h=!0)}}),s||(y=o(p)),y},t.prototype.getRowBounds=function(e){var r=this;return this.findBlockAndExecute(function(p){return p.isDisplayIndexInBlock(e)?el.FOUND:p.isBlockBefore(e)?el.CONTINUE_FIND:el.BREAK_FIND},function(p){return p.getRowBounds(e)},function(p){var y,S;return null!==p?(y=p.getBlockTopPx()+p.getBlockHeightPx(),S=p.getDisplayIndexEnd()):(y=r.cacheTopPixel,S=r.displayIndexStart),{rowHeight:r.defaultRowHeight,rowTop:y+(e-S)*r.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var r=this,p=this.findBlockAndExecute(function(S){return S.isPixelInRange(e)?el.FOUND:S.getBlockTopPx()<e?el.CONTINUE_FIND:el.BREAK_FIND},function(S){return S.getRowIndexAtPixel(e)},function(S){var E,T;S?(E=S.getBlockTopPx()+S.getBlockHeightPx(),T=S.getDisplayIndexEnd()):(E=r.cacheTopPixel,T=r.displayIndexStart);for(var O=r.storeParams.cacheBlockSize,R=r.defaultRowHeight*O,N=S?S.getId()+1:0,X=function(Ue){var st=r.getCachedBlockHeight(Ue),rt=null!=st?st:R;return{height:rt,pixelInBlock:e<=rt+E}},ae=X(N);!ae.pixelInBlock;)E+=ae.height,T+=O,ae=X(++N);return T+(0|Math.floor((e-E)/(ae.height/O)))}),y=this.getDisplayIndexEnd()-1;return Math.min(p,y)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=r.value;var s=-1,h=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(E){var T=E.getId(),O=T-s-1,R=O*h;R>0&&e.skip(R);for(var N=1;N<=O;N++){var X=T-N;w._.exists(o.blockHeights[X])?r.value+=o.blockHeights[X]:r.value+=h*o.defaultRowHeight}s=T,E.setDisplayIndexes(e,r),o.blockHeights[T]=E.getBlockHeightPx()});var p=(s+1)*h-1,S=this.getRowCount()-p-1;S>0&&(e.skip(S),r.value+=S*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=r.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,r){var o=this;if(void 0===r&&(r=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(y){return y.isDisplayIndexInBlock(e)?el.FOUND:y.isBlockBefore(e)?el.CONTINUE_FIND:el.BREAK_FIND},function(y){return y.getRowUsingDisplayIndex(e)},function(y){if(!r){var S,E,T,O=o.storeParams.cacheBlockSize;if(y)for(S=y.getId()+1,E=y.getDisplayIndexEnd(),T=y.getBlockHeightPx()+y.getBlockTopPx();!(e>=E&&e<E+O);){E+=O;var N=o.blockHeights[S];w._.exists(N)?T+=N:T+=o.defaultRowHeight*O,S++}else S=Math.floor((e-o.displayIndexStart)/O),E=o.displayIndexStart+S*O,T=o.cacheTopPixel+S*O*o.defaultRowHeight;return o.logger.log("block missing, rowIndex = "+e+", creating #"+S+", displayIndexStart = "+E),o.createBlock(S,E,{value:T}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.storeParams.cacheBlockSize,o=Math.floor(e/r);return this.findBlockAndExecute(function(y){return y.getId()===o?el.FOUND:y.getId()<o?el.CONTINUE_FIND:el.BREAK_FIND},function(y){return y.getRowUsingLocalIndex(e).rowIndex},function(y){if(!y)return e;var S=r*(y.getId()+1)-1,E=y.getRowUsingLocalIndex(S);return(E.expanded&&E.childStore?E.childStore.getDisplayIndexEnd()-1:E.expanded&&E.detailNode?E.detailNode.rowIndex:E.rowIndex)+(e-S)})},t.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,r,o){var s=this.createBean(new WC(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return s.setDisplayIndexes(new w.at1(r),o),this.blocks[s.getId()]=s,this.purgeBlocksIfNeeded(s),this.rowNodeBlockLoader.addBlock(s),s},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:w.Qk6.StoreWrongType}},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(s){var h=null;return r.getBlocksInOrder().forEach(function(p){p.forEachNodeShallow(function(y){y.key===s&&(h=y)},new w.at1)}),h})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(r){return r.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(r){r.isGroupLevel()&&r.forEachNodeShallow(function(s){var h=s.childStore;h&&e(h)},new w.at1)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,fv([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),fv([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),fv([(0,w.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),fv([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),fv([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),fv([w.NqP],t.prototype,"postConstruct",null),fv([w.FXL],t.prototype,"destroyAllBlocks",null),fv([xw(0,(0,w.qaB)("loggerFactory"))],t.prototype,"setBeans",null),t}(w.AS9),Pw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ou=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Aw=function(l){function t(e,r,o){var s=l.call(this,0)||this;return s.nodeIdSequence=new w.at1,s.info={},s.ssrmParams=e,s.parentRowNode=o,s.level=o.level+1,s.groupLevel=e.rowGroupCols?s.level<e.rowGroupCols.length:void 0,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return Pw(t,l),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){void 0===e&&(e=1),void 0===r&&(r=!1),this.destroyRowNodes();for(var o=0;o<e;o++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(s.failedLoad=!0),this.allRowNodes.push(s),this.nodesAfterFilter.push(s),this.nodesAfterSort.push(s)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=r?w._.insertIntoArray(this.allRowNodes,o,r):this.allRowNodes.push(o);var s=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(o,e,s,void 0),this.nodeManager.addRowNode(o),this.blockUtils.checkOpenByDefault(o),this.allNodesMap[o.id]=o,o},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var r=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||w._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(r,e.rowData),r&&this.blockUtils.destroyRowNodes(w._.getAllValuesInObject(r)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var o=this;r&&r.forEach(function(p){var y=function(p){if(e){var y=o.gridOptionsWrapper.getRowIdFunc();if(y){var S=o.parentRowNode.getGroupKeys(),T=y({data:p,parentKeys:S.length>0?S:void 0,level:o.level,api:o.gridApi,columnApi:o.columnApi}),O=e[T];if(O)return delete e[T],O}}}(p);y?function(p,y){o.allNodesMap[p.id]=p,o.blockUtils.updateDataIntoRowNode(p,y),o.allRowNodes.push(p)}(y,p):o.createDataNode(p)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),r=!e||0==e.length,o=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=r||o?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(h){return e.filterManager.doesRowPassFilter({rowNode:h})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var s={};this.nodesAfterSort.forEach(function(h){o.blockUtils.setDisplayIndex(h,e,r),s[h.id]=!0}),this.allRowNodes.forEach(function(h){s[h.id]||o.blockUtils.clearDisplayIndex(h)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachNodeDeep=function(e,r){void 0===r&&(r=new w.at1),this.allRowNodes.forEach(function(o){e(o,r.next());var s=o.childStore;s&&s.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){void 0===r&&(r=new w.at1),this.nodesAfterSort.forEach(function(o){e(o,r.next());var s=o.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,r)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var s=this.blockUtils.extractRowBounds(this.nodesAfterSort[r],e);if(s)return s}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var p=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=p.rowTop+p.rowHeight&&p.expanded){if(p.childStore&&p.childStore.getRowCount()>0)return p.childStore.getRowIndexAtPixel(e);if(p.detailNode)return p.detailNode.rowIndex}return p.rowIndex}var S=null;return this.nodesAfterSort.forEach(function(T){var O=r.blockUtils.getIndexAtPixel(T,e);null!=O&&(S=O)}),null==S?this.displayIndexEnd-1:S},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(o){return r.allRowNodes.find(function(h){return h.key===o})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var o=r.childStore;o&&e(o)})},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(r){return r.refreshAfterFilter(e)}))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(r){return r.refreshAfterSort(e)}))},t.prototype.applyTransaction=function(e){switch(this.getState()){case w.NlK.STATE_FAILED:return{status:w.Qk6.StoreLoadingFailed};case w.NlK.STATE_LOADING:return{status:w.Qk6.StoreLoading};case w.NlK.STATE_WAITING_TO_LOAD:return{status:w.Qk6.StoreWaitingToLoad}}var r=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(r&&!r({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:w.Qk6.Cancelled};var h={status:w.Qk6.Applied,remove:[],update:[],add:[]},p=[];return this.executeAdd(e,h),this.executeRemove(e,h,p),this.executeUpdate(e,h,p),this.filterAndSortNodes(),this.updateSelection(p),h},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(s){s.setSelected(!1,!1,!0)});var o={type:w.zW2.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(o)}},t.prototype.executeAdd=function(e,r){var o=this,s=e.add,h=e.addIndex;w._.missingOrEmpty(s)||("number"==typeof h&&h>=0?s.reverse().forEach(function(y){var S=o.createDataNode(y,h);r.add.push(S)}):s.forEach(function(y){var S=o.createDataNode(y);r.add.push(S)}))},t.prototype.executeRemove=function(e,r,o){var s=this,h=e.remove;if(null!=h){var p={};h.forEach(function(y){var S=s.lookupRowNode(y);!S||(S.isSelected()&&o.push(S),S.clearRowTopAndRowIndex(),p[S.id]=!0,delete s.allNodesMap[S.id],r.remove.push(S),s.nodeManager.removeNode(S))}),this.allRowNodes=this.allRowNodes.filter(function(y){return!p[y.id]})}},t.prototype.executeUpdate=function(e,r,o){var s=this,h=e.update;null!=h&&h.forEach(function(p){var y=s.lookupRowNode(p);!y||(y.updateData(p),!y.selectable&&y.isSelected()&&o.push(y),r.update.push(y))})},t.prototype.lookupRowNode=function(e){var o,r=this.gridOptionsWrapper.getRowIdFunc();if(null!=r){var s=this.level,h=this.parentRowNode.getGroupKeys(),p=r({data:e,parentKeys:h.length>0?h:void 0,level:s,api:this.gridApi,columnApi:this.columnApi});if(!(o=this.allNodesMap[p]))return console.error("AG Grid: could not find row id="+p+", data item was not found for this id"),null}else if(!(o=this.allRowNodes.find(function(y){return y.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return o},t.prototype.addStoreStates=function(e){e.push({type:"full",route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===w.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==w.NlK.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var o=[],s=!1;return w._.missing(e)&&(s=!0),this.nodesAfterSort.forEach(function(p){var y=p===e||p===r;(s||y)&&o.push(p),y&&(s=!s)}),s?[]:o},Ou([(0,w.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Ou([(0,w.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Ou([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ou([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ou([(0,w.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Ou([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Ou([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Ou([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),Ou([(0,w.fsG)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Ou([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Ou([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Ou([w.NqP],t.prototype,"postConstruct",null),Ou([w.FXL],t.prototype,"destroyRowNodes",null),t}(w.NlK),a7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Rw=function(){function l(){}return l.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e);return new("partial"===r.storeType?Mw:Aw)(t,r,e)},l.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),o=this.getStoreType(r);return{storeType:o,cacheBlockSize:this.getBlockSize(o,r),maxBlocksInCache:this.getMaxBlocksInCache(o,t,r)}},l.prototype.getMaxBlocksInCache=function(t,e,r){if("full"!=t){var o=r&&null!=r.maxBlocksInCache?r.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=o&&o>=0)return e.dynamicRowHeight?void w._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void w._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):o}},l.prototype.getBlockSize=function(t,e){if("full"!=t){var r=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=r&&r>0?r:100}},l.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},l.prototype.getStoreType=function(t){var e=t&&null!=t.storeType?t.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case"partial":case"full":return e;case null:case void 0:return"full";default:var o=["full","partial"].join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+e+", valid types are ["+o+"]"),"partial"}},a7([(0,w.fsG)("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),a7([(0,w.fsG)("columnModel")],l.prototype,"columnModel",void 0),a7([(0,w.Vu6)("ssrmStoreFactory")],l)}(),jC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Fw=function(){function l(){}return l.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(o){return o.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},l.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(o){return o.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},jC([(0,w.fsG)("columnModel")],l.prototype,"columnModel",void 0),jC([(0,w.Vu6)("ssrmListenerUtils")],l)}(),Lw={moduleName:w.GXE.ServerSideRowModelModule,rowModels:{serverSide:dw},beans:[_w,Sw,pw,gw,vw,yw,Ew,Rw,Fw],dependantModules:[$t]},Nw=function(){function l(t,e,r){this.rowModel=t,this.filterParams=e,this.caseFormat=r}return l.prototype.extractUniqueValues=function(t){var e=this,r={},o=this.filterParams.colDef.keyCreator,s=function(h){var p=null!=h?e.caseFormat(h):"__<ag-grid-pseudo-null>__";p&&null==r[p]&&(r[p]=h)};return this.rowModel.forEachLeafNode(function(h){if(h.data&&t(h)){var p=e.filterParams,R=e.filterParams.valueGetter({api:p.api,colDef:p.colDef,column:p.column,columnApi:p.columnApi,context:p.context,data:h.data,getValue:function(X){return h.data[X]},node:h});o&&(R=o({value:R,colDef:e.filterParams.colDef,column:e.filterParams.column,node:h,data:h.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(R=w._.makeNull(R))&&Array.isArray(R)?R.forEach(function(X){var ae=w._.toStringOrNull(w._.makeNull(X));s(ae)}):s(w._.toStringOrNull(R))}}),w._.values(r)},l}(),qc=(()=>(function(l){l[l.PROVIDED_LIST=0]="PROVIDED_LIST",l[l.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",l[l.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(qc||(qc={})),qc))(),UC=function(){function l(t,e,r,o,s){var h=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=r,this.translate=o,this.caseFormat=s,this.localEventService=new w.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var y=t.colDef,S=t.textFormatter,E=t.doesRowPassOtherFilter,T=t.suppressSorting,O=t.comparator,R=t.rowModel,N=t.values;this.column=t.column,this.formatter=S||w.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=E,this.suppressSorting=T||!1,this.comparator=O||y.comparator||w._.defaultComparator,R.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new Nw(R,this.filterParams,this.caseFormat)),null==N?this.valuesType=qc.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(N)?qc.PROVIDED_LIST:qc.PROVIDED_CALLBACK,this.providedValues=N),this.updateAllValues().then(function(ae){return h.resetSelectionState(ae||[])})}return l.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},l.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},l.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},l.prototype.overrideValues=function(t){var e=this;return new w.j_S(function(r){e.allValuesPromise.then(function(){e.valuesType=qc.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},l.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}):w.j_S.resolve()},l.prototype.isInitialised=function(){return this.initialised},l.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new w.j_S(function(e){switch(t.valuesType){case qc.TAKEN_FROM_GRID_VALUES:case qc.PROVIDED_LIST:var r=t.valuesType===qc.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):w._.values(t.uniqueValues(w._.toStrings(t.providedValues)||[])),o=t.sortValues(r||[]);t.allValues=o,e(o);break;case qc.PROVIDED_CALLBACK:t.setIsLoading(!0);var s=t.providedValues,h=t.filterParams,O={success:function(R){var N=w._.values(t.uniqueValues(w._.toStrings(R)||[]));t.setIsLoading(!1);var X=t.sortValues(N||[]);t.allValues=X,e(X)},colDef:h.colDef,column:h.column,columnApi:h.columnApi,api:h.api,context:h.context};window.setTimeout(function(){return s(O)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}).then(function(){return t.initialised=!0}),this.allValuesPromise},l.prototype.setValuesType=function(t){this.valuesType=t},l.prototype.getValuesType=function(){return this.valuesType},l.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},l.prototype.showAvailableOnly=function(){return this.valuesType===qc.TAKEN_FROM_GRID_VALUES},l.prototype.updateAvailableValues=function(t){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=w._.convertToSet(e),this.localEventService.dispatchEvent({type:l.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},l.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):t.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},l.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(o){return!t||e.doesRowPassOtherFilters(o)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},l.prototype.setMiniFilter=function(t){return t=w._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues(),!0)},l.prototype.getMiniFilter=function(){return this.miniFilterText},l.prototype.updateDisplayedValues=function(){var t=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),r=function(o){return null!=o&&t.caseFormat(o).indexOf(e)>=0};this.availableValues.forEach(function(o){if(null==o)t.filterParams.excelMode&&r(t.translate("blanks"))&&t.displayedValues.push(o);else{var s=t.formatter(o),h=t.valueFormatterService.formatValue(t.column,null,null,s,t.filterParams.valueFormatter,!1);(r(s)||r(h))&&t.displayedValues.push(o)}})}else this.displayedValues=w._.values(this.availableValues)},l.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},l.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},l.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},l.prototype.getValues=function(){return this.allValues.slice()},l.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedValues=w._.convertToSet(this.allValues):(t&&this.selectedValues.clear(),this.displayedValues.forEach(function(r){return e.selectedValues.add(r)}))},l.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return t.selectedValues.delete(e)})},l.prototype.selectValue=function(t){this.selectedValues.add(t)},l.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},l.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},l.prototype.isEverythingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===this.displayedValues.length},l.prototype.isNothingVisibleSelected=function(){var t=this;return 0===this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length},l.prototype.getModel=function(){return this.hasSelections()?w._.values(this.selectedValues):null},l.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(null==t)e.resetSelectionState(r||[]);else{e.selectedValues.clear();var o=e.uniqueValues(r||[]);t.forEach(function(s){var h=o[e.uniqueKey(s)];void 0!==h&&e.selectedValues.add(h)})}})},l.prototype.uniqueValues=function(t){var e=this,r={};return(t||[]).forEach(function(o){var s=w._.makeNull(o),h=e.uniqueKey(s);void 0===r[h]&&(r[h]=s)}),r},l.prototype.uniqueKey=function(t){return null==t?"__<ag-grid-pseudo-null>__":this.caseFormat(t)},l.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=w._.convertToSet(t||[])},l.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",l}(),zw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),q6=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},X6=function(l){function t(e,r,o,s){var h=l.call(this,t.TEMPLATE)||this;return h.value=e,h.params=r,h.translate=o,h.isSelected=s,h}return zw(t,l),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){var o=r||!1;e.isSelected=o,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:o})})},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,r=this.value,o=null;"function"==typeof r?r=r():o=this.getFormattedValue(this.params,e,r),this.params.showTooltips&&this.setTooltip(null!=o?o:r);var h={value:r,valueFormatted:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(h)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},t.prototype.getFormattedValue=function(e,r,o){return this.valueFormatterService.formatValue(r,null,null,o,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var r=this,o=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),s=o?o.newAgStackInstance():void 0;if(null!=s)s.then(function(p){p&&(r.eCheckbox.setLabel(p.getGui()),r.addDestroyFunc(function(){return r.destroyBean(p)}))});else{var h=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==h?this.translate("blanks"):h)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',q6([(0,w.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),q6([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),q6([(0,w.cqo)("eCheckbox")],t.prototype,"eCheckbox",void 0),q6([w.NqP],t.prototype,"init",null),t}(w.wA2),YC={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},Vw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},s7=function(l){function t(){var e=l.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return Vw(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.positionableFeature=new w.Gxm(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(l.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case w.VDZ.SPACE:this.handleKeySpace(e);break;case w.VDZ.ENTER:this.handleKeyEnter(e)}},t.prototype.handleKeySpace=function(e){var r=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(r.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var s=this.virtualList.getComponentAt(o);null!=s&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||s.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var r=this.setFilterParams||{};!r.excelMode||r.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.refresh()}):w.j_S.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return null==e&&null==r||null!=e&&null!=r&&w._.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var r=this;this.applyExcelModeOptions(e),l.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new UC(e,function(o){return r.showOrHideLoadingScreen(o)},this.valueFormatterService,function(o){return r.translateForSetFilter(o)},function(o){return r.caseFormat(o)}),this.initialiseFilterBodyUi(),e.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&!e.values&&this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,w.zW2.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,w.zW2.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e){var r=this;if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var o=w.j_S.resolve();return e&&(o=this.valueModel.refreshValues()),o.then(function(){r.refresh(),r.onBtApply(!1,!0)})},t.prototype.showOrHideLoadingScreen=function(e){w._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),s=this.virtualList=this.createBean(new w.CPJ("filter","listbox",o)),h=this.getRefElement("eSetFilterList");h&&h.appendChild(s.getGui());var y,p=this.setFilterParams.cellHeight;null!=p&&s.setRowHeight(p),s.setComponentCreator(function(S){return e.createSetListItem(S)}),y=this.setFilterParams.suppressSelectAll?new Hw(this.valueModel):new Gw(this.valueModel,function(){return e.isSelectAllSelected()}),s.setModel(y)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var o,r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((o=this.createBean(new X6(function(){return r.getSelectAllLabel()},this.setFilterParams,function(s){return r.translateForSetFilter(s)},this.isSelectAllSelected()))).addEventListener(X6.EVENT_SELECTION_CHANGED,function(s){return r.onSelectAll(s.isSelected)}),o):((o=this.createBean(new X6(e,this.setFilterParams,function(s){return r.translateForSetFilter(s)},this.valueModel.isValueSelected(e)))).addEventListener(X6.EVENT_SELECTION_CHANGED,function(s){return r.onItemSelected(e,s.isSelected)}),o)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.eMiniFilter,h=this.gridOptionsWrapper.getLocaleTextFunc();o.setDisplayed(!this.setFilterParams.suppressMiniFilter),o.setValue(this.valueModel.getMiniFilter()),o.onValueChange(function(){return e.onMiniFilterInput()}),o.setInputAriaLabel(h("ariaSearchFilterValues","Search filter values")),this.addManagedListener(o.getInputElement(),"keypress",function(p){return e.onMiniFilterKeyPress(p)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");l.prototype.afterGuiAttached.call(this,e),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus();var s,o=!(!e||"floatingFilter"!==e.container);s=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},o?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(s)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var r=l.prototype.applyModel.call(this),o=this.getModel();return this.appliedModelValues=o?o.values.reduce(function(s,h){return s[e.caseFormat(String(h))]=!0,s},{}):null,r},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var o=e.node,s=e.data,h=this.setFilterParams,y=h.colDef.keyCreator,S=h.api,E=h.colDef,T=h.column,O=h.columnApi,R=h.context,N=(0,h.valueGetter)({api:S,colDef:E,column:T,columnApi:O,context:R,data:s,getValue:function(ae){return s[ae]},node:o});return y&&(N=y({value:N,colDef:E,column:T,node:o,data:s,api:S,columnApi:O,context:R})),N=w._.makeNull(N),Array.isArray(N)?N.some(function(ae){return!0===r.appliedModelValues[r.caseFormat(String(w._.makeNull(ae)))]}):!0===this.appliedModelValues[this.caseFormat(String(N))]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===qc.TAKEN_FROM_GRID_VALUES)},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.refresh(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(qc.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;w._.setDisplayed(this.eNoMatches,e),w._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var r=this.setFilterParams||{};e.key===w.VDZ.ENTER&&!r.excelMode&&!r.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;null!=e&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var r=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(r)},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");r?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var o=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(o)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,YC[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),l.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",b8([(0,w.cqo)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),b8([(0,w.cqo)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),b8([(0,w.cqo)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),b8([(0,w.cqo)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),b8([(0,w.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(w.AGU),Hw=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},l.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},l.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},l}(),Gw=function(){function l(t,e){this.model=t,this.isSelectAllSelected=e}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},l.prototype.getRow=function(t){return 0===t?s7.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},l.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t))},l}(),Bw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ww=function(l){function t(){var e=l.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return Bw(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof s7))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var o=r.getValueModel();!o||e.addManagedListener(o,UC.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(o){var s=(e||o.getModel()||{}).values,h=o.getValueModel();if(null!=s&&null!=h){var p=r.gridOptionsWrapper.getLocaleTextFunc(),S=s.filter(function(O){return h.isValueAvailable(O)}).map(function(O){var R=r.params,ae=r.valueFormatterService.formatValue(R.column,null,null,O,R.filterParams.valueFormatter,!1),le=null!=ae?ae:O;return null==le?p("blanks",YC.blanks):le}),E=S.length>10?S.slice(0,10).concat("..."):S,T="("+S.length+") "+E.join(",");r.eFloatingFilterText.setValue(T)}else r.eFloatingFilterText.setValue("")})},l7([(0,w.cqo)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),l7([(0,w.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),l7([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(w.wA2),jw={moduleName:w.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:s7},{componentName:"agSetColumnFloatingFilter",componentClass:Ww}],dependantModules:[$t]},Uw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),H3=function(){return H3=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},H3.apply(this,arguments)},c7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},u7=function(l){function t(){var e=l.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return Uw(t,l),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var s=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=s;var h=[];return this.filterDefs.forEach(function(p,y){var S=r.createFilter(p,y);null!=S&&h.push(S)}),w.j_S.all(h).then(function(p){r.filters=p,r.refreshGui("columnMenu"),r.afterFiltersReadyFuncs.forEach(function(y){return y()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(o,s){s>0&&r.appendChild(w._.loadTemplate('<div class="ag-filter-separator"></div>'));var y,h=r.filterDefs[s],p=r.getFilterTitle(o,h);y="subMenu"===h.display&&"toolPanel"!==e?r.insertFilterMenu(o,p).getGui():"subMenu"===h.display||"accordion"===h.display?r.insertFilterGroup(o,p).getGui():o.getGui(),r.appendChild(y)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,r){return null!=r.title?r.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,r){var o=this,s=this.createBean(new w.sJC({name:r,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return s.setParentComponent(this),this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),this.addManagedListener(s,w.sJC.EVENT_MENU_ITEM_ACTIVATED,function(h){o.lastActivatedMenuItem&&o.lastActivatedMenuItem!==h.menuItem&&o.lastActivatedMenuItem.deactivate(),o.lastActivatedMenuItem=h.menuItem}),s.addGuiEventListener("focusin",function(){return s.activate()}),s.addGuiEventListener("focusout",function(){s.isSubMenuOpen()||s.deactivate()}),s},t.prototype.insertFilterGroup=function(e,r){var o=this,s=this.createBean(new w.H1u({title:r,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),s.addItem(e.getGui()),s.toggleGroupExpand(!1),e.afterGuiAttached){var h={container:this.lastOpenedInContainer,suppressFocus:!0};s.addManagedListener(s,w.H1u.EVENT_EXPANDED,function(){return e.afterGuiAttached(h)})}return s},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var o=!0;return this.filters.forEach(function(s){!o||s===r||!s.isFilterActive()||(o=s.doesFilterPass(e))}),o},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return"function"==typeof r.getModelFromUi?r.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})}:null},t.prototype.setModel=function(e){var r=this,o=function(h,p){return new w.j_S(function(y){var S=h.setModel(p);S?S.then(function(){return y()}):y()})},s=[];return null==e?s=this.filters.map(function(h,p){var y=o(h,null);return r.updateActiveList(p),y}):this.filters.forEach(function(h,p){var S=o(h,e.filterModels.length>p?e.filterModels[p]:null);s.push(S),r.updateActiveList(p)}),w.j_S.all(s).then(function(){})},t.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(r){r instanceof w.AGU&&(e=r.applyModel()||e)}),e},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var r=this.params.filters,o=r&&r.some(function(p){return p.display&&"inline"!==p.display});this.executeFunctionIfExists("afterGuiAttached",H3(H3({},e||{}),{suppressFocus:o}));var s=this.gridOptionsWrapper.getDocument(),h=s.activeElement;o&&(h===s.body||this.getGui().contains(h))&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),l.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];w._.forEachReverse(this.filters,function(s){var h=s[e];"function"==typeof h&&h.apply(s,r)})},t.prototype.createFilter=function(e,r){var y,o=this,s=this.params,h=s.filterModifiedCallback,p=s.doesRowPassOtherFilter,S=H3(H3({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:h,filterChangedCallback:function(O){o.executeWhenAllFiltersReady(function(){return o.filterChanged(r,O)})},doesRowPassOtherFilter:function(O){return p(O)&&o.doesFilterPass({node:O,data:O.data},y)}}),E=this.userComponentFactory.getFilterDetails(e,S,"agTextColumnFilter");if(!E)return null;var T=E.newAgStackInstance();return T&&T.then(function(O){return y=O}),T},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];w._.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var o=this.filters[e];this.filters.forEach(function(s){s!==o&&"function"==typeof s.onAnyFilterChanged&&s.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},c7([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),c7([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),c7([w.NqP],t.prototype,"postConstruct",null),t}(w.BxR),Yw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z6=function(){return Z6=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Z6.apply(this,arguments)},$w=function(l){function t(){var e=l.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return Yw(t,l),t.prototype.init=function(e){var r=this;this.params=e;var s=[];return u7.getFilterDefs(e.filterParams).forEach(function(h,p){var y=Z6(Z6({},e),{parentFilterInstance:function(E){r.parentMultiFilterInstance(function(T){var O=T.getChildFilterInstance(p);null!=O&&E(O)})}}),S=r.createFloatingFilter(h,y);null!=S&&s.push(S)}),w.j_S.all(s).then(function(h){h.forEach(function(p,y){r.floatingFilters.push(p);var S=p.getGui();r.appendChild(S),y>0&&w._.setDisplayed(S,!1)})})},t.prototype.onParentModelChanged=function(e,r){var o=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(s){if(null==e)o.floatingFilters.forEach(function(p,y){p.onParentModelChanged(null,r),w._.setDisplayed(p.getGui(),0===y)});else{var h=s.getLastActiveFilterIndex();o.floatingFilters.forEach(function(p,y){p.onParentModelChanged(e.filterModels.length>y?e.filterModels[y]:null,r);var E=null==h?0===y:y===h;w._.setDisplayed(p.getGui(),E)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,l.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,r){var o=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",s=this.userComponentFactory.getFloatingFilterCompDetails(e,r,o);return s?s.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof u7))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(r)})},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(w.wA2),qw={moduleName:w.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:u7},{componentName:"agMultiColumnFloatingFilter",componentClass:$w}],dependantModules:[$t]},Xw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qw=function(l){function t(){var e=l.call(this)||this;return e.allComponents={},e}return Xw(t,l),t.prototype.registerStatusPanel=function(e,r){this.allComponents[e]=r},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(0,w.Vu6)("statusBarService")],t),t}(w.AS9),Jw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},eS=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return Jw(t,l),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(s){return"left"===s.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var r=this.gridOptions.statusBar.statusPanels.filter(function(s){return"center"===s.align});this.createAndRenderComponents(r,this.eStatusBarCenter);var o=this.gridOptions.statusBar.statusPanels.filter(function(s){return!s.align||"right"===s.align});this.createAndRenderComponents(o,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,r){var o=this,s=[];e.forEach(function(h){var p={api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()},S=o.userComponentFactory.getStatusPanelCompDetails(h,p).newAgStackInstance();!S||s.push({key:h.key||h.statusPanel,promise:S})}),w.j_S.all(s.map(function(h){return h.promise})).then(function(){s.forEach(function(h){h.promise.then(function(p){var y=function(){o.getContext().destroyBean(p)};o.isAlive()?(o.statusBarService.registerStatusPanel(h.key,p),r.appendChild(p.getGui()),o.addDestroyFunc(y)):y()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',y4([(0,w.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),y4([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),y4([(0,w.fsG)("statusBarService")],t.prototype,"statusBarService",void 0),y4([(0,w.cqo)("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),y4([(0,w.cqo)("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),y4([(0,w.cqo)("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),y4([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),tS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},E8=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return tS(t,l),t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=o(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',KC([(0,w.cqo)("eLabel")],t.prototype,"eLabel",void 0),KC([(0,w.cqo)("eValue")],t.prototype,"eValue",void 0),t}(w.wA2),nS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$C=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},rS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return nS(t,l),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("thousandSeparator",","),o=e("decimalSeparator","."),s=w._.formatNumberCommas(this.getFilteredRowCountValue(),r,o),h=w._.formatNumberCommas(this.getTotalRowCount(),r,o);if(s===h)this.setValue(s);else{var p=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(s+" "+p("of","of")+" "+h)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},$C([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),$C([w.NqP],t.prototype,"postConstruct",null),t}(E8),iS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},oS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return iS(t,l),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),o=this.gridOptionsWrapper.getLocaleTextFunc(),s=o("thousandSeparator",","),h=o("decimalSeparator",".");this.setValue(w._.formatNumberCommas(r,s,h)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},qC([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),qC([w.NqP],t.prototype,"postConstruct",null),t}(E8),aS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),XC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},sS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return aS(t,l),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(w._.formatNumberCommas(this.getRowCountValue(),r,o))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},XC([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),XC([w.NqP],t.prototype,"postConstruct",null),t}(E8),lS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},cS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lS(t,l),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=r("thousandSeparator",","),s=r("decimalSeparator",".");this.setValue(w._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0);var h=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,h),this.addManagedListener(this.eventService,w.zW2.EVENT_SELECTION_CHANGED,h)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=r("thousandSeparator",","),s=r("decimalSeparator",".");this.setValue(w._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},ZC([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),ZC([w.NqP],t.prototype,"postConstruct",null),t}(E8),uS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},dS=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return uS(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,w.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,r,o){var s=this.getAggregationValueComponent(e);if(w._.exists(s)&&s){var h=this.gridOptionsWrapper.getLocaleTextFunc(),p=h("thousandSeparator",","),y=h("decimalSeparator",".");s.setValue(w._.formatNumberTwoDecimalPlacesAndCommas(r,p,y)),s.setDisplayed(o)}},t.prototype.getAggregationValueComponent=function(e){var r=e+"AggregationComp",o=null,s=w._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(h){return"agAggregationComponent"===h.statusPanel}):null;return w._.exists(s)&&s?(!w._.exists(s.statusPanelParams)||w._.exists(s.statusPanelParams)&&w._.exists(s.statusPanelParams.aggFuncs)&&w._.exists(s.statusPanelParams.aggFuncs.find(function(h){return h===e})))&&(o=this[r]):o=this[r],o},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,o=0,s=0,h=0,p=null,y=null,S={};r&&!w._.missingOrEmpty(r)&&r.forEach(function(O){for(var R=e.rangeService.getRangeStartRow(O),N=e.rangeService.getRangeEndRow(O);!w._.missing(R)&&R&&!e.rowPositionUtils.before(N,R)&&R&&O.columns;)O.columns.forEach(function(ae){if(null!==R){var le=e.cellPositionUtils.createId({rowPinned:R.rowPinned,column:ae,rowIndex:R.rowIndex});if(!S[le]){S[le]=!0;var de=e.rowRenderer.getRowNode(R);if(!w._.missing(de)){var he=e.valueService.getValue(ae,de);w._.missing(he)||""===he||(he.value&&(he=he.value),"string"==typeof he&&(he=Number(he)),"number"==typeof he&&!isNaN(he)&&(o+=he,(null===y||he>y)&&(y=he),(null===p||he<p)&&(p=he),h++),s++)}}}}),R=e.cellNavigationService.getRowBelow(R)});var T=h>1;this.setAggregationComponentValue("count",s,s>1),this.setAggregationComponentValue("sum",o,T),this.setAggregationComponentValue("min",p,T),this.setAggregationComponentValue("max",y,T),this.setAggregationComponentValue("avg",o/h,T)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Xc([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),Xc([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Xc([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Xc([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Xc([(0,w.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),Xc([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Xc([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Xc([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Xc([(0,w.cqo)("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Xc([(0,w.cqo)("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Xc([(0,w.cqo)("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Xc([(0,w.cqo)("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Xc([(0,w.cqo)("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Xc([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),hS={moduleName:w.GXE.StatusBarModule,beans:[Qw],agStackComponents:[{componentName:"AgStatusBar",componentClass:eS},{componentName:"AgNameValue",componentClass:E8}],userComponents:[{componentName:"agAggregationComponent",componentClass:dS},{componentName:"agSelectedRowCountComponent",componentClass:cS},{componentName:"agTotalRowCountComponent",componentClass:sS},{componentName:"agFilteredRowCountComponent",componentClass:oS},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:rS}],dependantModules:[$t]},pS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),C4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},fS=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return pS(t,l),t.prototype.ensureRowHeightsValid=function(e,r,o,s){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,w.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var r=this.gridOptionsWrapper.getViewportRowModelBufferSize(),o=this.gridOptionsWrapper.getViewportRowModelPageSize(),s=e-r;return s<0?0:Math.floor(s/o)*o},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var r=this.gridOptionsWrapper.getViewportRowModelBufferSize(),o=this.gridOptionsWrapper.getViewportRowModelPageSize(),h=Math.ceil((e+r)/o)*o;return Math.min(h,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),o=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==o)&&(this.firstRow=r,this.lastRow=o,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var o=parseInt(r,10);(o<e.firstRow||o>e.lastRow)&&delete e.rowNodesByIndex[o]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var o=w._.missing(e)?0:e.rowIndex,s=r.rowIndex;if(o<this.firstRow||o>this.lastRow||s<this.firstRow||s>this.lastRow)return[];for(var y=[],E=o<=s?s:o,T=o<=s?o:s;T<=E;T++)y.push(this.rowNodesByIndex[T]);return y},t.prototype.forEachNode=function(e){var r=this,o=0;Object.keys(this.rowNodesByIndex).forEach(function(s){var h=parseInt(s,10);e(r.rowNodesByIndex[h],o),o++})},t.prototype.setRowData=function(e){var r=this;w._.iterateObject(e,function(o,s){var h=parseInt(o,10);if(h>=r.firstRow&&h<=r.lastRow){var p=r.rowNodesByIndex[h];w._.missing(p)&&(p=r.createBlankRowNode(h),r.rowNodesByIndex[h]=p),p.setDataAndId(s,h.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new w.Fxk(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){void 0===r&&(r=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},C4([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),C4([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),C4([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),C4([(0,w.fsG)("beans")],t.prototype,"beans",void 0),C4([w.NqP],t.prototype,"init",null),C4([w.FXL],t.prototype,"destroyDatasource",null),C4([(0,w.Vu6)("rowModel")],t)}(w.AS9),gS={moduleName:w.GXE.ViewportRowModelModule,rowModels:{viewport:fS},dependantModules:[$t]};De.setLicenseKey("_MjU1NTk0NjAwMDAwMA==3d4e805d480235845d58b32b2dae76d0"),w.O3h.registerModules([F4,as,Lw,mn,aC,Z9,jp,vi,Ns,os,gv,Ac,rf,iw,cw,jw,qw,Cs,hS,gS],!0),(0,G.G48)(),x.q6().bootstrapModule(Jt,{defaultEncapsulation:G.ifc.None}).catch(l=>console.error(l))},9868:(Dn,ht,I)=>{function x(G){var z=new Date(Date.UTC(G.getFullYear(),G.getMonth(),G.getDate(),G.getHours(),G.getMinutes(),G.getSeconds(),G.getMilliseconds()));return z.setUTCFullYear(G.getFullYear()),G.getTime()-z.getTime()}I.d(ht,{Z:()=>x})},833:(Dn,ht,I)=>{function x(G,z){if(z.length<G)throw new TypeError(G+" argument"+(G>1?"s":"")+" required, but only "+z.length+" present")}I.d(ht,{Z:()=>x})},1998:(Dn,ht,I)=>{function x(G){if(null===G||!0===G||!1===G)return NaN;var z=Number(G);return isNaN(z)?z:z<0?Math.ceil(z):Math.floor(z)}I.d(ht,{Z:()=>x})},900:(Dn,ht,I)=>{I.d(ht,{Z:()=>Se});var x=I(833);function G(Ee){return(0,x.Z)(1,arguments),Ee instanceof Date||"object"==typeof Ee&&"[object Date]"===Object.prototype.toString.call(Ee)}var z=I(953);function Se(Ee){if((0,x.Z)(1,arguments),!G(Ee)&&"number"!=typeof Ee)return!1;var Fe=(0,z.Z)(Ee);return!isNaN(Number(Fe))}},895:(Dn,ht,I)=>{I.d(ht,{Z:()=>Se});var x=I(953),G=I(1998),z=I(833);function Se(Ee,Fe){(0,z.Z)(1,arguments);var ke=Fe||{},Ae=ke.locale,Ve=Ae&&Ae.options&&Ae.options.weekStartsOn,Pe=null==Ve?0:(0,G.Z)(Ve),Oe=null==ke.weekStartsOn?Pe:(0,G.Z)(ke.weekStartsOn);if(!(Oe>=0&&Oe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var be=(0,x.Z)(Ee),Xe=be.getDay(),Je=(Xe<Oe?7:0)+Xe-Oe;return be.setDate(be.getDate()-Je),be.setHours(0,0,0,0),be}},953:(Dn,ht,I)=>{I.d(ht,{Z:()=>G});var x=I(833);function G(z){(0,x.Z)(1,arguments);var Se=Object.prototype.toString.call(z);return z instanceof Date||"object"==typeof z&&"[object Date]"===Se?new Date(z.getTime()):"number"==typeof z||"[object Number]"===Se?new Date(z):(("string"==typeof z||"[object String]"===Se)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},1135:(Dn,ht,I)=>{I.d(ht,{X:()=>G});var x=I(7579);class G extends x.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Ee=super._subscribe(Se);return!Ee.closed&&Se.next(this._value),Ee}getValue(){const{hasError:Se,thrownError:Ee,_value:Fe}=this;if(Se)throw Ee;return this._throwIfClosed(),Fe}next(Se){super.next(this._value=Se)}}},8306:(Dn,ht,I)=>{I.d(ht,{y:()=>Pe});var x=I(930),G=I(727),z=I(8822),Se=I(4671);var ke=I(2416),Ae=I(576),Ve=I(2806);let Pe=(()=>{class Je{constructor(Lt){Lt&&(this._subscribe=Lt)}lift(Lt){const ct=new Je;return ct.source=this,ct.operator=Lt,ct}subscribe(Lt,ct,Jt){const On=function Xe(Je){return Je&&Je instanceof x.Lv||function be(Je){return Je&&(0,Ae.m)(Je.next)&&(0,Ae.m)(Je.error)&&(0,Ae.m)(Je.complete)}(Je)&&(0,G.Nn)(Je)}(Lt)?Lt:new x.Hp(Lt,ct,Jt);return(0,Ve.x)(()=>{const{operator:w,source:Yt}=this;On.add(w?w.call(On,Yt):Yt?this._subscribe(On):this._trySubscribe(On))}),On}_trySubscribe(Lt){try{return this._subscribe(Lt)}catch(ct){Lt.error(ct)}}forEach(Lt,ct){return new(ct=Oe(ct))((Jt,On)=>{const w=new x.Hp({next:Yt=>{try{Lt(Yt)}catch(se){On(se),w.unsubscribe()}},error:On,complete:Jt});this.subscribe(w)})}_subscribe(Lt){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Lt)}[z.L](){return this}pipe(...Lt){return function Fe(Je){return 0===Je.length?Se.y:1===Je.length?Je[0]:function(Lt){return Je.reduce((ct,Jt)=>Jt(ct),Lt)}}(Lt)(this)}toPromise(Lt){return new(Lt=Oe(Lt))((ct,Jt)=>{let On;this.subscribe(w=>On=w,w=>Jt(w),()=>ct(On))})}}return Je.create=lt=>new Je(lt),Je})();function Oe(Je){var lt;return null!==(lt=null!=Je?Je:ke.v.Promise)&&void 0!==lt?lt:Promise}},7579:(Dn,ht,I)=>{I.d(ht,{x:()=>ke});var x=I(8306),G=I(727);const Se=(0,I(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=I(8737),Fe=I(2806);let ke=(()=>{class Ve extends x.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Oe){const be=new Ae(this,this);return be.operator=Oe,be}_throwIfClosed(){if(this.closed)throw new Se}next(Oe){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(Oe)}})}error(Oe){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Oe;const{observers:be}=this;for(;be.length;)be.shift().error(Oe)}})}complete(){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Oe;return(null===(Oe=this.observers)||void 0===Oe?void 0:Oe.length)>0}_trySubscribe(Oe){return this._throwIfClosed(),super._trySubscribe(Oe)}_subscribe(Oe){return this._throwIfClosed(),this._checkFinalizedStatuses(Oe),this._innerSubscribe(Oe)}_innerSubscribe(Oe){const{hasError:be,isStopped:Xe,observers:Je}=this;return be||Xe?G.Lc:(this.currentObservers=null,Je.push(Oe),new G.w0(()=>{this.currentObservers=null,(0,Ee.P)(Je,Oe)}))}_checkFinalizedStatuses(Oe){const{hasError:be,thrownError:Xe,isStopped:Je}=this;be?Oe.error(Xe):Je&&Oe.complete()}asObservable(){const Oe=new x.y;return Oe.source=this,Oe}}return Ve.create=(Pe,Oe)=>new Ae(Pe,Oe),Ve})();class Ae extends ke{constructor(Pe,Oe){super(),this.destination=Pe,this.source=Oe}next(Pe){var Oe,be;null===(be=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.next)||void 0===be||be.call(Oe,Pe)}error(Pe){var Oe,be;null===(be=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.error)||void 0===be||be.call(Oe,Pe)}complete(){var Pe,Oe;null===(Oe=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===Oe||Oe.call(Pe)}_subscribe(Pe){var Oe,be;return null!==(be=null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Pe))&&void 0!==be?be:G.Lc}}},930:(Dn,ht,I)=>{I.d(ht,{Hp:()=>Lt,Lv:()=>be});var x=I(576),G=I(727),z=I(2416),Se=I(7849),Ee=I(5032);const Fe=Ve("C",void 0,void 0);function Ve(Yt,se,ot){return{kind:Yt,value:se,error:ot}}var Pe=I(3410),Oe=I(2806);class be extends G.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,G.Nn)(se)&&se.add(this)):this.destination=w}static create(se,ot,De){return new Lt(se,ot,De)}next(se){this.isStopped?On(function Ae(Yt){return Ve("N",Yt,void 0)}(se),this):this._next(se)}error(se){this.isStopped?On(function ke(Yt){return Ve("E",void 0,Yt)}(se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?On(Fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Je(Yt,se){return Xe.call(Yt,se)}class lt{constructor(se){this.partialObserver=se}next(se){const{partialObserver:ot}=this;if(ot.next)try{ot.next(se)}catch(De){ct(De)}}error(se){const{partialObserver:ot}=this;if(ot.error)try{ot.error(se)}catch(De){ct(De)}else ct(se)}complete(){const{partialObserver:se}=this;if(se.complete)try{se.complete()}catch(ot){ct(ot)}}}class Lt extends be{constructor(se,ot,De){let et;if(super(),(0,x.m)(se)||!se)et={next:null!=se?se:void 0,error:null!=ot?ot:void 0,complete:null!=De?De:void 0};else{let gt;this&&z.v.useDeprecatedNextContext?(gt=Object.create(se),gt.unsubscribe=()=>this.unsubscribe(),et={next:se.next&&Je(se.next,gt),error:se.error&&Je(se.error,gt),complete:se.complete&&Je(se.complete,gt)}):et=se}this.destination=new lt(et)}}function ct(Yt){z.v.useDeprecatedSynchronousErrorHandling?(0,Oe.O)(Yt):(0,Se.h)(Yt)}function On(Yt,se){const{onStoppedNotification:ot}=z.v;ot&&Pe.z.setTimeout(()=>ot(Yt,se))}const w={closed:!0,next:Ee.Z,error:function Jt(Yt){throw Yt},complete:Ee.Z}},727:(Dn,ht,I)=>{I.d(ht,{Lc:()=>Fe,w0:()=>Ee,Nn:()=>ke});var x=I(576);const z=(0,I(3888).d)(Ve=>function(Oe){Ve(this),this.message=Oe?`${Oe.length} errors occurred during unsubscription:\n${Oe.map((be,Xe)=>`${Xe+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Oe});var Se=I(8737);class Ee{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:Oe}=this;if(Oe)if(this._parentage=null,Array.isArray(Oe))for(const Je of Oe)Je.remove(this);else Oe.remove(this);const{initialTeardown:be}=this;if((0,x.m)(be))try{be()}catch(Je){Pe=Je instanceof z?Je.errors:[Je]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Je of Xe)try{Ae(Je)}catch(lt){Pe=null!=Pe?Pe:[],lt instanceof z?Pe=[...Pe,...lt.errors]:Pe.push(lt)}}if(Pe)throw new z(Pe)}}add(Pe){var Oe;if(Pe&&Pe!==this)if(this.closed)Ae(Pe);else{if(Pe instanceof Ee){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(Oe=this._finalizers)&&void 0!==Oe?Oe:[]).push(Pe)}}_hasParent(Pe){const{_parentage:Oe}=this;return Oe===Pe||Array.isArray(Oe)&&Oe.includes(Pe)}_addParent(Pe){const{_parentage:Oe}=this;this._parentage=Array.isArray(Oe)?(Oe.push(Pe),Oe):Oe?[Oe,Pe]:Pe}_removeParent(Pe){const{_parentage:Oe}=this;Oe===Pe?this._parentage=null:Array.isArray(Oe)&&(0,Se.P)(Oe,Pe)}remove(Pe){const{_finalizers:Oe}=this;Oe&&(0,Se.P)(Oe,Pe),Pe instanceof Ee&&Pe._removeParent(this)}}Ee.EMPTY=(()=>{const Ve=new Ee;return Ve.closed=!0,Ve})();const Fe=Ee.EMPTY;function ke(Ve){return Ve instanceof Ee||Ve&&"closed"in Ve&&(0,x.m)(Ve.remove)&&(0,x.m)(Ve.add)&&(0,x.m)(Ve.unsubscribe)}function Ae(Ve){(0,x.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(Dn,ht,I)=>{I.d(ht,{v:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Dn,ht,I)=>{I.d(ht,{c:()=>Fe});var x=I(8306),G=I(727),z=I(8343),Se=I(5403),Ee=I(4482);class Fe extends x.y{constructor(Ae,Ve){super(),this.source=Ae,this.subjectFactory=Ve,this._subject=null,this._refCount=0,this._connection=null,(0,Ee.A)(Ae)&&(this.lift=Ae.lift)}_subscribe(Ae){return this.getSubject().subscribe(Ae)}getSubject(){const Ae=this._subject;return(!Ae||Ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Ae}=this;this._subject=this._connection=null,null==Ae||Ae.unsubscribe()}connect(){let Ae=this._connection;if(!Ae){Ae=this._connection=new G.w0;const Ve=this.getSubject();Ae.add(this.source.subscribe((0,Se.x)(Ve,void 0,()=>{this._teardown(),Ve.complete()},Pe=>{this._teardown(),Ve.error(Pe)},()=>this._teardown()))),Ae.closed&&(this._connection=null,Ae=G.w0.EMPTY)}return Ae}refCount(){return(0,z.x)()(this)}}},9841:(Dn,ht,I)=>{I.d(ht,{a:()=>Pe});var x=I(8306),G=I(4742),z=I(188),Se=I(4671),Ee=I(3268),Fe=I(3269),ke=I(1810),Ae=I(5403),Ve=I(9672);function Pe(...Xe){const Je=(0,Fe.yG)(Xe),lt=(0,Fe.jO)(Xe),{args:Lt,keys:ct}=(0,G.D)(Xe);if(0===Lt.length)return(0,z.D)([],Je);const Jt=new x.y(function Oe(Xe,Je,lt=Se.y){return Lt=>{be(Je,()=>{const{length:ct}=Xe,Jt=new Array(ct);let On=ct,w=ct;for(let Yt=0;Yt<ct;Yt++)be(Je,()=>{const se=(0,z.D)(Xe[Yt],Je);let ot=!1;se.subscribe((0,Ae.x)(Lt,De=>{Jt[Yt]=De,ot||(ot=!0,w--),w||Lt.next(lt(Jt.slice()))},()=>{--On||Lt.complete()}))},Lt)},Lt)}}(Lt,Je,ct?On=>(0,ke.n)(ct,On):Se.y));return lt?Jt.pipe((0,Ee.Z)(lt)):Jt}function be(Xe,Je,lt){Xe?(0,Ve.f)(lt,Xe,Je):Je()}},7272:(Dn,ht,I)=>{I.d(ht,{z:()=>Ee});var x=I(8189),z=I(3269),Se=I(188);function Ee(...Fe){return function G(){return(0,x.J)(1)}()((0,Se.D)(Fe,(0,z.yG)(Fe)))}},9770:(Dn,ht,I)=>{I.d(ht,{P:()=>z});var x=I(8306),G=I(8421);function z(Se){return new x.y(Ee=>{(0,G.Xf)(Se()).subscribe(Ee)})}},515:(Dn,ht,I)=>{I.d(ht,{E:()=>G});const G=new(I(8306).y)(Ee=>Ee.complete())},4128:(Dn,ht,I)=>{I.d(ht,{D:()=>Ae});var x=I(8306),G=I(4742),z=I(8421),Se=I(3269),Ee=I(5403),Fe=I(3268),ke=I(1810);function Ae(...Ve){const Pe=(0,Se.jO)(Ve),{args:Oe,keys:be}=(0,G.D)(Ve),Xe=new x.y(Je=>{const{length:lt}=Oe;if(!lt)return void Je.complete();const Lt=new Array(lt);let ct=lt,Jt=lt;for(let On=0;On<lt;On++){let w=!1;(0,z.Xf)(Oe[On]).subscribe((0,Ee.x)(Je,Yt=>{w||(w=!0,Jt--),Lt[On]=Yt},()=>ct--,void 0,()=>{(!ct||!w)&&(Jt||Je.next(be?(0,ke.n)(be,Lt):Lt),Je.complete())}))}});return Pe?Xe.pipe((0,Fe.Z)(Pe)):Xe}},188:(Dn,ht,I)=>{I.d(ht,{D:()=>z});var x=I(9975),G=I(8421);function z(Se,Ee){return Ee?(0,x.x)(Se,Ee):(0,G.Xf)(Se)}},4968:(Dn,ht,I)=>{I.d(ht,{R:()=>Pe});var x=I(8421),G=I(8306),z=I(5577),Se=I(1144),Ee=I(576),Fe=I(3268);const ke=["addListener","removeListener"],Ae=["addEventListener","removeEventListener"],Ve=["on","off"];function Pe(lt,Lt,ct,Jt){if((0,Ee.m)(ct)&&(Jt=ct,ct=void 0),Jt)return Pe(lt,Lt,ct).pipe((0,Fe.Z)(Jt));const[On,w]=function Je(lt){return(0,Ee.m)(lt.addEventListener)&&(0,Ee.m)(lt.removeEventListener)}(lt)?Ae.map(Yt=>se=>lt[Yt](Lt,se,ct)):function be(lt){return(0,Ee.m)(lt.addListener)&&(0,Ee.m)(lt.removeListener)}(lt)?ke.map(Oe(lt,Lt)):function Xe(lt){return(0,Ee.m)(lt.on)&&(0,Ee.m)(lt.off)}(lt)?Ve.map(Oe(lt,Lt)):[];if(!On&&(0,Se.z)(lt))return(0,z.z)(Yt=>Pe(Yt,Lt,ct))((0,x.Xf)(lt));if(!On)throw new TypeError("Invalid event target");return new G.y(Yt=>{const se=(...ot)=>Yt.next(1<ot.length?ot:ot[0]);return On(se),()=>w(se)})}function Oe(lt,Lt){return ct=>Jt=>lt[ct](Lt,Jt)}},8421:(Dn,ht,I)=>{I.d(ht,{Xf:()=>Xe});var x=I(655),G=I(1144),z=I(8239),Se=I(8306),Ee=I(3670),Fe=I(2206),ke=I(4532),Ae=I(6495),Ve=I(3260),Pe=I(576),Oe=I(7849),be=I(8822);function Xe(Yt){if(Yt instanceof Se.y)return Yt;if(null!=Yt){if((0,Ee.c)(Yt))return function Je(Yt){return new Se.y(se=>{const ot=Yt[be.L]();if((0,Pe.m)(ot.subscribe))return ot.subscribe(se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Yt);if((0,G.z)(Yt))return function lt(Yt){return new Se.y(se=>{for(let ot=0;ot<Yt.length&&!se.closed;ot++)se.next(Yt[ot]);se.complete()})}(Yt);if((0,z.t)(Yt))return function Lt(Yt){return new Se.y(se=>{Yt.then(ot=>{se.closed||(se.next(ot),se.complete())},ot=>se.error(ot)).then(null,Oe.h)})}(Yt);if((0,Fe.D)(Yt))return Jt(Yt);if((0,Ae.T)(Yt))return function ct(Yt){return new Se.y(se=>{for(const ot of Yt)if(se.next(ot),se.closed)return;se.complete()})}(Yt);if((0,Ve.L)(Yt))return function On(Yt){return Jt((0,Ve.Q)(Yt))}(Yt)}throw(0,ke.z)(Yt)}function Jt(Yt){return new Se.y(se=>{(function w(Yt,se){var ot,De,et,gt;return(0,x.mG)(this,void 0,void 0,function*(){try{for(ot=(0,x.KL)(Yt);!(De=yield ot.next()).done;)if(se.next(De.value),se.closed)return}catch(ze){et={error:ze}}finally{try{De&&!De.done&&(gt=ot.return)&&(yield gt.call(ot))}finally{if(et)throw et.error}}se.complete()})})(Yt,se).catch(ot=>se.error(ot))})}},6451:(Dn,ht,I)=>{I.d(ht,{T:()=>Fe});var x=I(8189),G=I(8421),z=I(515),Se=I(3269),Ee=I(188);function Fe(...ke){const Ae=(0,Se.yG)(ke),Ve=(0,Se._6)(ke,1/0),Pe=ke;return Pe.length?1===Pe.length?(0,G.Xf)(Pe[0]):(0,x.J)(Ve)((0,Ee.D)(Pe,Ae)):z.E}},9646:(Dn,ht,I)=>{I.d(ht,{of:()=>z});var x=I(3269),G=I(188);function z(...Se){const Ee=(0,x.yG)(Se);return(0,G.D)(Se,Ee)}},2843:(Dn,ht,I)=>{I.d(ht,{_:()=>z});var x=I(8306),G=I(576);function z(Se,Ee){const Fe=(0,G.m)(Se)?Se:()=>Se,ke=Ae=>Ae.error(Fe());return new x.y(Ee?Ae=>Ee.schedule(ke,0,Ae):ke)}},5963:(Dn,ht,I)=>{I.d(ht,{H:()=>Ee});var x=I(8306),G=I(4986),z=I(3532);function Ee(Fe=0,ke,Ae=G.P){let Ve=-1;return null!=ke&&((0,z.K)(ke)?Ae=ke:Ve=ke),new x.y(Pe=>{let Oe=function Se(Fe){return Fe instanceof Date&&!isNaN(Fe)}(Fe)?+Fe-Ae.now():Fe;Oe<0&&(Oe=0);let be=0;return Ae.schedule(function(){Pe.closed||(Pe.next(be++),0<=Ve?this.schedule(void 0,Ve):Pe.complete())},Oe)})}},5403:(Dn,ht,I)=>{I.d(ht,{x:()=>G});var x=I(930);function G(Se,Ee,Fe,ke,Ae){return new z(Se,Ee,Fe,ke,Ae)}class z extends x.Lv{constructor(Ee,Fe,ke,Ae,Ve,Pe){super(Ee),this.onFinalize=Ve,this.shouldUnsubscribe=Pe,this._next=Fe?function(Oe){try{Fe(Oe)}catch(be){Ee.error(be)}}:super._next,this._error=Ae?function(Oe){try{Ae(Oe)}catch(be){Ee.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(Oe){Ee.error(Oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Fe}=this;super.unsubscribe(),!Fe&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},3601:(Dn,ht,I)=>{I.d(ht,{e:()=>ke});var x=I(4986),G=I(4482),z=I(8421),Se=I(5403),Fe=I(5963);function ke(Ae,Ve=x.z){return function Ee(Ae){return(0,G.e)((Ve,Pe)=>{let Oe=!1,be=null,Xe=null,Je=!1;const lt=()=>{if(null==Xe||Xe.unsubscribe(),Xe=null,Oe){Oe=!1;const ct=be;be=null,Pe.next(ct)}Je&&Pe.complete()},Lt=()=>{Xe=null,Je&&Pe.complete()};Ve.subscribe((0,Se.x)(Pe,ct=>{Oe=!0,be=ct,Xe||(0,z.Xf)(Ae(ct)).subscribe(Xe=(0,Se.x)(Pe,lt,Lt))},()=>{Je=!0,(!Oe||!Xe||Xe.closed)&&Pe.complete()}))})}(()=>(0,Fe.H)(Ae,Ve))}},262:(Dn,ht,I)=>{I.d(ht,{K:()=>Se});var x=I(8421),G=I(5403),z=I(4482);function Se(Ee){return(0,z.e)((Fe,ke)=>{let Pe,Ae=null,Ve=!1;Ae=Fe.subscribe((0,G.x)(ke,void 0,void 0,Oe=>{Pe=(0,x.Xf)(Ee(Oe,Se(Ee)(Fe))),Ae?(Ae.unsubscribe(),Ae=null,Pe.subscribe(ke)):Ve=!0})),Ve&&(Ae.unsubscribe(),Ae=null,Pe.subscribe(ke))})}},4351:(Dn,ht,I)=>{I.d(ht,{b:()=>z});var x=I(5577),G=I(576);function z(Se,Ee){return(0,G.m)(Ee)?(0,x.z)(Se,Ee,1):(0,x.z)(Se,1)}},8372:(Dn,ht,I)=>{I.d(ht,{b:()=>Se});var x=I(4986),G=I(4482),z=I(5403);function Se(Ee,Fe=x.z){return(0,G.e)((ke,Ae)=>{let Ve=null,Pe=null,Oe=null;const be=()=>{if(Ve){Ve.unsubscribe(),Ve=null;const Je=Pe;Pe=null,Ae.next(Je)}};function Xe(){const Je=Oe+Ee,lt=Fe.now();if(lt<Je)return Ve=this.schedule(void 0,Je-lt),void Ae.add(Ve);be()}ke.subscribe((0,z.x)(Ae,Je=>{Pe=Je,Oe=Fe.now(),Ve||(Ve=Fe.schedule(Xe,Ee),Ae.add(Ve))},()=>{be(),Ae.complete()},void 0,()=>{Pe=Ve=null}))})}},1884:(Dn,ht,I)=>{I.d(ht,{x:()=>Se});var x=I(4671),G=I(4482),z=I(5403);function Se(Fe,ke=x.y){return Fe=null!=Fe?Fe:Ee,(0,G.e)((Ae,Ve)=>{let Pe,Oe=!0;Ae.subscribe((0,z.x)(Ve,be=>{const Xe=ke(be);(Oe||!Fe(Pe,Xe))&&(Oe=!1,Pe=Xe,Ve.next(be))}))})}function Ee(Fe,ke){return Fe===ke}},9300:(Dn,ht,I)=>{I.d(ht,{h:()=>z});var x=I(4482),G=I(5403);function z(Se,Ee){return(0,x.e)((Fe,ke)=>{let Ae=0;Fe.subscribe((0,G.x)(ke,Ve=>Se.call(Ee,Ve,Ae++)&&ke.next(Ve)))})}},8746:(Dn,ht,I)=>{I.d(ht,{x:()=>G});var x=I(4482);function G(z){return(0,x.e)((Se,Ee)=>{try{Se.subscribe(Ee)}finally{Ee.add(z)}})}},4004:(Dn,ht,I)=>{I.d(ht,{U:()=>z});var x=I(4482),G=I(5403);function z(Se,Ee){return(0,x.e)((Fe,ke)=>{let Ae=0;Fe.subscribe((0,G.x)(ke,Ve=>{ke.next(Se.call(Ee,Ve,Ae++))}))})}},9718:(Dn,ht,I)=>{I.d(ht,{h:()=>G});var x=I(4004);function G(z){return(0,x.U)(()=>z)}},8189:(Dn,ht,I)=>{I.d(ht,{J:()=>z});var x=I(5577),G=I(4671);function z(Se=1/0){return(0,x.z)(G.y,Se)}},5577:(Dn,ht,I)=>{I.d(ht,{z:()=>Ae});var x=I(4004),G=I(8421),z=I(4482),Se=I(9672),Ee=I(5403),ke=I(576);function Ae(Ve,Pe,Oe=1/0){return(0,ke.m)(Pe)?Ae((be,Xe)=>(0,x.U)((Je,lt)=>Pe(be,Je,Xe,lt))((0,G.Xf)(Ve(be,Xe))),Oe):("number"==typeof Pe&&(Oe=Pe),(0,z.e)((be,Xe)=>function Fe(Ve,Pe,Oe,be,Xe,Je,lt,Lt){const ct=[];let Jt=0,On=0,w=!1;const Yt=()=>{w&&!ct.length&&!Jt&&Pe.complete()},se=De=>Jt<be?ot(De):ct.push(De),ot=De=>{Je&&Pe.next(De),Jt++;let et=!1;(0,G.Xf)(Oe(De,On++)).subscribe((0,Ee.x)(Pe,gt=>{null==Xe||Xe(gt),Je?se(gt):Pe.next(gt)},()=>{et=!0},void 0,()=>{if(et)try{for(Jt--;ct.length&&Jt<be;){const gt=ct.shift();lt?(0,Se.f)(Pe,lt,()=>ot(gt)):ot(gt)}Yt()}catch(gt){Pe.error(gt)}}))};return Ve.subscribe((0,Ee.x)(Pe,se,()=>{w=!0,Yt()})),()=>{null==Lt||Lt()}}(be,Xe,Ve,Oe)))}},8343:(Dn,ht,I)=>{I.d(ht,{x:()=>z});var x=I(4482),G=I(5403);function z(){return(0,x.e)((Se,Ee)=>{let Fe=null;Se._refCount++;const ke=(0,G.x)(Ee,void 0,void 0,void 0,()=>{if(!Se||Se._refCount<=0||0<--Se._refCount)return void(Fe=null);const Ae=Se._connection,Ve=Fe;Fe=null,Ae&&(!Ve||Ae===Ve)&&Ae.unsubscribe(),Ee.unsubscribe()});Se.subscribe(ke),ke.closed||(Fe=Se.connect())})}},3099:(Dn,ht,I)=>{I.d(ht,{B:()=>Fe});var x=I(188),G=I(5698),z=I(7579),Se=I(930),Ee=I(4482);function Fe(Ae={}){const{connector:Ve=(()=>new z.x),resetOnError:Pe=!0,resetOnComplete:Oe=!0,resetOnRefCountZero:be=!0}=Ae;return Xe=>{let Je=null,lt=null,Lt=null,ct=0,Jt=!1,On=!1;const w=()=>{null==lt||lt.unsubscribe(),lt=null},Yt=()=>{w(),Je=Lt=null,Jt=On=!1},se=()=>{const ot=Je;Yt(),null==ot||ot.unsubscribe()};return(0,Ee.e)((ot,De)=>{ct++,!On&&!Jt&&w();const et=Lt=null!=Lt?Lt:Ve();De.add(()=>{ct--,0===ct&&!On&&!Jt&&(lt=ke(se,be))}),et.subscribe(De),Je||(Je=new Se.Hp({next:gt=>et.next(gt),error:gt=>{On=!0,w(),lt=ke(Yt,Pe,gt),et.error(gt)},complete:()=>{Jt=!0,w(),lt=ke(Yt,Oe),et.complete()}}),(0,x.D)(ot).subscribe(Je))})(Xe)}}function ke(Ae,Ve,...Pe){return!0===Ve?(Ae(),null):!1===Ve?null:Ve(...Pe).pipe((0,G.q)(1)).subscribe(()=>Ae())}},8675:(Dn,ht,I)=>{I.d(ht,{O:()=>Se});var x=I(7272),G=I(3269),z=I(4482);function Se(...Ee){const Fe=(0,G.yG)(Ee);return(0,z.e)((ke,Ae)=>{(Fe?(0,x.z)(Ee,ke,Fe):(0,x.z)(Ee,ke)).subscribe(Ae)})}},3900:(Dn,ht,I)=>{I.d(ht,{w:()=>Se});var x=I(8421),G=I(4482),z=I(5403);function Se(Ee,Fe){return(0,G.e)((ke,Ae)=>{let Ve=null,Pe=0,Oe=!1;const be=()=>Oe&&!Ve&&Ae.complete();ke.subscribe((0,z.x)(Ae,Xe=>{null==Ve||Ve.unsubscribe();let Je=0;const lt=Pe++;(0,x.Xf)(Ee(Xe,lt)).subscribe(Ve=(0,z.x)(Ae,Lt=>Ae.next(Fe?Fe(Xe,Lt,lt,Je++):Lt),()=>{Ve=null,be()}))},()=>{Oe=!0,be()}))})}},5698:(Dn,ht,I)=>{I.d(ht,{q:()=>Se});var x=I(515),G=I(4482),z=I(5403);function Se(Ee){return Ee<=0?()=>x.E:(0,G.e)((Fe,ke)=>{let Ae=0;Fe.subscribe((0,z.x)(ke,Ve=>{++Ae<=Ee&&(ke.next(Ve),Ee<=Ae&&ke.complete())}))})}},2722:(Dn,ht,I)=>{I.d(ht,{R:()=>Ee});var x=I(4482),G=I(5403),z=I(8421),Se=I(5032);function Ee(Fe){return(0,x.e)((ke,Ae)=>{(0,z.Xf)(Fe).subscribe((0,G.x)(Ae,()=>Ae.complete(),Se.Z)),!Ae.closed&&ke.subscribe(Ae)})}},2529:(Dn,ht,I)=>{I.d(ht,{o:()=>z});var x=I(4482),G=I(5403);function z(Se,Ee=!1){return(0,x.e)((Fe,ke)=>{let Ae=0;Fe.subscribe((0,G.x)(ke,Ve=>{const Pe=Se(Ve,Ae++);(Pe||Ee)&&ke.next(Ve),!Pe&&ke.complete()}))})}},8505:(Dn,ht,I)=>{I.d(ht,{b:()=>Ee});var x=I(576),G=I(4482),z=I(5403),Se=I(4671);function Ee(Fe,ke,Ae){const Ve=(0,x.m)(Fe)||ke||Ae?{next:Fe,error:ke,complete:Ae}:Fe;return Ve?(0,G.e)((Pe,Oe)=>{var be;null===(be=Ve.subscribe)||void 0===be||be.call(Ve);let Xe=!0;Pe.subscribe((0,z.x)(Oe,Je=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,Je),Oe.next(Je)},()=>{var Je;Xe=!1,null===(Je=Ve.complete)||void 0===Je||Je.call(Ve),Oe.complete()},Je=>{var lt;Xe=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,Je),Oe.error(Je)},()=>{var Je,lt;Xe&&(null===(Je=Ve.unsubscribe)||void 0===Je||Je.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):Se.y}},9975:(Dn,ht,I)=>{I.d(ht,{x:()=>ot});var x=I(8421),G=I(9672),z=I(4482),Se=I(5403);function Ee(De,et=0){return(0,z.e)((gt,ze)=>{gt.subscribe((0,Se.x)(ze,mt=>(0,G.f)(ze,De,()=>ze.next(mt),et),()=>(0,G.f)(ze,De,()=>ze.complete(),et),mt=>(0,G.f)(ze,De,()=>ze.error(mt),et)))})}function Fe(De,et=0){return(0,z.e)((gt,ze)=>{ze.add(De.schedule(()=>gt.subscribe(ze),et))})}var Ve=I(8306),Oe=I(2202),be=I(576);function Je(De,et){if(!De)throw new Error("Iterable cannot be null");return new Ve.y(gt=>{(0,G.f)(gt,et,()=>{const ze=De[Symbol.asyncIterator]();(0,G.f)(gt,et,()=>{ze.next().then(mt=>{mt.done?gt.complete():gt.next(mt.value)})},0,!0)})})}var lt=I(3670),Lt=I(8239),ct=I(1144),Jt=I(6495),On=I(2206),w=I(4532),Yt=I(3260);function ot(De,et){if(null!=De){if((0,lt.c)(De))return function ke(De,et){return(0,x.Xf)(De).pipe(Fe(et),Ee(et))}(De,et);if((0,ct.z)(De))return function Pe(De,et){return new Ve.y(gt=>{let ze=0;return et.schedule(function(){ze===De.length?gt.complete():(gt.next(De[ze++]),gt.closed||this.schedule())})})}(De,et);if((0,Lt.t)(De))return function Ae(De,et){return(0,x.Xf)(De).pipe(Fe(et),Ee(et))}(De,et);if((0,On.D)(De))return Je(De,et);if((0,Jt.T)(De))return function Xe(De,et){return new Ve.y(gt=>{let ze;return(0,G.f)(gt,et,()=>{ze=De[Oe.h](),(0,G.f)(gt,et,()=>{let mt,Ft;try{({value:mt,done:Ft}=ze.next())}catch(It){return void gt.error(It)}Ft?gt.complete():gt.next(mt)},0,!0)}),()=>(0,be.m)(null==ze?void 0:ze.return)&&ze.return()})}(De,et);if((0,Yt.L)(De))return function se(De,et){return Je((0,Yt.Q)(De),et)}(De,et)}throw(0,w.z)(De)}},4408:(Dn,ht,I)=>{I.d(ht,{o:()=>Ee});var x=I(727);class G extends x.w0{constructor(ke,Ae){super()}schedule(ke,Ae=0){return this}}const z={setInterval(Fe,ke,...Ae){const{delegate:Ve}=z;return(null==Ve?void 0:Ve.setInterval)?Ve.setInterval(Fe,ke,...Ae):setInterval(Fe,ke,...Ae)},clearInterval(Fe){const{delegate:ke}=z;return((null==ke?void 0:ke.clearInterval)||clearInterval)(Fe)},delegate:void 0};var Se=I(8737);class Ee extends G{constructor(ke,Ae){super(ke,Ae),this.scheduler=ke,this.work=Ae,this.pending=!1}schedule(ke,Ae=0){if(this.closed)return this;this.state=ke;const Ve=this.id,Pe=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(Pe,Ve,Ae)),this.pending=!0,this.delay=Ae,this.id=this.id||this.requestAsyncId(Pe,this.id,Ae),this}requestAsyncId(ke,Ae,Ve=0){return z.setInterval(ke.flush.bind(ke,this),Ve)}recycleAsyncId(ke,Ae,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Ae;z.clearInterval(Ae)}execute(ke,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(ke,Ae);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Ae){let Pe,Ve=!1;try{this.work(ke)}catch(Oe){Ve=!0,Pe=Oe||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Ae}=this,{actions:Ve}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(Ve,this),null!=ke&&(this.id=this.recycleAsyncId(Ae,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dn,ht,I)=>{I.d(ht,{v:()=>z});var x=I(6063);class G{constructor(Ee,Fe=G.now){this.schedulerActionCtor=Ee,this.now=Fe}schedule(Ee,Fe=0,ke){return new this.schedulerActionCtor(this,Ee).schedule(ke,Fe)}}G.now=x.l.now;class z extends G{constructor(Ee,Fe=G.now){super(Ee,Fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ee){const{actions:Fe}=this;if(this._active)return void Fe.push(Ee);let ke;this._active=!0;do{if(ke=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Fe.shift());if(this._active=!1,ke){for(;Ee=Fe.shift();)Ee.unsubscribe();throw ke}}}},6406:(Dn,ht,I)=>{I.d(ht,{Z:()=>ke});var x=I(4408),G=I(727);const z={schedule(Ve){let Pe=requestAnimationFrame,Oe=cancelAnimationFrame;const{delegate:be}=z;be&&(Pe=be.requestAnimationFrame,Oe=be.cancelAnimationFrame);const Xe=Pe(Je=>{Oe=void 0,Ve(Je)});return new G.w0(()=>null==Oe?void 0:Oe(Xe))},requestAnimationFrame(...Ve){const{delegate:Pe}=z;return((null==Pe?void 0:Pe.requestAnimationFrame)||requestAnimationFrame)(...Ve)},cancelAnimationFrame(...Ve){const{delegate:Pe}=z;return((null==Pe?void 0:Pe.cancelAnimationFrame)||cancelAnimationFrame)(...Ve)},delegate:void 0};var Ee=I(7565);const ke=new class Fe extends Ee.v{flush(Pe){this._active=!0;const Oe=this._scheduled;this._scheduled=void 0;const{actions:be}=this;let Xe;Pe=Pe||be.shift();do{if(Xe=Pe.execute(Pe.state,Pe.delay))break}while((Pe=be[0])&&Pe.id===Oe&&be.shift());if(this._active=!1,Xe){for(;(Pe=be[0])&&Pe.id===Oe&&be.shift();)Pe.unsubscribe();throw Xe}}}(class Se extends x.o{constructor(Pe,Oe){super(Pe,Oe),this.scheduler=Pe,this.work=Oe}requestAsyncId(Pe,Oe,be=0){return null!==be&&be>0?super.requestAsyncId(Pe,Oe,be):(Pe.actions.push(this),Pe._scheduled||(Pe._scheduled=z.requestAnimationFrame(()=>Pe.flush(void 0))))}recycleAsyncId(Pe,Oe,be=0){if(null!=be&&be>0||null==be&&this.delay>0)return super.recycleAsyncId(Pe,Oe,be);Pe.actions.some(Xe=>Xe.id===Oe)||(z.cancelAnimationFrame(Oe),Pe._scheduled=void 0)}})},3101:(Dn,ht,I)=>{I.d(ht,{E:()=>Je});var x=I(4408);let z,G=1;const Se={};function Ee(Lt){return Lt in Se&&(delete Se[Lt],!0)}const Fe={setImmediate(Lt){const ct=G++;return Se[ct]=!0,z||(z=Promise.resolve()),z.then(()=>Ee(ct)&&Lt()),ct},clearImmediate(Lt){Ee(Lt)}},{setImmediate:Ae,clearImmediate:Ve}=Fe,Pe={setImmediate(...Lt){const{delegate:ct}=Pe;return((null==ct?void 0:ct.setImmediate)||Ae)(...Lt)},clearImmediate(Lt){const{delegate:ct}=Pe;return((null==ct?void 0:ct.clearImmediate)||Ve)(Lt)},delegate:void 0};var be=I(7565);const Je=new class Xe extends be.v{flush(ct){this._active=!0;const Jt=this._scheduled;this._scheduled=void 0;const{actions:On}=this;let w;ct=ct||On.shift();do{if(w=ct.execute(ct.state,ct.delay))break}while((ct=On[0])&&ct.id===Jt&&On.shift());if(this._active=!1,w){for(;(ct=On[0])&&ct.id===Jt&&On.shift();)ct.unsubscribe();throw w}}}(class Oe extends x.o{constructor(ct,Jt){super(ct,Jt),this.scheduler=ct,this.work=Jt}requestAsyncId(ct,Jt,On=0){return null!==On&&On>0?super.requestAsyncId(ct,Jt,On):(ct.actions.push(this),ct._scheduled||(ct._scheduled=Pe.setImmediate(ct.flush.bind(ct,void 0))))}recycleAsyncId(ct,Jt,On=0){if(null!=On&&On>0||null==On&&this.delay>0)return super.recycleAsyncId(ct,Jt,On);ct.actions.some(w=>w.id===Jt)||(Pe.clearImmediate(Jt),ct._scheduled=void 0)}})},4986:(Dn,ht,I)=>{I.d(ht,{P:()=>Se,z:()=>z});var x=I(4408);const z=new(I(7565).v)(x.o),Se=z},6063:(Dn,ht,I)=>{I.d(ht,{l:()=>x});const x={now:()=>(x.delegate||Date).now(),delegate:void 0}},3410:(Dn,ht,I)=>{I.d(ht,{z:()=>x});const x={setTimeout(G,z,...Se){const{delegate:Ee}=x;return(null==Ee?void 0:Ee.setTimeout)?Ee.setTimeout(G,z,...Se):setTimeout(G,z,...Se)},clearTimeout(G){const{delegate:z}=x;return((null==z?void 0:z.clearTimeout)||clearTimeout)(G)},delegate:void 0}},2202:(Dn,ht,I)=>{I.d(ht,{h:()=>G});const G=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dn,ht,I)=>{I.d(ht,{L:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Dn,ht,I)=>{I.d(ht,{K:()=>G});const G=(0,I(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Dn,ht,I)=>{I.d(ht,{_6:()=>Fe,jO:()=>Se,yG:()=>Ee});var x=I(576),G=I(3532);function z(ke){return ke[ke.length-1]}function Se(ke){return(0,x.m)(z(ke))?ke.pop():void 0}function Ee(ke){return(0,G.K)(z(ke))?ke.pop():void 0}function Fe(ke,Ae){return"number"==typeof z(ke)?ke.pop():Ae}},4742:(Dn,ht,I)=>{I.d(ht,{D:()=>Ee});const{isArray:x}=Array,{getPrototypeOf:G,prototype:z,keys:Se}=Object;function Ee(ke){if(1===ke.length){const Ae=ke[0];if(x(Ae))return{args:Ae,keys:null};if(function Fe(ke){return ke&&"object"==typeof ke&&G(ke)===z}(Ae)){const Ve=Se(Ae);return{args:Ve.map(Pe=>Ae[Pe]),keys:Ve}}}return{args:ke,keys:null}}},8737:(Dn,ht,I)=>{function x(G,z){if(G){const Se=G.indexOf(z);0<=Se&&G.splice(Se,1)}}I.d(ht,{P:()=>x})},3888:(Dn,ht,I)=>{function x(G){const Se=G(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}I.d(ht,{d:()=>x})},1810:(Dn,ht,I)=>{function x(G,z){return G.reduce((Se,Ee,Fe)=>(Se[Ee]=z[Fe],Se),{})}I.d(ht,{n:()=>x})},2806:(Dn,ht,I)=>{I.d(ht,{O:()=>Se,x:()=>z});var x=I(2416);let G=null;function z(Ee){if(x.v.useDeprecatedSynchronousErrorHandling){const Fe=!G;if(Fe&&(G={errorThrown:!1,error:null}),Ee(),Fe){const{errorThrown:ke,error:Ae}=G;if(G=null,ke)throw Ae}}else Ee()}function Se(Ee){x.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Ee)}},9672:(Dn,ht,I)=>{function x(G,z,Se,Ee=0,Fe=!1){const ke=z.schedule(function(){Se(),Fe?G.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(G.add(ke),!Fe)return ke}I.d(ht,{f:()=>x})},4671:(Dn,ht,I)=>{function x(G){return G}I.d(ht,{y:()=>x})},1144:(Dn,ht,I)=>{I.d(ht,{z:()=>x});const x=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(Dn,ht,I)=>{I.d(ht,{D:()=>G});var x=I(576);function G(z){return Symbol.asyncIterator&&(0,x.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(Dn,ht,I)=>{function x(G){return"function"==typeof G}I.d(ht,{m:()=>x})},3670:(Dn,ht,I)=>{I.d(ht,{c:()=>z});var x=I(8822),G=I(576);function z(Se){return(0,G.m)(Se[x.L])}},6495:(Dn,ht,I)=>{I.d(ht,{T:()=>z});var x=I(2202),G=I(576);function z(Se){return(0,G.m)(null==Se?void 0:Se[x.h])}},8239:(Dn,ht,I)=>{I.d(ht,{t:()=>G});var x=I(576);function G(z){return(0,x.m)(null==z?void 0:z.then)}},3260:(Dn,ht,I)=>{I.d(ht,{L:()=>Se,Q:()=>z});var x=I(655),G=I(576);function z(Ee){return(0,x.FC)(this,arguments,function*(){const ke=Ee.getReader();try{for(;;){const{value:Ae,done:Ve}=yield(0,x.qq)(ke.read());if(Ve)return yield(0,x.qq)(void 0);yield yield(0,x.qq)(Ae)}}finally{ke.releaseLock()}})}function Se(Ee){return(0,G.m)(null==Ee?void 0:Ee.getReader)}},3532:(Dn,ht,I)=>{I.d(ht,{K:()=>G});var x=I(576);function G(z){return z&&(0,x.m)(z.schedule)}},4482:(Dn,ht,I)=>{I.d(ht,{A:()=>G,e:()=>z});var x=I(576);function G(Se){return(0,x.m)(null==Se?void 0:Se.lift)}function z(Se){return Ee=>{if(G(Ee))return Ee.lift(function(Fe){try{return Se(Fe,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Dn,ht,I)=>{I.d(ht,{Z:()=>Se});var x=I(4004);const{isArray:G}=Array;function Se(Ee){return(0,x.U)(Fe=>function z(Ee,Fe){return G(Fe)?Ee(...Fe):Ee(Fe)}(Ee,Fe))}},5032:(Dn,ht,I)=>{function x(){}I.d(ht,{Z:()=>x})},7849:(Dn,ht,I)=>{I.d(ht,{h:()=>z});var x=I(2416),G=I(3410);function z(Se){G.z.setTimeout(()=>{const{onUnhandledError:Ee}=x.v;if(!Ee)throw Se;Ee(Se)})}},4532:(Dn,ht,I)=>{function x(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}I.d(ht,{z:()=>x})},655:(Dn,ht,I)=>{function Se(ze,mt){var Ft={};for(var It in ze)Object.prototype.hasOwnProperty.call(ze,It)&&mt.indexOf(It)<0&&(Ft[It]=ze[It]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var $t=0;for(It=Object.getOwnPropertySymbols(ze);$t<It.length;$t++)mt.indexOf(It[$t])<0&&Object.prototype.propertyIsEnumerable.call(ze,It[$t])&&(Ft[It[$t]]=ze[It[$t]])}return Ft}function Ee(ze,mt,Ft,It){var pn,$t=arguments.length,ut=$t<3?mt:null===It?It=Object.getOwnPropertyDescriptor(mt,Ft):It;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(ze,mt,Ft,It);else for(var tt=ze.length-1;tt>=0;tt--)(pn=ze[tt])&&(ut=($t<3?pn(ut):$t>3?pn(mt,Ft,ut):pn(mt,Ft))||ut);return $t>3&&ut&&Object.defineProperty(mt,Ft,ut),ut}function Ae(ze,mt,Ft,It){return new(Ft||(Ft=Promise))(function(ut,pn){function tt(jt){try{xt(It.next(jt))}catch(Hn){pn(Hn)}}function en(jt){try{xt(It.throw(jt))}catch(Hn){pn(Hn)}}function xt(jt){jt.done?ut(jt.value):function $t(ut){return ut instanceof Ft?ut:new Ft(function(pn){pn(ut)})}(jt.value).then(tt,en)}xt((It=It.apply(ze,mt||[])).next())})}function ct(ze){return this instanceof ct?(this.v=ze,this):new ct(ze)}function Jt(ze,mt,Ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $t,It=Ft.apply(ze,mt||[]),ut=[];return $t={},pn("next"),pn("throw"),pn("return"),$t[Symbol.asyncIterator]=function(){return this},$t;function pn(or){It[or]&&($t[or]=function(_r){return new Promise(function(gr,xi){ut.push([or,_r,gr,xi])>1||tt(or,_r)})})}function tt(or,_r){try{!function en(or){or.value instanceof ct?Promise.resolve(or.value.v).then(xt,jt):Hn(ut[0][2],or)}(It[or](_r))}catch(gr){Hn(ut[0][3],gr)}}function xt(or){tt("next",or)}function jt(or){tt("throw",or)}function Hn(or,_r){or(_r),ut.shift(),ut.length&&tt(ut[0][0],ut[0][1])}}function w(ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft,mt=ze[Symbol.asyncIterator];return mt?mt.call(ze):(ze=function be(ze){var mt="function"==typeof Symbol&&Symbol.iterator,Ft=mt&&ze[mt],It=0;if(Ft)return Ft.call(ze);if(ze&&"number"==typeof ze.length)return{next:function(){return ze&&It>=ze.length&&(ze=void 0),{value:ze&&ze[It++],done:!ze}}};throw new TypeError(mt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),Ft={},It("next"),It("throw"),It("return"),Ft[Symbol.asyncIterator]=function(){return this},Ft);function It(ut){Ft[ut]=ze[ut]&&function(pn){return new Promise(function(tt,en){!function $t(ut,pn,tt,en){Promise.resolve(en).then(function(xt){ut({value:xt,done:tt})},pn)}(tt,en,(pn=ze[ut](pn)).done,pn.value)})}}}I.d(ht,{FC:()=>Jt,KL:()=>w,_T:()=>Se,gn:()=>Ee,mG:()=>Ae,qq:()=>ct})},1777:(Dn,ht,I)=>{I.d(ht,{EY:()=>Lt,IO:()=>lt,LC:()=>G,SB:()=>Ve,X$:()=>Se,ZE:()=>On,ZN:()=>Jt,_j:()=>x,eR:()=>Oe,jt:()=>Ee,k1:()=>w,l3:()=>z,oB:()=>Ae,vP:()=>ke});class x{}class G{}const z="*";function Se(Yt,se){return{type:7,name:Yt,definitions:se,options:{}}}function Ee(Yt,se=null){return{type:4,styles:se,timings:Yt}}function ke(Yt,se=null){return{type:2,steps:Yt,options:se}}function Ae(Yt){return{type:6,styles:Yt,offset:null}}function Ve(Yt,se,ot){return{type:0,name:Yt,styles:se,options:ot}}function Oe(Yt,se,ot=null){return{type:1,expr:Yt,animation:se,options:ot}}function lt(Yt,se,ot=null){return{type:11,selector:Yt,animation:se,options:ot}}function Lt(Yt,se){return{type:12,timings:Yt,animation:se}}function ct(Yt){Promise.resolve(null).then(Yt)}class Jt{constructor(se=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=se+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}onStart(se){this._onStartFns.push(se)}onDone(se){this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ct(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(se=>se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(se){this._position=this.totalTime?se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(se){const ot="start"==se?this._onStartFns:this._onDoneFns;ot.forEach(De=>De()),ot.length=0}}class On{constructor(se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=se;let ot=0,De=0,et=0;const gt=this.players.length;0==gt?ct(()=>this._onFinish()):this.players.forEach(ze=>{ze.onDone(()=>{++ot==gt&&this._onFinish()}),ze.onDestroy(()=>{++De==gt&&this._onDestroy()}),ze.onStart(()=>{++et==gt&&this._onStart()})}),this.totalTime=this.players.reduce((ze,mt)=>Math.max(ze,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}init(){this.players.forEach(se=>se.init())}onStart(se){this._onStartFns.push(se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(se=>se()),this._onStartFns=[])}onDone(se){this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(se=>se.play())}pause(){this.players.forEach(se=>se.pause())}restart(){this.players.forEach(se=>se.restart())}finish(){this._onFinish(),this.players.forEach(se=>se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(se=>se.destroy()),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this.players.forEach(se=>se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(se){const ot=se*this.totalTime;this.players.forEach(De=>{const et=De.totalTime?Math.min(1,ot/De.totalTime):1;De.setPosition(et)})}getPosition(){const se=this.players.reduce((ot,De)=>null===ot||De.totalTime>ot.totalTime?De:ot,null);return null!=se?se.getPosition():0}beforeDestroy(){this.players.forEach(se=>{se.beforeDestroy&&se.beforeDestroy()})}triggerCallback(se){const ot="start"==se?this._onStartFns:this._onDoneFns;ot.forEach(De=>De()),ot.length=0}}const w="!"},5911:(Dn,ht,I)=>{I.d(ht,{rt:()=>dr,s1:()=>tt,Em:()=>en,tE:()=>fn,iQ:()=>Mi,qV:()=>mi,ic:()=>jt});var x=I(9808),G=I(5e3),z=I(925),Se=I(7579),Ee=I(727),Fe=I(1135),ke=I(9646),Ae=I(1159),Ve=I(9300),Oe=I(8505),be=I(8372),Xe=I(4004),Je=I(5698),lt=I(1884),Lt=I(2722),ct=I(3191);let Jt=(()=>{class Bt{create(Be){return"undefined"==typeof MutationObserver?null:new MutationObserver(Be)}}return Bt.\u0275fac=function(Be){return new(Be||Bt)},Bt.\u0275prov=G.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),Yt=(()=>{class Bt{}return Bt.\u0275fac=function(Be){return new(Be||Bt)},Bt.\u0275mod=G.oAB({type:Bt}),Bt.\u0275inj=G.cJS({providers:[Jt]}),Bt})();class pn{constructor(wt){this._items=wt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Se.x,this._typeaheadSubscription=Ee.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Be=>Be.disabled,this._pressedLetters=[],this.tabOut=new Se.x,this.change=new Se.x,wt instanceof G.n_E&&wt.changes.subscribe(Be=>{if(this._activeItem){const Nt=Be.toArray().indexOf(this._activeItem);Nt>-1&&Nt!==this._activeItemIndex&&(this._activeItemIndex=Nt)}})}skipPredicate(wt){return this._skipPredicateFn=wt,this}withWrap(wt=!0){return this._wrap=wt,this}withVerticalOrientation(wt=!0){return this._vertical=wt,this}withHorizontalOrientation(wt){return this._horizontal=wt,this}withAllowedModifierKeys(wt){return this._allowedModifierKeys=wt,this}withTypeAhead(wt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Oe.b)(Be=>this._pressedLetters.push(Be)),(0,be.b)(wt),(0,Ve.h)(()=>this._pressedLetters.length>0),(0,Xe.U)(()=>this._pressedLetters.join(""))).subscribe(Be=>{const xe=this._getItemsArray();for(let Nt=1;Nt<xe.length+1;Nt++){const an=(this._activeItemIndex+Nt)%xe.length,vr=xe[an];if(!this._skipPredicateFn(vr)&&0===vr.getLabel().toUpperCase().trim().indexOf(Be)){this.setActiveItem(an);break}}this._pressedLetters=[]}),this}withHomeAndEnd(wt=!0){return this._homeAndEnd=wt,this}setActiveItem(wt){const Be=this._activeItem;this.updateActiveItem(wt),this._activeItem!==Be&&this.change.next(this._activeItemIndex)}onKeydown(wt){const Be=wt.keyCode,Nt=["altKey","ctrlKey","metaKey","shiftKey"].every(an=>!wt[an]||this._allowedModifierKeys.indexOf(an)>-1);switch(Be){case Ae.Mf:return void this.tabOut.next();case Ae.JH:if(this._vertical&&Nt){this.setNextItemActive();break}return;case Ae.LH:if(this._vertical&&Nt){this.setPreviousItemActive();break}return;case Ae.SV:if(this._horizontal&&Nt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Ae.oh:if(this._horizontal&&Nt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Ae.Sd:if(this._homeAndEnd&&Nt){this.setFirstItemActive();break}return;case Ae.uR:if(this._homeAndEnd&&Nt){this.setLastItemActive();break}return;default:return void((Nt||(0,Ae.Vb)(wt,"shiftKey"))&&(wt.key&&1===wt.key.length?this._letterKeyStream.next(wt.key.toLocaleUpperCase()):(Be>=Ae.A&&Be<=Ae.Z||Be>=Ae.xE&&Be<=Ae.aO)&&this._letterKeyStream.next(String.fromCharCode(Be))))}this._pressedLetters=[],wt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(wt){const Be=this._getItemsArray(),xe="number"==typeof wt?wt:Be.indexOf(wt),Nt=Be[xe];this._activeItem=null==Nt?null:Nt,this._activeItemIndex=xe}_setActiveItemByDelta(wt){this._wrap?this._setActiveInWrapMode(wt):this._setActiveInDefaultMode(wt)}_setActiveInWrapMode(wt){const Be=this._getItemsArray();for(let xe=1;xe<=Be.length;xe++){const Nt=(this._activeItemIndex+wt*xe+Be.length)%Be.length;if(!this._skipPredicateFn(Be[Nt]))return void this.setActiveItem(Nt)}}_setActiveInDefaultMode(wt){this._setActiveItemByIndex(this._activeItemIndex+wt,wt)}_setActiveItemByIndex(wt,Be){const xe=this._getItemsArray();if(xe[wt]){for(;this._skipPredicateFn(xe[wt]);)if(!xe[wt+=Be])return;this.setActiveItem(wt)}}_getItemsArray(){return this._items instanceof G.n_E?this._items.toArray():this._items}}class tt extends pn{setActiveItem(wt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(wt),this.activeItem&&this.activeItem.setActiveStyles()}}class en extends pn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(wt){return this._origin=wt,this}setActiveItem(wt){super.setActiveItem(wt),this.activeItem&&this.activeItem.focus(this._origin)}}let jt=(()=>{class Bt{constructor(Be){this._platform=Be}isDisabled(Be){return Be.hasAttribute("disabled")}isVisible(Be){return function or(Bt){return!!(Bt.offsetWidth||Bt.offsetHeight||"function"==typeof Bt.getClientRects&&Bt.getClientRects().length)}(Be)&&"visible"===getComputedStyle(Be).visibility}isTabbable(Be){if(!this._platform.isBrowser)return!1;const xe=function Hn(Bt){try{return Bt.frameElement}catch(wt){return null}}(function pr(Bt){return Bt.ownerDocument&&Bt.ownerDocument.defaultView||window}(Be));if(xe&&(-1===Ni(xe)||!this.isVisible(xe)))return!1;let Nt=Be.nodeName.toLowerCase(),an=Ni(Be);return Be.hasAttribute("contenteditable")?-1!==an:!("iframe"===Nt||"object"===Nt||this._platform.WEBKIT&&this._platform.IOS&&!function Ui(Bt){let wt=Bt.nodeName.toLowerCase(),Be="input"===wt&&Bt.type;return"text"===Be||"password"===Be||"select"===wt||"textarea"===wt}(Be))&&("audio"===Nt?!!Be.hasAttribute("controls")&&-1!==an:"video"===Nt?-1!==an&&(null!==an||this._platform.FIREFOX||Be.hasAttribute("controls")):Be.tabIndex>=0)}isFocusable(Be,xe){return function rr(Bt){return!function gr(Bt){return function oi(Bt){return"input"==Bt.nodeName.toLowerCase()}(Bt)&&"hidden"==Bt.type}(Bt)&&(function _r(Bt){let wt=Bt.nodeName.toLowerCase();return"input"===wt||"select"===wt||"button"===wt||"textarea"===wt}(Bt)||function xi(Bt){return function Or(Bt){return"a"==Bt.nodeName.toLowerCase()}(Bt)&&Bt.hasAttribute("href")}(Bt)||Bt.hasAttribute("contenteditable")||bi(Bt))}(Be)&&!this.isDisabled(Be)&&((null==xe?void 0:xe.ignoreVisibility)||this.isVisible(Be))}}return Bt.\u0275fac=function(Be){return new(Be||Bt)(G.LFG(z.t4))},Bt.\u0275prov=G.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();function bi(Bt){if(!Bt.hasAttribute("tabindex")||void 0===Bt.tabIndex)return!1;let wt=Bt.getAttribute("tabindex");return!(!wt||isNaN(parseInt(wt,10)))}function Ni(Bt){if(!bi(Bt))return null;const wt=parseInt(Bt.getAttribute("tabindex")||"",10);return isNaN(wt)?-1:wt}class Mi{constructor(wt,Be,xe,Nt,an=!1){this._element=wt,this._checker=Be,this._ngZone=xe,this._document=Nt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,an||this.attachAnchors()}get enabled(){return this._enabled}set enabled(wt){this._enabled=wt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(wt,this._startAnchor),this._toggleAnchorTabIndex(wt,this._endAnchor))}destroy(){const wt=this._startAnchor,Be=this._endAnchor;wt&&(wt.removeEventListener("focus",this.startAnchorListener),wt.remove()),Be&&(Be.removeEventListener("focus",this.endAnchorListener),Be.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(wt){return new Promise(Be=>{this._executeOnStable(()=>Be(this.focusInitialElement(wt)))})}focusFirstTabbableElementWhenReady(wt){return new Promise(Be=>{this._executeOnStable(()=>Be(this.focusFirstTabbableElement(wt)))})}focusLastTabbableElementWhenReady(wt){return new Promise(Be=>{this._executeOnStable(()=>Be(this.focusLastTabbableElement(wt)))})}_getRegionBoundary(wt){const Be=this._element.querySelectorAll(`[cdk-focus-region-${wt}], [cdkFocusRegion${wt}], [cdk-focus-${wt}]`);return"start"==wt?Be.length?Be[0]:this._getFirstTabbableElement(this._element):Be.length?Be[Be.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(wt){const Be=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Be){if(!this._checker.isFocusable(Be)){const xe=this._getFirstTabbableElement(Be);return null==xe||xe.focus(wt),!!xe}return Be.focus(wt),!0}return this.focusFirstTabbableElement(wt)}focusFirstTabbableElement(wt){const Be=this._getRegionBoundary("start");return Be&&Be.focus(wt),!!Be}focusLastTabbableElement(wt){const Be=this._getRegionBoundary("end");return Be&&Be.focus(wt),!!Be}hasAttached(){return this._hasAttached}_getFirstTabbableElement(wt){if(this._checker.isFocusable(wt)&&this._checker.isTabbable(wt))return wt;const Be=wt.children;for(let xe=0;xe<Be.length;xe++){const Nt=Be[xe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Be[xe]):null;if(Nt)return Nt}return null}_getLastTabbableElement(wt){if(this._checker.isFocusable(wt)&&this._checker.isTabbable(wt))return wt;const Be=wt.children;for(let xe=Be.length-1;xe>=0;xe--){const Nt=Be[xe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Be[xe]):null;if(Nt)return Nt}return null}_createAnchor(){const wt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,wt),wt.classList.add("cdk-visually-hidden"),wt.classList.add("cdk-focus-trap-anchor"),wt.setAttribute("aria-hidden","true"),wt}_toggleAnchorTabIndex(wt,Be){wt?Be.setAttribute("tabindex","0"):Be.removeAttribute("tabindex")}toggleAnchors(wt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(wt,this._startAnchor),this._toggleAnchorTabIndex(wt,this._endAnchor))}_executeOnStable(wt){this._ngZone.isStable?wt():this._ngZone.onStable.pipe((0,Je.q)(1)).subscribe(wt)}}let mi=(()=>{class Bt{constructor(Be,xe,Nt){this._checker=Be,this._ngZone=xe,this._document=Nt}create(Be,xe=!1){return new Mi(Be,this._checker,this._ngZone,this._document,xe)}}return Bt.\u0275fac=function(Be){return new(Be||Bt)(G.LFG(jt),G.LFG(G.R0b),G.LFG(x.K0))},Bt.\u0275prov=G.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();const $e=new G.OlP("cdk-input-modality-detector-options"),fe={ignoreKeys:[Ae.zL,Ae.jx,Ae.b2,Ae.MW,Ae.JU]},ve=(0,z.i$)({passive:!0,capture:!0});let Ie=(()=>{class Bt{constructor(Be,xe,Nt,an){this._platform=Be,this._mostRecentTarget=null,this._modality=new Fe.X(null),this._lastTouchMs=0,this._onKeydown=vr=>{var hr,Dt;(null===(Dt=null===(hr=this._options)||void 0===hr?void 0:hr.ignoreKeys)||void 0===Dt?void 0:Dt.some(Ct=>Ct===vr.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,z.sA)(vr))},this._onMousedown=vr=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Xt(Bt){return 0===Bt.buttons||0===Bt.offsetX&&0===Bt.offsetY}(vr)?"keyboard":"mouse"),this._mostRecentTarget=(0,z.sA)(vr))},this._onTouchstart=vr=>{!function dt(Bt){const wt=Bt.touches&&Bt.touches[0]||Bt.changedTouches&&Bt.changedTouches[0];return!(!wt||-1!==wt.identifier||null!=wt.radiusX&&1!==wt.radiusX||null!=wt.radiusY&&1!==wt.radiusY)}(vr)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,z.sA)(vr)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},fe),an),this.modalityDetected=this._modality.pipe(function Pe(Bt){return(0,Ve.h)((wt,Be)=>Bt<=Be)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,lt.x)()),Be.isBrowser&&xe.runOutsideAngular(()=>{Nt.addEventListener("keydown",this._onKeydown,ve),Nt.addEventListener("mousedown",this._onMousedown,ve),Nt.addEventListener("touchstart",this._onTouchstart,ve)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ve),document.removeEventListener("mousedown",this._onMousedown,ve),document.removeEventListener("touchstart",this._onTouchstart,ve))}}return Bt.\u0275fac=function(Be){return new(Be||Bt)(G.LFG(z.t4),G.LFG(G.R0b),G.LFG(x.K0),G.LFG($e,8))},Bt.\u0275prov=G.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();const br=new G.OlP("cdk-focus-monitor-default-options"),Vt=(0,z.i$)({passive:!0,capture:!0});let fn=(()=>{class Bt{constructor(Be,xe,Nt,an,vr){this._ngZone=Be,this._platform=xe,this._inputModalityDetector=Nt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Se.x,this._rootNodeFocusAndBlurListener=hr=>{const Dt=(0,z.sA)(hr),Ct="focus"===hr.type?this._onFocus:this._onBlur;for(let Ke=Dt;Ke;Ke=Ke.parentElement)Ct.call(this,hr,Ke)},this._document=an,this._detectionMode=(null==vr?void 0:vr.detectionMode)||0}monitor(Be,xe=!1){const Nt=(0,ct.fI)(Be);if(!this._platform.isBrowser||1!==Nt.nodeType)return(0,ke.of)(null);const an=(0,z.kV)(Nt)||this._getDocument(),vr=this._elementInfo.get(Nt);if(vr)return xe&&(vr.checkChildren=!0),vr.subject;const hr={checkChildren:xe,subject:new Se.x,rootNode:an};return this._elementInfo.set(Nt,hr),this._registerGlobalListeners(hr),hr.subject}stopMonitoring(Be){const xe=(0,ct.fI)(Be),Nt=this._elementInfo.get(xe);Nt&&(Nt.subject.complete(),this._setClasses(xe),this._elementInfo.delete(xe),this._removeGlobalListeners(Nt))}focusVia(Be,xe,Nt){const an=(0,ct.fI)(Be);an===this._getDocument().activeElement?this._getClosestElementsInfo(an).forEach(([hr,Dt])=>this._originChanged(hr,xe,Dt)):(this._setOrigin(xe),"function"==typeof an.focus&&an.focus(Nt))}ngOnDestroy(){this._elementInfo.forEach((Be,xe)=>this.stopMonitoring(xe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Be){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Be)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Be){return 1===this._detectionMode||!!(null==Be?void 0:Be.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Be,xe){Be.classList.toggle("cdk-focused",!!xe),Be.classList.toggle("cdk-touch-focused","touch"===xe),Be.classList.toggle("cdk-keyboard-focused","keyboard"===xe),Be.classList.toggle("cdk-mouse-focused","mouse"===xe),Be.classList.toggle("cdk-program-focused","program"===xe)}_setOrigin(Be,xe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Be,this._originFromTouchInteraction="touch"===Be&&xe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Be,xe){const Nt=this._elementInfo.get(xe),an=(0,z.sA)(Be);!Nt||!Nt.checkChildren&&xe!==an||this._originChanged(xe,this._getFocusOrigin(an),Nt)}_onBlur(Be,xe){const Nt=this._elementInfo.get(xe);!Nt||Nt.checkChildren&&Be.relatedTarget instanceof Node&&xe.contains(Be.relatedTarget)||(this._setClasses(xe),this._emitOrigin(Nt.subject,null))}_emitOrigin(Be,xe){this._ngZone.run(()=>Be.next(xe))}_registerGlobalListeners(Be){if(!this._platform.isBrowser)return;const xe=Be.rootNode,Nt=this._rootNodeFocusListenerCount.get(xe)||0;Nt||this._ngZone.runOutsideAngular(()=>{xe.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vt),xe.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vt)}),this._rootNodeFocusListenerCount.set(xe,Nt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Lt.R)(this._stopInputModalityDetector)).subscribe(an=>{this._setOrigin(an,!0)}))}_removeGlobalListeners(Be){const xe=Be.rootNode;if(this._rootNodeFocusListenerCount.has(xe)){const Nt=this._rootNodeFocusListenerCount.get(xe);Nt>1?this._rootNodeFocusListenerCount.set(xe,Nt-1):(xe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vt),xe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vt),this._rootNodeFocusListenerCount.delete(xe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Be,xe,Nt){this._setClasses(Be,xe),this._emitOrigin(Nt.subject,xe),this._lastFocusOrigin=xe}_getClosestElementsInfo(Be){const xe=[];return this._elementInfo.forEach((Nt,an)=>{(an===Be||Nt.checkChildren&&an.contains(Be))&&xe.push([an,Nt])}),xe}}return Bt.\u0275fac=function(Be){return new(Be||Bt)(G.LFG(G.R0b),G.LFG(z.t4),G.LFG(Ie),G.LFG(x.K0,8),G.LFG(br,8))},Bt.\u0275prov=G.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();const oe="cdk-high-contrast-black-on-white",er="cdk-high-contrast-white-on-black",Lr="cdk-high-contrast-active";let Er=(()=>{class Bt{constructor(Be,xe){this._platform=Be,this._document=xe}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Be=this._document.createElement("div");Be.style.backgroundColor="rgb(1,2,3)",Be.style.position="absolute",this._document.body.appendChild(Be);const xe=this._document.defaultView||window,Nt=xe&&xe.getComputedStyle?xe.getComputedStyle(Be):null,an=(Nt&&Nt.backgroundColor||"").replace(/ /g,"");switch(Be.remove(),an){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Be=this._document.body.classList;Be.remove(Lr),Be.remove(oe),Be.remove(er),this._hasCheckedHighContrastMode=!0;const xe=this.getHighContrastMode();1===xe?(Be.add(Lr),Be.add(oe)):2===xe&&(Be.add(Lr),Be.add(er))}}}return Bt.\u0275fac=function(Be){return new(Be||Bt)(G.LFG(z.t4),G.LFG(x.K0))},Bt.\u0275prov=G.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),dr=(()=>{class Bt{constructor(Be){Be._applyBodyHighContrastModeCssClasses()}}return Bt.\u0275fac=function(Be){return new(Be||Bt)(G.LFG(Er))},Bt.\u0275mod=G.oAB({type:Bt}),Bt.\u0275inj=G.cJS({imports:[[Yt]]}),Bt})()},226:(Dn,ht,I)=>{I.d(ht,{Is:()=>ke,Lv:()=>Ae,vT:()=>Ve});var x=I(5e3),G=I(9808);const z=new x.OlP("cdk-dir-doc",{providedIn:"root",factory:function Se(){return(0,x.f3M)(G.K0)}}),Ee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Fe(Pe){const Oe=(null==Pe?void 0:Pe.toLowerCase())||"";return"auto"===Oe&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ee.test(navigator.language)?"rtl":"ltr":"rtl"===Oe?"rtl":"ltr"}let ke=(()=>{class Pe{constructor(be){if(this.value="ltr",this.change=new x.vpe,be){const Je=be.documentElement?be.documentElement.dir:null;this.value=Fe((be.body?be.body.dir:null)||Je||"ltr")}}ngOnDestroy(){this.change.complete()}}return Pe.\u0275fac=function(be){return new(be||Pe)(x.LFG(z,8))},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),Ae=(()=>{class Pe{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new x.vpe}get dir(){return this._dir}set dir(be){const Xe=this._dir;this._dir=Fe(be),this._rawDir=be,Xe!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return Pe.\u0275fac=function(be){return new(be||Pe)},Pe.\u0275dir=x.lG2({type:Pe,selectors:[["","dir",""]],hostVars:1,hostBindings:function(be,Xe){2&be&&x.uIk("dir",Xe._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[x._Bn([{provide:ke,useExisting:Pe}])]}),Pe})(),Ve=(()=>{class Pe{}return Pe.\u0275fac=function(be){return new(be||Pe)},Pe.\u0275mod=x.oAB({type:Pe}),Pe.\u0275inj=x.cJS({}),Pe})()},3191:(Dn,ht,I)=>{I.d(ht,{Eq:()=>Ee,HM:()=>Fe,Ig:()=>G,fI:()=>ke,t6:()=>Se});var x=I(5e3);function G(Ve){return null!=Ve&&"false"!=`${Ve}`}function Se(Ve){return!isNaN(parseFloat(Ve))&&!isNaN(Number(Ve))}function Ee(Ve){return Array.isArray(Ve)?Ve:[Ve]}function Fe(Ve){return null==Ve?"":"string"==typeof Ve?Ve:`${Ve}px`}function ke(Ve){return Ve instanceof x.SBq?Ve.nativeElement:Ve}},1159:(Dn,ht,I)=>{I.d(ht,{A:()=>or,JH:()=>w,JU:()=>Fe,K5:()=>Ee,LH:()=>Jt,MW:()=>Tt,Mf:()=>z,SV:()=>On,Sd:()=>Lt,Vb:()=>lo,Z:()=>Ie,aO:()=>tt,b2:()=>Go,hY:()=>Oe,jx:()=>ke,oh:()=>ct,uR:()=>lt,xE:()=>et,zL:()=>Ae});const z=9,Ee=13,Fe=16,ke=17,Ae=18,Oe=27,lt=35,Lt=36,ct=37,Jt=38,On=39,w=40,et=48,tt=57,or=65,Ie=90,Tt=91,Go=224;function lo(ri,...xn){return xn.length?xn.some(Do=>ri[Do]):ri.altKey||ri.shiftKey||ri.ctrlKey||ri.metaKey}},5113:(Dn,ht,I)=>{I.d(ht,{vx:()=>Fe,xu:()=>z});var x=I(5e3),G=I(925);let z=(()=>{class be{}return be.\u0275fac=function(Je){return new(Je||be)},be.\u0275mod=x.oAB({type:be}),be.\u0275inj=x.cJS({}),be})();const Se=new Set;let Ee,Fe=(()=>{class be{constructor(Je){this._platform=Je,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ae}matchMedia(Je){return(this._platform.WEBKIT||this._platform.BLINK)&&function ke(be){if(!Se.has(be))try{Ee||(Ee=document.createElement("style"),Ee.setAttribute("type","text/css"),document.head.appendChild(Ee)),Ee.sheet&&(Ee.sheet.insertRule(`@media ${be} {body{ }}`,0),Se.add(be))}catch(Xe){console.error(Xe)}}(Je),this._matchMedia(Je)}}return be.\u0275fac=function(Je){return new(Je||be)(x.LFG(G.t4))},be.\u0275prov=x.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Ae(be){return{matches:"all"===be||""===be,media:be,addListener:()=>{},removeListener:()=>{}}}},1314:(Dn,ht,I)=>{I.d(ht,{BS:()=>Lt,C4:()=>or,Iu:()=>It,U8:()=>ao,X_:()=>De,Xj:()=>$t,_G:()=>tt,aV:()=>bi,pI:()=>pr,tR:()=>et,uw:()=>ot,wJ:()=>_r,xu:()=>rr});var x=I(9071),G=I(9808),z=I(5e3),Se=I(3191),Ee=I(925),Fe=I(226),ke=I(7429),Ae=I(7579),Ve=I(727),Pe=I(6451),Oe=I(5698),be=I(2722),Xe=I(2529),Je=I(1159);const lt=(0,Ee.Mq)();class Lt{constructor(ue,Ye){this._viewportRuler=ue,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ye}attach(){}enable(){if(this._canBeEnabled()){const ue=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ue.style.left||"",this._previousHTMLStyles.top=ue.style.top||"",ue.style.left=(0,Se.HM)(-this._previousScrollPosition.left),ue.style.top=(0,Se.HM)(-this._previousScrollPosition.top),ue.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ue=this._document.documentElement,At=ue.style,Xt=this._document.body.style,dt=At.scrollBehavior||"",$e=Xt.scrollBehavior||"";this._isEnabled=!1,At.left=this._previousHTMLStyles.left,At.top=this._previousHTMLStyles.top,ue.classList.remove("cdk-global-scrollblock"),lt&&(At.scrollBehavior=Xt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lt&&(At.scrollBehavior=dt,Xt.scrollBehavior=$e)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ye=this._document.body,At=this._viewportRuler.getViewportSize();return Ye.scrollHeight>At.height||Ye.scrollWidth>At.width}}class Jt{constructor(ue,Ye,At,Xt){this._scrollDispatcher=ue,this._ngZone=Ye,this._viewportRuler=At,this._config=Xt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ue){this._overlayRef=ue}enable(){if(this._scrollSubscription)return;const ue=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ue.subscribe(()=>{const Ye=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ye-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ue.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class On{enable(){}disable(){}attach(){}}function w(qt,ue){return ue.some(Ye=>qt.bottom<Ye.top||qt.top>Ye.bottom||qt.right<Ye.left||qt.left>Ye.right)}function Yt(qt,ue){return ue.some(Ye=>qt.top<Ye.top||qt.bottom>Ye.bottom||qt.left<Ye.left||qt.right>Ye.right)}class se{constructor(ue,Ye,At,Xt){this._scrollDispatcher=ue,this._viewportRuler=Ye,this._ngZone=At,this._config=Xt,this._scrollSubscription=null}attach(ue){this._overlayRef=ue}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ye=this._overlayRef.overlayElement.getBoundingClientRect(),{width:At,height:Xt}=this._viewportRuler.getViewportSize();w(Ye,[{width:At,height:Xt,bottom:Xt,right:At,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ot=(()=>{class qt{constructor(Ye,At,Xt,dt){this._scrollDispatcher=Ye,this._viewportRuler=At,this._ngZone=Xt,this.noop=()=>new On,this.close=$e=>new Jt(this._scrollDispatcher,this._ngZone,this._viewportRuler,$e),this.block=()=>new Lt(this._viewportRuler,this._document),this.reposition=$e=>new se(this._scrollDispatcher,this._viewportRuler,this._ngZone,$e),this._document=dt}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(x.mF),z.LFG(x.rL),z.LFG(z.R0b),z.LFG(G.K0))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})();class De{constructor(ue){if(this.scrollStrategy=new On,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ue){const Ye=Object.keys(ue);for(const At of Ye)void 0!==ue[At]&&(this[At]=ue[At])}}}class et{constructor(ue,Ye,At,Xt,dt){this.offsetX=At,this.offsetY=Xt,this.panelClass=dt,this.originX=ue.originX,this.originY=ue.originY,this.overlayX=Ye.overlayX,this.overlayY=Ye.overlayY}}class ze{constructor(ue,Ye){this.connectionPair=ue,this.scrollableViewProperties=Ye}}class It{constructor(ue,Ye,At,Xt,dt,$e,fe,We,ve){this._portalOutlet=ue,this._host=Ye,this._pane=At,this._config=Xt,this._ngZone=dt,this._keyboardDispatcher=$e,this._document=fe,this._location=We,this._outsideClickDispatcher=ve,this._backdropElement=null,this._backdropClick=new Ae.x,this._attachments=new Ae.x,this._detachments=new Ae.x,this._locationChanges=Ve.w0.EMPTY,this._backdropClickHandler=Ie=>this._backdropClick.next(Ie),this._backdropTransitionendHandler=Ie=>{this._disposeBackdrop(Ie.target)},this._keydownEvents=new Ae.x,this._outsidePointerEvents=new Ae.x,Xt.scrollStrategy&&(this._scrollStrategy=Xt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Xt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ue){let Ye=this._portalOutlet.attach(ue);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Oe.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),Ye}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ue=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ue}dispose(){var ue;const Ye=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(ue=this._host)||void 0===ue||ue.remove(),this._previousHostParent=this._pane=this._host=null,Ye&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ue){ue!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ue,this.hasAttached()&&(ue.attach(this),this.updatePosition()))}updateSize(ue){this._config=Object.assign(Object.assign({},this._config),ue),this._updateElementSize()}setDirection(ue){this._config=Object.assign(Object.assign({},this._config),{direction:ue}),this._updateElementDirection()}addPanelClass(ue){this._pane&&this._toggleClasses(this._pane,ue,!0)}removePanelClass(ue){this._pane&&this._toggleClasses(this._pane,ue,!1)}getDirection(){const ue=this._config.direction;return ue?"string"==typeof ue?ue:ue.value:"ltr"}updateScrollStrategy(ue){ue!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ue,this.hasAttached()&&(ue.attach(this),ue.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ue=this._pane.style;ue.width=(0,Se.HM)(this._config.width),ue.height=(0,Se.HM)(this._config.height),ue.minWidth=(0,Se.HM)(this._config.minWidth),ue.minHeight=(0,Se.HM)(this._config.minHeight),ue.maxWidth=(0,Se.HM)(this._config.maxWidth),ue.maxHeight=(0,Se.HM)(this._config.maxHeight)}_togglePointerEvents(ue){this._pane.style.pointerEvents=ue?"":"none"}_attachBackdrop(){const ue="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ue)})}):this._backdropElement.classList.add(ue)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ue=this._backdropElement;!ue||(ue.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ue.addEventListener("transitionend",this._backdropTransitionendHandler)}),ue.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ue)},500)))}_toggleClasses(ue,Ye,At){const Xt=(0,Se.Eq)(Ye||[]).filter(dt=>!!dt);Xt.length&&(At?ue.classList.add(...Xt):ue.classList.remove(...Xt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ue=this._ngZone.onStable.pipe((0,be.R)((0,Pe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ue.unsubscribe())})})}_disposeScrollStrategy(){const ue=this._scrollStrategy;ue&&(ue.disable(),ue.detach&&ue.detach())}_disposeBackdrop(ue){ue&&(ue.removeEventListener("click",this._backdropClickHandler),ue.removeEventListener("transitionend",this._backdropTransitionendHandler),ue.remove(),this._backdropElement===ue&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let $t=(()=>{class qt{constructor(Ye,At){this._platform=At,this._document=Ye}ngOnDestroy(){var Ye;null===(Ye=this._containerElement)||void 0===Ye||Ye.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ye="cdk-overlay-container";if(this._platform.isBrowser||(0,Ee.Oy)()){const Xt=this._document.querySelectorAll(`.${Ye}[platform="server"], .${Ye}[platform="test"]`);for(let dt=0;dt<Xt.length;dt++)Xt[dt].remove()}const At=this._document.createElement("div");At.classList.add(Ye),(0,Ee.Oy)()?At.setAttribute("platform","test"):this._platform.isBrowser||At.setAttribute("platform","server"),this._document.body.appendChild(At),this._containerElement=At}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(G.K0),z.LFG(Ee.t4))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})();const ut="cdk-overlay-connected-position-bounding-box",pn=/([A-Za-z%]+)$/;class tt{constructor(ue,Ye,At,Xt,dt){this._viewportRuler=Ye,this._document=At,this._platform=Xt,this._overlayContainer=dt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ae.x,this._resizeSubscription=Ve.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ue)}get positions(){return this._preferredPositions}attach(ue){this._validatePositions(),ue.hostElement.classList.add(ut),this._overlayRef=ue,this._boundingBox=ue.hostElement,this._pane=ue.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ue=this._originRect,Ye=this._overlayRect,At=this._viewportRect,Xt=this._containerRect,dt=[];let $e;for(let fe of this._preferredPositions){let We=this._getOriginPoint(ue,Xt,fe),ve=this._getOverlayPoint(We,Ye,fe),Ie=this._getOverlayFit(ve,Ye,At,fe);if(Ie.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(fe,We);this._canFitWithFlexibleDimensions(Ie,ve,At)?dt.push({position:fe,origin:We,overlayRect:Ye,boundingBoxRect:this._calculateBoundingBoxRect(We,fe)}):(!$e||$e.overlayFit.visibleArea<Ie.visibleArea)&&($e={overlayFit:Ie,overlayPoint:ve,originPoint:We,position:fe,overlayRect:Ye})}if(dt.length){let fe=null,We=-1;for(const ve of dt){const Ie=ve.boundingBoxRect.width*ve.boundingBoxRect.height*(ve.position.weight||1);Ie>We&&(We=Ie,fe=ve)}return this._isPushed=!1,void this._applyPosition(fe.position,fe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition($e.position,$e.originPoint);this._applyPosition($e.position,$e.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&en(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ut),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ue=this._lastPosition;if(ue){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ye=this._getOriginPoint(this._originRect,this._containerRect,ue);this._applyPosition(ue,Ye)}else this.apply()}withScrollableContainers(ue){return this._scrollables=ue,this}withPositions(ue){return this._preferredPositions=ue,-1===ue.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ue){return this._viewportMargin=ue,this}withFlexibleDimensions(ue=!0){return this._hasFlexibleDimensions=ue,this}withGrowAfterOpen(ue=!0){return this._growAfterOpen=ue,this}withPush(ue=!0){return this._canPush=ue,this}withLockedPosition(ue=!0){return this._positionLocked=ue,this}setOrigin(ue){return this._origin=ue,this}withDefaultOffsetX(ue){return this._offsetX=ue,this}withDefaultOffsetY(ue){return this._offsetY=ue,this}withTransformOriginOn(ue){return this._transformOriginSelector=ue,this}_getOriginPoint(ue,Ye,At){let Xt,dt;if("center"==At.originX)Xt=ue.left+ue.width/2;else{const $e=this._isRtl()?ue.right:ue.left,fe=this._isRtl()?ue.left:ue.right;Xt="start"==At.originX?$e:fe}return Ye.left<0&&(Xt-=Ye.left),dt="center"==At.originY?ue.top+ue.height/2:"top"==At.originY?ue.top:ue.bottom,Ye.top<0&&(dt-=Ye.top),{x:Xt,y:dt}}_getOverlayPoint(ue,Ye,At){let Xt,dt;return Xt="center"==At.overlayX?-Ye.width/2:"start"===At.overlayX?this._isRtl()?-Ye.width:0:this._isRtl()?0:-Ye.width,dt="center"==At.overlayY?-Ye.height/2:"top"==At.overlayY?0:-Ye.height,{x:ue.x+Xt,y:ue.y+dt}}_getOverlayFit(ue,Ye,At,Xt){const dt=jt(Ye);let{x:$e,y:fe}=ue,We=this._getOffset(Xt,"x"),ve=this._getOffset(Xt,"y");We&&($e+=We),ve&&(fe+=ve);let Pn=0-fe,bn=fe+dt.height-At.height,Tn=this._subtractOverflows(dt.width,0-$e,$e+dt.width-At.width),ar=this._subtractOverflows(dt.height,Pn,bn),br=Tn*ar;return{visibleArea:br,isCompletelyWithinViewport:dt.width*dt.height===br,fitsInViewportVertically:ar===dt.height,fitsInViewportHorizontally:Tn==dt.width}}_canFitWithFlexibleDimensions(ue,Ye,At){if(this._hasFlexibleDimensions){const Xt=At.bottom-Ye.y,dt=At.right-Ye.x,$e=xt(this._overlayRef.getConfig().minHeight),fe=xt(this._overlayRef.getConfig().minWidth),ve=ue.fitsInViewportHorizontally||null!=fe&&fe<=dt;return(ue.fitsInViewportVertically||null!=$e&&$e<=Xt)&&ve}return!1}_pushOverlayOnScreen(ue,Ye,At){if(this._previousPushAmount&&this._positionLocked)return{x:ue.x+this._previousPushAmount.x,y:ue.y+this._previousPushAmount.y};const Xt=jt(Ye),dt=this._viewportRect,$e=Math.max(ue.x+Xt.width-dt.width,0),fe=Math.max(ue.y+Xt.height-dt.height,0),We=Math.max(dt.top-At.top-ue.y,0),ve=Math.max(dt.left-At.left-ue.x,0);let Ie=0,Tt=0;return Ie=Xt.width<=dt.width?ve||-$e:ue.x<this._viewportMargin?dt.left-At.left-ue.x:0,Tt=Xt.height<=dt.height?We||-fe:ue.y<this._viewportMargin?dt.top-At.top-ue.y:0,this._previousPushAmount={x:Ie,y:Tt},{x:ue.x+Ie,y:ue.y+Tt}}_applyPosition(ue,Ye){if(this._setTransformOrigin(ue),this._setOverlayElementStyles(Ye,ue),this._setBoundingBoxStyles(Ye,ue),ue.panelClass&&this._addPanelClasses(ue.panelClass),this._lastPosition=ue,this._positionChanges.observers.length){const At=this._getScrollVisibility(),Xt=new ze(ue,At);this._positionChanges.next(Xt)}this._isInitialRender=!1}_setTransformOrigin(ue){if(!this._transformOriginSelector)return;const Ye=this._boundingBox.querySelectorAll(this._transformOriginSelector);let At,Xt=ue.overlayY;At="center"===ue.overlayX?"center":this._isRtl()?"start"===ue.overlayX?"right":"left":"start"===ue.overlayX?"left":"right";for(let dt=0;dt<Ye.length;dt++)Ye[dt].style.transformOrigin=`${At} ${Xt}`}_calculateBoundingBoxRect(ue,Ye){const At=this._viewportRect,Xt=this._isRtl();let dt,$e,fe,Ie,Tt,Pn;if("top"===Ye.overlayY)$e=ue.y,dt=At.height-$e+this._viewportMargin;else if("bottom"===Ye.overlayY)fe=At.height-ue.y+2*this._viewportMargin,dt=At.height-fe+this._viewportMargin;else{const bn=Math.min(At.bottom-ue.y+At.top,ue.y),Tn=this._lastBoundingBoxSize.height;dt=2*bn,$e=ue.y-bn,dt>Tn&&!this._isInitialRender&&!this._growAfterOpen&&($e=ue.y-Tn/2)}if("end"===Ye.overlayX&&!Xt||"start"===Ye.overlayX&&Xt)Pn=At.width-ue.x+this._viewportMargin,Ie=ue.x-this._viewportMargin;else if("start"===Ye.overlayX&&!Xt||"end"===Ye.overlayX&&Xt)Tt=ue.x,Ie=At.right-ue.x;else{const bn=Math.min(At.right-ue.x+At.left,ue.x),Tn=this._lastBoundingBoxSize.width;Ie=2*bn,Tt=ue.x-bn,Ie>Tn&&!this._isInitialRender&&!this._growAfterOpen&&(Tt=ue.x-Tn/2)}return{top:$e,left:Tt,bottom:fe,right:Pn,width:Ie,height:dt}}_setBoundingBoxStyles(ue,Ye){const At=this._calculateBoundingBoxRect(ue,Ye);!this._isInitialRender&&!this._growAfterOpen&&(At.height=Math.min(At.height,this._lastBoundingBoxSize.height),At.width=Math.min(At.width,this._lastBoundingBoxSize.width));const Xt={};if(this._hasExactPosition())Xt.top=Xt.left="0",Xt.bottom=Xt.right=Xt.maxHeight=Xt.maxWidth="",Xt.width=Xt.height="100%";else{const dt=this._overlayRef.getConfig().maxHeight,$e=this._overlayRef.getConfig().maxWidth;Xt.height=(0,Se.HM)(At.height),Xt.top=(0,Se.HM)(At.top),Xt.bottom=(0,Se.HM)(At.bottom),Xt.width=(0,Se.HM)(At.width),Xt.left=(0,Se.HM)(At.left),Xt.right=(0,Se.HM)(At.right),Xt.alignItems="center"===Ye.overlayX?"center":"end"===Ye.overlayX?"flex-end":"flex-start",Xt.justifyContent="center"===Ye.overlayY?"center":"bottom"===Ye.overlayY?"flex-end":"flex-start",dt&&(Xt.maxHeight=(0,Se.HM)(dt)),$e&&(Xt.maxWidth=(0,Se.HM)($e))}this._lastBoundingBoxSize=At,en(this._boundingBox.style,Xt)}_resetBoundingBoxStyles(){en(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){en(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ue,Ye){const At={},Xt=this._hasExactPosition(),dt=this._hasFlexibleDimensions,$e=this._overlayRef.getConfig();if(Xt){const Ie=this._viewportRuler.getViewportScrollPosition();en(At,this._getExactOverlayY(Ye,ue,Ie)),en(At,this._getExactOverlayX(Ye,ue,Ie))}else At.position="static";let fe="",We=this._getOffset(Ye,"x"),ve=this._getOffset(Ye,"y");We&&(fe+=`translateX(${We}px) `),ve&&(fe+=`translateY(${ve}px)`),At.transform=fe.trim(),$e.maxHeight&&(Xt?At.maxHeight=(0,Se.HM)($e.maxHeight):dt&&(At.maxHeight="")),$e.maxWidth&&(Xt?At.maxWidth=(0,Se.HM)($e.maxWidth):dt&&(At.maxWidth="")),en(this._pane.style,At)}_getExactOverlayY(ue,Ye,At){let Xt={top:"",bottom:""},dt=this._getOverlayPoint(Ye,this._overlayRect,ue);return this._isPushed&&(dt=this._pushOverlayOnScreen(dt,this._overlayRect,At)),"bottom"===ue.overlayY?Xt.bottom=this._document.documentElement.clientHeight-(dt.y+this._overlayRect.height)+"px":Xt.top=(0,Se.HM)(dt.y),Xt}_getExactOverlayX(ue,Ye,At){let $e,Xt={left:"",right:""},dt=this._getOverlayPoint(Ye,this._overlayRect,ue);return this._isPushed&&(dt=this._pushOverlayOnScreen(dt,this._overlayRect,At)),$e=this._isRtl()?"end"===ue.overlayX?"left":"right":"end"===ue.overlayX?"right":"left","right"===$e?Xt.right=this._document.documentElement.clientWidth-(dt.x+this._overlayRect.width)+"px":Xt.left=(0,Se.HM)(dt.x),Xt}_getScrollVisibility(){const ue=this._getOriginRect(),Ye=this._pane.getBoundingClientRect(),At=this._scrollables.map(Xt=>Xt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yt(ue,At),isOriginOutsideView:w(ue,At),isOverlayClipped:Yt(Ye,At),isOverlayOutsideView:w(Ye,At)}}_subtractOverflows(ue,...Ye){return Ye.reduce((At,Xt)=>At-Math.max(Xt,0),ue)}_getNarrowedViewportRect(){const ue=this._document.documentElement.clientWidth,Ye=this._document.documentElement.clientHeight,At=this._viewportRuler.getViewportScrollPosition();return{top:At.top+this._viewportMargin,left:At.left+this._viewportMargin,right:At.left+ue-this._viewportMargin,bottom:At.top+Ye-this._viewportMargin,width:ue-2*this._viewportMargin,height:Ye-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ue,Ye){return"x"===Ye?null==ue.offsetX?this._offsetX:ue.offsetX:null==ue.offsetY?this._offsetY:ue.offsetY}_validatePositions(){}_addPanelClasses(ue){this._pane&&(0,Se.Eq)(ue).forEach(Ye=>{""!==Ye&&-1===this._appliedPanelClasses.indexOf(Ye)&&(this._appliedPanelClasses.push(Ye),this._pane.classList.add(Ye))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ue=>{this._pane.classList.remove(ue)}),this._appliedPanelClasses=[])}_getOriginRect(){const ue=this._origin;if(ue instanceof z.SBq)return ue.nativeElement.getBoundingClientRect();if(ue instanceof Element)return ue.getBoundingClientRect();const Ye=ue.width||0,At=ue.height||0;return{top:ue.y,bottom:ue.y+At,left:ue.x,right:ue.x+Ye,height:At,width:Ye}}}function en(qt,ue){for(let Ye in ue)ue.hasOwnProperty(Ye)&&(qt[Ye]=ue[Ye]);return qt}function xt(qt){if("number"!=typeof qt&&null!=qt){const[ue,Ye]=qt.split(pn);return Ye&&"px"!==Ye?null:parseFloat(ue)}return qt||null}function jt(qt){return{top:Math.floor(qt.top),right:Math.floor(qt.right),bottom:Math.floor(qt.bottom),left:Math.floor(qt.left),width:Math.floor(qt.width),height:Math.floor(qt.height)}}const Hn="cdk-global-overlay-wrapper";class or{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(ue){const Ye=ue.getConfig();this._overlayRef=ue,this._width&&!Ye.width&&ue.updateSize({width:this._width}),this._height&&!Ye.height&&ue.updateSize({height:this._height}),ue.hostElement.classList.add(Hn),this._isDisposed=!1}top(ue=""){return this._bottomOffset="",this._topOffset=ue,this._alignItems="flex-start",this}left(ue=""){return this._rightOffset="",this._leftOffset=ue,this._justifyContent="flex-start",this}bottom(ue=""){return this._topOffset="",this._bottomOffset=ue,this._alignItems="flex-end",this}right(ue=""){return this._leftOffset="",this._rightOffset=ue,this._justifyContent="flex-end",this}width(ue=""){return this._overlayRef?this._overlayRef.updateSize({width:ue}):this._width=ue,this}height(ue=""){return this._overlayRef?this._overlayRef.updateSize({height:ue}):this._height=ue,this}centerHorizontally(ue=""){return this.left(ue),this._justifyContent="center",this}centerVertically(ue=""){return this.top(ue),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ue=this._overlayRef.overlayElement.style,Ye=this._overlayRef.hostElement.style,At=this._overlayRef.getConfig(),{width:Xt,height:dt,maxWidth:$e,maxHeight:fe}=At,We=!("100%"!==Xt&&"100vw"!==Xt||$e&&"100%"!==$e&&"100vw"!==$e),ve=!("100%"!==dt&&"100vh"!==dt||fe&&"100%"!==fe&&"100vh"!==fe);ue.position=this._cssPosition,ue.marginLeft=We?"0":this._leftOffset,ue.marginTop=ve?"0":this._topOffset,ue.marginBottom=this._bottomOffset,ue.marginRight=this._rightOffset,We?Ye.justifyContent="flex-start":"center"===this._justifyContent?Ye.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?Ye.justifyContent="flex-end":"flex-end"===this._justifyContent&&(Ye.justifyContent="flex-start"):Ye.justifyContent=this._justifyContent,Ye.alignItems=ve?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ue=this._overlayRef.overlayElement.style,Ye=this._overlayRef.hostElement,At=Ye.style;Ye.classList.remove(Hn),At.justifyContent=At.alignItems=ue.marginTop=ue.marginBottom=ue.marginLeft=ue.marginRight=ue.position="",this._overlayRef=null,this._isDisposed=!0}}let _r=(()=>{class qt{constructor(Ye,At,Xt,dt){this._viewportRuler=Ye,this._document=At,this._platform=Xt,this._overlayContainer=dt}global(){return new or}flexibleConnectedTo(Ye){return new tt(Ye,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(x.rL),z.LFG(G.K0),z.LFG(Ee.t4),z.LFG($t))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),gr=(()=>{class qt{constructor(Ye){this._attachedOverlays=[],this._document=Ye}ngOnDestroy(){this.detach()}add(Ye){this.remove(Ye),this._attachedOverlays.push(Ye)}remove(Ye){const At=this._attachedOverlays.indexOf(Ye);At>-1&&this._attachedOverlays.splice(At,1),0===this._attachedOverlays.length&&this.detach()}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(G.K0))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),xi=(()=>{class qt extends gr{constructor(Ye,At){super(Ye),this._ngZone=At,this._keydownListener=Xt=>{const dt=this._attachedOverlays;for(let $e=dt.length-1;$e>-1;$e--)if(dt[$e]._keydownEvents.observers.length>0){const fe=dt[$e]._keydownEvents;this._ngZone?this._ngZone.run(()=>fe.next(Xt)):fe.next(Xt);break}}}add(Ye){super.add(Ye),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(G.K0),z.LFG(z.R0b,8))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),oi=(()=>{class qt extends gr{constructor(Ye,At,Xt){super(Ye),this._platform=At,this._ngZone=Xt,this._cursorStyleIsSet=!1,this._pointerDownListener=dt=>{this._pointerDownEventTarget=(0,Ee.sA)(dt)},this._clickListener=dt=>{const $e=(0,Ee.sA)(dt),fe="click"===dt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:$e;this._pointerDownEventTarget=null;const We=this._attachedOverlays.slice();for(let ve=We.length-1;ve>-1;ve--){const Ie=We[ve];if(Ie._outsidePointerEvents.observers.length<1||!Ie.hasAttached())continue;if(Ie.overlayElement.contains($e)||Ie.overlayElement.contains(fe))break;const Tt=Ie._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Tt.next(dt)):Tt.next(dt)}}}add(Ye){if(super.add(Ye),!this._isAttached){const At=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(At)):this._addEventListeners(At),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=At.style.cursor,At.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ye=this._document.body;Ye.removeEventListener("pointerdown",this._pointerDownListener,!0),Ye.removeEventListener("click",this._clickListener,!0),Ye.removeEventListener("auxclick",this._clickListener,!0),Ye.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ye.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ye){Ye.addEventListener("pointerdown",this._pointerDownListener,!0),Ye.addEventListener("click",this._clickListener,!0),Ye.addEventListener("auxclick",this._clickListener,!0),Ye.addEventListener("contextmenu",this._clickListener,!0)}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(G.K0),z.LFG(Ee.t4),z.LFG(z.R0b,8))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),Or=0,bi=(()=>{class qt{constructor(Ye,At,Xt,dt,$e,fe,We,ve,Ie,Tt,Pn){this.scrollStrategies=Ye,this._overlayContainer=At,this._componentFactoryResolver=Xt,this._positionBuilder=dt,this._keyboardDispatcher=$e,this._injector=fe,this._ngZone=We,this._document=ve,this._directionality=Ie,this._location=Tt,this._outsideClickDispatcher=Pn}create(Ye){const At=this._createHostElement(),Xt=this._createPaneElement(At),dt=this._createPortalOutlet(Xt),$e=new De(Ye);return $e.direction=$e.direction||this._directionality.value,new It(dt,At,Xt,$e,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(Ye){const At=this._document.createElement("div");return At.id="cdk-overlay-"+Or++,At.classList.add("cdk-overlay-pane"),Ye.appendChild(At),At}_createHostElement(){const Ye=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalOutlet(Ye){return this._appRef||(this._appRef=this._injector.get(z.z2F)),new ke.u0(Ye,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.LFG(ot),z.LFG($t),z.LFG(z._Vd),z.LFG(_r),z.LFG(xi),z.LFG(z.zs3),z.LFG(z.R0b),z.LFG(G.K0),z.LFG(Fe.Is),z.LFG(G.Ye),z.LFG(oi))},qt.\u0275prov=z.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const Ni=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ui=new z.OlP("cdk-connected-overlay-scroll-strategy");let rr=(()=>{class qt{constructor(Ye){this.elementRef=Ye}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.Y36(z.SBq))},qt.\u0275dir=z.lG2({type:qt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),qt})(),pr=(()=>{class qt{constructor(Ye,At,Xt,dt,$e){this._overlay=Ye,this._dir=$e,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ve.w0.EMPTY,this._attachSubscription=Ve.w0.EMPTY,this._detachSubscription=Ve.w0.EMPTY,this._positionSubscription=Ve.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new z.vpe,this.positionChange=new z.vpe,this.attach=new z.vpe,this.detach=new z.vpe,this.overlayKeydown=new z.vpe,this.overlayOutsideClick=new z.vpe,this._templatePortal=new ke.UE(At,Xt),this._scrollStrategyFactory=dt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Ye){this._offsetX=Ye,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ye){this._offsetY=Ye,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ye){this._hasBackdrop=(0,Se.Ig)(Ye)}get lockPosition(){return this._lockPosition}set lockPosition(Ye){this._lockPosition=(0,Se.Ig)(Ye)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ye){this._flexibleDimensions=(0,Se.Ig)(Ye)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ye){this._growAfterOpen=(0,Se.Ig)(Ye)}get push(){return this._push}set push(Ye){this._push=(0,Se.Ig)(Ye)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ye){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ye.origin&&this.open&&this._position.apply()),Ye.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ni);const Ye=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ye.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ye.detachments().subscribe(()=>this.detach.emit()),Ye.keydownEvents().subscribe(At=>{this.overlayKeydown.next(At),At.keyCode===Je.hY&&!this.disableClose&&!(0,Je.Vb)(At)&&(At.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(At=>{this.overlayOutsideClick.next(At)})}_buildConfig(){const Ye=this._position=this.positionStrategy||this._createPositionStrategy(),At=new De({direction:this._dir,positionStrategy:Ye,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(At.width=this.width),(this.height||0===this.height)&&(At.height=this.height),(this.minWidth||0===this.minWidth)&&(At.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(At.minHeight=this.minHeight),this.backdropClass&&(At.backdropClass=this.backdropClass),this.panelClass&&(At.panelClass=this.panelClass),At}_updatePositionStrategy(Ye){const At=this.positions.map(Xt=>({originX:Xt.originX,originY:Xt.originY,overlayX:Xt.overlayX,overlayY:Xt.overlayY,offsetX:Xt.offsetX||this.offsetX,offsetY:Xt.offsetY||this.offsetY,panelClass:Xt.panelClass||void 0}));return Ye.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(At).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ye=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ye),Ye}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof rr?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ye=>{this.backdropClick.emit(Ye)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,Xe.o)(()=>this.positionChange.observers.length>0)).subscribe(Ye=>{this.positionChange.emit(Ye),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return qt.\u0275fac=function(Ye){return new(Ye||qt)(z.Y36(bi),z.Y36(z.Rgc),z.Y36(z.s_b),z.Y36(Ui),z.Y36(Fe.Is,8))},qt.\u0275dir=z.lG2({type:qt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[z.TTD]}),qt})();const mi={provide:Ui,deps:[bi],useFactory:function Mi(qt){return()=>qt.scrollStrategies.reposition()}};let ao=(()=>{class qt{}return qt.\u0275fac=function(Ye){return new(Ye||qt)},qt.\u0275mod=z.oAB({type:qt}),qt.\u0275inj=z.cJS({providers:[bi,mi],imports:[[Fe.vT,ke.eL,x.Cl],x.Cl]}),qt})()},925:(Dn,ht,I)=>{I.d(ht,{Mq:()=>Je,Oy:()=>Yt,i$:()=>Oe,kV:()=>Jt,sA:()=>w,t4:()=>Se,ud:()=>Ee});var x=I(5e3),G=I(9808);let z;try{z="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(se){z=!1}let Ve,Xe,Lt,Se=(()=>{class se{constructor(De){this._platformId=De,this.isBrowser=this._platformId?(0,G.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!z)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return se.\u0275fac=function(De){return new(De||se)(x.LFG(x.Lbi))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(De){return new(De||se)},se.\u0275mod=x.oAB({type:se}),se.\u0275inj=x.cJS({}),se})();function Oe(se){return function Pe(){if(null==Ve&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ve=!0}))}finally{Ve=Ve||!1}return Ve}()?se:!!se.capture}function Je(){if(null==Xe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xe=!1,Xe;if("scrollBehavior"in document.documentElement.style)Xe=!0;else{const se=Element.prototype.scrollTo;Xe=!!se&&!/\{\s*\[native code\]\s*\}/.test(se.toString())}}return Xe}function Jt(se){if(function ct(){if(null==Lt){const se="undefined"!=typeof document?document.head:null;Lt=!(!se||!se.createShadowRoot&&!se.attachShadow)}return Lt}()){const ot=se.getRootNode?se.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&ot instanceof ShadowRoot)return ot}return null}function w(se){return se.composedPath?se.composedPath()[0]:se.target}function Yt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Dn,ht,I)=>{I.d(ht,{C5:()=>Pe,Pl:()=>On,UE:()=>Oe,eL:()=>Yt,en:()=>Xe,ig:()=>ct,u0:()=>lt});var x=I(5e3),G=I(9808);class Ve{attach(De){return this._attachedHost=De,De.attach(this)}detach(){let De=this._attachedHost;null!=De&&(this._attachedHost=null,De.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(De){this._attachedHost=De}}class Pe extends Ve{constructor(De,et,gt,ze){super(),this.component=De,this.viewContainerRef=et,this.injector=gt,this.componentFactoryResolver=ze}}class Oe extends Ve{constructor(De,et,gt){super(),this.templateRef=De,this.viewContainerRef=et,this.context=gt}get origin(){return this.templateRef.elementRef}attach(De,et=this.context){return this.context=et,super.attach(De)}detach(){return this.context=void 0,super.detach()}}class be extends Ve{constructor(De){super(),this.element=De instanceof x.SBq?De.nativeElement:De}}class Xe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(De){return De instanceof Pe?(this._attachedPortal=De,this.attachComponentPortal(De)):De instanceof Oe?(this._attachedPortal=De,this.attachTemplatePortal(De)):this.attachDomPortal&&De instanceof be?(this._attachedPortal=De,this.attachDomPortal(De)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(De){this._disposeFn=De}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lt extends Xe{constructor(De,et,gt,ze,mt){super(),this.outletElement=De,this._componentFactoryResolver=et,this._appRef=gt,this._defaultInjector=ze,this.attachDomPortal=Ft=>{const It=Ft.element,$t=this._document.createComment("dom-portal");It.parentNode.insertBefore($t,It),this.outletElement.appendChild(It),this._attachedPortal=Ft,super.setDisposeFn(()=>{$t.parentNode&&$t.parentNode.replaceChild(It,$t)})},this._document=mt}attachComponentPortal(De){const gt=(De.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(De.component);let ze;return De.viewContainerRef?(ze=De.viewContainerRef.createComponent(gt,De.viewContainerRef.length,De.injector||De.viewContainerRef.injector),this.setDisposeFn(()=>ze.destroy())):(ze=gt.create(De.injector||this._defaultInjector||x.zs3.NULL),this._appRef.attachView(ze.hostView),this.setDisposeFn(()=>{this._appRef.detachView(ze.hostView),ze.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ze)),this._attachedPortal=De,ze}attachTemplatePortal(De){let et=De.viewContainerRef,gt=et.createEmbeddedView(De.templateRef,De.context);return gt.rootNodes.forEach(ze=>this.outletElement.appendChild(ze)),gt.detectChanges(),this.setDisposeFn(()=>{let ze=et.indexOf(gt);-1!==ze&&et.remove(ze)}),this._attachedPortal=De,gt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(De){return De.hostView.rootNodes[0]}}let ct=(()=>{class ot extends Oe{constructor(et,gt){super(et,gt)}}return ot.\u0275fac=function(et){return new(et||ot)(x.Y36(x.Rgc),x.Y36(x.s_b))},ot.\u0275dir=x.lG2({type:ot,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[x.qOj]}),ot})(),On=(()=>{class ot extends Xe{constructor(et,gt,ze){super(),this._componentFactoryResolver=et,this._viewContainerRef=gt,this._isInitialized=!1,this.attached=new x.vpe,this.attachDomPortal=mt=>{const Ft=mt.element,It=this._document.createComment("dom-portal");mt.setAttachedHost(this),Ft.parentNode.insertBefore(It,Ft),this._getRootNode().appendChild(Ft),this._attachedPortal=mt,super.setDisposeFn(()=>{It.parentNode&&It.parentNode.replaceChild(Ft,It)})},this._document=ze}get portal(){return this._attachedPortal}set portal(et){this.hasAttached()&&!et&&!this._isInitialized||(this.hasAttached()&&super.detach(),et&&super.attach(et),this._attachedPortal=et||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(et){et.setAttachedHost(this);const gt=null!=et.viewContainerRef?et.viewContainerRef:this._viewContainerRef,mt=(et.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(et.component),Ft=gt.createComponent(mt,gt.length,et.injector||gt.injector);return gt!==this._viewContainerRef&&this._getRootNode().appendChild(Ft.hostView.rootNodes[0]),super.setDisposeFn(()=>Ft.destroy()),this._attachedPortal=et,this._attachedRef=Ft,this.attached.emit(Ft),Ft}attachTemplatePortal(et){et.setAttachedHost(this);const gt=this._viewContainerRef.createEmbeddedView(et.templateRef,et.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=et,this._attachedRef=gt,this.attached.emit(gt),gt}_getRootNode(){const et=this._viewContainerRef.element.nativeElement;return et.nodeType===et.ELEMENT_NODE?et:et.parentNode}}return ot.\u0275fac=function(et){return new(et||ot)(x.Y36(x._Vd),x.Y36(x.s_b),x.Y36(G.K0))},ot.\u0275dir=x.lG2({type:ot,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[x.qOj]}),ot})(),Yt=(()=>{class ot{}return ot.\u0275fac=function(et){return new(et||ot)},ot.\u0275mod=x.oAB({type:ot}),ot.\u0275inj=x.cJS({}),ot})()},9071:(Dn,ht,I)=>{I.d(ht,{Cl:()=>$t,mF:()=>Yt,rL:()=>De});var x=I(3191),G=I(5e3),z=I(7579),Se=I(9646),Ee=I(8306),Fe=I(4968),Ve=(I(6406),I(3101),I(3601)),Pe=I(9300),Oe=I(9808),be=I(925),Xe=I(226);let Yt=(()=>{class ut{constructor(tt,en,xt){this._ngZone=tt,this._platform=en,this._scrolled=new z.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=xt}register(tt){this.scrollContainers.has(tt)||this.scrollContainers.set(tt,tt.elementScrolled().subscribe(()=>this._scrolled.next(tt)))}deregister(tt){const en=this.scrollContainers.get(tt);en&&(en.unsubscribe(),this.scrollContainers.delete(tt))}scrolled(tt=20){return this._platform.isBrowser?new Ee.y(en=>{this._globalSubscription||this._addGlobalListener();const xt=tt>0?this._scrolled.pipe((0,Ve.e)(tt)).subscribe(en):this._scrolled.subscribe(en);return this._scrolledCount++,()=>{xt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Se.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((tt,en)=>this.deregister(en)),this._scrolled.complete()}ancestorScrolled(tt,en){const xt=this.getAncestorScrollContainers(tt);return this.scrolled(en).pipe((0,Pe.h)(jt=>!jt||xt.indexOf(jt)>-1))}getAncestorScrollContainers(tt){const en=[];return this.scrollContainers.forEach((xt,jt)=>{this._scrollableContainsElement(jt,tt)&&en.push(jt)}),en}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(tt,en){let xt=(0,x.fI)(en),jt=tt.getElementRef().nativeElement;do{if(xt==jt)return!0}while(xt=xt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const tt=this._getWindow();return(0,Fe.R)(tt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ut.\u0275fac=function(tt){return new(tt||ut)(G.LFG(G.R0b),G.LFG(be.t4),G.LFG(Oe.K0,8))},ut.\u0275prov=G.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),De=(()=>{class ut{constructor(tt,en,xt){this._platform=tt,this._change=new z.x,this._changeListener=jt=>{this._change.next(jt)},this._document=xt,en.runOutsideAngular(()=>{if(tt.isBrowser){const jt=this._getWindow();jt.addEventListener("resize",this._changeListener),jt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const tt=this._getWindow();tt.removeEventListener("resize",this._changeListener),tt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const tt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),tt}getViewportRect(){const tt=this.getViewportScrollPosition(),{width:en,height:xt}=this.getViewportSize();return{top:tt.top,left:tt.left,bottom:tt.top+xt,right:tt.left+en,height:xt,width:en}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const tt=this._document,en=this._getWindow(),xt=tt.documentElement,jt=xt.getBoundingClientRect();return{top:-jt.top||tt.body.scrollTop||en.scrollY||xt.scrollTop||0,left:-jt.left||tt.body.scrollLeft||en.scrollX||xt.scrollLeft||0}}change(tt=20){return tt>0?this._change.pipe((0,Ve.e)(tt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const tt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:tt.innerWidth,height:tt.innerHeight}:{width:0,height:0}}}return ut.\u0275fac=function(tt){return new(tt||ut)(G.LFG(be.t4),G.LFG(G.R0b),G.LFG(Oe.K0,8))},ut.\u0275prov=G.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),It=(()=>{class ut{}return ut.\u0275fac=function(tt){return new(tt||ut)},ut.\u0275mod=G.oAB({type:ut}),ut.\u0275inj=G.cJS({}),ut})(),$t=(()=>{class ut{}return ut.\u0275fac=function(tt){return new(tt||ut)},ut.\u0275mod=G.oAB({type:ut}),ut.\u0275inj=G.cJS({imports:[[Xe.vT,It],Xe.vT,It]}),ut})()},9808:(Dn,ht,I)=>{I.d(ht,{Do:()=>Yt,ED:()=>no,EM:()=>Uo,HT:()=>Ee,JF:()=>zi,JJ:()=>za,K0:()=>ke,Mn:()=>xt,Mx:()=>Qi,NF:()=>Fi,O5:()=>lo,Ov:()=>Na,PC:()=>No,RF:()=>wn,S$:()=>ct,Sw:()=>xi,Tn:()=>It,UT:()=>jt,V_:()=>Pe,Ye:()=>se,b0:()=>w,bD:()=>ea,ez:()=>Is,fb:()=>or,lw:()=>Ae,mk:()=>Ki,mr:()=>On,n9:()=>ki,ol:()=>en,p6:()=>Pn,q:()=>z,sg:()=>$i,tM:()=>$t,tP:()=>Ia,uU:()=>vs,w_:()=>Fe,x:()=>Ft});var x=I(5e3);let G=null;function z(){return G}function Ee(J){G||(G=J)}class Fe{}const ke=new x.OlP("DocumentToken");let Ae=(()=>{class J{historyGo(Z){throw new Error("Not implemented")}}return J.\u0275fac=function(Z){return new(Z||J)},J.\u0275prov=x.Yz7({token:J,factory:function(){return function Ve(){return(0,x.LFG)(Oe)}()},providedIn:"platform"}),J})();const Pe=new x.OlP("Location Initialized");let Oe=(()=>{class J extends Ae{constructor(Z){super(),this._doc=Z,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(Z){const Re=z().getGlobalEventTarget(this._doc,"window");return Re.addEventListener("popstate",Z,!1),()=>Re.removeEventListener("popstate",Z)}onHashChange(Z){const Re=z().getGlobalEventTarget(this._doc,"window");return Re.addEventListener("hashchange",Z,!1),()=>Re.removeEventListener("hashchange",Z)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Z){this.location.pathname=Z}pushState(Z,Re,Ot){be()?this._history.pushState(Z,Re,Ot):this.location.hash=Ot}replaceState(Z,Re,Ot){be()?this._history.replaceState(Z,Re,Ot):this.location.hash=Ot}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return J.\u0275fac=function(Z){return new(Z||J)(x.LFG(ke))},J.\u0275prov=x.Yz7({token:J,factory:function(){return function Xe(){return new Oe((0,x.LFG)(ke))}()},providedIn:"platform"}),J})();function be(){return!!window.history.pushState}function Je(J,we){if(0==J.length)return we;if(0==we.length)return J;let Z=0;return J.endsWith("/")&&Z++,we.startsWith("/")&&Z++,2==Z?J+we.substring(1):1==Z?J+we:J+"/"+we}function lt(J){const we=J.match(/#|\?|$/),Z=we&&we.index||J.length;return J.slice(0,Z-("/"===J[Z-1]?1:0))+J.slice(Z)}function Lt(J){return J&&"?"!==J[0]?"?"+J:J}let ct=(()=>{class J{historyGo(Z){throw new Error("Not implemented")}}return J.\u0275fac=function(Z){return new(Z||J)},J.\u0275prov=x.Yz7({token:J,factory:function(){return function Jt(J){const we=(0,x.LFG)(ke).location;return new w((0,x.LFG)(Ae),we&&we.origin||"")}()},providedIn:"root"}),J})();const On=new x.OlP("appBaseHref");let w=(()=>{class J extends ct{constructor(Z,Re){if(super(),this._platformLocation=Z,this._removeListenerFns=[],null==Re&&(Re=this._platformLocation.getBaseHrefFromDOM()),null==Re)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Re}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return Je(this._baseHref,Z)}path(Z=!1){const Re=this._platformLocation.pathname+Lt(this._platformLocation.search),Ot=this._platformLocation.hash;return Ot&&Z?`${Re}${Ot}`:Re}pushState(Z,Re,Ot,tn){const gn=this.prepareExternalUrl(Ot+Lt(tn));this._platformLocation.pushState(Z,Re,gn)}replaceState(Z,Re,Ot,tn){const gn=this.prepareExternalUrl(Ot+Lt(tn));this._platformLocation.replaceState(Z,Re,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Z=0){var Re,Ot;null===(Ot=(Re=this._platformLocation).historyGo)||void 0===Ot||Ot.call(Re,Z)}}return J.\u0275fac=function(Z){return new(Z||J)(x.LFG(Ae),x.LFG(On,8))},J.\u0275prov=x.Yz7({token:J,factory:J.\u0275fac}),J})(),Yt=(()=>{class J extends ct{constructor(Z,Re){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=Re&&(this._baseHref=Re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let Re=this._platformLocation.hash;return null==Re&&(Re="#"),Re.length>0?Re.substring(1):Re}prepareExternalUrl(Z){const Re=Je(this._baseHref,Z);return Re.length>0?"#"+Re:Re}pushState(Z,Re,Ot,tn){let gn=this.prepareExternalUrl(Ot+Lt(tn));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.pushState(Z,Re,gn)}replaceState(Z,Re,Ot,tn){let gn=this.prepareExternalUrl(Ot+Lt(tn));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.replaceState(Z,Re,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Z=0){var Re,Ot;null===(Ot=(Re=this._platformLocation).historyGo)||void 0===Ot||Ot.call(Re,Z)}}return J.\u0275fac=function(Z){return new(Z||J)(x.LFG(Ae),x.LFG(On,8))},J.\u0275prov=x.Yz7({token:J,factory:J.\u0275fac}),J})(),se=(()=>{class J{constructor(Z,Re){this._subject=new x.vpe,this._urlChangeListeners=[],this._platformStrategy=Z;const Ot=this._platformStrategy.getBaseHref();this._platformLocation=Re,this._baseHref=lt(et(Ot)),this._platformStrategy.onPopState(tn=>{this._subject.emit({url:this.path(!0),pop:!0,state:tn.state,type:tn.type})})}path(Z=!1){return this.normalize(this._platformStrategy.path(Z))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Z,Re=""){return this.path()==this.normalize(Z+Lt(Re))}normalize(Z){return J.stripTrailingSlash(function De(J,we){return J&&we.startsWith(J)?we.substring(J.length):we}(this._baseHref,et(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._platformStrategy.prepareExternalUrl(Z)}go(Z,Re="",Ot=null){this._platformStrategy.pushState(Ot,"",Z,Re),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Lt(Re)),Ot)}replaceState(Z,Re="",Ot=null){this._platformStrategy.replaceState(Ot,"",Z,Re),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Lt(Re)),Ot)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Z=0){var Re,Ot;null===(Ot=(Re=this._platformStrategy).historyGo)||void 0===Ot||Ot.call(Re,Z)}onUrlChange(Z){this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Re=>{this._notifyUrlChangeListeners(Re.url,Re.state)}))}_notifyUrlChangeListeners(Z="",Re){this._urlChangeListeners.forEach(Ot=>Ot(Z,Re))}subscribe(Z,Re,Ot){return this._subject.subscribe({next:Z,error:Re,complete:Ot})}}return J.normalizeQueryParams=Lt,J.joinWithSlash=Je,J.stripTrailingSlash=lt,J.\u0275fac=function(Z){return new(Z||J)(x.LFG(ct),x.LFG(Ae))},J.\u0275prov=x.Yz7({token:J,factory:function(){return function ot(){return new se((0,x.LFG)(ct),(0,x.LFG)(Ae))}()},providedIn:"root"}),J})();function et(J){return J.replace(/\/index.html$/,"")}var ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Percent=1]="Percent",ze[ze.Currency=2]="Currency",ze[ze.Scientific=3]="Scientific",ze))(),Ft=(()=>((Ft=Ft||{})[Ft.Format=0]="Format",Ft[Ft.Standalone=1]="Standalone",Ft))(),It=(()=>((It=It||{})[It.Narrow=0]="Narrow",It[It.Abbreviated=1]="Abbreviated",It[It.Wide=2]="Wide",It[It.Short=3]="Short",It))(),$t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.Medium=1]="Medium",$t[$t.Long=2]="Long",$t[$t.Full=3]="Full",$t))(),ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Group=1]="Group",ut[ut.List=2]="List",ut[ut.PercentSign=3]="PercentSign",ut[ut.PlusSign=4]="PlusSign",ut[ut.MinusSign=5]="MinusSign",ut[ut.Exponential=6]="Exponential",ut[ut.SuperscriptingExponent=7]="SuperscriptingExponent",ut[ut.PerMille=8]="PerMille",ut[ut.Infinity=9]="Infinity",ut[ut.NaN=10]="NaN",ut[ut.TimeSeparator=11]="TimeSeparator",ut[ut.CurrencyDecimal=12]="CurrencyDecimal",ut[ut.CurrencyGroup=13]="CurrencyGroup",ut))();function en(J,we,Z){const Re=(0,x.cg1)(J),tn=ue([Re[x.wAp.DayPeriodsFormat],Re[x.wAp.DayPeriodsStandalone]],we);return ue(tn,Z)}function xt(J,we,Z){const Re=(0,x.cg1)(J),tn=ue([Re[x.wAp.DaysFormat],Re[x.wAp.DaysStandalone]],we);return ue(tn,Z)}function jt(J,we,Z){const Re=(0,x.cg1)(J),tn=ue([Re[x.wAp.MonthsFormat],Re[x.wAp.MonthsStandalone]],we);return ue(tn,Z)}function or(J){return(0,x.cg1)(J)[x.wAp.FirstDayOfWeek]}function gr(J,we){return ue((0,x.cg1)(J)[x.wAp.DateFormat],we)}function xi(J,we){return ue((0,x.cg1)(J)[x.wAp.TimeFormat],we)}function oi(J,we){return ue((0,x.cg1)(J)[x.wAp.DateTimeFormat],we)}function Or(J,we){const Z=(0,x.cg1)(J),Re=Z[x.wAp.NumberSymbols][we];if(void 0===Re){if(we===ut.CurrencyDecimal)return Z[x.wAp.NumberSymbols][ut.Decimal];if(we===ut.CurrencyGroup)return Z[x.wAp.NumberSymbols][ut.Group]}return Re}function mi(J){if(!J[x.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${J[x.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ue(J,we){for(let Z=we;Z>-1;Z--)if(void 0!==J[Z])return J[Z];throw new Error("Locale data API: locale data undefined")}function Ye(J){const[we,Z]=J.split(":");return{hours:+we,minutes:+Z}}const $e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fe={},We=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ve=(()=>((ve=ve||{})[ve.Short=0]="Short",ve[ve.ShortGMT=1]="ShortGMT",ve[ve.Long=2]="Long",ve[ve.Extended=3]="Extended",ve))(),Ie=(()=>((Ie=Ie||{})[Ie.FullYear=0]="FullYear",Ie[Ie.Month=1]="Month",Ie[Ie.Date=2]="Date",Ie[Ie.Hours=3]="Hours",Ie[Ie.Minutes=4]="Minutes",Ie[Ie.Seconds=5]="Seconds",Ie[Ie.FractionalSeconds=6]="FractionalSeconds",Ie[Ie.Day=7]="Day",Ie))(),Tt=(()=>((Tt=Tt||{})[Tt.DayPeriods=0]="DayPeriods",Tt[Tt.Days=1]="Days",Tt[Tt.Months=2]="Months",Tt[Tt.Eras=3]="Eras",Tt))();function Pn(J,we,Z,Re){let Ot=function Ct(J){if(ft(J))return J;if("number"==typeof J&&!isNaN(J))return new Date(J);if("string"==typeof J){if(J=J.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(J)){const[Ot,tn=1,gn=1]=J.split("-").map(Xn=>+Xn);return bn(Ot,tn-1,gn)}const Z=parseFloat(J);if(!isNaN(J-Z))return new Date(Z);let Re;if(Re=J.match($e))return function Ke(J){const we=new Date(0);let Z=0,Re=0;const Ot=J[8]?we.setUTCFullYear:we.setFullYear,tn=J[8]?we.setUTCHours:we.setHours;J[9]&&(Z=Number(J[9]+J[10]),Re=Number(J[9]+J[11])),Ot.call(we,Number(J[1]),Number(J[2])-1,Number(J[3]));const gn=Number(J[4]||0)-Z,Xn=Number(J[5]||0)-Re,Di=Number(J[6]||0),ai=Math.floor(1e3*parseFloat("0."+(J[7]||0)));return tn.call(we,gn,Xn,Di,ai),we}(Re)}const we=new Date(J);if(!ft(we))throw new Error(`Unable to convert "${J}" into a date`);return we}(J);we=Tn(Z,we)||we;let Xn,gn=[];for(;we;){if(Xn=We.exec(we),!Xn){gn.push(we);break}{gn=gn.concat(Xn.slice(1));const Zr=gn.pop();if(!Zr)break;we=Zr}}let Di=Ot.getTimezoneOffset();Re&&(Di=vr(Re,Di),Ot=function Dt(J,we,Z){const Re=Z?-1:1,Ot=J.getTimezoneOffset();return function hr(J,we){return(J=new Date(J.getTime())).setMinutes(J.getMinutes()+we),J}(J,Re*(vr(we,Ot)-Ot))}(Ot,Re,!0));let ai="";return gn.forEach(Zr=>{const si=function an(J){if(Nt[J])return Nt[J];let we;switch(J){case"G":case"GG":case"GGG":we=oe(Tt.Eras,It.Abbreviated);break;case"GGGG":we=oe(Tt.Eras,It.Wide);break;case"GGGGG":we=oe(Tt.Eras,It.Narrow);break;case"y":we=fn(Ie.FullYear,1,0,!1,!0);break;case"yy":we=fn(Ie.FullYear,2,0,!0,!0);break;case"yyy":we=fn(Ie.FullYear,3,0,!1,!0);break;case"yyyy":we=fn(Ie.FullYear,4,0,!1,!0);break;case"Y":we=xe(1);break;case"YY":we=xe(2,!0);break;case"YYY":we=xe(3);break;case"YYYY":we=xe(4);break;case"M":case"L":we=fn(Ie.Month,1,1);break;case"MM":case"LL":we=fn(Ie.Month,2,1);break;case"MMM":we=oe(Tt.Months,It.Abbreviated);break;case"MMMM":we=oe(Tt.Months,It.Wide);break;case"MMMMM":we=oe(Tt.Months,It.Narrow);break;case"LLL":we=oe(Tt.Months,It.Abbreviated,Ft.Standalone);break;case"LLLL":we=oe(Tt.Months,It.Wide,Ft.Standalone);break;case"LLLLL":we=oe(Tt.Months,It.Narrow,Ft.Standalone);break;case"w":we=Be(1);break;case"ww":we=Be(2);break;case"W":we=Be(1,!0);break;case"d":we=fn(Ie.Date,1);break;case"dd":we=fn(Ie.Date,2);break;case"c":case"cc":we=fn(Ie.Day,1);break;case"ccc":we=oe(Tt.Days,It.Abbreviated,Ft.Standalone);break;case"cccc":we=oe(Tt.Days,It.Wide,Ft.Standalone);break;case"ccccc":we=oe(Tt.Days,It.Narrow,Ft.Standalone);break;case"cccccc":we=oe(Tt.Days,It.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":we=oe(Tt.Days,It.Abbreviated);break;case"EEEE":we=oe(Tt.Days,It.Wide);break;case"EEEEE":we=oe(Tt.Days,It.Narrow);break;case"EEEEEE":we=oe(Tt.Days,It.Short);break;case"a":case"aa":case"aaa":we=oe(Tt.DayPeriods,It.Abbreviated);break;case"aaaa":we=oe(Tt.DayPeriods,It.Wide);break;case"aaaaa":we=oe(Tt.DayPeriods,It.Narrow);break;case"b":case"bb":case"bbb":we=oe(Tt.DayPeriods,It.Abbreviated,Ft.Standalone,!0);break;case"bbbb":we=oe(Tt.DayPeriods,It.Wide,Ft.Standalone,!0);break;case"bbbbb":we=oe(Tt.DayPeriods,It.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":we=oe(Tt.DayPeriods,It.Abbreviated,Ft.Format,!0);break;case"BBBB":we=oe(Tt.DayPeriods,It.Wide,Ft.Format,!0);break;case"BBBBB":we=oe(Tt.DayPeriods,It.Narrow,Ft.Format,!0);break;case"h":we=fn(Ie.Hours,1,-12);break;case"hh":we=fn(Ie.Hours,2,-12);break;case"H":we=fn(Ie.Hours,1);break;case"HH":we=fn(Ie.Hours,2);break;case"m":we=fn(Ie.Minutes,1);break;case"mm":we=fn(Ie.Minutes,2);break;case"s":we=fn(Ie.Seconds,1);break;case"ss":we=fn(Ie.Seconds,2);break;case"S":we=fn(Ie.FractionalSeconds,1);break;case"SS":we=fn(Ie.FractionalSeconds,2);break;case"SSS":we=fn(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":we=Lr(ve.Short);break;case"ZZZZZ":we=Lr(ve.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":we=Lr(ve.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":we=Lr(ve.Long);break;default:return null}return Nt[J]=we,we}(Zr);ai+=si?si(Ot,Z,Di):"''"===Zr?"'":Zr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ai}function bn(J,we,Z){const Re=new Date(0);return Re.setFullYear(J,we,Z),Re.setHours(0,0,0),Re}function Tn(J,we){const Z=function tt(J){return(0,x.cg1)(J)[x.wAp.LocaleId]}(J);if(fe[Z]=fe[Z]||{},fe[Z][we])return fe[Z][we];let Re="";switch(we){case"shortDate":Re=gr(J,$t.Short);break;case"mediumDate":Re=gr(J,$t.Medium);break;case"longDate":Re=gr(J,$t.Long);break;case"fullDate":Re=gr(J,$t.Full);break;case"shortTime":Re=xi(J,$t.Short);break;case"mediumTime":Re=xi(J,$t.Medium);break;case"longTime":Re=xi(J,$t.Long);break;case"fullTime":Re=xi(J,$t.Full);break;case"short":const Ot=Tn(J,"shortTime"),tn=Tn(J,"shortDate");Re=ar(oi(J,$t.Short),[Ot,tn]);break;case"medium":const gn=Tn(J,"mediumTime"),Xn=Tn(J,"mediumDate");Re=ar(oi(J,$t.Medium),[gn,Xn]);break;case"long":const Di=Tn(J,"longTime"),ai=Tn(J,"longDate");Re=ar(oi(J,$t.Long),[Di,ai]);break;case"full":const Zr=Tn(J,"fullTime"),si=Tn(J,"fullDate");Re=ar(oi(J,$t.Full),[Zr,si])}return Re&&(fe[Z][we]=Re),Re}function ar(J,we){return we&&(J=J.replace(/\{([^}]+)}/g,function(Z,Re){return null!=we&&Re in we?we[Re]:Z})),J}function br(J,we,Z="-",Re,Ot){let tn="";(J<0||Ot&&J<=0)&&(Ot?J=1-J:(J=-J,tn=Z));let gn=String(J);for(;gn.length<we;)gn="0"+gn;return Re&&(gn=gn.substr(gn.length-we)),tn+gn}function fn(J,we,Z=0,Re=!1,Ot=!1){return function(tn,gn){let Xn=function mn(J,we){switch(J){case Ie.FullYear:return we.getFullYear();case Ie.Month:return we.getMonth();case Ie.Date:return we.getDate();case Ie.Hours:return we.getHours();case Ie.Minutes:return we.getMinutes();case Ie.Seconds:return we.getSeconds();case Ie.FractionalSeconds:return we.getMilliseconds();case Ie.Day:return we.getDay();default:throw new Error(`Unknown DateType value "${J}".`)}}(J,tn);if((Z>0||Xn>-Z)&&(Xn+=Z),J===Ie.Hours)0===Xn&&-12===Z&&(Xn=12);else if(J===Ie.FractionalSeconds)return function Vt(J,we){return br(J,3).substr(0,we)}(Xn,we);const Di=Or(gn,ut.MinusSign);return br(Xn,we,Di,Re,Ot)}}function oe(J,we,Z=Ft.Format,Re=!1){return function(Ot,tn){return function er(J,we,Z,Re,Ot,tn){switch(Z){case Tt.Months:return jt(we,Ot,Re)[J.getMonth()];case Tt.Days:return xt(we,Ot,Re)[J.getDay()];case Tt.DayPeriods:const gn=J.getHours(),Xn=J.getMinutes();if(tn){const ai=function ao(J){const we=(0,x.cg1)(J);return mi(we),(we[x.wAp.ExtraData][2]||[]).map(Re=>"string"==typeof Re?Ye(Re):[Ye(Re[0]),Ye(Re[1])])}(we),Zr=function Kn(J,we,Z){const Re=(0,x.cg1)(J);mi(Re);const tn=ue([Re[x.wAp.ExtraData][0],Re[x.wAp.ExtraData][1]],we)||[];return ue(tn,Z)||[]}(we,Ot,Re),si=ai.findIndex(Ji=>{if(Array.isArray(Ji)){const[yi,Ai]=Ji,ee=gn>=yi.hours&&Xn>=yi.minutes,$=gn<Ai.hours||gn===Ai.hours&&Xn<Ai.minutes;if(yi.hours<Ai.hours){if(ee&&$)return!0}else if(ee||$)return!0}else if(Ji.hours===gn&&Ji.minutes===Xn)return!0;return!1});if(-1!==si)return Zr[si]}return en(we,Ot,Re)[gn<12?0:1];case Tt.Eras:return function Hn(J,we){return ue((0,x.cg1)(J)[x.wAp.Eras],we)}(we,Re)[J.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Z}`)}}(Ot,tn,J,we,Z,Re)}}function Lr(J){return function(we,Z,Re){const Ot=-1*Re,tn=Or(Z,ut.MinusSign),gn=Ot>0?Math.floor(Ot/60):Math.ceil(Ot/60);switch(J){case ve.Short:return(Ot>=0?"+":"")+br(gn,2,tn)+br(Math.abs(Ot%60),2,tn);case ve.ShortGMT:return"GMT"+(Ot>=0?"+":"")+br(gn,1,tn);case ve.Long:return"GMT"+(Ot>=0?"+":"")+br(gn,2,tn)+":"+br(Math.abs(Ot%60),2,tn);case ve.Extended:return 0===Re?"Z":(Ot>=0?"+":"")+br(gn,2,tn)+":"+br(Math.abs(Ot%60),2,tn);default:throw new Error(`Unknown zone width "${J}"`)}}}function wt(J){return bn(J.getFullYear(),J.getMonth(),J.getDate()+(4-J.getDay()))}function Be(J,we=!1){return function(Z,Re){let Ot;if(we){const tn=new Date(Z.getFullYear(),Z.getMonth(),1).getDay()-1,gn=Z.getDate();Ot=1+Math.floor((gn+tn)/7)}else{const tn=wt(Z),gn=function Bt(J){const we=bn(J,0,1).getDay();return bn(J,0,1+(we<=4?4:11)-we)}(tn.getFullYear()),Xn=tn.getTime()-gn.getTime();Ot=1+Math.round(Xn/6048e5)}return br(Ot,J,Or(Re,ut.MinusSign))}}function xe(J,we=!1){return function(Z,Re){return br(wt(Z).getFullYear(),J,Or(Re,ut.MinusSign),we)}}const Nt={};function vr(J,we){J=J.replace(/:/g,"");const Z=Date.parse("Jan 01, 1970 00:00:00 "+J)/6e4;return isNaN(Z)?we:Z}function ft(J){return J instanceof Date&&!isNaN(J.valueOf())}const je=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function cr(J){const we=parseInt(J);if(isNaN(we))throw new Error("Invalid integer literal when parsing "+J);return we}function Qi(J,we){we=encodeURIComponent(we);for(const Z of J.split(";")){const Re=Z.indexOf("="),[Ot,tn]=-1==Re?[Z,""]:[Z.slice(0,Re),Z.slice(Re+1)];if(Ot.trim()===we)return decodeURIComponent(tn)}return null}let Ki=(()=>{class J{constructor(Z,Re,Ot,tn){this._iterableDiffers=Z,this._keyValueDiffers=Re,this._ngEl=Ot,this._renderer=tn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Z){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Z?Z.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Z){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Z?Z.split(/\s+/):Z,this._rawClass&&((0,x.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Z=this._iterableDiffer.diff(this._rawClass);Z&&this._applyIterableChanges(Z)}else if(this._keyValueDiffer){const Z=this._keyValueDiffer.diff(this._rawClass);Z&&this._applyKeyValueChanges(Z)}}_applyKeyValueChanges(Z){Z.forEachAddedItem(Re=>this._toggleClass(Re.key,Re.currentValue)),Z.forEachChangedItem(Re=>this._toggleClass(Re.key,Re.currentValue)),Z.forEachRemovedItem(Re=>{Re.previousValue&&this._toggleClass(Re.key,!1)})}_applyIterableChanges(Z){Z.forEachAddedItem(Re=>{if("string"!=typeof Re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,x.AaK)(Re.item)}`);this._toggleClass(Re.item,!0)}),Z.forEachRemovedItem(Re=>this._toggleClass(Re.item,!1))}_applyClasses(Z){Z&&(Array.isArray(Z)||Z instanceof Set?Z.forEach(Re=>this._toggleClass(Re,!0)):Object.keys(Z).forEach(Re=>this._toggleClass(Re,!!Z[Re])))}_removeClasses(Z){Z&&(Array.isArray(Z)||Z instanceof Set?Z.forEach(Re=>this._toggleClass(Re,!1)):Object.keys(Z).forEach(Re=>this._toggleClass(Re,!1)))}_toggleClass(Z,Re){(Z=Z.trim())&&Z.split(/\s+/g).forEach(Ot=>{Re?this._renderer.addClass(this._ngEl.nativeElement,Ot):this._renderer.removeClass(this._ngEl.nativeElement,Ot)})}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.ZZ4),x.Y36(x.aQg),x.Y36(x.SBq),x.Y36(x.Qsj))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),J})();class to{constructor(we,Z,Re,Ot){this.$implicit=we,this.ngForOf=Z,this.index=Re,this.count=Ot}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $i=(()=>{class J{constructor(Z,Re,Ot){this._viewContainer=Z,this._template=Re,this._differs=Ot,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;!this._differ&&Z&&(this._differ=this._differs.find(Z).create(this.ngForTrackBy))}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const Re=this._viewContainer;Z.forEachOperation((Ot,tn,gn)=>{if(null==Ot.previousIndex)Re.createEmbeddedView(this._template,new to(Ot.item,this._ngForOf,-1,-1),null===gn?void 0:gn);else if(null==gn)Re.remove(null===tn?void 0:tn);else if(null!==tn){const Xn=Re.get(tn);Re.move(Xn,gn),Ei(Xn,Ot)}});for(let Ot=0,tn=Re.length;Ot<tn;Ot++){const Xn=Re.get(Ot).context;Xn.index=Ot,Xn.count=tn,Xn.ngForOf=this._ngForOf}Z.forEachIdentityChange(Ot=>{Ei(Re.get(Ot.currentIndex),Ot)})}static ngTemplateContextGuard(Z,Re){return!0}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(x.ZZ4))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),J})();function Ei(J,we){J.context.$implicit=we.item}let lo=(()=>{class J{constructor(Z,Re){this._viewContainer=Z,this._context=new ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Re}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){xn("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){xn("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,Re){return!0}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.s_b),x.Y36(x.Rgc))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),J})();class ri{constructor(){this.$implicit=null,this.ngIf=null}}function xn(J,we){if(we&&!we.createEmbeddedView)throw new Error(`${J} must be a TemplateRef, but received '${(0,x.AaK)(we)}'.`)}class Do{constructor(we,Z){this._viewContainerRef=we,this._templateRef=Z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(we){we&&!this._created?this.create():!we&&this._created&&this.destroy()}}let wn=(()=>{class J{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Z){this._ngSwitch=Z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Z){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Z)}_matchCase(Z){const Re=Z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Re}_updateDefaultCases(Z){if(this._defaultViews&&Z!==this._defaultUsed){this._defaultUsed=Z;for(let Re=0;Re<this._defaultViews.length;Re++)this._defaultViews[Re].enforceState(Z)}}}return J.\u0275fac=function(Z){return new(Z||J)},J.\u0275dir=x.lG2({type:J,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),J})(),ki=(()=>{class J{constructor(Z,Re,Ot){this.ngSwitch=Ot,Ot._addCase(),this._view=new Do(Z,Re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(wn,9))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),J})(),no=(()=>{class J{constructor(Z,Re,Ot){Ot._addDefault(new Do(Z,Re))}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(wn,9))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngSwitchDefault",""]]}),J})(),No=(()=>{class J{constructor(Z,Re,Ot){this._ngEl=Z,this._differs=Re,this._renderer=Ot,this._ngStyle=null,this._differ=null}set ngStyle(Z){this._ngStyle=Z,!this._differ&&Z&&(this._differ=this._differs.find(Z).create())}ngDoCheck(){if(this._differ){const Z=this._differ.diff(this._ngStyle);Z&&this._applyChanges(Z)}}_setStyle(Z,Re){const[Ot,tn]=Z.split(".");null!=(Re=null!=Re&&tn?`${Re}${tn}`:Re)?this._renderer.setStyle(this._ngEl.nativeElement,Ot,Re):this._renderer.removeStyle(this._ngEl.nativeElement,Ot)}_applyChanges(Z){Z.forEachRemovedItem(Re=>this._setStyle(Re.key,null)),Z.forEachAddedItem(Re=>this._setStyle(Re.key,Re.currentValue)),Z.forEachChangedItem(Re=>this._setStyle(Re.key,Re.currentValue))}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.SBq),x.Y36(x.aQg),x.Y36(x.Qsj))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),J})(),Ia=(()=>{class J{constructor(Z){this._viewContainerRef=Z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Z){if(Z.ngTemplateOutlet){const Re=this._viewContainerRef;this._viewRef&&Re.remove(Re.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Re.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.s_b))},J.\u0275dir=x.lG2({type:J,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[x.TTD]}),J})();function vo(J,we){return new x.vHH(2100,"")}class Al{createSubscription(we,Z){return we.subscribe({next:Z,error:Re=>{throw Re}})}dispose(we){we.unsubscribe()}onDestroy(we){we.unsubscribe()}}class Wo{createSubscription(we,Z){return we.then(Z,Re=>{throw Re})}dispose(we){}onDestroy(we){}}const gs=new Wo,Oo=new Al;let Na=(()=>{class J{constructor(Z){this._ref=Z,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Z){return this._obj?Z!==this._obj?(this._dispose(),this.transform(Z)):this._latestValue:(Z&&this._subscribe(Z),this._latestValue)}_subscribe(Z){this._obj=Z,this._strategy=this._selectStrategy(Z),this._subscription=this._strategy.createSubscription(Z,Re=>this._updateLatestValue(Z,Re))}_selectStrategy(Z){if((0,x.QGY)(Z))return gs;if((0,x.F4k)(Z))return Oo;throw vo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Z,Re){Z===this._obj&&(this._latestValue=Re,this._ref.markForCheck())}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.sBO,16))},J.\u0275pipe=x.Yjl({name:"async",type:J,pure:!1}),J})();const co=new x.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let vs=(()=>{class J{constructor(Z,Re){this.locale=Z,this.defaultTimezone=Re}transform(Z,Re="mediumDate",Ot,tn){var gn;if(null==Z||""===Z||Z!=Z)return null;try{return Pn(Z,Re,tn||this.locale,null!==(gn=null!=Ot?Ot:this.defaultTimezone)&&void 0!==gn?gn:void 0)}catch(Xn){throw vo()}}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.soG,16),x.Y36(co,24))},J.\u0275pipe=x.Yjl({name:"date",type:J,pure:!0}),J})(),za=(()=>{class J{constructor(Z){this._locale=Z}transform(Z,Re,Ot){if(!function Xa(J){return!(null==J||""===J||J!=J)}(Z))return null;Ot=Ot||this._locale;try{return function Rr(J,we,Z){return function Pi(J,we,Z,Re,Ot,tn,gn=!1){let Xn="",Di=!1;if(isFinite(J)){let ai=function qr(J){let Re,Ot,tn,gn,Xn,we=Math.abs(J)+"",Z=0;for((Ot=we.indexOf("."))>-1&&(we=we.replace(".","")),(tn=we.search(/e/i))>0?(Ot<0&&(Ot=tn),Ot+=+we.slice(tn+1),we=we.substring(0,tn)):Ot<0&&(Ot=we.length),tn=0;"0"===we.charAt(tn);tn++);if(tn===(Xn=we.length))Re=[0],Ot=1;else{for(Xn--;"0"===we.charAt(Xn);)Xn--;for(Ot-=tn,Re=[],gn=0;tn<=Xn;tn++,gn++)Re[gn]=Number(we.charAt(tn))}return Ot>22&&(Re=Re.splice(0,21),Z=Ot-1,Ot=1),{digits:Re,exponent:Z,integerLen:Ot}}(J);gn&&(ai=function so(J){if(0===J.digits[0])return J;const we=J.digits.length-J.integerLen;return J.exponent?J.exponent+=2:(0===we?J.digits.push(0,0):1===we&&J.digits.push(0),J.integerLen+=2),J}(ai));let Zr=we.minInt,si=we.minFrac,Ji=we.maxFrac;if(tn){const Ce=tn.match(je);if(null===Ce)throw new Error(`${tn} is not a valid digit info`);const un=Ce[1],Zn=Ce[3],Ar=Ce[5];null!=un&&(Zr=cr(un)),null!=Zn&&(si=cr(Zn)),null!=Ar?Ji=cr(Ar):null!=Zn&&si>Ji&&(Ji=si)}!function Pr(J,we,Z){if(we>Z)throw new Error(`The minimum number of digits after fraction (${we}) is higher than the maximum (${Z}).`);let Re=J.digits,Ot=Re.length-J.integerLen;const tn=Math.min(Math.max(we,Ot),Z);let gn=tn+J.integerLen,Xn=Re[gn];if(gn>0){Re.splice(Math.max(J.integerLen,gn));for(let si=gn;si<Re.length;si++)Re[si]=0}else{Ot=Math.max(0,Ot),J.integerLen=1,Re.length=Math.max(1,gn=tn+1),Re[0]=0;for(let si=1;si<gn;si++)Re[si]=0}if(Xn>=5)if(gn-1<0){for(let si=0;si>gn;si--)Re.unshift(0),J.integerLen++;Re.unshift(1),J.integerLen++}else Re[gn-1]++;for(;Ot<Math.max(0,tn);Ot++)Re.push(0);let Di=0!==tn;const ai=we+J.integerLen,Zr=Re.reduceRight(function(si,Ji,yi,Ai){return Ai[yi]=(Ji+=si)<10?Ji:Ji-10,Di&&(0===Ai[yi]&&yi>=ai?Ai.pop():Di=!1),Ji>=10?1:0},0);Zr&&(Re.unshift(Zr),J.integerLen++)}(ai,si,Ji);let yi=ai.digits,Ai=ai.integerLen;const ee=ai.exponent;let $=[];for(Di=yi.every(Ce=>!Ce);Ai<Zr;Ai++)yi.unshift(0);for(;Ai<0;Ai++)yi.unshift(0);Ai>0?$=yi.splice(Ai,yi.length):($=yi,yi=[0]);const B=[];for(yi.length>=we.lgSize&&B.unshift(yi.splice(-we.lgSize,yi.length).join(""));yi.length>we.gSize;)B.unshift(yi.splice(-we.gSize,yi.length).join(""));yi.length&&B.unshift(yi.join("")),Xn=B.join(Or(Z,Re)),$.length&&(Xn+=Or(Z,Ot)+$.join("")),ee&&(Xn+=Or(Z,ut.Exponential)+"+"+ee)}else Xn=Or(Z,ut.Infinity);return Xn=J<0&&!Di?we.negPre+Xn+we.negSuf:we.posPre+Xn+we.posSuf,Xn}(J,function hi(J,we="-"){const Z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Re=J.split(";"),Ot=Re[0],tn=Re[1],gn=-1!==Ot.indexOf(".")?Ot.split("."):[Ot.substring(0,Ot.lastIndexOf("0")+1),Ot.substring(Ot.lastIndexOf("0")+1)],Xn=gn[0],Di=gn[1]||"";Z.posPre=Xn.substr(0,Xn.indexOf("#"));for(let Zr=0;Zr<Di.length;Zr++){const si=Di.charAt(Zr);"0"===si?Z.minFrac=Z.maxFrac=Zr+1:"#"===si?Z.maxFrac=Zr+1:Z.posSuf+=si}const ai=Xn.split(",");if(Z.gSize=ai[1]?ai[1].length:0,Z.lgSize=ai[2]||ai[1]?(ai[2]||ai[1]).length:0,tn){const Zr=Ot.length-Z.posPre.length-Z.posSuf.length,si=tn.indexOf("#");Z.negPre=tn.substr(0,si).replace(/'/g,""),Z.negSuf=tn.substr(si+Zr).replace(/'/g,"")}else Z.negPre=we+Z.posPre,Z.negSuf=Z.posSuf;return Z}(function bi(J,we){return(0,x.cg1)(J)[x.wAp.NumberFormats][we]}(we,ze.Decimal),Or(we,ut.MinusSign)),we,ut.Group,ut.Decimal,Z)}(function ms(J){if("string"==typeof J&&!isNaN(Number(J)-parseFloat(J)))return Number(J);if("number"!=typeof J)throw new Error(`${J} is not a number`);return J}(Z),Ot,Re)}catch(tn){throw vo()}}}return J.\u0275fac=function(Z){return new(Z||J)(x.Y36(x.soG,16))},J.\u0275pipe=x.Yjl({name:"number",type:J,pure:!0}),J})();let Is=(()=>{class J{}return J.\u0275fac=function(Z){return new(Z||J)},J.\u0275mod=x.oAB({type:J}),J.\u0275inj=x.cJS({}),J})();const ea="browser";function Fi(J){return J===ea}let Uo=(()=>{class J{}return J.\u0275prov=(0,x.Yz7)({token:J,providedIn:"root",factory:()=>new Ja((0,x.LFG)(ke),window)}),J})();class Ja{constructor(we,Z){this.document=we,this.window=Z,this.offset=()=>[0,0]}setOffset(we){this.offset=Array.isArray(we)?()=>we:we}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(we){this.supportsScrolling()&&this.window.scrollTo(we[0],we[1])}scrollToAnchor(we){if(!this.supportsScrolling())return;const Z=function pa(J,we){const Z=J.getElementById(we)||J.getElementsByName(we)[0];if(Z)return Z;if("function"==typeof J.createTreeWalker&&J.body&&(J.body.createShadowRoot||J.body.attachShadow)){const Re=J.createTreeWalker(J.body,NodeFilter.SHOW_ELEMENT);let Ot=Re.currentNode;for(;Ot;){const tn=Ot.shadowRoot;if(tn){const gn=tn.getElementById(we)||tn.querySelector(`[name="${we}"]`);if(gn)return gn}Ot=Re.nextNode()}}return null}(this.document,we);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(we){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=we)}}scrollToElement(we){const Z=we.getBoundingClientRect(),Re=Z.left+this.window.pageXOffset,Ot=Z.top+this.window.pageYOffset,tn=this.offset();this.window.scrollTo(Re-tn[0],Ot-tn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const we=ta(this.window.history)||ta(Object.getPrototypeOf(this.window.history));return!(!we||!we.writable&&!we.set)}catch(we){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(we){return!1}}}function ta(J){return Object.getOwnPropertyDescriptor(J,"scrollRestoration")}class zi{}},520:(Dn,ht,I)=>{I.d(ht,{JF:()=>Ye,PG:()=>Ae,TP:()=>tt,WM:()=>Pe,Zn:()=>Ft,aW:()=>et,dt:()=>gt,eN:()=>ut,jN:()=>Ve});var x=I(9808),G=I(5e3),z=I(9646),Se=I(8306),Ee=I(4351),Fe=I(9300),ke=I(4004);class Ae{}class Ve{}class Pe{constructor($e){this.normalizedNames=new Map,this.lazyUpdate=null,$e?this.lazyInit="string"==typeof $e?()=>{this.headers=new Map,$e.split("\n").forEach(fe=>{const We=fe.indexOf(":");if(We>0){const ve=fe.slice(0,We),Ie=ve.toLowerCase(),Tt=fe.slice(We+1).trim();this.maybeSetNormalizedName(ve,Ie),this.headers.has(Ie)?this.headers.get(Ie).push(Tt):this.headers.set(Ie,[Tt])}})}:()=>{this.headers=new Map,Object.keys($e).forEach(fe=>{let We=$e[fe];const ve=fe.toLowerCase();"string"==typeof We&&(We=[We]),We.length>0&&(this.headers.set(ve,We),this.maybeSetNormalizedName(fe,ve))})}:this.headers=new Map}has($e){return this.init(),this.headers.has($e.toLowerCase())}get($e){this.init();const fe=this.headers.get($e.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($e){return this.init(),this.headers.get($e.toLowerCase())||null}append($e,fe){return this.clone({name:$e,value:fe,op:"a"})}set($e,fe){return this.clone({name:$e,value:fe,op:"s"})}delete($e,fe){return this.clone({name:$e,value:fe,op:"d"})}maybeSetNormalizedName($e,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,$e)}init(){this.lazyInit&&(this.lazyInit instanceof Pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($e=>this.applyUpdate($e)),this.lazyUpdate=null))}copyFrom($e){$e.init(),Array.from($e.headers.keys()).forEach(fe=>{this.headers.set(fe,$e.headers.get(fe)),this.normalizedNames.set(fe,$e.normalizedNames.get(fe))})}clone($e){const fe=new Pe;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof Pe?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([$e]),fe}applyUpdate($e){const fe=$e.name.toLowerCase();switch($e.op){case"a":case"s":let We=$e.value;if("string"==typeof We&&(We=[We]),0===We.length)return;this.maybeSetNormalizedName($e.name,fe);const ve=("a"===$e.op?this.headers.get(fe):void 0)||[];ve.push(...We),this.headers.set(fe,ve);break;case"d":const Ie=$e.value;if(Ie){let Tt=this.headers.get(fe);if(!Tt)return;Tt=Tt.filter(Pn=>-1===Ie.indexOf(Pn)),0===Tt.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,Tt)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}forEach($e){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>$e(this.normalizedNames.get(fe),this.headers.get(fe)))}}class Oe{encodeKey($e){return lt($e)}encodeValue($e){return lt($e)}decodeKey($e){return decodeURIComponent($e)}decodeValue($e){return decodeURIComponent($e)}}const Xe=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lt(dt){return encodeURIComponent(dt).replace(Xe,($e,fe)=>{var We;return null!==(We=Je[fe])&&void 0!==We?We:$e})}function Lt(dt){return`${dt}`}class ct{constructor($e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$e.encoder||new Oe,$e.fromString){if($e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function be(dt,$e){const fe=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(ve=>{const Ie=ve.indexOf("="),[Tt,Pn]=-1==Ie?[$e.decodeKey(ve),""]:[$e.decodeKey(ve.slice(0,Ie)),$e.decodeValue(ve.slice(Ie+1))],bn=fe.get(Tt)||[];bn.push(Pn),fe.set(Tt,bn)}),fe}($e.fromString,this.encoder)}else $e.fromObject?(this.map=new Map,Object.keys($e.fromObject).forEach(fe=>{const We=$e.fromObject[fe];this.map.set(fe,Array.isArray(We)?We:[We])})):this.map=null}has($e){return this.init(),this.map.has($e)}get($e){this.init();const fe=this.map.get($e);return fe?fe[0]:null}getAll($e){return this.init(),this.map.get($e)||null}keys(){return this.init(),Array.from(this.map.keys())}append($e,fe){return this.clone({param:$e,value:fe,op:"a"})}appendAll($e){const fe=[];return Object.keys($e).forEach(We=>{const ve=$e[We];Array.isArray(ve)?ve.forEach(Ie=>{fe.push({param:We,value:Ie,op:"a"})}):fe.push({param:We,value:ve,op:"a"})}),this.clone(fe)}set($e,fe){return this.clone({param:$e,value:fe,op:"s"})}delete($e,fe){return this.clone({param:$e,value:fe,op:"d"})}toString(){return this.init(),this.keys().map($e=>{const fe=this.encoder.encodeKey($e);return this.map.get($e).map(We=>fe+"="+this.encoder.encodeValue(We)).join("&")}).filter($e=>""!==$e).join("&")}clone($e){const fe=new ct({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat($e),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($e=>this.map.set($e,this.cloneFrom.map.get($e))),this.updates.forEach($e=>{switch($e.op){case"a":case"s":const fe=("a"===$e.op?this.map.get($e.param):void 0)||[];fe.push(Lt($e.value)),this.map.set($e.param,fe);break;case"d":if(void 0===$e.value){this.map.delete($e.param);break}{let We=this.map.get($e.param)||[];const ve=We.indexOf(Lt($e.value));-1!==ve&&We.splice(ve,1),We.length>0?this.map.set($e.param,We):this.map.delete($e.param)}}}),this.cloneFrom=this.updates=null)}}class On{constructor(){this.map=new Map}set($e,fe){return this.map.set($e,fe),this}get($e){return this.map.has($e)||this.map.set($e,$e.defaultValue()),this.map.get($e)}delete($e){return this.map.delete($e),this}has($e){return this.map.has($e)}keys(){return this.map.keys()}}function Yt(dt){return"undefined"!=typeof ArrayBuffer&&dt instanceof ArrayBuffer}function se(dt){return"undefined"!=typeof Blob&&dt instanceof Blob}function ot(dt){return"undefined"!=typeof FormData&&dt instanceof FormData}class et{constructor($e,fe,We,ve){let Ie;if(this.url=fe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$e.toUpperCase(),function w(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ve?(this.body=void 0!==We?We:null,Ie=ve):Ie=We,Ie&&(this.reportProgress=!!Ie.reportProgress,this.withCredentials=!!Ie.withCredentials,Ie.responseType&&(this.responseType=Ie.responseType),Ie.headers&&(this.headers=Ie.headers),Ie.context&&(this.context=Ie.context),Ie.params&&(this.params=Ie.params)),this.headers||(this.headers=new Pe),this.context||(this.context=new On),this.params){const Tt=this.params.toString();if(0===Tt.length)this.urlWithParams=fe;else{const Pn=fe.indexOf("?");this.urlWithParams=fe+(-1===Pn?"?":Pn<fe.length-1?"&":"")+Tt}}else this.params=new ct,this.urlWithParams=fe}serializeBody(){return null===this.body?null:Yt(this.body)||se(this.body)||ot(this.body)||function De(dt){return"undefined"!=typeof URLSearchParams&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ct?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ot(this.body)?null:se(this.body)?this.body.type||null:Yt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ct?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($e={}){var fe;const We=$e.method||this.method,ve=$e.url||this.url,Ie=$e.responseType||this.responseType,Tt=void 0!==$e.body?$e.body:this.body,Pn=void 0!==$e.withCredentials?$e.withCredentials:this.withCredentials,bn=void 0!==$e.reportProgress?$e.reportProgress:this.reportProgress;let Tn=$e.headers||this.headers,ar=$e.params||this.params;const br=null!==(fe=$e.context)&&void 0!==fe?fe:this.context;return void 0!==$e.setHeaders&&(Tn=Object.keys($e.setHeaders).reduce((Vt,fn)=>Vt.set(fn,$e.setHeaders[fn]),Tn)),$e.setParams&&(ar=Object.keys($e.setParams).reduce((Vt,fn)=>Vt.set(fn,$e.setParams[fn]),ar)),new et(We,ve,Tt,{params:ar,headers:Tn,context:br,reportProgress:bn,responseType:Ie,withCredentials:Pn})}}var gt=(()=>((gt=gt||{})[gt.Sent=0]="Sent",gt[gt.UploadProgress=1]="UploadProgress",gt[gt.ResponseHeader=2]="ResponseHeader",gt[gt.DownloadProgress=3]="DownloadProgress",gt[gt.Response=4]="Response",gt[gt.User=5]="User",gt))();class ze{constructor($e,fe=200,We="OK"){this.headers=$e.headers||new Pe,this.status=void 0!==$e.status?$e.status:fe,this.statusText=$e.statusText||We,this.url=$e.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends ze{constructor($e={}){super($e),this.type=gt.ResponseHeader}clone($e={}){return new mt({headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Ft extends ze{constructor($e={}){super($e),this.type=gt.Response,this.body=void 0!==$e.body?$e.body:null}clone($e={}){return new Ft({body:void 0!==$e.body?$e.body:this.body,headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class It extends ze{constructor($e){super($e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$e.url||"(unknown url)"}`:`Http failure response for ${$e.url||"(unknown url)"}: ${$e.status} ${$e.statusText}`,this.error=$e.error||null}}function $t(dt,$e){return{body:$e,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let ut=(()=>{class dt{constructor(fe){this.handler=fe}request(fe,We,ve={}){let Ie;if(fe instanceof et)Ie=fe;else{let bn,Tn;bn=ve.headers instanceof Pe?ve.headers:new Pe(ve.headers),ve.params&&(Tn=ve.params instanceof ct?ve.params:new ct({fromObject:ve.params})),Ie=new et(fe,We,void 0!==ve.body?ve.body:null,{headers:bn,context:ve.context,params:Tn,reportProgress:ve.reportProgress,responseType:ve.responseType||"json",withCredentials:ve.withCredentials})}const Tt=(0,z.of)(Ie).pipe((0,Ee.b)(bn=>this.handler.handle(bn)));if(fe instanceof et||"events"===ve.observe)return Tt;const Pn=Tt.pipe((0,Fe.h)(bn=>bn instanceof Ft));switch(ve.observe||"body"){case"body":switch(Ie.responseType){case"arraybuffer":return Pn.pipe((0,ke.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bn.body}));case"blob":return Pn.pipe((0,ke.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof Blob))throw new Error("Response is not a Blob.");return bn.body}));case"text":return Pn.pipe((0,ke.U)(bn=>{if(null!==bn.body&&"string"!=typeof bn.body)throw new Error("Response is not a string.");return bn.body}));default:return Pn.pipe((0,ke.U)(bn=>bn.body))}case"response":return Pn;default:throw new Error(`Unreachable: unhandled observe type ${ve.observe}}`)}}delete(fe,We={}){return this.request("DELETE",fe,We)}get(fe,We={}){return this.request("GET",fe,We)}head(fe,We={}){return this.request("HEAD",fe,We)}jsonp(fe,We){return this.request("JSONP",fe,{params:(new ct).append(We,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,We={}){return this.request("OPTIONS",fe,We)}patch(fe,We,ve={}){return this.request("PATCH",fe,$t(ve,We))}post(fe,We,ve={}){return this.request("POST",fe,$t(ve,We))}put(fe,We,ve={}){return this.request("PUT",fe,$t(ve,We))}}return dt.\u0275fac=function(fe){return new(fe||dt)(G.LFG(Ae))},dt.\u0275prov=G.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class pn{constructor($e,fe){this.next=$e,this.interceptor=fe}handle($e){return this.interceptor.intercept($e,this.next)}}const tt=new G.OlP("HTTP_INTERCEPTORS");let en=(()=>{class dt{intercept(fe,We){return We.handle(fe)}}return dt.\u0275fac=function(fe){return new(fe||dt)},dt.\u0275prov=G.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Or=/^\)\]\}',?\n/;let Ni=(()=>{class dt{constructor(fe){this.xhrFactory=fe}handle(fe){if("JSONP"===fe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se.y(We=>{const ve=this.xhrFactory.build();if(ve.open(fe.method,fe.urlWithParams),fe.withCredentials&&(ve.withCredentials=!0),fe.headers.forEach((fn,mn)=>ve.setRequestHeader(fn,mn.join(","))),fe.headers.has("Accept")||ve.setRequestHeader("Accept","application/json, text/plain, */*"),!fe.headers.has("Content-Type")){const fn=fe.detectContentTypeHeader();null!==fn&&ve.setRequestHeader("Content-Type",fn)}if(fe.responseType){const fn=fe.responseType.toLowerCase();ve.responseType="json"!==fn?fn:"text"}const Ie=fe.serializeBody();let Tt=null;const Pn=()=>{if(null!==Tt)return Tt;const fn=ve.statusText||"OK",mn=new Pe(ve.getAllResponseHeaders()),oe=function bi(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(ve)||fe.url;return Tt=new mt({headers:mn,status:ve.status,statusText:fn,url:oe}),Tt},bn=()=>{let{headers:fn,status:mn,statusText:oe,url:er}=Pn(),Lr=null;204!==mn&&(Lr=void 0===ve.response?ve.responseText:ve.response),0===mn&&(mn=Lr?200:0);let Er=mn>=200&&mn<300;if("json"===fe.responseType&&"string"==typeof Lr){const dr=Lr;Lr=Lr.replace(Or,"");try{Lr=""!==Lr?JSON.parse(Lr):null}catch(Bt){Lr=dr,Er&&(Er=!1,Lr={error:Bt,text:Lr})}}Er?(We.next(new Ft({body:Lr,headers:fn,status:mn,statusText:oe,url:er||void 0})),We.complete()):We.error(new It({error:Lr,headers:fn,status:mn,statusText:oe,url:er||void 0}))},Tn=fn=>{const{url:mn}=Pn(),oe=new It({error:fn,status:ve.status||0,statusText:ve.statusText||"Unknown Error",url:mn||void 0});We.error(oe)};let ar=!1;const br=fn=>{ar||(We.next(Pn()),ar=!0);let mn={type:gt.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(mn.total=fn.total),"text"===fe.responseType&&!!ve.responseText&&(mn.partialText=ve.responseText),We.next(mn)},Vt=fn=>{let mn={type:gt.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(mn.total=fn.total),We.next(mn)};return ve.addEventListener("load",bn),ve.addEventListener("error",Tn),ve.addEventListener("timeout",Tn),ve.addEventListener("abort",Tn),fe.reportProgress&&(ve.addEventListener("progress",br),null!==Ie&&ve.upload&&ve.upload.addEventListener("progress",Vt)),ve.send(Ie),We.next({type:gt.Sent}),()=>{ve.removeEventListener("error",Tn),ve.removeEventListener("abort",Tn),ve.removeEventListener("load",bn),ve.removeEventListener("timeout",Tn),fe.reportProgress&&(ve.removeEventListener("progress",br),null!==Ie&&ve.upload&&ve.upload.removeEventListener("progress",Vt)),ve.readyState!==ve.DONE&&ve.abort()}})}}return dt.\u0275fac=function(fe){return new(fe||dt)(G.LFG(x.JF))},dt.\u0275prov=G.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Ui=new G.OlP("XSRF_COOKIE_NAME"),rr=new G.OlP("XSRF_HEADER_NAME");class pr{}let Mi=(()=>{class dt{constructor(fe,We,ve){this.doc=fe,this.platform=We,this.cookieName=ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const fe=this.doc.cookie||"";return fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,x.Mx)(fe,this.cookieName),this.lastCookieString=fe),this.lastToken}}return dt.\u0275fac=function(fe){return new(fe||dt)(G.LFG(x.K0),G.LFG(G.Lbi),G.LFG(Ui))},dt.\u0275prov=G.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),mi=(()=>{class dt{constructor(fe,We){this.tokenService=fe,this.headerName=We}intercept(fe,We){const ve=fe.url.toLowerCase();if("GET"===fe.method||"HEAD"===fe.method||ve.startsWith("http://")||ve.startsWith("https://"))return We.handle(fe);const Ie=this.tokenService.getToken();return null!==Ie&&!fe.headers.has(this.headerName)&&(fe=fe.clone({headers:fe.headers.set(this.headerName,Ie)})),We.handle(fe)}}return dt.\u0275fac=function(fe){return new(fe||dt)(G.LFG(pr),G.LFG(rr))},dt.\u0275prov=G.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),ao=(()=>{class dt{constructor(fe,We){this.backend=fe,this.injector=We,this.chain=null}handle(fe){if(null===this.chain){const We=this.injector.get(tt,[]);this.chain=We.reduceRight((ve,Ie)=>new pn(ve,Ie),this.backend)}return this.chain.handle(fe)}}return dt.\u0275fac=function(fe){return new(fe||dt)(G.LFG(Ve),G.LFG(G.zs3))},dt.\u0275prov=G.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),ue=(()=>{class dt{static disable(){return{ngModule:dt,providers:[{provide:mi,useClass:en}]}}static withOptions(fe={}){return{ngModule:dt,providers:[fe.cookieName?{provide:Ui,useValue:fe.cookieName}:[],fe.headerName?{provide:rr,useValue:fe.headerName}:[]]}}}return dt.\u0275fac=function(fe){return new(fe||dt)},dt.\u0275mod=G.oAB({type:dt}),dt.\u0275inj=G.cJS({providers:[mi,{provide:tt,useExisting:mi,multi:!0},{provide:pr,useClass:Mi},{provide:Ui,useValue:"XSRF-TOKEN"},{provide:rr,useValue:"X-XSRF-TOKEN"}]}),dt})(),Ye=(()=>{class dt{}return dt.\u0275fac=function(fe){return new(fe||dt)},dt.\u0275mod=G.oAB({type:dt}),dt.\u0275inj=G.cJS({providers:[ut,{provide:Ae,useClass:ao},Ni,{provide:Ve,useExisting:Ni}],imports:[[ue.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),dt})()},5e3:(Dn,ht,I)=>{I.d(ht,{$8M:()=>b1,$Z:()=>Sa,AFp:()=>Qm,ALo:()=>Z8,AaK:()=>Ae,AcB:()=>D1,AsE:()=>N0,BQk:()=>fs,CHM:()=>Ql,CRH:()=>s6,CZH:()=>Zm,CqO:()=>D0,DdM:()=>j8,DjV:()=>n1,EJc:()=>g5,EiD:()=>zd,EpF:()=>uh,F$t:()=>Xf,F4k:()=>E0,FYo:()=>wu,FiY:()=>Pd,G48:()=>N6,Gf:()=>o6,GfV:()=>h3,GkF:()=>yp,Gpc:()=>Oe,Gre:()=>sm,Hsn:()=>ev,IIB:()=>h5,Ikx:()=>d,JOm:()=>ma,JVY:()=>rf,Jf7:()=>lr,L6k:()=>O4,LAX:()=>Ev,LFG:()=>Ho,LSH:()=>U1,Lbi:()=>kp,MAs:()=>C0,MT6:()=>q2,NdJ:()=>Kf,O4$:()=>Co,OlP:()=>Mo,Oqu:()=>I0,PXZ:()=>l4,Q6J:()=>lh,QGY:()=>wl,Qsj:()=>Ty,R0b:()=>bu,RDi:()=>ta,Rgc:()=>Qs,SBq:()=>_u,Sil:()=>m5,Suo:()=>a6,TTD:()=>Xa,TgZ:()=>Uf,Tol:()=>zt,Udp:()=>e1,VKq:()=>Am,VLi:()=>S5,W1O:()=>Gm,WFA:()=>Jg,WLB:()=>U8,X6Q:()=>O5,XFs:()=>Kn,Xpm:()=>wt,Y36:()=>Sc,YKP:()=>Lp,YNc:()=>gp,Yjl:()=>Ke,Yz7:()=>gr,ZZ4:()=>L3,_Bn:()=>c3,_UZ:()=>Yf,_Vd:()=>$0,_c5:()=>c8,_uU:()=>U2,aQg:()=>a8,c2e:()=>Cd,cJS:()=>oi,cg1:()=>ye,d8E:()=>v,dDg:()=>P6,deG:()=>E1,dqk:()=>Tn,eBb:()=>Fd,eFA:()=>O3,ekj:()=>Le,f3M:()=>mv,g9A:()=>D6,h0i:()=>Su,hGG:()=>z5,hij:()=>fh,iGM:()=>i6,ifc:()=>ve,ip1:()=>b6,kEZ:()=>Y8,kL8:()=>bt,kYT:()=>hr,l5B:()=>K8,lG2:()=>Ct,lcZ:()=>g3,mCW:()=>vi,n5z:()=>Ph,n_E:()=>m3,oAB:()=>vr,oJD:()=>xv,oxw:()=>O0,pB0:()=>T4,q3G:()=>Lo,qLn:()=>tu,qOj:()=>kf,qZA:()=>hd,qzn:()=>ku,r_U:()=>p5,s9C:()=>_p,sBO:()=>T5,sIi:()=>pp,s_b:()=>C3,soG:()=>E3,tBr:()=>oc,tb:()=>O6,tp0:()=>Pu,uIk:()=>Bg,vHH:()=>lt,vpe:()=>Yc,wAp:()=>Kt,xi3:()=>_h,xp6:()=>Yv,yhl:()=>bv,ynx:()=>ch,z2F:()=>Eu,z3N:()=>Lc,zSh:()=>bs,zs3:()=>_a});var x=I(7579),G=I(727),z=I(8306),Se=I(6451),Ee=I(3099);function Fe(f){for(let g in f)if(f[g]===Fe)return g;throw Error("Could not find renamed property on target object.")}function ke(f,g){for(const m in g)g.hasOwnProperty(m)&&!f.hasOwnProperty(m)&&(f[m]=g[m])}function Ae(f){if("string"==typeof f)return f;if(Array.isArray(f))return"["+f.map(Ae).join(", ")+"]";if(null==f)return""+f;if(f.overriddenName)return`${f.overriddenName}`;if(f.name)return`${f.name}`;const g=f.toString();if(null==g)return""+g;const m=g.indexOf("\n");return-1===m?g:g.substring(0,m)}function Ve(f,g){return null==f||""===f?null===g?"":g:null==g||""===g?f:f+" "+g}const Pe=Fe({__forward_ref__:Fe});function Oe(f){return f.__forward_ref__=Oe,f.toString=function(){return Ae(this())},f}function be(f){return Xe(f)?f():f}function Xe(f){return"function"==typeof f&&f.hasOwnProperty(Pe)&&f.__forward_ref__===Oe}class lt extends Error{constructor(g,m){super(function Lt(f,g){return`NG0${Math.abs(f)}${g?": "+g:""}`}(g,m)),this.code=g}}function ct(f){return"string"==typeof f?f:null==f?"":String(f)}function Jt(f){return"function"==typeof f?f.name||f.toString():"object"==typeof f&&null!=f&&"function"==typeof f.type?f.type.name||f.type.toString():ct(f)}function se(f,g){const m=g?` in ${g}`:"";throw new lt(-201,`No provider for ${Jt(f)} found${m}`)}function xt(f,g){null==f&&function jt(f,g,m,_){throw new Error(`ASSERTION ERROR: ${f}`+(null==_?"":` [Expected=> ${m} ${_} ${g} <=Actual]`))}(g,f,null,"!=")}function gr(f){return{token:f.token,providedIn:f.providedIn||null,factory:f.factory,value:void 0}}function oi(f){return{providers:f.providers||[],imports:f.imports||[]}}function Or(f){return bi(f,pr)||bi(f,mi)}function bi(f,g){return f.hasOwnProperty(g)?f[g]:null}function rr(f){return f&&(f.hasOwnProperty(Mi)||f.hasOwnProperty(ao))?f[Mi]:null}const pr=Fe({\u0275prov:Fe}),Mi=Fe({\u0275inj:Fe}),mi=Fe({ngInjectableDef:Fe}),ao=Fe({ngInjectorDef:Fe});var Kn=(()=>((Kn=Kn||{})[Kn.Default=0]="Default",Kn[Kn.Host=1]="Host",Kn[Kn.Self=2]="Self",Kn[Kn.SkipSelf=4]="SkipSelf",Kn[Kn.Optional=8]="Optional",Kn))();let qt;function Ye(f){const g=qt;return qt=f,g}function At(f,g,m){const _=Or(f);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:m&Kn.Optional?null:void 0!==g?g:void se(Ae(f),"Injector")}function dt(f){return{toString:f}.toString()}var $e=(()=>(($e=$e||{})[$e.OnPush=0]="OnPush",$e[$e.Default=1]="Default",$e))(),ve=(()=>{return(f=ve||(ve={}))[f.Emulated=0]="Emulated",f[f.None=2]="None",f[f.ShadowDom=3]="ShadowDom",ve;var f})();const Ie="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Pn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tn=Ie||"undefined"!=typeof global&&global||Tt||Pn,Vt={},fn=[],mn=Fe({\u0275cmp:Fe}),oe=Fe({\u0275dir:Fe}),er=Fe({\u0275pipe:Fe}),Lr=Fe({\u0275mod:Fe}),Er=Fe({\u0275fac:Fe}),dr=Fe({__NG_ELEMENT_ID__:Fe});let Bt=0;function wt(f){return dt(()=>{const m={},_={type:f.type,providersResolver:null,decls:f.decls,vars:f.vars,factory:null,template:f.template||null,consts:f.consts||null,ngContentSelectors:f.ngContentSelectors,hostBindings:f.hostBindings||null,hostVars:f.hostVars||0,hostAttrs:f.hostAttrs||null,contentQueries:f.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:f.exportAs||null,onPush:f.changeDetection===$e.OnPush,directiveDefs:null,pipeDefs:null,selectors:f.selectors||fn,viewQuery:f.viewQuery||null,features:f.features||null,data:f.data||{},encapsulation:f.encapsulation||ve.Emulated,id:"c",styles:f.styles||fn,_:null,setInput:null,schemas:f.schemas||null,tView:null},b=f.directives,D=f.features,A=f.pipes;return _.id+=Bt++,_.inputs=Dt(f.inputs,m),_.outputs=Dt(f.outputs),D&&D.forEach(H=>H(_)),_.directiveDefs=b?()=>("function"==typeof b?b():b).map(xe):null,_.pipeDefs=A?()=>("function"==typeof A?A():A).map(Nt):null,_})}function xe(f){return ft(f)||function je(f){return f[oe]||null}(f)}function Nt(f){return function kt(f){return f[er]||null}(f)}const an={};function vr(f){return dt(()=>{const g={type:f.type,bootstrap:f.bootstrap||fn,declarations:f.declarations||fn,imports:f.imports||fn,exports:f.exports||fn,transitiveCompileScopes:null,schemas:f.schemas||null,id:f.id||null};return null!=f.id&&(an[f.id]=f.type),g})}function hr(f,g){return dt(()=>{const m=pe(f,!0);m.declarations=g.declarations||fn,m.imports=g.imports||fn,m.exports=g.exports||fn})}function Dt(f,g){if(null==f)return Vt;const m={};for(const _ in f)if(f.hasOwnProperty(_)){let b=f[_],D=b;Array.isArray(b)&&(D=b[1],b=b[0]),m[b]=_,g&&(g[b]=D)}return m}const Ct=wt;function Ke(f){return{type:f.type,name:f.name,factory:null,pure:!1!==f.pure,onDestroy:f.type.prototype.ngOnDestroy||null}}function ft(f){return f[mn]||null}function pe(f,g){const m=f[Lr]||null;if(!m&&!0===g)throw new Error(`Type ${Ae(f)} does not have '\u0275mod' property.`);return m}function wn(f){return Array.isArray(f)&&"object"==typeof f[1]}function ki(f){return Array.isArray(f)&&!0===f[1]}function no(f){return 0!=(8&f.flags)}function Bo(f){return 2==(2&f.flags)}function Xo(f){return 1==(1&f.flags)}function qe(f){return null!==f.template}function No(f){return 0!=(512&f[2])}function Jo(f,g){return f.hasOwnProperty(Er)?f[Er]:null}class Xl{constructor(g,m,_){this.previousValue=g,this.currentValue=m,this.firstChange=_}isFirstChange(){return this.firstChange}}function Xa(){return ms}function ms(f){return f.type.prototype.ngOnChanges&&(f.setInput=Za),Fo}function Fo(){const f=ea(this),g=null==f?void 0:f.current;if(g){const m=f.previous;if(m===Vt)f.previous=g;else for(let _ in g)m[_]=g[_];f.current=null,this.ngOnChanges(g)}}function Za(f,g,m,_){const b=ea(f)||function jo(f,g){return f[Is]=g}(f,{previous:Vt,current:null}),D=b.current||(b.current={}),A=b.previous,H=this.declaredInputs[m],Y=A[H];D[H]=new Xl(Y&&Y.currentValue,g,A===Vt),f[_]=g}Xa.ngInherit=!0;const Is="__ngSimpleChanges__";function ea(f){return f[Is]||null}let Ja;function ta(f){Ja=f}function pa(){return void 0!==Ja?Ja:"undefined"!=typeof document?document:void 0}function zi(f){return!!f.listen}const J={createRenderer:(f,g)=>pa()};function Z(f){for(;Array.isArray(f);)f=f[0];return f}function tn(f,g){return Z(g[f])}function gn(f,g){return Z(g[f.index])}function Di(f,g){return f.data[g]}function ai(f,g){return f[g]}function Zr(f,g){const m=g[f];return wn(m)?m:m[0]}function si(f){return 4==(4&f[2])}function Ji(f){return 128==(128&f[2])}function Ai(f,g){return null==g?null:f[g]}function ee(f){f[18]=0}function $(f,g){f[5]+=g;let m=f,_=f[3];for(;null!==_&&(1===g&&1===m[5]||-1===g&&0===m[5]);)_[5]+=g,m=_,_=_[3]}const B={lFrame:Dr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wo(){return B.bindingsEnabled}function Mn(){return B.lFrame.lView}function li(){return B.lFrame.tView}function Ql(f){return B.lFrame.contextLView=f,f[8]}function uo(){let f=Jl();for(;null!==f&&64===f.type;)f=f.parent;return f}function Jl(){return B.lFrame.currentTNode}function na(f,g){const m=B.lFrame;m.currentTNode=f,m.isParent=g}function sl(){return B.lFrame.isParent}function j(){B.lFrame.isParent=!1}function He(){return B.isInCheckNoChangesMode}function _t(f){B.isInCheckNoChangesMode=f}function nn(){const f=B.lFrame;let g=f.bindingRootIndex;return-1===g&&(g=f.bindingRootIndex=f.tView.bindingStartIndex),g}function tr(){return B.lFrame.bindingIndex}function re(){return B.lFrame.bindingIndex++}function P(f){const g=B.lFrame,m=g.bindingIndex;return g.bindingIndex=g.bindingIndex+f,m}function ge(f,g){const m=B.lFrame;m.bindingIndex=m.bindingRootIndex=f,pt(g)}function pt(f){B.lFrame.currentDirectiveIndex=f}function vt(f){const g=B.lFrame.currentDirectiveIndex;return-1===g?null:f[g]}function Ht(){return B.lFrame.currentQueryIndex}function Qt(f){B.lFrame.currentQueryIndex=f}function Gn(f){const g=f[1];return 2===g.type?g.declTNode:1===g.type?f[6]:null}function Bn(f,g,m){if(m&Kn.SkipSelf){let b=g,D=f;for(;!(b=b.parent,null!==b||m&Kn.Host||(b=Gn(D),null===b||(D=D[15],10&b.type))););if(null===b)return!1;g=b,f=D}const _=B.lFrame=Wr();return _.currentTNode=g,_.lView=f,!0}function mr(f){const g=Wr(),m=f[1];B.lFrame=g,g.currentTNode=m.firstChild,g.lView=f,g.tView=m,g.contextLView=f,g.bindingIndex=m.bindingStartIndex,g.inI18n=!1}function Wr(){const f=B.lFrame,g=null===f?null:f.child;return null===g?Dr(f):g}function Dr(f){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:f,child:null,inI18n:!1};return null!==f&&(f.child=g),g}function Nr(){const f=B.lFrame;return B.lFrame=f.parent,f.currentTNode=null,f.lView=null,f}const ui=Nr;function qi(){const f=Nr();f.isParent=!0,f.tView=null,f.selectedIndex=-1,f.contextLView=null,f.elementDepthCount=0,f.currentDirectiveIndex=-1,f.currentNamespace=null,f.bindingRootIndex=-1,f.bindingIndex=-1,f.currentQueryIndex=0}function pi(){return B.lFrame.selectedIndex}function To(f){B.lFrame.selectedIndex=f}function Ci(){const f=B.lFrame;return Di(f.tView,f.selectedIndex)}function Co(){B.lFrame.currentNamespace="svg"}function Xi(f,g){for(let m=g.directiveStart,_=g.directiveEnd;m<_;m++){const D=f.data[m].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:H,ngAfterViewInit:Y,ngAfterViewChecked:ie,ngOnDestroy:me}=D;A&&(f.contentHooks||(f.contentHooks=[])).push(-m,A),H&&((f.contentHooks||(f.contentHooks=[])).push(m,H),(f.contentCheckHooks||(f.contentCheckHooks=[])).push(m,H)),Y&&(f.viewHooks||(f.viewHooks=[])).push(-m,Y),ie&&((f.viewHooks||(f.viewHooks=[])).push(m,ie),(f.viewCheckHooks||(f.viewCheckHooks=[])).push(m,ie)),null!=me&&(f.destroyHooks||(f.destroyHooks=[])).push(m,me)}}function ns(f,g,m){Sr(f,g,3,m)}function ec(f,g,m,_){(3&f[2])===m&&Sr(f,g,m,_)}function ur(f,g){let m=f[2];(3&m)===g&&(m&=2047,m+=1,f[2]=m)}function Sr(f,g,m,_){const D=null!=_?_:-1,A=g.length-1;let H=0;for(let Y=void 0!==_?65535&f[18]:0;Y<A;Y++)if("number"==typeof g[Y+1]){if(H=g[Y],null!=_&&H>=_)break}else g[Y]<0&&(f[18]+=65536),(H<D||-1==D)&&(xr(f,m,g,Y),f[18]=(4294901760&f[18])+Y+2),Y++}function xr(f,g,m,_){const b=m[_]<0,D=m[_+1],H=f[b?-m[_]:m[_]];if(b){if(f[2]>>11<f[18]>>16&&(3&f[2])===g){f[2]+=2048;try{D.call(H)}finally{}}}else try{D.call(H)}finally{}}class Fr{constructor(g,m,_){this.factory=g,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=_}}function xa(f,g,m){const _=zi(f);let b=0;for(;b<m.length;){const D=m[b];if("number"==typeof D){if(0!==D)break;b++;const A=m[b++],H=m[b++],Y=m[b++];_?f.setAttribute(g,H,Y,A):g.setAttributeNS(A,H,Y)}else{const A=D,H=m[++b];ll(A)?_&&f.setProperty(g,A,H):_?f.setAttribute(g,A,H):g.setAttribute(A,H),b++}}return b}function Ns(f){return 3===f||4===f||6===f}function ll(f){return 64===f.charCodeAt(0)}function xo(f,g){if(null!==g&&0!==g.length)if(null===f||0===f.length)f=g.slice();else{let m=-1;for(let _=0;_<g.length;_++){const b=g[_];"number"==typeof b?m=b:0===m||xh(f,m,b,null,-1===m||2===m?g[++_]:null)}}return f}function xh(f,g,m,_,b){let D=0,A=f.length;if(-1===g)A=-1;else for(;D<f.length;){const H=f[D++];if("number"==typeof H){if(H===g){A=-1;break}if(H>g){A=D-1;break}}}for(;D<f.length;){const H=f[D];if("number"==typeof H)break;if(H===m){if(null===_)return void(null!==b&&(f[D+1]=b));if(_===f[D+1])return void(f[D+2]=b)}D++,null!==_&&D++,null!==b&&D++}-1!==A&&(f.splice(A,0,g),D=A+1),f.splice(D++,0,m),null!==_&&f.splice(D++,0,_),null!==b&&f.splice(D++,0,b)}function Mh(f){return-1!==f}function is(f){return 32767&f}function Zc(f,g){let m=function jp(f){return f>>16}(f),_=g;for(;m>0;)_=_[15],m--;return _}let ks=!0;function Ma(f){const g=ks;return ks=f,g}let k=0;function te(f,g){const m=at(f,g);if(-1!==m)return m;const _=g[1];_.firstCreatePass&&(f.injectorIndex=g.length,Te(_.data,f),Te(g,null),Te(_.blueprint,null));const b=yt(f,g),D=f.injectorIndex;if(Mh(b)){const A=is(b),H=Zc(b,g),Y=H[1].data;for(let ie=0;ie<8;ie++)g[D+ie]=H[A+ie]|Y[A+ie]}return g[D+8]=b,D}function Te(f,g){f.push(0,0,0,0,0,0,0,0,g)}function at(f,g){return-1===f.injectorIndex||f.parent&&f.parent.injectorIndex===f.injectorIndex||null===g[f.injectorIndex+8]?-1:f.injectorIndex}function yt(f,g){if(f.parent&&-1!==f.parent.injectorIndex)return f.parent.injectorIndex;let m=0,_=null,b=g;for(;null!==b;){const D=b[1],A=D.type;if(_=2===A?D.declTNode:1===A?b[6]:null,null===_)return-1;if(m++,b=b[15],-1!==_.injectorIndex)return _.injectorIndex|m<<16}return-1}function hn(f,g,m){!function Q(f,g,m){let _;"string"==typeof m?_=m.charCodeAt(0)||0:m.hasOwnProperty(dr)&&(_=m[dr]),null==_&&(_=m[dr]=k++);const b=255&_;g.data[f+(b>>5)]|=1<<b}(f,g,m)}function ti(f,g,m){if(m&Kn.Optional)return f;se(g,"NodeInjector")}function yr(f,g,m,_){if(m&Kn.Optional&&void 0===_&&(_=null),0==(m&(Kn.Self|Kn.Host))){const b=f[9],D=Ye(void 0);try{return b?b.get(g,_,m&Kn.Optional):At(g,_,m&Kn.Optional)}finally{Ye(D)}}return ti(_,g,m)}function ji(f,g,m,_=Kn.Default,b){if(null!==f){const D=function Qc(f){if("string"==typeof f)return f.charCodeAt(0)||0;const g=f.hasOwnProperty(dr)?f[dr]:void 0;return"number"==typeof g?g>=0?255&g:So:g}(m);if("function"==typeof D){if(!Bn(g,f,_))return _&Kn.Host?ti(b,m,_):yr(g,m,_,b);try{const A=D(_);if(null!=A||_&Kn.Optional)return A;se(m)}finally{ui()}}else if("number"==typeof D){let A=null,H=at(f,g),Y=-1,ie=_&Kn.Host?g[16][6]:null;for((-1===H||_&Kn.SkipSelf)&&(Y=-1===H?yt(f,g):g[H+8],-1!==Y&&Yp(_,!1)?(A=g[1],H=is(Y),g=Zc(Y,g)):H=-1);-1!==H;){const me=g[1];if(nc(D,H,me.data)){const Ze=io(H,g,m,A,_,ie);if(Ze!==Li)return Ze}Y=g[H+8],-1!==Y&&Yp(_,g[1].data[H+8]===ie)&&nc(D,H,g)?(A=me,H=is(Y),g=Zc(Y,g)):H=-1}}}return yr(g,m,_,b)}const Li={};function So(){return new Sd(uo(),Mn())}function io(f,g,m,_,b,D){const A=g[1],H=A.data[f+8],me=tc(H,A,m,null==_?Bo(H)&&ks:_!=A&&0!=(3&H.type),b&Kn.Host&&D===H);return null!==me?Mc(g,A,me,H):Li}function tc(f,g,m,_,b){const D=f.providerIndexes,A=g.data,H=1048575&D,Y=f.directiveStart,me=D>>20,Et=b?H+me:f.directiveEnd;for(let Ut=_?H:H+me;Ut<Et;Ut++){const En=A[Ut];if(Ut<Y&&m===En||Ut>=Y&&En.type===m)return Ut}if(b){const Ut=A[Y];if(Ut&&qe(Ut)&&Ut.type===m)return Y}return null}function Mc(f,g,m,_){let b=f[m];const D=g.data;if(function Ta(f){return f instanceof Fr}(b)){const A=b;A.resolving&&function On(f,g){const m=g?`. Dependency path: ${g.join(" > ")} > ${f}`:"";throw new lt(-200,`Circular dependency in DI detected for ${f}${m}`)}(Jt(D[m]));const H=Ma(A.canSeeViewProviders);A.resolving=!0;const Y=A.injectImpl?Ye(A.injectImpl):null;Bn(f,_,Kn.Default);try{b=f[m]=A.factory(void 0,D,f,_),g.firstCreatePass&&m>=_.directiveStart&&function ys(f,g,m){const{ngOnChanges:_,ngOnInit:b,ngDoCheck:D}=g.type.prototype;if(_){const A=ms(g);(m.preOrderHooks||(m.preOrderHooks=[])).push(f,A),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(f,A)}b&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-f,b),D&&((m.preOrderHooks||(m.preOrderHooks=[])).push(f,D),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(f,D))}(m,D[m],g)}finally{null!==Y&&Ye(Y),Ma(H),A.resolving=!1,ui()}}return b}function nc(f,g,m){return!!(m[g+(f>>5)]&1<<f)}function Yp(f,g){return!(f&Kn.Self||f&Kn.Host&&g)}class Sd{constructor(g,m){this._tNode=g,this._lView=m}get(g,m,_){return ji(this._tNode,this._lView,g,_,m)}}function Ph(f){return dt(()=>{const g=f.prototype.constructor,m=g[Er]||S1(g),_=Object.prototype;let b=Object.getPrototypeOf(f.prototype).constructor;for(;b&&b!==_;){const D=b[Er]||S1(b);if(D&&D!==m)return D;b=Object.getPrototypeOf(b)}return D=>new D})}function S1(f){return Xe(f)?()=>{const g=S1(be(f));return g&&g()}:Jo(f)}function b1(f){return function ir(f,g){if("class"===g)return f.classes;if("style"===g)return f.styles;const m=f.attrs;if(m){const _=m.length;let b=0;for(;b<_;){const D=m[b];if(Ns(D))break;if(0===D)b+=2;else if("number"==typeof D)for(b++;b<_&&"string"==typeof m[b];)b++;else{if(D===g)return m[b+1];b+=2}}}return null}(uo(),f)}const ho="__parameters__",bd="__prop__metadata__";function Ed(f){return function(...m){if(f){const _=f(...m);for(const b in _)this[b]=_[b]}}}function Cs(f,g,m){return dt(()=>{const _=Ed(g);function b(...D){if(this instanceof b)return _.apply(this,D),this;const A=new b(...D);return H.annotation=A,H;function H(Y,ie,me){const Ze=Y.hasOwnProperty(ho)?Y[ho]:Object.defineProperty(Y,ho,{value:[]})[ho];for(;Ze.length<=me;)Ze.push(null);return(Ze[me]=Ze[me]||[]).push(A),Y}}return m&&(b.prototype=Object.create(m.prototype)),b.prototype.ngMetadataName=f,b.annotationCls=b,b})}function os(f,g,m,_){return dt(()=>{const b=Ed(g);function D(...A){if(this instanceof D)return b.apply(this,A),this;const H=new D(...A);return function Y(ie,me){const Ze=ie.constructor,Et=Ze.hasOwnProperty(bd)?Ze[bd]:Object.defineProperty(Ze,bd,{value:{}})[bd];Et[me]=Et.hasOwnProperty(me)&&Et[me]||[],Et[me].unshift(H),_&&_(ie,me,...A)}}return m&&(D.prototype=Object.create(m.prototype)),D.prototype.ngMetadataName=f,D.annotationCls=D,D})}class Mo{constructor(g,m){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=gr({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}toString(){return`InjectionToken ${this._desc}`}}const E1=new Mo("AnalyzeForEntryComponents");class cl{}const D1=os("ContentChildren",(f,g={})=>Object.assign({selector:f,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},g),cl);function zs(f,g){void 0===g&&(g=f);for(let m=0;m<f.length;m++){let _=f[m];Array.isArray(_)?(g===f&&(g=f.slice(0,m)),zs(_,g)):g!==f&&g.push(_)}return g}function kl(f,g){f.forEach(m=>Array.isArray(m)?kl(m,g):g(m))}function Jc(f,g,m){g>=f.length?f.push(m):f.splice(g,0,m)}function Ah(f,g){return g>=f.length-1?f.pop():f.splice(g,1)[0]}function xu(f,g){const m=[];for(let _=0;_<f;_++)m.push(g);return m}function zo(f,g,m){let _=Ac(f,g);return _>=0?f[1|_]=m:(_=~_,function Nn(f,g,m,_){let b=f.length;if(b==g)f.push(m,_);else if(1===b)f.push(_,f[0]),f[0]=m;else{for(b--,f.push(f[b-1],f[b]);b>g;)f[b]=f[b-2],b--;f[g]=m,f[g+1]=_}}(f,_,g,m)),_}function Kp(f,g){const m=Ac(f,g);if(m>=0)return f[1|m]}function Ac(f,g){return function Mu(f,g,m){let _=0,b=f.length>>m;for(;b!==_;){const D=_+(b-_>>1),A=f[D<<m];if(g===A)return D<<m;A>g?b=D:_=D+1}return~(b<<m)}(f,g,1)}const xd={},Vl="__NG_DI_FLAG__",Md="ngTempTokenPath",R1=/\n/gm,ic="__source",w4=Fe({provide:String,useValue:Fe});let Ha;function va(f){const g=Ha;return Ha=f,g}function Vo(f,g=Kn.Default){if(void 0===Ha)throw new lt(203,"");return null===Ha?At(f,void 0,g):Ha.get(f,g&Kn.Optional?null:void 0,g)}function Ho(f,g=Kn.Default){return(function ue(){return qt}()||Vo)(be(f),g)}const mv=Ho;function Lh(f){const g=[];for(let m=0;m<f.length;m++){const _=be(f[m]);if(Array.isArray(_)){if(0===_.length)throw new lt(900,"");let b,D=Kn.Default;for(let A=0;A<_.length;A++){const H=_[A],Y=Qp(H);"number"==typeof Y?-1===Y?b=H.token:D|=Y:b=H}g.push(Ho(b,D))}else g.push(Ho(_))}return g}function Rc(f,g){return f[Vl]=g,f.prototype[Vl]=g,f}function Qp(f){return f[Vl]}const oc=Rc(Cs("Inject",f=>({token:f})),-1),Pd=Rc(Cs("Optional"),8),Pu=Rc(Cs("SkipSelf"),4);let tf,Ru;function Rd(f){var g;return(null===(g=function _s(){if(void 0===tf&&(tf=null,Tn.trustedTypes))try{tf=Tn.trustedTypes.createPolicy("angular",{createHTML:f=>f,createScript:f=>f,createScriptURL:f=>f})}catch(f){}return tf}())||void 0===g?void 0:g.createHTML(f))||f}function wv(f){var g;return(null===(g=function V1(){if(void 0===Ru&&(Ru=null,Tn.trustedTypes))try{Ru=Tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:f=>f,createScript:f=>f,createScriptURL:f=>f})}catch(f){}return Ru}())||void 0===g?void 0:g.createHTML(f))||f}class Lu{constructor(g){this.changingThisBreaksApplicationSecurity=g}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Iu extends Lu{getTypeName(){return"HTML"}}class H1 extends Lu{getTypeName(){return"Style"}}class Sv extends Lu{getTypeName(){return"Script"}}class Nu extends Lu{getTypeName(){return"URL"}}class G1 extends Lu{getTypeName(){return"ResourceURL"}}function Lc(f){return f instanceof Lu?f.changingThisBreaksApplicationSecurity:f}function ku(f,g){const m=bv(f);if(null!=m&&m!==g){if("ResourceURL"===m&&"URL"===g)return!0;throw new Error(`Required a safe ${g}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===g}function bv(f){return f instanceof Lu&&f.getTypeName()||null}function rf(f){return new Iu(f)}function O4(f){return new H1(f)}function Fd(f){return new Sv(f)}function Ev(f){return new Nu(f)}function T4(f){return new G1(f)}class B1{constructor(g){this.inertDocumentHelper=g}getInertBodyElement(g){g="<body><remove></remove>"+g;try{const m=(new window.DOMParser).parseFromString(Rd(g),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(g):(m.removeChild(m.firstChild),m)}catch(m){return null}}}class x4{constructor(g){if(this.defaultDoc=g,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const _=this.inertDocument.createElement("body");m.appendChild(_)}}getInertBodyElement(g){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=Rd(g),m;const _=this.inertDocument.createElement("body");return _.innerHTML=Rd(g),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(_),_}stripCustomNsAttrs(g){const m=g.attributes;for(let b=m.length-1;0<b;b--){const A=m.item(b).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&g.removeAttribute(A)}let _=g.firstChild;for(;_;)_.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(_),_=_.nextSibling}}const M4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,eu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vi(f){return(f=String(f)).match(M4)||f.match(eu)?f:"unsafe:"+f}function hl(f){const g={};for(const m of f.split(","))g[m]=!0;return g}function Id(...f){const g={};for(const m of f)for(const _ in m)m.hasOwnProperty(_)&&(g[_]=!0);return g}const W1=hl("area,br,col,hr,img,wbr"),Po=hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vs=hl("rp,rt"),Pa=Id(W1,Id(Po,hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Id(Vs,hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Id(Vs,Po)),Nd=hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gl=hl("srcset"),sf=Id(Nd,Gl,hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A4=hl("script,style,template");class R4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(g){let m=g.firstChild,_=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?_=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,_&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let b=this.checkClobberedElement(m,m.nextSibling);if(b){m=b;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(g){const m=g.nodeName.toLowerCase();if(!Pa.hasOwnProperty(m))return this.sanitizedSomething=!0,!A4.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const _=g.attributes;for(let b=0;b<_.length;b++){const D=_.item(b),A=D.name,H=A.toLowerCase();if(!sf.hasOwnProperty(H)){this.sanitizedSomething=!0;continue}let Y=D.value;Nd[H]&&(Y=vi(Y)),Gl[H]&&(f=Y,Y=(f=String(f)).split(",").map(g=>vi(g.trim())).join(", ")),this.buf.push(" ",A,'="',Tv(Y),'"')}var f;return this.buf.push(">"),!0}endElement(g){const m=g.nodeName.toLowerCase();Pa.hasOwnProperty(m)&&!W1.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(g){this.buf.push(Tv(g))}checkClobberedElement(g,m){if(m&&(g.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${g.outerHTML}`);return m}}const Vu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kh=/([^\#-~ |!])/g;function Tv(f){return f.replace(/&/g,"&amp;").replace(Vu,function(g){return"&#"+(1024*(g.charCodeAt(0)-55296)+(g.charCodeAt(1)-56320)+65536)+";"}).replace(kh,function(g){return"&#"+g.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kd;function zd(f,g){let m=null;try{kd=kd||function af(f){const g=new x4(f);return function Dv(){try{return!!(new window.DOMParser).parseFromString(Rd(""),"text/html")}catch(f){return!1}}()?new B1(g):g}(f);let _=g?String(g):"";m=kd.getInertBodyElement(_);let b=5,D=_;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,_=D,D=m.innerHTML,m=kd.getInertBodyElement(_)}while(_!==D);return Rd((new R4).sanitizeChildren(lf(m)||m))}finally{if(m){const _=lf(m)||m;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function lf(f){return"content"in f&&function Vd(f){return f.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===f.nodeName}(f)?f.content:null}var Lo=(()=>((Lo=Lo||{})[Lo.NONE=0]="NONE",Lo[Lo.HTML=1]="HTML",Lo[Lo.STYLE=2]="STYLE",Lo[Lo.SCRIPT=3]="SCRIPT",Lo[Lo.URL=4]="URL",Lo[Lo.RESOURCE_URL=5]="RESOURCE_URL",Lo))();function xv(f){const g=zh();return g?wv(g.sanitize(Lo.HTML,f)||""):ku(f,"HTML")?wv(Lc(f)):zd(pa(),ct(f))}function U1(f){const g=zh();return g?g.sanitize(Lo.URL,f)||"":ku(f,"URL")?Lc(f):vi(ct(f))}function zh(){const f=Mn();return f&&f[12]}const Y1="__ngContext__";function Ga(f,g){f[Y1]=g}function K1(f){const g=function sc(f){return f[Y1]||null}(f);return g?Array.isArray(g)?g:g.lView:null}function $1(f){return f.ngOriginalError}function Ba(f,...g){f.error(...g)}class tu{constructor(){this._console=console}handleError(g){const m=this._findOriginalError(g),_=function ws(f){return f&&f.ngErrorLogger||Ba}(g);_(this._console,"ERROR",g),m&&_(this._console,"ORIGINAL ERROR",m)}_findOriginalError(g){let m=g&&$1(g);for(;m&&$1(m);)m=$1(m);return m||null}}const Z1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tn))();function lr(f){return f.ownerDocument.defaultView}function lc(f){return f instanceof Function?f():f}var ma=(()=>((ma=ma||{})[ma.Important=1]="Important",ma[ma.DashCase=2]="DashCase",ma))();function pf(f,g){return undefined(f,g)}function ru(f){const g=f[3];return ki(g)?g[3]:g}function Uh(f){return vf(f[13])}function ju(f){return vf(f[4])}function vf(f){for(;null!==f&&!ki(f);)f=f[4];return f}function Gd(f,g,m,_,b){if(null!=_){let D,A=!1;ki(_)?D=_:wn(_)&&(A=!0,_=_[0]);const H=Z(_);0===f&&null!==m?null==b?ig(g,m,H):Yu(g,m,H,b||null,!0):1===f&&null!==m?Yu(g,m,H,b||null,!0):2===f?function yf(f,g,m){const _=Nc(f,g);_&&function zv(f,g,m,_){zi(f)?f.removeChild(g,m,_):g.removeChild(m)}(f,_,g,m)}(g,H,A):3===f&&g.destroyNode(H),null!=D&&function Gv(f,g,m,_,b){const D=m[7];D!==Z(m)&&Gd(g,f,_,D,b);for(let H=10;H<m.length;H++){const Y=m[H];uc(Y[1],Y,f,g,_,D)}}(g,f,D,m,b)}}function Yh(f,g,m){if(zi(f))return f.createElement(g,m);{const _=null!==m?function Uo(f){const g=f.toLowerCase();return"svg"===g?"http://www.w3.org/2000/svg":"math"===g?"http://www.w3.org/1998/MathML/":null}(m):null;return null===_?f.createElement(g):f.createElementNS(_,g)}}function ng(f,g){const m=f[9],_=m.indexOf(g),b=g[3];1024&g[2]&&(g[2]&=-1025,$(b,-1)),m.splice(_,1)}function Bl(f,g){if(f.length<=10)return;const m=10+g,_=f[m];if(_){const b=_[17];null!==b&&b!==f&&ng(b,_),g>0&&(f[m-1][4]=_[4]);const D=Ah(f,10+g);!function ci(f,g){uc(f,g,g[11],2,null,null),g[0]=null,g[6]=null}(_[1],_);const A=D[19];null!==A&&A.detachView(D[1]),_[3]=null,_[4]=null,_[2]&=-129}return _}function rg(f,g){if(!(256&g[2])){const m=g[11];zi(m)&&m.destroyNode&&uc(f,g,m,3,null,null),function Iv(f){let g=f[13];if(!g)return Kh(f[1],f);for(;g;){let m=null;if(wn(g))m=g[13];else{const _=g[10];_&&(m=_)}if(!m){for(;g&&!g[4]&&g!==f;)wn(g)&&Kh(g[1],g),g=g[3];null===g&&(g=f),wn(g)&&Kh(g[1],g),m=g&&g[4]}g=m}}(g)}}function Kh(f,g){if(!(256&g[2])){g[2]&=-129,g[2]|=256,function Y3(f,g){let m;if(null!=f&&null!=(m=f.destroyHooks))for(let _=0;_<m.length;_+=2){const b=g[m[_]];if(!(b instanceof Fr)){const D=m[_+1];if(Array.isArray(D))for(let A=0;A<D.length;A+=2){const H=b[D[A]],Y=D[A+1];try{Y.call(H)}finally{}}else try{D.call(b)}finally{}}}}(f,g),function $h(f,g){const m=f.cleanup,_=g[7];let b=-1;if(null!==m)for(let D=0;D<m.length-1;D+=2)if("string"==typeof m[D]){const A=m[D+1],H="function"==typeof A?A(g):Z(g[A]),Y=_[b=m[D+2]],ie=m[D+3];"boolean"==typeof ie?H.removeEventListener(m[D],Y,ie):ie>=0?_[b=ie]():_[b=-ie].unsubscribe(),D+=2}else{const A=_[b=m[D+1]];m[D].call(A)}if(null!==_){for(let D=b+1;D<_.length;D++)_[D]();g[7]=null}}(f,g),1===g[1].type&&zi(g[11])&&g[11].destroy();const m=g[17];if(null!==m&&ki(g[3])){m!==g[3]&&ng(m,g);const _=g[19];null!==_&&_.detachView(f)}}}function Nv(f,g,m){return function U4(f,g,m){let _=g;for(;null!==_&&40&_.type;)_=(g=_).parent;if(null===_)return m[0];if(2&_.flags){const b=f.data[_.directiveStart].encapsulation;if(b===ve.None||b===ve.Emulated)return null}return gn(_,m)}(f,g.parent,m)}function Yu(f,g,m,_,b){zi(f)?f.insertBefore(g,m,_,b):g.insertBefore(m,_,b)}function ig(f,g,m){zi(f)?f.appendChild(g,m):g.appendChild(m)}function kv(f,g,m,_,b){null!==_?Yu(f,g,m,_,b):ig(f,g,m)}function Nc(f,g){return zi(f)?f.parentNode(g):g.parentNode}function Wa(f,g,m){return og(f,g,m)}let og=function Vv(f,g,m){return 40&f.type?gn(f,m):null};function mf(f,g,m,_){const b=Nv(f,_,g),D=g[11],H=Wa(_.parent||g[6],_,g);if(null!=b)if(Array.isArray(m))for(let Y=0;Y<m.length;Y++)kv(D,b,m[Y],H,!1);else kv(D,b,m,H,!1)}function qh(f,g){if(null!==g){const m=g.type;if(3&m)return gn(g,f);if(4&m)return ag(-1,f[g.index]);if(8&m){const _=g.child;if(null!==_)return qh(f,_);{const b=f[g.index];return ki(b)?ag(-1,b):Z(b)}}if(32&m)return pf(g,f)()||Z(f[g.index]);{const _=ja(f,g);return null!==_?Array.isArray(_)?_[0]:qh(ru(f[16]),_):qh(f,g.next)}}return null}function ja(f,g){return null!==g?f[16][6].projection[g.projection]:null}function ag(f,g){const m=10+f+1;if(m<g.length){const _=g[m],b=_[1].firstChild;if(null!==b)return qh(_,b)}return g[7]}function sg(f,g,m,_,b,D,A){for(;null!=m;){const H=_[m.index],Y=m.type;if(A&&0===g&&(H&&Ga(Z(H),_),m.flags|=4),64!=(64&m.flags))if(8&Y)sg(f,g,m.child,_,b,D,!1),Gd(g,f,b,H,D);else if(32&Y){const ie=pf(m,_);let me;for(;me=ie();)Gd(g,f,b,me,D);Gd(g,f,b,H,D)}else 16&Y?Hv(f,g,_,m,b,D):Gd(g,f,b,H,D);m=A?m.projectionNext:m.next}}function uc(f,g,m,_,b,D){sg(m,_,f.firstChild,g,b,D,!1)}function Hv(f,g,m,_,b,D){const A=m[16],Y=A[6].projection[_.projection];if(Array.isArray(Y))for(let ie=0;ie<Y.length;ie++)Gd(g,f,b,Y[ie],D);else sg(f,g,Y,A[3],b,D,!0)}function Xh(f,g,m){zi(f)?f.setAttribute(g,"style",m):g.style.cssText=m}function Zh(f,g,m){zi(f)?""===m?f.removeAttribute(g,"class"):f.setAttribute(g,"class",m):g.className=m}function Cf(f,g,m){let _=f.length;for(;;){const b=f.indexOf(g,m);if(-1===b)return b;if(0===b||f.charCodeAt(b-1)<=32){const D=g.length;if(b+D===_||f.charCodeAt(b+D)<=32)return b}m=b+1}}const Qh="ng-template";function K4(f,g,m){let _=0;for(;_<f.length;){let b=f[_++];if(m&&"class"===b){if(b=f[_],-1!==Cf(b.toLowerCase(),g,0))return!0}else if(1===b){for(;_<f.length&&"string"==typeof(b=f[_++]);)if(b.toLowerCase()===g)return!0;return!1}}return!1}function Ku(f){return 4===f.type&&f.value!==Qh}function lg(f,g,m){return g===(4!==f.type||m?f.value:Qh)}function $4(f,g,m){let _=4;const b=f.attrs||[],D=function $u(f){for(let g=0;g<f.length;g++)if(Ns(f[g]))return g;return f.length}(b);let A=!1;for(let H=0;H<g.length;H++){const Y=g[H];if("number"!=typeof Y){if(!A)if(4&_){if(_=2|1&_,""!==Y&&!lg(f,Y,m)||""===Y&&1===g.length){if(Wl(_))return!1;A=!0}}else{const ie=8&_?Y:g[++H];if(8&_&&null!==f.attrs){if(!K4(f.attrs,ie,m)){if(Wl(_))return!1;A=!0}continue}const Ze=jv(8&_?"class":Y,b,Ku(f),m);if(-1===Ze){if(Wl(_))return!1;A=!0;continue}if(""!==ie){let Et;Et=Ze>D?"":b[Ze+1].toLowerCase();const Ut=8&_?Et:null;if(Ut&&-1!==Cf(Ut,ie,0)||2&_&&ie!==Et){if(Wl(_))return!1;A=!0}}}}else{if(!A&&!Wl(_)&&!Wl(Y))return!1;if(A&&Wl(Y))continue;A=!1,_=Y|1&_}}return Wl(_)||A}function Wl(f){return 0==(1&f)}function jv(f,g,m,_){if(null===g)return-1;let b=0;if(_||!m){let D=!1;for(;b<g.length;){const A=g[b];if(A===f)return b;if(3===A||6===A)D=!0;else{if(1===A||2===A){let H=g[++b];for(;"string"==typeof H;)H=g[++b];continue}if(4===A)break;if(0===A){b+=4;continue}}b+=D?1:2}return-1}return function cg(f,g){let m=f.indexOf(4);if(m>-1)for(m++;m<f.length;){const _=f[m];if("number"==typeof _)return-1;if(_===g)return m;m++}return-1}(g,f)}function _f(f,g,m=!1){for(let _=0;_<g.length;_++)if($4(f,g[_],m))return!0;return!1}function K3(f,g){e:for(let m=0;m<g.length;m++){const _=g[m];if(f.length===_.length){for(let b=0;b<f.length;b++)if(f[b]!==_[b])continue e;return!0}}return!1}function kn(f,g){return f?":not("+g.trim()+")":g}function bo(f){let g=f[0],m=1,_=2,b="",D=!1;for(;m<f.length;){let A=f[m];if("string"==typeof A)if(2&_){const H=f[++m];b+="["+A+(H.length>0?'="'+H+'"':"")+"]"}else 8&_?b+="."+A:4&_&&(b+=" "+A);else""!==b&&!Wl(A)&&(g+=kn(D,b),b=""),_=A,D=D||!Wl(_);m++}return""!==b&&(g+=kn(D,b)),g}const Kr={};function Yv(f){wf(li(),Mn(),pi()+f,He())}function wf(f,g,m,_){if(!_)if(3==(3&g[2])){const D=f.preOrderCheckHooks;null!==D&&ns(g,D,m)}else{const D=f.preOrderHooks;null!==D&&ec(g,D,0,m)}To(m)}function Jh(f,g){return f<<17|g<<2}function jl(f){return f>>17&32767}function iu(f){return 2|f}function kc(f){return(131068&f)>>2}function Hi(f,g){return-131069&f|g<<2}function Io(f){return 1|f}function gl(f,g){const m=f.contentQueries;if(null!==m)for(let _=0;_<m.length;_+=2){const b=m[_],D=m[_+1];if(-1!==D){const A=f.data[D];Qt(b),A.contentQueries(2,g[D],D)}}}function Ul(f,g,m,_,b,D,A,H,Y,ie){const me=g.blueprint.slice();return me[0]=b,me[2]=140|_,ee(me),me[3]=me[15]=f,me[8]=m,me[10]=A||f&&f[10],me[11]=H||f&&f[11],me[12]=Y||f&&f[12]||null,me[9]=ie||f&&f[9]||null,me[6]=D,me[16]=2==g.type?f[16]:me,me}function Yd(f,g,m,_,b){let D=f.data[g];if(null===D)D=function rp(f,g,m,_,b){const D=Jl(),A=sl(),Y=f.data[g]=function wg(f,g,m,_,b,D){return{type:m,index:_,insertBeforeIndex:null,injectorIndex:g?g.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?D:D&&D.parent,m,g,_,b);return null===f.firstChild&&(f.firstChild=Y),null!==D&&(A?null==D.child&&null!==Y.parent&&(D.child=Y):null===D.next&&(D.next=Y)),Y}(f,g,m,_,b),function F(){return B.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=m,D.value=_,D.attrs=b;const A=function ts(){const f=B.lFrame,g=f.currentTNode;return f.isParent?g:g.parent}();D.injectorIndex=null===A?-1:A.injectorIndex}return na(D,!0),D}function Kd(f,g,m,_){if(0===m)return-1;const b=g.length;for(let D=0;D<m;D++)g.push(_),f.blueprint.push(_),f.data.push(null);return b}function Xu(f,g,m){mr(g);try{const _=f.viewQuery;null!==_&&Rf(1,_,m);const b=f.template;null!==b&&cu(f,g,b,1,m),f.firstCreatePass&&(f.firstCreatePass=!1),f.staticContentQueries&&gl(f,g),f.staticViewQueries&&Rf(2,f.viewQuery,m);const D=f.components;null!==D&&function qu(f,g){for(let m=0;m<g.length;m++)p2(f,g[m])}(g,D)}catch(_){throw f.firstCreatePass&&(f.incompleteFirstPass=!0,f.firstCreatePass=!1),_}finally{g[2]&=-5,qi()}}function $d(f,g,m,_){const b=g[2];if(256==(256&b))return;mr(g);const D=He();try{ee(g),function Jr(f){return B.lFrame.bindingIndex=f}(f.bindingStartIndex),null!==m&&cu(f,g,m,2,_);const A=3==(3&b);if(!D)if(A){const ie=f.preOrderCheckHooks;null!==ie&&ns(g,ie,null)}else{const ie=f.preOrderHooks;null!==ie&&ec(g,ie,0,null),ur(g,0)}if(function gc(f){for(let g=Uh(f);null!==g;g=ju(g)){if(!g[2])continue;const m=g[9];for(let _=0;_<m.length;_++){const b=m[_],D=b[3];0==(1024&b[2])&&$(D,1),b[2]|=1024}}}(g),function s0(f){for(let g=Uh(f);null!==g;g=ju(g))for(let m=10;m<g.length;m++){const _=g[m],b=_[1];Ji(_)&&$d(b,_,b.template,_[8])}}(g),null!==f.contentQueries&&gl(f,g),!D)if(A){const ie=f.contentCheckHooks;null!==ie&&ns(g,ie)}else{const ie=f.contentHooks;null!==ie&&ec(g,ie,1),ur(g,1)}!function Xv(f,g){const m=f.hostBindingOpCodes;if(null!==m)try{for(let _=0;_<m.length;_++){const b=m[_];if(b<0)To(~b);else{const D=b,A=m[++_],H=m[++_];ge(A,D),H(2,g[D])}}}finally{To(-1)}}(f,g);const H=f.components;null!==H&&function mg(f,g){for(let m=0;m<g.length;m++)h2(f,g[m])}(g,H);const Y=f.viewQuery;if(null!==Y&&Rf(2,Y,_),!D)if(A){const ie=f.viewCheckHooks;null!==ie&&ns(g,ie)}else{const ie=f.viewHooks;null!==ie&&ec(g,ie,2),ur(g,2)}!0===f.firstUpdatePass&&(f.firstUpdatePass=!1),D||(g[2]&=-73),1024&g[2]&&(g[2]&=-1025,$(g[3],-1))}finally{qi()}}function o2(f,g,m,_){const b=g[10],D=!He(),A=si(g);try{D&&!A&&b.begin&&b.begin(),A&&Xu(f,g,_),$d(f,g,m,_)}finally{D&&!A&&b.end&&b.end()}}function cu(f,g,m,_,b){const D=pi(),A=2&_;try{To(-1),A&&g.length>20&&wf(f,g,20,He()),m(_,b)}finally{To(D)}}function yg(f,g,m){if(no(g)){const b=g.directiveEnd;for(let D=g.directiveStart;D<b;D++){const A=f.data[D];A.contentQueries&&A.contentQueries(1,m[D],D)}}}function Zu(f,g,m){!wo()||(function ip(f,g,m,_){const b=m.directiveStart,D=m.directiveEnd;f.firstCreatePass||te(m,g),Ga(_,g);const A=m.initialInputs;for(let H=b;H<D;H++){const Y=f.data[H],ie=qe(Y);ie&&o0(g,m,Y);const me=Mc(g,f,H,m);Ga(me,g),null!==A&&d2(0,H-b,me,Y,0,A),ie&&(Zr(m.index,g)[8]=me)}}(f,g,m,gn(m,g)),128==(128&m.flags)&&function bg(f,g,m){const _=m.directiveStart,b=m.directiveEnd,A=m.index,H=function Ge(){return B.lFrame.currentDirectiveIndex}();try{To(A);for(let Y=_;Y<b;Y++){const ie=f.data[Y],me=g[Y];pt(Y),(null!==ie.hostBindings||0!==ie.hostVars||null!==ie.hostAttrs)&&n0(ie,me)}}finally{To(-1),pt(H)}}(f,g,m))}function Of(f,g,m=gn){const _=g.localNames;if(null!==_){let b=g.index+1;for(let D=0;D<_.length;D+=2){const A=_[D+1],H=-1===A?m(g,f):f[A];f[b++]=H}}}function Zv(f){const g=f.tView;return null===g||g.incompleteFirstPass?f.tView=Us(1,null,f.template,f.decls,f.vars,f.directiveDefs,f.pipeDefs,f.viewQuery,f.schemas,f.consts):g}function Us(f,g,m,_,b,D,A,H,Y,ie){const me=20+_,Ze=me+b,Et=function a2(f,g){const m=[];for(let _=0;_<g;_++)m.push(_<f?null:Kr);return m}(me,Ze),Ut="function"==typeof ie?ie():ie;return Et[1]={type:f,blueprint:Et,template:m,queries:null,viewQuery:H,declTNode:g,data:Et.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:Y,consts:Ut,incompleteFirstPass:!1}}function Qv(f,g,m,_){const b=Tg(g);null===m?b.push(_):(b.push(m),f.firstCreatePass&&uu(f).push(_,b.length-1))}function Tf(f,g,m){for(let _ in f)if(f.hasOwnProperty(_)){const b=f[_];(m=null===m?{}:m).hasOwnProperty(_)?m[_].push(g,b):m[_]=[g,b]}return m}function Ys(f,g,m,_,b,D,A,H){const Y=gn(g,m);let me,ie=g.inputs;!H&&null!=ie&&(me=ie[_])?(xg(f,m,me,_,b),Bo(g)&&function s2(f,g){const m=Zr(g,f);16&m[2]||(m[2]|=64)}(m,g.index)):3&g.type&&(_=function sa(f){return"class"===f?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f}(_),b=null!=A?A(b,g.value||"",_):b,zi(D)?D.setProperty(Y,_,b):ll(_)||(Y.setProperty?Y.setProperty(_,b):Y[_]=b))}function Vc(f,g,m,_){let b=!1;if(wo()){const D=function c2(f,g,m){const _=f.directiveRegistry;let b=null;if(_)for(let D=0;D<_.length;D++){const A=_[D];_f(m,A.selectors,!1)&&(b||(b=[]),hn(te(m,g),f,A.type),qe(A)?(Eg(f,m),b.unshift(A)):b.push(A))}return b}(f,g,m),A=null===_?null:{"":-1};if(null!==D){b=!0,vl(m,f.data.length,D.length);for(let me=0;me<D.length;me++){const Ze=D[me];Ze.providersResolver&&Ze.providersResolver(Ze)}let H=!1,Y=!1,ie=Kd(f,g,D.length,null);for(let me=0;me<D.length;me++){const Ze=D[me];m.mergedAttrs=xo(m.mergedAttrs,Ze.hostAttrs),r0(f,m,g,ie,Ze),Mf(ie,Ze,A),null!==Ze.contentQueries&&(m.flags|=8),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(m.flags|=128);const Et=Ze.type.prototype;!H&&(Et.ngOnChanges||Et.ngOnInit||Et.ngDoCheck)&&((f.preOrderHooks||(f.preOrderHooks=[])).push(m.index),H=!0),!Y&&(Et.ngOnChanges||Et.ngDoCheck)&&((f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(m.index),Y=!0),ie++}!function Jv(f,g){const _=g.directiveEnd,b=f.data,D=g.attrs,A=[];let H=null,Y=null;for(let ie=g.directiveStart;ie<_;ie++){const me=b[ie],Ze=me.inputs,Et=null===D||Ku(g)?null:a0(Ze,D);A.push(Et),H=Tf(Ze,ie,H),Y=Tf(me.outputs,ie,Y)}null!==H&&(H.hasOwnProperty("class")&&(g.flags|=16),H.hasOwnProperty("style")&&(g.flags|=32)),g.initialInputs=A,g.inputs=H,g.outputs=Y}(f,m)}A&&function u2(f,g,m){if(g){const _=f.localNames=[];for(let b=0;b<g.length;b+=2){const D=m[g[b+1]];if(null==D)throw new lt(-301,!1);_.push(g[b],D)}}}(m,_,A)}return m.mergedAttrs=xo(m.mergedAttrs,m.attrs),b}function xf(f,g,m,_,b,D){const A=D.hostBindings;if(A){let H=f.hostBindingOpCodes;null===H&&(H=f.hostBindingOpCodes=[]);const Y=~g.index;(function t0(f){let g=f.length;for(;g>0;){const m=f[--g];if("number"==typeof m&&m<0)return m}return 0})(H)!=Y&&H.push(Y),H.push(_,b,A)}}function n0(f,g){null!==f.hostBindings&&f.hostBindings(1,g)}function Eg(f,g){g.flags|=2,(f.components||(f.components=[])).push(g.index)}function Mf(f,g,m){if(m){if(g.exportAs)for(let _=0;_<g.exportAs.length;_++)m[g.exportAs[_]]=f;qe(g)&&(m[""]=f)}}function vl(f,g,m){f.flags|=1,f.directiveStart=g,f.directiveEnd=g+m,f.providerIndexes=g}function r0(f,g,m,_,b){f.data[_]=b;const D=b.factory||(b.factory=Jo(b.type)),A=new Fr(D,qe(b),null);f.blueprint[_]=A,m[_]=A,xf(f,g,0,_,Kd(f,m,b.hostVars,Kr),b)}function o0(f,g,m){const _=gn(g,f),b=Zv(m),D=f[10],A=Ca(f,Ul(f,b,null,m.onPush?64:16,_,g,D,D.createRenderer(_,m),null,null));f[g.index]=A}function us(f,g,m,_,b,D){const A=gn(f,g);!function Dg(f,g,m,_,b,D,A){if(null==D)zi(f)?f.removeAttribute(g,b,m):g.removeAttribute(b);else{const H=null==A?ct(D):A(D,_||"",b);zi(f)?f.setAttribute(g,b,H,m):m?g.setAttributeNS(m,b,H):g.setAttribute(b,H)}}(g[11],A,D,f.value,m,_,b)}function d2(f,g,m,_,b,D){const A=D[g];if(null!==A){const H=_.setInput;for(let Y=0;Y<A.length;){const ie=A[Y++],me=A[Y++],Ze=A[Y++];null!==H?_.setInput(m,Ze,ie,me):m[me]=Ze}}}function a0(f,g){let m=null,_=0;for(;_<g.length;){const b=g[_];if(0!==b)if(5!==b){if("number"==typeof b)break;f.hasOwnProperty(b)&&(null===m&&(m=[]),m.push(b,f[b],g[_+1])),_+=2}else _+=2;else _+=4}return m}function Pf(f,g,m,_){return new Array(f,!0,!1,g,null,0,_,m,null,null)}function h2(f,g){const m=Zr(g,f);if(Ji(m)){const _=m[1];80&m[2]?$d(_,m,_.template,m[8]):m[5]>0&&Af(m)}}function Af(f){for(let _=Uh(f);null!==_;_=ju(_))for(let b=10;b<_.length;b++){const D=_[b];if(1024&D[2]){const A=D[1];$d(A,D,A.template,D[8])}else D[5]>0&&Af(D)}const m=f[1].components;if(null!==m)for(let _=0;_<m.length;_++){const b=Zr(m[_],f);Ji(b)&&b[5]>0&&Af(b)}}function p2(f,g){const m=Zr(g,f),_=m[1];(function Og(f,g){for(let m=g.length;m<f.blueprint.length;m++)g.push(f.blueprint[m])})(_,m),Xu(_,m,m[8])}function Ca(f,g){return f[13]?f[14][4]=g:f[13]=g,f[14]=g,g}function op(f){for(;f;){f[2]|=64;const g=ru(f);if(No(f)&&!g)return f;f=g}return null}function qd(f,g,m){const _=g[10];_.begin&&_.begin();try{$d(f,g,f.template,m)}catch(b){throw c0(g,b),b}finally{_.end&&_.end()}}function Ss(f){!function ap(f){for(let g=0;g<f.components.length;g++){const m=f.components[g],_=K1(m),b=_[1];o2(b,_,b.template,m)}}(f[8])}function Rf(f,g,m){Qt(0),g(f,m)}const g2=(()=>Promise.resolve(null))();function Tg(f){return f[7]||(f[7]=[])}function uu(f){return f.cleanup||(f.cleanup=[])}function l0(f,g,m){return(null===f||qe(f))&&(m=function Re(f){for(;Array.isArray(f);){if("object"==typeof f[1])return f;f=f[0]}return null}(m[g.index])),m[11]}function c0(f,g){const m=f[9],_=m?m.get(tu,null):null;_&&_.handleError(g)}function xg(f,g,m,_,b){for(let D=0;D<m.length;){const A=m[D++],H=m[D++],Y=g[A],ie=f.data[A];null!==ie.setInput?ie.setInput(Y,b,_,H):Y[H]=b}}function vc(f,g,m){const _=tn(g,f);!function tg(f,g,m){zi(f)?f.setValue(g,m):g.textContent=m}(f[11],_,m)}function Ff(f,g,m){let _=m?f.styles:null,b=m?f.classes:null,D=0;if(null!==g)for(let A=0;A<g.length;A++){const H=g[A];"number"==typeof H?D=H:1==D?b=Ve(b,H):2==D&&(_=Ve(_,H+": "+g[++A]+";"))}m?f.styles=_:f.stylesWithoutHost=_,m?f.classes=b:f.classesWithoutHost=b}const Lf=new Mo("INJECTOR",-1);class Xd{get(g,m=xd){if(m===xd){const _=new Error(`NullInjectorError: No provider for ${Ae(g)}!`);throw _.name="NullInjectorError",_}return m}}const bs=new Mo("Set Injector scope."),Zd={},y2={};let td;function Mg(){return void 0===td&&(td=new Xd),td}function nd(f,g=null,m=null,_){const b=mc(f,g,m,_);return b._resolveInjectorDefTypes(),b}function mc(f,g=null,m=null,_){return new C2(f,m,g||Mg(),_)}class C2{constructor(g,m,_,b=null){this.parent=_,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const D=[];m&&kl(m,H=>this.processProvider(H,g,m)),kl([g],H=>this.processInjectorType(H,[],D)),this.records.set(Lf,ml(void 0,this));const A=this.records.get(bs);this.scope=null!=A?A.value:null,this.source=b||("object"==typeof g?null:Ae(g))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(g=>g.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(g,m=xd,_=Kn.Default){this.assertNotDestroyed();const b=va(this),D=Ye(void 0);try{if(!(_&Kn.SkipSelf)){let H=this.records.get(g);if(void 0===H){const Y=function _2(f){return"function"==typeof f||"object"==typeof f&&f instanceof Mo}(g)&&Or(g);H=Y&&this.injectableDefInScope(Y)?ml(Pg(g),Zd):null,this.records.set(g,H)}if(null!=H)return this.hydrate(g,H)}return(_&Kn.Self?Mg():this.parent).get(g,m=_&Kn.Optional&&m===xd?null:m)}catch(A){if("NullInjectorError"===A.name){if((A[Md]=A[Md]||[]).unshift(Ae(g)),b)throw A;return function F1(f,g,m,_){const b=f[Md];throw g[ic]&&b.unshift(g[ic]),f.message=function yv(f,g,m,_=null){f=f&&"\n"===f.charAt(0)&&"\u0275"==f.charAt(1)?f.substr(2):f;let b=Ae(g);if(Array.isArray(g))b=g.map(Ae).join(" -> ");else if("object"==typeof g){let D=[];for(let A in g)if(g.hasOwnProperty(A)){let H=g[A];D.push(A+":"+("string"==typeof H?JSON.stringify(H):Ae(H)))}b=`{${D.join(", ")}}`}return`${m}${_?"("+_+")":""}[${b}]: ${f.replace(R1,"\n  ")}`}("\n"+f.message,b,m,_),f.ngTokenPath=b,f[Md]=null,f}(A,g,"R3InjectorError",this.source)}throw A}finally{Ye(D),va(b)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(g=>this.get(g))}toString(){const g=[];return this.records.forEach((_,b)=>g.push(Ae(b))),`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processInjectorType(g,m,_){if(!(g=be(g)))return!1;let b=rr(g);const D=null==b&&g.ngModule||void 0,A=void 0===D?g:D,H=-1!==_.indexOf(A);if(void 0!==D&&(b=rr(D)),null==b)return!1;if(null!=b.imports&&!H){let me;_.push(A);try{kl(b.imports,Ze=>{this.processInjectorType(Ze,m,_)&&(void 0===me&&(me=[]),me.push(Ze))})}finally{}if(void 0!==me)for(let Ze=0;Ze<me.length;Ze++){const{ngModule:Et,providers:Ut}=me[Ze];kl(Ut,En=>this.processProvider(En,Et,Ut||fn))}}this.injectorDefTypes.add(A);const Y=Jo(A)||(()=>new A);this.records.set(A,ml(Y,Zd));const ie=b.providers;if(null!=ie&&!H){const me=g;kl(ie,Ze=>this.processProvider(Ze,me,ie))}return void 0!==D&&void 0!==g.providers}processProvider(g,m,_){let b=cp(g=be(g))?g:be(g&&g.provide);const D=function Ag(f,g,m){return If(f)?ml(void 0,f.useValue):ml(lp(f),Zd)}(g);if(cp(g)||!0!==g.multi)this.records.get(b);else{let A=this.records.get(b);A||(A=ml(void 0,Zd,!0),A.factory=()=>Lh(A.multi),this.records.set(b,A)),b=g,A.multi.push(g)}this.records.set(b,D)}hydrate(g,m){return m.value===Zd&&(m.value=y2,m.value=m.factory()),"object"==typeof m.value&&m.value&&function q3(f){return null!==f&&"object"==typeof f&&"function"==typeof f.ngOnDestroy}(m.value)&&this.onDestroy.add(m.value),m.value}injectableDefInScope(g){if(!g.providedIn)return!1;const m=be(g.providedIn);return"string"==typeof m?"any"===m||m===this.scope:this.injectorDefTypes.has(m)}}function Pg(f){const g=Or(f),m=null!==g?g.factory:Jo(f);if(null!==m)return m;if(f instanceof Mo)throw new lt(204,!1);if(f instanceof Function)return function d0(f){const g=f.length;if(g>0)throw xu(g,"?"),new lt(204,!1);const m=function Ni(f){const g=f&&(f[pr]||f[mi]);if(g){const m=function Ui(f){if(f.hasOwnProperty("name"))return f.name;const g=(""+f).match(/^function\s*([^\s(]+)/);return null===g?"":g[1]}(f);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),g}return null}(f);return null!==m?()=>m.factory(f):()=>new f}(f);throw new lt(204,!1)}function lp(f,g,m){let _;if(cp(f)){const b=be(f);return Jo(b)||Pg(b)}if(If(f))_=()=>be(f.useValue);else if(function Nf(f){return!(!f||!f.useFactory)}(f))_=()=>f.useFactory(...Lh(f.deps||[]));else if(function Rg(f){return!(!f||!f.useExisting)}(f))_=()=>Ho(be(f.useExisting));else{const b=be(f&&(f.useClass||f.provide));if(!function h0(f){return!!f.deps}(f))return Jo(b)||Pg(b);_=()=>new b(...Lh(f.deps))}return _}function ml(f,g,m=!1){return{factory:f,value:g,multi:m?[]:void 0}}function If(f){return null!==f&&"object"==typeof f&&w4 in f}function cp(f){return"function"==typeof f}let _a=(()=>{class f{static create(m,_){var b;if(Array.isArray(m))return nd({name:""},_,m,"");{const D=null!==(b=m.name)&&void 0!==b?b:"";return nd({name:D},m.parent,m.providers,D)}}}return f.THROW_IF_NOT_FOUND=xd,f.NULL=new Xd,f.\u0275prov=gr({token:f,providedIn:"any",factory:()=>Ho(Lf)}),f.__NG_ELEMENT_ID__=-1,f})();function yc(f,g){Xi(K1(f)[1],uo())}function kf(f){let g=function hu(f){return Object.getPrototypeOf(f.prototype).constructor}(f.type),m=!0;const _=[f];for(;g;){let b;if(qe(f))b=g.\u0275cmp||g.\u0275dir;else{if(g.\u0275cmp)throw new lt(903,"");b=g.\u0275dir}if(b){if(m){_.push(b);const A=f;A.inputs=sd(f.inputs),A.declaredInputs=sd(f.declaredInputs),A.outputs=sd(f.outputs);const H=b.hostBindings;H&&kg(f,H);const Y=b.viewQuery,ie=b.contentQueries;if(Y&&D2(f,Y),ie&&O2(f,ie),ke(f.inputs,b.inputs),ke(f.declaredInputs,b.declaredInputs),ke(f.outputs,b.outputs),qe(b)&&b.data.animation){const me=f.data;me.animation=(me.animation||[]).concat(b.data.animation)}}const D=b.features;if(D)for(let A=0;A<D.length;A++){const H=D[A];H&&H.ngInherit&&H(f),H===kf&&(m=!1)}}g=Object.getPrototypeOf(g)}!function zf(f){let g=0,m=null;for(let _=f.length-1;_>=0;_--){const b=f[_];b.hostVars=g+=b.hostVars,b.hostAttrs=xo(b.hostAttrs,m=xo(m,b.hostAttrs))}}(_)}function sd(f){return f===Vt?{}:f===fn?[]:f}function D2(f,g){const m=f.viewQuery;f.viewQuery=m?(_,b)=>{g(_,b),m(_,b)}:g}function O2(f,g){const m=f.contentQueries;f.contentQueries=m?(_,b,D)=>{g(_,b,D),m(_,b,D)}:g}function kg(f,g){const m=f.hostBindings;f.hostBindings=m?(_,b)=>{g(_,b),m(_,b)}:g}let Vf=null;function eh(){if(!Vf){const f=Tn.Symbol;if(f&&f.iterator)Vf=f.iterator;else{const g=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<g.length;++m){const _=g[m];"entries"!==_&&"size"!==_&&Map.prototype[_]===Map.prototype.entries&&(Vf=_)}}}return Vf}function pp(f){return!!Gg(f)&&(Array.isArray(f)||!(f instanceof Map)&&eh()in f)}function Gg(f){return null!==f&&("function"==typeof f||"object"==typeof f)}function ds(f,g,m){return f[g]=m}function Yi(f,g,m){return!Object.is(f[g],m)&&(f[g]=m,!0)}function Es(f,g,m,_){const b=Yi(f,g,m);return Yi(f,g+1,_)||b}function Os(f,g,m,_,b,D){const A=Es(f,g,m,_);return Es(f,g+2,b,D)||A}function Bg(f,g,m,_){const b=Mn();return Yi(b,re(),g)&&(li(),us(Ci(),b,f,g,m,_)),Bg}function th(f,g,m,_){return Yi(f,re(),m)?g+ct(m)+_:Kr}function nh(f,g,m,_,b,D){const H=Es(f,tr(),m,b);return P(2),H?g+ct(m)+_+ct(b)+D:Kr}function gp(f,g,m,_,b,D,A,H){const Y=Mn(),ie=li(),me=f+20,Ze=ie.firstCreatePass?function P2(f,g,m,_,b,D,A,H,Y){const ie=g.consts,me=Yd(g,f,4,A||null,Ai(ie,H));Vc(g,m,me,Ai(ie,Y)),Xi(g,me);const Ze=me.tViews=Us(2,me,_,b,D,g.directiveRegistry,g.pipeRegistry,null,g.schemas,ie);return null!==g.queries&&(g.queries.template(g,me),Ze.queries=g.queries.embeddedTView(me)),me}(me,ie,Y,g,m,_,b,D,A):ie.data[me];na(Ze,!1);const Et=Y[11].createComment("");mf(ie,Y,Et,Ze),Ga(Et,Y),Ca(Y,Y[me]=Pf(Et,Y,Et,Ze)),Xo(Ze)&&Zu(ie,Y,Ze),null!=A&&Of(Y,Ze,H)}function C0(f){return ai(function q(){return B.lFrame.contextLView}(),20+f)}function Sc(f,g=Kn.Default){const m=Mn();return null===m?Ho(f,g):ji(uo(),m,be(f),g)}function Sa(){throw new Error("invalid")}function lh(f,g,m){const _=Mn();return Yi(_,re(),g)&&Ys(li(),Ci(),_,f,g,_[11],m,!1),lh}function ps(f,g,m,_,b){const A=b?"class":"style";xg(f,m,g.inputs[A],A,_)}function Uf(f,g,m,_){const b=Mn(),D=li(),A=20+f,H=b[11],Y=b[A]=Yh(H,g,function ga(){return B.lFrame.currentNamespace}()),ie=D.firstCreatePass?function b0(f,g,m,_,b,D,A){const H=g.consts,ie=Yd(g,f,2,b,Ai(H,D));return Vc(g,m,ie,Ai(H,A)),null!==ie.attrs&&Ff(ie,ie.attrs,!1),null!==ie.mergedAttrs&&Ff(ie,ie.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,ie),ie}(A,D,b,0,g,m,_):D.data[A];na(ie,!0);const me=ie.mergedAttrs;null!==me&&xa(H,Y,me);const Ze=ie.classes;null!==Ze&&Zh(H,Y,Ze);const Et=ie.styles;return null!==Et&&Xh(H,Y,Et),64!=(64&ie.flags)&&mf(D,b,Y,ie),0===function un(){return B.lFrame.elementDepthCount}()&&Ga(Y,b),function Zn(){B.lFrame.elementDepthCount++}(),Xo(ie)&&(Zu(D,b,ie),yg(D,ie,b)),null!==_&&Of(b,ie),Uf}function hd(){let f=uo();sl()?j():(f=f.parent,na(f,!1));const g=f;!function Ar(){B.lFrame.elementDepthCount--}();const m=li();return m.firstCreatePass&&(Xi(m,f),no(f)&&m.queries.elementEnd(f)),null!=g.classesWithoutHost&&function rs(f){return 0!=(16&f.flags)}(g)&&ps(m,g,Mn(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function xc(f){return 0!=(32&f.flags)}(g)&&ps(m,g,Mn(),g.stylesWithoutHost,!1),hd}function Yf(f,g,m,_){return Uf(f,g,m,_),hd(),Yf}function ch(f,g,m){const _=Mn(),b=li(),D=f+20,A=b.firstCreatePass?function Kl(f,g,m,_,b){const D=g.consts,A=Ai(D,_),H=Yd(g,f,8,"ng-container",A);return null!==A&&Ff(H,A,!0),Vc(g,m,H,Ai(D,b)),null!==g.queries&&g.queries.elementStart(g,H),H}(D,b,_,g,m):b.data[D];na(A,!0);const H=_[D]=_[11].createComment("");return mf(b,_,H,A),Ga(H,_),Xo(A)&&(Zu(b,_,A),yg(b,A,_)),null!=m&&Of(_,A),ch}function fs(){let f=uo();const g=li();return sl()?j():(f=f.parent,na(f,!1)),g.firstCreatePass&&(Xi(g,f),no(f)&&g.queries.elementEnd(f)),fs}function yp(f,g,m){return ch(f,g,m),fs(),yp}function uh(){return Mn()}function wl(f){return!!f&&"function"==typeof f.then}function E0(f){return!!f&&"function"==typeof f.subscribe}const D0=E0;function Kf(f,g,m,_){const b=Mn(),D=li(),A=uo();return Cp(D,b,b[11],A,f,g,!!m,_),Kf}function Jg(f,g){const m=uo(),_=Mn(),b=li();return Cp(b,_,l0(vt(b.data),m,_),m,f,g,!1),Jg}function Cp(f,g,m,_,b,D,A,H){const Y=Xo(_),me=f.firstCreatePass&&uu(f),Ze=g[8],Et=Tg(g);let Ut=!0;if(3&_.type||H){const Jn=gn(_,g),Cr=H?H(Jn):Jn,In=Et.length,jr=H?Ri=>H(Z(Ri[_.index])):_.index;if(zi(m)){let Ri=null;if(!H&&Y&&(Ri=function pd(f,g,m,_){const b=f.cleanup;if(null!=b)for(let D=0;D<b.length-1;D+=2){const A=b[D];if(A===m&&b[D+1]===_){const H=g[7],Y=b[D+2];return H.length>Y?H[Y]:null}"string"==typeof A&&(D+=2)}return null}(f,g,b,_.index)),null!==Ri)(Ri.__ngLastListenerFn__||Ri).__ngNextListenerFn__=D,Ri.__ngLastListenerFn__=D,Ut=!1;else{D=$f(_,g,Ze,D,!1);const eo=m.listen(Cr,b,D);Et.push(D,eo),me&&me.push(b,jr,In,In+1)}}else D=$f(_,g,Ze,D,!0),Cr.addEventListener(b,D,A),Et.push(D),me&&me.push(b,jr,In,A)}else D=$f(_,g,Ze,D,!1);const En=_.outputs;let jn;if(Ut&&null!==En&&(jn=En[b])){const Jn=jn.length;if(Jn)for(let Cr=0;Cr<Jn;Cr+=2){const Oc=g[jn[Cr]][jn[Cr+1]].subscribe(D),Ps=Et.length;Et.push(D,Oc),me&&me.push(b,_.index,Ps,-(Ps+1))}}}function Sl(f,g,m,_){try{return!1!==m(_)}catch(b){return c0(f,b),!1}}function $f(f,g,m,_,b){return function D(A){if(A===Function)return _;const H=2&f.flags?Zr(f.index,g):g;0==(32&g[2])&&op(H);let Y=Sl(g,0,_,A),ie=D.__ngNextListenerFn__;for(;ie;)Y=Sl(g,0,ie,A)&&Y,ie=ie.__ngNextListenerFn__;return b&&!1===Y&&(A.preventDefault(),A.returnValue=!1),Y}}function O0(f=1){return function mo(f){return(B.lFrame.contextLView=function yo(f,g){for(;f>0;)g=g[15],f--;return g}(f,B.lFrame.contextLView))[8]}(f)}function qf(f,g){let m=null;const _=function aa(f){const g=f.attrs;if(null!=g){const m=g.indexOf(5);if(0==(1&m))return g[m+1]}return null}(f);for(let b=0;b<g.length;b++){const D=g[b];if("*"!==D){if(null===_?_f(f,D,!0):K3(_,D))return b}else m=b}return m}function Xf(f){const g=Mn()[16][6];if(!g.projection){const _=g.projection=xu(f?f.length:1,null),b=_.slice();let D=g.child;for(;null!==D;){const A=f?qf(D,f):0;null!==A&&(b[A]?b[A].projectionNext=D:_[A]=D,b[A]=D),D=D.next}}}function ev(f,g=0,m){const _=Mn(),b=li(),D=Yd(b,20+f,16,null,m||null);null===D.projection&&(D.projection=g),j(),64!=(64&D.flags)&&function Y4(f,g,m){Hv(g[11],0,g,m,Nv(f,m,g),Wa(m.parent||g[6],m,g))}(b,_,D)}function _p(f,g,m){return gu(f,"",g,"",m),_p}function gu(f,g,m,_,b){const D=Mn(),A=th(D,g,m,_);return A!==Kr&&Ys(li(),Ci(),D,f,A,D[11],b,!1),gu}function Qf(f,g,m,_,b){const D=f[m+1],A=null===g;let H=_?jl(D):kc(D),Y=!1;for(;0!==H&&(!1===Y||A);){const me=f[H+1];P0(f[H],g)&&(Y=!0,f[H+1]=_?Io(me):iu(me)),H=_?jl(me):kc(me)}Y&&(f[m+1]=_?iu(D):Io(D))}function P0(f,g){return null===f||null==g||(Array.isArray(f)?f[1]:f)===g||!(!Array.isArray(f)||"string"!=typeof g)&&Ac(f,g)>=0}const ca={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function A0(f){return f.substring(ca.key,ca.keyEnd)}function dh(f,g){const m=ca.textEnd;return m===g?-1:(g=ca.keyEnd=function G2(f,g,m){for(;g<m&&f.charCodeAt(g)>32;)g++;return g}(f,ca.key=g,m),mu(f,g,m))}function mu(f,g,m){for(;g<m&&f.charCodeAt(g)<=32;)g++;return g}function e1(f,g,m){return Ln(f,g,m,!1),e1}function Le(f,g){return Ln(f,g,null,!0),Le}function zt(f){$n(zo,on,f,!0)}function on(f,g){for(let m=function R0(f){return function bp(f){ca.key=0,ca.keyEnd=0,ca.value=0,ca.valueEnd=0,ca.textEnd=f.length}(f),dh(f,mu(f,0,ca.textEnd))}(g);m>=0;m=dh(g,m))zo(f,A0(g),!0)}function Ln(f,g,m,_){const b=Mn(),D=li(),A=P(2);D.firstUpdatePass&&Gi(D,f,A,_),g!==Kr&&Yi(b,A,g)&&B2(D,D.data[pi()],b,b[11],f,b[A+1]=function ph(f,g){return null==f||("string"==typeof g?f+=g:"object"==typeof f&&(f=Ae(Lc(f)))),f}(g,m),_,A)}function $n(f,g,m,_){const b=li(),D=P(2);b.firstUpdatePass&&Gi(b,null,D,_);const A=Mn();if(m!==Kr&&Yi(A,D,m)){const H=b.data[pi()];if(j2(H,_)&&!Tr(b,D)){let Y=_?H.classesWithoutHost:H.stylesWithoutHost;null!==Y&&(m=Ve(Y,m||"")),ps(b,H,A,m,_)}else!function im(f,g,m,_,b,D,A,H){b===Kr&&(b=fn);let Y=0,ie=0,me=0<b.length?b[0]:null,Ze=0<D.length?D[0]:null;for(;null!==me||null!==Ze;){const Et=Y<b.length?b[Y+1]:void 0,Ut=ie<D.length?D[ie+1]:void 0;let jn,En=null;me===Ze?(Y+=2,ie+=2,Et!==Ut&&(En=Ze,jn=Ut)):null===Ze||null!==me&&me<Ze?(Y+=2,En=me):(ie+=2,En=Ze,jn=Ut),null!==En&&B2(f,g,m,_,En,jn,A,H),me=Y<b.length?b[Y]:null,Ze=ie<D.length?D[ie]:null}}(b,H,A,A[11],A[D+1],A[D+1]=function L0(f,g,m){if(null==m||""===m)return fn;const _=[],b=Lc(m);if(Array.isArray(b))for(let D=0;D<b.length;D++)f(_,b[D],!0);else if("object"==typeof b)for(const D in b)b.hasOwnProperty(D)&&f(_,D,b[D]);else"string"==typeof b&&g(_,b);return _}(f,g,m),_,D)}}function Tr(f,g){return g>=f.expandoStartIndex}function Gi(f,g,m,_){const b=f.data;if(null===b[m+1]){const D=b[pi()],A=Tr(f,m);j2(D,_)&&null===g&&!A&&(g=!1),g=function Ms(f,g,m,_){const b=vt(f);let D=_?g.residualClasses:g.residualStyles;if(null===b)0===(_?g.classBindings:g.styleBindings)&&(m=Dp(m=t1(null,f,g,m,_),g.attrs,_),D=null);else{const A=g.directiveStylingLast;if(-1===A||f[A]!==b)if(m=t1(b,f,g,m,_),null===D){let Y=function vd(f,g,m){const _=m?g.classBindings:g.styleBindings;if(0!==kc(_))return f[jl(_)]}(f,g,_);void 0!==Y&&Array.isArray(Y)&&(Y=t1(null,f,g,Y[1],_),Y=Dp(Y,g.attrs,_),function $s(f,g,m,_){f[jl(m?g.classBindings:g.styleBindings)]=_}(f,g,_,Y))}else D=function fo(f,g,m){let _;const b=g.directiveEnd;for(let D=1+g.directiveStylingLast;D<b;D++)_=Dp(_,f[D].hostAttrs,m);return Dp(_,g.attrs,m)}(f,g,_)}return void 0!==D&&(_?g.residualClasses=D:g.residualStyles=D),m}(b,D,g,_),function tv(f,g,m,_,b,D){let A=D?g.classBindings:g.styleBindings,H=jl(A),Y=kc(A);f[_]=m;let me,ie=!1;if(Array.isArray(m)){const Ze=m;me=Ze[1],(null===me||Ac(Ze,me)>0)&&(ie=!0)}else me=m;if(b)if(0!==Y){const Et=jl(f[H+1]);f[_+1]=Jh(Et,H),0!==Et&&(f[Et+1]=Hi(f[Et+1],_)),f[H+1]=function Aa(f,g){return 131071&f|g<<17}(f[H+1],_)}else f[_+1]=Jh(H,0),0!==H&&(f[H+1]=Hi(f[H+1],_)),H=_;else f[_+1]=Jh(Y,0),0===H?H=_:f[Y+1]=Hi(f[Y+1],_),Y=_;ie&&(f[_+1]=iu(f[_+1])),Qf(f,me,_,!0),Qf(f,me,_,!1),function M0(f,g,m,_,b){const D=b?f.residualClasses:f.residualStyles;null!=D&&"string"==typeof g&&Ac(D,g)>=0&&(m[_+1]=Io(m[_+1]))}(g,me,f,_,D),A=Jh(H,Y),D?g.classBindings=A:g.styleBindings=A}(b,D,g,m,A,_)}}function t1(f,g,m,_,b){let D=null;const A=m.directiveEnd;let H=m.directiveStylingLast;for(-1===H?H=m.directiveStart:H++;H<A&&(D=g[H],_=Dp(_,D.hostAttrs,b),D!==f);)H++;return null!==f&&(m.directiveStylingLast=H),_}function Dp(f,g,m){const _=m?1:2;let b=-1;if(null!==g)for(let D=0;D<g.length;D++){const A=g[D];"number"==typeof A?b=A:b===_&&(Array.isArray(f)||(f=void 0===f?[]:["",f]),zo(f,A,!!m||g[++D]))}return void 0===f?null:f}function B2(f,g,m,_,b,D,A,H){if(!(3&g.type))return;const Y=f.data,ie=Y[H+1];Op(function dg(f){return 1==(1&f)}(ie)?W2(Y,g,m,b,kc(ie),A):void 0)||(Op(D)||function Ao(f){return 2==(2&f)}(ie)&&(D=W2(Y,null,m,b,H,A)),function Bv(f,g,m,_,b){const D=zi(f);if(g)b?D?f.addClass(m,_):m.classList.add(_):D?f.removeClass(m,_):m.classList.remove(_);else{let A=-1===_.indexOf("-")?void 0:ma.DashCase;if(null==b)D?f.removeStyle(m,_,A):m.style.removeProperty(_);else{const H="string"==typeof b&&b.endsWith("!important");H&&(b=b.slice(0,-10),A|=ma.Important),D?f.setStyle(m,_,b,A):m.style.setProperty(_,b,H?"important":"")}}}(_,A,tn(pi(),m),b,D))}function W2(f,g,m,_,b,D){const A=null===g;let H;for(;b>0;){const Y=f[b],ie=Array.isArray(Y),me=ie?Y[1]:Y,Ze=null===me;let Et=m[b+1];Et===Kr&&(Et=Ze?fn:void 0);let Ut=Ze?Kp(Et,_):me===_?Et:void 0;if(ie&&!Op(Ut)&&(Ut=Kp(Y,_)),Op(Ut)&&(H=Ut,A))return H;const En=f[b+1];b=A?jl(En):kc(En)}if(null!==g){let Y=D?g.residualClasses:g.residualStyles;null!=Y&&(H=Kp(Y,_))}return H}function Op(f){return void 0!==f}function j2(f,g){return 0!=(f.flags&(g?16:32))}function U2(f,g=""){const m=Mn(),_=li(),b=f+20,D=_.firstCreatePass?Yd(_,b,1,g,null):_.data[b],A=m[b]=function eg(f,g){return zi(f)?f.createText(g):f.createTextNode(g)}(m[11],g);mf(_,m,A,D),na(D,!1)}function I0(f){return fh("",f,""),I0}function fh(f,g,m){const _=Mn(),b=th(_,f,g,m);return b!==Kr&&vc(_,pi(),b),fh}function N0(f,g,m,_,b){const D=Mn(),A=nh(D,f,g,m,_,b);return A!==Kr&&vc(D,pi(),A),N0}function sm(f,g,m){$n(zo,on,th(Mn(),f,g,m),!0)}function q2(f,g,m,_,b){$n(zo,on,nh(Mn(),f,g,m,_,b),!0)}function n1(f,g,m,_,b,D,A,H,Y){$n(zo,on,function cd(f,g,m,_,b,D,A,H,Y,ie){const Ze=Os(f,tr(),m,b,A,Y);return P(4),Ze?g+ct(m)+_+ct(b)+D+ct(A)+H+ct(Y)+ie:Kr}(Mn(),f,g,m,_,b,D,A,H,Y),!0)}function d(f,g,m){const _=Mn();return Yi(_,re(),g)&&Ys(li(),Ci(),_,f,g,_[11],m,!0),d}function v(f,g,m){const _=Mn();if(Yi(_,re(),g)){const D=li(),A=Ci();Ys(D,A,_,f,g,l0(vt(D.data),A,_),m,!0)}return v}const C=void 0;var L=["en",[["a","p"],["AM","PM"],C],[["AM","PM"],C,C],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],C,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],C,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",C,"{1} 'at' {0}",C],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function M(f){const m=Math.floor(Math.abs(f)),_=f.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===_?1:5}];let U={};function ye(f){const g=function _n(f){return f.toLowerCase().replace(/_/g,"-")}(f);let m=Wt(g);if(m)return m;const _=g.split("-")[0];if(m=Wt(_),m)return m;if("en"===_)return L;throw new Error(`Missing locale data for the locale "${f}".`)}function bt(f){return ye(f)[Kt.PluralCase]}function Wt(f){return f in U||(U[f]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[f]),U[f]}var Kt=(()=>((Kt=Kt||{})[Kt.LocaleId=0]="LocaleId",Kt[Kt.DayPeriodsFormat=1]="DayPeriodsFormat",Kt[Kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kt[Kt.DaysFormat=3]="DaysFormat",Kt[Kt.DaysStandalone=4]="DaysStandalone",Kt[Kt.MonthsFormat=5]="MonthsFormat",Kt[Kt.MonthsStandalone=6]="MonthsStandalone",Kt[Kt.Eras=7]="Eras",Kt[Kt.FirstDayOfWeek=8]="FirstDayOfWeek",Kt[Kt.WeekendRange=9]="WeekendRange",Kt[Kt.DateFormat=10]="DateFormat",Kt[Kt.TimeFormat=11]="TimeFormat",Kt[Kt.DateTimeFormat=12]="DateTimeFormat",Kt[Kt.NumberSymbols=13]="NumberSymbols",Kt[Kt.NumberFormats=14]="NumberFormats",Kt[Kt.CurrencyCode=15]="CurrencyCode",Kt[Kt.CurrencySymbol=16]="CurrencySymbol",Kt[Kt.CurrencyName=17]="CurrencyName",Kt[Kt.Currencies=18]="Currencies",Kt[Kt.Directionality=19]="Directionality",Kt[Kt.PluralCase=20]="PluralCase",Kt[Kt.ExtraData=21]="ExtraData",Kt))();const Ir="en-US";let Fa=Ir;function Dm(f,g,m,_,b){if(f=be(f),Array.isArray(f))for(let D=0;D<f.length;D++)Dm(f[D],g,m,_,b);else{const D=li(),A=Mn();let H=cp(f)?f:be(f.provide),Y=lp(f);const ie=uo(),me=1048575&ie.providerIndexes,Ze=ie.directiveStart,Et=ie.providerIndexes>>20;if(cp(f)||!f.multi){const Ut=new Fr(Y,b,Sc),En=Tm(H,g,b?me:me+Et,Ze);-1===En?(hn(te(ie,A),D,H),Om(D,f,g.length),g.push(H),ie.directiveStart++,ie.directiveEnd++,b&&(ie.providerIndexes+=1048576),m.push(Ut),A.push(Ut)):(m[En]=Ut,A[En]=Ut)}else{const Ut=Tm(H,g,me+Et,Ze),En=Tm(H,g,me,me+Et),jn=Ut>=0&&m[Ut],Jn=En>=0&&m[En];if(b&&!Jn||!b&&!jn){hn(te(ie,A),D,H);const Cr=function El(f,g,m,_,b){const D=new Fr(f,m,Sc);return D.multi=[],D.index=g,D.componentProviders=0,$a(D,b,_&&!m),D}(b?H8:s3,m.length,b,_,Y);!b&&Jn&&(m[En].providerFactory=Cr),Om(D,f,g.length,0),g.push(H),ie.directiveStart++,ie.directiveEnd++,b&&(ie.providerIndexes+=1048576),m.push(Cr),A.push(Cr)}else Om(D,f,Ut>-1?Ut:En,$a(m[b?En:Ut],Y,!b&&_));!b&&_&&Jn&&m[En].componentProviders++}}}function Om(f,g,m,_){const b=cp(g),D=function Fg(f){return!!f.useClass}(g);if(b||D){const Y=(D?be(g.useClass):g).prototype.ngOnDestroy;if(Y){const ie=f.destroyHooks||(f.destroyHooks=[]);if(!b&&g.multi){const me=ie.indexOf(m);-1===me?ie.push(m,[_,Y]):ie[me+1].push(_,Y)}else ie.push(m,Y)}}}function $a(f,g,m){return m&&f.componentProviders++,f.multi.push(g)-1}function Tm(f,g,m,_){for(let b=m;b<_;b++)if(g[b]===f)return b;return-1}function s3(f,g,m,_){return l3(this.multi,[])}function H8(f,g,m,_){const b=this.multi;let D;if(this.providerFactory){const A=this.providerFactory.componentProviders,H=Mc(m,m[1],this.providerFactory.index,_);D=H.slice(0,A),l3(b,D);for(let Y=A;Y<H.length;Y++)D.push(H[Y])}else D=[],l3(b,D);return D}function l3(f,g){for(let m=0;m<f.length;m++)g.push((0,f[m])());return g}function c3(f,g=[]){return m=>{m.providersResolver=(_,b)=>function by(f,g,m){const _=li();if(_.firstCreatePass){const b=qe(f);Dm(m,_.data,_.blueprint,b,!0),Dm(g,_.data,_.blueprint,b,!1)}}(_,b?b(f):f,g)}}class G8{}class Oy{resolveComponentFactory(g){throw function Ey(f){const g=Error(`No component factory found for ${Ae(f)}. Did you add it to @NgModule.entryComponents?`);return g.ngComponent=f,g}(g)}}let $0=(()=>{class f{}return f.NULL=new Oy,f})();function u3(){return Rp(uo(),Mn())}function Rp(f,g){return new _u(gn(f,g))}let _u=(()=>{class f{constructor(m){this.nativeElement=m}}return f.__NG_ELEMENT_ID__=u3,f})();function q0(f){return f instanceof _u?f.nativeElement:f}class wu{}let Ty=(()=>{class f{}return f.__NG_ELEMENT_ID__=()=>function l1(){const f=Mn(),m=Zr(uo().index,f);return function d3(f){return f[11]}(wn(m)?m:f)}(),f})(),xy=(()=>{class f{}return f.\u0275prov=gr({token:f,providedIn:"root",factory:()=>null}),f})();class h3{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const My=new h3("13.3.1"),p3={};function f3(f,g,m,_,b=!1){for(;null!==m;){const D=g[m.index];if(null!==D&&_.push(Z(D)),ki(D))for(let H=10;H<D.length;H++){const Y=D[H],ie=Y[1].firstChild;null!==ie&&f3(Y[1],Y,ie,_)}const A=m.type;if(8&A)f3(f,g,m.child,_);else if(32&A){const H=pf(m,g);let Y;for(;Y=H();)_.push(Y)}else if(16&A){const H=ja(g,m);if(Array.isArray(H))_.push(...H);else{const Y=ru(g[16]);f3(Y[1],Y,H,_,!0)}}m=b?m.projectionNext:m.next}return _}class X0{constructor(g,m){this._lView=g,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const g=this._lView,m=g[1];return f3(m,g,m.firstChild,[])}get context(){return this._lView[8]}set context(g){this._lView[8]=g}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[3];if(ki(g)){const m=g[8],_=m?m.indexOf(this):-1;_>-1&&(Bl(g,_),Ah(m,_))}this._attachedToViewContainer=!1}rg(this._lView[1],this._lView)}onDestroy(g){Qv(this._lView[1],this._lView,null,g)}markForCheck(){op(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ed(f,g,m){_t(!0);try{qd(f,g,m)}finally{_t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new lt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uu(f,g){uc(f,g,g[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new lt(902,"");this._appRef=g}}class Py extends X0{constructor(g){super(g),this._view=g}detectChanges(){Ss(this._view)}checkNoChanges(){!function sp(f){_t(!0);try{Ss(f)}finally{_t(!1)}}(this._view)}get context(){return null}}class Fp extends $0{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const m=ft(g);return new xm(m,this.ngModule)}}function Z0(f){const g=[];for(let m in f)f.hasOwnProperty(m)&&g.push({propName:f[m],templateName:m});return g}class xm extends G8{constructor(g,m){super(),this.componentDef=g,this.ngModule=m,this.componentType=g.type,this.selector=function q4(f){return f.map(bo).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return Z0(this.componentDef.inputs)}get outputs(){return Z0(this.componentDef.outputs)}create(g,m,_,b){const D=(b=b||this.ngModule)?function md(f,g){return{get:(m,_,b)=>{const D=f.get(m,p3,b);return D!==p3||_===p3?D:g.get(m,_,b)}}}(g,b.injector):g,A=D.get(wu,J),H=D.get(xy,null),Y=A.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",me=_?function Qu(f,g,m){if(zi(f))return f.selectRootElement(g,m===ve.ShadowDom);let _="string"==typeof g?f.querySelector(g):g;return _.textContent="",_}(Y,_,this.componentDef.encapsulation):Yh(A.createRenderer(null,this.componentDef),ie,function Ay(f){const g=f.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(ie)),Ze=this.componentDef.onPush?576:528,Et=function ad(f,g){return{components:[],scheduler:f||Z1,clean:g2,playerHandler:g||null,flags:0}}(),Ut=Us(0,null,null,1,0,null,null,null,null,null),En=Ul(null,Ut,Et,Ze,null,null,A,Y,H,D);let jn,Jn;mr(En);try{const Cr=function Ng(f,g,m,_,b,D){const A=m[1];m[20]=f;const Y=Yd(A,20,2,"#host",null),ie=Y.mergedAttrs=g.hostAttrs;null!==ie&&(Ff(Y,ie,!0),null!==f&&(xa(b,f,ie),null!==Y.classes&&Zh(b,f,Y.classes),null!==Y.styles&&Xh(b,f,Y.styles)));const me=_.createRenderer(f,g),Ze=Ul(m,Zv(g),null,g.onPush?64:16,m[20],Y,_,me,D||null,null);return A.firstCreatePass&&(hn(te(Y,m),A,g.type),Eg(A,Y),vl(Y,m.length,1)),Ca(m,Ze),m[20]=Ze}(me,this.componentDef,En,A,Y);if(me)if(_)xa(Y,me,["ng-version",My.full]);else{const{attrs:In,classes:jr}=function Uv(f){const g=[],m=[];let _=1,b=2;for(;_<f.length;){let D=f[_];if("string"==typeof D)2===b?""!==D&&g.push(D,f[++_]):8===b&&m.push(D);else{if(!Wl(b))break;b=D}_++}return{attrs:g,classes:m}}(this.componentDef.selectors[0]);In&&xa(Y,me,In),jr&&jr.length>0&&Zh(Y,me,jr.join(" "))}if(Jn=Di(Ut,20),void 0!==m){const In=Jn.projection=[];for(let jr=0;jr<this.ngContentSelectors.length;jr++){const Ri=m[jr];In.push(null!=Ri?Array.from(Ri):null)}}jn=function g0(f,g,m,_,b){const D=m[1],A=function zc(f,g,m){const _=uo();f.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),r0(f,_,g,Kd(f,g,1,null),m));const b=Mc(g,f,_.directiveStart,_);Ga(b,g);const D=gn(_,g);return D&&Ga(D,g),b}(D,m,g);if(_.components.push(A),f[8]=A,b&&b.forEach(Y=>Y(A,g)),g.contentQueries){const Y=uo();g.contentQueries(1,A,Y.directiveStart)}const H=uo();return!D.firstCreatePass||null===g.hostBindings&&null===g.hostAttrs||(To(H.index),xf(m[1],H,0,H.directiveStart,H.directiveEnd,g),n0(g,A)),A}(Cr,this.componentDef,En,Et,[yc]),Xu(Ut,En,null)}finally{qi()}return new Fy(this.componentType,jn,Rp(Jn,En),En,Jn)}}class Fy extends class K0{}{constructor(g,m,_,b,D){super(),this.location=_,this._rootLView=b,this._tNode=D,this.instance=m,this.hostView=this.changeDetectorRef=new Py(b),this.componentType=g}get injector(){return new Sd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}class Su{}class Lp{}const lv=new Map;class J0 extends Su{constructor(g,m){super(),this._parent=m,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fp(this);const _=pe(g);this._bootstrapComponents=lc(_.bootstrap),this._r3Injector=mc(g,m,[{provide:Su,useValue:this},{provide:$0,useValue:this.componentFactoryResolver}],Ae(g)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(g)}get(g,m=_a.THROW_IF_NOT_FOUND,_=Kn.Default){return g===_a||g===Su||g===Lf?this:this._r3Injector.get(g,m,_)}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class Pm extends Lp{constructor(g){super(),this.moduleType=g,null!==pe(g)&&function Iy(f){const g=new Set;!function m(_){const b=pe(_,!0),D=b.id;null!==D&&(function Ip(f,g,m){if(g&&g!==m)throw new Error(`Duplicate module registered for ${f} - ${Ae(g)} vs ${Ae(g.name)}`)}(D,lv.get(D),_),lv.set(D,_));const A=lc(b.imports);for(const H of A)g.has(H)||(g.add(H),m(H))}(f)}(g)}create(g){return new J0(this.moduleType,g)}}function j8(f,g,m){const _=nn()+f,b=Mn();return b[_]===Kr?ds(b,_,m?g.call(m):g()):function yl(f,g){return f[g]}(b,_)}function Am(f,g,m,_){return $8(Mn(),nn(),f,g,m,_)}function U8(f,g,m,_,b){return Np(Mn(),nn(),f,g,m,_,b)}function Y8(f,g,m,_,b,D){return function q8(f,g,m,_,b,D,A,H){const Y=g+m;return function Ds(f,g,m,_,b){const D=Es(f,g,m,_);return Yi(f,g+2,b)||D}(f,Y,b,D,A)?ds(f,Y+3,H?_.call(H,b,D,A):_(b,D,A)):e4(f,Y+3)}(Mn(),nn(),f,g,m,_,b,D)}function K8(f,g,m,_,b,D,A){return function X8(f,g,m,_,b,D,A,H,Y){const ie=g+m;return Os(f,ie,b,D,A,H)?ds(f,ie+4,Y?_.call(Y,b,D,A,H):_(b,D,A,H)):e4(f,ie+4)}(Mn(),nn(),f,g,m,_,b,D,A)}function e4(f,g){const m=f[g];return m===Kr?void 0:m}function $8(f,g,m,_,b,D){const A=g+m;return Yi(f,A,b)?ds(f,A+1,D?_.call(D,b):_(b)):e4(f,A+1)}function Np(f,g,m,_,b,D,A){const H=g+m;return Es(f,H,b,D)?ds(f,H+2,A?_.call(A,b,D):_(b,D)):e4(f,H+2)}function Z8(f,g){const m=li();let _;const b=f+20;m.firstCreatePass?(_=function Vy(f,g){if(g)for(let m=g.length-1;m>=0;m--){const _=g[m];if(f===_.name)return _}}(g,m.pipeRegistry),m.data[b]=_,_.onDestroy&&(m.destroyHooks||(m.destroyHooks=[])).push(b,_.onDestroy)):_=m.data[b];const D=_.factory||(_.factory=Jo(_.type)),A=Ye(Sc);try{const H=Ma(!1),Y=D();return Ma(H),function jg(f,g,m,_){m>=f.data.length&&(f.data[m]=null,f.blueprint[m]=null),g[m]=_}(m,Mn(),b,Y),Y}finally{Ye(A)}}function g3(f,g,m){const _=f+20,b=Mn(),D=ai(b,_);return t4(b,_)?$8(b,nn(),g,D.transform,m,D):D.transform(m)}function _h(f,g,m,_){const b=f+20,D=Mn(),A=ai(D,b);return t4(D,b)?Np(D,nn(),g,A.transform,m,_,A):A.transform(m,_)}function t4(f,g){return f[1].data[g].pure}function v3(f){return g=>{setTimeout(f,void 0,g)}}const Yc=class By extends x.x{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,m,_){var b,D,A;let H=g,Y=m||(()=>null),ie=_;if(g&&"object"==typeof g){const Ze=g;H=null===(b=Ze.next)||void 0===b?void 0:b.bind(Ze),Y=null===(D=Ze.error)||void 0===D?void 0:D.bind(Ze),ie=null===(A=Ze.complete)||void 0===A?void 0:A.bind(Ze)}this.__isAsync&&(Y=v3(Y),H&&(H=v3(H)),ie&&(ie=v3(ie)));const me=super.subscribe({next:H,error:Y,complete:ie});return g instanceof G.w0&&g.add(me),me}};function Wy(){return this._results[eh()]()}class m3{constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=eh(),_=m3.prototype;_[m]||(_[m]=Wy)}get changes(){return this._changes||(this._changes=new Yc)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,m){return this._results.reduce(g,m)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,m){const _=this;_.dirty=!1;const b=zs(g);(this._changesDetected=!function ul(f,g,m){if(f.length!==g.length)return!1;for(let _=0;_<f.length;_++){let b=f[_],D=g[_];if(m&&(b=m(b),D=m(D)),D!==b)return!1}return!0}(_._results,b,m))&&(_._results=b,_.length=b.length,_.last=b[this.length-1],_.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Qs=(()=>{class f{}return f.__NG_ELEMENT_ID__=jy,f})();const n4=Qs,Fm=class extends n4{constructor(g,m,_){super(),this._declarationLView=g,this._declarationTContainer=m,this.elementRef=_}createEmbeddedView(g){const m=this._declarationTContainer.tViews,_=Ul(this._declarationLView,m,g,16,null,m.declTNode,null,null,null,null);_[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(_[19]=D.createEmbeddedView(m)),Xu(m,_,g),new X0(_)}};function jy(){return y3(uo(),Mn())}function y3(f,g){return 4&f.type?new Fm(g,f,Rp(f,g)):null}let C3=(()=>{class f{}return f.__NG_ELEMENT_ID__=Q8,f})();function Q8(){return t6(uo(),Mn())}const Uy=C3,J8=class extends Uy{constructor(g,m,_){super(),this._lContainer=g,this._hostTNode=m,this._hostLView=_}get element(){return Rp(this._hostTNode,this._hostLView)}get injector(){return new Sd(this._hostTNode,this._hostLView)}get parentInjector(){const g=yt(this._hostTNode,this._hostLView);if(Mh(g)){const m=Zc(g,this._hostLView),_=is(g);return new Sd(m[1].data[_+8],m)}return new Sd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const m=e6(this._lContainer);return null!==m&&m[g]||null}get length(){return this._lContainer.length-10}createEmbeddedView(g,m,_){const b=g.createEmbeddedView(m||{});return this.insert(b,_),b}createComponent(g,m,_,b,D){const A=g&&!function Od(f){return"function"==typeof f}(g);let H;if(A)H=m;else{const Ze=m||{};H=Ze.index,_=Ze.injector,b=Ze.projectableNodes,D=Ze.ngModuleRef}const Y=A?g:new xm(ft(g)),ie=_||this.parentInjector;if(!D&&null==Y.ngModule){const Et=(A?ie:this.parentInjector).get(Su,null);Et&&(D=Et)}const me=Y.create(ie,b,void 0,D);return this.insert(me.hostView,H),me}insert(g,m){const _=g._lView,b=_[1];if(function yi(f){return ki(f[3])}(_)){const me=this.indexOf(g);if(-1!==me)this.detach(me);else{const Ze=_[3],Et=new J8(Ze,Ze[6],Ze[3]);Et.detach(Et.indexOf(g))}}const D=this._adjustIndex(m),A=this._lContainer;!function W4(f,g,m,_){const b=10+_,D=m.length;_>0&&(m[b-1][4]=g),_<D-10?(g[4]=m[b],Jc(m,10+_,g)):(m.push(g),g[4]=null),g[3]=m;const A=g[17];null!==A&&m!==A&&function j4(f,g){const m=f[9];g[16]!==g[3][3][16]&&(f[2]=!0),null===m?f[9]=[g]:m.push(g)}(A,g);const H=g[19];null!==H&&H.insertView(f),g[2]|=128}(b,_,A,D);const H=ag(D,A),Y=_[11],ie=Nc(Y,A[7]);return null!==ie&&function Lv(f,g,m,_,b,D){_[0]=b,_[6]=g,uc(f,_,m,1,b,D)}(b,A[6],Y,_,ie,H),g.attachToViewContainerRef(),Jc(Lm(A),D,g),g}move(g,m){return this.insert(g,m)}indexOf(g){const m=e6(this._lContainer);return null!==m?m.indexOf(g):-1}remove(g){const m=this._adjustIndex(g,-1),_=Bl(this._lContainer,m);_&&(Ah(Lm(this._lContainer),m),rg(_[1],_))}detach(g){const m=this._adjustIndex(g,-1),_=Bl(this._lContainer,m);return _&&null!=Ah(Lm(this._lContainer),m)?new X0(_):null}_adjustIndex(g,m=0){return null==g?this.length+m:g}};function e6(f){return f[8]}function Lm(f){return f[8]||(f[8]=[])}function t6(f,g){let m;const _=g[f.index];if(ki(_))m=_;else{let b;if(8&f.type)b=Z(_);else{const D=g[11];b=D.createComment("");const A=gn(f,g);Yu(D,Nc(D,A),b,function Bd(f,g){return zi(f)?f.nextSibling(g):g.nextSibling}(D,A),!1)}g[f.index]=m=Pf(_,g,b,f),Ca(g,m)}return new J8(m,f,g)}class Im{constructor(g){this.queryList=g,this.matches=null}clone(){return new Im(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(g=[]){this.queries=g}createEmbeddedView(g){const m=g.queries;if(null!==m){const _=null!==g.contentQueries?g.contentQueries[0]:m.length,b=[];for(let D=0;D<_;D++){const A=m.getByIndex(D);b.push(this.queries[A.indexInDeclarationView].clone())}return new Nm(b)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let m=0;m<this.queries.length;m++)null!==c6(g,m).matches&&this.queries[m].setDirty()}}class km{constructor(g,m,_=null){this.predicate=g,this.flags=m,this.read=_}}class zm{constructor(g=[]){this.queries=g}elementStart(g,m){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(g,m)}elementEnd(g){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(g)}embeddedTView(g){let m=null;for(let _=0;_<this.length;_++){const b=null!==m?m.length:0,D=this.getByIndex(_).embeddedTView(g,b);D&&(D.indexInDeclarationView=_,null!==m?m.push(D):m=[D])}return null!==m?new zm(m):null}template(g,m){for(let _=0;_<this.queries.length;_++)this.queries[_].template(g,m)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class Vm{constructor(g,m=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(g,m){this.isApplyingToNode(m)&&this.matchTNode(g,m)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,m){this.elementStart(g,m)}embeddedTView(g,m){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,m),new Vm(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let _=g.parent;for(;null!==_&&8&_.type&&_.index!==m;)_=_.parent;return m===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(g,m){const _=this.metadata.predicate;if(Array.isArray(_))for(let b=0;b<_.length;b++){const D=_[b];this.matchTNodeWithReadOption(g,m,Ky(m,D)),this.matchTNodeWithReadOption(g,m,tc(m,g,D,!1,!1))}else _===Qs?4&m.type&&this.matchTNodeWithReadOption(g,m,-1):this.matchTNodeWithReadOption(g,m,tc(m,g,_,!1,!1))}matchTNodeWithReadOption(g,m,_){if(null!==_){const b=this.metadata.read;if(null!==b)if(b===_u||b===C3||b===Qs&&4&m.type)this.addMatch(m.index,-2);else{const D=tc(m,g,b,!1,!1);null!==D&&this.addMatch(m.index,D)}else this.addMatch(m.index,_)}}addMatch(g,m){null===this.matches?this.matches=[g,m]:this.matches.push(g,m)}}function Ky(f,g){const m=f.localNames;if(null!==m)for(let _=0;_<m.length;_+=2)if(m[_]===g)return m[_+1];return null}function qy(f,g,m,_){return-1===m?function $y(f,g){return 11&f.type?Rp(f,g):4&f.type?y3(f,g):null}(g,f):-2===m?function Xy(f,g,m){return m===_u?Rp(g,f):m===Qs?y3(g,f):m===C3?t6(g,f):void 0}(f,g,_):Mc(f,f[1],m,g)}function r6(f,g,m,_){const b=g[19].queries[_];if(null===b.matches){const D=f.data,A=m.matches,H=[];for(let Y=0;Y<A.length;Y+=2){const ie=A[Y];H.push(ie<0?null:qy(g,D[ie],A[Y+1],m.metadata.read))}b.matches=H}return b.matches}function Hm(f,g,m,_){const b=f.queries.getByIndex(m),D=b.matches;if(null!==D){const A=r6(f,g,b,m);for(let H=0;H<D.length;H+=2){const Y=D[H];if(Y>0)_.push(A[H/2]);else{const ie=D[H+1],me=g[-Y];for(let Ze=10;Ze<me.length;Ze++){const Et=me[Ze];Et[17]===Et[3]&&Hm(Et[1],Et,ie,_)}if(null!==me[9]){const Ze=me[9];for(let Et=0;Et<Ze.length;Et++){const Ut=Ze[Et];Hm(Ut[1],Ut,ie,_)}}}}}return _}function i6(f){const g=Mn(),m=li(),_=Ht();Qt(_+1);const b=c6(m,_);if(f.dirty&&si(g)===(2==(2&b.metadata.flags))){if(null===b.matches)f.reset([]);else{const D=b.crossesNgTemplate?Hm(m,g,_,[]):r6(m,g,b,_);f.reset(D,q0),f.notifyOnChanges()}return!0}return!1}function o6(f,g,m){const _=li();_.firstCreatePass&&(l6(_,new km(f,g,m),-1),2==(2&g)&&(_.staticViewQueries=!0)),_3(_,Mn(),g)}function a6(f,g,m,_){const b=li();if(b.firstCreatePass){const D=uo();l6(b,new km(g,m,_),D.index),function Qy(f,g){const m=f.contentQueries||(f.contentQueries=[]);g!==(m.length?m[m.length-1]:-1)&&m.push(f.queries.length-1,g)}(b,f),2==(2&m)&&(b.staticContentQueries=!0)}_3(b,Mn(),m)}function s6(){return function Zy(f,g){return f[19].queries[g].queryList}(Mn(),Ht())}function _3(f,g,m){const _=new m3(4==(4&m));Qv(f,g,_,_.destroy),null===g[19]&&(g[19]=new Nm),g[19].queries.push(new Im(_))}function l6(f,g,m){null===f.queries&&(f.queries=new zm),f.queries.track(new Vm(g,m))}function c6(f,g){return f.queries.getByIndex(g)}function Gm(f,g){return y3(f,g)}const h5=os("Input",f=>({bindingPropertyName:f})),p5=os("Output",f=>({bindingPropertyName:f}));function S3(...f){}const b6=new Mo("Application Initializer");let Zm=(()=>{class f{constructor(m){this.appInits=m,this.resolve=S3,this.reject=S3,this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,b)=>{this.resolve=_,this.reject=b})}runInitializers(){if(this.initialized)return;const m=[],_=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const D=this.appInits[b]();if(wl(D))m.push(D);else if(D0(D)){const A=new Promise((H,Y)=>{D.subscribe({complete:H,error:Y})});m.push(A)}}Promise.all(m).then(()=>{_()}).catch(b=>{this.reject(b)}),0===m.length&&_(),this.initialized=!0}}return f.\u0275fac=function(m){return new(m||f)(Ho(b6,8))},f.\u0275prov=gr({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Qm=new Mo("AppId",{providedIn:"root",factory:function E6(){return`${Jm()}${Jm()}${Jm()}`}});function Jm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const D6=new Mo("Platform Initializer"),kp=new Mo("Platform ID"),O6=new Mo("appBootstrapListener");let Cd=(()=>{class f{log(m){console.log(m)}warn(m){console.warn(m)}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=gr({token:f,factory:f.\u0275fac}),f})();const E3=new Mo("LocaleId",{providedIn:"root",factory:()=>mv(E3,Kn.Optional|Kn.SkipSelf)||function f5(){return"undefined"!=typeof $localize&&$localize.locale||Ir}()}),g5=new Mo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class v5{constructor(g,m){this.ngModuleFactory=g,this.componentFactories=m}}let m5=(()=>{class f{compileModuleSync(m){return new Pm(m)}compileModuleAsync(m){return Promise.resolve(this.compileModuleSync(m))}compileModuleAndAllComponentsSync(m){const _=this.compileModuleSync(m),D=lc(pe(m).declarations).reduce((A,H)=>{const Y=ft(H);return Y&&A.push(new xm(Y)),A},[]);return new v5(_,D)}compileModuleAndAllComponentsAsync(m){return Promise.resolve(this.compileModuleAndAllComponentsSync(m))}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=gr({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const y5=(()=>Promise.resolve(0))();function Ol(f){"undefined"==typeof Zone?y5.then(()=>{f&&f.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",f)}class bu{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yc(!1),this.onMicrotaskEmpty=new Yc(!1),this.onStable=new Yc(!1),this.onError=new Yc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!_&&m,b.shouldCoalesceRunChangeDetection=_,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function C5(){let f=Tn.requestAnimationFrame,g=Tn.cancelAnimationFrame;if("undefined"!=typeof Zone&&f&&g){const m=f[Zone.__symbol__("OriginalDelegate")];m&&(f=m);const _=g[Zone.__symbol__("OriginalDelegate")];_&&(g=_)}return{nativeRequestAnimationFrame:f,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function _5(f){const g=()=>{!function x6(f){f.isCheckStableRunning||-1!==f.lastRequestAnimationFrameId||(f.lastRequestAnimationFrameId=f.nativeRequestAnimationFrame.call(Tn,()=>{f.fakeTopEventTask||(f.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{f.lastRequestAnimationFrameId=-1,e8(f),f.isCheckStableRunning=!0,D3(f),f.isCheckStableRunning=!1},void 0,()=>{},()=>{})),f.fakeTopEventTask.invoke()}),e8(f))}(f)};f._inner=f._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,_,b,D,A,H)=>{try{return M6(f),m.invokeTask(b,D,A,H)}finally{(f.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||f.shouldCoalesceRunChangeDetection)&&g(),a4(f)}},onInvoke:(m,_,b,D,A,H,Y)=>{try{return M6(f),m.invoke(b,D,A,H,Y)}finally{f.shouldCoalesceRunChangeDetection&&g(),a4(f)}},onHasTask:(m,_,b,D)=>{m.hasTask(b,D),_===b&&("microTask"==D.change?(f._hasPendingMicrotasks=D.microTask,e8(f),D3(f)):"macroTask"==D.change&&(f.hasPendingMacrotasks=D.macroTask))},onHandleError:(m,_,b,D)=>(m.handleError(b,D),f.runOutsideAngular(()=>f.onError.emit(D)),!1)})}(b)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(g,m,_){return this._inner.run(g,m,_)}runTask(g,m,_,b){const D=this._inner,A=D.scheduleEventTask("NgZoneEvent: "+b,g,Ec,S3,S3);try{return D.runTask(A,m,_)}finally{D.cancelTask(A)}}runGuarded(g,m,_){return this._inner.runGuarded(g,m,_)}runOutsideAngular(g){return this._outer.run(g)}}const Ec={};function D3(f){if(0==f._nesting&&!f.hasPendingMicrotasks&&!f.isStable)try{f._nesting++,f.onMicrotaskEmpty.emit(null)}finally{if(f._nesting--,!f.hasPendingMicrotasks)try{f.runOutsideAngular(()=>f.onStable.emit(null))}finally{f.isStable=!0}}}function e8(f){f.hasPendingMicrotasks=!!(f._hasPendingMicrotasks||(f.shouldCoalesceEventChangeDetection||f.shouldCoalesceRunChangeDetection)&&-1!==f.lastRequestAnimationFrameId)}function M6(f){f._nesting++,f.isStable&&(f.isStable=!1,f.onUnstable.emit(null))}function a4(f){f._nesting--,D3(f)}class s4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yc,this.onMicrotaskEmpty=new Yc,this.onStable=new Yc,this.onError=new Yc}run(g,m,_){return g.apply(m,_)}runGuarded(g,m,_){return g.apply(m,_)}runOutsideAngular(g){return g()}runTask(g,m,_,b){return g.apply(m,_)}}let P6=(()=>{class f{constructor(m){this._ngZone=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bu.assertNotInAngularZone(),Ol(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ol(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(m)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,_,b){let D=-1;_&&_>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==D),m(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:m,timeoutId:D,updateCb:b})}whenStable(m,_,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,_,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(m,_,b){return[]}}return f.\u0275fac=function(m){return new(m||f)(Ho(bu))},f.\u0275prov=gr({token:f,factory:f.\u0275fac}),f})(),A6=(()=>{class f{constructor(){this._applications=new Map,t8.addToWindow(this)}registerApplication(m,_){this._applications.set(m,_)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,_=!0){return t8.findTestabilityInTree(this,m,_)}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=gr({token:f,factory:f.\u0275fac}),f})();class w5{addToWindow(g){}findTestabilityInTree(g,m,_){return null}}function S5(f){t8=f}let Dc,t8=new w5;const zp=new Mo("AllowMultipleToken");class l4{constructor(g,m){this.name=g,this.token=m}}function O3(f,g,m=[]){const _=`Platform: ${g}`,b=new Mo(_);return(D=[])=>{let A=Sh();if(!A||A.injector.get(zp,!1))if(f)f(m.concat(D).concat({provide:b,useValue:!0}));else{const H=m.concat(D).concat({provide:b,useValue:!0},{provide:bs,useValue:"platform"});!function c4(f){if(Dc&&!Dc.destroyed&&!Dc.injector.get(zp,!1))throw new lt(400,"");Dc=f.get(R6);const g=f.get(D6,null);g&&g.forEach(m=>m())}(_a.create({providers:H,name:_}))}return function E5(f){const g=Sh();if(!g)throw new lt(401,"");return g}()}}function Sh(){return Dc&&!Dc.destroyed?Dc:null}let R6=(()=>{class f{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,_){const H=function Vp(f,g){let m;return m="noop"===f?new s4:("zone.js"===f?void 0:f)||new bu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==g?void 0:g.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==g?void 0:g.ngZoneRunCoalescing)}),m}(_?_.ngZone:void 0,{ngZoneEventCoalescing:_&&_.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:_&&_.ngZoneRunCoalescing||!1}),Y=[{provide:bu,useValue:H}];return H.run(()=>{const ie=_a.create({providers:Y,parent:this.injector,name:m.moduleType.name}),me=m.create(ie),Ze=me.injector.get(tu,null);if(!Ze)throw new lt(402,"");return H.runOutsideAngular(()=>{const Et=H.onError.subscribe({next:Ut=>{Ze.handleError(Ut)}});me.onDestroy(()=>{x3(this._modules,me),Et.unsubscribe()})}),function T3(f,g,m){try{const _=m();return wl(_)?_.catch(b=>{throw g.runOutsideAngular(()=>f.handleError(b)),b}):_}catch(_){throw g.runOutsideAngular(()=>f.handleError(_)),_}}(Ze,H,()=>{const Et=me.injector.get(Zm);return Et.runInitializers(),Et.donePromise.then(()=>(function ba(f){xt(f,"Expected localeId to be defined"),"string"==typeof f&&(Fa=f.toLowerCase().replace(/_/g,"-"))}(me.injector.get(E3,Ir)||Ir),this._moduleDoBootstrap(me),me))})})}bootstrapModule(m,_=[]){const b=F6({},_);return function b5(f,g,m){const _=new Pm(m);return Promise.resolve(_)}(0,0,m).then(D=>this.bootstrapModuleFactory(D,b))}_moduleDoBootstrap(m){const _=m.injector.get(Eu);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(b=>_.bootstrap(b));else{if(!m.instance.ngDoBootstrap)throw new lt(403,"");m.instance.ngDoBootstrap(_)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,"");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m()),this._destroyed=!0}get destroyed(){return this._destroyed}}return f.\u0275fac=function(m){return new(m||f)(Ho(_a))},f.\u0275prov=gr({token:f,factory:f.\u0275fac}),f})();function F6(f,g){return Array.isArray(g)?g.reduce(F6,f):Object.assign(Object.assign({},f),g)}let Eu=(()=>{class f{constructor(m,_,b,D,A){this._zone=m,this._injector=_,this._exceptionHandler=b,this._componentFactoryResolver=D,this._initStatus=A,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const H=new z.y(ie=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ie.next(this._stable),ie.complete()})}),Y=new z.y(ie=>{let me;this._zone.runOutsideAngular(()=>{me=this._zone.onStable.subscribe(()=>{bu.assertNotInAngularZone(),Ol(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ie.next(!0))})})});const Ze=this._zone.onUnstable.subscribe(()=>{bu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ie.next(!1)}))});return()=>{me.unsubscribe(),Ze.unsubscribe()}});this.isStable=(0,Se.T)(H,Y.pipe((0,Ee.B)()))}bootstrap(m,_){if(!this._initStatus.done)throw new lt(405,"");let b;b=m instanceof G8?m:this._componentFactoryResolver.resolveComponentFactory(m),this.componentTypes.push(b.componentType);const D=function sC(f){return f.isBoundToModule}(b)?void 0:this._injector.get(Su),H=b.create(_a.NULL,[],_||b.selector,D),Y=H.location.nativeElement,ie=H.injector.get(P6,null),me=ie&&H.injector.get(A6);return ie&&me&&me.registerApplication(Y,ie),H.onDestroy(()=>{this.detachView(H.hostView),x3(this.components,H),me&&me.unregisterApplication(Y)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new lt(101,"");try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const _=m;this._views.push(_),_.attachToAppRef(this)}detachView(m){const _=m;x3(this._views,_),_.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(O6,[]).concat(this._bootstrapListeners).forEach(b=>b(m))}ngOnDestroy(){this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return f.\u0275fac=function(m){return new(m||f)(Ho(bu),Ho(_a),Ho(tu),Ho($0),Ho(Zm))},f.\u0275prov=gr({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function x3(f,g){const m=f.indexOf(g);m>-1&&f.splice(m,1)}let I6=!0,M3=!1;function O5(){return M3=!0,I6}function N6(){if(M3)throw new Error("Cannot enable prod mode after platform setup.");I6=!1}let T5=(()=>{class f{}return f.__NG_ELEMENT_ID__=hv,f})();function hv(f){return function k6(f,g,m){if(Bo(f)&&!m){const _=Zr(f.index,g);return new X0(_,_)}return 47&f.type?new X0(g[16],g):null}(uo(),Mn(),16==(16&f))}class Gp{constructor(){}supports(g){return pp(g)}create(g){return new F5(g)}}const R5=(f,g)=>g;class F5{constructor(g){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=g||R5}forEachItem(g){let m;for(m=this._itHead;null!==m;m=m._next)g(m)}forEachOperation(g){let m=this._itHead,_=this._removalsHead,b=0,D=null;for(;m||_;){const A=!_||m&&m.currentIndex<i8(_,b,D)?m:_,H=i8(A,b,D),Y=A.currentIndex;if(A===_)b--,_=_._nextRemoved;else if(m=m._next,null==A.previousIndex)b++;else{D||(D=[]);const ie=H-b,me=Y-b;if(ie!=me){for(let Et=0;Et<ie;Et++){const Ut=Et<D.length?D[Et]:D[Et]=0,En=Ut+Et;me<=En&&En<ie&&(D[Et]=Ut+1)}D[A.previousIndex]=me-ie}}H!==Y&&g(A,H,Y)}}forEachPreviousItem(g){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)g(m)}forEachAddedItem(g){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)g(m)}forEachMovedItem(g){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)g(m)}forEachRemovedItem(g){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)g(m)}forEachIdentityChange(g){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)g(m)}diff(g){if(null==g&&(g=[]),!pp(g))throw new lt(900,"");return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let b,D,A,m=this._itHead,_=!1;if(Array.isArray(g)){this.length=g.length;for(let H=0;H<this.length;H++)D=g[H],A=this._trackByFn(H,D),null!==m&&Object.is(m.trackById,A)?(_&&(m=this._verifyReinsertion(m,D,A,H)),Object.is(m.item,D)||this._addIdentityChange(m,D)):(m=this._mismatch(m,D,A,H),_=!0),m=m._next}else b=0,function Hg(f,g){if(Array.isArray(f))for(let m=0;m<f.length;m++)g(f[m]);else{const m=f[eh()]();let _;for(;!(_=m.next()).done;)g(_.value)}}(g,H=>{A=this._trackByFn(b,H),null!==m&&Object.is(m.trackById,A)?(_&&(m=this._verifyReinsertion(m,H,A,b)),Object.is(m.item,H)||this._addIdentityChange(m,H)):(m=this._mismatch(m,H,A,b),_=!0),m=m._next,b++}),this.length=b;return this._truncate(m),this.collection=g,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let g;for(g=this._previousItHead=this._itHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._additionsHead;null!==g;g=g._nextAdded)g.previousIndex=g.currentIndex;for(this._additionsHead=this._additionsTail=null,g=this._movesHead;null!==g;g=g._nextMoved)g.previousIndex=g.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(g,m,_,b){let D;return null===g?D=this._itTail:(D=g._prev,this._remove(g)),null!==(g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(g.item,m)||this._addIdentityChange(g,m),this._reinsertAfter(g,D,b)):null!==(g=null===this._linkedRecords?null:this._linkedRecords.get(_,b))?(Object.is(g.item,m)||this._addIdentityChange(g,m),this._moveAfter(g,D,b)):g=this._addAfter(new L5(m,_),D,b),g}_verifyReinsertion(g,m,_,b){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==D?g=this._reinsertAfter(D,g._prev,b):g.currentIndex!=b&&(g.currentIndex=b,this._addToMoves(g,b)),g}_truncate(g){for(;null!==g;){const m=g._next;this._addToRemovals(this._unlink(g)),g=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(g,m,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(g);const b=g._prevRemoved,D=g._nextRemoved;return null===b?this._removalsHead=D:b._nextRemoved=D,null===D?this._removalsTail=b:D._prevRemoved=b,this._insertAfter(g,m,_),this._addToMoves(g,_),g}_moveAfter(g,m,_){return this._unlink(g),this._insertAfter(g,m,_),this._addToMoves(g,_),g}_addAfter(g,m,_){return this._insertAfter(g,m,_),this._additionsTail=null===this._additionsTail?this._additionsHead=g:this._additionsTail._nextAdded=g,g}_insertAfter(g,m,_){const b=null===m?this._itHead:m._next;return g._next=b,g._prev=m,null===b?this._itTail=g:b._prev=g,null===m?this._itHead=g:m._next=g,null===this._linkedRecords&&(this._linkedRecords=new _d),this._linkedRecords.put(g),g.currentIndex=_,g}_remove(g){return this._addToRemovals(this._unlink(g))}_unlink(g){null!==this._linkedRecords&&this._linkedRecords.remove(g);const m=g._prev,_=g._next;return null===m?this._itHead=_:m._next=_,null===_?this._itTail=m:_._prev=m,g}_addToMoves(g,m){return g.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=g:this._movesTail._nextMoved=g),g}_addToRemovals(g){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _d),this._unlinkedRecords.put(g),g.currentIndex=null,g._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=g,g._prevRemoved=null):(g._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=g),g}_addIdentityChange(g,m){return g.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=g:this._identityChangesTail._nextIdentityChange=g,g}}class L5{constructor(g,m){this.item=g,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class V6{constructor(){this._head=null,this._tail=null}add(g){null===this._head?(this._head=this._tail=g,g._nextDup=null,g._prevDup=null):(this._tail._nextDup=g,g._prevDup=this._tail,g._nextDup=null,this._tail=g)}get(g,m){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===m||m<=_.currentIndex)&&Object.is(_.trackById,g))return _;return null}remove(g){const m=g._prevDup,_=g._nextDup;return null===m?this._head=_:m._nextDup=_,null===_?this._tail=m:_._prevDup=m,null===this._head}}class _d{constructor(){this.map=new Map}put(g){const m=g.trackById;let _=this.map.get(m);_||(_=new V6,this.map.set(m,_)),_.add(g)}get(g,m){const b=this.map.get(g);return b?b.get(g,m):null}remove(g){const m=g.trackById;return this.map.get(m).remove(g)&&this.map.delete(m),g}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function i8(f,g,m){const _=f.previousIndex;if(null===_)return _;let b=0;return m&&_<m.length&&(b=m[_]),_+g+b}class F3{constructor(){}supports(g){return g instanceof Map||Gg(g)}create(){return new I5}}class I5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(g){let m;for(m=this._mapHead;null!==m;m=m._next)g(m)}forEachPreviousItem(g){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)g(m)}forEachChangedItem(g){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)g(m)}forEachAddedItem(g){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)g(m)}forEachRemovedItem(g){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)g(m)}diff(g){if(g){if(!(g instanceof Map||Gg(g)))throw new lt(900,"")}else g=new Map;return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(g,(_,b)=>{if(m&&m.key===b)this._maybeAddToChanges(m,_),this._appendAfter=m,m=m._next;else{const D=this._getOrCreateRecordForKey(b,_);m=this._insertBeforeOrAppend(m,D)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let _=m;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(g,m){if(g){const _=g._prev;return m._next=g,m._prev=_,g._prev=m,_&&(_._next=m),g===this._mapHead&&(this._mapHead=m),this._appendAfter=g,g}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(g,m){if(this._records.has(g)){const b=this._records.get(g);this._maybeAddToChanges(b,m);const D=b._prev,A=b._next;return D&&(D._next=A),A&&(A._prev=D),b._next=null,b._prev=null,b}const _=new N5(g);return this._records.set(g,_),_.currentValue=m,this._addToAdditions(_),_}_reset(){if(this.isDirty){let g;for(this._previousMapHead=this._mapHead,g=this._previousMapHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._changesHead;null!==g;g=g._nextChanged)g.previousValue=g.currentValue;for(g=this._additionsHead;null!=g;g=g._nextAdded)g.previousValue=g.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(g,m){Object.is(m,g.currentValue)||(g.previousValue=g.currentValue,g.currentValue=m,this._addToChanges(g))}_addToAdditions(g){null===this._additionsHead?this._additionsHead=this._additionsTail=g:(this._additionsTail._nextAdded=g,this._additionsTail=g)}_addToChanges(g){null===this._changesHead?this._changesHead=this._changesTail=g:(this._changesTail._nextChanged=g,this._changesTail=g)}_forEach(g,m){g instanceof Map?g.forEach(m):Object.keys(g).forEach(_=>m(g[_],_))}}class N5{constructor(g){this.key=g,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C1(){return new L3([new Gp])}let L3=(()=>{class f{constructor(m){this.factories=m}static create(m,_){if(null!=_){const b=_.factories.slice();m=m.concat(b)}return new f(m)}static extend(m){return{provide:f,useFactory:_=>f.create(m,_||C1()),deps:[[f,new Pu,new Pd]]}}find(m){const _=this.factories.find(b=>b.supports(m));if(null!=_)return _;throw new lt(901,"")}}return f.\u0275prov=gr({token:f,providedIn:"root",factory:C1}),f})();function o8(){return new a8([new F3])}let a8=(()=>{class f{constructor(m){this.factories=m}static create(m,_){if(_){const b=_.factories.slice();m=m.concat(b)}return new f(m)}static extend(m){return{provide:f,useFactory:_=>f.create(m,_||o8()),deps:[[f,new Pu,new Pd]]}}find(m){const _=this.factories.find(D=>D.supports(m));if(_)return _;throw new lt(901,"")}}return f.\u0275prov=gr({token:f,providedIn:"root",factory:o8}),f})();const c8=O3(null,"core",[{provide:kp,useValue:"unknown"},{provide:R6,deps:[_a]},{provide:A6,deps:[]},{provide:Cd,deps:[]}]);let z5=(()=>{class f{constructor(m){}}return f.\u0275fac=function(m){return new(m||f)(Ho(Eu))},f.\u0275mod=vr({type:f}),f.\u0275inj=oi({}),f})()},3075:(Dn,ht,I)=>{I.d(ht,{Fj:()=>Je,JJ:()=>Kn,JL:()=>qt,JU:()=>Ae,On:()=>Bo,Q7:()=>ta,TO:()=>Yr,UX:()=>si,Wl:()=>Pe,_Y:()=>Xo,a5:()=>rr,kI:()=>w,oH:()=>qa,qu:()=>yi,sg:()=>Qo,u:()=>Da,u5:()=>Zr,wV:()=>No});var x=I(5e3),G=I(9808),z=I(188),Se=I(4128),Ee=I(4004);let Fe=(()=>{class ee{constructor(B,Ce){this._renderer=B,this._elementRef=Ce,this.onChange=un=>{},this.onTouched=()=>{}}setProperty(B,Ce){this._renderer.setProperty(this._elementRef.nativeElement,B,Ce)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return ee.\u0275fac=function(B){return new(B||ee)(x.Y36(x.Qsj),x.Y36(x.SBq))},ee.\u0275dir=x.lG2({type:ee}),ee})(),ke=(()=>{class ee extends Fe{}return ee.\u0275fac=function(){let $;return function(Ce){return($||($=x.n5z(ee)))(Ce||ee)}}(),ee.\u0275dir=x.lG2({type:ee,features:[x.qOj]}),ee})();const Ae=new x.OlP("NgValueAccessor"),Ve={provide:Ae,useExisting:(0,x.Gpc)(()=>Pe),multi:!0};let Pe=(()=>{class ee extends ke{writeValue(B){this.setProperty("checked",B)}}return ee.\u0275fac=function(){let $;return function(Ce){return($||($=x.n5z(ee)))(Ce||ee)}}(),ee.\u0275dir=x.lG2({type:ee,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(B,Ce){1&B&&x.NdJ("change",function(Zn){return Ce.onChange(Zn.target.checked)})("blur",function(){return Ce.onTouched()})},features:[x._Bn([Ve]),x.qOj]}),ee})();const Oe={provide:Ae,useExisting:(0,x.Gpc)(()=>Je),multi:!0},Xe=new x.OlP("CompositionEventMode");let Je=(()=>{class ee extends Fe{constructor(B,Ce,un){super(B,Ce),this._compositionMode=un,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const ee=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(ee.toLowerCase())}())}writeValue(B){this.setProperty("value",null==B?"":B)}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return ee.\u0275fac=function(B){return new(B||ee)(x.Y36(x.Qsj),x.Y36(x.SBq),x.Y36(Xe,8))},ee.\u0275dir=x.lG2({type:ee,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,Ce){1&B&&x.NdJ("input",function(Zn){return Ce._handleInput(Zn.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(Zn){return Ce._compositionEnd(Zn.target.value)})},features:[x._Bn([Oe]),x.qOj]}),ee})();function lt(ee){return null==ee||0===ee.length}function Lt(ee){return null!=ee&&"number"==typeof ee.length}const ct=new x.OlP("NgValidators"),Jt=new x.OlP("NgAsyncValidators"),On=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class w{static min($){return function Yt(ee){return $=>{if(lt($.value)||lt(ee))return null;const B=parseFloat($.value);return!isNaN(B)&&B<ee?{min:{min:ee,actual:$.value}}:null}}($)}static max($){return function se(ee){return $=>{if(lt($.value)||lt(ee))return null;const B=parseFloat($.value);return!isNaN(B)&&B>ee?{max:{max:ee,actual:$.value}}:null}}($)}static required($){return ot($)}static requiredTrue($){return function De(ee){return!0===ee.value?null:{required:!0}}($)}static email($){return function et(ee){return lt(ee.value)||On.test(ee.value)?null:{email:!0}}($)}static minLength($){return function gt(ee){return $=>lt($.value)||!Lt($.value)?null:$.value.length<ee?{minlength:{requiredLength:ee,actualLength:$.value.length}}:null}($)}static maxLength($){return function ze(ee){return $=>Lt($.value)&&$.value.length>ee?{maxlength:{requiredLength:ee,actualLength:$.value.length}}:null}($)}static pattern($){return function mt(ee){if(!ee)return Ft;let $,B;return"string"==typeof ee?(B="","^"!==ee.charAt(0)&&(B+="^"),B+=ee,"$"!==ee.charAt(ee.length-1)&&(B+="$"),$=new RegExp(B)):(B=ee.toString(),$=ee),Ce=>{if(lt(Ce.value))return null;const un=Ce.value;return $.test(un)?null:{pattern:{requiredPattern:B,actualValue:un}}}}($)}static nullValidator($){return null}static compose($){return xt($)}static composeAsync($){return Hn($)}}function ot(ee){return lt(ee.value)?{required:!0}:null}function Ft(ee){return null}function It(ee){return null!=ee}function $t(ee){const $=(0,x.QGY)(ee)?(0,z.D)(ee):ee;return(0,x.CqO)($),$}function ut(ee){let $={};return ee.forEach(B=>{$=null!=B?Object.assign(Object.assign({},$),B):$}),0===Object.keys($).length?null:$}function pn(ee,$){return $.map(B=>B(ee))}function en(ee){return ee.map($=>function tt(ee){return!ee.validate}($)?$:B=>$.validate(B))}function xt(ee){if(!ee)return null;const $=ee.filter(It);return 0==$.length?null:function(B){return ut(pn(B,$))}}function jt(ee){return null!=ee?xt(en(ee)):null}function Hn(ee){if(!ee)return null;const $=ee.filter(It);return 0==$.length?null:function(B){const Ce=pn(B,$).map($t);return(0,Se.D)(Ce).pipe((0,Ee.U)(ut))}}function or(ee){return null!=ee?Hn(en(ee)):null}function _r(ee,$){return null===ee?[$]:Array.isArray(ee)?[...ee,$]:[ee,$]}function gr(ee){return ee._rawValidators}function xi(ee){return ee._rawAsyncValidators}function oi(ee){return ee?Array.isArray(ee)?ee:[ee]:[]}function Or(ee,$){return Array.isArray(ee)?ee.includes($):ee===$}function bi(ee,$){const B=oi($);return oi(ee).forEach(un=>{Or(B,un)||B.push(un)}),B}function Ni(ee,$){return oi($).filter(B=>!Or(ee,B))}class Ui{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,B){return!!this.control&&this.control.hasError($,B)}getError($,B){return this.control?this.control.getError($,B):null}}class rr extends Ui{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pr extends Ui{get formDirective(){return null}get path(){return null}}class Mi{constructor($){this._cd=$}is($){var B,Ce,un;return"submitted"===$?!!(null===(B=this._cd)||void 0===B?void 0:B.submitted):!!(null===(un=null===(Ce=this._cd)||void 0===Ce?void 0:Ce.control)||void 0===un?void 0:un[$])}}let Kn=(()=>{class ee extends Mi{constructor(B){super(B)}}return ee.\u0275fac=function(B){return new(B||ee)(x.Y36(rr,2))},ee.\u0275dir=x.lG2({type:ee,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,Ce){2&B&&x.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))},features:[x.qOj]}),ee})(),qt=(()=>{class ee extends Mi{constructor(B){super(B)}}return ee.\u0275fac=function(B){return new(B||ee)(x.Y36(pr,10))},ee.\u0275dir=x.lG2({type:ee,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,Ce){2&B&&x.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))("ng-submitted",Ce.is("submitted"))},features:[x.qOj]}),ee})();function Vt(ee,$){return[...$.path,ee]}function fn(ee,$){Lr(ee,$),$.valueAccessor.writeValue(ee.value),function dr(ee,$){$.valueAccessor.registerOnChange(B=>{ee._pendingValue=B,ee._pendingChange=!0,ee._pendingDirty=!0,"change"===ee.updateOn&&wt(ee,$)})}(ee,$),function Be(ee,$){const B=(Ce,un)=>{$.valueAccessor.writeValue(Ce),un&&$.viewToModelUpdate(Ce)};ee.registerOnChange(B),$._registerOnDestroy(()=>{ee._unregisterOnChange(B)})}(ee,$),function Bt(ee,$){$.valueAccessor.registerOnTouched(()=>{ee._pendingTouched=!0,"blur"===ee.updateOn&&ee._pendingChange&&wt(ee,$),"submit"!==ee.updateOn&&ee.markAsTouched()})}(ee,$),function er(ee,$){if($.valueAccessor.setDisabledState){const B=Ce=>{$.valueAccessor.setDisabledState(Ce)};ee.registerOnDisabledChange(B),$._registerOnDestroy(()=>{ee._unregisterOnDisabledChange(B)})}}(ee,$)}function mn(ee,$,B=!0){const Ce=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(Ce),$.valueAccessor.registerOnTouched(Ce)),Er(ee,$),ee&&($._invokeOnDestroyCallbacks(),ee._registerOnCollectionChange(()=>{}))}function oe(ee,$){ee.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange($)})}function Lr(ee,$){const B=gr(ee);null!==$.validator?ee.setValidators(_r(B,$.validator)):"function"==typeof B&&ee.setValidators([B]);const Ce=xi(ee);null!==$.asyncValidator?ee.setAsyncValidators(_r(Ce,$.asyncValidator)):"function"==typeof Ce&&ee.setAsyncValidators([Ce]);const un=()=>ee.updateValueAndValidity();oe($._rawValidators,un),oe($._rawAsyncValidators,un)}function Er(ee,$){let B=!1;if(null!==ee){if(null!==$.validator){const un=gr(ee);if(Array.isArray(un)&&un.length>0){const Zn=un.filter(Ar=>Ar!==$.validator);Zn.length!==un.length&&(B=!0,ee.setValidators(Zn))}}if(null!==$.asyncValidator){const un=xi(ee);if(Array.isArray(un)&&un.length>0){const Zn=un.filter(Ar=>Ar!==$.asyncValidator);Zn.length!==un.length&&(B=!0,ee.setAsyncValidators(Zn))}}}const Ce=()=>{};return oe($._rawValidators,Ce),oe($._rawAsyncValidators,Ce),B}function wt(ee,$){ee._pendingDirty&&ee.markAsDirty(),ee.setValue(ee._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1}function Ct(ee,$){if(!ee.hasOwnProperty("model"))return!1;const B=ee.model;return!!B.isFirstChange()||!Object.is($,B.currentValue)}function je(ee,$){if(!$)return null;let B,Ce,un;return Array.isArray($),$.forEach(Zn=>{Zn.constructor===Je?B=Zn:function Ke(ee){return Object.getPrototypeOf(ee.constructor)===ke}(Zn)?Ce=Zn:un=Zn}),un||Ce||B||null}function kt(ee,$){const B=ee.indexOf($);B>-1&&ee.splice(B,1)}const yn="VALID",zn="INVALID",sr="PENDING",Mr="DISABLED";function Pi(ee){return(hi(ee)?ee.validators:ee)||null}function $r(ee){return Array.isArray(ee)?jt(ee):ee||null}function Vn(ee,$){return(hi($)?$.asyncValidators:ee)||null}function Rr(ee){return Array.isArray(ee)?or(ee):ee||null}function hi(ee){return null!=ee&&!Array.isArray(ee)&&"object"==typeof ee}const so=ee=>ee instanceof wr,qr=ee=>ee instanceof Qi,Pr=ee=>ee instanceof Ki;function cr(ee){return so(ee)?ee.value:ee.getRawValue()}function Xr(ee,$){const B=qr(ee),Ce=ee.controls;if(!(B?Object.keys(Ce):Ce).length)throw new x.vHH(1e3,"");if(!Ce[$])throw new x.vHH(1001,"")}function Bi(ee,$){qr(ee),ee._forEachChild((Ce,un)=>{if(void 0===$[un])throw new x.vHH(1002,"")})}class Yr{constructor($,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=B,this._composedValidatorFn=$r(this._rawValidators),this._composedAsyncValidatorFn=Rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===yn}get invalid(){return this.status===zn}get pending(){return this.status==sr}get disabled(){return this.status===Mr}get enabled(){return this.status!==Mr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=$r($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=Rr($)}addValidators($){this.setValidators(bi($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(bi($,this._rawAsyncValidators))}removeValidators($){this.setValidators(Ni($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(Ni($,this._rawAsyncValidators))}hasValidator($){return Or(this._rawValidators,$)}hasAsyncValidator($){return Or(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=sr,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const B=this._parentMarkedDirty($.onlySelf);this.status=Mr,this.errors=null,this._forEachChild(Ce=>{Ce.disable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:B})),this._onDisabledChange.forEach(Ce=>Ce(!0))}enable($={}){const B=this._parentMarkedDirty($.onlySelf);this.status=yn,this._forEachChild(Ce=>{Ce.enable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:B})),this._onDisabledChange.forEach(Ce=>Ce(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yn||this.status===sr)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mr:yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=sr,this._hasOwnPendingAsyncValidator=!0;const B=$t(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(Ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ce,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,B={}){this.errors=$,this._updateControlsErrors(!1!==B.emitEvent)}get($){return function Br(ee,$,B){if(null==$||(Array.isArray($)||($=$.split(B)),Array.isArray($)&&0===$.length))return null;let Ce=ee;return $.forEach(un=>{Ce=qr(Ce)?Ce.controls.hasOwnProperty(un)?Ce.controls[un]:null:Pr(Ce)&&Ce.at(un)||null}),Ce}(this,$,".")}getError($,B){const Ce=B?this.get(B):this;return Ce&&Ce.errors?Ce.errors[$]:null}hasError($,B){return!!this.getError($,B)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new x.vpe,this.statusChanges=new x.vpe}_calculateStatus(){return this._allControlsDisabled()?Mr:this.errors?zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sr)?sr:this._anyControlsHaveStatus(zn)?zn:yn}_anyControlsHaveStatus($){return this._anyControls(B=>B.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_isBoxedValue($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){hi($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wr extends Yr{constructor($=null,B,Ce){super(Pi(B),Vn(Ce,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hi(B)&&B.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue($)?$.value:$)}setValue($,B={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(Ce=>Ce(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue($,B={}){this.setValue($,B)}reset($=this.defaultValue,B={}){this._applyFormState($),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){kt(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){kt(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){this._isBoxedValue($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}}class Qi extends Yr{constructor($,B,Ce){super(Pi(B),Vn(Ce,B)),this.controls=$,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,B){return this.controls[$]?this.controls[$]:(this.controls[$]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl($,B,Ce={}){this.registerControl($,B),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}removeControl($,B={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl($,B,Ce={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],B&&this.registerControl($,B),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,B={}){Bi(this,$),Object.keys($).forEach(Ce=>{Xr(this,Ce),this.controls[Ce].setValue($[Ce],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue($,B={}){null!=$&&(Object.keys($).forEach(Ce=>{this.controls[Ce]&&this.controls[Ce].patchValue($[Ce],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset($={},B={}){this._forEachChild((Ce,un)=>{Ce.reset($[un],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},($,B,Ce)=>($[Ce]=cr(B),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(B,Ce)=>!!Ce._syncPendingControls()||B);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(B=>{const Ce=this.controls[B];Ce&&$(Ce,B)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const B of Object.keys(this.controls)){const Ce=this.controls[B];if(this.contains(B)&&$(Ce))return!0}return!1}_reduceValue(){return this._reduceChildren({},($,B,Ce)=>((B.enabled||this.disabled)&&($[Ce]=B.value),$))}_reduceChildren($,B){let Ce=$;return this._forEachChild((un,Zn)=>{Ce=B(Ce,un,Zn)}),Ce}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ki extends Yr{constructor($,B,Ce){super(Pi(B),Vn(Ce,B)),this.controls=$,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[$]}push($,B={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert($,B,Ce={}){this.controls.splice($,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:Ce.emitEvent})}removeAt($,B={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl($,B,Ce={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),B&&(this.controls.splice($,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,B={}){Bi(this,$),$.forEach((Ce,un)=>{Xr(this,un),this.at(un).setValue(Ce,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue($,B={}){null!=$&&($.forEach((Ce,un)=>{this.at(un)&&this.at(un).patchValue(Ce,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset($=[],B={}){this._forEachChild((Ce,un)=>{Ce.reset($[un],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map($=>cr($))}clear($={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_syncPendingControls(){let $=this.controls.reduce((B,Ce)=>!!Ce._syncPendingControls()||B,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((B,Ce)=>{$(B,Ce)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(B=>B.enabled&&$(B))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}}const ki={provide:rr,useExisting:(0,x.Gpc)(()=>Bo)},no=(()=>Promise.resolve(null))();let Bo=(()=>{class ee extends rr{constructor(B,Ce,un,Zn,Ar){super(),this._changeDetectorRef=Ar,this.control=new wr,this._registered=!1,this.update=new x.vpe,this._parent=B,this._setValidators(Ce),this._setAsyncValidators(un),this.valueAccessor=je(0,Zn)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const Ce=B.name.previousValue;this.formDirective.removeControl({name:Ce,path:this._getPath(Ce)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),Ct(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){no.then(()=>{var Ce;this.control.setValue(B,{emitViewToModelChange:!1}),null===(Ce=this._changeDetectorRef)||void 0===Ce||Ce.markForCheck()})}_updateDisabled(B){const Ce=B.isDisabled.currentValue,un=""===Ce||Ce&&"false"!==Ce;no.then(()=>{var Zn;un&&!this.control.disabled?this.control.disable():!un&&this.control.disabled&&this.control.enable(),null===(Zn=this._changeDetectorRef)||void 0===Zn||Zn.markForCheck()})}_getPath(B){return this._parent?Vt(B,this._parent):[B]}}return ee.\u0275fac=function(B){return new(B||ee)(x.Y36(pr,9),x.Y36(ct,10),x.Y36(Jt,10),x.Y36(Ae,10),x.Y36(x.sBO,8))},ee.\u0275dir=x.lG2({type:ee,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[x._Bn([ki]),x.qOj,x.TTD]}),ee})(),Xo=(()=>{class ee{}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275dir=x.lG2({type:ee,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ee})();const qe={provide:Ae,useExisting:(0,x.Gpc)(()=>No),multi:!0};let No=(()=>{class ee extends ke{writeValue(B){this.setProperty("value",null==B?"":B)}registerOnChange(B){this.onChange=Ce=>{B(""==Ce?null:parseFloat(Ce))}}}return ee.\u0275fac=function(){let $;return function(Ce){return($||($=x.n5z(ee)))(Ce||ee)}}(),ee.\u0275dir=x.lG2({type:ee,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(B,Ce){1&B&&x.NdJ("input",function(Zn){return Ce.onChange(Zn.target.value)})("blur",function(){return Ce.onTouched()})},features:[x._Bn([qe]),x.qOj]}),ee})(),vo=(()=>{class ee{}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275mod=x.oAB({type:ee}),ee.\u0275inj=x.cJS({}),ee})();const Na=new x.OlP("NgModelWithFormControlWarning"),Zo={provide:rr,useExisting:(0,x.Gpc)(()=>qa)};let qa=(()=>{class ee extends rr{constructor(B,Ce,un,Zn){super(),this._ngModelWarningConfig=Zn,this.update=new x.vpe,this._ngModelWarningSent=!1,this._setValidators(B),this._setAsyncValidators(Ce),this.valueAccessor=je(0,un)}set isDisabled(B){}ngOnChanges(B){if(this._isControlChanged(B)){const Ce=B.form.previousValue;Ce&&mn(Ce,this,!1),fn(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ct(B,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_isControlChanged(B){return B.hasOwnProperty("form")}}return ee._ngModelWarningSentOnce=!1,ee.\u0275fac=function(B){return new(B||ee)(x.Y36(ct,10),x.Y36(Jt,10),x.Y36(Ae,10),x.Y36(Na,8))},ee.\u0275dir=x.lG2({type:ee,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[x._Bn([Zo]),x.qOj,x.TTD]}),ee})();const Tc={provide:pr,useExisting:(0,x.Gpc)(()=>Qo)};let Qo=(()=>{class ee extends pr{constructor(B,Ce){super(),this.validators=B,this.asyncValidators=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x.vpe,this._setValidators(B),this._setAsyncValidators(Ce)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const Ce=this.form.get(B.path);return fn(Ce,B),Ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),Ce}getControl(B){return this.form.get(B.path)}removeControl(B){mn(B.control||null,B,!1),kt(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,Ce){this.form.get(B.path).setValue(Ce)}onSubmit(B){return this.submitted=!0,function ft(ee,$){ee._syncPendingControls(),$.forEach(B=>{const Ce=B.control;"submit"===Ce.updateOn&&Ce._pendingChange&&(B.viewToModelUpdate(Ce._pendingValue),Ce._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),!1}onReset(){this.resetForm()}resetForm(B){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const Ce=B.control,un=this.form.get(B.path);Ce!==un&&(mn(Ce||null,B),so(un)&&(fn(un,B),B.control=un))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const Ce=this.form.get(B.path);(function xe(ee,$){Lr(ee,$)})(Ce,B),Ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const Ce=this.form.get(B.path);Ce&&function Nt(ee,$){return Er(ee,$)}(Ce,B)&&Ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lr(this.form,this),this._oldForm&&Er(this._oldForm,this)}_checkFormPresent(){}}return ee.\u0275fac=function(B){return new(B||ee)(x.Y36(ct,10),x.Y36(Jt,10))},ee.\u0275dir=x.lG2({type:ee,selectors:[["","formGroup",""]],hostBindings:function(B,Ce){1&B&&x.NdJ("submit",function(Zn){return Ce.onSubmit(Zn)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x._Bn([Tc]),x.qOj,x.TTD]}),ee})();const Ls={provide:rr,useExisting:(0,x.Gpc)(()=>Da)};let Da=(()=>{class ee extends rr{constructor(B,Ce,un,Zn,Ar){super(),this._ngModelWarningConfig=Ar,this._added=!1,this.update=new x.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(Ce),this._setAsyncValidators(un),this.valueAccessor=je(0,Zn)}set isDisabled(B){}ngOnChanges(B){this._added||this._setUpControl(),Ct(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return Vt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return ee._ngModelWarningSentOnce=!1,ee.\u0275fac=function(B){return new(B||ee)(x.Y36(pr,13),x.Y36(ct,10),x.Y36(Jt,10),x.Y36(Ae,10),x.Y36(Na,8))},ee.\u0275dir=x.lG2({type:ee,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[x._Bn([Ls]),x.qOj,x.TTD]}),ee})(),Fi=(()=>{class ee{constructor(){this._validator=Ft}ngOnChanges(B){if(this.inputName in B){const Ce=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(Ce),this._validator=this._enabled?this.createValidator(Ce):Ft,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275dir=x.lG2({type:ee,features:[x.TTD]}),ee})();const Uo={provide:ct,useExisting:(0,x.Gpc)(()=>ta),multi:!0};let ta=(()=>{class ee extends Fi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=B=>function il(ee){return null!=ee&&!1!==ee&&"false"!=`${ee}`}(B),this.createValidator=B=>ot}enabled(B){return B}}return ee.\u0275fac=function(){let $;return function(Ce){return($||($=x.n5z(ee)))(Ce||ee)}}(),ee.\u0275dir=x.lG2({type:ee,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(B,Ce){2&B&&x.uIk("required",Ce._enabled?"":null)},inputs:{required:"required"},features:[x._Bn([Uo]),x.qOj]}),ee})(),ai=(()=>{class ee{}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275mod=x.oAB({type:ee}),ee.\u0275inj=x.cJS({imports:[[vo]]}),ee})(),Zr=(()=>{class ee{}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275mod=x.oAB({type:ee}),ee.\u0275inj=x.cJS({imports:[ai]}),ee})(),si=(()=>{class ee{static withConfig(B){return{ngModule:ee,providers:[{provide:Na,useValue:B.warnOnNgModelWithFormControl}]}}}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275mod=x.oAB({type:ee}),ee.\u0275inj=x.cJS({imports:[ai]}),ee})(),yi=(()=>{class ee{group(B,Ce=null){const un=this._reduceControls(B);let wo,Zn=null,Ar=null;return null!=Ce&&(function Ji(ee){return void 0!==ee.asyncValidators||void 0!==ee.validators||void 0!==ee.updateOn}(Ce)?(Zn=null!=Ce.validators?Ce.validators:null,Ar=null!=Ce.asyncValidators?Ce.asyncValidators:null,wo=null!=Ce.updateOn?Ce.updateOn:void 0):(Zn=null!=Ce.validator?Ce.validator:null,Ar=null!=Ce.asyncValidator?Ce.asyncValidator:null)),new Qi(un,{asyncValidators:Ar,updateOn:wo,validators:Zn})}control(B,Ce,un){return new wr(B,Ce,un)}array(B,Ce,un){const Zn=B.map(Ar=>this._createControl(Ar));return new Ki(Zn,Ce,un)}_reduceControls(B){const Ce={};return Object.keys(B).forEach(un=>{Ce[un]=this._createControl(B[un])}),Ce}_createControl(B){return so(B)||qr(B)||Pr(B)?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}}return ee.\u0275fac=function(B){return new(B||ee)},ee.\u0275prov=x.Yz7({token:ee,factory:ee.\u0275fac,providedIn:si}),ee})()},6360:(Dn,ht,I)=>{I.d(ht,{Qb:()=>q,PW:()=>tr});var x=I(5e3),G=I(2313),z=I(1777);const Se=!1;function Fe(re){return new x.vHH(3e3,Se)}function xi(){return"undefined"!=typeof window&&void 0!==window.document}function oi(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Or(re){switch(re.length){case 0:return new z.ZN;case 1:return re[0];default:return new z.ZE(re)}}function bi(re,P,F,K,ge={},Ge={}){const pt=[],vt=[];let Ht=-1,Qt=null;if(K.forEach(Gn=>{const Bn=Gn.offset,mr=Bn==Ht,Wr=mr&&Qt||{};Object.keys(Gn).forEach(Dr=>{let Nr=Dr,ui=Gn[Dr];if("offset"!==Dr)switch(Nr=P.normalizePropertyName(Nr,pt),ui){case z.k1:ui=ge[Dr];break;case z.l3:ui=Ge[Dr];break;default:ui=P.normalizeStyleValue(Dr,Nr,ui,pt)}Wr[Nr]=ui}),mr||vt.push(Wr),Qt=Wr,Ht=Bn}),pt.length)throw function It(re){return new x.vHH(3502,Se)}();return vt}function Ni(re,P,F,K){switch(P){case"start":re.onStart(()=>K(F&&Ui(F,"start",re)));break;case"done":re.onDone(()=>K(F&&Ui(F,"done",re)));break;case"destroy":re.onDestroy(()=>K(F&&Ui(F,"destroy",re)))}}function Ui(re,P,F){const K=F.totalTime,Ge=rr(re.element,re.triggerName,re.fromState,re.toState,P||re.phaseName,null==K?re.totalTime:K,!!F.disabled),pt=re._data;return null!=pt&&(Ge._data=pt),Ge}function rr(re,P,F,K,ge="",Ge=0,pt){return{element:re,triggerName:P,fromState:F,toState:K,phaseName:ge,totalTime:Ge,disabled:!!pt}}function pr(re,P,F){let K;return re instanceof Map?(K=re.get(P),K||re.set(P,K=F)):(K=re[P],K||(K=re[P]=F)),K}function Mi(re){const P=re.indexOf(":");return[re.substring(1,P),re.substr(P+1)]}let mi=(re,P)=>!1,ao=(re,P,F)=>[],Kn=null;function qt(re){const P=re.parentNode||re.host;return P===Kn?null:P}(oi()||"undefined"!=typeof Element)&&(xi()?(Kn=(()=>document.documentElement)(),mi=(re,P)=>{for(;P;){if(P===re)return!0;P=qt(P)}return!1}):mi=(re,P)=>re.contains(P),ao=(re,P,F)=>{if(F)return Array.from(re.querySelectorAll(P));const K=re.querySelector(P);return K?[K]:[]});let At=null,Xt=!1;function dt(re){At||(At=function $e(){return"undefined"!=typeof document?document.body:null}()||{},Xt=!!At.style&&"WebkitAppearance"in At.style);let P=!0;return At.style&&!function Ye(re){return"ebkit"==re.substring(1,6)}(re)&&(P=re in At.style,!P&&Xt&&(P="Webkit"+re.charAt(0).toUpperCase()+re.substr(1)in At.style)),P}const fe=mi,We=ao;let Ie=(()=>{class re{validateStyleProperty(F){return dt(F)}matchesElement(F,K){return!1}containsElement(F,K){return fe(F,K)}getParentElement(F){return qt(F)}query(F,K,ge){return We(F,K,ge)}computeStyle(F,K,ge){return ge||""}animate(F,K,ge,Ge,pt,vt=[],Ht){return new z.ZN(ge,Ge)}}return re.\u0275fac=function(F){return new(F||re)},re.\u0275prov=x.Yz7({token:re,factory:re.\u0275fac}),re})(),Tt=(()=>{class re{}return re.NOOP=new Ie,re})();const ar="ng-enter",br="ng-leave",Vt="ng-trigger",fn=".ng-trigger",mn="ng-animating",oe=".ng-animating";function er(re){if("number"==typeof re)return re;const P=re.match(/^(-?[\.\d]+)(m?s)/);return!P||P.length<2?0:Lr(parseFloat(P[1]),P[2])}function Lr(re,P){return"s"===P?1e3*re:re}function Er(re,P,F){return re.hasOwnProperty("duration")?re:function dr(re,P,F){let ge,Ge=0,pt="";if("string"==typeof re){const vt=re.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===vt)return P.push(Fe()),{duration:0,delay:0,easing:""};ge=Lr(parseFloat(vt[1]),vt[2]);const Ht=vt[3];null!=Ht&&(Ge=Lr(parseFloat(Ht),vt[4]));const Qt=vt[5];Qt&&(pt=Qt)}else ge=re;if(!F){let vt=!1,Ht=P.length;ge<0&&(P.push(function ke(){return new x.vHH(3100,Se)}()),vt=!0),Ge<0&&(P.push(function Ae(){return new x.vHH(3101,Se)}()),vt=!0),vt&&P.splice(Ht,0,Fe())}return{duration:ge,delay:Ge,easing:pt}}(re,P,F)}function Bt(re,P={}){return Object.keys(re).forEach(F=>{P[F]=re[F]}),P}function Be(re,P,F={}){if(P)for(let K in re)F[K]=re[K];else Bt(re,F);return F}function xe(re,P,F){return F?P+":"+F+";":""}function Nt(re){let P="";for(let F=0;F<re.style.length;F++){const K=re.style.item(F);P+=xe(0,K,re.style.getPropertyValue(K))}for(const F in re.style)re.style.hasOwnProperty(F)&&!F.startsWith("_")&&(P+=xe(0,St(F),re.style[F]));re.setAttribute("style",P)}function an(re,P,F){re.style&&(Object.keys(P).forEach(K=>{const ge=pe(K);F&&!F.hasOwnProperty(K)&&(F[K]=re.style[ge]),re.style[ge]=P[K]}),oi()&&Nt(re))}function vr(re,P){re.style&&(Object.keys(P).forEach(F=>{const K=pe(F);re.style[K]=""}),oi()&&Nt(re))}function hr(re){return Array.isArray(re)?1==re.length?re[0]:(0,z.vP)(re):re}const Ct=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ke(re){let P=[];if("string"==typeof re){let F;for(;F=Ct.exec(re);)P.push(F[1]);Ct.lastIndex=0}return P}function ft(re,P,F){const K=re.toString(),ge=K.replace(Ct,(Ge,pt)=>{let vt=P[pt];return P.hasOwnProperty(pt)||(F.push(function Pe(re){return new x.vHH(3003,Se)}()),vt=""),vt.toString()});return ge==K?re:ge}function je(re){const P=[];let F=re.next();for(;!F.done;)P.push(F.value),F=re.next();return P}const kt=/-+([a-z0-9])/g;function pe(re){return re.replace(kt,(...P)=>P[1].toUpperCase())}function St(re){return re.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sr(re,P,F){switch(P.type){case 7:return re.visitTrigger(P,F);case 0:return re.visitState(P,F);case 1:return re.visitTransition(P,F);case 2:return re.visitSequence(P,F);case 3:return re.visitGroup(P,F);case 4:return re.visitAnimate(P,F);case 5:return re.visitKeyframes(P,F);case 6:return re.visitStyle(P,F);case 8:return re.visitReference(P,F);case 9:return re.visitAnimateChild(P,F);case 10:return re.visitAnimateRef(P,F);case 11:return re.visitQuery(P,F);case 12:return re.visitStagger(P,F);default:throw function Oe(re){return new x.vHH(3004,Se)}()}}function Mr(re,P){return window.getComputedStyle(re)[P]}function Pr(re,P){const F=[];return"string"==typeof re?re.split(/\s*,\s*/).forEach(K=>function cr(re,P,F){if(":"==re[0]){const Ht=function Xr(re,P){switch(re){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(F,K)=>parseFloat(K)>parseFloat(F);case":decrement":return(F,K)=>parseFloat(K)<parseFloat(F);default:return P.push(function gt(re){return new x.vHH(3016,Se)}()),"* => *"}}(re,F);if("function"==typeof Ht)return void P.push(Ht);re=Ht}const K=re.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==K||K.length<4)return F.push(function et(re){return new x.vHH(3015,Se)}()),P;const ge=K[1],Ge=K[2],pt=K[3];P.push(wr(ge,pt));"<"==Ge[0]&&!("*"==ge&&"*"==pt)&&P.push(wr(pt,ge))}(K,F,P)):F.push(re),F}const Bi=new Set(["true","1"]),Yr=new Set(["false","0"]);function wr(re,P){const F=Bi.has(re)||Yr.has(re),K=Bi.has(P)||Yr.has(P);return(ge,Ge)=>{let pt="*"==re||re==ge,vt="*"==P||P==Ge;return!pt&&F&&"boolean"==typeof ge&&(pt=ge?Bi.has(re):Yr.has(re)),!vt&&K&&"boolean"==typeof Ge&&(vt=Ge?Bi.has(P):Yr.has(P)),pt&&vt}}const Ki=new RegExp("s*:selfs*,?","g");function go(re,P,F,K){return new $i(re).build(P,F,K)}class $i{constructor(P){this._driver=P}build(P,F,K){const ge=new lo(F);this._resetContextStyleTimingState(ge);const Ge=sr(this,hr(P),ge);return ge.unsupportedCSSPropertiesFound.size&&ge.unsupportedCSSPropertiesFound.keys(),Ge}_resetContextStyleTimingState(P){P.currentQuerySelector="",P.collectedStyles={},P.collectedStyles[""]={},P.currentTime=0}visitTrigger(P,F){let K=F.queryCount=0,ge=F.depCount=0;const Ge=[],pt=[];return"@"==P.name.charAt(0)&&F.errors.push(function Xe(){return new x.vHH(3006,Se)}()),P.definitions.forEach(vt=>{if(this._resetContextStyleTimingState(F),0==vt.type){const Ht=vt,Qt=Ht.name;Qt.toString().split(/\s*,\s*/).forEach(Gn=>{Ht.name=Gn,Ge.push(this.visitState(Ht,F))}),Ht.name=Qt}else if(1==vt.type){const Ht=this.visitTransition(vt,F);K+=Ht.queryCount,ge+=Ht.depCount,pt.push(Ht)}else F.errors.push(function Je(){return new x.vHH(3007,Se)}())}),{type:7,name:P.name,states:Ge,transitions:pt,queryCount:K,depCount:ge,options:null}}visitState(P,F){const K=this.visitStyle(P.styles,F),ge=P.options&&P.options.params||null;if(K.containsDynamicStyles){const Ge=new Set,pt=ge||{};K.styles.forEach(vt=>{if(xn(vt)){const Ht=vt;Object.keys(Ht).forEach(Qt=>{Ke(Ht[Qt]).forEach(Gn=>{pt.hasOwnProperty(Gn)||Ge.add(Gn)})})}}),Ge.size&&(je(Ge.values()),F.errors.push(function lt(re,P){return new x.vHH(3008,Se)}()))}return{type:0,name:P.name,style:K,options:ge?{params:ge}:null}}visitTransition(P,F){F.queryCount=0,F.depCount=0;const K=sr(this,hr(P.animation),F);return{type:1,matchers:Pr(P.expr,F.errors),animation:K,queryCount:F.queryCount,depCount:F.depCount,options:wn(P.options)}}visitSequence(P,F){return{type:2,steps:P.steps.map(K=>sr(this,K,F)),options:wn(P.options)}}visitGroup(P,F){const K=F.currentTime;let ge=0;const Ge=P.steps.map(pt=>{F.currentTime=K;const vt=sr(this,pt,F);return ge=Math.max(ge,F.currentTime),vt});return F.currentTime=ge,{type:3,steps:Ge,options:wn(P.options)}}visitAnimate(P,F){const K=function Do(re,P){let F=null;if(re.hasOwnProperty("duration"))F=re;else if("number"==typeof re)return ki(Er(re,P).duration,0,"");const K=re;if(K.split(/\s+/).some(Ge=>"{"==Ge.charAt(0)&&"{"==Ge.charAt(1))){const Ge=ki(0,0,"");return Ge.dynamic=!0,Ge.strValue=K,Ge}return F=F||Er(K,P),ki(F.duration,F.delay,F.easing)}(P.timings,F.errors);F.currentAnimateTimings=K;let ge,Ge=P.styles?P.styles:(0,z.oB)({});if(5==Ge.type)ge=this.visitKeyframes(Ge,F);else{let pt=P.styles,vt=!1;if(!pt){vt=!0;const Qt={};K.easing&&(Qt.easing=K.easing),pt=(0,z.oB)(Qt)}F.currentTime+=K.duration+K.delay;const Ht=this.visitStyle(pt,F);Ht.isEmptyStep=vt,ge=Ht}return F.currentAnimateTimings=null,{type:4,timings:K,style:ge,options:null}}visitStyle(P,F){const K=this._makeStyleAst(P,F);return this._validateStyleAst(K,F),K}_makeStyleAst(P,F){const K=[];Array.isArray(P.styles)?P.styles.forEach(pt=>{"string"==typeof pt?pt==z.l3?K.push(pt):F.errors.push(function Lt(re){return new x.vHH(3002,Se)}()):K.push(pt)}):K.push(P.styles);let ge=!1,Ge=null;return K.forEach(pt=>{if(xn(pt)){const vt=pt,Ht=vt.easing;if(Ht&&(Ge=Ht,delete vt.easing),!ge)for(let Qt in vt)if(vt[Qt].toString().indexOf("{{")>=0){ge=!0;break}}}),{type:6,styles:K,easing:Ge,offset:P.offset,containsDynamicStyles:ge,options:null}}_validateStyleAst(P,F){const K=F.currentAnimateTimings;let ge=F.currentTime,Ge=F.currentTime;K&&Ge>0&&(Ge-=K.duration+K.delay),P.styles.forEach(pt=>{"string"!=typeof pt&&Object.keys(pt).forEach(vt=>{if(!this._driver.validateStyleProperty(vt))return delete pt[vt],void F.unsupportedCSSPropertiesFound.add(vt);const Ht=F.collectedStyles[F.currentQuerySelector],Qt=Ht[vt];let Gn=!0;Qt&&(Ge!=ge&&Ge>=Qt.startTime&&ge<=Qt.endTime&&(F.errors.push(function Jt(re,P,F,K,ge){return new x.vHH(3010,Se)}()),Gn=!1),Ge=Qt.startTime),Gn&&(Ht[vt]={startTime:Ge,endTime:ge}),F.options&&function Dt(re,P,F){const K=P.params||{},ge=Ke(re);ge.length&&ge.forEach(Ge=>{K.hasOwnProperty(Ge)||F.push(function Ve(re){return new x.vHH(3001,Se)}())})}(pt[vt],F.options,F.errors)})})}visitKeyframes(P,F){const K={type:5,styles:[],options:null};if(!F.currentAnimateTimings)return F.errors.push(function On(){return new x.vHH(3011,Se)}()),K;let Ge=0;const pt=[];let vt=!1,Ht=!1,Qt=0;const Gn=P.steps.map(qi=>{const mo=this._makeStyleAst(qi,F);let yo=null!=mo.offset?mo.offset:function ri(re){if("string"==typeof re)return null;let P=null;if(Array.isArray(re))re.forEach(F=>{if(xn(F)&&F.hasOwnProperty("offset")){const K=F;P=parseFloat(K.offset),delete K.offset}});else if(xn(re)&&re.hasOwnProperty("offset")){const F=re;P=parseFloat(F.offset),delete F.offset}return P}(mo.styles),pi=0;return null!=yo&&(Ge++,pi=mo.offset=yo),Ht=Ht||pi<0||pi>1,vt=vt||pi<Qt,Qt=pi,pt.push(pi),mo});Ht&&F.errors.push(function w(){return new x.vHH(3012,Se)}()),vt&&F.errors.push(function Yt(){return new x.vHH(3200,Se)}());const Bn=P.steps.length;let mr=0;Ge>0&&Ge<Bn?F.errors.push(function se(){return new x.vHH(3202,Se)}()):0==Ge&&(mr=1/(Bn-1));const Wr=Bn-1,Dr=F.currentTime,Nr=F.currentAnimateTimings,ui=Nr.duration;return Gn.forEach((qi,mo)=>{const yo=mr>0?mo==Wr?1:mr*mo:pt[mo],pi=yo*ui;F.currentTime=Dr+Nr.delay+pi,Nr.duration=pi,this._validateStyleAst(qi,F),qi.offset=yo,K.styles.push(qi)}),K}visitReference(P,F){return{type:8,animation:sr(this,hr(P.animation),F),options:wn(P.options)}}visitAnimateChild(P,F){return F.depCount++,{type:9,options:wn(P.options)}}visitAnimateRef(P,F){return{type:10,animation:this.visitReference(P.animation,F),options:wn(P.options)}}visitQuery(P,F){const K=F.currentQuerySelector,ge=P.options||{};F.queryCount++,F.currentQuery=P;const[Ge,pt]=function Ei(re){const P=!!re.split(/\s*,\s*/).find(F=>":self"==F);return P&&(re=re.replace(Ki,"")),re=re.replace(/@\*/g,fn).replace(/@\w+/g,F=>fn+"-"+F.substr(1)).replace(/:animating/g,oe),[re,P]}(P.selector);F.currentQuerySelector=K.length?K+" "+Ge:Ge,pr(F.collectedStyles,F.currentQuerySelector,{});const vt=sr(this,hr(P.animation),F);return F.currentQuery=null,F.currentQuerySelector=K,{type:11,selector:Ge,limit:ge.limit||0,optional:!!ge.optional,includeSelf:pt,animation:vt,originalSelector:P.selector,options:wn(P.options)}}visitStagger(P,F){F.currentQuery||F.errors.push(function ot(){return new x.vHH(3013,Se)}());const K="full"===P.timings?{duration:0,delay:0,easing:"full"}:Er(P.timings,F.errors,!0);return{type:12,animation:sr(this,hr(P.animation),F),timings:K,options:null}}}class lo{constructor(P){this.errors=P,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xn(re){return!Array.isArray(re)&&"object"==typeof re}function wn(re){return re?(re=Bt(re)).params&&(re.params=function Go(re){return re?Bt(re):null}(re.params)):re={},re}function ki(re,P,F){return{duration:re,delay:P,easing:F}}function no(re,P,F,K,ge,Ge,pt=null,vt=!1){return{type:1,element:re,keyframes:P,preStyleProps:F,postStyleProps:K,duration:ge,delay:Ge,totalTime:ge+Ge,easing:pt,subTimeline:vt}}class Bo{constructor(){this._map=new Map}get(P){return this._map.get(P)||[]}append(P,F){let K=this._map.get(P);K||this._map.set(P,K=[]),K.push(...F)}has(P){return this._map.has(P)}clear(){this._map.clear()}}const No=new RegExp(":enter","g"),ql=new RegExp(":leave","g");function vo(re,P,F,K,ge,Ge={},pt={},vt,Ht,Qt=[]){return(new Al).buildKeyframes(re,P,F,K,ge,Ge,pt,vt,Ht,Qt)}class Al{buildKeyframes(P,F,K,ge,Ge,pt,vt,Ht,Qt,Gn=[]){Qt=Qt||new Bo;const Bn=new gs(P,F,Qt,ge,Ge,Gn,[]);Bn.options=Ht,Bn.currentTimeline.setStyles([pt],null,Bn.errors,Ht),sr(this,K,Bn);const mr=Bn.timelines.filter(Wr=>Wr.containsAnimation());if(Object.keys(vt).length){let Wr;for(let Dr=mr.length-1;Dr>=0;Dr--){const Nr=mr[Dr];if(Nr.element===F){Wr=Nr;break}}Wr&&!Wr.allowOnlyTimelineStyles()&&Wr.setStyles([vt],null,Bn.errors,Ht)}return mr.length?mr.map(Wr=>Wr.buildKeyframes()):[no(F,[],[],[],0,0,"",!1)]}visitTrigger(P,F){}visitState(P,F){}visitTransition(P,F){}visitAnimateChild(P,F){const K=F.subInstructions.get(F.element);if(K){const ge=F.createSubContext(P.options),Ge=F.currentTimeline.currentTime,pt=this._visitSubInstructions(K,ge,ge.options);Ge!=pt&&F.transformIntoNewTimeline(pt)}F.previousNode=P}visitAnimateRef(P,F){const K=F.createSubContext(P.options);K.transformIntoNewTimeline(),this.visitReference(P.animation,K),F.transformIntoNewTimeline(K.currentTimeline.currentTime),F.previousNode=P}_visitSubInstructions(P,F,K){let Ge=F.currentTimeline.currentTime;const pt=null!=K.duration?er(K.duration):null,vt=null!=K.delay?er(K.delay):null;return 0!==pt&&P.forEach(Ht=>{const Qt=F.appendInstructionToTimeline(Ht,pt,vt);Ge=Math.max(Ge,Qt.duration+Qt.delay)}),Ge}visitReference(P,F){F.updateOptions(P.options,!0),sr(this,P.animation,F),F.previousNode=P}visitSequence(P,F){const K=F.subContextCount;let ge=F;const Ge=P.options;if(Ge&&(Ge.params||Ge.delay)&&(ge=F.createSubContext(Ge),ge.transformIntoNewTimeline(),null!=Ge.delay)){6==ge.previousNode.type&&(ge.currentTimeline.snapshotCurrentStyles(),ge.previousNode=Wo);const pt=er(Ge.delay);ge.delayNextStep(pt)}P.steps.length&&(P.steps.forEach(pt=>sr(this,pt,ge)),ge.currentTimeline.applyStylesToKeyframe(),ge.subContextCount>K&&ge.transformIntoNewTimeline()),F.previousNode=P}visitGroup(P,F){const K=[];let ge=F.currentTimeline.currentTime;const Ge=P.options&&P.options.delay?er(P.options.delay):0;P.steps.forEach(pt=>{const vt=F.createSubContext(P.options);Ge&&vt.delayNextStep(Ge),sr(this,pt,vt),ge=Math.max(ge,vt.currentTimeline.currentTime),K.push(vt.currentTimeline)}),K.forEach(pt=>F.currentTimeline.mergeTimelineCollectedStyles(pt)),F.transformIntoNewTimeline(ge),F.previousNode=P}_visitTiming(P,F){if(P.dynamic){const K=P.strValue;return Er(F.params?ft(K,F.params,F.errors):K,F.errors)}return{duration:P.duration,delay:P.delay,easing:P.easing}}visitAnimate(P,F){const K=F.currentAnimateTimings=this._visitTiming(P.timings,F),ge=F.currentTimeline;K.delay&&(F.incrementTime(K.delay),ge.snapshotCurrentStyles());const Ge=P.style;5==Ge.type?this.visitKeyframes(Ge,F):(F.incrementTime(K.duration),this.visitStyle(Ge,F),ge.applyStylesToKeyframe()),F.currentAnimateTimings=null,F.previousNode=P}visitStyle(P,F){const K=F.currentTimeline,ge=F.currentAnimateTimings;!ge&&K.getCurrentStyleProperties().length&&K.forwardFrame();const Ge=ge&&ge.easing||P.easing;P.isEmptyStep?K.applyEmptyStep(Ge):K.setStyles(P.styles,Ge,F.errors,F.options),F.previousNode=P}visitKeyframes(P,F){const K=F.currentAnimateTimings,ge=F.currentTimeline.duration,Ge=K.duration,vt=F.createSubContext().currentTimeline;vt.easing=K.easing,P.styles.forEach(Ht=>{vt.forwardTime((Ht.offset||0)*Ge),vt.setStyles(Ht.styles,Ht.easing,F.errors,F.options),vt.applyStylesToKeyframe()}),F.currentTimeline.mergeTimelineCollectedStyles(vt),F.transformIntoNewTimeline(ge+Ge),F.previousNode=P}visitQuery(P,F){const K=F.currentTimeline.currentTime,ge=P.options||{},Ge=ge.delay?er(ge.delay):0;Ge&&(6===F.previousNode.type||0==K&&F.currentTimeline.getCurrentStyleProperties().length)&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=Wo);let pt=K;const vt=F.invokeQuery(P.selector,P.originalSelector,P.limit,P.includeSelf,!!ge.optional,F.errors);F.currentQueryTotal=vt.length;let Ht=null;vt.forEach((Qt,Gn)=>{F.currentQueryIndex=Gn;const Bn=F.createSubContext(P.options,Qt);Ge&&Bn.delayNextStep(Ge),Qt===F.element&&(Ht=Bn.currentTimeline),sr(this,P.animation,Bn),Bn.currentTimeline.applyStylesToKeyframe(),pt=Math.max(pt,Bn.currentTimeline.currentTime)}),F.currentQueryIndex=0,F.currentQueryTotal=0,F.transformIntoNewTimeline(pt),Ht&&(F.currentTimeline.mergeTimelineCollectedStyles(Ht),F.currentTimeline.snapshotCurrentStyles()),F.previousNode=P}visitStagger(P,F){const K=F.parentContext,ge=F.currentTimeline,Ge=P.timings,pt=Math.abs(Ge.duration),vt=pt*(F.currentQueryTotal-1);let Ht=pt*F.currentQueryIndex;switch(Ge.duration<0?"reverse":Ge.easing){case"reverse":Ht=vt-Ht;break;case"full":Ht=K.currentStaggerTime}const Gn=F.currentTimeline;Ht&&Gn.delayNextStep(Ht);const Bn=Gn.currentTime;sr(this,P.animation,F),F.previousNode=P,K.currentStaggerTime=ge.currentTime-Bn+(ge.startTime-K.currentTimeline.startTime)}}const Wo={};class gs{constructor(P,F,K,ge,Ge,pt,vt,Ht){this._driver=P,this.element=F,this.subInstructions=K,this._enterClassName=ge,this._leaveClassName=Ge,this.errors=pt,this.timelines=vt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ht||new Oo(this._driver,F,0),vt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(P,F){if(!P)return;const K=P;let ge=this.options;null!=K.duration&&(ge.duration=er(K.duration)),null!=K.delay&&(ge.delay=er(K.delay));const Ge=K.params;if(Ge){let pt=ge.params;pt||(pt=this.options.params={}),Object.keys(Ge).forEach(vt=>{(!F||!pt.hasOwnProperty(vt))&&(pt[vt]=ft(Ge[vt],pt,this.errors))})}}_copyOptions(){const P={};if(this.options){const F=this.options.params;if(F){const K=P.params={};Object.keys(F).forEach(ge=>{K[ge]=F[ge]})}}return P}createSubContext(P=null,F,K){const ge=F||this.element,Ge=new gs(this._driver,ge,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ge,K||0));return Ge.previousNode=this.previousNode,Ge.currentAnimateTimings=this.currentAnimateTimings,Ge.options=this._copyOptions(),Ge.updateOptions(P),Ge.currentQueryIndex=this.currentQueryIndex,Ge.currentQueryTotal=this.currentQueryTotal,Ge.parentContext=this,this.subContextCount++,Ge}transformIntoNewTimeline(P){return this.previousNode=Wo,this.currentTimeline=this.currentTimeline.fork(this.element,P),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(P,F,K){const ge={duration:null!=F?F:P.duration,delay:this.currentTimeline.currentTime+(null!=K?K:0)+P.delay,easing:""},Ge=new Na(this._driver,P.element,P.keyframes,P.preStyleProps,P.postStyleProps,ge,P.stretchStartingKeyframe);return this.timelines.push(Ge),ge}incrementTime(P){this.currentTimeline.forwardTime(this.currentTimeline.duration+P)}delayNextStep(P){P>0&&this.currentTimeline.delayNextStep(P)}invokeQuery(P,F,K,ge,Ge,pt){let vt=[];if(ge&&vt.push(this.element),P.length>0){P=(P=P.replace(No,"."+this._enterClassName)).replace(ql,"."+this._leaveClassName);let Qt=this._driver.query(this.element,P,1!=K);0!==K&&(Qt=K<0?Qt.slice(Qt.length+K,Qt.length):Qt.slice(0,K)),vt.push(...Qt)}return!Ge&&0==vt.length&&pt.push(function De(re){return new x.vHH(3014,Se)}()),vt}}class Oo{constructor(P,F,K,ge){this._driver=P,this.element=F,this.startTime=K,this._elementTimelineStylesLookup=ge,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(F),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(F,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(P){const F=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||F?(this.forwardTime(this.currentTime+P),F&&this.snapshotCurrentStyles()):this.startTime+=P}fork(P,F){return this.applyStylesToKeyframe(),new Oo(this._driver,P,F||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(P){this.applyStylesToKeyframe(),this.duration=P,this._loadKeyframe()}_updateStyle(P,F){this._localTimelineStyles[P]=F,this._globalTimelineStyles[P]=F,this._styleSummary[P]={time:this.currentTime,value:F}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(P){P&&(this._previousKeyframe.easing=P),Object.keys(this._globalTimelineStyles).forEach(F=>{this._backFill[F]=this._globalTimelineStyles[F]||z.l3,this._currentKeyframe[F]=z.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(P,F,K,ge){F&&(this._previousKeyframe.easing=F);const Ge=ge&&ge.params||{},pt=function qa(re,P){const F={};let K;return re.forEach(ge=>{"*"===ge?(K=K||Object.keys(P),K.forEach(Ge=>{F[Ge]=z.l3})):Be(ge,!1,F)}),F}(P,this._globalTimelineStyles);Object.keys(pt).forEach(vt=>{const Ht=ft(pt[vt],Ge,K);this._pendingStyles[vt]=Ht,this._localTimelineStyles.hasOwnProperty(vt)||(this._backFill[vt]=this._globalTimelineStyles.hasOwnProperty(vt)?this._globalTimelineStyles[vt]:z.l3),this._updateStyle(vt,Ht)})}applyStylesToKeyframe(){const P=this._pendingStyles,F=Object.keys(P);0!=F.length&&(this._pendingStyles={},F.forEach(K=>{this._currentKeyframe[K]=P[K]}),Object.keys(this._localTimelineStyles).forEach(K=>{this._currentKeyframe.hasOwnProperty(K)||(this._currentKeyframe[K]=this._localTimelineStyles[K])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(P=>{const F=this._localTimelineStyles[P];this._pendingStyles[P]=F,this._updateStyle(P,F)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const P=[];for(let F in this._currentKeyframe)P.push(F);return P}mergeTimelineCollectedStyles(P){Object.keys(P._styleSummary).forEach(F=>{const K=this._styleSummary[F],ge=P._styleSummary[F];(!K||ge.time>K.time)&&this._updateStyle(F,ge.value)})}buildKeyframes(){this.applyStylesToKeyframe();const P=new Set,F=new Set,K=1===this._keyframes.size&&0===this.duration;let ge=[];this._keyframes.forEach((vt,Ht)=>{const Qt=Be(vt,!0);Object.keys(Qt).forEach(Gn=>{const Bn=Qt[Gn];Bn==z.k1?P.add(Gn):Bn==z.l3&&F.add(Gn)}),K||(Qt.offset=Ht/this.duration),ge.push(Qt)});const Ge=P.size?je(P.values()):[],pt=F.size?je(F.values()):[];if(K){const vt=ge[0],Ht=Bt(vt);vt.offset=0,Ht.offset=1,ge=[vt,Ht]}return no(this.element,ge,Ge,pt,this.duration,this.startTime,this.easing,!1)}}class Na extends Oo{constructor(P,F,K,ge,Ge,pt,vt=!1){super(P,F,pt.delay),this.keyframes=K,this.preStyleProps=ge,this.postStyleProps=Ge,this._stretchStartingKeyframe=vt,this.timings={duration:pt.duration,delay:pt.delay,easing:pt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let P=this.keyframes,{delay:F,duration:K,easing:ge}=this.timings;if(this._stretchStartingKeyframe&&F){const Ge=[],pt=K+F,vt=F/pt,Ht=Be(P[0],!1);Ht.offset=0,Ge.push(Ht);const Qt=Be(P[0],!1);Qt.offset=Zo(vt),Ge.push(Qt);const Gn=P.length-1;for(let Bn=1;Bn<=Gn;Bn++){let mr=Be(P[Bn],!1);mr.offset=Zo((F+mr.offset*K)/pt),Ge.push(mr)}K=pt,F=0,ge="",P=Ge}return no(this.element,P,this.preStyleProps,this.postStyleProps,K,F,ge,!0)}}function Zo(re,P=3){const F=Math.pow(10,P-1);return Math.round(re*F)/F}class Qo{}class vs extends Qo{normalizePropertyName(P,F){return pe(P)}normalizeStyleValue(P,F,K,ge){let Ge="";const pt=K.toString().trim();if(Rl[F]&&0!==K&&"0"!==K)if("number"==typeof K)Ge="px";else{const vt=K.match(/^[+-]?[\d\.]+([a-z]*)$/);vt&&0==vt[1].length&&ge.push(function be(re,P){return new x.vHH(3005,Se)}())}return pt+Ge}}const Rl=(()=>function Fl(re){const P={};return re.forEach(F=>P[F]=!0),P}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rl(re,P,F,K,ge,Ge,pt,vt,Ht,Qt,Gn,Bn,mr){return{type:0,element:re,triggerName:P,isRemovalTransition:ge,fromState:F,fromStyles:Ge,toState:K,toStyles:pt,timelines:vt,queriedElements:Ht,preStyleProps:Qt,postStyleProps:Gn,totalTime:Bn,errors:mr}}const Ls={};class Da{constructor(P,F,K){this._triggerName=P,this.ast=F,this._stateStyles=K}match(P,F,K,ge){return function ka(re,P,F,K,ge){return re.some(Ge=>Ge(P,F,K,ge))}(this.ast.matchers,P,F,K,ge)}buildStyles(P,F,K){const ge=this._stateStyles["*"],Ge=this._stateStyles[P],pt=ge?ge.buildStyles(F,K):{};return Ge?Ge.buildStyles(F,K):pt}build(P,F,K,ge,Ge,pt,vt,Ht,Qt,Gn){const Bn=[],mr=this.ast.options&&this.ast.options.params||Ls,Dr=this.buildStyles(K,vt&&vt.params||Ls,Bn),Nr=Ht&&Ht.params||Ls,ui=this.buildStyles(ge,Nr,Bn),qi=new Set,mo=new Map,yo=new Map,pi="void"===ge,To={params:Object.assign(Object.assign({},mr),Nr)},Ci=Gn?[]:vo(P,F,this.ast.animation,Ge,pt,Dr,ui,To,Qt,Bn);let Co=0;if(Ci.forEach(fi=>{Co=Math.max(fi.duration+fi.delay,Co)}),Bn.length)return rl(F,this._triggerName,K,ge,pi,Dr,ui,[],[],mo,yo,Co,Bn);Ci.forEach(fi=>{const gi=fi.element,ga=pr(mo,gi,{});fi.preStyleProps.forEach(Xi=>ga[Xi]=!0);const ys=pr(yo,gi,{});fi.postStyleProps.forEach(Xi=>ys[Xi]=!0),gi!==F&&qi.add(gi)});const fa=je(qi.values());return rl(F,this._triggerName,K,ge,pi,Dr,ui,Ci,fa,mo,yo,Co)}}class Ll{constructor(P,F,K){this.styles=P,this.defaultParams=F,this.normalizer=K}buildStyles(P,F){const K={},ge=Bt(this.defaultParams);return Object.keys(P).forEach(Ge=>{const pt=P[Ge];null!=pt&&(ge[Ge]=pt)}),this.styles.styles.forEach(Ge=>{if("string"!=typeof Ge){const pt=Ge;Object.keys(pt).forEach(vt=>{let Ht=pt[vt];Ht.length>1&&(Ht=ft(Ht,ge,F));const Qt=this.normalizer.normalizePropertyName(vt,F);Ht=this.normalizer.normalizeStyleValue(vt,Qt,Ht,F),K[Qt]=Ht})}}),K}}class Jo{constructor(P,F,K){this.name=P,this.ast=F,this._normalizer=K,this.transitionFactories=[],this.states={},F.states.forEach(ge=>{this.states[ge.name]=new Ll(ge.style,ge.options&&ge.options.params||{},K)}),Xa(this.states,"true","1"),Xa(this.states,"false","0"),F.transitions.forEach(ge=>{this.transitionFactories.push(new Da(P,ge,this.states))}),this.fallbackTransition=function Xl(re,P,F){return new Da(re,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pt,vt)=>!0],options:null,queryCount:0,depCount:0},P)}(P,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(P,F,K,ge){return this.transitionFactories.find(pt=>pt.match(P,F,K,ge))||null}matchStyles(P,F,K){return this.fallbackTransition.buildStyles(P,F,K)}}function Xa(re,P,F){re.hasOwnProperty(P)?re.hasOwnProperty(F)||(re[F]=re[P]):re.hasOwnProperty(F)&&(re[P]=re[F])}const ms=new Bo;class Fo{constructor(P,F,K){this.bodyNode=P,this._driver=F,this._normalizer=K,this._animations={},this._playersById={},this.players=[]}register(P,F){const K=[],Ge=go(this._driver,F,K,[]);if(K.length)throw function $t(re){return new x.vHH(3503,Se)}();this._animations[P]=Ge}_buildPlayer(P,F,K){const ge=P.element,Ge=bi(0,this._normalizer,0,P.keyframes,F,K);return this._driver.animate(ge,Ge,P.duration,P.delay,P.easing,[],!0)}create(P,F,K={}){const ge=[],Ge=this._animations[P];let pt;const vt=new Map;if(Ge?(pt=vo(this._driver,F,Ge,ar,br,{},{},K,ms,ge),pt.forEach(Gn=>{const Bn=pr(vt,Gn.element,{});Gn.postStyleProps.forEach(mr=>Bn[mr]=null)})):(ge.push(function ut(){return new x.vHH(3300,Se)}()),pt=[]),ge.length)throw function pn(re){return new x.vHH(3504,Se)}();vt.forEach((Gn,Bn)=>{Object.keys(Gn).forEach(mr=>{Gn[mr]=this._driver.computeStyle(Bn,mr,z.l3)})});const Qt=Or(pt.map(Gn=>{const Bn=vt.get(Gn.element);return this._buildPlayer(Gn,{},Bn)}));return this._playersById[P]=Qt,Qt.onDestroy(()=>this.destroy(P)),this.players.push(Qt),Qt}destroy(P){const F=this._getPlayer(P);F.destroy(),delete this._playersById[P];const K=this.players.indexOf(F);K>=0&&this.players.splice(K,1)}_getPlayer(P){const F=this._playersById[P];if(!F)throw function tt(re){return new x.vHH(3301,Se)}();return F}listen(P,F,K,ge){const Ge=rr(F,"","","");return Ni(this._getPlayer(P),K,Ge,ge),()=>{}}command(P,F,K,ge){if("register"==K)return void this.register(P,ge[0]);if("create"==K)return void this.create(P,F,ge[0]||{});const Ge=this._getPlayer(P);switch(K){case"play":Ge.play();break;case"pause":Ge.pause();break;case"reset":Ge.reset();break;case"restart":Ge.restart();break;case"finish":Ge.finish();break;case"init":Ge.init();break;case"setPosition":Ge.setPosition(parseFloat(ge[0]));break;case"destroy":this.destroy(P)}}}const Za="ng-animate-queued",ea="ng-animate-disabled",Fi=[],Qa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_o="__ng_removed";class ro{constructor(P,F=""){this.namespaceId=F;const K=P&&P.hasOwnProperty("value");if(this.value=function J(re){return null!=re?re:null}(K?P.value:P),K){const Ge=Bt(P);delete Ge.value,this.options=Ge}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(P){const F=P.params;if(F){const K=this.options.params;Object.keys(F).forEach(ge=>{null==K[ge]&&(K[ge]=F[ge])})}}}const Uo="void",Ja=new ro(Uo);class ta{constructor(P,F,K){this.id=P,this.hostElement=F,this._engine=K,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+P,gn(F,this._hostClassName)}listen(P,F,K,ge){if(!this._triggers.hasOwnProperty(F))throw function en(re,P){return new x.vHH(3302,Se)}();if(null==K||0==K.length)throw function xt(re){return new x.vHH(3303,Se)}();if(!function Z(re){return"start"==re||"done"==re}(K))throw function jt(re,P){return new x.vHH(3400,Se)}();const Ge=pr(this._elementListeners,P,[]),pt={name:F,phase:K,callback:ge};Ge.push(pt);const vt=pr(this._engine.statesByElement,P,{});return vt.hasOwnProperty(F)||(gn(P,Vt),gn(P,Vt+"-"+F),vt[F]=Ja),()=>{this._engine.afterFlush(()=>{const Ht=Ge.indexOf(pt);Ht>=0&&Ge.splice(Ht,1),this._triggers[F]||delete vt[F]})}}register(P,F){return!this._triggers[P]&&(this._triggers[P]=F,!0)}_getTrigger(P){const F=this._triggers[P];if(!F)throw function Hn(re){return new x.vHH(3401,Se)}();return F}trigger(P,F,K,ge=!0){const Ge=this._getTrigger(F),pt=new al(this.id,F,P);let vt=this._engine.statesByElement.get(P);vt||(gn(P,Vt),gn(P,Vt+"-"+F),this._engine.statesByElement.set(P,vt={}));let Ht=vt[F];const Qt=new ro(K,this.id);if(!(K&&K.hasOwnProperty("value"))&&Ht&&Qt.absorbOptions(Ht.options),vt[F]=Qt,Ht||(Ht=Ja),Qt.value!==Uo&&Ht.value===Qt.value){if(!function si(re,P){const F=Object.keys(re),K=Object.keys(P);if(F.length!=K.length)return!1;for(let ge=0;ge<F.length;ge++){const Ge=F[ge];if(!P.hasOwnProperty(Ge)||re[Ge]!==P[Ge])return!1}return!0}(Ht.params,Qt.params)){const Nr=[],ui=Ge.matchStyles(Ht.value,Ht.params,Nr),qi=Ge.matchStyles(Qt.value,Qt.params,Nr);Nr.length?this._engine.reportError(Nr):this._engine.afterFlush(()=>{vr(P,ui),an(P,qi)})}return}const mr=pr(this._engine.playersByElement,P,[]);mr.forEach(Nr=>{Nr.namespaceId==this.id&&Nr.triggerName==F&&Nr.queued&&Nr.destroy()});let Wr=Ge.matchTransition(Ht.value,Qt.value,P,Qt.params),Dr=!1;if(!Wr){if(!ge)return;Wr=Ge.fallbackTransition,Dr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:P,triggerName:F,transition:Wr,fromState:Ht,toState:Qt,player:pt,isFallbackTransition:Dr}),Dr||(gn(P,Za),pt.onStart(()=>{Xn(P,Za)})),pt.onDone(()=>{let Nr=this.players.indexOf(pt);Nr>=0&&this.players.splice(Nr,1);const ui=this._engine.playersByElement.get(P);if(ui){let qi=ui.indexOf(pt);qi>=0&&ui.splice(qi,1)}}),this.players.push(pt),mr.push(pt),pt}deregister(P){delete this._triggers[P],this._engine.statesByElement.forEach((F,K)=>{delete F[P]}),this._elementListeners.forEach((F,K)=>{this._elementListeners.set(K,F.filter(ge=>ge.name!=P))})}clearElementCache(P){this._engine.statesByElement.delete(P),this._elementListeners.delete(P);const F=this._engine.playersByElement.get(P);F&&(F.forEach(K=>K.destroy()),this._engine.playersByElement.delete(P))}_signalRemovalForInnerTriggers(P,F){const K=this._engine.driver.query(P,fn,!0);K.forEach(ge=>{if(ge[_o])return;const Ge=this._engine.fetchNamespacesByElement(ge);Ge.size?Ge.forEach(pt=>pt.triggerLeaveAnimation(ge,F,!1,!0)):this.clearElementCache(ge)}),this._engine.afterFlushAnimationsDone(()=>K.forEach(ge=>this.clearElementCache(ge)))}triggerLeaveAnimation(P,F,K,ge){const Ge=this._engine.statesByElement.get(P),pt=new Map;if(Ge){const vt=[];if(Object.keys(Ge).forEach(Ht=>{if(pt.set(Ht,Ge[Ht].value),this._triggers[Ht]){const Qt=this.trigger(P,Ht,Uo,ge);Qt&&vt.push(Qt)}}),vt.length)return this._engine.markElementAsRemoved(this.id,P,!0,F,pt),K&&Or(vt).onDone(()=>this._engine.processLeaveNode(P)),!0}return!1}prepareLeaveAnimationListeners(P){const F=this._elementListeners.get(P),K=this._engine.statesByElement.get(P);if(F&&K){const ge=new Set;F.forEach(Ge=>{const pt=Ge.name;if(ge.has(pt))return;ge.add(pt);const Ht=this._triggers[pt].fallbackTransition,Qt=K[pt]||Ja,Gn=new ro(Uo),Bn=new al(this.id,pt,P);this._engine.totalQueuedPlayers++,this._queue.push({element:P,triggerName:pt,transition:Ht,fromState:Qt,toState:Gn,player:Bn,isFallbackTransition:!0})})}}removeNode(P,F){const K=this._engine;if(P.childElementCount&&this._signalRemovalForInnerTriggers(P,F),this.triggerLeaveAnimation(P,F,!0))return;let ge=!1;if(K.totalAnimations){const Ge=K.players.length?K.playersByQueriedElement.get(P):[];if(Ge&&Ge.length)ge=!0;else{let pt=P;for(;pt=pt.parentNode;)if(K.statesByElement.get(pt)){ge=!0;break}}}if(this.prepareLeaveAnimationListeners(P),ge)K.markElementAsRemoved(this.id,P,!1,F);else{const Ge=P[_o];(!Ge||Ge===Qa)&&(K.afterFlush(()=>this.clearElementCache(P)),K.destroyInnerAnimations(P),K._onRemovalComplete(P,F))}}insertNode(P,F){gn(P,this._hostClassName)}drainQueuedTransitions(P){const F=[];return this._queue.forEach(K=>{const ge=K.player;if(ge.destroyed)return;const Ge=K.element,pt=this._elementListeners.get(Ge);pt&&pt.forEach(vt=>{if(vt.name==K.triggerName){const Ht=rr(Ge,K.triggerName,K.fromState.value,K.toState.value);Ht._data=P,Ni(K.player,vt.phase,Ht,vt.callback)}}),ge.markedForDestroy?this._engine.afterFlush(()=>{ge.destroy()}):F.push(K)}),this._queue=[],F.sort((K,ge)=>{const Ge=K.transition.ast.depCount,pt=ge.transition.ast.depCount;return 0==Ge||0==pt?Ge-pt:this._engine.driver.containsElement(K.element,ge.element)?1:-1})}destroy(P){this.players.forEach(F=>F.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,P)}elementContainsData(P){let F=!1;return this._elementListeners.has(P)&&(F=!0),F=!!this._queue.find(K=>K.element===P)||F,F}}class pa{constructor(P,F,K){this.bodyNode=P,this.driver=F,this._normalizer=K,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ge,Ge)=>{}}_onRemovalComplete(P,F){this.onRemovalComplete(P,F)}get queuedPlayers(){const P=[];return this._namespaceList.forEach(F=>{F.players.forEach(K=>{K.queued&&P.push(K)})}),P}createNamespace(P,F){const K=new ta(P,F,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,F)?this._balanceNamespaceList(K,F):(this.newHostElements.set(F,K),this.collectEnterElement(F)),this._namespaceLookup[P]=K}_balanceNamespaceList(P,F){const K=this._namespaceList,ge=this.namespacesByHostElement,Ge=K.length-1;if(Ge>=0){let pt=!1;if(void 0!==this.driver.getParentElement){let vt=this.driver.getParentElement(F);for(;vt;){const Ht=ge.get(vt);if(Ht){const Qt=K.indexOf(Ht);K.splice(Qt+1,0,P),pt=!0;break}vt=this.driver.getParentElement(vt)}}else for(let vt=Ge;vt>=0;vt--)if(this.driver.containsElement(K[vt].hostElement,F)){K.splice(vt+1,0,P),pt=!0;break}pt||K.unshift(P)}else K.push(P);return ge.set(F,P),P}register(P,F){let K=this._namespaceLookup[P];return K||(K=this.createNamespace(P,F)),K}registerTrigger(P,F,K){let ge=this._namespaceLookup[P];ge&&ge.register(F,K)&&this.totalAnimations++}destroy(P,F){if(!P)return;const K=this._fetchNamespace(P);this.afterFlush(()=>{this.namespacesByHostElement.delete(K.hostElement),delete this._namespaceLookup[P];const ge=this._namespaceList.indexOf(K);ge>=0&&this._namespaceList.splice(ge,1)}),this.afterFlushAnimationsDone(()=>K.destroy(F))}_fetchNamespace(P){return this._namespaceLookup[P]}fetchNamespacesByElement(P){const F=new Set,K=this.statesByElement.get(P);if(K){const ge=Object.keys(K);for(let Ge=0;Ge<ge.length;Ge++){const pt=K[ge[Ge]].namespaceId;if(pt){const vt=this._fetchNamespace(pt);vt&&F.add(vt)}}}return F}trigger(P,F,K,ge){if(we(F)){const Ge=this._fetchNamespace(P);if(Ge)return Ge.trigger(F,K,ge),!0}return!1}insertNode(P,F,K,ge){if(!we(F))return;const Ge=F[_o];if(Ge&&Ge.setForRemoval){Ge.setForRemoval=!1,Ge.setForMove=!0;const pt=this.collectedLeaveElements.indexOf(F);pt>=0&&this.collectedLeaveElements.splice(pt,1)}if(P){const pt=this._fetchNamespace(P);pt&&pt.insertNode(F,K)}ge&&this.collectEnterElement(F)}collectEnterElement(P){this.collectedEnterElements.push(P)}markElementAsDisabled(P,F){F?this.disabledNodes.has(P)||(this.disabledNodes.add(P),gn(P,ea)):this.disabledNodes.has(P)&&(this.disabledNodes.delete(P),Xn(P,ea))}removeNode(P,F,K,ge){if(we(F)){const Ge=P?this._fetchNamespace(P):null;if(Ge?Ge.removeNode(F,ge):this.markElementAsRemoved(P,F,!1,ge),K){const pt=this.namespacesByHostElement.get(F);pt&&pt.id!==P&&pt.removeNode(F,ge)}}else this._onRemovalComplete(F,ge)}markElementAsRemoved(P,F,K,ge,Ge){this.collectedLeaveElements.push(F),F[_o]={namespaceId:P,setForRemoval:ge,hasAnimation:K,removedBeforeQueried:!1,previousTriggersValues:Ge}}listen(P,F,K,ge,Ge){return we(F)?this._fetchNamespace(P).listen(F,K,ge,Ge):()=>{}}_buildInstruction(P,F,K,ge,Ge){return P.transition.build(this.driver,P.element,P.fromState.value,P.toState.value,K,ge,P.fromState.options,P.toState.options,F,Ge)}destroyInnerAnimations(P){let F=this.driver.query(P,fn,!0);F.forEach(K=>this.destroyActiveAnimationsForElement(K)),0!=this.playersByQueriedElement.size&&(F=this.driver.query(P,oe,!0),F.forEach(K=>this.finishActiveQueriedAnimationOnElement(K)))}destroyActiveAnimationsForElement(P){const F=this.playersByElement.get(P);F&&F.forEach(K=>{K.queued?K.markedForDestroy=!0:K.destroy()})}finishActiveQueriedAnimationOnElement(P){const F=this.playersByQueriedElement.get(P);F&&F.forEach(K=>K.finish())}whenRenderingDone(){return new Promise(P=>{if(this.players.length)return Or(this.players).onDone(()=>P());P()})}processLeaveNode(P){var F;const K=P[_o];if(K&&K.setForRemoval){if(P[_o]=Qa,K.namespaceId){this.destroyInnerAnimations(P);const ge=this._fetchNamespace(K.namespaceId);ge&&ge.clearElementCache(P)}this._onRemovalComplete(P,K.setForRemoval)}(null===(F=P.classList)||void 0===F?void 0:F.contains(ea))&&this.markElementAsDisabled(P,!1),this.driver.query(P,".ng-animate-disabled",!0).forEach(ge=>{this.markElementAsDisabled(ge,!1)})}flush(P=-1){let F=[];if(this.newHostElements.size&&(this.newHostElements.forEach((K,ge)=>this._balanceNamespaceList(K,ge)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let K=0;K<this.collectedEnterElements.length;K++)gn(this.collectedEnterElements[K],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const K=[];try{F=this._flushAnimations(K,P)}finally{for(let ge=0;ge<K.length;ge++)K[ge]()}}else for(let K=0;K<this.collectedLeaveElements.length;K++)this.processLeaveNode(this.collectedLeaveElements[K]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(K=>K()),this._flushFns=[],this._whenQuietFns.length){const K=this._whenQuietFns;this._whenQuietFns=[],F.length?Or(F).onDone(()=>{K.forEach(ge=>ge())}):K.forEach(ge=>ge())}}reportError(P){throw function or(re){return new x.vHH(3402,Se)}()}_flushAnimations(P,F){const K=new Bo,ge=[],Ge=new Map,pt=[],vt=new Map,Ht=new Map,Qt=new Map,Gn=new Set;this.disabledNodes.forEach(ur=>{Gn.add(ur);const Sr=this.driver.query(ur,".ng-animate-queued",!0);for(let xr=0;xr<Sr.length;xr++)Gn.add(Sr[xr])});const Bn=this.bodyNode,mr=Array.from(this.statesByElement.keys()),Wr=tn(mr,this.collectedEnterElements),Dr=new Map;let Nr=0;Wr.forEach((ur,Sr)=>{const xr=ar+Nr++;Dr.set(Sr,xr),ur.forEach(ei=>gn(ei,xr))});const ui=[],qi=new Set,mo=new Set;for(let ur=0;ur<this.collectedLeaveElements.length;ur++){const Sr=this.collectedLeaveElements[ur],xr=Sr[_o];xr&&xr.setForRemoval&&(ui.push(Sr),qi.add(Sr),xr.hasAnimation?this.driver.query(Sr,".ng-star-inserted",!0).forEach(ei=>qi.add(ei)):mo.add(Sr))}const yo=new Map,pi=tn(mr,Array.from(qi));pi.forEach((ur,Sr)=>{const xr=br+Nr++;yo.set(Sr,xr),ur.forEach(ei=>gn(ei,xr))}),P.push(()=>{Wr.forEach((ur,Sr)=>{const xr=Dr.get(Sr);ur.forEach(ei=>Xn(ei,xr))}),pi.forEach((ur,Sr)=>{const xr=yo.get(Sr);ur.forEach(ei=>Xn(ei,xr))}),ui.forEach(ur=>{this.processLeaveNode(ur)})});const To=[],Ci=[];for(let ur=this._namespaceList.length-1;ur>=0;ur--)this._namespaceList[ur].drainQueuedTransitions(F).forEach(xr=>{const ei=xr.player,Fr=xr.element;if(To.push(ei),this.collectedEnterElements.length){const ra=Fr[_o];if(ra&&ra.setForMove){if(ra.previousTriggersValues&&ra.previousTriggersValues.has(xr.triggerName)){const Il=ra.previousTriggersValues.get(xr.triggerName),xa=this.statesByElement.get(xr.element);xa&&xa[xr.triggerName]&&(xa[xr.triggerName].value=Il)}return void ei.destroy()}}const Ta=!Bn||!this.driver.containsElement(Bn,Fr),ko=yo.get(Fr),Vi=Dr.get(Fr),Wi=this._buildInstruction(xr,K,Vi,ko,Ta);if(Wi.errors&&Wi.errors.length)return void Ci.push(Wi);if(Ta)return ei.onStart(()=>vr(Fr,Wi.fromStyles)),ei.onDestroy(()=>an(Fr,Wi.toStyles)),void ge.push(ei);if(xr.isFallbackTransition)return ei.onStart(()=>vr(Fr,Wi.fromStyles)),ei.onDestroy(()=>an(Fr,Wi.toStyles)),void ge.push(ei);const rs=[];Wi.timelines.forEach(ra=>{ra.stretchStartingKeyframe=!0,this.disabledNodes.has(ra.element)||rs.push(ra)}),Wi.timelines=rs,K.append(Fr,Wi.timelines),pt.push({instruction:Wi,player:ei,element:Fr}),Wi.queriedElements.forEach(ra=>pr(vt,ra,[]).push(ei)),Wi.preStyleProps.forEach((ra,Il)=>{const xa=Object.keys(ra);if(xa.length){let Ns=Ht.get(Il);Ns||Ht.set(Il,Ns=new Set),xa.forEach(ll=>Ns.add(ll))}}),Wi.postStyleProps.forEach((ra,Il)=>{const xa=Object.keys(ra);let Ns=Qt.get(Il);Ns||Qt.set(Il,Ns=new Set),xa.forEach(ll=>Ns.add(ll))})});if(Ci.length){const ur=[];Ci.forEach(Sr=>{ur.push(function gr(re,P){return new x.vHH(3505,Se)}())}),To.forEach(Sr=>Sr.destroy()),this.reportError(ur)}const Co=new Map,fa=new Map;pt.forEach(ur=>{const Sr=ur.element;K.has(Sr)&&(fa.set(Sr,Sr),this._beforeAnimationBuild(ur.player.namespaceId,ur.instruction,Co))}),ge.forEach(ur=>{const Sr=ur.element;this._getPreviousPlayers(Sr,!1,ur.namespaceId,ur.triggerName,null).forEach(ei=>{pr(Co,Sr,[]).push(ei),ei.destroy()})});const fi=ui.filter(ur=>Ji(ur,Ht,Qt)),gi=new Map;Ot(gi,this.driver,mo,Qt,z.l3).forEach(ur=>{Ji(ur,Ht,Qt)&&fi.push(ur)});const ys=new Map;Wr.forEach((ur,Sr)=>{Ot(ys,this.driver,new Set(ur),Ht,z.k1)}),fi.forEach(ur=>{const Sr=gi.get(ur),xr=ys.get(ur);gi.set(ur,Object.assign(Object.assign({},Sr),xr))});const Xi=[],ns=[],ec={};pt.forEach(ur=>{const{element:Sr,player:xr,instruction:ei}=ur;if(K.has(Sr)){if(Gn.has(Sr))return xr.onDestroy(()=>an(Sr,ei.toStyles)),xr.disabled=!0,xr.overrideTotalTime(ei.totalTime),void ge.push(xr);let Fr=ec;if(fa.size>1){let ko=Sr;const Vi=[];for(;ko=ko.parentNode;){const Wi=fa.get(ko);if(Wi){Fr=Wi;break}Vi.push(ko)}Vi.forEach(Wi=>fa.set(Wi,Fr))}const Ta=this._buildAnimation(xr.namespaceId,ei,Co,Ge,ys,gi);if(xr.setRealPlayer(Ta),Fr===ec)Xi.push(xr);else{const ko=this.playersByElement.get(Fr);ko&&ko.length&&(xr.parentPlayer=Or(ko)),ge.push(xr)}}else vr(Sr,ei.fromStyles),xr.onDestroy(()=>an(Sr,ei.toStyles)),ns.push(xr),Gn.has(Sr)&&ge.push(xr)}),ns.forEach(ur=>{const Sr=Ge.get(ur.element);if(Sr&&Sr.length){const xr=Or(Sr);ur.setRealPlayer(xr)}}),ge.forEach(ur=>{ur.parentPlayer?ur.syncPlayerEvents(ur.parentPlayer):ur.destroy()});for(let ur=0;ur<ui.length;ur++){const Sr=ui[ur],xr=Sr[_o];if(Xn(Sr,br),xr&&xr.hasAnimation)continue;let ei=[];if(vt.size){let Ta=vt.get(Sr);Ta&&Ta.length&&ei.push(...Ta);let ko=this.driver.query(Sr,oe,!0);for(let Vi=0;Vi<ko.length;Vi++){let Wi=vt.get(ko[Vi]);Wi&&Wi.length&&ei.push(...Wi)}}const Fr=ei.filter(Ta=>!Ta.destroyed);Fr.length?Di(this,Sr,Fr):this.processLeaveNode(Sr)}return ui.length=0,Xi.forEach(ur=>{this.players.push(ur),ur.onDone(()=>{ur.destroy();const Sr=this.players.indexOf(ur);this.players.splice(Sr,1)}),ur.play()}),Xi}elementContainsData(P,F){let K=!1;const ge=F[_o];return ge&&ge.setForRemoval&&(K=!0),this.playersByElement.has(F)&&(K=!0),this.playersByQueriedElement.has(F)&&(K=!0),this.statesByElement.has(F)&&(K=!0),this._fetchNamespace(P).elementContainsData(F)||K}afterFlush(P){this._flushFns.push(P)}afterFlushAnimationsDone(P){this._whenQuietFns.push(P)}_getPreviousPlayers(P,F,K,ge,Ge){let pt=[];if(F){const vt=this.playersByQueriedElement.get(P);vt&&(pt=vt)}else{const vt=this.playersByElement.get(P);if(vt){const Ht=!Ge||Ge==Uo;vt.forEach(Qt=>{Qt.queued||!Ht&&Qt.triggerName!=ge||pt.push(Qt)})}}return(K||ge)&&(pt=pt.filter(vt=>!(K&&K!=vt.namespaceId||ge&&ge!=vt.triggerName))),pt}_beforeAnimationBuild(P,F,K){const Ge=F.element,pt=F.isRemovalTransition?void 0:P,vt=F.isRemovalTransition?void 0:F.triggerName;for(const Ht of F.timelines){const Qt=Ht.element,Gn=Qt!==Ge,Bn=pr(K,Qt,[]);this._getPreviousPlayers(Qt,Gn,pt,vt,F.toState).forEach(Wr=>{const Dr=Wr.getRealPlayer();Dr.beforeDestroy&&Dr.beforeDestroy(),Wr.destroy(),Bn.push(Wr)})}vr(Ge,F.fromStyles)}_buildAnimation(P,F,K,ge,Ge,pt){const vt=F.triggerName,Ht=F.element,Qt=[],Gn=new Set,Bn=new Set,mr=F.timelines.map(Dr=>{const Nr=Dr.element;Gn.add(Nr);const ui=Nr[_o];if(ui&&ui.removedBeforeQueried)return new z.ZN(Dr.duration,Dr.delay);const qi=Nr!==Ht,mo=function ai(re){const P=[];return Zr(re,P),P}((K.get(Nr)||Fi).map(Co=>Co.getRealPlayer())).filter(Co=>!!Co.element&&Co.element===Nr),yo=Ge.get(Nr),pi=pt.get(Nr),To=bi(0,this._normalizer,0,Dr.keyframes,yo,pi),Ci=this._buildPlayer(Dr,To,mo);if(Dr.subTimeline&&ge&&Bn.add(Nr),qi){const Co=new al(P,vt,Nr);Co.setRealPlayer(Ci),Qt.push(Co)}return Ci});Qt.forEach(Dr=>{pr(this.playersByQueriedElement,Dr.element,[]).push(Dr),Dr.onDone(()=>function zi(re,P,F){let K;if(re instanceof Map){if(K=re.get(P),K){if(K.length){const ge=K.indexOf(F);K.splice(ge,1)}0==K.length&&re.delete(P)}}else if(K=re[P],K){if(K.length){const ge=K.indexOf(F);K.splice(ge,1)}0==K.length&&delete re[P]}return K}(this.playersByQueriedElement,Dr.element,Dr))}),Gn.forEach(Dr=>gn(Dr,mn));const Wr=Or(mr);return Wr.onDestroy(()=>{Gn.forEach(Dr=>Xn(Dr,mn)),an(Ht,F.toStyles)}),Bn.forEach(Dr=>{pr(ge,Dr,[]).push(Wr)}),Wr}_buildPlayer(P,F,K){return F.length>0?this.driver.animate(P.element,F,P.duration,P.delay,P.easing,K):new z.ZN(P.duration,P.delay)}}class al{constructor(P,F,K){this.namespaceId=P,this.triggerName=F,this.element=K,this._player=new z.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(P){this._containsRealPlayer||(this._player=P,Object.keys(this._queuedCallbacks).forEach(F=>{this._queuedCallbacks[F].forEach(K=>Ni(P,F,void 0,K))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(P.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(P){this.totalTime=P}syncPlayerEvents(P){const F=this._player;F.triggerCallback&&P.onStart(()=>F.triggerCallback("start")),P.onDone(()=>this.finish()),P.onDestroy(()=>this.destroy())}_queueEvent(P,F){pr(this._queuedCallbacks,P,[]).push(F)}onDone(P){this.queued&&this._queueEvent("done",P),this._player.onDone(P)}onStart(P){this.queued&&this._queueEvent("start",P),this._player.onStart(P)}onDestroy(P){this.queued&&this._queueEvent("destroy",P),this._player.onDestroy(P)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(P){this.queued||this._player.setPosition(P)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(P){const F=this._player;F.triggerCallback&&F.triggerCallback(P)}}function we(re){return re&&1===re.nodeType}function Re(re,P){const F=re.style.display;return re.style.display=null!=P?P:"none",F}function Ot(re,P,F,K,ge){const Ge=[];F.forEach(Ht=>Ge.push(Re(Ht)));const pt=[];K.forEach((Ht,Qt)=>{const Gn={};Ht.forEach(Bn=>{const mr=Gn[Bn]=P.computeStyle(Qt,Bn,ge);(!mr||0==mr.length)&&(Qt[_o]=Zl,pt.push(Qt))}),re.set(Qt,Gn)});let vt=0;return F.forEach(Ht=>Re(Ht,Ge[vt++])),pt}function tn(re,P){const F=new Map;if(re.forEach(vt=>F.set(vt,[])),0==P.length)return F;const ge=new Set(P),Ge=new Map;function pt(vt){if(!vt)return 1;let Ht=Ge.get(vt);if(Ht)return Ht;const Qt=vt.parentNode;return Ht=F.has(Qt)?Qt:ge.has(Qt)?1:pt(Qt),Ge.set(vt,Ht),Ht}return P.forEach(vt=>{const Ht=pt(vt);1!==Ht&&F.get(Ht).push(vt)}),F}function gn(re,P){var F;null===(F=re.classList)||void 0===F||F.add(P)}function Xn(re,P){var F;null===(F=re.classList)||void 0===F||F.remove(P)}function Di(re,P,F){Or(F).onDone(()=>re.processLeaveNode(P))}function Zr(re,P){for(let F=0;F<re.length;F++){const K=re[F];K instanceof z.ZE?Zr(K.players,P):P.push(K)}}function Ji(re,P,F){const K=F.get(re);if(!K)return!1;let ge=P.get(re);return ge?K.forEach(Ge=>ge.add(Ge)):P.set(re,K),F.delete(re),!0}class yi{constructor(P,F,K){this.bodyNode=P,this._driver=F,this._normalizer=K,this._triggerCache={},this.onRemovalComplete=(ge,Ge)=>{},this._transitionEngine=new pa(P,F,K),this._timelineEngine=new Fo(P,F,K),this._transitionEngine.onRemovalComplete=(ge,Ge)=>this.onRemovalComplete(ge,Ge)}registerTrigger(P,F,K,ge,Ge){const pt=P+"-"+ge;let vt=this._triggerCache[pt];if(!vt){const Ht=[],Gn=go(this._driver,Ge,Ht,[]);if(Ht.length)throw function Ft(re,P){return new x.vHH(3404,Se)}();vt=function za(re,P,F){return new Jo(re,P,F)}(ge,Gn,this._normalizer),this._triggerCache[pt]=vt}this._transitionEngine.registerTrigger(F,ge,vt)}register(P,F){this._transitionEngine.register(P,F)}destroy(P,F){this._transitionEngine.destroy(P,F)}onInsert(P,F,K,ge){this._transitionEngine.insertNode(P,F,K,ge)}onRemove(P,F,K,ge){this._transitionEngine.removeNode(P,F,ge||!1,K)}disableAnimations(P,F){this._transitionEngine.markElementAsDisabled(P,F)}process(P,F,K,ge){if("@"==K.charAt(0)){const[Ge,pt]=Mi(K);this._timelineEngine.command(Ge,F,pt,ge)}else this._transitionEngine.trigger(P,F,K,ge)}listen(P,F,K,ge,Ge){if("@"==K.charAt(0)){const[pt,vt]=Mi(K);return this._timelineEngine.listen(pt,F,vt,Ge)}return this._transitionEngine.listen(P,F,K,ge,Ge)}flush(P=-1){this._transitionEngine.flush(P)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ee=(()=>{class re{constructor(F,K,ge){this._element=F,this._startStyles=K,this._endStyles=ge,this._state=0;let Ge=re.initialStylesByElement.get(F);Ge||re.initialStylesByElement.set(F,Ge={}),this._initialStyles=Ge}start(){this._state<1&&(this._startStyles&&an(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(an(this._element,this._initialStyles),this._endStyles&&(an(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(re.initialStylesByElement.delete(this._element),this._startStyles&&(vr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vr(this._element,this._endStyles),this._endStyles=null),an(this._element,this._initialStyles),this._state=3)}}return re.initialStylesByElement=new WeakMap,re})();function $(re){let P=null;const F=Object.keys(re);for(let K=0;K<F.length;K++){const ge=F[K];B(ge)&&(P=P||{},P[ge]=re[ge])}return P}function B(re){return"display"===re||"position"===re}class Ce{constructor(P,F,K,ge){this.element=P,this.keyframes=F,this.options=K,this._specialStyles=ge,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=K.duration,this._delay=K.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(P=>P()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const P=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,P,this.options),this._finalKeyframe=P.length?P[P.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(P,F,K){return P.animate(F,K)}onStart(P){this._onStartFns.push(P)}onDone(P){this._onDoneFns.push(P)}onDestroy(P){this._onDestroyFns.push(P)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(P=>P()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(P=>P()),this._onDestroyFns=[])}setPosition(P){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=P*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const P={};if(this.hasStarted()){const F=this._finalKeyframe;Object.keys(F).forEach(K=>{"offset"!=K&&(P[K]=this._finished?F[K]:Mr(this.element,K))})}this.currentSnapshot=P}triggerCallback(P){const F="start"==P?this._onStartFns:this._onDoneFns;F.forEach(K=>K()),F.length=0}}class un{validateStyleProperty(P){return dt(P)}matchesElement(P,F){return!1}containsElement(P,F){return fe(P,F)}getParentElement(P){return qt(P)}query(P,F,K){return We(P,F,K)}computeStyle(P,F,K){return window.getComputedStyle(P)[F]}animate(P,F,K,ge,Ge,pt=[]){const Ht={duration:K,delay:ge,fill:0==ge?"both":"forwards"};Ge&&(Ht.easing=Ge);const Qt={},Gn=pt.filter(mr=>mr instanceof Ce);(function yn(re,P){return 0===re||0===P})(K,ge)&&Gn.forEach(mr=>{let Wr=mr.currentSnapshot;Object.keys(Wr).forEach(Dr=>Qt[Dr]=Wr[Dr])}),F=function zn(re,P,F){const K=Object.keys(F);if(K.length&&P.length){let Ge=P[0],pt=[];if(K.forEach(vt=>{Ge.hasOwnProperty(vt)||pt.push(vt),Ge[vt]=F[vt]}),pt.length)for(var ge=1;ge<P.length;ge++){let vt=P[ge];pt.forEach(function(Ht){vt[Ht]=Mr(re,Ht)})}}return P}(P,F=F.map(mr=>Be(mr,!1)),Qt);const Bn=function Ai(re,P){let F=null,K=null;return Array.isArray(P)&&P.length?(F=$(P[0]),P.length>1&&(K=$(P[P.length-1]))):P&&(F=$(P)),F||K?new ee(re,F,K):null}(P,F);return new Ce(P,F,Ht,Bn)}}var Zn=I(9808);let Ar=(()=>{class re extends z._j{constructor(F,K){super(),this._nextAnimationId=0,this._renderer=F.createRenderer(K.body,{id:"0",encapsulation:x.ifc.None,styles:[],data:{animation:[]}})}build(F){const K=this._nextAnimationId.toString();this._nextAnimationId++;const ge=Array.isArray(F)?(0,z.vP)(F):F;return es(this._renderer,null,K,"register",[ge]),new wo(K,this._renderer)}}return re.\u0275fac=function(F){return new(F||re)(x.LFG(x.FYo),x.LFG(Zn.K0))},re.\u0275prov=x.Yz7({token:re,factory:re.\u0275fac}),re})();class wo extends z.LC{constructor(P,F){super(),this._id=P,this._renderer=F}create(P,F){return new Oa(this._id,P,F||{},this._renderer)}}class Oa{constructor(P,F,K,ge){this.id=P,this.element=F,this._renderer=ge,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",K)}_listen(P,F){return this._renderer.listen(this.element,`@@${this.id}:${P}`,F)}_command(P,...F){return es(this._renderer,this.element,this.id,P,F)}onDone(P){this._listen("done",P)}onStart(P){this._listen("start",P)}onDestroy(P){this._listen("destroy",P)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(P){this._command("setPosition",P)}getPosition(){var P,F;return null!==(F=null===(P=this._renderer.engine.players[+this.id])||void 0===P?void 0:P.getPosition())&&void 0!==F?F:0}}function es(re,P,F,K,ge){return re.setProperty(P,`@@${F}:${K}`,ge)}const li="@.disabled";let Ql=(()=>{class re{constructor(F,K,ge){this.delegate=F,this.engine=K,this._zone=ge,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),K.onRemovalComplete=(Ge,pt)=>{const vt=null==pt?void 0:pt.parentNode(Ge);vt&&pt.removeChild(vt,Ge)}}createRenderer(F,K){const Ge=this.delegate.createRenderer(F,K);if(!(F&&K&&K.data&&K.data.animation)){let Gn=this._rendererCache.get(Ge);return Gn||(Gn=new uo("",Ge,this.engine),this._rendererCache.set(Ge,Gn)),Gn}const pt=K.id,vt=K.id+"-"+this._currentId;this._currentId++,this.engine.register(vt,F);const Ht=Gn=>{Array.isArray(Gn)?Gn.forEach(Ht):this.engine.registerTrigger(pt,vt,F,Gn.name,Gn)};return K.data.animation.forEach(Ht),new Jl(this,vt,Ge,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(F,K,ge){F>=0&&F<this._microtaskId?this._zone.run(()=>K(ge)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ge=>{const[pt,vt]=Ge;pt(vt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([K,ge]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return re.\u0275fac=function(F){return new(F||re)(x.LFG(x.FYo),x.LFG(yi),x.LFG(x.R0b))},re.\u0275prov=x.Yz7({token:re,factory:re.\u0275fac}),re})();class uo{constructor(P,F,K){this.namespaceId=P,this.delegate=F,this.engine=K,this.destroyNode=this.delegate.destroyNode?ge=>F.destroyNode(ge):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(P,F){return this.delegate.createElement(P,F)}createComment(P){return this.delegate.createComment(P)}createText(P){return this.delegate.createText(P)}appendChild(P,F){this.delegate.appendChild(P,F),this.engine.onInsert(this.namespaceId,F,P,!1)}insertBefore(P,F,K,ge=!0){this.delegate.insertBefore(P,F,K),this.engine.onInsert(this.namespaceId,F,P,ge)}removeChild(P,F,K){this.engine.onRemove(this.namespaceId,F,this.delegate,K)}selectRootElement(P,F){return this.delegate.selectRootElement(P,F)}parentNode(P){return this.delegate.parentNode(P)}nextSibling(P){return this.delegate.nextSibling(P)}setAttribute(P,F,K,ge){this.delegate.setAttribute(P,F,K,ge)}removeAttribute(P,F,K){this.delegate.removeAttribute(P,F,K)}addClass(P,F){this.delegate.addClass(P,F)}removeClass(P,F){this.delegate.removeClass(P,F)}setStyle(P,F,K,ge){this.delegate.setStyle(P,F,K,ge)}removeStyle(P,F,K){this.delegate.removeStyle(P,F,K)}setProperty(P,F,K){"@"==F.charAt(0)&&F==li?this.disableAnimations(P,!!K):this.delegate.setProperty(P,F,K)}setValue(P,F){this.delegate.setValue(P,F)}listen(P,F,K){return this.delegate.listen(P,F,K)}disableAnimations(P,F){this.engine.disableAnimations(P,F)}}class Jl extends uo{constructor(P,F,K,ge){super(F,K,ge),this.factory=P,this.namespaceId=F}setProperty(P,F,K){"@"==F.charAt(0)?"."==F.charAt(1)&&F==li?this.disableAnimations(P,K=void 0===K||!!K):this.engine.process(this.namespaceId,P,F.substr(1),K):this.delegate.setProperty(P,F,K)}listen(P,F,K){if("@"==F.charAt(0)){const ge=function ts(re){switch(re){case"body":return document.body;case"document":return document;case"window":return window;default:return re}}(P);let Ge=F.substr(1),pt="";return"@"!=Ge.charAt(0)&&([Ge,pt]=function na(re){const P=re.indexOf(".");return[re.substring(0,P),re.substr(P+1)]}(Ge)),this.engine.listen(this.namespaceId,ge,Ge,pt,vt=>{this.factory.scheduleListenerCallback(vt._data||-1,K,vt)})}return this.delegate.listen(P,F,K)}}let sl=(()=>{class re extends yi{constructor(F,K,ge){super(F.body,K,ge)}ngOnDestroy(){this.flush()}}return re.\u0275fac=function(F){return new(F||re)(x.LFG(Zn.K0),x.LFG(Tt),x.LFG(Qo))},re.\u0275prov=x.Yz7({token:re,factory:re.\u0275fac}),re})();const q=new x.OlP("AnimationModuleType"),He=[{provide:z._j,useClass:Ar},{provide:Qo,useFactory:function j(){return new vs}},{provide:yi,useClass:sl},{provide:x.FYo,useFactory:function ne(re,P,F){return new Ql(re,P,F)},deps:[G.se,yi,x.R0b]}],_t=[{provide:Tt,useFactory:()=>new un},{provide:q,useValue:"BrowserAnimations"},...He],nn=[{provide:Tt,useClass:Ie},{provide:q,useValue:"NoopAnimations"},...He];let tr=(()=>{class re{static withConfig(F){return{ngModule:re,providers:F.disableAnimations?nn:_t}}}return re.\u0275fac=function(F){return new(F||re)},re.\u0275mod=x.oAB({type:re}),re.\u0275inj=x.cJS({providers:_t,imports:[G.b2]}),re})()},2313:(Dn,ht,I)=>{I.d(ht,{H7:()=>Nt,b2:()=>mi,q6:()=>pr,se:()=>$t});var x=I(9808),G=I(5e3);class z extends x.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends z{static makeCurrent(){(0,x.HT)(new Se)}onAndCancel(Ct,Ke,ft){return Ct.addEventListener(Ke,ft,!1),()=>{Ct.removeEventListener(Ke,ft,!1)}}dispatchEvent(Ct,Ke){Ct.dispatchEvent(Ke)}remove(Ct){Ct.parentNode&&Ct.parentNode.removeChild(Ct)}createElement(Ct,Ke){return(Ke=Ke||this.getDefaultDocument()).createElement(Ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ct){return Ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ct){return Ct instanceof DocumentFragment}getGlobalEventTarget(Ct,Ke){return"window"===Ke?window:"document"===Ke?Ct:"body"===Ke?Ct.body:null}getBaseHref(Ct){const Ke=function Fe(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==Ke?null:function Ae(Dt){ke=ke||document.createElement("a"),ke.setAttribute("href",Dt);const Ct=ke.pathname;return"/"===Ct.charAt(0)?Ct:`/${Ct}`}(Ke)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ct){return(0,x.Mx)(document.cookie,Ct)}}let ke,Ee=null;const Ve=new G.OlP("TRANSITION_ID"),Oe=[{provide:G.ip1,useFactory:function Pe(Dt,Ct,Ke){return()=>{Ke.get(G.CZH).donePromise.then(()=>{const ft=(0,x.q)(),je=Ct.querySelectorAll(`style[ng-transition="${Dt}"]`);for(let kt=0;kt<je.length;kt++)ft.remove(je[kt])})}},deps:[Ve,x.K0,G.zs3],multi:!0}];class be{static init(){(0,G.VLi)(new be)}addToWindow(Ct){G.dqk.getAngularTestability=(ft,je=!0)=>{const kt=Ct.findTestabilityInTree(ft,je);if(null==kt)throw new Error("Could not find testability for element.");return kt},G.dqk.getAllAngularTestabilities=()=>Ct.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>Ct.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(ft=>{const je=G.dqk.getAllAngularTestabilities();let kt=je.length,pe=!1;const St=function(yn){pe=pe||yn,kt--,0==kt&&ft(pe)};je.forEach(function(yn){yn.whenStable(St)})})}findTestabilityInTree(Ct,Ke,ft){if(null==Ke)return null;const je=Ct.getTestability(Ke);return null!=je?je:ft?(0,x.q)().isShadowRoot(Ke)?this.findTestabilityInTree(Ct,Ke.host,!0):this.findTestabilityInTree(Ct,Ke.parentElement,!0):null}}let Xe=(()=>{class Dt{build(){return new XMLHttpRequest}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const Je=new G.OlP("EventManagerPlugins");let lt=(()=>{class Dt{constructor(Ke,ft){this._zone=ft,this._eventNameToPlugin=new Map,Ke.forEach(je=>je.manager=this),this._plugins=Ke.slice().reverse()}addEventListener(Ke,ft,je){return this._findPluginFor(ft).addEventListener(Ke,ft,je)}addGlobalEventListener(Ke,ft,je){return this._findPluginFor(ft).addGlobalEventListener(Ke,ft,je)}getZone(){return this._zone}_findPluginFor(Ke){const ft=this._eventNameToPlugin.get(Ke);if(ft)return ft;const je=this._plugins;for(let kt=0;kt<je.length;kt++){const pe=je[kt];if(pe.supports(Ke))return this._eventNameToPlugin.set(Ke,pe),pe}throw new Error(`No event manager plugin found for event ${Ke}`)}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(Je),G.LFG(G.R0b))},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();class Lt{constructor(Ct){this._doc=Ct}addGlobalEventListener(Ct,Ke,ft){const je=(0,x.q)().getGlobalEventTarget(this._doc,Ct);if(!je)throw new Error(`Unsupported event target ${je} for event ${Ke}`);return this.addEventListener(je,Ke,ft)}}let ct=(()=>{class Dt{constructor(){this._stylesSet=new Set}addStyles(Ke){const ft=new Set;Ke.forEach(je=>{this._stylesSet.has(je)||(this._stylesSet.add(je),ft.add(je))}),this.onStylesAdded(ft)}onStylesAdded(Ke){}getAllStyles(){return Array.from(this._stylesSet)}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),Jt=(()=>{class Dt extends ct{constructor(Ke){super(),this._doc=Ke,this._hostNodes=new Map,this._hostNodes.set(Ke.head,[])}_addStylesToHost(Ke,ft,je){Ke.forEach(kt=>{const pe=this._doc.createElement("style");pe.textContent=kt,je.push(ft.appendChild(pe))})}addHost(Ke){const ft=[];this._addStylesToHost(this._stylesSet,Ke,ft),this._hostNodes.set(Ke,ft)}removeHost(Ke){const ft=this._hostNodes.get(Ke);ft&&ft.forEach(On),this._hostNodes.delete(Ke)}onStylesAdded(Ke){this._hostNodes.forEach((ft,je)=>{this._addStylesToHost(Ke,je,ft)})}ngOnDestroy(){this._hostNodes.forEach(Ke=>Ke.forEach(On))}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(x.K0))},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();function On(Dt){(0,x.q)().remove(Dt)}const w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yt=/%COMP%/g;function mt(Dt,Ct,Ke){for(let ft=0;ft<Ct.length;ft++){let je=Ct[ft];Array.isArray(je)?mt(Dt,je,Ke):(je=je.replace(Yt,Dt),Ke.push(je))}return Ke}function Ft(Dt){return Ct=>{if("__ngUnwrap__"===Ct)return Dt;!1===Dt(Ct)&&(Ct.preventDefault(),Ct.returnValue=!1)}}let $t=(()=>{class Dt{constructor(Ke,ft,je){this.eventManager=Ke,this.sharedStylesHost=ft,this.appId=je,this.rendererByCompId=new Map,this.defaultRenderer=new ut(Ke)}createRenderer(Ke,ft){if(!Ke||!ft)return this.defaultRenderer;switch(ft.encapsulation){case G.ifc.Emulated:{let je=this.rendererByCompId.get(ft.id);return je||(je=new en(this.eventManager,this.sharedStylesHost,ft,this.appId),this.rendererByCompId.set(ft.id,je)),je.applyToHost(Ke),je}case 1:case G.ifc.ShadowDom:return new xt(this.eventManager,this.sharedStylesHost,Ke,ft);default:if(!this.rendererByCompId.has(ft.id)){const je=mt(ft.id,ft.styles,[]);this.sharedStylesHost.addStyles(je),this.rendererByCompId.set(ft.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(lt),G.LFG(Jt),G.LFG(G.AFp))},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();class ut{constructor(Ct){this.eventManager=Ct,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ct,Ke){return Ke?document.createElementNS(w[Ke]||Ke,Ct):document.createElement(Ct)}createComment(Ct){return document.createComment(Ct)}createText(Ct){return document.createTextNode(Ct)}appendChild(Ct,Ke){Ct.appendChild(Ke)}insertBefore(Ct,Ke,ft){Ct&&Ct.insertBefore(Ke,ft)}removeChild(Ct,Ke){Ct&&Ct.removeChild(Ke)}selectRootElement(Ct,Ke){let ft="string"==typeof Ct?document.querySelector(Ct):Ct;if(!ft)throw new Error(`The selector "${Ct}" did not match any elements`);return Ke||(ft.textContent=""),ft}parentNode(Ct){return Ct.parentNode}nextSibling(Ct){return Ct.nextSibling}setAttribute(Ct,Ke,ft,je){if(je){Ke=je+":"+Ke;const kt=w[je];kt?Ct.setAttributeNS(kt,Ke,ft):Ct.setAttribute(Ke,ft)}else Ct.setAttribute(Ke,ft)}removeAttribute(Ct,Ke,ft){if(ft){const je=w[ft];je?Ct.removeAttributeNS(je,Ke):Ct.removeAttribute(`${ft}:${Ke}`)}else Ct.removeAttribute(Ke)}addClass(Ct,Ke){Ct.classList.add(Ke)}removeClass(Ct,Ke){Ct.classList.remove(Ke)}setStyle(Ct,Ke,ft,je){je&(G.JOm.DashCase|G.JOm.Important)?Ct.style.setProperty(Ke,ft,je&G.JOm.Important?"important":""):Ct.style[Ke]=ft}removeStyle(Ct,Ke,ft){ft&G.JOm.DashCase?Ct.style.removeProperty(Ke):Ct.style[Ke]=""}setProperty(Ct,Ke,ft){Ct[Ke]=ft}setValue(Ct,Ke){Ct.nodeValue=Ke}listen(Ct,Ke,ft){return"string"==typeof Ct?this.eventManager.addGlobalEventListener(Ct,Ke,Ft(ft)):this.eventManager.addEventListener(Ct,Ke,Ft(ft))}}class en extends ut{constructor(Ct,Ke,ft,je){super(Ct),this.component=ft;const kt=mt(je+"-"+ft.id,ft.styles,[]);Ke.addStyles(kt),this.contentAttr=function gt(Dt){return"_ngcontent-%COMP%".replace(Yt,Dt)}(je+"-"+ft.id),this.hostAttr=function ze(Dt){return"_nghost-%COMP%".replace(Yt,Dt)}(je+"-"+ft.id)}applyToHost(Ct){super.setAttribute(Ct,this.hostAttr,"")}createElement(Ct,Ke){const ft=super.createElement(Ct,Ke);return super.setAttribute(ft,this.contentAttr,""),ft}}class xt extends ut{constructor(Ct,Ke,ft,je){super(Ct),this.sharedStylesHost=Ke,this.hostEl=ft,this.shadowRoot=ft.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=mt(je.id,je.styles,[]);for(let pe=0;pe<kt.length;pe++){const St=document.createElement("style");St.textContent=kt[pe],this.shadowRoot.appendChild(St)}}nodeOrShadowRoot(Ct){return Ct===this.hostEl?this.shadowRoot:Ct}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ct,Ke){return super.appendChild(this.nodeOrShadowRoot(Ct),Ke)}insertBefore(Ct,Ke,ft){return super.insertBefore(this.nodeOrShadowRoot(Ct),Ke,ft)}removeChild(Ct,Ke){return super.removeChild(this.nodeOrShadowRoot(Ct),Ke)}parentNode(Ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ct)))}}let jt=(()=>{class Dt extends Lt{constructor(Ke){super(Ke)}supports(Ke){return!0}addEventListener(Ke,ft,je){return Ke.addEventListener(ft,je,!1),()=>this.removeEventListener(Ke,ft,je)}removeEventListener(Ke,ft,je){return Ke.removeEventListener(ft,je)}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(x.K0))},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const Hn=["alt","control","meta","shift"],_r={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xi={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let oi=(()=>{class Dt extends Lt{constructor(Ke){super(Ke)}supports(Ke){return null!=Dt.parseEventName(Ke)}addEventListener(Ke,ft,je){const kt=Dt.parseEventName(ft),pe=Dt.eventCallback(kt.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.q)().onAndCancel(Ke,kt.domEventName,pe))}static parseEventName(Ke){const ft=Ke.toLowerCase().split("."),je=ft.shift();if(0===ft.length||"keydown"!==je&&"keyup"!==je)return null;const kt=Dt._normalizeKey(ft.pop());let pe="";if(Hn.forEach(yn=>{const zn=ft.indexOf(yn);zn>-1&&(ft.splice(zn,1),pe+=yn+".")}),pe+=kt,0!=ft.length||0===kt.length)return null;const St={};return St.domEventName=je,St.fullKey=pe,St}static getEventFullKey(Ke){let ft="",je=function Or(Dt){let Ct=Dt.key;if(null==Ct){if(Ct=Dt.keyIdentifier,null==Ct)return"Unidentified";Ct.startsWith("U+")&&(Ct=String.fromCharCode(parseInt(Ct.substring(2),16)),3===Dt.location&&gr.hasOwnProperty(Ct)&&(Ct=gr[Ct]))}return _r[Ct]||Ct}(Ke);return je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),Hn.forEach(kt=>{kt!=je&&xi[kt](Ke)&&(ft+=kt+".")}),ft+=je,ft}static eventCallback(Ke,ft,je){return kt=>{Dt.getEventFullKey(kt)===Ke&&je.runGuarded(()=>ft(kt))}}static _normalizeKey(Ke){return"esc"===Ke?"escape":Ke}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(x.K0))},Dt.\u0275prov=G.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const pr=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:x.bD},{provide:G.g9A,useValue:function bi(){Se.makeCurrent(),be.init()},multi:!0},{provide:x.K0,useFactory:function Ui(){return(0,G.RDi)(document),document},deps:[]}]),Mi=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function Ni(){return new G.qLn},deps:[]},{provide:Je,useClass:jt,multi:!0,deps:[x.K0,G.R0b,G.Lbi]},{provide:Je,useClass:oi,multi:!0,deps:[x.K0]},{provide:$t,useClass:$t,deps:[lt,Jt,G.AFp]},{provide:G.FYo,useExisting:$t},{provide:ct,useExisting:Jt},{provide:Jt,useClass:Jt,deps:[x.K0]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b]},{provide:lt,useClass:lt,deps:[Je,G.R0b]},{provide:x.JF,useClass:Xe,deps:[]}];let mi=(()=>{class Dt{constructor(Ke){if(Ke)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ke){return{ngModule:Dt,providers:[{provide:G.AFp,useValue:Ke.appId},{provide:Ve,useExisting:G.AFp},Oe]}}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(Dt,12))},Dt.\u0275mod=G.oAB({type:Dt}),Dt.\u0275inj=G.cJS({providers:Mi,imports:[x.ez,G.hGG]}),Dt})();"undefined"!=typeof window&&window;let Nt=(()=>{class Dt{}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)},Dt.\u0275prov=G.Yz7({token:Dt,factory:function(Ke){let ft=null;return ft=Ke?new(Ke||Dt):G.LFG(vr),ft},providedIn:"root"}),Dt})(),vr=(()=>{class Dt extends Nt{constructor(Ke){super(),this._doc=Ke}sanitize(Ke,ft){if(null==ft)return null;switch(Ke){case G.q3G.NONE:return ft;case G.q3G.HTML:return(0,G.qzn)(ft,"HTML")?(0,G.z3N)(ft):(0,G.EiD)(this._doc,String(ft)).toString();case G.q3G.STYLE:return(0,G.qzn)(ft,"Style")?(0,G.z3N)(ft):ft;case G.q3G.SCRIPT:if((0,G.qzn)(ft,"Script"))return(0,G.z3N)(ft);throw new Error("unsafe value used in a script context");case G.q3G.URL:return(0,G.yhl)(ft),(0,G.qzn)(ft,"URL")?(0,G.z3N)(ft):(0,G.mCW)(String(ft));case G.q3G.RESOURCE_URL:if((0,G.qzn)(ft,"ResourceURL"))return(0,G.z3N)(ft);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ke} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ke){return(0,G.JVY)(Ke)}bypassSecurityTrustStyle(Ke){return(0,G.L6k)(Ke)}bypassSecurityTrustScript(Ke){return(0,G.eBb)(Ke)}bypassSecurityTrustUrl(Ke){return(0,G.LAX)(Ke)}bypassSecurityTrustResourceUrl(Ke){return(0,G.pB0)(Ke)}}return Dt.\u0275fac=function(Ke){return new(Ke||Dt)(G.LFG(x.K0))},Dt.\u0275prov=G.Yz7({token:Dt,factory:function(Ke){let ft=null;return ft=Ke?new Ke:function an(Dt){return new vr(Dt.get(x.K0))}(G.LFG(G.zs3)),ft},providedIn:"root"}),Dt})()},8406:(Dn,ht,I)=>{I.d(ht,{gz:()=>go,m2:()=>_r,wm:()=>xr,F0:()=>fi,rH:()=>ys,yS:()=>Xi,Bz:()=>ra,lC:()=>jo});var x=I(5e3),G=I(188),z=I(9646),Se=I(1135),Ee=I(9841),Fe=I(2843),ke=I(6805),Ae=I(7272),Ve=I(9770),Pe=I(8306),Oe=I(515),be=I(4033),Xe=I(7579),Je=I(4482),lt=I(5403);function Lt(W,V,k,Q,te){return(Te,at)=>{let yt=k,hn=V,ir=0;Te.subscribe((0,lt.x)(at,ti=>{const yr=ir++;hn=yt?W(hn,ti,yr):(yt=!0,ti),Q&&at.next(hn)},te&&(()=>{yt&&at.next(hn),at.complete()})))}}function ct(W,V){return(0,Je.e)(Lt(W,V,arguments.length>=2,!0))}var Jt=I(9300);function On(W){return W<=0?()=>Oe.E:(0,Je.e)((V,k)=>{let Q=[];V.subscribe((0,lt.x)(k,te=>{Q.push(te),W<Q.length&&Q.shift()},()=>{for(const te of Q)k.next(te);k.complete()},void 0,()=>{Q=null}))})}function w(W=Yt){return(0,Je.e)((V,k)=>{let Q=!1;V.subscribe((0,lt.x)(k,te=>{Q=!0,k.next(te)},()=>Q?k.complete():k.error(W())))})}function Yt(){return new ke.K}function se(W){return(0,Je.e)((V,k)=>{let Q=!1;V.subscribe((0,lt.x)(k,te=>{Q=!0,k.next(te)},()=>{Q||k.next(W),k.complete()}))})}var ot=I(4671),et=I(5698);function gt(W,V){const k=arguments.length>=2;return Q=>Q.pipe(W?(0,Jt.h)((te,Te)=>W(te,Te,Q)):ot.y,(0,et.q)(1),k?se(V):w(()=>new ke.K))}var ze=I(4004),mt=I(3900),Ft=I(8675),It=I(262),$t=I(4351),ut=I(5577),pn=I(8505),tt=I(8343),en=I(8746),xt=I(8189),jt=I(9808);class Hn{constructor(V,k){this.id=V,this.url=k}}class or extends Hn{constructor(V,k,Q="imperative",te=null){super(V,k),this.navigationTrigger=Q,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends Hn{constructor(V,k,Q){super(V,k),this.urlAfterRedirects=Q}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gr extends Hn{constructor(V,k,Q){super(V,k),this.reason=Q}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xi extends Hn{constructor(V,k,Q){super(V,k),this.error=Q}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oi extends Hn{constructor(V,k,Q,te){super(V,k),this.urlAfterRedirects=Q,this.state=te}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends Hn{constructor(V,k,Q,te){super(V,k),this.urlAfterRedirects=Q,this.state=te}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends Hn{constructor(V,k,Q,te,Te){super(V,k),this.urlAfterRedirects=Q,this.state=te,this.shouldActivate=Te}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ni extends Hn{constructor(V,k,Q,te){super(V,k),this.urlAfterRedirects=Q,this.state=te}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends Hn{constructor(V,k,Q,te){super(V,k),this.urlAfterRedirects=Q,this.state=te}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr{constructor(V){this.route=V}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pr{constructor(V){this.route=V}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mi{constructor(V){this.snapshot=V}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(V){this.snapshot=V}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(V){this.snapshot=V}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(V){this.snapshot=V}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(V,k,Q){this.routerEvent=V,this.position=k,this.anchor=Q}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class Ye{constructor(V){this.params=V||{}}has(V){return Object.prototype.hasOwnProperty.call(this.params,V)}get(V){if(this.has(V)){const k=this.params[V];return Array.isArray(k)?k[0]:k}return null}getAll(V){if(this.has(V)){const k=this.params[V];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function At(W){return new Ye(W)}const Xt="ngNavigationCancelingError";function dt(W){const V=Error("NavigationCancelingError: "+W);return V[Xt]=!0,V}function fe(W,V,k){const Q=k.path.split("/");if(Q.length>W.length||"full"===k.pathMatch&&(V.hasChildren()||Q.length<W.length))return null;const te={};for(let Te=0;Te<Q.length;Te++){const at=Q[Te],yt=W[Te];if(at.startsWith(":"))te[at.substring(1)]=yt;else if(at!==yt.path)return null}return{consumed:W.slice(0,Q.length),posParams:te}}function ve(W,V){const k=W?Object.keys(W):void 0,Q=V?Object.keys(V):void 0;if(!k||!Q||k.length!=Q.length)return!1;let te;for(let Te=0;Te<k.length;Te++)if(te=k[Te],!Ie(W[te],V[te]))return!1;return!0}function Ie(W,V){if(Array.isArray(W)&&Array.isArray(V)){if(W.length!==V.length)return!1;const k=[...W].sort(),Q=[...V].sort();return k.every((te,Te)=>Q[Te]===te)}return W===V}function Tt(W){return Array.prototype.concat.apply([],W)}function Pn(W){return W.length>0?W[W.length-1]:null}function Tn(W,V){for(const k in W)W.hasOwnProperty(k)&&V(W[k],k)}function ar(W){return(0,x.CqO)(W)?W:(0,x.QGY)(W)?(0,G.D)(Promise.resolve(W)):(0,z.of)(W)}const Vt={exact:function er(W,V,k){if(!an(W.segments,V.segments)||!Bt(W.segments,V.segments,k)||W.numberOfChildren!==V.numberOfChildren)return!1;for(const Q in V.children)if(!W.children[Q]||!er(W.children[Q],V.children[Q],k))return!1;return!0},subset:Er},fn={exact:function oe(W,V){return ve(W,V)},subset:function Lr(W,V){return Object.keys(V).length<=Object.keys(W).length&&Object.keys(V).every(k=>Ie(W[k],V[k]))},ignored:()=>!0};function mn(W,V,k){return Vt[k.paths](W.root,V.root,k.matrixParams)&&fn[k.queryParams](W.queryParams,V.queryParams)&&!("exact"===k.fragment&&W.fragment!==V.fragment)}function Er(W,V,k){return dr(W,V,V.segments,k)}function dr(W,V,k,Q){if(W.segments.length>k.length){const te=W.segments.slice(0,k.length);return!(!an(te,k)||V.hasChildren()||!Bt(te,k,Q))}if(W.segments.length===k.length){if(!an(W.segments,k)||!Bt(W.segments,k,Q))return!1;for(const te in V.children)if(!W.children[te]||!Er(W.children[te],V.children[te],Q))return!1;return!0}{const te=k.slice(0,W.segments.length),Te=k.slice(W.segments.length);return!!(an(W.segments,te)&&Bt(W.segments,te,Q)&&W.children[ue])&&dr(W.children[ue],V,Te,Q)}}function Bt(W,V,k){return V.every((Q,te)=>fn[k](W[te].parameters,Q.parameters))}class wt{constructor(V,k,Q){this.root=V,this.queryParams=k,this.fragment=Q}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return Ct.serialize(this)}}class Be{constructor(V,k){this.segments=V,this.children=k,this.parent=null,Tn(k,(Q,te)=>Q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ke(this)}}class xe{constructor(V,k){this.path=V,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return sr(this)}}function an(W,V){return W.length===V.length&&W.every((k,Q)=>k.path===V[Q].path)}class hr{}class Dt{parse(V){const k=new qr(V);return new wt(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(V){const k=`/${ft(V.root,!0)}`,Q=function Br(W){const V=Object.keys(W).map(k=>{const Q=W[k];return Array.isArray(Q)?Q.map(te=>`${kt(k)}=${kt(te)}`).join("&"):`${kt(k)}=${kt(Q)}`}).filter(k=>!!k);return V.length?`?${V.join("&")}`:""}(V.queryParams);return`${k}${Q}${"string"==typeof V.fragment?`#${function pe(W){return encodeURI(W)}(V.fragment)}`:""}`}}const Ct=new Dt;function Ke(W){return W.segments.map(V=>sr(V)).join("/")}function ft(W,V){if(!W.hasChildren())return Ke(W);if(V){const k=W.children[ue]?ft(W.children[ue],!1):"",Q=[];return Tn(W.children,(te,Te)=>{Te!==ue&&Q.push(`${Te}:${ft(te,!1)}`)}),Q.length>0?`${k}(${Q.join("//")})`:k}{const k=function vr(W,V){let k=[];return Tn(W.children,(Q,te)=>{te===ue&&(k=k.concat(V(Q,te)))}),Tn(W.children,(Q,te)=>{te!==ue&&(k=k.concat(V(Q,te)))}),k}(W,(Q,te)=>te===ue?[ft(W.children[ue],!1)]:[`${te}:${ft(Q,!1)}`]);return 1===Object.keys(W.children).length&&null!=W.children[ue]?`${Ke(W)}/${k[0]}`:`${Ke(W)}/(${k.join("//")})`}}function je(W){return encodeURIComponent(W).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kt(W){return je(W).replace(/%3B/gi,";")}function St(W){return je(W).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(W){return decodeURIComponent(W)}function zn(W){return yn(W.replace(/\+/g,"%20"))}function sr(W){return`${St(W.path)}${function Mr(W){return Object.keys(W).map(V=>`;${St(V)}=${St(W[V])}`).join("")}(W.parameters)}`}const Pi=/^[^\/()?;=#]+/;function $r(W){const V=W.match(Pi);return V?V[0]:""}const Vn=/^[^=?&#]+/,hi=/^[^&#]+/;class qr{constructor(V){this.url=V,this.remaining=V}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){const V={};if(this.consumeOptional("?"))do{this.parseQueryParam(V)}while(this.consumeOptional("&"));return V}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const V=[];for(this.peekStartsWith("(")||V.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),V.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let Q={};return this.peekStartsWith("(")&&(Q=this.parseParens(!1)),(V.length>0||Object.keys(k).length>0)&&(Q[ue]=new Be(V,k)),Q}parseSegment(){const V=$r(this.remaining);if(""===V&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(V),new xe(yn(V),this.parseMatrixParams())}parseMatrixParams(){const V={};for(;this.consumeOptional(";");)this.parseParam(V);return V}parseParam(V){const k=$r(this.remaining);if(!k)return;this.capture(k);let Q="";if(this.consumeOptional("=")){const te=$r(this.remaining);te&&(Q=te,this.capture(Q))}V[yn(k)]=yn(Q)}parseQueryParam(V){const k=function Rr(W){const V=W.match(Vn);return V?V[0]:""}(this.remaining);if(!k)return;this.capture(k);let Q="";if(this.consumeOptional("=")){const at=function so(W){const V=W.match(hi);return V?V[0]:""}(this.remaining);at&&(Q=at,this.capture(Q))}const te=zn(k),Te=zn(Q);if(V.hasOwnProperty(te)){let at=V[te];Array.isArray(at)||(at=[at],V[te]=at),at.push(Te)}else V[te]=Te}parseParens(V){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Q=$r(this.remaining),te=this.remaining[Q.length];if("/"!==te&&")"!==te&&";"!==te)throw new Error(`Cannot parse url '${this.url}'`);let Te;Q.indexOf(":")>-1?(Te=Q.substr(0,Q.indexOf(":")),this.capture(Te),this.capture(":")):V&&(Te=ue);const at=this.parseChildren();k[Te]=1===Object.keys(at).length?at[ue]:new Be([],at),this.consumeOptional("//")}return k}peekStartsWith(V){return this.remaining.startsWith(V)}consumeOptional(V){return!!this.peekStartsWith(V)&&(this.remaining=this.remaining.substring(V.length),!0)}capture(V){if(!this.consumeOptional(V))throw new Error(`Expected "${V}".`)}}class Pr{constructor(V){this._root=V}get root(){return this._root.value}parent(V){const k=this.pathFromRoot(V);return k.length>1?k[k.length-2]:null}children(V){const k=cr(V,this._root);return k?k.children.map(Q=>Q.value):[]}firstChild(V){const k=cr(V,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(V){const k=Xr(V,this._root);return k.length<2?[]:k[k.length-2].children.map(te=>te.value).filter(te=>te!==V)}pathFromRoot(V){return Xr(V,this._root).map(k=>k.value)}}function cr(W,V){if(W===V.value)return V;for(const k of V.children){const Q=cr(W,k);if(Q)return Q}return null}function Xr(W,V){if(W===V.value)return[V];for(const k of V.children){const Q=Xr(W,k);if(Q.length)return Q.unshift(V),Q}return[]}class Bi{constructor(V,k){this.value=V,this.children=k}toString(){return`TreeNode(${this.value})`}}function Yr(W){const V={};return W&&W.children.forEach(k=>V[k.value.outlet]=k),V}class wr extends Pr{constructor(V,k){super(V),this.snapshot=k,lo(this,V)}toString(){return this.snapshot.toString()}}function Qi(W,V){const k=function Ki(W,V){const at=new Ei([],{},{},"",{},ue,V,null,W.root,-1,{});return new Go("",new Bi(at,[]))}(W,V),Q=new Se.X([new xe("",{})]),te=new Se.X({}),Te=new Se.X({}),at=new Se.X({}),yt=new Se.X(""),hn=new go(Q,te,at,yt,Te,ue,V,k.root);return hn.snapshot=k.root,new wr(new Bi(hn,[]),k)}class go{constructor(V,k,Q,te,Te,at,yt,hn){this.url=V,this.params=k,this.queryParams=Q,this.fragment=te,this.data=Te,this.outlet=at,this.component=yt,this._futureSnapshot=hn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(V=>At(V)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(V=>At(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function to(W,V="emptyOnly"){const k=W.pathFromRoot;let Q=0;if("always"!==V)for(Q=k.length-1;Q>=1;){const te=k[Q],Te=k[Q-1];if(te.routeConfig&&""===te.routeConfig.path)Q--;else{if(Te.component)break;Q--}}return function $i(W){return W.reduce((V,k)=>({params:Object.assign(Object.assign({},V.params),k.params),data:Object.assign(Object.assign({},V.data),k.data),resolve:Object.assign(Object.assign({},V.resolve),k._resolvedData)}),{params:{},data:{},resolve:{}})}(k.slice(Q))}class Ei{constructor(V,k,Q,te,Te,at,yt,hn,ir,ti,yr){this.url=V,this.params=k,this.queryParams=Q,this.fragment=te,this.data=Te,this.outlet=at,this.component=yt,this.routeConfig=hn,this._urlSegment=ir,this._lastPathIndex=ti,this._resolve=yr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Q=>Q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Go extends Pr{constructor(V,k){super(k),this.url=V,lo(this,k)}toString(){return ri(this._root)}}function lo(W,V){V.value._routerState=W,V.children.forEach(k=>lo(W,k))}function ri(W){const V=W.children.length>0?` { ${W.children.map(ri).join(", ")} } `:"";return`${W.value}${V}`}function xn(W){if(W.snapshot){const V=W.snapshot,k=W._futureSnapshot;W.snapshot=k,ve(V.queryParams,k.queryParams)||W.queryParams.next(k.queryParams),V.fragment!==k.fragment&&W.fragment.next(k.fragment),ve(V.params,k.params)||W.params.next(k.params),function We(W,V){if(W.length!==V.length)return!1;for(let k=0;k<W.length;++k)if(!ve(W[k],V[k]))return!1;return!0}(V.url,k.url)||W.url.next(k.url),ve(V.data,k.data)||W.data.next(k.data)}else W.snapshot=W._futureSnapshot,W.data.next(W._futureSnapshot.data)}function Do(W,V){const k=ve(W.params,V.params)&&function Nt(W,V){return an(W,V)&&W.every((k,Q)=>ve(k.parameters,V[Q].parameters))}(W.url,V.url);return k&&!(!W.parent!=!V.parent)&&(!W.parent||Do(W.parent,V.parent))}function ki(W,V,k){if(k&&W.shouldReuseRoute(V.value,k.value.snapshot)){const Q=k.value;Q._futureSnapshot=V.value;const te=function no(W,V,k){return V.children.map(Q=>{for(const te of k.children)if(W.shouldReuseRoute(Q.value,te.value.snapshot))return ki(W,Q,te);return ki(W,Q)})}(W,V,k);return new Bi(Q,te)}{if(W.shouldAttach(V.value)){const Te=W.retrieve(V.value);if(null!==Te){const at=Te.route;return at.value._futureSnapshot=V.value,at.children=V.children.map(yt=>ki(W,yt)),at}}const Q=function Bo(W){return new go(new Se.X(W.url),new Se.X(W.params),new Se.X(W.queryParams),new Se.X(W.fragment),new Se.X(W.data),W.outlet,W.component,W)}(V.value),te=V.children.map(Te=>ki(W,Te));return new Bi(Q,te)}}function qe(W){return"object"==typeof W&&null!=W&&!W.outlets&&!W.segmentPath}function No(W){return"object"==typeof W&&null!=W&&W.outlets}function Ia(W,V,k,Q,te){let Te={};if(Q&&Tn(Q,(yt,hn)=>{Te[hn]=Array.isArray(yt)?yt.map(ir=>`${ir}`):`${yt}`}),W===V)return new wt(k,Te,te);const at=ql(W,V,k);return new wt(at,Te,te)}function ql(W,V,k){const Q={};return Tn(W.children,(te,Te)=>{Q[Te]=te===V?k:ql(te,V,k)}),new Be(W.segments,Q)}class vo{constructor(V,k,Q){if(this.isAbsolute=V,this.numberOfDoubleDots=k,this.commands=Q,V&&Q.length>0&&qe(Q[0]))throw new Error("Root segment cannot have matrix parameters");const te=Q.find(No);if(te&&te!==Pn(Q))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wo{constructor(V,k,Q){this.segmentGroup=V,this.processChildren=k,this.index=Q}}function Zo(W,V,k){if(W||(W=new Be([],{})),0===W.segments.length&&W.hasChildren())return qa(W,V,k);const Q=function Tc(W,V,k){let Q=0,te=V;const Te={match:!1,pathIndex:0,commandIndex:0};for(;te<W.segments.length;){if(Q>=k.length)return Te;const at=W.segments[te],yt=k[Q];if(No(yt))break;const hn=`${yt}`,ir=Q<k.length-1?k[Q+1]:null;if(te>0&&void 0===hn)break;if(hn&&ir&&"object"==typeof ir&&void 0===ir.outlets){if(!Rl(hn,ir,at))return Te;Q+=2}else{if(!Rl(hn,{},at))return Te;Q++}te++}return{match:!0,pathIndex:te,commandIndex:Q}}(W,V,k),te=k.slice(Q.commandIndex);if(Q.match&&Q.pathIndex<W.segments.length){const Te=new Be(W.segments.slice(0,Q.pathIndex),{});return Te.children[ue]=new Be(W.segments.slice(Q.pathIndex),W.children),qa(Te,0,te)}return Q.match&&0===te.length?new Be(W.segments,{}):Q.match&&!W.hasChildren()?Qo(W,V,k):Q.match?qa(W,0,te):Qo(W,V,k)}function qa(W,V,k){if(0===k.length)return new Be(W.segments,{});{const Q=function Na(W){return No(W[0])?W[0].outlets:{[ue]:W}}(k),te={};return Tn(Q,(Te,at)=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(te[at]=Zo(W.children[at],V,Te))}),Tn(W.children,(Te,at)=>{void 0===Q[at]&&(te[at]=Te)}),new Be(W.segments,te)}}function Qo(W,V,k){const Q=W.segments.slice(0,V);let te=0;for(;te<k.length;){const Te=k[te];if(No(Te)){const hn=co(Te.outlets);return new Be(Q,hn)}if(0===te&&qe(k[0])){Q.push(new xe(W.segments[V].path,vs(k[0]))),te++;continue}const at=No(Te)?Te.outlets[ue]:`${Te}`,yt=te<k.length-1?k[te+1]:null;at&&yt&&qe(yt)?(Q.push(new xe(at,vs(yt))),te+=2):(Q.push(new xe(at,{})),te++)}return new Be(Q,{})}function co(W){const V={};return Tn(W,(k,Q)=>{"string"==typeof k&&(k=[k]),null!==k&&(V[Q]=Qo(new Be([],{}),0,k))}),V}function vs(W){const V={};return Tn(W,(k,Q)=>V[Q]=`${k}`),V}function Rl(W,V,k){return W==k.path&&ve(V,k.parameters)}class rl{constructor(V,k,Q,te){this.routeReuseStrategy=V,this.futureState=k,this.currState=Q,this.forwardEvent=te}activate(V){const k=this.futureState._root,Q=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,Q,V),xn(this.futureState.root),this.activateChildRoutes(k,Q,V)}deactivateChildRoutes(V,k,Q){const te=Yr(k);V.children.forEach(Te=>{const at=Te.value.outlet;this.deactivateRoutes(Te,te[at],Q),delete te[at]}),Tn(te,(Te,at)=>{this.deactivateRouteAndItsChildren(Te,Q)})}deactivateRoutes(V,k,Q){const te=V.value,Te=k?k.value:null;if(te===Te)if(te.component){const at=Q.getContext(te.outlet);at&&this.deactivateChildRoutes(V,k,at.children)}else this.deactivateChildRoutes(V,k,Q);else Te&&this.deactivateRouteAndItsChildren(k,Q)}deactivateRouteAndItsChildren(V,k){V.value.component&&this.routeReuseStrategy.shouldDetach(V.value.snapshot)?this.detachAndStoreRouteSubtree(V,k):this.deactivateRouteAndOutlet(V,k)}detachAndStoreRouteSubtree(V,k){const Q=k.getContext(V.value.outlet),te=Q&&V.value.component?Q.children:k,Te=Yr(V);for(const at of Object.keys(Te))this.deactivateRouteAndItsChildren(Te[at],te);if(Q&&Q.outlet){const at=Q.outlet.detach(),yt=Q.children.onOutletDeactivated();this.routeReuseStrategy.store(V.value.snapshot,{componentRef:at,route:V,contexts:yt})}}deactivateRouteAndOutlet(V,k){const Q=k.getContext(V.value.outlet),te=Q&&V.value.component?Q.children:k,Te=Yr(V);for(const at of Object.keys(Te))this.deactivateRouteAndItsChildren(Te[at],te);Q&&Q.outlet&&(Q.outlet.deactivate(),Q.children.onOutletDeactivated(),Q.attachRef=null,Q.resolver=null,Q.route=null)}activateChildRoutes(V,k,Q){const te=Yr(k);V.children.forEach(Te=>{this.activateRoutes(Te,te[Te.value.outlet],Q),this.forwardEvent(new Kn(Te.value.snapshot))}),V.children.length&&this.forwardEvent(new mi(V.value.snapshot))}activateRoutes(V,k,Q){const te=V.value,Te=k?k.value:null;if(xn(te),te===Te)if(te.component){const at=Q.getOrCreateContext(te.outlet);this.activateChildRoutes(V,k,at.children)}else this.activateChildRoutes(V,k,Q);else if(te.component){const at=Q.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const yt=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),at.children.onOutletReAttached(yt.contexts),at.attachRef=yt.componentRef,at.route=yt.route.value,at.outlet&&at.outlet.attach(yt.componentRef,yt.route.value),xn(yt.route.value),this.activateChildRoutes(V,null,at.children)}else{const yt=function Ls(W){for(let V=W.parent;V;V=V.parent){const k=V.routeConfig;if(k&&k._loadedConfig)return k._loadedConfig;if(k&&k.component)return null}return null}(te.snapshot),hn=yt?yt.module.componentFactoryResolver:null;at.attachRef=null,at.route=te,at.resolver=hn,at.outlet&&at.outlet.activateWith(te,hn),this.activateChildRoutes(V,null,at.children)}}else this.activateChildRoutes(V,null,Q)}}class Da{constructor(V,k){this.routes=V,this.module=k}}function ka(W){return"function"==typeof W}function za(W){return W instanceof wt}const Fo=Symbol("INITIAL_VALUE");function Za(){return(0,mt.w)(W=>(0,Ee.a)(W.map(V=>V.pipe((0,et.q)(1),(0,Ft.O)(Fo)))).pipe(ct((V,k)=>{let Q=!1;return k.reduce((te,Te,at)=>te!==Fo?te:(Te===Fo&&(Q=!0),Q||!1!==Te&&at!==k.length-1&&!za(Te)?te:Te),V)},Fo),(0,Jt.h)(V=>V!==Fo),(0,ze.U)(V=>za(V)?V:!0===V),(0,et.q)(1)))}class Is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ea,this.attachRef=null}}class ea{constructor(){this.contexts=new Map}onChildOutletCreated(V,k){const Q=this.getOrCreateContext(V);Q.outlet=k,this.contexts.set(V,Q)}onChildOutletDestroyed(V){const k=this.getContext(V);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const V=this.contexts;return this.contexts=new Map,V}onOutletReAttached(V){this.contexts=V}getOrCreateContext(V){let k=this.getContext(V);return k||(k=new Is,this.contexts.set(V,k)),k}getContext(V){return this.contexts.get(V)||null}}let jo=(()=>{class W{constructor(k,Q,te,Te,at){this.parentContexts=k,this.location=Q,this.resolver=te,this.changeDetector=at,this.activated=null,this._activatedRoute=null,this.activateEvents=new x.vpe,this.deactivateEvents=new x.vpe,this.attachEvents=new x.vpe,this.detachEvents=new x.vpe,this.name=Te||ue,k.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const k=this.parentContexts.getContext(this.name);k&&k.route&&(k.attachRef?this.attach(k.attachRef,k.route):this.activateWith(k.route,k.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const k=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(k.instance),k}attach(k,Q){this.activated=k,this._activatedRoute=Q,this.location.insert(k.hostView),this.attachEvents.emit(k.instance)}deactivate(){if(this.activated){const k=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(k)}}activateWith(k,Q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=k;const at=(Q=Q||this.resolver).resolveComponentFactory(k._futureSnapshot.routeConfig.component),yt=this.parentContexts.getOrCreateContext(this.name).children,hn=new il(k,yt,this.location.injector);this.activated=this.location.createComponent(at,this.location.length,hn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return W.\u0275fac=function(k){return new(k||W)(x.Y36(ea),x.Y36(x.s_b),x.Y36(x._Vd),x.$8M("name"),x.Y36(x.sBO))},W.\u0275dir=x.lG2({type:W,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),W})();class il{constructor(V,k,Q){this.route=V,this.childContexts=k,this.parent=Q}get(V,k){return V===go?this.route:V===ea?this.childContexts:this.parent.get(V,k)}}let ol=(()=>{class W{}return W.\u0275fac=function(k){return new(k||W)},W.\u0275cmp=x.Xpm({type:W,selectors:[["ng-component"]],decls:1,vars:0,template:function(k,Q){1&k&&x._UZ(0,"router-outlet")},directives:[jo],encapsulation:2}),W})();function Fi(W,V=""){for(let k=0;k<W.length;k++){const Q=W[k];Qa(Q,Zl(V,Q))}}function Qa(W,V){W.children&&Fi(W.children,V)}function Zl(W,V){return V?W||V.path?W&&!V.path?`${W}/`:!W&&V.path?V.path:`${W}/${V.path}`:"":W}function _o(W){const V=W.children&&W.children.map(_o),k=V?Object.assign(Object.assign({},W),{children:V}):Object.assign({},W);return!k.component&&(V||k.loadChildren)&&k.outlet&&k.outlet!==ue&&(k.component=ol),k}function ro(W){return W.outlet||ue}function Uo(W,V){const k=W.filter(Q=>ro(Q)===V);return k.push(...W.filter(Q=>ro(Q)!==V)),k}const Ja={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ta(W,V,k){var Q;if(""===V.path)return"full"===V.pathMatch&&(W.hasChildren()||k.length>0)?Object.assign({},Ja):{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const Te=(V.matcher||fe)(k,W,V);if(!Te)return Object.assign({},Ja);const at={};Tn(Te.posParams,(hn,ir)=>{at[ir]=hn.path});const yt=Te.consumed.length>0?Object.assign(Object.assign({},at),Te.consumed[Te.consumed.length-1].parameters):at;return{matched:!0,consumedSegments:Te.consumed,remainingSegments:k.slice(Te.consumed.length),parameters:yt,positionalParamSegments:null!==(Q=Te.posParams)&&void 0!==Q?Q:{}}}function pa(W,V,k,Q,te="corrected"){if(k.length>0&&function J(W,V,k){return k.some(Q=>Z(W,V,Q)&&ro(Q)!==ue)}(W,k,Q)){const at=new Be(V,function zi(W,V,k,Q){const te={};te[ue]=Q,Q._sourceSegment=W,Q._segmentIndexShift=V.length;for(const Te of k)if(""===Te.path&&ro(Te)!==ue){const at=new Be([],{});at._sourceSegment=W,at._segmentIndexShift=V.length,te[ro(Te)]=at}return te}(W,V,Q,new Be(k,W.children)));return at._sourceSegment=W,at._segmentIndexShift=V.length,{segmentGroup:at,slicedSegments:[]}}if(0===k.length&&function we(W,V,k){return k.some(Q=>Z(W,V,Q))}(W,k,Q)){const at=new Be(W.segments,function al(W,V,k,Q,te,Te){const at={};for(const yt of Q)if(Z(W,k,yt)&&!te[ro(yt)]){const hn=new Be([],{});hn._sourceSegment=W,hn._segmentIndexShift="legacy"===Te?W.segments.length:V.length,at[ro(yt)]=hn}return Object.assign(Object.assign({},te),at)}(W,V,k,Q,W.children,te));return at._sourceSegment=W,at._segmentIndexShift=V.length,{segmentGroup:at,slicedSegments:k}}const Te=new Be(W.segments,W.children);return Te._sourceSegment=W,Te._segmentIndexShift=V.length,{segmentGroup:Te,slicedSegments:k}}function Z(W,V,k){return(!(W.hasChildren()||V.length>0)||"full"!==k.pathMatch)&&""===k.path}function Re(W,V,k,Q){return!!(ro(W)===Q||Q!==ue&&Z(V,k,W))&&("**"===W.path||ta(V,W,k).matched)}function Ot(W,V,k){return 0===V.length&&!W.children[k]}class tn{constructor(V){this.segmentGroup=V||null}}class gn{constructor(V){this.urlTree=V}}function Xn(W){return(0,Fe._)(new tn(W))}function Di(W){return(0,Fe._)(new gn(W))}class Ji{constructor(V,k,Q,te,Te){this.configLoader=k,this.urlSerializer=Q,this.urlTree=te,this.config=Te,this.allowRedirects=!0,this.ngModule=V.get(x.h0i)}apply(){const V=pa(this.urlTree.root,[],[],this.config).segmentGroup,k=new Be(V.segments,V.children);return this.expandSegmentGroup(this.ngModule,this.config,k,ue).pipe((0,ze.U)(Te=>this.createUrlTree(Ai(Te),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,It.K)(Te=>{if(Te instanceof gn)return this.allowRedirects=!1,this.match(Te.urlTree);throw Te instanceof tn?this.noMatchError(Te):Te}))}match(V){return this.expandSegmentGroup(this.ngModule,this.config,V.root,ue).pipe((0,ze.U)(te=>this.createUrlTree(Ai(te),V.queryParams,V.fragment))).pipe((0,It.K)(te=>{throw te instanceof tn?this.noMatchError(te):te}))}noMatchError(V){return new Error(`Cannot match any routes. URL Segment: '${V.segmentGroup}'`)}createUrlTree(V,k,Q){const te=V.segments.length>0?new Be([],{[ue]:V}):V;return new wt(te,k,Q)}expandSegmentGroup(V,k,Q,te){return 0===Q.segments.length&&Q.hasChildren()?this.expandChildren(V,k,Q).pipe((0,ze.U)(Te=>new Be([],Te))):this.expandSegment(V,Q,k,Q.segments,te,!0)}expandChildren(V,k,Q){const te=[];for(const Te of Object.keys(Q.children))"primary"===Te?te.unshift(Te):te.push(Te);return(0,G.D)(te).pipe((0,$t.b)(Te=>{const at=Q.children[Te],yt=Uo(k,Te);return this.expandSegmentGroup(V,yt,at,Te).pipe((0,ze.U)(hn=>({segment:hn,outlet:Te})))}),ct((Te,at)=>(Te[at.outlet]=at.segment,Te),{}),function De(W,V){const k=arguments.length>=2;return Q=>Q.pipe(W?(0,Jt.h)((te,Te)=>W(te,Te,Q)):ot.y,On(1),k?se(V):w(()=>new ke.K))}())}expandSegment(V,k,Q,te,Te,at){return(0,G.D)(Q).pipe((0,$t.b)(yt=>this.expandSegmentAgainstRoute(V,k,Q,yt,te,Te,at).pipe((0,It.K)(ir=>{if(ir instanceof tn)return(0,z.of)(null);throw ir}))),gt(yt=>!!yt),(0,It.K)((yt,hn)=>{if(yt instanceof ke.K||"EmptyError"===yt.name)return Ot(k,te,Te)?(0,z.of)(new Be([],{})):Xn(k);throw yt}))}expandSegmentAgainstRoute(V,k,Q,te,Te,at,yt){return Re(te,k,Te,at)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(V,k,te,Te,at):yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(V,k,Q,te,Te,at):Xn(k):Xn(k)}expandSegmentAgainstRouteUsingRedirect(V,k,Q,te,Te,at){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(V,Q,te,at):this.expandRegularSegmentAgainstRouteUsingRedirect(V,k,Q,te,Te,at)}expandWildCardWithParamsAgainstRouteUsingRedirect(V,k,Q,te){const Te=this.applyRedirectCommands([],Q.redirectTo,{});return Q.redirectTo.startsWith("/")?Di(Te):this.lineralizeSegments(Q,Te).pipe((0,ut.z)(at=>{const yt=new Be(at,{});return this.expandSegment(V,yt,k,at,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(V,k,Q,te,Te,at){const{matched:yt,consumedSegments:hn,remainingSegments:ir,positionalParamSegments:ti}=ta(k,te,Te);if(!yt)return Xn(k);const yr=this.applyRedirectCommands(hn,te.redirectTo,ti);return te.redirectTo.startsWith("/")?Di(yr):this.lineralizeSegments(te,yr).pipe((0,ut.z)(ji=>this.expandSegment(V,k,Q,ji.concat(ir),at,!1)))}matchSegmentAgainstRoute(V,k,Q,te,Te){if("**"===Q.path)return Q.loadChildren?(Q._loadedConfig?(0,z.of)(Q._loadedConfig):this.configLoader.load(V.injector,Q)).pipe((0,ze.U)(yr=>(Q._loadedConfig=yr,new Be(te,{})))):(0,z.of)(new Be(te,{}));const{matched:at,consumedSegments:yt,remainingSegments:hn}=ta(k,Q,te);return at?this.getChildConfig(V,Q,te).pipe((0,ut.z)(ti=>{const yr=ti.module,ji=ti.routes,{segmentGroup:Li,slicedSegments:So}=pa(k,yt,hn,ji),io=new Be(Li.segments,Li.children);if(0===So.length&&io.hasChildren())return this.expandChildren(yr,ji,io).pipe((0,ze.U)(nc=>new Be(yt,nc)));if(0===ji.length&&0===So.length)return(0,z.of)(new Be(yt,{}));const tc=ro(Q)===Te;return this.expandSegment(yr,io,ji,So,tc?ue:Te,!0).pipe((0,ze.U)(Qc=>new Be(yt.concat(Qc.segments),Qc.children)))})):Xn(k)}getChildConfig(V,k,Q){return k.children?(0,z.of)(new Da(k.children,V)):k.loadChildren?void 0!==k._loadedConfig?(0,z.of)(k._loadedConfig):this.runCanLoadGuards(V.injector,k,Q).pipe((0,ut.z)(te=>te?this.configLoader.load(V.injector,k).pipe((0,ze.U)(Te=>(k._loadedConfig=Te,Te))):function Zr(W){return(0,Fe._)(dt(`Cannot load children because the guard of the route "path: '${W.path}'" returned false`))}(k))):(0,z.of)(new Da([],V))}runCanLoadGuards(V,k,Q){const te=k.canLoad;if(!te||0===te.length)return(0,z.of)(!0);const Te=te.map(at=>{const yt=V.get(at);let hn;if(function Jo(W){return W&&ka(W.canLoad)}(yt))hn=yt.canLoad(k,Q);else{if(!ka(yt))throw new Error("Invalid CanLoad guard");hn=yt(k,Q)}return ar(hn)});return(0,z.of)(Te).pipe(Za(),(0,pn.b)(at=>{if(!za(at))return;const yt=dt(`Redirecting to "${this.urlSerializer.serialize(at)}"`);throw yt.url=at,yt}),(0,ze.U)(at=>!0===at))}lineralizeSegments(V,k){let Q=[],te=k.root;for(;;){if(Q=Q.concat(te.segments),0===te.numberOfChildren)return(0,z.of)(Q);if(te.numberOfChildren>1||!te.children[ue])return(0,Fe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${V.redirectTo}'`));te=te.children[ue]}}applyRedirectCommands(V,k,Q){return this.applyRedirectCreatreUrlTree(k,this.urlSerializer.parse(k),V,Q)}applyRedirectCreatreUrlTree(V,k,Q,te){const Te=this.createSegmentGroup(V,k.root,Q,te);return new wt(Te,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(V,k){const Q={};return Tn(V,(te,Te)=>{if("string"==typeof te&&te.startsWith(":")){const yt=te.substring(1);Q[Te]=k[yt]}else Q[Te]=te}),Q}createSegmentGroup(V,k,Q,te){const Te=this.createSegments(V,k.segments,Q,te);let at={};return Tn(k.children,(yt,hn)=>{at[hn]=this.createSegmentGroup(V,yt,Q,te)}),new Be(Te,at)}createSegments(V,k,Q,te){return k.map(Te=>Te.path.startsWith(":")?this.findPosParam(V,Te,te):this.findOrReturn(Te,Q))}findPosParam(V,k,Q){const te=Q[k.path.substring(1)];if(!te)throw new Error(`Cannot redirect to '${V}'. Cannot find '${k.path}'.`);return te}findOrReturn(V,k){let Q=0;for(const te of k){if(te.path===V.path)return k.splice(Q),te;Q++}return V}}function Ai(W){const V={};for(const Q of Object.keys(W.children)){const Te=Ai(W.children[Q]);(Te.segments.length>0||Te.hasChildren())&&(V[Q]=Te)}return function yi(W){if(1===W.numberOfChildren&&W.children[ue]){const V=W.children[ue];return new Be(W.segments.concat(V.segments),V.children)}return W}(new Be(W.segments,V))}class ${constructor(V){this.path=V,this.route=this.path[this.path.length-1]}}class B{constructor(V,k){this.component=V,this.route=k}}function Ce(W,V,k){const Q=W._root;return wo(Q,V?V._root:null,k,[Q.value])}function Zn(W,V,k){const Q=function Ar(W){if(!W)return null;for(let V=W.parent;V;V=V.parent){const k=V.routeConfig;if(k&&k._loadedConfig)return k._loadedConfig}return null}(V);return(Q?Q.module.injector:k).get(W)}function wo(W,V,k,Q,te={canDeactivateChecks:[],canActivateChecks:[]}){const Te=Yr(V);return W.children.forEach(at=>{(function Oa(W,V,k,Q,te={canDeactivateChecks:[],canActivateChecks:[]}){const Te=W.value,at=V?V.value:null,yt=k?k.getContext(W.value.outlet):null;if(at&&Te.routeConfig===at.routeConfig){const hn=function es(W,V,k){if("function"==typeof k)return k(W,V);switch(k){case"pathParamsChange":return!an(W.url,V.url);case"pathParamsOrQueryParamsChange":return!an(W.url,V.url)||!ve(W.queryParams,V.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Do(W,V)||!ve(W.queryParams,V.queryParams);default:return!Do(W,V)}}(at,Te,Te.routeConfig.runGuardsAndResolvers);hn?te.canActivateChecks.push(new $(Q)):(Te.data=at.data,Te._resolvedData=at._resolvedData),wo(W,V,Te.component?yt?yt.children:null:k,Q,te),hn&&yt&&yt.outlet&&yt.outlet.isActivated&&te.canDeactivateChecks.push(new B(yt.outlet.component,at))}else at&&Mn(V,yt,te),te.canActivateChecks.push(new $(Q)),wo(W,null,Te.component?yt?yt.children:null:k,Q,te)})(at,Te[at.value.outlet],k,Q.concat([at.value]),te),delete Te[at.value.outlet]}),Tn(Te,(at,yt)=>Mn(at,k.getContext(yt),te)),te}function Mn(W,V,k){const Q=Yr(W),te=W.value;Tn(Q,(Te,at)=>{Mn(Te,te.component?V?V.children.getContext(at):null:V,k)}),k.canDeactivateChecks.push(new B(te.component&&V&&V.outlet&&V.outlet.isActivated?V.outlet.component:null,te))}class ne{}function q(W){return new Pe.y(V=>V.error(W))}class _t{constructor(V,k,Q,te,Te,at){this.rootComponentType=V,this.config=k,this.urlTree=Q,this.url=te,this.paramsInheritanceStrategy=Te,this.relativeLinkResolution=at}recognize(){const V=pa(this.urlTree.root,[],[],this.config.filter(at=>void 0===at.redirectTo),this.relativeLinkResolution).segmentGroup,k=this.processSegmentGroup(this.config,V,ue);if(null===k)return null;const Q=new Ei([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),te=new Bi(Q,k),Te=new Go(this.url,te);return this.inheritParamsAndData(Te._root),Te}inheritParamsAndData(V){const k=V.value,Q=to(k,this.paramsInheritanceStrategy);k.params=Object.freeze(Q.params),k.data=Object.freeze(Q.data),V.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(V,k,Q){return 0===k.segments.length&&k.hasChildren()?this.processChildren(V,k):this.processSegment(V,k,k.segments,Q)}processChildren(V,k){const Q=[];for(const Te of Object.keys(k.children)){const at=k.children[Te],yt=Uo(V,Te),hn=this.processSegmentGroup(yt,at,Te);if(null===hn)return null;Q.push(...hn)}const te=re(Q);return function nn(W){W.sort((V,k)=>V.value.outlet===ue?-1:k.value.outlet===ue?1:V.value.outlet.localeCompare(k.value.outlet))}(te),te}processSegment(V,k,Q,te){for(const Te of V){const at=this.processSegmentAgainstRoute(Te,k,Q,te);if(null!==at)return at}return Ot(k,Q,te)?[]:null}processSegmentAgainstRoute(V,k,Q,te){if(V.redirectTo||!Re(V,k,Q,te))return null;let Te,at=[],yt=[];if("**"===V.path){const Li=Q.length>0?Pn(Q).parameters:{};Te=new Ei(Q,Li,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ge(V),ro(V),V.component,V,F(k),K(k)+Q.length,Ge(V))}else{const Li=ta(k,V,Q);if(!Li.matched)return null;at=Li.consumedSegments,yt=Li.remainingSegments,Te=new Ei(at,Li.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ge(V),ro(V),V.component,V,F(k),K(k)+at.length,Ge(V))}const hn=function tr(W){return W.children?W.children:W.loadChildren?W._loadedConfig.routes:[]}(V),{segmentGroup:ir,slicedSegments:ti}=pa(k,at,yt,hn.filter(Li=>void 0===Li.redirectTo),this.relativeLinkResolution);if(0===ti.length&&ir.hasChildren()){const Li=this.processChildren(hn,ir);return null===Li?null:[new Bi(Te,Li)]}if(0===hn.length&&0===ti.length)return[new Bi(Te,[])];const yr=ro(V)===te,ji=this.processSegment(hn,ir,ti,yr?ue:te);return null===ji?null:[new Bi(Te,ji)]}}function Jr(W){const V=W.value.routeConfig;return V&&""===V.path&&void 0===V.redirectTo}function re(W){const V=[],k=new Set;for(const Q of W){if(!Jr(Q)){V.push(Q);continue}const te=V.find(Te=>Q.value.routeConfig===Te.value.routeConfig);void 0!==te?(te.children.push(...Q.children),k.add(te)):V.push(Q)}for(const Q of k){const te=re(Q.children);V.push(new Bi(Q.value,te))}return V.filter(Q=>!k.has(Q))}function F(W){let V=W;for(;V._sourceSegment;)V=V._sourceSegment;return V}function K(W){let V=W,k=V._segmentIndexShift?V._segmentIndexShift:0;for(;V._sourceSegment;)V=V._sourceSegment,k+=V._segmentIndexShift?V._segmentIndexShift:0;return k-1}function ge(W){return W.data||{}}function Ge(W){return W.resolve||{}}function Gn(W){return[...Object.keys(W),...Object.getOwnPropertySymbols(W)]}function mr(W){return(0,mt.w)(V=>{const k=W(V);return k?(0,G.D)(k).pipe((0,ze.U)(()=>V)):(0,z.of)(V)})}class Nr extends class Dr{shouldDetach(V){return!1}store(V,k){}shouldAttach(V){return!1}retrieve(V){return null}shouldReuseRoute(V,k){return V.routeConfig===k.routeConfig}}{}const ui=new x.OlP("ROUTES");class qi{constructor(V,k,Q,te){this.injector=V,this.compiler=k,this.onLoadStartListener=Q,this.onLoadEndListener=te}load(V,k){if(k._loader$)return k._loader$;this.onLoadStartListener&&this.onLoadStartListener(k);const te=this.loadModuleFactory(k.loadChildren).pipe((0,ze.U)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(k);const at=Te.create(V);return new Da(Tt(at.injector.get(ui,void 0,x.XFs.Self|x.XFs.Optional)).map(_o),at)}),(0,It.K)(Te=>{throw k._loader$=void 0,Te}));return k._loader$=new be.c(te,()=>new Xe.x).pipe((0,tt.x)()),k._loader$}loadModuleFactory(V){return ar(V()).pipe((0,ut.z)(k=>k instanceof x.YKP?(0,z.of)(k):(0,G.D)(this.compiler.compileModuleAsync(k))))}}class yo{shouldProcessUrl(V){return!0}extract(V){return V}merge(V,k){return V}}function pi(W){throw W}function To(W,V,k){return V.parse("/")}function Ci(W,V){return(0,z.of)(null)}const Co={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class W{constructor(k,Q,te,Te,at,yt,hn){this.rootComponentType=k,this.urlSerializer=Q,this.rootContexts=te,this.location=Te,this.config=hn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe.x,this.errorHandler=pi,this.malformedUriErrorHandler=To,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ci,afterPreactivation:Ci},this.urlHandlingStrategy=new yo,this.routeReuseStrategy=new Nr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=at.get(x.h0i),this.console=at.get(x.c2e);const yr=at.get(x.R0b);this.isNgZoneEnabled=yr instanceof x.R0b&&x.R0b.isInAngularZone(),this.resetConfig(hn),this.currentUrlTree=function br(){return new wt(new Be([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qi(at,yt,ji=>this.triggerEvent(new rr(ji)),ji=>this.triggerEvent(new pr(ji))),this.routerState=Qi(this.currentUrlTree,this.rootComponentType),this.transitions=new Se.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var k;return null===(k=this.location.getState())||void 0===k?void 0:k.\u0275routerPageId}setupNavigations(k){const Q=this.events;return k.pipe((0,Jt.h)(te=>0!==te.id),(0,ze.U)(te=>Object.assign(Object.assign({},te),{extractedUrl:this.urlHandlingStrategy.extract(te.rawUrl)})),(0,mt.w)(te=>{let Te=!1,at=!1;return(0,z.of)(te).pipe((0,pn.b)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.currentRawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,mt.w)(yt=>{const hn=this.browserUrlTree.toString(),ir=!this.navigated||yt.extractedUrl.toString()!==hn||hn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ir)&&this.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return ga(yt.source)&&(this.browserUrlTree=yt.extractedUrl),(0,z.of)(yt).pipe((0,mt.w)(yr=>{const ji=this.transitions.getValue();return Q.next(new or(yr.id,this.serializeUrl(yr.extractedUrl),yr.source,yr.restoredState)),ji!==this.transitions.getValue()?Oe.E:Promise.resolve(yr)}),function ee(W,V,k,Q){return(0,mt.w)(te=>function si(W,V,k,Q,te){return new Ji(W,V,k,Q,te).apply()}(W,V,k,te.extractedUrl,Q).pipe((0,ze.U)(Te=>Object.assign(Object.assign({},te),{urlAfterRedirects:Te}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pn.b)(yr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:yr.urlAfterRedirects})}),function pt(W,V,k,Q,te){return(0,ut.z)(Te=>function He(W,V,k,Q,te="emptyOnly",Te="legacy"){try{const at=new _t(W,V,k,Q,te,Te).recognize();return null===at?q(new ne):(0,z.of)(at)}catch(at){return q(at)}}(W,V,Te.urlAfterRedirects,k(Te.urlAfterRedirects),Q,te).pipe((0,ze.U)(at=>Object.assign(Object.assign({},Te),{targetSnapshot:at}))))}(this.rootComponentType,this.config,yr=>this.serializeUrl(yr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pn.b)(yr=>{if("eager"===this.urlUpdateStrategy){if(!yr.extras.skipLocationChange){const Li=this.urlHandlingStrategy.merge(yr.urlAfterRedirects,yr.rawUrl);this.setBrowserUrl(Li,yr)}this.browserUrlTree=yr.urlAfterRedirects}const ji=new oi(yr.id,this.serializeUrl(yr.extractedUrl),this.serializeUrl(yr.urlAfterRedirects),yr.targetSnapshot);Q.next(ji)}));if(ir&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ji,extractedUrl:Li,source:So,restoredState:io,extras:tc}=yt,Mc=new or(ji,this.serializeUrl(Li),So,io);Q.next(Mc);const Qc=Qi(Li,this.rootComponentType).snapshot;return(0,z.of)(Object.assign(Object.assign({},yt),{targetSnapshot:Qc,urlAfterRedirects:Li,extras:Object.assign(Object.assign({},tc),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=yt.rawUrl,yt.resolve(null),Oe.E}),mr(yt=>{const{targetSnapshot:hn,id:ir,extractedUrl:ti,rawUrl:yr,extras:{skipLocationChange:ji,replaceUrl:Li}}=yt;return this.hooks.beforePreactivation(hn,{navigationId:ir,appliedUrlTree:ti,rawUrlTree:yr,skipLocationChange:!!ji,replaceUrl:!!Li})}),(0,pn.b)(yt=>{const hn=new Or(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(hn)}),(0,ze.U)(yt=>Object.assign(Object.assign({},yt),{guards:Ce(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)})),function li(W,V){return(0,ut.z)(k=>{const{targetSnapshot:Q,currentSnapshot:te,guards:{canActivateChecks:Te,canDeactivateChecks:at}}=k;return 0===at.length&&0===Te.length?(0,z.of)(Object.assign(Object.assign({},k),{guardsResult:!0})):function Ql(W,V,k,Q){return(0,G.D)(W).pipe((0,ut.z)(te=>function j(W,V,k,Q,te){const Te=V&&V.routeConfig?V.routeConfig.canDeactivate:null;if(!Te||0===Te.length)return(0,z.of)(!0);const at=Te.map(yt=>{const hn=Zn(yt,V,te);let ir;if(function ms(W){return W&&ka(W.canDeactivate)}(hn))ir=ar(hn.canDeactivate(W,V,k,Q));else{if(!ka(hn))throw new Error("Invalid CanDeactivate guard");ir=ar(hn(W,V,k,Q))}return ir.pipe(gt())});return(0,z.of)(at).pipe(Za())}(te.component,te.route,k,V,Q)),gt(te=>!0!==te,!0))}(at,Q,te,W).pipe((0,ut.z)(yt=>yt&&function Ll(W){return"boolean"==typeof W}(yt)?function uo(W,V,k,Q){return(0,G.D)(V).pipe((0,$t.b)(te=>(0,Ae.z)(function ts(W,V){return null!==W&&V&&V(new Mi(W)),(0,z.of)(!0)}(te.route.parent,Q),function Jl(W,V){return null!==W&&V&&V(new ao(W)),(0,z.of)(!0)}(te.route,Q),function sl(W,V,k){const Q=V[V.length-1],Te=V.slice(0,V.length-1).reverse().map(at=>function un(W){const V=W.routeConfig?W.routeConfig.canActivateChild:null;return V&&0!==V.length?{node:W,guards:V}:null}(at)).filter(at=>null!==at).map(at=>(0,Ve.P)(()=>{const yt=at.guards.map(hn=>{const ir=Zn(hn,at.node,k);let ti;if(function Xa(W){return W&&ka(W.canActivateChild)}(ir))ti=ar(ir.canActivateChild(Q,W));else{if(!ka(ir))throw new Error("Invalid CanActivateChild guard");ti=ar(ir(Q,W))}return ti.pipe(gt())});return(0,z.of)(yt).pipe(Za())}));return(0,z.of)(Te).pipe(Za())}(W,te.path,k),function na(W,V,k){const Q=V.routeConfig?V.routeConfig.canActivate:null;if(!Q||0===Q.length)return(0,z.of)(!0);const te=Q.map(Te=>(0,Ve.P)(()=>{const at=Zn(Te,V,k);let yt;if(function Xl(W){return W&&ka(W.canActivate)}(at))yt=ar(at.canActivate(V,W));else{if(!ka(at))throw new Error("Invalid CanActivate guard");yt=ar(at(V,W))}return yt.pipe(gt())}));return(0,z.of)(te).pipe(Za())}(W,te.route,k))),gt(te=>!0!==te,!0))}(Q,Te,W,V):(0,z.of)(yt)),(0,ze.U)(yt=>Object.assign(Object.assign({},k),{guardsResult:yt})))})}(this.ngModule.injector,yt=>this.triggerEvent(yt)),(0,pn.b)(yt=>{if(za(yt.guardsResult)){const ir=dt(`Redirecting to "${this.serializeUrl(yt.guardsResult)}"`);throw ir.url=yt.guardsResult,ir}const hn=new bi(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.triggerEvent(hn)}),(0,Jt.h)(yt=>!!yt.guardsResult||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,""),!1)),mr(yt=>{if(yt.guards.canActivateChecks.length)return(0,z.of)(yt).pipe((0,pn.b)(hn=>{const ir=new Ni(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);this.triggerEvent(ir)}),(0,mt.w)(hn=>{let ir=!1;return(0,z.of)(hn).pipe(function vt(W,V){return(0,ut.z)(k=>{const{targetSnapshot:Q,guards:{canActivateChecks:te}}=k;if(!te.length)return(0,z.of)(k);let Te=0;return(0,G.D)(te).pipe((0,$t.b)(at=>function Ht(W,V,k,Q){return function Qt(W,V,k,Q){const te=Gn(W);if(0===te.length)return(0,z.of)({});const Te={};return(0,G.D)(te).pipe((0,ut.z)(at=>function Bn(W,V,k,Q){const te=Zn(W,V,Q);return ar(te.resolve?te.resolve(V,k):te(V,k))}(W[at],V,k,Q).pipe((0,pn.b)(yt=>{Te[at]=yt}))),On(1),(0,ut.z)(()=>Gn(Te).length===te.length?(0,z.of)(Te):Oe.E))}(W._resolve,W,V,Q).pipe((0,ze.U)(Te=>(W._resolvedData=Te,W.data=Object.assign(Object.assign({},W.data),to(W,k).resolve),null)))}(at.route,Q,W,V)),(0,pn.b)(()=>Te++),On(1),(0,ut.z)(at=>Te===te.length?(0,z.of)(k):Oe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pn.b)({next:()=>ir=!0,complete:()=>{ir||(this.restoreHistory(hn),this.cancelNavigationTransition(hn,"At least one route resolver didn't emit any value."))}}))}),(0,pn.b)(hn=>{const ir=new Ui(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);this.triggerEvent(ir)}))}),mr(yt=>{const{targetSnapshot:hn,id:ir,extractedUrl:ti,rawUrl:yr,extras:{skipLocationChange:ji,replaceUrl:Li}}=yt;return this.hooks.afterPreactivation(hn,{navigationId:ir,appliedUrlTree:ti,rawUrlTree:yr,skipLocationChange:!!ji,replaceUrl:!!Li})}),(0,ze.U)(yt=>{const hn=function wn(W,V,k){const Q=ki(W,V._root,k?k._root:void 0);return new wr(Q,V)}(this.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return Object.assign(Object.assign({},yt),{targetRouterState:hn})}),(0,pn.b)(yt=>{this.currentUrlTree=yt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl),this.routerState=yt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(yt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,yt),this.browserUrlTree=yt.urlAfterRedirects)}),((W,V,k)=>(0,ze.U)(Q=>(new rl(V,Q.targetRouterState,Q.currentRouterState,k).activate(W),Q)))(this.rootContexts,this.routeReuseStrategy,yt=>this.triggerEvent(yt)),(0,pn.b)({next(){Te=!0},complete(){Te=!0}}),(0,en.x)(()=>{var yt;Te||at||this.cancelNavigationTransition(te,`Navigation ID ${te.id} is not equal to the current navigation id ${this.navigationId}`),(null===(yt=this.currentNavigation)||void 0===yt?void 0:yt.id)===te.id&&(this.currentNavigation=null)}),(0,It.K)(yt=>{if(at=!0,function $e(W){return W&&W[Xt]}(yt)){const hn=za(yt.url);hn||(this.navigated=!0,this.restoreHistory(te,!0));const ir=new gr(te.id,this.serializeUrl(te.extractedUrl),yt.message);Q.next(ir),hn?setTimeout(()=>{const ti=this.urlHandlingStrategy.merge(yt.url,this.rawUrlTree),yr={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ga(te.source)};this.scheduleNavigation(ti,"imperative",null,yr,{resolve:te.resolve,reject:te.reject,promise:te.promise})},0):te.resolve(!1)}else{this.restoreHistory(te,!0);const hn=new xi(te.id,this.serializeUrl(te.extractedUrl),yt);Q.next(hn);try{te.resolve(this.errorHandler(yt))}catch(ir){te.reject(ir)}}return Oe.E}))}))}resetRootComponentType(k){this.rootComponentType=k,this.routerState.root.component=this.rootComponentType}setTransition(k){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),k))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(k=>{const Q="popstate"===k.type?"popstate":"hashchange";"popstate"===Q&&setTimeout(()=>{var te;const Te={replaceUrl:!0},at=(null===(te=k.state)||void 0===te?void 0:te.navigationId)?k.state:null;if(at){const hn=Object.assign({},at);delete hn.navigationId,delete hn.\u0275routerPageId,0!==Object.keys(hn).length&&(Te.state=hn)}const yt=this.parseUrl(k.url);this.scheduleNavigation(yt,Q,at,Te)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(k){this.events.next(k)}resetConfig(k){Fi(k),this.config=k.map(_o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(k,Q={}){const{relativeTo:te,queryParams:Te,fragment:at,queryParamsHandling:yt,preserveFragment:hn}=Q,ir=te||this.routerState.root,ti=hn?this.currentUrlTree.fragment:at;let yr=null;switch(yt){case"merge":yr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Te);break;case"preserve":yr=this.currentUrlTree.queryParams;break;default:yr=Te||null}return null!==yr&&(yr=this.removeEmptyProps(yr)),function Xo(W,V,k,Q,te){if(0===k.length)return Ia(V.root,V.root,V.root,Q,te);const Te=function Al(W){if("string"==typeof W[0]&&1===W.length&&"/"===W[0])return new vo(!0,0,W);let V=0,k=!1;const Q=W.reduce((te,Te,at)=>{if("object"==typeof Te&&null!=Te){if(Te.outlets){const yt={};return Tn(Te.outlets,(hn,ir)=>{yt[ir]="string"==typeof hn?hn.split("/"):hn}),[...te,{outlets:yt}]}if(Te.segmentPath)return[...te,Te.segmentPath]}return"string"!=typeof Te?[...te,Te]:0===at?(Te.split("/").forEach((yt,hn)=>{0==hn&&"."===yt||(0==hn&&""===yt?k=!0:".."===yt?V++:""!=yt&&te.push(yt))}),te):[...te,Te]},[]);return new vo(k,V,Q)}(k);if(Te.toRoot())return Ia(V.root,V.root,new Be([],{}),Q,te);const at=function gs(W,V,k){if(W.isAbsolute)return new Wo(V.root,!0,0);if(-1===k.snapshot._lastPathIndex){const Te=k.snapshot._urlSegment;return new Wo(Te,Te===V.root,0)}const Q=qe(W.commands[0])?0:1;return function Oo(W,V,k){let Q=W,te=V,Te=k;for(;Te>te;){if(Te-=te,Q=Q.parent,!Q)throw new Error("Invalid number of '../'");te=Q.segments.length}return new Wo(Q,!1,te-Te)}(k.snapshot._urlSegment,k.snapshot._lastPathIndex+Q,W.numberOfDoubleDots)}(Te,V,W),yt=at.processChildren?qa(at.segmentGroup,at.index,Te.commands):Zo(at.segmentGroup,at.index,Te.commands);return Ia(V.root,at.segmentGroup,yt,Q,te)}(ir,this.currentUrlTree,k,yr,null!=ti?ti:null)}navigateByUrl(k,Q={skipLocationChange:!1}){const te=za(k)?k:this.parseUrl(k),Te=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Te,"imperative",null,Q)}navigate(k,Q={skipLocationChange:!1}){return function gi(W){for(let V=0;V<W.length;V++){const k=W[V];if(null==k)throw new Error(`The requested path contains ${k} segment at index ${V}`)}}(k),this.navigateByUrl(this.createUrlTree(k,Q),Q)}serializeUrl(k){return this.urlSerializer.serialize(k)}parseUrl(k){let Q;try{Q=this.urlSerializer.parse(k)}catch(te){Q=this.malformedUriErrorHandler(te,this.urlSerializer,k)}return Q}isActive(k,Q){let te;if(te=!0===Q?Object.assign({},Co):!1===Q?Object.assign({},fa):Q,za(k))return mn(this.currentUrlTree,k,te);const Te=this.parseUrl(k);return mn(this.currentUrlTree,Te,te)}removeEmptyProps(k){return Object.keys(k).reduce((Q,te)=>{const Te=k[te];return null!=Te&&(Q[te]=Te),Q},{})}processNavigations(){this.navigations.subscribe(k=>{this.navigated=!0,this.lastSuccessfulId=k.id,this.currentPageId=k.targetPageId,this.events.next(new _r(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,k.resolve(!0)},k=>{this.console.warn(`Unhandled Navigation Error: ${k}`)})}scheduleNavigation(k,Q,te,Te,at){var yt,hn;if(this.disposed)return Promise.resolve(!1);let ir,ti,yr;at?(ir=at.resolve,ti=at.reject,yr=at.promise):yr=new Promise((So,io)=>{ir=So,ti=io});const ji=++this.navigationId;let Li;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(te=this.location.getState()),Li=te&&te.\u0275routerPageId?te.\u0275routerPageId:Te.replaceUrl||Te.skipLocationChange?null!==(yt=this.browserPageId)&&void 0!==yt?yt:0:(null!==(hn=this.browserPageId)&&void 0!==hn?hn:0)+1):Li=0,this.setTransition({id:ji,targetPageId:Li,source:Q,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:k,extras:Te,resolve:ir,reject:ti,promise:yr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yr.catch(So=>Promise.reject(So))}setBrowserUrl(k,Q){const te=this.urlSerializer.serialize(k),Te=Object.assign(Object.assign({},Q.extras.state),this.generateNgRouterState(Q.id,Q.targetPageId));this.location.isCurrentPathEqualTo(te)||Q.extras.replaceUrl?this.location.replaceState(te,"",Te):this.location.go(te,"",Te)}restoreHistory(k,Q=!1){var te,Te;if("computed"===this.canceledNavigationResolution){const at=this.currentPageId-k.targetPageId;"popstate"!==k.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(te=this.currentNavigation)||void 0===te?void 0:te.finalUrl)||0===at?this.currentUrlTree===(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.finalUrl)&&0===at&&(this.resetState(k),this.browserUrlTree=k.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(at)}else"replace"===this.canceledNavigationResolution&&(Q&&this.resetState(k),this.resetUrlToCurrentUrlTree())}resetState(k){this.routerState=k.currentRouterState,this.currentUrlTree=k.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,k.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(k,Q){const te=new gr(k.id,this.serializeUrl(k.extractedUrl),Q);this.triggerEvent(te),k.resolve(!1)}generateNgRouterState(k,Q){return"computed"===this.canceledNavigationResolution?{navigationId:k,\u0275routerPageId:Q}:{navigationId:k}}}return W.\u0275fac=function(k){x.$Z()},W.\u0275prov=x.Yz7({token:W,factory:W.\u0275fac}),W})();function ga(W){return"imperative"!==W}let ys=(()=>{class W{constructor(k,Q,te,Te,at){this.router=k,this.route=Q,this.tabIndexAttribute=te,this.renderer=Te,this.el=at,this.commands=null,this.onChanges=new Xe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(k){if(null!=this.tabIndexAttribute)return;const Q=this.renderer,te=this.el.nativeElement;null!==k?Q.setAttribute(te,"tabindex",k):Q.removeAttribute(te,"tabindex")}ngOnChanges(k){this.onChanges.next(this)}set routerLink(k){null!=k?(this.commands=Array.isArray(k)?k:[k],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const k={skipLocationChange:ns(this.skipLocationChange),replaceUrl:ns(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,k),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ns(this.preserveFragment)})}}return W.\u0275fac=function(k){return new(k||W)(x.Y36(fi),x.Y36(go),x.$8M("tabindex"),x.Y36(x.Qsj),x.Y36(x.SBq))},W.\u0275dir=x.lG2({type:W,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(k,Q){1&k&&x.NdJ("click",function(){return Q.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[x.TTD]}),W})(),Xi=(()=>{class W{constructor(k,Q,te){this.router=k,this.route=Q,this.locationStrategy=te,this.commands=null,this.href=null,this.onChanges=new Xe.x,this.subscription=k.events.subscribe(Te=>{Te instanceof _r&&this.updateTargetUrlAndHref()})}set routerLink(k){this.commands=null!=k?Array.isArray(k)?k:[k]:null}ngOnChanges(k){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(k,Q,te,Te,at){if(0!==k||Q||te||Te||at||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const yt={skipLocationChange:ns(this.skipLocationChange),replaceUrl:ns(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,yt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ns(this.preserveFragment)})}}return W.\u0275fac=function(k){return new(k||W)(x.Y36(fi),x.Y36(go),x.Y36(jt.S$))},W.\u0275dir=x.lG2({type:W,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(k,Q){1&k&&x.NdJ("click",function(Te){return Q.onClick(Te.button,Te.ctrlKey,Te.shiftKey,Te.altKey,Te.metaKey)}),2&k&&x.uIk("target",Q.target)("href",Q.href,x.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[x.TTD]}),W})();function ns(W){return""===W||!!W}class Sr{}class xr{preload(V,k){return k().pipe((0,It.K)(()=>(0,z.of)(null)))}}class ei{preload(V,k){return(0,z.of)(null)}}let Fr=(()=>{class W{constructor(k,Q,te,Te){this.router=k,this.injector=te,this.preloadingStrategy=Te,this.loader=new qi(te,Q,hn=>k.triggerEvent(new rr(hn)),hn=>k.triggerEvent(new pr(hn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Jt.h)(k=>k instanceof _r),(0,$t.b)(()=>this.preload())).subscribe(()=>{})}preload(){const k=this.injector.get(x.h0i);return this.processRoutes(k,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(k,Q){const te=[];for(const Te of Q)if(Te.loadChildren&&!Te.canLoad&&Te._loadedConfig){const at=Te._loadedConfig;te.push(this.processRoutes(at.module,at.routes))}else Te.loadChildren&&!Te.canLoad?te.push(this.preloadConfig(k,Te)):Te.children&&te.push(this.processRoutes(k,Te.children));return(0,G.D)(te).pipe((0,xt.J)(),(0,ze.U)(Te=>{}))}preloadConfig(k,Q){return this.preloadingStrategy.preload(Q,()=>(Q._loadedConfig?(0,z.of)(Q._loadedConfig):this.loader.load(k.injector,Q)).pipe((0,ut.z)(Te=>(Q._loadedConfig=Te,this.processRoutes(Te.module,Te.routes)))))}}return W.\u0275fac=function(k){return new(k||W)(x.LFG(fi),x.LFG(x.Sil),x.LFG(x.zs3),x.LFG(Sr))},W.\u0275prov=x.Yz7({token:W,factory:W.\u0275fac}),W})(),Ta=(()=>{class W{constructor(k,Q,te={}){this.router=k,this.viewportScroller=Q,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(k=>{k instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=k.navigationTrigger,this.restoredId=k.restoredState?k.restoredState.navigationId:0):k instanceof _r&&(this.lastId=k.id,this.scheduleScrollEvent(k,this.router.parseUrl(k.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(k=>{k instanceof qt&&(k.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(k.position):k.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(k.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(k,Q){this.router.triggerEvent(new qt(k,"popstate"===this.lastSource?this.store[this.restoredId]:null,Q))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return W.\u0275fac=function(k){x.$Z()},W.\u0275prov=x.Yz7({token:W,factory:W.\u0275fac}),W})();const Vi=new x.OlP("ROUTER_CONFIGURATION"),Wi=new x.OlP("ROUTER_FORROOT_GUARD"),rs=[jt.Ye,{provide:hr,useClass:Dt},{provide:fi,useFactory:function xo(W,V,k,Q,te,Te,at={},yt,hn){const ir=new fi(null,W,V,k,Q,te,Tt(Te));return yt&&(ir.urlHandlingStrategy=yt),hn&&(ir.routeReuseStrategy=hn),function xh(W,V){W.errorHandler&&(V.errorHandler=W.errorHandler),W.malformedUriErrorHandler&&(V.malformedUriErrorHandler=W.malformedUriErrorHandler),W.onSameUrlNavigation&&(V.onSameUrlNavigation=W.onSameUrlNavigation),W.paramsInheritanceStrategy&&(V.paramsInheritanceStrategy=W.paramsInheritanceStrategy),W.relativeLinkResolution&&(V.relativeLinkResolution=W.relativeLinkResolution),W.urlUpdateStrategy&&(V.urlUpdateStrategy=W.urlUpdateStrategy),W.canceledNavigationResolution&&(V.canceledNavigationResolution=W.canceledNavigationResolution)}(at,ir),at.enableTracing&&ir.events.subscribe(ti=>{var yr,ji;null===(yr=console.group)||void 0===yr||yr.call(console,`Router Event: ${ti.constructor.name}`),console.log(ti.toString()),console.log(ti),null===(ji=console.groupEnd)||void 0===ji||ji.call(console)}),ir},deps:[hr,ea,jt.Ye,x.zs3,x.Sil,ui,Vi,[class mo{},new x.FiY],[class Wr{},new x.FiY]]},ea,{provide:go,useFactory:function Mh(W){return W.routerState.root},deps:[fi]},Fr,ei,xr,{provide:Vi,useValue:{enableTracing:!1}}];function xc(){return new x.PXZ("Router",fi)}let ra=(()=>{class W{constructor(k,Q){}static forRoot(k,Q){return{ngModule:W,providers:[rs,ll(k),{provide:Wi,useFactory:Ns,deps:[[fi,new x.FiY,new x.tp0]]},{provide:Vi,useValue:Q||{}},{provide:jt.S$,useFactory:xa,deps:[jt.lw,[new x.tBr(jt.mr),new x.FiY],Vi]},{provide:Ta,useFactory:Il,deps:[fi,jt.EM,Vi]},{provide:Sr,useExisting:Q&&Q.preloadingStrategy?Q.preloadingStrategy:ei},{provide:x.PXZ,multi:!0,useFactory:xc},[is,{provide:x.ip1,multi:!0,useFactory:jp,deps:[is]},{provide:ks,useFactory:Zc,deps:[is]},{provide:x.tb,multi:!0,useExisting:ks}]]}}static forChild(k){return{ngModule:W,providers:[ll(k)]}}}return W.\u0275fac=function(k){return new(k||W)(x.LFG(Wi,8),x.LFG(fi,8))},W.\u0275mod=x.oAB({type:W}),W.\u0275inj=x.cJS({}),W})();function Il(W,V,k){return k.scrollOffset&&V.setOffset(k.scrollOffset),new Ta(W,V,k)}function xa(W,V,k={}){return k.useHash?new jt.Do(W,V):new jt.b0(W,V)}function Ns(W){return"guarded"}function ll(W){return[{provide:x.deG,multi:!0,useValue:W},{provide:ui,multi:!0,useValue:W}]}let is=(()=>{class W{constructor(k){this.injector=k,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xe.x}appInitializer(){return this.injector.get(jt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let Q=null;const te=new Promise(yt=>Q=yt),Te=this.injector.get(fi),at=this.injector.get(Vi);return"disabled"===at.initialNavigation?(Te.setUpLocationChangeListener(),Q(!0)):"enabled"===at.initialNavigation||"enabledBlocking"===at.initialNavigation?(Te.hooks.afterPreactivation=()=>this.initNavigation?(0,z.of)(null):(this.initNavigation=!0,Q(!0),this.resultOfPreactivationDone),Te.initialNavigation()):Q(!0),te})}bootstrapListener(k){const Q=this.injector.get(Vi),te=this.injector.get(Fr),Te=this.injector.get(Ta),at=this.injector.get(fi),yt=this.injector.get(x.z2F);k===yt.components[0]&&(("enabledNonBlocking"===Q.initialNavigation||void 0===Q.initialNavigation)&&at.initialNavigation(),te.setUpPreloading(),Te.init(),at.resetRootComponentType(yt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return W.\u0275fac=function(k){return new(k||W)(x.LFG(x.zs3))},W.\u0275prov=x.Yz7({token:W,factory:W.\u0275fac}),W})();function jp(W){return W.appInitializer.bind(W)}function Zc(W){return W.bootstrapListener.bind(W)}const ks=new x.OlP("Router Initializer")},2359:(Dn,ht,I)=>{I.d(ht,{L:()=>Yt});var x=I(5e3),G=I(226),z=I(9808),Se=I(3087),Ee=I(969);let Yt=(()=>{class se{}return se.\u0275fac=function(De){return new(De||se)},se.\u0275mod=x.oAB({type:se}),se.\u0275inj=x.cJS({imports:[[G.vT,z.ez,Se.PV,Ee.T]]}),se})()},6042:(Dn,ht,I)=>{I.d(ht,{fY:()=>w,ix:()=>On,sL:()=>Yt});var x=I(655),G=I(5e3),z=I(7579),Se=I(4968),Ee=I(2722),Fe=I(8675),ke=I(9300),Ae=I(9439),Ve=I(1721),Pe=I(3087),Oe=I(226),be=I(9808),Xe=I(2683),Je=I(2643);const lt=["nz-button",""];function Lt(se,ot){1&se&&G._UZ(0,"i",1)}const ct=["*"];let On=(()=>{class se{constructor(De,et,gt,ze,mt,Ft){this.ngZone=De,this.elementRef=et,this.cdr=gt,this.renderer=ze,this.nzConfigService=mt,this.directionality=Ft,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new z.x,this.loading$=new z.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,Ee.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(De,et){De.forEach(gt=>{if("#text"===gt.nodeName){const ze=et.createElement("span"),mt=et.parentNode(gt);et.insertBefore(mt,ze,gt),et.appendChild(ze,gt)}})}assertIconOnly(De,et){const gt=Array.from(De.childNodes),ze=gt.filter($t=>"I"===$t.nodeName).length,mt=gt.every($t=>"#text"!==$t.nodeName);gt.every($t=>"SPAN"!==$t.nodeName)&&mt&&ze>=1&&et.addClass(De,"ant-btn-icon-only")}ngOnInit(){var De;null===(De=this.directionality.change)||void 0===De||De.pipe((0,Ee.R)(this.destroy$)).subscribe(et=>{this.dir=et,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Se.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,Ee.R)(this.destroy$)).subscribe(et=>{var gt;(this.disabled&&"A"===(null===(gt=et.target)||void 0===gt?void 0:gt.tagName)||this.nzLoading)&&(et.preventDefault(),et.stopImmediatePropagation())})})}ngOnChanges(De){const{nzLoading:et}=De;et&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,Fe.O)(this.nzLoading),(0,ke.h)(()=>!!this.nzIconDirectiveElement),(0,Ee.R)(this.destroy$)).subscribe(De=>{const et=this.nzIconDirectiveElement.nativeElement;De?this.renderer.setStyle(et,"display","none"):this.renderer.removeStyle(et,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return se.\u0275fac=function(De){return new(De||se)(G.Y36(G.R0b),G.Y36(G.SBq),G.Y36(G.sBO),G.Y36(G.Qsj),G.Y36(Ae.jY),G.Y36(Oe.Is,8))},se.\u0275cmp=G.Xpm({type:se,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(De,et,gt){if(1&De&&G.Suo(gt,Pe.Ls,5,G.SBq),2&De){let ze;G.iGM(ze=G.CRH())&&(et.nzIconDirectiveElement=ze.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(De,et){2&De&&(G.uIk("tabindex",et.disabled?-1:null===et.tabIndex?null:et.tabIndex)("disabled",et.disabled||null),G.ekj("ant-btn-primary","primary"===et.nzType)("ant-btn-dashed","dashed"===et.nzType)("ant-btn-link","link"===et.nzType)("ant-btn-text","text"===et.nzType)("ant-btn-circle","circle"===et.nzShape)("ant-btn-round","round"===et.nzShape)("ant-btn-lg","large"===et.nzSize)("ant-btn-sm","small"===et.nzSize)("ant-btn-dangerous",et.nzDanger)("ant-btn-loading",et.nzLoading)("ant-btn-background-ghost",et.nzGhost)("ant-btn-block",et.nzBlock)("ant-input-search-button",et.nzSearch)("ant-btn-rtl","rtl"===et.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[G.TTD],attrs:lt,ngContentSelectors:ct,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(De,et){1&De&&(G.F$t(),G.YNc(0,Lt,1,0,"i",0),G.Hsn(1)),2&De&&G.Q6J("ngIf",et.nzLoading)},directives:[be.O5,Pe.Ls,Xe.w],encapsulation:2,changeDetection:0}),(0,x.gn)([(0,Ve.yF)()],se.prototype,"nzBlock",void 0),(0,x.gn)([(0,Ve.yF)()],se.prototype,"nzGhost",void 0),(0,x.gn)([(0,Ve.yF)()],se.prototype,"nzSearch",void 0),(0,x.gn)([(0,Ve.yF)()],se.prototype,"nzLoading",void 0),(0,x.gn)([(0,Ve.yF)()],se.prototype,"nzDanger",void 0),(0,x.gn)([(0,Ve.yF)()],se.prototype,"disabled",void 0),(0,x.gn)([(0,Ae.oS)()],se.prototype,"nzSize",void 0),se})(),w=(()=>{class se{constructor(De){this.directionality=De,this.nzSize="default",this.dir="ltr",this.destroy$=new z.x}ngOnInit(){var De;this.dir=this.directionality.value,null===(De=this.directionality.change)||void 0===De||De.pipe((0,Ee.R)(this.destroy$)).subscribe(et=>{this.dir=et})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return se.\u0275fac=function(De){return new(De||se)(G.Y36(Oe.Is,8))},se.\u0275cmp=G.Xpm({type:se,selectors:[["nz-button-group"]],hostAttrs:[1,"ant-btn-group"],hostVars:6,hostBindings:function(De,et){2&De&&G.ekj("ant-btn-group-lg","large"===et.nzSize)("ant-btn-group-sm","small"===et.nzSize)("ant-btn-group-rtl","rtl"===et.dir)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],ngContentSelectors:ct,decls:1,vars:0,template:function(De,et){1&De&&(G.F$t(),G.Hsn(0))},encapsulation:2,changeDetection:0}),se})(),Yt=(()=>{class se{}return se.\u0275fac=function(De){return new(De||se)},se.\u0275mod=G.oAB({type:se}),se.\u0275inj=G.cJS({imports:[[Oe.vT,be.ez,Je.vG,Pe.PV,Xe.a],Xe.a,Je.vG]}),se})()},8076:(Dn,ht,I)=>{I.d(ht,{$C:()=>Je,J_:()=>Se,YK:()=>Ae,c8:()=>ke,mF:()=>be});var x=I(1777);let G=(()=>{class Lt{}return Lt.SLOW="0.3s",Lt.BASE="0.2s",Lt.FAST="0.1s",Lt})(),z=(()=>{class Lt{}return Lt.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",Lt.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",Lt.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",Lt.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",Lt.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",Lt.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",Lt.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",Lt.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",Lt.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",Lt.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",Lt.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",Lt.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",Lt.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",Lt.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",Lt})();const Se=(0,x.X$)("collapseMotion",[(0,x.SB)("expanded",(0,x.oB)({height:"*"})),(0,x.SB)("collapsed",(0,x.oB)({height:0,overflow:"hidden"})),(0,x.SB)("hidden",(0,x.oB)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,x.eR)("expanded => collapsed",(0,x.jt)(`150ms ${z.EASE_IN_OUT}`)),(0,x.eR)("expanded => hidden",(0,x.jt)(`150ms ${z.EASE_IN_OUT}`)),(0,x.eR)("collapsed => expanded",(0,x.jt)(`150ms ${z.EASE_IN_OUT}`)),(0,x.eR)("hidden => expanded",(0,x.jt)(`150ms ${z.EASE_IN_OUT}`))]),ke=((0,x.X$)("treeCollapseMotion",[(0,x.eR)("* => *",[(0,x.IO)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,x.oB)({overflow:"hidden"}),(0,x.EY)(0,[(0,x.jt)(`150ms ${z.EASE_IN_OUT}`,(0,x.oB)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,x.IO)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,x.oB)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,x.EY)(0,[(0,x.jt)(`150ms ${z.EASE_IN_OUT}`,(0,x.oB)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),(0,x.X$)("fadeMotion",[(0,x.eR)(":enter",[(0,x.oB)({opacity:0}),(0,x.jt)(`${G.BASE}`,(0,x.oB)({opacity:1}))]),(0,x.eR)(":leave",[(0,x.oB)({opacity:1}),(0,x.jt)(`${G.BASE}`,(0,x.oB)({opacity:0}))])]),(0,x.X$)("helpMotion",[(0,x.eR)(":enter",[(0,x.oB)({opacity:0,transform:"translateY(-5px)"}),(0,x.jt)(`${G.SLOW} ${z.EASE_IN_OUT}`,(0,x.oB)({opacity:1,transform:"translateY(0)"}))]),(0,x.eR)(":leave",[(0,x.oB)({opacity:1,transform:"translateY(0)"}),(0,x.jt)(`${G.SLOW} ${z.EASE_IN_OUT}`,(0,x.oB)({opacity:0,transform:"translateY(-5px)"}))])])),Ae=(0,x.X$)("moveUpMotion",[(0,x.eR)("* => enter",[(0,x.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,x.jt)(`${G.BASE}`,(0,x.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,x.eR)("* => leave",[(0,x.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,x.jt)(`${G.BASE}`,(0,x.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Pe=((0,x.X$)("notificationMotion",[(0,x.SB)("enterRight",(0,x.oB)({opacity:1,transform:"translateX(0)"})),(0,x.eR)("* => enterRight",[(0,x.oB)({opacity:0,transform:"translateX(5%)"}),(0,x.jt)("100ms linear")]),(0,x.SB)("enterLeft",(0,x.oB)({opacity:1,transform:"translateX(0)"})),(0,x.eR)("* => enterLeft",[(0,x.oB)({opacity:0,transform:"translateX(-5%)"}),(0,x.jt)("100ms linear")]),(0,x.SB)("leave",(0,x.oB)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,x.eR)("* => leave",[(0,x.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,x.jt)("100ms linear")])]),`${G.BASE} ${z.EASE_OUT_QUINT}`),Oe=`${G.BASE} ${z.EASE_IN_QUINT}`,be=(0,x.X$)("slideMotion",[(0,x.SB)("void",(0,x.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,x.SB)("enter",(0,x.oB)({opacity:1,transform:"scaleY(1)"})),(0,x.eR)("void => *",[(0,x.jt)(Pe)]),(0,x.eR)("* => void",[(0,x.jt)(Oe)])]),Je=((0,x.X$)("slideAlertMotion",[(0,x.eR)(":leave",[(0,x.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,x.jt)(`${G.SLOW} ${z.EASE_IN_OUT_CIRC}`,(0,x.oB)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,x.X$)("zoomBigMotion",[(0,x.eR)("void => active",[(0,x.oB)({opacity:0,transform:"scale(0.8)"}),(0,x.jt)(`${G.BASE} ${z.EASE_OUT_CIRC}`,(0,x.oB)({opacity:1,transform:"scale(1)"}))]),(0,x.eR)("active => void",[(0,x.oB)({opacity:1,transform:"scale(1)"}),(0,x.jt)(`${G.BASE} ${z.EASE_IN_OUT_CIRC}`,(0,x.oB)({opacity:0,transform:"scale(0.8)"}))])]));(0,x.X$)("zoomBadgeMotion",[(0,x.eR)(":enter",[(0,x.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,x.jt)(`${G.SLOW} ${z.EASE_OUT_BACK}`,(0,x.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,x.eR)(":leave",[(0,x.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,x.jt)(`${G.SLOW} ${z.EASE_IN_BACK}`,(0,x.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])])},9439:(Dn,ht,I)=>{I.d(ht,{jY:()=>ke,oS:()=>Ae});var x=I(5e3),G=I(7579),z=I(9300),Se=I(9718);const Ee=new x.OlP("nz-config"),Fe=function(Ve){return void 0!==Ve};let ke=(()=>{class Ve{constructor(Oe){this.configUpdated$=new G.x,this.config=Oe||{}}getConfig(){return this.config}getConfigForComponent(Oe){return this.config[Oe]}getConfigChangeEventForComponent(Oe){return this.configUpdated$.pipe((0,z.h)(be=>be===Oe),(0,Se.h)(void 0))}set(Oe,be){this.config[Oe]=Object.assign(Object.assign({},this.config[Oe]),be),this.configUpdated$.next(Oe)}}return Ve.\u0275fac=function(Oe){return new(Oe||Ve)(x.LFG(Ee,8))},Ve.\u0275prov=x.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})();function Ae(){return function(Pe,Oe,be){const Xe=`$$__zorroConfigDecorator__${Oe}`;return Object.defineProperty(Pe,Xe,{configurable:!0,writable:!0,enumerable:!1}),{get(){var Je,lt;const Lt=(null==be?void 0:be.get)?be.get.bind(this)():this[Xe],ct=((null===(Je=this.propertyAssignCounter)||void 0===Je?void 0:Je[Oe])||0)>1,Jt=null===(lt=this.nzConfigService.getConfigForComponent(this._nzModuleName))||void 0===lt?void 0:lt[Oe];return ct&&Fe(Lt)?Lt:Fe(Jt)?Jt:Lt},set(Je){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[Oe]=(this.propertyAssignCounter[Oe]||0)+1,(null==be?void 0:be.set)?be.set.bind(this)(Je):this[Xe]=Je},configurable:!0,enumerable:!0}}}},585:(Dn,ht,I)=>{I.d(ht,{N:()=>x});const x={isTestMode:!1}},6947:(Dn,ht,I)=>{I.d(ht,{ZK:()=>ke});var x=I(5e3),G=I(585);const z={};const ke=(...Pe)=>function Fe(Pe,...Oe){(G.N.isTestMode||(0,x.X6Q)()&&function Ee(...Pe){const Oe=Pe.reduce((be,Xe)=>be+Xe.toString(),"");return!z[Oe]&&(z[Oe]=!0,!0)}(...Oe))&&Pe(...Oe)}((...Oe)=>console.warn("[NG-ZORRO]:",...Oe),...Pe)},4832:(Dn,ht,I)=>{I.d(ht,{P:()=>Ae,g:()=>Ve});var x=I(9808),G=I(5e3),z=I(655),Se=I(3191),Ee=I(6360),Fe=I(1721);const ke="nz-animate-disabled";let Ae=(()=>{class Pe{constructor(be,Xe,Je){this.element=be,this.renderer=Xe,this.animationType=Je,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const be=(0,Se.fI)(this.element);!be||(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(be,ke):this.renderer.removeClass(be,ke))}}return Pe.\u0275fac=function(be){return new(be||Pe)(G.Y36(G.SBq),G.Y36(G.Qsj),G.Y36(Ee.Qb,8))},Pe.\u0275dir=G.lG2({type:Pe,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[G.TTD]}),(0,z.gn)([(0,Fe.yF)()],Pe.prototype,"nzNoAnimation",void 0),Pe})(),Ve=(()=>{class Pe{}return Pe.\u0275fac=function(be){return new(be||Pe)},Pe.\u0275mod=G.oAB({type:Pe}),Pe.\u0275inj=G.cJS({imports:[[x.ez]]}),Pe})()},969:(Dn,ht,I)=>{I.d(ht,{T:()=>Ee,f:()=>z});var x=I(9808),G=I(5e3);let z=(()=>{class Fe{constructor(Ae,Ve){this.viewContainer=Ae,this.templateRef=Ve,this.embeddedViewRef=null,this.context=new Se,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(Ae,Ve){return!0}recreateView(){this.viewContainer.clear();const Ae=this.nzStringTemplateOutlet instanceof G.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(Ae?this.nzStringTemplateOutlet:this.templateRef,Ae?this.nzStringTemplateOutletContext:this.context)}updateContext(){const Ve=this.nzStringTemplateOutlet instanceof G.Rgc?this.nzStringTemplateOutletContext:this.context,Pe=this.embeddedViewRef.context;if(Ve)for(const Oe of Object.keys(Ve))Pe[Oe]=Ve[Oe]}ngOnChanges(Ae){const{nzStringTemplateOutletContext:Ve,nzStringTemplateOutlet:Pe}=Ae;Pe&&(this.context.$implicit=Pe.currentValue),(()=>{let Xe=!1;if(Pe)if(Pe.firstChange)Xe=!0;else{const ct=Pe.currentValue instanceof G.Rgc;Xe=Pe.previousValue instanceof G.Rgc||ct}return Ve&&(Lt=>{const ct=Object.keys(Lt.previousValue||{}),Jt=Object.keys(Lt.currentValue||{});if(ct.length===Jt.length){for(const On of Jt)if(-1===ct.indexOf(On))return!0;return!1}return!0})(Ve)||Xe})()?this.recreateView():this.updateContext()}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(G.Y36(G.s_b),G.Y36(G.Rgc))},Fe.\u0275dir=G.lG2({type:Fe,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[G.TTD]}),Fe})();class Se{}let Ee=(()=>{class Fe{}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275mod=G.oAB({type:Fe}),Fe.\u0275inj=G.cJS({imports:[[x.ez]]}),Fe})()},4090:(Dn,ht,I)=>{I.d(ht,{KV:()=>Je,WV:()=>w,kn:()=>ot,r3:()=>se,rI:()=>be});var x=I(5e3),G=I(7579),z=I(3601),Se=I(8746),Ee=I(2722),Fe=I(4004),ke=I(8675),Ae=I(1884),Ve=I(585),Pe=I(5113);const Oe=()=>{};let be=(()=>{class et{constructor(ze,mt){this.ngZone=ze,this.rendererFactory2=mt,this.resizeSource$=new G.x,this.listeners=0,this.disposeHandle=Oe,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Oe}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,z.e)(16),(0,Se.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=Oe)}}return et.\u0275fac=function(ze){return new(ze||et)(x.LFG(x.R0b),x.LFG(x.FYo))},et.\u0275prov=x.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();const Xe=new Map;let Je=(()=>{class et{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return Ve.N.isTestMode?Xe:this._singletonRegistry}registerSingletonWithKey(ze,mt){const Ft=this.singletonRegistry.has(ze),It=Ft?this.singletonRegistry.get(ze):this.withNewTarget(mt);Ft||this.singletonRegistry.set(ze,It)}getSingletonWithKey(ze){return this.singletonRegistry.has(ze)?this.singletonRegistry.get(ze).target:null}withNewTarget(ze){return{target:ze}}}return et.\u0275fac=function(ze){return new(ze||et)},et.\u0275prov=x.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();var On=(()=>{return(et=On||(On={})).xxl="xxl",et.xl="xl",et.lg="lg",et.md="md",et.sm="sm",et.xs="xs",On;var et})();const w={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let se=(()=>{class et{constructor(ze,mt){this.resizeService=ze,this.mediaMatcher=mt,this.destroy$=new G.x,this.resizeService.subscribe().pipe((0,Ee.R)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(ze,mt){if(mt){const Ft=()=>this.matchMedia(ze,!0);return this.resizeService.subscribe().pipe((0,Fe.U)(Ft),(0,ke.O)(Ft()),(0,Ae.x)((It,$t)=>It[0]===$t[0]),(0,Fe.U)(It=>It[1]))}{const Ft=()=>this.matchMedia(ze);return this.resizeService.subscribe().pipe((0,Fe.U)(Ft),(0,ke.O)(Ft()),(0,Ae.x)())}}matchMedia(ze,mt){let Ft=On.md;const It={};return Object.keys(ze).map($t=>{const ut=$t,pn=this.mediaMatcher.matchMedia(w[ut]).matches;It[$t]=pn,pn&&(Ft=ut)}),mt?[Ft,It]:Ft}}return et.\u0275fac=function(ze){return new(ze||et)(x.LFG(be),x.LFG(Pe.vx))},et.\u0275prov=x.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})(),ot=(()=>{class et extends G.x{ngOnDestroy(){this.next(),this.complete()}}return et.\u0275fac=function(){let gt;return function(mt){return(gt||(gt=x.n5z(et)))(mt||et)}}(),et.\u0275prov=x.Yz7({token:et,factory:et.\u0275fac}),et})()},315:(Dn,ht,I)=>{I.d(ht,{Yp:()=>dt,ky:()=>Xt,_p:()=>At,Et:()=>Ye,xR:()=>fe});var x=I(953),G=I(833),Se=I(1998);function Fe(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,Se.Z)(ve);if(isNaN(Tt))return new Date(NaN);if(!Tt)return Ie;var Pn=Ie.getDate(),bn=new Date(Ie.getTime());bn.setMonth(Ie.getMonth()+Tt+1,0);var Tn=bn.getDate();return Pn>=Tn?bn:(Ie.setFullYear(bn.getFullYear(),bn.getMonth(),Pn),Ie)}function Ae(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We),Ie=ve.getFullYear(),Tt=ve.getMonth(),Pn=new Date(0);return Pn.setFullYear(Ie,Tt+1,0),Pn.setHours(0,0,0,0),Pn.getDate()}function Pe(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,Se.Z)(ve);return isNaN(Tt)?new Date(NaN):(Tt&&Ie.setDate(Ie.getDate()+Tt),Ie)}function be(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,x.Z)(ve);return Ie.getFullYear()===Tt.getFullYear()}function Xe(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,x.Z)(ve);return Ie.getFullYear()===Tt.getFullYear()&&Ie.getMonth()===Tt.getMonth()}function Je(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return ve.setHours(0,0,0,0),ve}function lt(We,ve){(0,G.Z)(2,arguments);var Ie=Je(We),Tt=Je(ve);return Ie.getTime()===Tt.getTime()}function Lt(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return ve.setMinutes(0,0,0),ve}function ct(We,ve){(0,G.Z)(2,arguments);var Ie=Lt(We),Tt=Lt(ve);return Ie.getTime()===Tt.getTime()}function Jt(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return ve.setSeconds(0,0),ve}function On(We,ve){(0,G.Z)(2,arguments);var Ie=Jt(We),Tt=Jt(ve);return Ie.getTime()===Tt.getTime()}function w(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return ve.setMilliseconds(0),ve}function Yt(We,ve){(0,G.Z)(2,arguments);var Ie=w(We),Tt=w(ve);return Ie.getTime()===Tt.getTime()}function se(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,x.Z)(ve);return Ie.getFullYear()-Tt.getFullYear()}function ot(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,x.Z)(ve),Pn=Ie.getFullYear()-Tt.getFullYear(),bn=Ie.getMonth()-Tt.getMonth();return 12*Pn+bn}var De=I(9868);function gt(We,ve){(0,G.Z)(2,arguments);var Ie=Je(We),Tt=Je(ve),Pn=Ie.getTime()-(0,De.Z)(Ie),bn=Tt.getTime()-(0,De.Z)(Tt);return Math.round((Pn-bn)/864e5)}function or(We,ve){return(0,G.Z)(2,arguments),(0,x.Z)(We).getTime()-(0,x.Z)(ve).getTime()}Math.pow(10,8);var _r={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(We){return We<0?Math.ceil(We):Math.floor(We)}};function xi(We){return We?_r[We]:_r.trunc}function oi(We,ve,Ie){(0,G.Z)(2,arguments);var Tt=or(We,ve)/36e5;return xi(null==Ie?void 0:Ie.roundingMethod)(Tt)}function Or(We,ve,Ie){(0,G.Z)(2,arguments);var Tt=or(We,ve)/6e4;return xi(null==Ie?void 0:Ie.roundingMethod)(Tt)}function bi(We,ve,Ie){(0,G.Z)(2,arguments);var Tt=or(We,ve)/1e3;return xi(null==Ie?void 0:Ie.roundingMethod)(Tt)}function rr(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return ve.setHours(23,59,59,999),ve}function pr(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We),Ie=ve.getMonth();return ve.setFullYear(ve.getFullYear(),Ie+1,0),ve.setHours(23,59,59,999),ve}var mi=I(895),ao=I(900),Kn=I(6947),qt=I(9808),ue=I(1721);function Ye(We){const[ve,Ie]=We;return!!ve&&!!Ie&&Ie.isBeforeDay(ve)}function At(We,ve,Ie="month",Tt="left"){const[Pn,bn]=We;let Tn=Pn||new dt,ar=bn||(ve?Tn:Tn.add(1,Ie));return Pn&&!bn?(Tn=Pn,ar=ve?Pn:Pn.add(1,Ie)):!Pn&&bn?(Tn=ve?bn:bn.add(-1,Ie),ar=bn):Pn&&bn&&!ve&&(Pn.isSame(bn,Ie)||"left"===Tt?ar=Tn.add(1,Ie):Tn=ar.add(-1,Ie)),[Tn,ar]}function Xt(We){return Array.isArray(We)?We.map(ve=>ve instanceof dt?ve.clone():null):We instanceof dt?We.clone():null}class dt{constructor(ve){if(ve)if(ve instanceof Date)this.nativeDate=ve;else{if("string"!=typeof ve&&"number"!=typeof ve)throw new Error('The input date type is not supported ("Date" is now recommended)');(0,Kn.ZK)('The string type is not recommended for date-picker, use "Date" type'),this.nativeDate=new Date(ve)}else this.nativeDate=new Date}calendarStart(ve){return new dt((0,mi.Z)(function z(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return ve.setDate(1),ve.setHours(0,0,0,0),ve}(this.nativeDate),ve))}getYear(){return this.nativeDate.getFullYear()}getMonth(){return this.nativeDate.getMonth()}getDay(){return this.nativeDate.getDay()}getTime(){return this.nativeDate.getTime()}getDate(){return this.nativeDate.getDate()}getHours(){return this.nativeDate.getHours()}getMinutes(){return this.nativeDate.getMinutes()}getSeconds(){return this.nativeDate.getSeconds()}getMilliseconds(){return this.nativeDate.getMilliseconds()}clone(){return new dt(new Date(this.nativeDate))}setHms(ve,Ie,Tt){const Pn=new Date(this.nativeDate.setHours(ve,Ie,Tt));return new dt(Pn)}setYear(ve){return new dt(function Ee(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,Se.Z)(ve);return isNaN(Ie.getTime())?new Date(NaN):(Ie.setFullYear(Tt),Ie)}(this.nativeDate,ve))}addYears(ve){return new dt(function ke(We,ve){(0,G.Z)(2,arguments);var Ie=(0,Se.Z)(ve);return Fe(We,12*Ie)}(this.nativeDate,ve))}setMonth(ve){return new dt(function Ve(We,ve){(0,G.Z)(2,arguments);var Ie=(0,x.Z)(We),Tt=(0,Se.Z)(ve),Pn=Ie.getFullYear(),bn=Ie.getDate(),Tn=new Date(0);Tn.setFullYear(Pn,Tt,15),Tn.setHours(0,0,0,0);var ar=Ae(Tn);return Ie.setMonth(Tt,Math.min(bn,ar)),Ie}(this.nativeDate,ve))}addMonths(ve){return new dt(Fe(this.nativeDate,ve))}setDay(ve,Ie){return new dt(function Oe(We,ve,Ie){(0,G.Z)(2,arguments);var Tt=Ie||{},Pn=Tt.locale,bn=Pn&&Pn.options&&Pn.options.weekStartsOn,Tn=null==bn?0:(0,Se.Z)(bn),ar=null==Tt.weekStartsOn?Tn:(0,Se.Z)(Tt.weekStartsOn);if(!(ar>=0&&ar<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var br=(0,x.Z)(We),Vt=(0,Se.Z)(ve),fn=br.getDay(),oe=(Vt%7+7)%7,er=7-ar;return Pe(br,Vt<0||Vt>6?Vt-(fn+er)%7:(oe+er)%7-(fn+er)%7)}(this.nativeDate,ve,Ie))}setDate(ve){const Ie=new Date(this.nativeDate);return Ie.setDate(ve),new dt(Ie)}addDays(ve){return this.setDate(this.getDate()+ve)}add(ve,Ie){switch(Ie){case"decade":return this.addYears(10*ve);case"year":return this.addYears(ve);default:return this.addMonths(ve)}}isSame(ve,Ie="day"){let Tt;switch(Ie){case"decade":Tt=(Pn,bn)=>Math.abs(Pn.getFullYear()-bn.getFullYear())<11;break;case"year":Tt=be;break;case"month":Tt=Xe;break;case"day":default:Tt=lt;break;case"hour":Tt=ct;break;case"minute":Tt=On;break;case"second":Tt=Yt}return Tt(this.nativeDate,this.toNativeDate(ve))}isSameYear(ve){return this.isSame(ve,"year")}isSameMonth(ve){return this.isSame(ve,"month")}isSameDay(ve){return this.isSame(ve,"day")}isSameHour(ve){return this.isSame(ve,"hour")}isSameMinute(ve){return this.isSame(ve,"minute")}isSameSecond(ve){return this.isSame(ve,"second")}isBefore(ve,Ie="day"){if(null===ve)return!1;let Tt;switch(Ie){case"year":Tt=se;break;case"month":Tt=ot;break;case"day":default:Tt=gt;break;case"hour":Tt=oi;break;case"minute":Tt=Or;break;case"second":Tt=bi}return Tt(this.nativeDate,this.toNativeDate(ve))<0}isBeforeYear(ve){return this.isBefore(ve,"year")}isBeforeMonth(ve){return this.isBefore(ve,"month")}isBeforeDay(ve){return this.isBefore(ve,"day")}isToday(){return function Ni(We){return(0,G.Z)(1,arguments),lt(We,Date.now())}(this.nativeDate)}isValid(){return(0,ao.Z)(this.nativeDate)}isFirstDayOfMonth(){return function Ui(We){return(0,G.Z)(1,arguments),1===(0,x.Z)(We).getDate()}(this.nativeDate)}isLastDayOfMonth(){return function Mi(We){(0,G.Z)(1,arguments);var ve=(0,x.Z)(We);return rr(ve).getTime()===pr(ve).getTime()}(this.nativeDate)}toNativeDate(ve){return ve instanceof dt?ve.nativeDate:ve}}class fe{constructor(ve,Ie){this.format=ve,this.localeId=Ie,this.regex=null,this.matchMap={hour:null,minute:null,second:null,periodNarrow:null,periodWide:null,periodAbbreviated:null},this.genRegexp()}toDate(ve){const Ie=this.getTimeResult(ve),Tt=new Date;return(0,ue.DX)(null==Ie?void 0:Ie.hour)&&Tt.setHours(Ie.hour),(0,ue.DX)(null==Ie?void 0:Ie.minute)&&Tt.setMinutes(Ie.minute),(0,ue.DX)(null==Ie?void 0:Ie.second)&&Tt.setSeconds(Ie.second),1===(null==Ie?void 0:Ie.period)&&Tt.getHours()<12&&Tt.setHours(Tt.getHours()+12),Tt}getTimeResult(ve){const Ie=this.regex.exec(ve);let Tt=null;return Ie?((0,ue.DX)(this.matchMap.periodNarrow)&&(Tt=(0,qt.ol)(this.localeId,qt.x.Format,qt.Tn.Narrow).indexOf(Ie[this.matchMap.periodNarrow+1])),(0,ue.DX)(this.matchMap.periodWide)&&(Tt=(0,qt.ol)(this.localeId,qt.x.Format,qt.Tn.Wide).indexOf(Ie[this.matchMap.periodWide+1])),(0,ue.DX)(this.matchMap.periodAbbreviated)&&(Tt=(0,qt.ol)(this.localeId,qt.x.Format,qt.Tn.Abbreviated).indexOf(Ie[this.matchMap.periodAbbreviated+1])),{hour:(0,ue.DX)(this.matchMap.hour)?Number.parseInt(Ie[this.matchMap.hour+1],10):null,minute:(0,ue.DX)(this.matchMap.minute)?Number.parseInt(Ie[this.matchMap.minute+1],10):null,second:(0,ue.DX)(this.matchMap.second)?Number.parseInt(Ie[this.matchMap.second+1],10):null,period:Tt}):null}genRegexp(){let ve=this.format.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&");const Ie=/h{1,2}/i,Tt=/m{1,2}/,Pn=/s{1,2}/,bn=/aaaaa/,Tn=/aaaa/,ar=/a{1,3}/,br=Ie.exec(this.format),Vt=Tt.exec(this.format),fn=Pn.exec(this.format),mn=bn.exec(this.format);let oe=null,er=null;mn||(oe=Tn.exec(this.format)),!oe&&!mn&&(er=ar.exec(this.format)),[br,Vt,fn,mn,oe,er].filter(Er=>!!Er).sort((Er,dr)=>Er.index-dr.index).forEach((Er,dr)=>{switch(Er){case br:this.matchMap.hour=dr,ve=ve.replace(Ie,"(\\d{1,2})");break;case Vt:this.matchMap.minute=dr,ve=ve.replace(Tt,"(\\d{1,2})");break;case fn:this.matchMap.second=dr,ve=ve.replace(Pn,"(\\d{1,2})");break;case mn:this.matchMap.periodNarrow=dr;const Bt=(0,qt.ol)(this.localeId,qt.x.Format,qt.Tn.Narrow).join("|");ve=ve.replace(bn,`(${Bt})`);break;case oe:this.matchMap.periodWide=dr;const wt=(0,qt.ol)(this.localeId,qt.x.Format,qt.Tn.Wide).join("|");ve=ve.replace(Tn,`(${wt})`);break;case er:this.matchMap.periodAbbreviated=dr;const Be=(0,qt.ol)(this.localeId,qt.x.Format,qt.Tn.Abbreviated).join("|");ve=ve.replace(ar,`(${Be})`)}}),this.regex=new RegExp(ve)}}},2683:(Dn,ht,I)=>{I.d(ht,{a:()=>Se,w:()=>z});var x=I(925),G=I(5e3);let z=(()=>{class Ee{constructor(ke,Ae){this.elementRef=ke,this.renderer=Ae,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return Ee.\u0275fac=function(ke){return new(ke||Ee)(G.Y36(G.SBq),G.Y36(G.Qsj))},Ee.\u0275dir=G.lG2({type:Ee,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[G.TTD]}),Ee})(),Se=(()=>{class Ee{}return Ee.\u0275fac=function(ke){return new(ke||Ee)},Ee.\u0275mod=G.oAB({type:Ee}),Ee.\u0275inj=G.cJS({imports:[[x.ud]]}),Ee})()},1721:(Dn,ht,I)=>{I.d(ht,{DX:()=>ke,HH:()=>Pe,Rn:()=>On,Sm:()=>en,WX:()=>Je,YM:()=>tt,de:()=>Oe,kK:()=>Ae,pW:()=>Yt,rw:()=>lt,sw:()=>be,tI:()=>Ft,ui:()=>pn,yF:()=>ct,zT:()=>xt});var x=I(5e3),G=I(3191),z=I(6947);function ke(fe){return null!=fe}function Ae(fe){return null==fe}function Pe(fe){return"string"==typeof fe&&""!==fe}function Oe(fe){return fe instanceof x.Rgc}function be(fe){return(0,G.Ig)(fe)}function Je(fe){return(0,G.HM)(fe)}function lt(fe,...We){return"function"==typeof fe?fe(...We):fe}function Lt(fe,We){return function ve(Ie,Tt,Pn){const bn=`$$__zorroPropDecorator__${Tt}`;return Object.prototype.hasOwnProperty.call(Ie,bn)&&(0,z.ZK)(`The prop "${bn}" is already exist, it will be overrided by ${fe} decorator.`),Object.defineProperty(Ie,bn,{configurable:!0,writable:!0}),{get(){return Pn&&Pn.get?Pn.get.bind(this)():this[bn]},set(Tn){Pn&&Pn.set&&Pn.set.bind(this)(We(Tn)),this[bn]=We(Tn)}}}}function ct(){return Lt("InputBoolean",be)}function On(fe){return Lt("InputNumber",We=>function Xe(fe,We=0){return(0,G.t6)(fe)?Number(fe):We}(We,fe))}function Yt(fe){if(!fe.getClientRects().length)return{top:0,left:0};const We=fe.getBoundingClientRect(),ve=fe.ownerDocument.defaultView;return{top:We.top+ve.pageYOffset,left:We.left+ve.pageXOffset}}function Ft(fe){return!!fe&&"function"==typeof fe.then&&"function"==typeof fe.catch}function pn(fe){return"number"==typeof fe&&isFinite(fe)}function tt(fe,We){return Math.round(fe*Math.pow(10,We))/Math.pow(10,We)}function en(fe,We=0){return fe.reduce((ve,Ie)=>ve+Ie,We)}function xt(fe){fe.scrollIntoViewIfNeeded?fe.scrollIntoViewIfNeeded(!1):fe.scrollIntoView&&fe.scrollIntoView(!1)}"undefined"!=typeof window&&window},2643:(Dn,ht,I)=>{I.d(ht,{dQ:()=>Ae,vG:()=>Ve});var x=I(925),G=I(5e3),z=I(6360);class Se{constructor(Oe,be,Xe,Je){this.triggerElement=Oe,this.ngZone=be,this.insertExtraNode=Xe,this.platformId=Je,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=lt=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===lt.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new x.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const Oe=this.triggerElement,be=this.getWaveColor(Oe);Oe.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(be)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${be};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",Oe.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{Oe.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(Oe){return!!Oe&&"#ffffff"!==Oe&&"rgb(255, 255, 255)"!==Oe&&this.isNotGrey(Oe)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(Oe)&&"transparent"!==Oe}isNotGrey(Oe){const be=Oe.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(be&&be[1]&&be[2]&&be[3]&&be[1]===be[2]&&be[2]===be[3])}getWaveColor(Oe){const be=getComputedStyle(Oe);return be.getPropertyValue("border-top-color")||be.getPropertyValue("border-color")||be.getPropertyValue("background-color")}runTimeoutOutsideZone(Oe,be){this.ngZone.runOutsideAngular(()=>setTimeout(Oe,be))}}const Ee={disabled:!1},Fe=new G.OlP("nz-wave-global-options",{providedIn:"root",factory:function ke(){return Ee}});let Ae=(()=>{class Pe{constructor(be,Xe,Je,lt,Lt){this.ngZone=be,this.elementRef=Xe,this.config=Je,this.animationType=lt,this.platformId=Lt,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let be=!1;return this.config&&"boolean"==typeof this.config.disabled&&(be=this.config.disabled),"NoopAnimations"===this.animationType&&(be=!0),be}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new Se(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return Pe.\u0275fac=function(be){return new(be||Pe)(G.Y36(G.R0b),G.Y36(G.SBq),G.Y36(Fe,8),G.Y36(z.Qb,8),G.Y36(G.Lbi))},Pe.\u0275dir=G.lG2({type:Pe,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),Pe})(),Ve=(()=>{class Pe{}return Pe.\u0275fac=function(be){return new(be||Pe)},Pe.\u0275mod=G.oAB({type:Pe}),Pe.\u0275inj=G.cJS({imports:[[x.ud]]}),Pe})()},7904:(Dn,ht,I)=>{I.d(ht,{mx:()=>Qo,u7:()=>vo,YI:()=>Oo,o9:()=>gs,wi:()=>Wo,iF:()=>Ia});var x=I(5e3),G=I(1135),z=I(6947),Se=I(9808),Ee=I(953),Fe=I(895),ke=I(833);function Ae(j){return(0,ke.Z)(1,arguments),(0,Fe.Z)(j,{weekStartsOn:1})}function Ve(j){(0,ke.Z)(1,arguments);var ne=(0,Ee.Z)(j),q=ne.getFullYear(),He=new Date(0);He.setFullYear(q+1,0,4),He.setHours(0,0,0,0);var _t=Ae(He),nn=new Date(0);nn.setFullYear(q,0,4),nn.setHours(0,0,0,0);var tr=Ae(nn);return ne.getTime()>=_t.getTime()?q+1:ne.getTime()>=tr.getTime()?q:q-1}function Pe(j){(0,ke.Z)(1,arguments);var ne=Ve(j),q=new Date(0);q.setFullYear(ne,0,4),q.setHours(0,0,0,0);var He=Ae(q);return He}var Oe=6048e5,Xe=I(900),Je={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ct(j){return function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=ne.width?String(ne.width):j.defaultWidth,He=j.formats[q]||j.formats[j.defaultWidth];return He}}var Yt={date:ct({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ct({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ct({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ot={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function gt(j){return function(ne,q){var nn,He=q||{};if("formatting"===(He.context?String(He.context):"standalone")&&j.formattingValues){var tr=j.defaultFormattingWidth||j.defaultWidth,Jr=He.width?String(He.width):tr;nn=j.formattingValues[Jr]||j.formattingValues[tr]}else{var re=j.defaultWidth,P=He.width?String(He.width):j.defaultWidth;nn=j.values[P]||j.values[re]}return nn[j.argumentCallback?j.argumentCallback(ne):ne]}}function xt(j){return function(ne){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},He=q.width,_t=He&&j.matchPatterns[He]||j.matchPatterns[j.defaultMatchWidth],nn=ne.match(_t);if(!nn)return null;var P,tr=nn[0],Jr=He&&j.parsePatterns[He]||j.parsePatterns[j.defaultParseWidth],re=Array.isArray(Jr)?Hn(Jr,function(K){return K.test(tr)}):jt(Jr,function(K){return K.test(tr)});P=j.valueCallback?j.valueCallback(re):re,P=q.valueCallback?q.valueCallback(P):P;var F=ne.slice(tr.length);return{value:P,rest:F}}}function jt(j,ne){for(var q in j)if(j.hasOwnProperty(q)&&ne(j[q]))return q}function Hn(j,ne){for(var q=0;q<j.length;q++)if(ne(j[q]))return q}const ue={code:"en-US",formatDistance:function(j,ne,q){var He,_t=Je[j];return He="string"==typeof _t?_t:1===ne?_t.one:_t.other.replace("{{count}}",ne.toString()),null!=q&&q.addSuffix?q.comparison&&q.comparison>0?"in "+He:He+" ago":He},formatLong:Yt,formatRelative:function(j,ne,q,He){return ot[j]},localize:{ordinalNumber:function(j,ne){var q=Number(j),He=q%100;if(He>20||He<10)switch(He%10){case 1:return q+"st";case 2:return q+"nd";case 3:return q+"rd"}return q+"th"},era:gt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:gt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(j){return j-1}}),month:gt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:gt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:gt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function or(j){return function(ne){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},He=ne.match(j.matchPattern);if(!He)return null;var _t=He[0],nn=ne.match(j.parsePattern);if(!nn)return null;var tr=j.valueCallback?j.valueCallback(nn[0]):nn[0];tr=q.valueCallback?q.valueCallback(tr):tr;var Jr=ne.slice(_t.length);return{value:tr,rest:Jr}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(j){return parseInt(j,10)}}),era:xt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(j){return j+1}}),month:xt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ye=I(1998);function At(j,ne){(0,ke.Z)(2,arguments);var q=(0,Ee.Z)(j).getTime(),He=(0,Ye.Z)(ne);return new Date(q+He)}function Xt(j,ne){(0,ke.Z)(2,arguments);var q=(0,Ye.Z)(ne);return At(j,-q)}function fe(j){(0,ke.Z)(1,arguments);var ne=1,q=(0,Ee.Z)(j),He=q.getUTCDay(),_t=(He<ne?7:0)+He-ne;return q.setUTCDate(q.getUTCDate()-_t),q.setUTCHours(0,0,0,0),q}function We(j){(0,ke.Z)(1,arguments);var ne=(0,Ee.Z)(j),q=ne.getUTCFullYear(),He=new Date(0);He.setUTCFullYear(q+1,0,4),He.setUTCHours(0,0,0,0);var _t=fe(He),nn=new Date(0);nn.setUTCFullYear(q,0,4),nn.setUTCHours(0,0,0,0);var tr=fe(nn);return ne.getTime()>=_t.getTime()?q+1:ne.getTime()>=tr.getTime()?q:q-1}function ve(j){(0,ke.Z)(1,arguments);var ne=We(j),q=new Date(0);q.setUTCFullYear(ne,0,4),q.setUTCHours(0,0,0,0);var He=fe(q);return He}var Ie=6048e5;function Tt(j){(0,ke.Z)(1,arguments);var ne=(0,Ee.Z)(j),q=fe(ne).getTime()-ve(ne).getTime();return Math.round(q/Ie)+1}function Pn(j,ne){(0,ke.Z)(1,arguments);var q=ne||{},He=q.locale,_t=He&&He.options&&He.options.weekStartsOn,nn=null==_t?0:(0,Ye.Z)(_t),tr=null==q.weekStartsOn?nn:(0,Ye.Z)(q.weekStartsOn);if(!(tr>=0&&tr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Jr=(0,Ee.Z)(j),re=Jr.getUTCDay(),P=(re<tr?7:0)+re-tr;return Jr.setUTCDate(Jr.getUTCDate()-P),Jr.setUTCHours(0,0,0,0),Jr}function bn(j,ne){(0,ke.Z)(1,arguments);var q=(0,Ee.Z)(j),He=q.getUTCFullYear(),_t=ne||{},nn=_t.locale,tr=nn&&nn.options&&nn.options.firstWeekContainsDate,Jr=null==tr?1:(0,Ye.Z)(tr),re=null==_t.firstWeekContainsDate?Jr:(0,Ye.Z)(_t.firstWeekContainsDate);if(!(re>=1&&re<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=new Date(0);P.setUTCFullYear(He+1,0,re),P.setUTCHours(0,0,0,0);var F=Pn(P,ne),K=new Date(0);K.setUTCFullYear(He,0,re),K.setUTCHours(0,0,0,0);var ge=Pn(K,ne);return q.getTime()>=F.getTime()?He+1:q.getTime()>=ge.getTime()?He:He-1}function Tn(j,ne){(0,ke.Z)(1,arguments);var q=ne||{},He=q.locale,_t=He&&He.options&&He.options.firstWeekContainsDate,nn=null==_t?1:(0,Ye.Z)(_t),tr=null==q.firstWeekContainsDate?nn:(0,Ye.Z)(q.firstWeekContainsDate),Jr=bn(j,ne),re=new Date(0);re.setUTCFullYear(Jr,0,tr),re.setUTCHours(0,0,0,0);var P=Pn(re,ne);return P}var ar=6048e5;function br(j,ne){(0,ke.Z)(1,arguments);var q=(0,Ee.Z)(j),He=Pn(q,ne).getTime()-Tn(q,ne).getTime();return Math.round(He/ar)+1}function Vt(j,ne){for(var q=j<0?"-":"",He=Math.abs(j).toString();He.length<ne;)He="0"+He;return q+He}const mn_y=function(j,ne){var q=j.getUTCFullYear(),He=q>0?q:1-q;return Vt("yy"===ne?He%100:He,ne.length)},mn_M=function(j,ne){var q=j.getUTCMonth();return"M"===ne?String(q+1):Vt(q+1,2)},mn_d=function(j,ne){return Vt(j.getUTCDate(),ne.length)},mn_h=function(j,ne){return Vt(j.getUTCHours()%12||12,ne.length)},mn_H=function(j,ne){return Vt(j.getUTCHours(),ne.length)},mn_m=function(j,ne){return Vt(j.getUTCMinutes(),ne.length)},mn_s=function(j,ne){return Vt(j.getUTCSeconds(),ne.length)},mn_S=function(j,ne){var q=ne.length,He=j.getUTCMilliseconds();return Vt(Math.floor(He*Math.pow(10,q-3)),ne.length)};function Lr(j,ne){var q=j>0?"-":"+",He=Math.abs(j),_t=Math.floor(He/60),nn=He%60;if(0===nn)return q+String(_t);var tr=ne||"";return q+String(_t)+tr+Vt(nn,2)}function Er(j,ne){return j%60==0?(j>0?"-":"+")+Vt(Math.abs(j)/60,2):dr(j,ne)}function dr(j,ne){var q=ne||"",He=j>0?"-":"+",_t=Math.abs(j);return He+Vt(Math.floor(_t/60),2)+q+Vt(_t%60,2)}const Bt={G:function(j,ne,q){var He=j.getUTCFullYear()>0?1:0;switch(ne){case"G":case"GG":case"GGG":return q.era(He,{width:"abbreviated"});case"GGGGG":return q.era(He,{width:"narrow"});default:return q.era(He,{width:"wide"})}},y:function(j,ne,q){if("yo"===ne){var He=j.getUTCFullYear();return q.ordinalNumber(He>0?He:1-He,{unit:"year"})}return mn_y(j,ne)},Y:function(j,ne,q,He){var _t=bn(j,He),nn=_t>0?_t:1-_t;return"YY"===ne?Vt(nn%100,2):"Yo"===ne?q.ordinalNumber(nn,{unit:"year"}):Vt(nn,ne.length)},R:function(j,ne){return Vt(We(j),ne.length)},u:function(j,ne){return Vt(j.getUTCFullYear(),ne.length)},Q:function(j,ne,q){var He=Math.ceil((j.getUTCMonth()+1)/3);switch(ne){case"Q":return String(He);case"QQ":return Vt(He,2);case"Qo":return q.ordinalNumber(He,{unit:"quarter"});case"QQQ":return q.quarter(He,{width:"abbreviated",context:"formatting"});case"QQQQQ":return q.quarter(He,{width:"narrow",context:"formatting"});default:return q.quarter(He,{width:"wide",context:"formatting"})}},q:function(j,ne,q){var He=Math.ceil((j.getUTCMonth()+1)/3);switch(ne){case"q":return String(He);case"qq":return Vt(He,2);case"qo":return q.ordinalNumber(He,{unit:"quarter"});case"qqq":return q.quarter(He,{width:"abbreviated",context:"standalone"});case"qqqqq":return q.quarter(He,{width:"narrow",context:"standalone"});default:return q.quarter(He,{width:"wide",context:"standalone"})}},M:function(j,ne,q){var He=j.getUTCMonth();switch(ne){case"M":case"MM":return mn_M(j,ne);case"Mo":return q.ordinalNumber(He+1,{unit:"month"});case"MMM":return q.month(He,{width:"abbreviated",context:"formatting"});case"MMMMM":return q.month(He,{width:"narrow",context:"formatting"});default:return q.month(He,{width:"wide",context:"formatting"})}},L:function(j,ne,q){var He=j.getUTCMonth();switch(ne){case"L":return String(He+1);case"LL":return Vt(He+1,2);case"Lo":return q.ordinalNumber(He+1,{unit:"month"});case"LLL":return q.month(He,{width:"abbreviated",context:"standalone"});case"LLLLL":return q.month(He,{width:"narrow",context:"standalone"});default:return q.month(He,{width:"wide",context:"standalone"})}},w:function(j,ne,q,He){var _t=br(j,He);return"wo"===ne?q.ordinalNumber(_t,{unit:"week"}):Vt(_t,ne.length)},I:function(j,ne,q){var He=Tt(j);return"Io"===ne?q.ordinalNumber(He,{unit:"week"}):Vt(He,ne.length)},d:function(j,ne,q){return"do"===ne?q.ordinalNumber(j.getUTCDate(),{unit:"date"}):mn_d(j,ne)},D:function(j,ne,q){var He=function $e(j){(0,ke.Z)(1,arguments);var ne=(0,Ee.Z)(j),q=ne.getTime();ne.setUTCMonth(0,1),ne.setUTCHours(0,0,0,0);var He=ne.getTime();return Math.floor((q-He)/864e5)+1}(j);return"Do"===ne?q.ordinalNumber(He,{unit:"dayOfYear"}):Vt(He,ne.length)},E:function(j,ne,q){var He=j.getUTCDay();switch(ne){case"E":case"EE":case"EEE":return q.day(He,{width:"abbreviated",context:"formatting"});case"EEEEE":return q.day(He,{width:"narrow",context:"formatting"});case"EEEEEE":return q.day(He,{width:"short",context:"formatting"});default:return q.day(He,{width:"wide",context:"formatting"})}},e:function(j,ne,q,He){var _t=j.getUTCDay(),nn=(_t-He.weekStartsOn+8)%7||7;switch(ne){case"e":return String(nn);case"ee":return Vt(nn,2);case"eo":return q.ordinalNumber(nn,{unit:"day"});case"eee":return q.day(_t,{width:"abbreviated",context:"formatting"});case"eeeee":return q.day(_t,{width:"narrow",context:"formatting"});case"eeeeee":return q.day(_t,{width:"short",context:"formatting"});default:return q.day(_t,{width:"wide",context:"formatting"})}},c:function(j,ne,q,He){var _t=j.getUTCDay(),nn=(_t-He.weekStartsOn+8)%7||7;switch(ne){case"c":return String(nn);case"cc":return Vt(nn,ne.length);case"co":return q.ordinalNumber(nn,{unit:"day"});case"ccc":return q.day(_t,{width:"abbreviated",context:"standalone"});case"ccccc":return q.day(_t,{width:"narrow",context:"standalone"});case"cccccc":return q.day(_t,{width:"short",context:"standalone"});default:return q.day(_t,{width:"wide",context:"standalone"})}},i:function(j,ne,q){var He=j.getUTCDay(),_t=0===He?7:He;switch(ne){case"i":return String(_t);case"ii":return Vt(_t,ne.length);case"io":return q.ordinalNumber(_t,{unit:"day"});case"iii":return q.day(He,{width:"abbreviated",context:"formatting"});case"iiiii":return q.day(He,{width:"narrow",context:"formatting"});case"iiiiii":return q.day(He,{width:"short",context:"formatting"});default:return q.day(He,{width:"wide",context:"formatting"})}},a:function(j,ne,q){var _t=j.getUTCHours()/12>=1?"pm":"am";switch(ne){case"a":case"aa":return q.dayPeriod(_t,{width:"abbreviated",context:"formatting"});case"aaa":return q.dayPeriod(_t,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return q.dayPeriod(_t,{width:"narrow",context:"formatting"});default:return q.dayPeriod(_t,{width:"wide",context:"formatting"})}},b:function(j,ne,q){var _t,He=j.getUTCHours();switch(_t=12===He?"noon":0===He?"midnight":He/12>=1?"pm":"am",ne){case"b":case"bb":return q.dayPeriod(_t,{width:"abbreviated",context:"formatting"});case"bbb":return q.dayPeriod(_t,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return q.dayPeriod(_t,{width:"narrow",context:"formatting"});default:return q.dayPeriod(_t,{width:"wide",context:"formatting"})}},B:function(j,ne,q){var _t,He=j.getUTCHours();switch(_t=He>=17?"evening":He>=12?"afternoon":He>=4?"morning":"night",ne){case"B":case"BB":case"BBB":return q.dayPeriod(_t,{width:"abbreviated",context:"formatting"});case"BBBBB":return q.dayPeriod(_t,{width:"narrow",context:"formatting"});default:return q.dayPeriod(_t,{width:"wide",context:"formatting"})}},h:function(j,ne,q){if("ho"===ne){var He=j.getUTCHours()%12;return 0===He&&(He=12),q.ordinalNumber(He,{unit:"hour"})}return mn_h(j,ne)},H:function(j,ne,q){return"Ho"===ne?q.ordinalNumber(j.getUTCHours(),{unit:"hour"}):mn_H(j,ne)},K:function(j,ne,q){var He=j.getUTCHours()%12;return"Ko"===ne?q.ordinalNumber(He,{unit:"hour"}):Vt(He,ne.length)},k:function(j,ne,q){var He=j.getUTCHours();return 0===He&&(He=24),"ko"===ne?q.ordinalNumber(He,{unit:"hour"}):Vt(He,ne.length)},m:function(j,ne,q){return"mo"===ne?q.ordinalNumber(j.getUTCMinutes(),{unit:"minute"}):mn_m(j,ne)},s:function(j,ne,q){return"so"===ne?q.ordinalNumber(j.getUTCSeconds(),{unit:"second"}):mn_s(j,ne)},S:function(j,ne){return mn_S(j,ne)},X:function(j,ne,q,He){var nn=(He._originalDate||j).getTimezoneOffset();if(0===nn)return"Z";switch(ne){case"X":return Er(nn);case"XXXX":case"XX":return dr(nn);default:return dr(nn,":")}},x:function(j,ne,q,He){var nn=(He._originalDate||j).getTimezoneOffset();switch(ne){case"x":return Er(nn);case"xxxx":case"xx":return dr(nn);default:return dr(nn,":")}},O:function(j,ne,q,He){var nn=(He._originalDate||j).getTimezoneOffset();switch(ne){case"O":case"OO":case"OOO":return"GMT"+Lr(nn,":");default:return"GMT"+dr(nn,":")}},z:function(j,ne,q,He){var nn=(He._originalDate||j).getTimezoneOffset();switch(ne){case"z":case"zz":case"zzz":return"GMT"+Lr(nn,":");default:return"GMT"+dr(nn,":")}},t:function(j,ne,q,He){return Vt(Math.floor((He._originalDate||j).getTime()/1e3),ne.length)},T:function(j,ne,q,He){return Vt((He._originalDate||j).getTime(),ne.length)}};function wt(j,ne){switch(j){case"P":return ne.date({width:"short"});case"PP":return ne.date({width:"medium"});case"PPP":return ne.date({width:"long"});default:return ne.date({width:"full"})}}function Be(j,ne){switch(j){case"p":return ne.time({width:"short"});case"pp":return ne.time({width:"medium"});case"ppp":return ne.time({width:"long"});default:return ne.time({width:"full"})}}const an={p:Be,P:function xe(j,ne){var nn,q=j.match(/(P+)(p+)?/)||[],He=q[1],_t=q[2];if(!_t)return wt(j,ne);switch(He){case"P":nn=ne.dateTime({width:"short"});break;case"PP":nn=ne.dateTime({width:"medium"});break;case"PPP":nn=ne.dateTime({width:"long"});break;default:nn=ne.dateTime({width:"full"})}return nn.replace("{{date}}",wt(He,ne)).replace("{{time}}",Be(_t,ne))}};var vr=I(9868),hr=["D","DD"],Dt=["YY","YYYY"];function Ct(j){return-1!==hr.indexOf(j)}function Ke(j){return-1!==Dt.indexOf(j)}function ft(j,ne,q){if("YYYY"===j)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(ne,"`) for formatting years to the input `").concat(q,"`; see: https://git.io/fxCyr"));if("YY"===j)throw new RangeError("Use `yy` instead of `YY` (in `".concat(ne,"`) for formatting years to the input `").concat(q,"`; see: https://git.io/fxCyr"));if("D"===j)throw new RangeError("Use `d` instead of `D` (in `".concat(ne,"`) for formatting days of the month to the input `").concat(q,"`; see: https://git.io/fxCyr"));if("DD"===j)throw new RangeError("Use `dd` instead of `DD` (in `".concat(ne,"`) for formatting days of the month to the input `").concat(q,"`; see: https://git.io/fxCyr"))}var je=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pe=/^'([^]*?)'?$/,St=/''/g,yn=/[a-zA-Z]/;function sr(j){return j.match(pe)[1].replace(St,"'")}function Mr(j,ne){if(null==j)throw new TypeError("assign requires that input parameter not be null or undefined");for(var q in ne=ne||{})Object.prototype.hasOwnProperty.call(ne,q)&&(j[q]=ne[q]);return j}function Br(j,ne,q){(0,ke.Z)(2,arguments);var He=q||{},_t=He.locale,nn=_t&&_t.options&&_t.options.weekStartsOn,tr=null==nn?0:(0,Ye.Z)(nn),Jr=null==He.weekStartsOn?tr:(0,Ye.Z)(He.weekStartsOn);if(!(Jr>=0&&Jr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var re=(0,Ee.Z)(j),P=(0,Ye.Z)(ne),F=re.getUTCDay(),K=P%7,ge=(K+7)%7,Ge=(ge<Jr?7:0)+P-F;return re.setUTCDate(re.getUTCDate()+Ge),re}var qr_month=/^(1[0-2]|0?\d)/,qr_date=/^(3[0-1]|[0-2]?\d)/,qr_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,qr_week=/^(5[0-3]|[0-4]?\d)/,qr_hour23h=/^(2[0-3]|[0-1]?\d)/,qr_hour24h=/^(2[0-4]|[0-1]?\d)/,qr_hour11h=/^(1[0-1]|0?\d)/,qr_hour12h=/^(1[0-2]|0?\d)/,qr_minute=/^[0-5]?\d/,qr_second=/^[0-5]?\d/,qr_singleDigit=/^\d/,qr_twoDigits=/^\d{1,2}/,qr_threeDigits=/^\d{1,3}/,qr_fourDigits=/^\d{1,4}/,qr_anyDigitsSigned=/^-?\d+/,qr_singleDigitSigned=/^-?\d/,qr_twoDigitsSigned=/^-?\d{1,2}/,qr_threeDigitsSigned=/^-?\d{1,3}/,qr_fourDigitsSigned=/^-?\d{1,4}/,Pr_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,Pr_basic=/^([+-])(\d{2})(\d{2})|Z/,Pr_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Pr_extended=/^([+-])(\d{2}):(\d{2})|Z/,Pr_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function cr(j,ne,q){var He=ne.match(j);if(!He)return null;var _t=parseInt(He[0],10);return{value:q?q(_t):_t,rest:ne.slice(He[0].length)}}function Xr(j,ne){var q=ne.match(j);return q?"Z"===q[0]?{value:0,rest:ne.slice(1)}:{value:("+"===q[1]?1:-1)*(36e5*(q[2]?parseInt(q[2],10):0)+6e4*(q[3]?parseInt(q[3],10):0)+1e3*(q[5]?parseInt(q[5],10):0)),rest:ne.slice(q[0].length)}:null}function Bi(j,ne){return cr(qr_anyDigitsSigned,j,ne)}function Yr(j,ne,q){switch(j){case 1:return cr(qr_singleDigit,ne,q);case 2:return cr(qr_twoDigits,ne,q);case 3:return cr(qr_threeDigits,ne,q);case 4:return cr(qr_fourDigits,ne,q);default:return cr(new RegExp("^\\d{1,"+j+"}"),ne,q)}}function wr(j,ne,q){switch(j){case 1:return cr(qr_singleDigitSigned,ne,q);case 2:return cr(qr_twoDigitsSigned,ne,q);case 3:return cr(qr_threeDigitsSigned,ne,q);case 4:return cr(qr_fourDigitsSigned,ne,q);default:return cr(new RegExp("^-?\\d{1,"+j+"}"),ne,q)}}function Qi(j){switch(j){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Ki(j,ne){var _t,q=ne>0,He=q?ne:1-ne;if(He<=50)_t=j||100;else{var nn=He+50;_t=j+100*Math.floor(nn/100)-(j>=nn%100?100:0)}return q?_t:1-_t}var go=[31,28,31,30,31,30,31,31,30,31,30,31],to=[31,29,31,30,31,30,31,31,30,31,30,31];function $i(j){return j%400==0||j%4==0&&j%100!=0}const Go={G:{priority:140,parse:function(j,ne,q,He){switch(ne){case"G":case"GG":case"GGG":return q.era(j,{width:"abbreviated"})||q.era(j,{width:"narrow"});case"GGGGG":return q.era(j,{width:"narrow"});default:return q.era(j,{width:"wide"})||q.era(j,{width:"abbreviated"})||q.era(j,{width:"narrow"})}},set:function(j,ne,q,He){return ne.era=q,j.setUTCFullYear(q,0,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(j,ne,q,He){var _t=function(nn){return{year:nn,isTwoDigitYear:"yy"===ne}};switch(ne){case"y":return Yr(4,j,_t);case"yo":return q.ordinalNumber(j,{unit:"year",valueCallback:_t});default:return Yr(ne.length,j,_t)}},validate:function(j,ne,q){return ne.isTwoDigitYear||ne.year>0},set:function(j,ne,q,He){var _t=j.getUTCFullYear();if(q.isTwoDigitYear){var nn=Ki(q.year,_t);return j.setUTCFullYear(nn,0,1),j.setUTCHours(0,0,0,0),j}return j.setUTCFullYear("era"in ne&&1!==ne.era?1-q.year:q.year,0,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(j,ne,q,He){var _t=function(nn){return{year:nn,isTwoDigitYear:"YY"===ne}};switch(ne){case"Y":return Yr(4,j,_t);case"Yo":return q.ordinalNumber(j,{unit:"year",valueCallback:_t});default:return Yr(ne.length,j,_t)}},validate:function(j,ne,q){return ne.isTwoDigitYear||ne.year>0},set:function(j,ne,q,He){var _t=bn(j,He);if(q.isTwoDigitYear){var nn=Ki(q.year,_t);return j.setUTCFullYear(nn,0,He.firstWeekContainsDate),j.setUTCHours(0,0,0,0),Pn(j,He)}return j.setUTCFullYear("era"in ne&&1!==ne.era?1-q.year:q.year,0,He.firstWeekContainsDate),j.setUTCHours(0,0,0,0),Pn(j,He)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(j,ne,q,He){return wr("R"===ne?4:ne.length,j)},set:function(j,ne,q,He){var _t=new Date(0);return _t.setUTCFullYear(q,0,4),_t.setUTCHours(0,0,0,0),fe(_t)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(j,ne,q,He){return wr("u"===ne?4:ne.length,j)},set:function(j,ne,q,He){return j.setUTCFullYear(q,0,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(j,ne,q,He){switch(ne){case"Q":case"QQ":return Yr(ne.length,j);case"Qo":return q.ordinalNumber(j,{unit:"quarter"});case"QQQ":return q.quarter(j,{width:"abbreviated",context:"formatting"})||q.quarter(j,{width:"narrow",context:"formatting"});case"QQQQQ":return q.quarter(j,{width:"narrow",context:"formatting"});default:return q.quarter(j,{width:"wide",context:"formatting"})||q.quarter(j,{width:"abbreviated",context:"formatting"})||q.quarter(j,{width:"narrow",context:"formatting"})}},validate:function(j,ne,q){return ne>=1&&ne<=4},set:function(j,ne,q,He){return j.setUTCMonth(3*(q-1),1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(j,ne,q,He){switch(ne){case"q":case"qq":return Yr(ne.length,j);case"qo":return q.ordinalNumber(j,{unit:"quarter"});case"qqq":return q.quarter(j,{width:"abbreviated",context:"standalone"})||q.quarter(j,{width:"narrow",context:"standalone"});case"qqqqq":return q.quarter(j,{width:"narrow",context:"standalone"});default:return q.quarter(j,{width:"wide",context:"standalone"})||q.quarter(j,{width:"abbreviated",context:"standalone"})||q.quarter(j,{width:"narrow",context:"standalone"})}},validate:function(j,ne,q){return ne>=1&&ne<=4},set:function(j,ne,q,He){return j.setUTCMonth(3*(q-1),1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(j,ne,q,He){var _t=function(nn){return nn-1};switch(ne){case"M":return cr(qr_month,j,_t);case"MM":return Yr(2,j,_t);case"Mo":return q.ordinalNumber(j,{unit:"month",valueCallback:_t});case"MMM":return q.month(j,{width:"abbreviated",context:"formatting"})||q.month(j,{width:"narrow",context:"formatting"});case"MMMMM":return q.month(j,{width:"narrow",context:"formatting"});default:return q.month(j,{width:"wide",context:"formatting"})||q.month(j,{width:"abbreviated",context:"formatting"})||q.month(j,{width:"narrow",context:"formatting"})}},validate:function(j,ne,q){return ne>=0&&ne<=11},set:function(j,ne,q,He){return j.setUTCMonth(q,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(j,ne,q,He){var _t=function(nn){return nn-1};switch(ne){case"L":return cr(qr_month,j,_t);case"LL":return Yr(2,j,_t);case"Lo":return q.ordinalNumber(j,{unit:"month",valueCallback:_t});case"LLL":return q.month(j,{width:"abbreviated",context:"standalone"})||q.month(j,{width:"narrow",context:"standalone"});case"LLLLL":return q.month(j,{width:"narrow",context:"standalone"});default:return q.month(j,{width:"wide",context:"standalone"})||q.month(j,{width:"abbreviated",context:"standalone"})||q.month(j,{width:"narrow",context:"standalone"})}},validate:function(j,ne,q){return ne>=0&&ne<=11},set:function(j,ne,q,He){return j.setUTCMonth(q,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(j,ne,q,He){switch(ne){case"w":return cr(qr_week,j);case"wo":return q.ordinalNumber(j,{unit:"week"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=1&&ne<=53},set:function(j,ne,q,He){return Pn(function Vn(j,ne,q){(0,ke.Z)(2,arguments);var He=(0,Ee.Z)(j),_t=(0,Ye.Z)(ne),nn=br(He,q)-_t;return He.setUTCDate(He.getUTCDate()-7*nn),He}(j,q,He),He)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(j,ne,q,He){switch(ne){case"I":return cr(qr_week,j);case"Io":return q.ordinalNumber(j,{unit:"week"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=1&&ne<=53},set:function(j,ne,q,He){return fe(function $r(j,ne){(0,ke.Z)(2,arguments);var q=(0,Ee.Z)(j),He=(0,Ye.Z)(ne),_t=Tt(q)-He;return q.setUTCDate(q.getUTCDate()-7*_t),q}(j,q,He),He)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(j,ne,q,He){switch(ne){case"d":return cr(qr_date,j);case"do":return q.ordinalNumber(j,{unit:"date"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){var _t=$i(j.getUTCFullYear()),nn=j.getUTCMonth();return _t?ne>=1&&ne<=to[nn]:ne>=1&&ne<=go[nn]},set:function(j,ne,q,He){return j.setUTCDate(q),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(j,ne,q,He){switch(ne){case"D":case"DD":return cr(qr_dayOfYear,j);case"Do":return q.ordinalNumber(j,{unit:"date"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return $i(j.getUTCFullYear())?ne>=1&&ne<=366:ne>=1&&ne<=365},set:function(j,ne,q,He){return j.setUTCMonth(0,q),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(j,ne,q,He){switch(ne){case"E":case"EE":case"EEE":return q.day(j,{width:"abbreviated",context:"formatting"})||q.day(j,{width:"short",context:"formatting"})||q.day(j,{width:"narrow",context:"formatting"});case"EEEEE":return q.day(j,{width:"narrow",context:"formatting"});case"EEEEEE":return q.day(j,{width:"short",context:"formatting"})||q.day(j,{width:"narrow",context:"formatting"});default:return q.day(j,{width:"wide",context:"formatting"})||q.day(j,{width:"abbreviated",context:"formatting"})||q.day(j,{width:"short",context:"formatting"})||q.day(j,{width:"narrow",context:"formatting"})}},validate:function(j,ne,q){return ne>=0&&ne<=6},set:function(j,ne,q,He){return(j=Br(j,q,He)).setUTCHours(0,0,0,0),j},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(j,ne,q,He){var _t=function(nn){var tr=7*Math.floor((nn-1)/7);return(nn+He.weekStartsOn+6)%7+tr};switch(ne){case"e":case"ee":return Yr(ne.length,j,_t);case"eo":return q.ordinalNumber(j,{unit:"day",valueCallback:_t});case"eee":return q.day(j,{width:"abbreviated",context:"formatting"})||q.day(j,{width:"short",context:"formatting"})||q.day(j,{width:"narrow",context:"formatting"});case"eeeee":return q.day(j,{width:"narrow",context:"formatting"});case"eeeeee":return q.day(j,{width:"short",context:"formatting"})||q.day(j,{width:"narrow",context:"formatting"});default:return q.day(j,{width:"wide",context:"formatting"})||q.day(j,{width:"abbreviated",context:"formatting"})||q.day(j,{width:"short",context:"formatting"})||q.day(j,{width:"narrow",context:"formatting"})}},validate:function(j,ne,q){return ne>=0&&ne<=6},set:function(j,ne,q,He){return(j=Br(j,q,He)).setUTCHours(0,0,0,0),j},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(j,ne,q,He){var _t=function(nn){var tr=7*Math.floor((nn-1)/7);return(nn+He.weekStartsOn+6)%7+tr};switch(ne){case"c":case"cc":return Yr(ne.length,j,_t);case"co":return q.ordinalNumber(j,{unit:"day",valueCallback:_t});case"ccc":return q.day(j,{width:"abbreviated",context:"standalone"})||q.day(j,{width:"short",context:"standalone"})||q.day(j,{width:"narrow",context:"standalone"});case"ccccc":return q.day(j,{width:"narrow",context:"standalone"});case"cccccc":return q.day(j,{width:"short",context:"standalone"})||q.day(j,{width:"narrow",context:"standalone"});default:return q.day(j,{width:"wide",context:"standalone"})||q.day(j,{width:"abbreviated",context:"standalone"})||q.day(j,{width:"short",context:"standalone"})||q.day(j,{width:"narrow",context:"standalone"})}},validate:function(j,ne,q){return ne>=0&&ne<=6},set:function(j,ne,q,He){return(j=Br(j,q,He)).setUTCHours(0,0,0,0),j},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(j,ne,q,He){var _t=function(nn){return 0===nn?7:nn};switch(ne){case"i":case"ii":return Yr(ne.length,j);case"io":return q.ordinalNumber(j,{unit:"day"});case"iii":return q.day(j,{width:"abbreviated",context:"formatting",valueCallback:_t})||q.day(j,{width:"short",context:"formatting",valueCallback:_t})||q.day(j,{width:"narrow",context:"formatting",valueCallback:_t});case"iiiii":return q.day(j,{width:"narrow",context:"formatting",valueCallback:_t});case"iiiiii":return q.day(j,{width:"short",context:"formatting",valueCallback:_t})||q.day(j,{width:"narrow",context:"formatting",valueCallback:_t});default:return q.day(j,{width:"wide",context:"formatting",valueCallback:_t})||q.day(j,{width:"abbreviated",context:"formatting",valueCallback:_t})||q.day(j,{width:"short",context:"formatting",valueCallback:_t})||q.day(j,{width:"narrow",context:"formatting",valueCallback:_t})}},validate:function(j,ne,q){return ne>=1&&ne<=7},set:function(j,ne,q,He){return j=function Pi(j,ne){(0,ke.Z)(2,arguments);var q=(0,Ye.Z)(ne);q%7==0&&(q-=7);var He=1,_t=(0,Ee.Z)(j),nn=_t.getUTCDay(),re=((q%7+7)%7<He?7:0)+q-nn;return _t.setUTCDate(_t.getUTCDate()+re),_t}(j,q,He),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(j,ne,q,He){switch(ne){case"a":case"aa":case"aaa":return q.dayPeriod(j,{width:"abbreviated",context:"formatting"})||q.dayPeriod(j,{width:"narrow",context:"formatting"});case"aaaaa":return q.dayPeriod(j,{width:"narrow",context:"formatting"});default:return q.dayPeriod(j,{width:"wide",context:"formatting"})||q.dayPeriod(j,{width:"abbreviated",context:"formatting"})||q.dayPeriod(j,{width:"narrow",context:"formatting"})}},set:function(j,ne,q,He){return j.setUTCHours(Qi(q),0,0,0),j},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(j,ne,q,He){switch(ne){case"b":case"bb":case"bbb":return q.dayPeriod(j,{width:"abbreviated",context:"formatting"})||q.dayPeriod(j,{width:"narrow",context:"formatting"});case"bbbbb":return q.dayPeriod(j,{width:"narrow",context:"formatting"});default:return q.dayPeriod(j,{width:"wide",context:"formatting"})||q.dayPeriod(j,{width:"abbreviated",context:"formatting"})||q.dayPeriod(j,{width:"narrow",context:"formatting"})}},set:function(j,ne,q,He){return j.setUTCHours(Qi(q),0,0,0),j},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(j,ne,q,He){switch(ne){case"B":case"BB":case"BBB":return q.dayPeriod(j,{width:"abbreviated",context:"formatting"})||q.dayPeriod(j,{width:"narrow",context:"formatting"});case"BBBBB":return q.dayPeriod(j,{width:"narrow",context:"formatting"});default:return q.dayPeriod(j,{width:"wide",context:"formatting"})||q.dayPeriod(j,{width:"abbreviated",context:"formatting"})||q.dayPeriod(j,{width:"narrow",context:"formatting"})}},set:function(j,ne,q,He){return j.setUTCHours(Qi(q),0,0,0),j},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(j,ne,q,He){switch(ne){case"h":return cr(qr_hour12h,j);case"ho":return q.ordinalNumber(j,{unit:"hour"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=1&&ne<=12},set:function(j,ne,q,He){var _t=j.getUTCHours()>=12;return j.setUTCHours(_t&&q<12?q+12:_t||12!==q?q:0,0,0,0),j},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(j,ne,q,He){switch(ne){case"H":return cr(qr_hour23h,j);case"Ho":return q.ordinalNumber(j,{unit:"hour"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=0&&ne<=23},set:function(j,ne,q,He){return j.setUTCHours(q,0,0,0),j},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(j,ne,q,He){switch(ne){case"K":return cr(qr_hour11h,j);case"Ko":return q.ordinalNumber(j,{unit:"hour"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=0&&ne<=11},set:function(j,ne,q,He){var _t=j.getUTCHours()>=12;return j.setUTCHours(_t&&q<12?q+12:q,0,0,0),j},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(j,ne,q,He){switch(ne){case"k":return cr(qr_hour24h,j);case"ko":return q.ordinalNumber(j,{unit:"hour"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=1&&ne<=24},set:function(j,ne,q,He){return j.setUTCHours(q<=24?q%24:q,0,0,0),j},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(j,ne,q,He){switch(ne){case"m":return cr(qr_minute,j);case"mo":return q.ordinalNumber(j,{unit:"minute"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=0&&ne<=59},set:function(j,ne,q,He){return j.setUTCMinutes(q,0,0),j},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(j,ne,q,He){switch(ne){case"s":return cr(qr_second,j);case"so":return q.ordinalNumber(j,{unit:"second"});default:return Yr(ne.length,j)}},validate:function(j,ne,q){return ne>=0&&ne<=59},set:function(j,ne,q,He){return j.setUTCSeconds(q,0),j},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(j,ne,q,He){return Yr(ne.length,j,function(nn){return Math.floor(nn*Math.pow(10,3-ne.length))})},set:function(j,ne,q,He){return j.setUTCMilliseconds(q),j},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(j,ne,q,He){switch(ne){case"X":return Xr(Pr_basicOptionalMinutes,j);case"XX":return Xr(Pr_basic,j);case"XXXX":return Xr(Pr_basicOptionalSeconds,j);case"XXXXX":return Xr(Pr_extendedOptionalSeconds,j);default:return Xr(Pr_extended,j)}},set:function(j,ne,q,He){return ne.timestampIsSet?j:new Date(j.getTime()-q)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(j,ne,q,He){switch(ne){case"x":return Xr(Pr_basicOptionalMinutes,j);case"xx":return Xr(Pr_basic,j);case"xxxx":return Xr(Pr_basicOptionalSeconds,j);case"xxxxx":return Xr(Pr_extendedOptionalSeconds,j);default:return Xr(Pr_extended,j)}},set:function(j,ne,q,He){return ne.timestampIsSet?j:new Date(j.getTime()-q)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(j,ne,q,He){return Bi(j)},set:function(j,ne,q,He){return[new Date(1e3*q),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(j,ne,q,He){return Bi(j)},set:function(j,ne,q,He){return[new Date(q),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var ri=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Do=/^'([^]*?)'?$/,wn=/''/g,ki=/\S/,no=/[a-zA-Z]/;function Xo(j,ne){if(ne.timestampIsSet)return j;var q=new Date(0);return q.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()),q.setHours(j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds()),q}function qe(j){return j.match(Do)[1].replace(wn,"'")}var No=I(315),Ia={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"}},ql={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"}};const vo=new x.OlP("nz-i18n"),Al=new x.OlP("nz-date-locale");let Wo=(()=>{class j{constructor(q,He){this._change=new G.X(this._locale),this.setLocale(q||ql),this.setDateLocale(He||null)}get localeChange(){return this._change.asObservable()}translate(q,He){let _t=this._getObjectPath(this._locale,q);return"string"==typeof _t?(He&&Object.keys(He).forEach(nn=>_t=_t.replace(new RegExp(`%${nn}%`,"g"),He[nn])),_t):q}setLocale(q){this._locale&&this._locale.locale===q.locale||(this._locale=q,this._change.next(q))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(q){this.dateLocale=q}getDateLocale(){return this.dateLocale}getLocaleData(q,He){const _t=q?this._getObjectPath(this._locale,q):this._locale;return!_t&&!He&&(0,z.ZK)(`Missing translations for "${q}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),_t||He||this._getObjectPath(Ia,q)||{}}_getObjectPath(q,He){let _t=q;const nn=He.split("."),tr=nn.length;let Jr=0;for(;_t&&Jr<tr;)_t=_t[nn[Jr++]];return Jr===tr?_t:null}}return j.\u0275fac=function(q){return new(q||j)(x.LFG(vo,8),x.LFG(Al,8))},j.\u0275prov=x.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),gs=(()=>{class j{constructor(q){this._locale=q}transform(q,He){return this._locale.translate(q,He)}}return j.\u0275fac=function(q){return new(q||j)(x.Y36(Wo,16))},j.\u0275pipe=x.Yjl({name:"nzI18n",type:j,pure:!0}),j})(),Oo=(()=>{class j{}return j.\u0275fac=function(q){return new(q||j)},j.\u0275mod=x.oAB({type:j}),j.\u0275inj=x.cJS({}),j})();const Na=new x.OlP("date-config"),Zo={firstDayOfWeek:void 0};let Qo=(()=>{class j{constructor(q,He){this.i18n=q,this.config=He,this.config=function qa(j){return Object.assign(Object.assign({},Zo),j)}(this.config)}}return j.\u0275fac=function(q){return new(q||j)(x.LFG(Wo),x.LFG(Na,8))},j.\u0275prov=x.Yz7({token:j,factory:function(q){let He=null;return He=q?new q:function Tc(j,ne){const q=j.get(Wo);return q.getDateLocale()?new co(q,ne):new vs(q,ne)}(x.LFG(x.zs3),x.LFG(Na,8)),He},providedIn:"root"}),j})();class co extends Qo{getISOWeek(ne){return function be(j){(0,ke.Z)(1,arguments);var ne=(0,Ee.Z)(j),q=Ae(ne).getTime()-Pe(ne).getTime();return Math.round(q/Oe)+1}(ne)}getFirstDayOfWeek(){let ne;try{ne=this.i18n.getDateLocale().options.weekStartsOn}catch(q){ne=1}return null==this.config.firstDayOfWeek?ne:this.config.firstDayOfWeek}format(ne,q){return ne?function zn(j,ne,q){(0,ke.Z)(2,arguments);var He=String(ne),_t=q||{},nn=_t.locale||ue,tr=nn.options&&nn.options.firstWeekContainsDate,Jr=null==tr?1:(0,Ye.Z)(tr),re=null==_t.firstWeekContainsDate?Jr:(0,Ye.Z)(_t.firstWeekContainsDate);if(!(re>=1&&re<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=nn.options&&nn.options.weekStartsOn,F=null==P?0:(0,Ye.Z)(P),K=null==_t.weekStartsOn?F:(0,Ye.Z)(_t.weekStartsOn);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!nn.localize)throw new RangeError("locale must contain localize property");if(!nn.formatLong)throw new RangeError("locale must contain formatLong property");var ge=(0,Ee.Z)(j);if(!(0,Xe.Z)(ge))throw new RangeError("Invalid time value");var Ge=(0,vr.Z)(ge),pt=Xt(ge,Ge),vt={firstWeekContainsDate:re,weekStartsOn:K,locale:nn,_originalDate:ge};return He.match(kt).map(function(Qt){var Gn=Qt[0];return"p"===Gn||"P"===Gn?(0,an[Gn])(Qt,nn.formatLong,vt):Qt}).join("").match(je).map(function(Qt){if("''"===Qt)return"'";var Gn=Qt[0];if("'"===Gn)return sr(Qt);var Bn=Bt[Gn];if(Bn)return!_t.useAdditionalWeekYearTokens&&Ke(Qt)&&ft(Qt,ne,j),!_t.useAdditionalDayOfYearTokens&&Ct(Qt)&&ft(Qt,ne,j),Bn(pt,Qt,nn.localize,vt);if(Gn.match(yn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Gn+"`");return Qt}).join("")}(ne,q,{locale:this.i18n.getDateLocale()}):""}parseDate(ne,q){return function Bo(j,ne,q,He){(0,ke.Z)(3,arguments);var _t=String(j),nn=String(ne),tr=He||{},Jr=tr.locale||ue;if(!Jr.match)throw new RangeError("locale must contain match property");var re=Jr.options&&Jr.options.firstWeekContainsDate,P=null==re?1:(0,Ye.Z)(re),F=null==tr.firstWeekContainsDate?P:(0,Ye.Z)(tr.firstWeekContainsDate);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=Jr.options&&Jr.options.weekStartsOn,ge=null==K?0:(0,Ye.Z)(K),Ge=null==tr.weekStartsOn?ge:(0,Ye.Z)(tr.weekStartsOn);if(!(Ge>=0&&Ge<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===nn)return""===_t?(0,Ee.Z)(q):new Date(NaN);var Ht,pt={firstWeekContainsDate:F,weekStartsOn:Ge,locale:Jr},vt=[{priority:10,subPriority:-1,set:Xo,index:0}],Qt=nn.match(xn).map(function(fi){var gi=fi[0];return"p"===gi||"P"===gi?(0,an[gi])(fi,Jr.formatLong,pt):fi}).join("").match(ri),Gn=[];for(Ht=0;Ht<Qt.length;Ht++){var Bn=Qt[Ht];!tr.useAdditionalWeekYearTokens&&Ke(Bn)&&ft(Bn,nn,j),!tr.useAdditionalDayOfYearTokens&&Ct(Bn)&&ft(Bn,nn,j);var mr=Bn[0],Wr=Go[mr];if(Wr){var Dr=Wr.incompatibleTokens;if(Array.isArray(Dr)){for(var Nr=void 0,ui=0;ui<Gn.length;ui++){var qi=Gn[ui].token;if(-1!==Dr.indexOf(qi)||qi===mr){Nr=Gn[ui];break}}if(Nr)throw new RangeError("The format string mustn't contain `".concat(Nr.fullToken,"` and `").concat(Bn,"` at the same time"))}else if("*"===Wr.incompatibleTokens&&Gn.length)throw new RangeError("The format string mustn't contain `".concat(Bn,"` and any other token at the same time"));Gn.push({token:mr,fullToken:Bn});var mo=Wr.parse(_t,Bn,Jr.match,pt);if(!mo)return new Date(NaN);vt.push({priority:Wr.priority,subPriority:Wr.subPriority||0,set:Wr.set,validate:Wr.validate,value:mo.value,index:vt.length}),_t=mo.rest}else{if(mr.match(no))throw new RangeError("Format string contains an unescaped latin alphabet character `"+mr+"`");if("''"===Bn?Bn="'":"'"===mr&&(Bn=qe(Bn)),0!==_t.indexOf(Bn))return new Date(NaN);_t=_t.slice(Bn.length)}}if(_t.length>0&&ki.test(_t))return new Date(NaN);var yo=vt.map(function(fi){return fi.priority}).sort(function(fi,gi){return gi-fi}).filter(function(fi,gi,ga){return ga.indexOf(fi)===gi}).map(function(fi){return vt.filter(function(gi){return gi.priority===fi}).sort(function(gi,ga){return ga.subPriority-gi.subPriority})}).map(function(fi){return fi[0]}),pi=(0,Ee.Z)(q);if(isNaN(pi))return new Date(NaN);var To=Xt(pi,(0,vr.Z)(pi)),Ci={};for(Ht=0;Ht<yo.length;Ht++){var Co=yo[Ht];if(Co.validate&&!Co.validate(To,Co.value,pt))return new Date(NaN);var fa=Co.set(To,Ci,Co.value,pt);fa[0]?(To=fa[0],Mr(Ci,fa[1])):To=fa}return To}(ne,q,new Date,{locale:this.i18n.getDateLocale(),weekStartsOn:this.getFirstDayOfWeek()})}parseTime(ne,q){return this.parseDate(ne,q)}}class vs extends Qo{getISOWeek(ne){return+this.format(ne,"w")}getFirstDayOfWeek(){if(void 0===this.config.firstDayOfWeek){const ne=this.i18n.getLocaleId();return ne&&["zh-cn","zh-tw"].indexOf(ne.toLowerCase())>-1?1:0}return this.config.firstDayOfWeek}format(ne,q){return ne?(0,Se.p6)(ne,q,this.i18n.getLocaleId()):""}parseDate(ne){return new Date(ne)}parseTime(ne,q){return new No.xR(q,this.i18n.getLocaleId()).toDate(ne)}}},3087:(Dn,ht,I)=>{I.d(ht,{Ls:()=>F0,PV:()=>e1});var x=I(925),G=I(5e3),z=I(655),Se=I(7579),Ee=I(188),Fe=I(2722),ke=I(9808);function Ae(Le,nt){(function Pe(Le){return"string"==typeof Le&&-1!==Le.indexOf(".")&&1===parseFloat(Le)})(Le)&&(Le="100%");var _e=function Oe(Le){return"string"==typeof Le&&-1!==Le.indexOf("%")}(Le);return Le=360===nt?Le:Math.min(nt,Math.max(0,parseFloat(Le))),_e&&(Le=parseInt(String(Le*nt),10)/100),Math.abs(Le-nt)<1e-6?1:Le=360===nt?(Le<0?Le%nt+nt:Le%nt)/parseFloat(String(nt)):Le%nt/parseFloat(String(nt))}function Ve(Le){return Math.min(1,Math.max(0,Le))}function be(Le){return Le=parseFloat(Le),(isNaN(Le)||Le<0||Le>1)&&(Le=1),Le}function Xe(Le){return Le<=1?100*Number(Le)+"%":Le}function Je(Le){return 1===Le.length?"0"+Le:String(Le)}function Lt(Le,nt,_e){Le=Ae(Le,255),nt=Ae(nt,255),_e=Ae(_e,255);var zt=Math.max(Le,nt,_e),on=Math.min(Le,nt,_e),Ln=0,$n=0,Tr=(zt+on)/2;if(zt===on)$n=0,Ln=0;else{var Gi=zt-on;switch($n=Tr>.5?Gi/(2-zt-on):Gi/(zt+on),zt){case Le:Ln=(nt-_e)/Gi+(nt<_e?6:0);break;case nt:Ln=(_e-Le)/Gi+2;break;case _e:Ln=(Le-nt)/Gi+4}Ln/=6}return{h:Ln,s:$n,l:Tr}}function ct(Le,nt,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?Le+6*_e*(nt-Le):_e<.5?nt:_e<2/3?Le+(nt-Le)*(2/3-_e)*6:Le}function On(Le,nt,_e){Le=Ae(Le,255),nt=Ae(nt,255),_e=Ae(_e,255);var zt=Math.max(Le,nt,_e),on=Math.min(Le,nt,_e),Ln=0,$n=zt,Tr=zt-on,Gi=0===zt?0:Tr/zt;if(zt===on)Ln=0;else{switch(zt){case Le:Ln=(nt-_e)/Tr+(nt<_e?6:0);break;case nt:Ln=(_e-Le)/Tr+2;break;case _e:Ln=(Le-nt)/Tr+4}Ln/=6}return{h:Ln,s:Gi,v:$n}}function Yt(Le,nt,_e,zt){var on=[Je(Math.round(Le).toString(16)),Je(Math.round(nt).toString(16)),Je(Math.round(_e).toString(16))];return zt&&on[0].startsWith(on[0].charAt(1))&&on[1].startsWith(on[1].charAt(1))&&on[2].startsWith(on[2].charAt(1))?on[0].charAt(0)+on[1].charAt(0)+on[2].charAt(0):on.join("")}function De(Le){return Math.round(255*parseFloat(Le)).toString(16)}function et(Le){return gt(Le)/255}function gt(Le){return parseInt(Le,16)}var mt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var ut="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",pn="[\\s|\\(]+("+ut+")[,|\\s]+("+ut+")[,|\\s]+("+ut+")\\s*\\)?",tt="[\\s|\\(]+("+ut+")[,|\\s]+("+ut+")[,|\\s]+("+ut+")[,|\\s]+("+ut+")\\s*\\)?",en={CSS_UNIT:new RegExp(ut),rgb:new RegExp("rgb"+pn),rgba:new RegExp("rgba"+tt),hsl:new RegExp("hsl"+pn),hsla:new RegExp("hsla"+tt),hsv:new RegExp("hsv"+pn),hsva:new RegExp("hsva"+tt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jt(Le){return Boolean(en.CSS_UNIT.exec(String(Le)))}var Hn=function(){function Le(nt,_e){var zt;if(void 0===nt&&(nt=""),void 0===_e&&(_e={}),nt instanceof Le)return nt;"number"==typeof nt&&(nt=function ze(Le){return{r:Le>>16,g:(65280&Le)>>8,b:255&Le}}(nt)),this.originalInput=nt;var on=function Ft(Le){var nt={r:0,g:0,b:0},_e=1,zt=null,on=null,Ln=null,$n=!1,Tr=!1;return"string"==typeof Le&&(Le=function xt(Le){if(0===(Le=Le.trim().toLowerCase()).length)return!1;var nt=!1;if(mt[Le])Le=mt[Le],nt=!0;else if("transparent"===Le)return{r:0,g:0,b:0,a:0,format:"name"};var _e=en.rgb.exec(Le);return _e?{r:_e[1],g:_e[2],b:_e[3]}:(_e=en.rgba.exec(Le))?{r:_e[1],g:_e[2],b:_e[3],a:_e[4]}:(_e=en.hsl.exec(Le))?{h:_e[1],s:_e[2],l:_e[3]}:(_e=en.hsla.exec(Le))?{h:_e[1],s:_e[2],l:_e[3],a:_e[4]}:(_e=en.hsv.exec(Le))?{h:_e[1],s:_e[2],v:_e[3]}:(_e=en.hsva.exec(Le))?{h:_e[1],s:_e[2],v:_e[3],a:_e[4]}:(_e=en.hex8.exec(Le))?{r:gt(_e[1]),g:gt(_e[2]),b:gt(_e[3]),a:et(_e[4]),format:nt?"name":"hex8"}:(_e=en.hex6.exec(Le))?{r:gt(_e[1]),g:gt(_e[2]),b:gt(_e[3]),format:nt?"name":"hex"}:(_e=en.hex4.exec(Le))?{r:gt(_e[1]+_e[1]),g:gt(_e[2]+_e[2]),b:gt(_e[3]+_e[3]),a:et(_e[4]+_e[4]),format:nt?"name":"hex8"}:!!(_e=en.hex3.exec(Le))&&{r:gt(_e[1]+_e[1]),g:gt(_e[2]+_e[2]),b:gt(_e[3]+_e[3]),format:nt?"name":"hex"}}(Le)),"object"==typeof Le&&(jt(Le.r)&&jt(Le.g)&&jt(Le.b)?(nt=function lt(Le,nt,_e){return{r:255*Ae(Le,255),g:255*Ae(nt,255),b:255*Ae(_e,255)}}(Le.r,Le.g,Le.b),$n=!0,Tr="%"===String(Le.r).substr(-1)?"prgb":"rgb"):jt(Le.h)&&jt(Le.s)&&jt(Le.v)?(zt=Xe(Le.s),on=Xe(Le.v),nt=function w(Le,nt,_e){Le=6*Ae(Le,360),nt=Ae(nt,100),_e=Ae(_e,100);var zt=Math.floor(Le),on=Le-zt,Ln=_e*(1-nt),$n=_e*(1-on*nt),Tr=_e*(1-(1-on)*nt),Gi=zt%6;return{r:255*[_e,$n,Ln,Ln,Tr,_e][Gi],g:255*[Tr,_e,_e,$n,Ln,Ln][Gi],b:255*[Ln,Ln,Tr,_e,_e,$n][Gi]}}(Le.h,zt,on),$n=!0,Tr="hsv"):jt(Le.h)&&jt(Le.s)&&jt(Le.l)&&(zt=Xe(Le.s),Ln=Xe(Le.l),nt=function Jt(Le,nt,_e){var zt,on,Ln;if(Le=Ae(Le,360),nt=Ae(nt,100),_e=Ae(_e,100),0===nt)on=_e,Ln=_e,zt=_e;else{var $n=_e<.5?_e*(1+nt):_e+nt-_e*nt,Tr=2*_e-$n;zt=ct(Tr,$n,Le+1/3),on=ct(Tr,$n,Le),Ln=ct(Tr,$n,Le-1/3)}return{r:255*zt,g:255*on,b:255*Ln}}(Le.h,zt,Ln),$n=!0,Tr="hsl"),Object.prototype.hasOwnProperty.call(Le,"a")&&(_e=Le.a)),_e=be(_e),{ok:$n,format:Le.format||Tr,r:Math.min(255,Math.max(nt.r,0)),g:Math.min(255,Math.max(nt.g,0)),b:Math.min(255,Math.max(nt.b,0)),a:_e}}(nt);this.originalInput=nt,this.r=on.r,this.g=on.g,this.b=on.b,this.a=on.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(zt=_e.format)&&void 0!==zt?zt:on.format,this.gradientType=_e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=on.ok}return Le.prototype.isDark=function(){return this.getBrightness()<128},Le.prototype.isLight=function(){return!this.isDark()},Le.prototype.getBrightness=function(){var nt=this.toRgb();return(299*nt.r+587*nt.g+114*nt.b)/1e3},Le.prototype.getLuminance=function(){var nt=this.toRgb(),Ln=nt.r/255,$n=nt.g/255,Tr=nt.b/255;return.2126*(Ln<=.03928?Ln/12.92:Math.pow((Ln+.055)/1.055,2.4))+.7152*($n<=.03928?$n/12.92:Math.pow(($n+.055)/1.055,2.4))+.0722*(Tr<=.03928?Tr/12.92:Math.pow((Tr+.055)/1.055,2.4))},Le.prototype.getAlpha=function(){return this.a},Le.prototype.setAlpha=function(nt){return this.a=be(nt),this.roundA=Math.round(100*this.a)/100,this},Le.prototype.toHsv=function(){var nt=On(this.r,this.g,this.b);return{h:360*nt.h,s:nt.s,v:nt.v,a:this.a}},Le.prototype.toHsvString=function(){var nt=On(this.r,this.g,this.b),_e=Math.round(360*nt.h),zt=Math.round(100*nt.s),on=Math.round(100*nt.v);return 1===this.a?"hsv("+_e+", "+zt+"%, "+on+"%)":"hsva("+_e+", "+zt+"%, "+on+"%, "+this.roundA+")"},Le.prototype.toHsl=function(){var nt=Lt(this.r,this.g,this.b);return{h:360*nt.h,s:nt.s,l:nt.l,a:this.a}},Le.prototype.toHslString=function(){var nt=Lt(this.r,this.g,this.b),_e=Math.round(360*nt.h),zt=Math.round(100*nt.s),on=Math.round(100*nt.l);return 1===this.a?"hsl("+_e+", "+zt+"%, "+on+"%)":"hsla("+_e+", "+zt+"%, "+on+"%, "+this.roundA+")"},Le.prototype.toHex=function(nt){return void 0===nt&&(nt=!1),Yt(this.r,this.g,this.b,nt)},Le.prototype.toHexString=function(nt){return void 0===nt&&(nt=!1),"#"+this.toHex(nt)},Le.prototype.toHex8=function(nt){return void 0===nt&&(nt=!1),function se(Le,nt,_e,zt,on){var Ln=[Je(Math.round(Le).toString(16)),Je(Math.round(nt).toString(16)),Je(Math.round(_e).toString(16)),Je(De(zt))];return on&&Ln[0].startsWith(Ln[0].charAt(1))&&Ln[1].startsWith(Ln[1].charAt(1))&&Ln[2].startsWith(Ln[2].charAt(1))&&Ln[3].startsWith(Ln[3].charAt(1))?Ln[0].charAt(0)+Ln[1].charAt(0)+Ln[2].charAt(0)+Ln[3].charAt(0):Ln.join("")}(this.r,this.g,this.b,this.a,nt)},Le.prototype.toHex8String=function(nt){return void 0===nt&&(nt=!1),"#"+this.toHex8(nt)},Le.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},Le.prototype.toRgbString=function(){var nt=Math.round(this.r),_e=Math.round(this.g),zt=Math.round(this.b);return 1===this.a?"rgb("+nt+", "+_e+", "+zt+")":"rgba("+nt+", "+_e+", "+zt+", "+this.roundA+")"},Le.prototype.toPercentageRgb=function(){var nt=function(_e){return Math.round(100*Ae(_e,255))+"%"};return{r:nt(this.r),g:nt(this.g),b:nt(this.b),a:this.a}},Le.prototype.toPercentageRgbString=function(){var nt=function(_e){return Math.round(100*Ae(_e,255))};return 1===this.a?"rgb("+nt(this.r)+"%, "+nt(this.g)+"%, "+nt(this.b)+"%)":"rgba("+nt(this.r)+"%, "+nt(this.g)+"%, "+nt(this.b)+"%, "+this.roundA+")"},Le.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var nt="#"+Yt(this.r,this.g,this.b,!1),_e=0,zt=Object.entries(mt);_e<zt.length;_e++){var on=zt[_e];if(nt===on[1])return on[0]}return!1},Le.prototype.toString=function(nt){var _e=Boolean(nt);nt=null!=nt?nt:this.format;var zt=!1;return!_e&&this.a<1&&this.a>=0&&(nt.startsWith("hex")||"name"===nt)?"name"===nt&&0===this.a?this.toName():this.toRgbString():("rgb"===nt&&(zt=this.toRgbString()),"prgb"===nt&&(zt=this.toPercentageRgbString()),("hex"===nt||"hex6"===nt)&&(zt=this.toHexString()),"hex3"===nt&&(zt=this.toHexString(!0)),"hex4"===nt&&(zt=this.toHex8String(!0)),"hex8"===nt&&(zt=this.toHex8String()),"name"===nt&&(zt=this.toName()),"hsl"===nt&&(zt=this.toHslString()),"hsv"===nt&&(zt=this.toHsvString()),zt||this.toHexString())},Le.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},Le.prototype.clone=function(){return new Le(this.toString())},Le.prototype.lighten=function(nt){void 0===nt&&(nt=10);var _e=this.toHsl();return _e.l+=nt/100,_e.l=Ve(_e.l),new Le(_e)},Le.prototype.brighten=function(nt){void 0===nt&&(nt=10);var _e=this.toRgb();return _e.r=Math.max(0,Math.min(255,_e.r-Math.round(-nt/100*255))),_e.g=Math.max(0,Math.min(255,_e.g-Math.round(-nt/100*255))),_e.b=Math.max(0,Math.min(255,_e.b-Math.round(-nt/100*255))),new Le(_e)},Le.prototype.darken=function(nt){void 0===nt&&(nt=10);var _e=this.toHsl();return _e.l-=nt/100,_e.l=Ve(_e.l),new Le(_e)},Le.prototype.tint=function(nt){return void 0===nt&&(nt=10),this.mix("white",nt)},Le.prototype.shade=function(nt){return void 0===nt&&(nt=10),this.mix("black",nt)},Le.prototype.desaturate=function(nt){void 0===nt&&(nt=10);var _e=this.toHsl();return _e.s-=nt/100,_e.s=Ve(_e.s),new Le(_e)},Le.prototype.saturate=function(nt){void 0===nt&&(nt=10);var _e=this.toHsl();return _e.s+=nt/100,_e.s=Ve(_e.s),new Le(_e)},Le.prototype.greyscale=function(){return this.desaturate(100)},Le.prototype.spin=function(nt){var _e=this.toHsl(),zt=(_e.h+nt)%360;return _e.h=zt<0?360+zt:zt,new Le(_e)},Le.prototype.mix=function(nt,_e){void 0===_e&&(_e=50);var zt=this.toRgb(),on=new Le(nt).toRgb(),Ln=_e/100;return new Le({r:(on.r-zt.r)*Ln+zt.r,g:(on.g-zt.g)*Ln+zt.g,b:(on.b-zt.b)*Ln+zt.b,a:(on.a-zt.a)*Ln+zt.a})},Le.prototype.analogous=function(nt,_e){void 0===nt&&(nt=6),void 0===_e&&(_e=30);var zt=this.toHsl(),on=360/_e,Ln=[this];for(zt.h=(zt.h-(on*nt>>1)+720)%360;--nt;)zt.h=(zt.h+on)%360,Ln.push(new Le(zt));return Ln},Le.prototype.complement=function(){var nt=this.toHsl();return nt.h=(nt.h+180)%360,new Le(nt)},Le.prototype.monochromatic=function(nt){void 0===nt&&(nt=6);for(var _e=this.toHsv(),zt=_e.h,on=_e.s,Ln=_e.v,$n=[],Tr=1/nt;nt--;)$n.push(new Le({h:zt,s:on,v:Ln})),Ln=(Ln+Tr)%1;return $n},Le.prototype.splitcomplement=function(){var nt=this.toHsl(),_e=nt.h;return[this,new Le({h:(_e+72)%360,s:nt.s,l:nt.l}),new Le({h:(_e+216)%360,s:nt.s,l:nt.l})]},Le.prototype.onBackground=function(nt){var _e=this.toRgb(),zt=new Le(nt).toRgb();return new Le({r:zt.r+(_e.r-zt.r)*_e.a,g:zt.g+(_e.g-zt.g)*_e.a,b:zt.b+(_e.b-zt.b)*_e.a})},Le.prototype.triad=function(){return this.polyad(3)},Le.prototype.tetrad=function(){return this.polyad(4)},Le.prototype.polyad=function(nt){for(var _e=this.toHsl(),zt=_e.h,on=[this],Ln=360/nt,$n=1;$n<nt;$n++)on.push(new Le({h:(zt+$n*Ln)%360,s:_e.s,l:_e.l}));return on},Le.prototype.equals=function(nt){return this.toRgbString()===new Le(nt).toRgbString()},Le}(),Ui=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function rr(Le,nt,_e){var zt;return(zt=Math.round(Le.h)>=60&&Math.round(Le.h)<=240?_e?Math.round(Le.h)-2*nt:Math.round(Le.h)+2*nt:_e?Math.round(Le.h)+2*nt:Math.round(Le.h)-2*nt)<0?zt+=360:zt>=360&&(zt-=360),zt}function pr(Le,nt,_e){return 0===Le.h&&0===Le.s?Le.s:((zt=_e?Le.s-.16*nt:4===nt?Le.s+.16:Le.s+.05*nt)>1&&(zt=1),_e&&5===nt&&zt>.1&&(zt=.1),zt<.06&&(zt=.06),Number(zt.toFixed(2)));var zt}function Mi(Le,nt,_e){var zt;return(zt=_e?Le.v+.05*nt:Le.v-.15*nt)>1&&(zt=1),Number(zt.toFixed(2))}function mi(Le){for(var nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=[],zt=new Hn(Le),on=5;on>0;on-=1){var Ln=zt.toHsv(),$n=new Hn({h:rr(Ln,on,!0),s:pr(Ln,on,!0),v:Mi(Ln,on,!0)}).toHexString();_e.push($n)}_e.push(zt.toHexString());for(var Tr=1;Tr<=4;Tr+=1){var Gi=zt.toHsv(),Ms=new Hn({h:rr(Gi,Tr),s:pr(Gi,Tr),v:Mi(Gi,Tr)}).toHexString();_e.push(Ms)}return"dark"===nt.theme?Ui.map(function(vd){var $s=vd.index,fo=vd.opacity;return new Hn(nt.backgroundColor||"#141414").mix(_e[$s],100*fo).toHexString()}):_e}var ao={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kn={},qt={};Object.keys(ao).forEach(function(Le){Kn[Le]=mi(ao[Le]),Kn[Le].primary=Kn[Le][5],qt[Le]=mi(ao[Le],{theme:"dark",backgroundColor:"#141414"}),qt[Le].primary=qt[Le][5]});var Tn=I(520),ar=I(9646),br=I(8306),Vt=I(4004),fn=I(8505),mn=I(8746),oe=I(262),er=I(3099),Lr=I(9300),Er=I(5698),dr=I(2313);const Bt="[@ant-design/icons-angular]:";function Be(Le){(0,G.X6Q)()&&console.warn(`${Bt} ${Le}.`)}function xe(Le){return mi(Le)[0]}function Nt(Le,nt){switch(nt){case"fill":return`${Le}-fill`;case"outline":return`${Le}-o`;case"twotone":return`${Le}-twotone`;case void 0:return Le;default:throw new Error(`${Bt}Theme "${nt}" is not a recognized theme!`)}}function Dt(Le){return"object"==typeof Le&&"string"==typeof Le.name&&("string"==typeof Le.theme||void 0===Le.theme)&&"string"==typeof Le.icon}function je(Le){const nt=Le.split(":");switch(nt.length){case 1:return[Le,""];case 2:return[nt[1],nt[0]];default:throw new Error(`${Bt}The icon type ${Le} is not valid!`)}}function St(Le){return new Error(`${Bt}the icon ${Le} does not exist or is not registered.`)}function sr(){return new Error(`${Bt}<svg> tag not found.`)}const Pi=new G.OlP("ant_icons");let $r=(()=>{class Le{constructor(_e,zt,on,Ln,$n){this._rendererFactory=_e,this._handler=zt,this._document=on,this.sanitizer=Ln,this._antIcons=$n,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Se.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Tn.eN(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:_e,secondaryColor:zt}){this._twoToneColorPalette.primaryColor=_e,this._twoToneColorPalette.secondaryColor=zt||xe(_e)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?Be("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=_e=>{this._jsonpIconLoad$.next(_e)})}changeAssetsSource(_e){this._assetsUrlRoot=_e.endsWith("/")?_e:_e+"/"}addIcon(..._e){_e.forEach(zt=>{this._svgDefinitions.set(Nt(zt.name,zt.theme),zt)})}addIconLiteral(_e,zt){const[on,Ln]=je(_e);if(!Ln)throw function pe(){return new Error(`${Bt}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:_e,icon:zt})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(_e,zt){const on=Dt(_e)?_e:this._svgDefinitions.get(_e)||null;if(!on&&this._disableDynamicLoading)throw St(_e);return(on?(0,ar.of)(on):this._loadIconDynamically(_e)).pipe((0,Vt.U)($n=>{if(!$n)throw St(_e);return this._loadSVGFromCacheOrCreateNew($n,zt)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(_e){if(!this._http&&!this._enableJsonpLoading)return(0,ar.of)(function yn(){return function wt(Le){console.error(`${Bt} ${Le}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let zt=this._inProgressFetches.get(_e);if(!zt){const[on,Ln]=je(_e),$n=Ln?{name:_e,icon:""}:function Ct(Le){const nt=Le.split("-"),_e=function vr(Le){return"o"===Le?"outline":Le}(nt.splice(nt.length-1,1)[0]);return{name:nt.join("-"),theme:_e,icon:""}}(on),Gi=(Ln?`${this._assetsUrlRoot}assets/${Ln}/${on}`:`${this._assetsUrlRoot}assets/${$n.theme}/${$n.name}`)+(this._enableJsonpLoading?".js":".svg"),Ms=this.sanitizer.sanitize(G.q3G.URL,Gi);if(!Ms)throw function zn(Le){return new Error(`${Bt}The url "${Le}" is unsafe.`)}(Gi);zt=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp($n,Ms):this._http.get(Ms,{responseType:"text"}).pipe((0,Vt.U)($s=>Object.assign(Object.assign({},$n),{icon:$s})))).pipe((0,fn.b)($s=>this.addIcon($s)),(0,mn.x)(()=>this._inProgressFetches.delete(_e)),(0,oe.K)(()=>(0,ar.of)(null)),(0,er.B)()),this._inProgressFetches.set(_e,zt)}return zt}_loadIconDynamicallyWithJsonp(_e,zt){return new br.y(on=>{const Ln=this._document.createElement("script"),$n=setTimeout(()=>{Tr(),on.error(function Mr(){return new Error(`${Bt}Importing timeout error.`)}())},6e3);function Tr(){Ln.parentNode.removeChild(Ln),clearTimeout($n)}Ln.src=zt,this._document.body.appendChild(Ln),this._jsonpIconLoad$.pipe((0,Lr.h)(Gi=>Gi.name===_e.name&&Gi.theme===_e.theme),(0,Er.q)(1)).subscribe(Gi=>{on.next(Gi),Tr()})})}_loadSVGFromCacheOrCreateNew(_e,zt){let on;const Ln=zt||this._twoToneColorPalette.primaryColor,$n=xe(Ln)||this._twoToneColorPalette.secondaryColor,Tr="twotone"===_e.theme?function an(Le,nt,_e,zt){return`${Nt(Le,nt)}-${_e}-${zt}`}(_e.name,_e.theme,Ln,$n):void 0===_e.theme?_e.name:Nt(_e.name,_e.theme),Gi=this._svgRenderedDefinitions.get(Tr);return Gi?on=Gi.icon:(on=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function kt(Le){return""!==je(Le)[1]}(_e.name)?_e.icon:function ft(Le){return Le.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(_e.icon)),"twotone"===_e.theme,Ln,$n)),this._svgRenderedDefinitions.set(Tr,Object.assign(Object.assign({},_e),{icon:on}))),function Ke(Le){return Le.cloneNode(!0)}(on)}_createSVGElementFromString(_e){const zt=this._document.createElement("div");zt.innerHTML=_e;const on=zt.querySelector("svg");if(!on)throw sr;return on}_setSVGAttribute(_e){return this._renderer.setAttribute(_e,"width","1em"),this._renderer.setAttribute(_e,"height","1em"),_e}_colorizeSVGIcon(_e,zt,on,Ln){if(zt){const $n=_e.childNodes,Tr=$n.length;for(let Gi=0;Gi<Tr;Gi++){const Ms=$n[Gi];"secondaryColor"===Ms.getAttribute("fill")?this._renderer.setAttribute(Ms,"fill",Ln):this._renderer.setAttribute(Ms,"fill",on)}}return this._renderer.setAttribute(_e,"fill","currentColor"),_e}}return Le.\u0275fac=function(_e){return new(_e||Le)(G.LFG(G.FYo),G.LFG(Tn.jN,8),G.LFG(ke.K0,8),G.LFG(dr.H7),G.LFG(Pi,8))},Le.\u0275prov=G.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),Rr=(()=>{class Le{constructor(_e,zt,on){this._iconService=_e,this._elementRef=zt,this._renderer=on}ngOnChanges(_e){(_e.type||_e.theme||_e.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(_e=>{if(!this.type)return this._clearSVGElement(),void _e(null);const zt=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(on=>{const Ln=this._getSelfRenderMeta();!function Vn(Le,nt){return Le.type===nt.type&&Le.theme===nt.theme&&Le.twoToneColor===nt.twoToneColor}(zt,Ln)?_e(null):(this._setSVGElement(on),_e(on))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(_e,zt){if(Dt(_e))return _e;{const[on,Ln]=je(_e);return Ln?_e:function hr(Le){return Le.endsWith("-fill")||Le.endsWith("-o")||Le.endsWith("-twotone")}(on)?(zt&&Be(`'type' ${on} already gets a theme inside so 'theme' ${zt} would be ignored`),on):Nt(on,zt||this._iconService.defaultTheme)}}_setSVGElement(_e){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,_e)}_clearSVGElement(){var _e;const zt=this._elementRef.nativeElement,on=zt.childNodes;for(let $n=on.length-1;$n>=0;$n--){const Tr=on[$n];"svg"===(null===(_e=Tr.tagName)||void 0===_e?void 0:_e.toLowerCase())&&this._renderer.removeChild(zt,Tr)}}}return Le.\u0275fac=function(_e){return new(_e||Le)(G.Y36($r),G.Y36(G.SBq),G.Y36(G.Qsj))},Le.\u0275dir=G.lG2({type:Le,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[G.TTD]}),Le})();var qr=I(6947),Pr=I(1721);const Os={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var rv=I(9439);const bp=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},Os,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},Os,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],mu=new G.OlP("nz_icons"),hh=(new G.OlP("nz_icon_default_twotone_color"),"#1890ff");let Jf=(()=>{class Le extends $r{constructor(_e,zt,on,Ln,$n,Tr,Gi){super(_e,$n,Tr,zt,[...bp,...Gi||[]]),this.nzConfigService=on,this.platform=Ln,this.configUpdated$=new Se.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(_e){_e.getAttribute("viewBox")||this._renderer.setAttribute(_e,"viewBox","0 0 1024 1024"),(!_e.getAttribute("width")||!_e.getAttribute("height"))&&(this._renderer.setAttribute(_e,"width","1em"),this._renderer.setAttribute(_e,"height","1em")),_e.getAttribute("fill")||this._renderer.setAttribute(_e,"fill","currentColor")}fetchFromIconfont(_e){const{scriptUrl:zt}=_e;if(this._document&&!this.iconfontCache.has(zt)){const on=this._renderer.createElement("script");this._renderer.setAttribute(on,"src",zt),this._renderer.setAttribute(on,"data-namespace",zt.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,on),this.iconfontCache.add(zt)}}createIconfontIcon(_e){return this._createSVGElementFromString(`<svg><use xlink:href="${_e}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const _e=this.getConfig();this.defaultTheme=_e.nzTheme||"outline"}configDefaultTwotoneColor(){const zt=this.getConfig().nzTwotoneColor||hh;let on=hh;zt&&(zt.startsWith("#")?on=zt:(0,qr.ZK)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:on}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return Le.\u0275fac=function(_e){return new(_e||Le)(G.LFG(G.FYo),G.LFG(dr.H7),G.LFG(rv.jY),G.LFG(x.t4),G.LFG(Tn.jN,8),G.LFG(ke.K0,8),G.LFG(mu,8))},Le.\u0275prov=G.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const iv=new G.OlP("nz_icons_patch");let Ep=(()=>{class Le{constructor(_e,zt){this.extraIcons=_e,this.rootIconService=zt,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(_e=>this.rootIconService.addIcon(_e)),this.patched=!0)}}return Le.\u0275fac=function(_e){return new(_e||Le)(G.LFG(iv,2),G.LFG(Jf))},Le.\u0275prov=G.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),F0=(()=>{class Le extends Rr{constructor(_e,zt,on,Ln,$n,Tr){super(Ln,on,$n),this.ngZone=_e,this.changeDetectorRef=zt,this.iconService=Ln,this.renderer=$n,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new Se.x,Tr&&Tr.doPatch(),this.el=on.nativeElement}set nzSpin(_e){this.spin=_e}set nzType(_e){this.type=_e}set nzTheme(_e){this.theme=_e}set nzTwotoneColor(_e){this.twoToneColor=_e}set nzIconfont(_e){this.iconfont=_e}ngOnChanges(_e){const{nzType:zt,nzTwotoneColor:on,nzSpin:Ln,nzTheme:$n,nzRotate:Tr}=_e;zt||on||Ln||$n?this.changeIcon2():Tr?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const _e=this.el.children;let zt=_e.length;if(!this.type&&_e.length)for(;zt--;){const on=_e[zt];"svg"===on.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(on)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,Ee.D)(this._changeIcon()).pipe((0,Fe.R)(this.destroy$)).subscribe({next:_e=>{this.changeDetectorRef.detectChanges(),_e&&(this.setSVGData(_e),this.handleSpin(_e),this.handleRotate(_e))},error:qr.ZK})})}handleSpin(_e){this.spin||"loading"===this.type?this.renderer.addClass(_e,"anticon-spin"):this.renderer.removeClass(_e,"anticon-spin")}handleRotate(_e){this.nzRotate?this.renderer.setAttribute(_e,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(_e,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(_e){this.renderer.setAttribute(_e,"data-icon",this.type),this.renderer.setAttribute(_e,"aria-hidden","true")}}return Le.\u0275fac=function(_e){return new(_e||Le)(G.Y36(G.R0b),G.Y36(G.sBO),G.Y36(G.SBq),G.Y36(Jf),G.Y36(G.Qsj),G.Y36(Ep,8))},Le.\u0275dir=G.lG2({type:Le,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(_e,zt){2&_e&&G.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[G.qOj,G.TTD]}),(0,z.gn)([(0,Pr.yF)()],Le.prototype,"nzSpin",null),Le})(),e1=(()=>{class Le{static forRoot(_e){return{ngModule:Le,providers:[{provide:mu,useValue:_e}]}}static forChild(_e){return{ngModule:Le,providers:[Ep,{provide:iv,useValue:_e}]}}}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275mod=G.oAB({type:Le}),Le.\u0275inj=G.cJS({imports:[[x.ud]]}),Le})()},9727:(Dn,ht,I)=>{I.d(ht,{dD:()=>ut,gR:()=>pn});var x=I(7429),G=I(5e3),z=I(7579),Se=I(9300),Ee=I(5698),Fe=I(2722),ke=I(9439),Ae=I(1721),Ve=I(8076),Pe=I(9808),Oe=I(3087),be=I(969),Xe=I(4090),Je=I(1314),lt=I(226);function Lt(tt,en){1&tt&&G._UZ(0,"i",10)}function ct(tt,en){1&tt&&G._UZ(0,"i",11)}function Jt(tt,en){1&tt&&G._UZ(0,"i",12)}function On(tt,en){1&tt&&G._UZ(0,"i",13)}function w(tt,en){1&tt&&G._UZ(0,"i",14)}function Yt(tt,en){if(1&tt&&(G.ynx(0),G._UZ(1,"span",15),G.BQk()),2&tt){const xt=G.oxw();G.xp6(1),G.Q6J("innerHTML",xt.instance.content,G.oJD)}}function se(tt,en){if(1&tt){const xt=G.EpF();G.TgZ(0,"nz-message",2),G.NdJ("destroyed",function(Hn){return G.CHM(xt),G.oxw().remove(Hn.id,Hn.userAction)}),G.qZA()}2&tt&&G.Q6J("instance",en.$implicit)}let ot=0,et=(()=>{class tt{constructor(xt,jt){this.cdr=xt,this.nzConfigService=jt,this.instances=[],this.destroy$=new z.x,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(xt){const jt=this.onCreate(xt);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,jt],this.readyInstances(),jt}remove(xt,jt=!1){this.instances.some((Hn,or)=>Hn.messageId===xt&&(this.instances.splice(or,1),this.instances=[...this.instances],this.onRemove(Hn,jt),this.readyInstances(),!0))}removeAll(){this.instances.forEach(xt=>this.onRemove(xt,!1)),this.instances=[],this.readyInstances()}onCreate(xt){return xt.options=this.mergeOptions(xt.options),xt.onClose=new z.x,xt}onRemove(xt,jt){xt.onClose.next(jt),xt.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(xt){const{nzDuration:jt,nzAnimate:Hn,nzPauseOnHover:or}=this.config;return Object.assign({nzDuration:jt,nzAnimate:Hn,nzPauseOnHover:or},xt)}}return tt.\u0275fac=function(xt){return new(xt||tt)(G.Y36(G.sBO),G.Y36(ke.jY))},tt.\u0275dir=G.lG2({type:tt}),tt})(),gt=(()=>{class tt{constructor(xt){this.cdr=xt,this.destroyed=new G.vpe,this.animationStateChanged=new z.x,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,Se.h)(xt=>"done"===xt.phaseName&&"leave"===xt.toState),(0,Ee.q)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(xt=!1){this.userAction=xt,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:xt})},200)):this.destroyed.next({id:this.instance.messageId,userAction:xt})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return tt.\u0275fac=function(xt){return new(xt||tt)(G.Y36(G.sBO))},tt.\u0275dir=G.lG2({type:tt}),tt})(),ze=(()=>{class tt extends gt{constructor(xt){super(xt),this.destroyed=new G.vpe}}return tt.\u0275fac=function(xt){return new(xt||tt)(G.Y36(G.sBO))},tt.\u0275cmp=G.Xpm({type:tt,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[G.qOj],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(xt,jt){1&xt&&(G.TgZ(0,"div",0),G.NdJ("@moveUpMotion.done",function(or){return jt.animationStateChanged.next(or)})("mouseenter",function(){return jt.onEnter()})("mouseleave",function(){return jt.onLeave()}),G.TgZ(1,"div",1)(2,"div",2),G.ynx(3,3),G.YNc(4,Lt,1,0,"i",4),G.YNc(5,ct,1,0,"i",5),G.YNc(6,Jt,1,0,"i",6),G.YNc(7,On,1,0,"i",7),G.YNc(8,w,1,0,"i",8),G.BQk(),G.YNc(9,Yt,2,1,"ng-container",9),G.qZA()()()),2&xt&&(G.Q6J("@moveUpMotion",jt.instance.state),G.xp6(2),G.Q6J("ngClass","ant-message-"+jt.instance.type),G.xp6(1),G.Q6J("ngSwitch",jt.instance.type),G.xp6(1),G.Q6J("ngSwitchCase","success"),G.xp6(1),G.Q6J("ngSwitchCase","info"),G.xp6(1),G.Q6J("ngSwitchCase","warning"),G.xp6(1),G.Q6J("ngSwitchCase","error"),G.xp6(1),G.Q6J("ngSwitchCase","loading"),G.xp6(1),G.Q6J("nzStringTemplateOutlet",jt.instance.content))},directives:[Pe.mk,Pe.RF,Pe.n9,Oe.Ls,be.f],encapsulation:2,data:{animation:[Ve.YK]},changeDetection:0}),tt})();const mt="message",Ft={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let It=(()=>{class tt extends et{constructor(xt,jt){super(xt,jt),this.dir="ltr";const Hn=this.nzConfigService.getConfigForComponent(mt);this.dir=(null==Hn?void 0:Hn.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(mt).pipe((0,Fe.R)(this.destroy$)).subscribe(()=>{this.updateConfig();const xt=this.nzConfigService.getConfigForComponent(mt);if(xt){const{nzDirection:jt}=xt;this.dir=jt||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},Ft),this.config),this.nzConfigService.getConfigForComponent(mt)),this.top=(0,Ae.WX)(this.config.nzTop),this.cdr.markForCheck()}}return tt.\u0275fac=function(xt){return new(xt||tt)(G.Y36(G.sBO),G.Y36(ke.jY))},tt.\u0275cmp=G.Xpm({type:tt,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[G.qOj],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(xt,jt){1&xt&&(G.TgZ(0,"div",0),G.YNc(1,se,1,1,"nz-message",1),G.qZA()),2&xt&&(G.Udp("top",jt.top),G.ekj("ant-message-rtl","rtl"===jt.dir),G.xp6(1),G.Q6J("ngForOf",jt.instances))},directives:[ze,Pe.sg],encapsulation:2,changeDetection:0}),tt})(),$t=(()=>{class tt{}return tt.\u0275fac=function(xt){return new(xt||tt)},tt.\u0275mod=G.oAB({type:tt}),tt.\u0275inj=G.cJS({}),tt})(),ut=(()=>{class tt extends class De{constructor(en,xt,jt){this.nzSingletonService=en,this.overlay=xt,this.injector=jt}remove(en){this.container&&(en?this.container.remove(en):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${ot++}`}withContainer(en){let xt=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(xt)return xt;const jt=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),Hn=new x.C5(en,null,this.injector),or=jt.attach(Hn);return jt.overlayElement.style.zIndex="1010",xt||(this.container=xt=or.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,xt)),xt}}{constructor(xt,jt,Hn){super(xt,jt,Hn),this.componentPrefix="message-"}success(xt,jt){return this.createInstance({type:"success",content:xt},jt)}error(xt,jt){return this.createInstance({type:"error",content:xt},jt)}info(xt,jt){return this.createInstance({type:"info",content:xt},jt)}warning(xt,jt){return this.createInstance({type:"warning",content:xt},jt)}loading(xt,jt){return this.createInstance({type:"loading",content:xt},jt)}create(xt,jt,Hn){return this.createInstance({type:xt,content:jt},Hn)}createInstance(xt,jt){return this.container=this.withContainer(It),this.container.create(Object.assign(Object.assign({},xt),{createdAt:new Date,messageId:this.getInstanceId(),options:jt}))}}return tt.\u0275fac=function(xt){return new(xt||tt)(G.LFG(Xe.KV),G.LFG(Je.aV),G.LFG(G.zs3))},tt.\u0275prov=G.Yz7({token:tt,factory:tt.\u0275fac,providedIn:$t}),tt})(),pn=(()=>{class tt{}return tt.\u0275fac=function(xt){return new(xt||tt)},tt.\u0275mod=G.oAB({type:tt}),tt.\u0275inj=G.cJS({imports:[[lt.vT,Pe.ez,Je.U8,Oe.PV,be.T,$t]]}),tt})()},7957:(Dn,ht,I)=>{I.d(ht,{Qp:()=>Ke,Lf:()=>Nt,Sf:()=>an});var x=I(1314),G=I(7429),z=I(5e3),Se=I(7579),Ee=I(4968),Fe=I(9770),ke=I(2722),Ae=I(9300),Ve=I(5698),Pe=I(8675),Oe=I(6947),be=I(1721),Xe=I(9808),Je=I(6360),lt=I(1777),Lt=I(5911),ct=I(9439),Jt=I(7904),On=I(969),w=I(2683),Yt=I(3087),se=I(6042),ot=I(2643);I(2313);class gt{transform(kt,pe=0,St="B",yn){if(!((0,be.ui)(kt)&&(0,be.ui)(pe)&&pe%1==0&&pe>=0))return kt;let zn=kt,sr=St;for(;"B"!==sr;)zn*=1024,sr=gt.formats[sr].prev;if(yn){const Br=(0,be.YM)(gt.calculateResult(gt.formats[yn],zn),pe);return gt.formatResult(Br,yn)}for(const Mr in gt.formats)if(gt.formats.hasOwnProperty(Mr)){const Br=gt.formats[Mr];if(zn<Br.max){const Pi=(0,be.YM)(gt.calculateResult(Br,zn),pe);return gt.formatResult(Pi,Mr)}}}static formatResult(kt,pe){return`${kt} ${pe}`}static calculateResult(kt,pe){const St=kt.prev?gt.formats[kt.prev]:void 0;return St?pe/St.max:pe}}gt.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},gt.\u0275fac=function(kt){return new(kt||gt)},gt.\u0275pipe=z.Yjl({name:"nzBytes",type:gt,pure:!0});let ze=(()=>{class je{transform(pe,St="px"){let Br="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(Pi=>Pi===St)&&(Br=St),"number"==typeof pe?`${pe}${Br}`:`${pe}`}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275pipe=z.Yjl({name:"nzToCssUnit",type:je,pure:!0}),je})(),pn=(()=>{class je{}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275mod=z.oAB({type:je}),je.\u0275inj=z.cJS({imports:[[Xe.ez]]}),je})();var tt=I(655),en=I(1159),xt=I(226),jt=I(4832);const Hn=["nz-modal-close",""];function or(je,kt){if(1&je&&(z.ynx(0),z._UZ(1,"i",2),z.BQk()),2&je){const pe=kt.$implicit;z.xp6(1),z.Q6J("nzType",pe)}}const _r=["modalElement"];function gr(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",16),z.NdJ("click",function(){return z.CHM(pe),z.oxw().onCloseClick()}),z.qZA()}}function xi(je,kt){if(1&je&&(z.ynx(0),z._UZ(1,"span",17),z.BQk()),2&je){const pe=z.oxw();z.xp6(1),z.Q6J("innerHTML",pe.config.nzTitle,z.oJD)}}function oi(je,kt){}function Or(je,kt){if(1&je&&z._UZ(0,"div",17),2&je){const pe=z.oxw();z.Q6J("innerHTML",pe.config.nzContent,z.oJD)}}function bi(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",18),z.NdJ("click",function(){return z.CHM(pe),z.oxw().onCancel()}),z._uU(1),z.qZA()}if(2&je){const pe=z.oxw();z.Q6J("nzLoading",!!pe.config.nzCancelLoading)("disabled",pe.config.nzCancelDisabled),z.uIk("cdkFocusInitial","cancel"===pe.config.nzAutofocus||null),z.xp6(1),z.hij(" ",pe.config.nzCancelText||pe.locale.cancelText," ")}}function Ni(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",19),z.NdJ("click",function(){return z.CHM(pe),z.oxw().onOk()}),z._uU(1),z.qZA()}if(2&je){const pe=z.oxw();z.Q6J("nzType",pe.config.nzOkType)("nzLoading",!!pe.config.nzOkLoading)("disabled",pe.config.nzOkDisabled)("nzDanger",pe.config.nzOkDanger),z.uIk("cdkFocusInitial","ok"===pe.config.nzAutofocus||null),z.xp6(1),z.hij(" ",pe.config.nzOkText||pe.locale.okText," ")}}const Ui=["nz-modal-title",""];function rr(je,kt){if(1&je&&(z.ynx(0),z._UZ(1,"div",2),z.BQk()),2&je){const pe=z.oxw();z.xp6(1),z.Q6J("innerHTML",pe.config.nzTitle,z.oJD)}}const pr=["nz-modal-footer",""];function Mi(je,kt){if(1&je&&z._UZ(0,"div",5),2&je){const pe=z.oxw(3);z.Q6J("innerHTML",pe.config.nzFooter,z.oJD)}}function mi(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",7),z.NdJ("click",function(){const zn=z.CHM(pe).$implicit;return z.oxw(4).onButtonClick(zn)}),z._uU(1),z.qZA()}if(2&je){const pe=kt.$implicit,St=z.oxw(4);z.Q6J("hidden",!St.getButtonCallableProp(pe,"show"))("nzLoading",St.getButtonCallableProp(pe,"loading"))("disabled",St.getButtonCallableProp(pe,"disabled"))("nzType",pe.type)("nzDanger",pe.danger)("nzShape",pe.shape)("nzSize",pe.size)("nzGhost",pe.ghost),z.xp6(1),z.hij(" ",pe.label," ")}}function ao(je,kt){if(1&je&&(z.ynx(0),z.YNc(1,mi,2,9,"button",6),z.BQk()),2&je){const pe=z.oxw(3);z.xp6(1),z.Q6J("ngForOf",pe.buttons)}}function Kn(je,kt){if(1&je&&(z.ynx(0),z.YNc(1,Mi,1,1,"div",3),z.YNc(2,ao,2,1,"ng-container",4),z.BQk()),2&je){const pe=z.oxw(2);z.xp6(1),z.Q6J("ngIf",!pe.buttonsFooter),z.xp6(1),z.Q6J("ngIf",pe.buttonsFooter)}}const qt=function(je,kt){return{$implicit:je,modalRef:kt}};function ue(je,kt){if(1&je&&(z.ynx(0),z.YNc(1,Kn,3,2,"ng-container",2),z.BQk()),2&je){const pe=z.oxw();z.xp6(1),z.Q6J("nzStringTemplateOutlet",pe.config.nzFooter)("nzStringTemplateOutletContext",z.WLB(2,qt,pe.config.nzComponentParams,pe.modalRef))}}function Ye(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",10),z.NdJ("click",function(){return z.CHM(pe),z.oxw(2).onCancel()}),z._uU(1),z.qZA()}if(2&je){const pe=z.oxw(2);z.Q6J("nzLoading",!!pe.config.nzCancelLoading)("disabled",pe.config.nzCancelDisabled),z.uIk("cdkFocusInitial","cancel"===pe.config.nzAutofocus||null),z.xp6(1),z.hij(" ",pe.config.nzCancelText||pe.locale.cancelText," ")}}function At(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",11),z.NdJ("click",function(){return z.CHM(pe),z.oxw(2).onOk()}),z._uU(1),z.qZA()}if(2&je){const pe=z.oxw(2);z.Q6J("nzType",pe.config.nzOkType)("nzDanger",pe.config.nzOkDanger)("nzLoading",!!pe.config.nzOkLoading)("disabled",pe.config.nzOkDisabled),z.uIk("cdkFocusInitial","ok"===pe.config.nzAutofocus||null),z.xp6(1),z.hij(" ",pe.config.nzOkText||pe.locale.okText," ")}}function Xt(je,kt){if(1&je&&(z.YNc(0,Ye,2,4,"button",8),z.YNc(1,At,2,6,"button",9)),2&je){const pe=z.oxw();z.Q6J("ngIf",null!==pe.config.nzCancelText),z.xp6(1),z.Q6J("ngIf",null!==pe.config.nzOkText)}}function dt(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"button",9),z.NdJ("click",function(){return z.CHM(pe),z.oxw().onCloseClick()}),z.qZA()}}function $e(je,kt){1&je&&z._UZ(0,"div",10)}function fe(je,kt){}function We(je,kt){if(1&je&&z._UZ(0,"div",11),2&je){const pe=z.oxw();z.Q6J("innerHTML",pe.config.nzContent,z.oJD)}}function ve(je,kt){if(1&je){const pe=z.EpF();z.TgZ(0,"div",12),z.NdJ("cancelTriggered",function(){return z.CHM(pe),z.oxw().onCloseClick()})("okTriggered",function(){return z.CHM(pe),z.oxw().onOkClick()}),z.qZA()}if(2&je){const pe=z.oxw();z.Q6J("modalRef",pe.modalRef)}}const Ie=()=>{};class Tt{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=Ie,this.nzOnOk=Ie,this.nzIconType="question-circle"}}const Tn="ant-modal-mask",ar="modal",br={modalContainer:(0,lt.X$)("modalContainer",[(0,lt.SB)("void, exit",(0,lt.oB)({})),(0,lt.SB)("enter",(0,lt.oB)({})),(0,lt.eR)("* => enter",(0,lt.jt)(".24s",(0,lt.oB)({}))),(0,lt.eR)("* => void, * => exit",(0,lt.jt)(".2s",(0,lt.oB)({})))])};function fn(je,kt,pe){return void 0===je?void 0===kt?pe:kt:je}function er(){throw Error("Attempting to attach modal content after content is already attached")}let Lr=(()=>{class je extends G.en{constructor(pe,St,yn,zn,sr,Mr,Br,Pi,$r,Vn){super(),this.ngZone=pe,this.host=St,this.focusTrapFactory=yn,this.cdr=zn,this.render=sr,this.overlayRef=Mr,this.nzConfigService=Br,this.config=Pi,this.animationType=Vn,this.animationStateChanged=new z.vpe,this.containerClick=new z.vpe,this.cancelTriggered=new z.vpe,this.okTriggered=new z.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new Se.x,this.document=$r,this.dir=Mr.getDirection(),this.isStringContent="string"==typeof Pi.nzContent,this.nzConfigService.getConfigChangeEventForComponent(ar).pipe((0,ke.R)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}get showMask(){const pe=this.nzConfigService.getConfigForComponent(ar)||{};return!!fn(this.config.nzMask,pe.nzMask,!0)}get maskClosable(){const pe=this.nzConfigService.getConfigForComponent(ar)||{};return!!fn(this.config.nzMaskClosable,pe.nzMaskClosable,!0)}onContainerClick(pe){pe.target===pe.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(pe){return this.portalOutlet.hasAttached()&&er(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(pe)}attachTemplatePortal(pe){return this.portalOutlet.hasAttached()&&er(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(pe)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const pe=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const St=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),yn=(0,be.pW)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(pe,"transform-origin",`${yn.left+St.width/2-pe.offsetLeft}px ${yn.top+St.height/2-pe.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.host.nativeElement.focus())))}trapFocus(){const pe=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const St=this.document.activeElement;St!==pe&&!pe.contains(St)&&pe.focus()}}restoreFocus(){const pe=this.elementFocusedBeforeModalWasOpened;if(pe&&"function"==typeof pe.focus){const St=this.document.activeElement,yn=this.host.nativeElement;(!St||St===this.document.body||St===yn||yn.contains(St))&&pe.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const pe=this.modalElementRef.nativeElement,St=this.overlayRef.backdropElement;pe.classList.add("ant-zoom-enter"),pe.classList.add("ant-zoom-enter-active"),St&&(St.classList.add("ant-fade-enter"),St.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const pe=this.modalElementRef.nativeElement;pe.classList.add("ant-zoom-leave"),pe.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(pe=!1){const St=this.overlayRef.backdropElement;if(St){if(this.animationDisabled()||pe)return void St.classList.remove(Tn);St.classList.add("ant-fade-leave"),St.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const pe=this.overlayRef.backdropElement,St=this.modalElementRef.nativeElement;pe&&(pe.classList.remove("ant-fade-enter"),pe.classList.remove("ant-fade-enter-active")),St.classList.remove("ant-zoom-enter"),St.classList.remove("ant-zoom-enter-active"),St.classList.remove("ant-zoom-leave"),St.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const pe=this.overlayRef.backdropElement;pe&&(0,be.DX)(this.config.nzZIndex)&&this.render.setStyle(pe,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const pe=this.overlayRef.backdropElement;if(pe&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(yn=>{this.render.removeStyle(pe,yn)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const St=Object.assign({},this.config.nzMaskStyle);Object.keys(St).forEach(yn=>{this.render.setStyle(pe,yn,St[yn])}),this.oldMaskStyle=St}}updateMaskClassname(){const pe=this.overlayRef.backdropElement;pe&&(this.showMask?pe.classList.add(Tn):pe.classList.remove(Tn))}onAnimationDone(pe){"enter"===pe.toState?this.trapFocus():"exit"===pe.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(pe)}onAnimationStart(pe){"enter"===pe.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===pe.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(pe)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}setupMouseListeners(pe){this.ngZone.runOutsideAngular(()=>{(0,Ee.R)(this.host.nativeElement,"mouseup").pipe((0,ke.R)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,Ee.R)(pe.nativeElement,"mousedown").pipe((0,ke.R)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}}return je.\u0275fac=function(pe){z.$Z()},je.\u0275dir=z.lG2({type:je,features:[z.qOj]}),je})(),Er=(()=>{class je{constructor(pe){this.config=pe}}return je.\u0275fac=function(pe){return new(pe||je)(z.Y36(Tt))},je.\u0275cmp=z.Xpm({type:je,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:Hn,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(pe,St){1&pe&&(z.TgZ(0,"span",0),z.YNc(1,or,2,1,"ng-container",1),z.qZA()),2&pe&&(z.xp6(1),z.Q6J("nzStringTemplateOutlet",St.config.nzCloseIcon))},directives:[On.f,w.w,Yt.Ls],encapsulation:2,changeDetection:0}),je})(),dr=(()=>{class je extends Lr{constructor(pe,St,yn,zn,sr,Mr,Br,Pi,$r,Vn,Rr){super(pe,yn,zn,sr,Mr,Br,Pi,$r,Vn,Rr),this.i18n=St,this.config=$r,this.cancelTriggered=new z.vpe,this.okTriggered=new z.vpe,this.i18n.localeChange.pipe((0,ke.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}}return je.\u0275fac=function(pe){return new(pe||je)(z.Y36(z.R0b),z.Y36(Jt.wi),z.Y36(z.SBq),z.Y36(Lt.qV),z.Y36(z.sBO),z.Y36(z.Qsj),z.Y36(x.Iu),z.Y36(ct.jY),z.Y36(Tt),z.Y36(Xe.K0,8),z.Y36(Je.Qb,8))},je.\u0275cmp=z.Xpm({type:je,selectors:[["nz-modal-confirm-container"]],viewQuery:function(pe,St){if(1&pe&&(z.Gf(G.Pl,7),z.Gf(_r,7)),2&pe){let yn;z.iGM(yn=z.CRH())&&(St.portalOutlet=yn.first),z.iGM(yn=z.CRH())&&(St.modalElementRef=yn.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(pe,St){1&pe&&(z.WFA("@modalContainer.start",function(zn){return St.onAnimationStart(zn)})("@modalContainer.done",function(zn){return St.onAnimationDone(zn)}),z.NdJ("click",function(zn){return St.onContainerClick(zn)})),2&pe&&(z.d8E("@.disabled",St.config.nzNoAnimation)("@modalContainer",St.state),z.Tol(St.config.nzWrapClassName?"ant-modal-wrap "+St.config.nzWrapClassName:"ant-modal-wrap"),z.Udp("z-index",St.config.nzZIndex),z.ekj("ant-modal-wrap-rtl","rtl"===St.dir)("ant-modal-centered",St.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[z.qOj],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(pe,St){1&pe&&(z.TgZ(0,"div",0,1),z.ALo(2,"nzToCssUnit"),z.TgZ(3,"div",2),z.YNc(4,gr,1,0,"button",3),z.TgZ(5,"div",4)(6,"div",5)(7,"div",6),z._UZ(8,"i",7),z.TgZ(9,"span",8),z.YNc(10,xi,2,1,"ng-container",9),z.qZA(),z.TgZ(11,"div",10),z.YNc(12,oi,0,0,"ng-template",11),z.YNc(13,Or,1,1,"div",12),z.qZA()(),z.TgZ(14,"div",13),z.YNc(15,bi,2,4,"button",14),z.YNc(16,Ni,2,6,"button",15),z.qZA()()()()()),2&pe&&(z.Udp("width",z.lcZ(2,11,null==St.config?null:St.config.nzWidth)),z.Q6J("ngClass",St.config.nzClassName)("ngStyle",St.config.nzStyle),z.xp6(4),z.Q6J("ngIf",St.config.nzClosable),z.xp6(1),z.Q6J("ngStyle",St.config.nzBodyStyle),z.xp6(3),z.Q6J("nzType",St.config.nzIconType),z.xp6(2),z.Q6J("nzStringTemplateOutlet",St.config.nzTitle),z.xp6(3),z.Q6J("ngIf",St.isStringContent),z.xp6(2),z.Q6J("ngIf",null!==St.config.nzCancelText),z.xp6(1),z.Q6J("ngIf",null!==St.config.nzOkText))},directives:[Er,se.ix,Xe.mk,Xe.PC,Xe.O5,w.w,Yt.Ls,On.f,G.Pl,ot.dQ],pipes:[ze],encapsulation:2,data:{animation:[br.modalContainer]}}),je})(),Bt=(()=>{class je{constructor(pe){this.config=pe}}return je.\u0275fac=function(pe){return new(pe||je)(z.Y36(Tt))},je.\u0275cmp=z.Xpm({type:je,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:Ui,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(pe,St){1&pe&&(z.TgZ(0,"div",0),z.YNc(1,rr,2,1,"ng-container",1),z.qZA()),2&pe&&(z.xp6(1),z.Q6J("nzStringTemplateOutlet",St.config.nzTitle))},directives:[On.f],encapsulation:2,changeDetection:0}),je})(),wt=(()=>{class je{constructor(pe,St){this.i18n=pe,this.config=St,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new z.vpe,this.okTriggered=new z.vpe,this.destroy$=new Se.x,Array.isArray(St.nzFooter)&&(this.buttonsFooter=!0,this.buttons=St.nzFooter.map(Be)),this.i18n.localeChange.pipe((0,ke.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(pe,St){const yn=pe[St],zn=this.modalRef.getContentComponent();return"function"==typeof yn?yn.apply(pe,zn&&[zn]):yn}onButtonClick(pe){if(!this.getButtonCallableProp(pe,"loading")){const yn=this.getButtonCallableProp(pe,"onClick");pe.autoLoading&&(0,be.tI)(yn)&&(pe.loading=!0,yn.then(()=>pe.loading=!1).catch(zn=>{throw pe.loading=!1,zn}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return je.\u0275fac=function(pe){return new(pe||je)(z.Y36(Jt.wi),z.Y36(Tt))},je.\u0275cmp=z.Xpm({type:je,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:pr,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(pe,St){if(1&pe&&(z.YNc(0,ue,2,5,"ng-container",0),z.YNc(1,Xt,2,2,"ng-template",null,1,z.W1O)),2&pe){const yn=z.MAs(2);z.Q6J("ngIf",St.config.nzFooter)("ngIfElse",yn)}},directives:[se.ix,Xe.O5,On.f,Xe.sg,ot.dQ,w.w],encapsulation:2}),je})();function Be(je){return Object.assign({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},je)}let xe=(()=>{class je extends Lr{constructor(pe,St,yn,zn,sr,Mr,Br,Pi,$r,Vn){super(pe,St,yn,zn,sr,Mr,Br,Pi,$r,Vn),this.config=Pi}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}}return je.\u0275fac=function(pe){return new(pe||je)(z.Y36(z.R0b),z.Y36(z.SBq),z.Y36(Lt.qV),z.Y36(z.sBO),z.Y36(z.Qsj),z.Y36(x.Iu),z.Y36(ct.jY),z.Y36(Tt),z.Y36(Xe.K0,8),z.Y36(Je.Qb,8))},je.\u0275cmp=z.Xpm({type:je,selectors:[["nz-modal-container"]],viewQuery:function(pe,St){if(1&pe&&(z.Gf(G.Pl,7),z.Gf(_r,7)),2&pe){let yn;z.iGM(yn=z.CRH())&&(St.portalOutlet=yn.first),z.iGM(yn=z.CRH())&&(St.modalElementRef=yn.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(pe,St){1&pe&&(z.WFA("@modalContainer.start",function(zn){return St.onAnimationStart(zn)})("@modalContainer.done",function(zn){return St.onAnimationDone(zn)}),z.NdJ("click",function(zn){return St.onContainerClick(zn)})),2&pe&&(z.d8E("@.disabled",St.config.nzNoAnimation)("@modalContainer",St.state),z.Tol(St.config.nzWrapClassName?"ant-modal-wrap "+St.config.nzWrapClassName:"ant-modal-wrap"),z.Udp("z-index",St.config.nzZIndex),z.ekj("ant-modal-wrap-rtl","rtl"===St.dir)("ant-modal-centered",St.config.nzCentered))},exportAs:["nzModalContainer"],features:[z.qOj],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(pe,St){1&pe&&(z.TgZ(0,"div",0,1),z.ALo(2,"nzToCssUnit"),z.TgZ(3,"div",2),z.YNc(4,dt,1,0,"button",3),z.YNc(5,$e,1,0,"div",4),z.TgZ(6,"div",5),z.YNc(7,fe,0,0,"ng-template",6),z.YNc(8,We,1,1,"div",7),z.qZA(),z.YNc(9,ve,1,1,"div",8),z.qZA()()),2&pe&&(z.Udp("width",z.lcZ(2,9,null==St.config?null:St.config.nzWidth)),z.Q6J("ngClass",St.config.nzClassName)("ngStyle",St.config.nzStyle),z.xp6(4),z.Q6J("ngIf",St.config.nzClosable),z.xp6(1),z.Q6J("ngIf",St.config.nzTitle),z.xp6(1),z.Q6J("ngStyle",St.config.nzBodyStyle),z.xp6(2),z.Q6J("ngIf",St.isStringContent),z.xp6(1),z.Q6J("ngIf",null!==St.config.nzFooter))},directives:[Er,Bt,wt,Xe.mk,Xe.PC,Xe.O5,G.Pl],pipes:[ze],encapsulation:2,data:{animation:[br.modalContainer]}}),je})();class Nt{constructor(kt,pe,St){this.overlayRef=kt,this.config=pe,this.containerInstance=St,this.componentInstance=null,this.state=0,this.afterClose=new Se.x,this.afterOpen=new Se.x,this.destroy$=new Se.x,St.animationStateChanged.pipe((0,Ae.h)(yn=>"done"===yn.phaseName&&"enter"===yn.toState),(0,Ve.q)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),pe.nzAfterOpen instanceof z.vpe&&pe.nzAfterOpen.emit()}),St.animationStateChanged.pipe((0,Ae.h)(yn=>"done"===yn.phaseName&&"exit"===yn.toState),(0,Ve.q)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),St.containerClick.pipe((0,Ve.q)(1),(0,ke.R)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),kt.keydownEvents().pipe((0,Ae.h)(yn=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&yn.keyCode===en.hY&&!(0,en.Vb)(yn))).subscribe(yn=>{yn.preventDefault(),this.trigger("cancel")}),St.cancelTriggered.pipe((0,ke.R)(this.destroy$)).subscribe(()=>this.trigger("cancel")),St.okTriggered.pipe((0,ke.R)(this.destroy$)).subscribe(()=>this.trigger("ok")),kt.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),pe.nzAfterClose instanceof z.vpe&&pe.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(kt){this.close(kt)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(kt){0===this.state&&(this.result=kt,this.containerInstance.animationStateChanged.pipe((0,Ae.h)(pe=>"start"===pe.phaseName),(0,Ve.q)(1)).subscribe(pe=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},pe.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(kt){Object.assign(this.config,kt),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(kt){return(0,tt.mG)(this,void 0,void 0,function*(){const pe={ok:this.config.nzOnOk,cancel:this.config.nzOnCancel}[kt],St={ok:"nzOkLoading",cancel:"nzCancelLoading"}[kt];if(!this.config[St])if(pe instanceof z.vpe)pe.emit(this.getContentComponent());else if("function"==typeof pe){const zn=pe(this.getContentComponent());if((0,be.tI)(zn)){this.config[St]=!0;let sr=!1;try{sr=yield zn}finally{this.config[St]=!1,this.closeWhitResult(sr)}}else this.closeWhitResult(zn)}})}closeWhitResult(kt){!1!==kt&&this.close(kt)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let an=(()=>{class je{constructor(pe,St,yn,zn,sr){this.overlay=pe,this.injector=St,this.nzConfigService=yn,this.parentModal=zn,this.directionality=sr,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new Se.x,this.afterAllClose=(0,Fe.P)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,Pe.O)(void 0)))}get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const pe=this.parentModal;return pe?pe._afterAllClosed:this.afterAllClosedAtThisLevel}create(pe){return this.open(pe.nzContent,pe)}closeAll(){this.closeModals(this.openModals)}confirm(pe={},St="confirm"){return"nzFooter"in pe&&(0,Oe.ZK)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in pe||(pe.nzWidth=416),"nzMaskClosable"in pe||(pe.nzMaskClosable=!1),pe.nzModalType="confirm",pe.nzClassName=`ant-modal-confirm ant-modal-confirm-${St} ${pe.nzClassName||""}`,this.create(pe)}info(pe={}){return this.confirmFactory(pe,"info")}success(pe={}){return this.confirmFactory(pe,"success")}error(pe={}){return this.confirmFactory(pe,"error")}warning(pe={}){return this.confirmFactory(pe,"warning")}open(pe,St){const yn=function Vt(je,kt){return Object.assign(Object.assign({},kt),je)}(St||{},new Tt),zn=this.createOverlay(yn),sr=this.attachModalContainer(zn,yn),Mr=this.attachModalContent(pe,sr,zn,yn);return sr.modalRef=Mr,this.openModals.push(Mr),Mr.afterClose.subscribe(()=>this.removeOpenModal(Mr)),Mr}removeOpenModal(pe){const St=this.openModals.indexOf(pe);St>-1&&(this.openModals.splice(St,1),this.openModals.length||this._afterAllClosed.next())}closeModals(pe){let St=pe.length;for(;St--;)pe[St].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(pe){const St=this.nzConfigService.getConfigForComponent(ar)||{},yn=new x.X_({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:fn(pe.nzCloseOnNavigation,St.nzCloseOnNavigation,!0),direction:fn(pe.nzDirection,St.nzDirection,this.directionality.value)});return fn(pe.nzMask,St.nzMask,!0)&&(yn.backdropClass=Tn),this.overlay.create(yn)}attachModalContainer(pe,St){const zn=z.zs3.create({parent:St&&St.nzViewContainerRef&&St.nzViewContainerRef.injector||this.injector,providers:[{provide:x.Iu,useValue:pe},{provide:Tt,useValue:St}]}),Mr=new G.C5("confirm"===St.nzModalType?dr:xe,St.nzViewContainerRef,zn);return pe.attach(Mr).instance}attachModalContent(pe,St,yn,zn){const sr=new Nt(yn,zn,St);if(pe instanceof z.Rgc)St.attachTemplatePortal(new G.UE(pe,null,{$implicit:zn.nzComponentParams,modalRef:sr}));else if((0,be.DX)(pe)&&"string"!=typeof pe){const Mr=this.createInjector(sr,zn),Br=St.attachComponentPortal(new G.C5(pe,zn.nzViewContainerRef,Mr));(function mn(je,kt){Object.assign(je,kt)})(Br.instance,zn.nzComponentParams),sr.componentInstance=Br.instance}else St.attachStringContent();return sr}createInjector(pe,St){return z.zs3.create({parent:St&&St.nzViewContainerRef&&St.nzViewContainerRef.injector||this.injector,providers:[{provide:Nt,useValue:pe}]})}confirmFactory(pe={},St){return"nzIconType"in pe||(pe.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[St]),"nzCancelText"in pe||(pe.nzCancelText=null),this.confirm(pe,St)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}}return je.\u0275fac=function(pe){return new(pe||je)(z.LFG(x.aV),z.LFG(z.zs3),z.LFG(ct.jY),z.LFG(je,12),z.LFG(xt.Is,8))},je.\u0275prov=z.Yz7({token:je,factory:je.\u0275fac}),je})(),Ke=(()=>{class je{}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275mod=z.oAB({type:je}),je.\u0275inj=z.cJS({providers:[an],imports:[[Xe.ez,xt.vT,x.U8,On.T,G.eL,Jt.YI,se.sL,Yt.PV,pn,jt.g,pn]]}),je})()}},Dn=>{Dn(Dn.s=7628)}]);